# üìã –ö–†–ê–¢–ö–û–ï –†–ï–ó–Æ–ú–ï –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê MINIMALSELLER

> **–î–∞—Ç–∞**: 11 —Ñ–µ–≤—Ä–∞–ª—è 2026  
> **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–ª–∞–Ω —É—Ç–≤–µ—Ä–∂–¥–µ–Ω (LGTM)

---

## üéØ –ì–õ–ê–í–ù–ê–Ø –¶–ï–õ–¨

–ò—Å–ø—Ä–∞–≤–∏—Ç—å **–æ—à–∏–±–∫—É 500 –ø—Ä–∏ –≤—Ö–æ–¥–µ** –∏ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

---

## üö® –¢–û–ü-5 –ö–†–ò–¢–ò–ß–ï–°–ö–ò–• –ü–†–û–ë–õ–ï–ú

### 1. ‚õî –û—à–∏–±–∫–∞ 500 –ø—Ä–∏ –≤—Ö–æ–¥–µ

**Root Cause**: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª–µ–π –≤ –ë–î

- –°—Ç–∞—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: `hashed_password`
- –ù–æ–≤—ã–π –∫–æ–¥ –æ–∂–∏–¥–∞–µ—Ç: `password_hash`

**–†–µ—à–µ–Ω–∏–µ**: –ú–∏–≥—Ä–∞—Ü–∏—è –ø–æ–ª–µ–π + –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤

---

### 2. üîì CORS = "\*" (–í–°–ï –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã)

**–§–∞–π–ª**: `backend/server.py:47`  
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `settings.cors_origins_list` –∏–∑ .env

---

### 3. üîë JWT_SECRET = "CHANGE_ME"

**–§–∞–π–ª**: `backend/config.py:11`  
**–†–µ—à–µ–Ω–∏–µ**: –£—Å–∏–ª–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é (–º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞)

---

### 4. üö´ Rate Limiting –ù–ï –∞–∫—Ç–∏–≤–µ–Ω

**–ü—Ä–æ–±–ª–µ–º–∞**: –í–æ–∑–º–æ–∂–Ω—ã brute-force –∞—Ç–∞–∫–∏ –Ω–∞ /api/auth/login  
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å `@limiter.limit("5/minute")`

---

### 5. üì¶ connectors.py (99KB –º–æ–Ω–æ–ª–∏—Ç)

**–ü—Ä–æ–±–ª–µ–º–∞**: Ozon + WB + Yandex –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ  
**–†–µ—à–µ–Ω–∏–µ**: –†–∞–∑–±–∏—Ç—å –Ω–∞ –º–æ–¥—É–ª–∏ –≤ `backend/connectors/`

---

## üóìÔ∏è ROADMAP (3 –Ω–µ–¥–µ–ª–∏)

### ‚úÖ Week 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- **–î–µ–Ω—å 1-2**: –û—à–∏–±–∫–∞ 500
  - –ú–∏–≥—Ä–∞—Ü–∏—è `password_hash`
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ init_db.py
- **–î–µ–Ω—å 3-4**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
  - CORS, JWT, Rate Limiting
- **–î–µ–Ω—å 5**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### üîß Week 2: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

- **–î–µ–Ω—å 1-3**: –ú–æ–¥—É–ª—è—Ä–∏–∑–∞—Ü–∏—è `connectors.py`
- **–î–µ–Ω—å 4-5**: Frontend cleanup
  - –£–¥–∞–ª–µ–Ω–∏–µ legacy App –≤–µ—Ä—Å–∏–π
  - –†–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è 70 —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ –¥–æ–º–µ–Ω–∞–º

### üß™ Week 3: –ö–∞—á–µ—Å—Ç–≤–æ –∏ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è

- **–î–µ–Ω—å 1-2**: Unit + Integration —Ç–µ—Å—Ç—ã
- **–î–µ–Ω—å 3**: Security audit
- **–î–µ–Ω—å 4**: Performance optimization
- **–î–µ–Ω—å 5**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üìù –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –ù–ï–ú–ï–î–õ–ï–ù–ù–û

### 1. –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î (CRITICAL!)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏:
python backend/scripts/migrate_password_hash.py
```

### 2. –û–±–Ω–æ–≤–∏—Ç—å .env

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ backend/.env:
JWT_SECRET=–≤–∞—à_—Å–ª—É—á–∞–π–Ω—ã–π_–∫–ª—é—á_–º–∏–Ω–∏–º—É–º_32_—Å–∏–º–≤–æ–ª–∞
CORS_ORIGINS=http://localhost:5173,https://your-production.com
```

### 3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã

- `backend/init_db.py` - –∑–∞–º–µ–Ω–∏—Ç—å `hashed_password` ‚Üí `password_hash`
- `backend/scripts/init_db.py` - –∑–∞–º–µ–Ω–∏—Ç—å `hashed_password` ‚Üí `password_hash`
- `backend/scripts/reset_password.py` - –∑–∞–º–µ–Ω–∏—Ç—å `hashed_password` ‚Üí `password_hash`

---

## ‚úÖ –ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò

### Must Have (–¥–ª—è Production)

- [x] –û—à–∏–±–∫–∞ 500 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- [ ] CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] JWT_SECRET –∏–∑–º–µ–Ω–µ–Ω
- [ ] Rate limiting –∞–∫—Ç–∏–≤–µ–Ω
- [ ] Password fields –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### Nice to Have (Phase 2-3)

- [ ] `connectors.py` –º–æ–¥—É–ª—è—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω
- [ ] Frontend —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω
- [ ] Test coverage > 80%
- [ ] API keys –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã

---

## üìä –§–ê–ô–õ–´ –î–õ–Ø –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### Phase 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ)

1. `backend/services/auth_service.py:114-134` - –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
2. `backend/init_db.py:29` - –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª–µ
3. `backend/scripts/init_db.py:29` - –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª–µ
4. `backend/scripts/reset_password.py:23` - –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª–µ
5. `backend/server.py:47` - CORS
6. `backend/routers/auth.py:17` - rate limiting
7. `backend/config.py:69-73` - JWT validation

### Phase 2 (–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

8. `backend/connectors.py` ‚Üí —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –º–æ–¥—É–ª–∏
9. `frontend/src/App*.jsx` ‚Üí –æ—Å—Ç–∞–≤–∏—Ç—å –æ–¥–∏–Ω
10. `frontend/src/pages/*` ‚Üí –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–æ–º–µ–Ω–∞–º

---

## üöÄ NEXT ACTION

**–î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω**: –°–º. —Ñ–∞–π–ª [`DEEP_REFACTORING_PLAN.md`](file:///c:/Users/dkuzm/Desktop/MinimalSeller-conflict_201225_0226/DEEP_REFACTORING_PLAN.md)

**–°—Ç–∞—Ç—É—Å**: –û–∂–∏–¥–∞–µ—Ç –Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥—Ä—É–≥–∏–º –∞–≥–µ–Ω—Ç–æ–º

---

**–°–æ–∑–¥–∞–Ω–æ**: Antigravity AI Assistant  
**–£—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ**: ‚úÖ LGTM
