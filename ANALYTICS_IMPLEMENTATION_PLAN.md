# üìä –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò –°–ò–°–¢–ï–ú–´ –ê–ù–ê–õ–ò–¢–ò–ö–ò –° –ó–ê–ì–†–£–ó–ö–û–ô –û–¢–ß–ï–¢–û–í

## üéØ –¶–ï–õ–¨
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –æ—Ç—á–µ—Ç–æ–≤ –∏–∑ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤ (Ozon, Wildberries, –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç), 
—É—á–µ—Ç–æ–º —Å–∏—Å—Ç–µ–º—ã –±–∞–ª–ª–æ–≤ Ozon –∏ —Ç–æ—á–Ω—ã–º —Ä–∞—Å—á–µ—Ç–æ–º –≤—Å–µ—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–∫–∞–∑–∞.

---

## üìö –ò–ó–£–ß–ï–ù–ù–´–ï –ú–ê–¢–ï–†–ò–ê–õ–´

### 1. –°–∏—Å—Ç–µ–º–∞ Selsup (—ç—Ç–∞–ª–æ–Ω)
‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏–∑—É—á–µ–Ω (–≤—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ)
‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç—á–µ—Ç–æ–≤: –î–æ—Ö–æ–¥—ã, –†–∞—Å—Ö–æ–¥—ã, –°–µ—Ä–≤–∏—Å—ã
‚úÖ –°–≤–µ—Ä–∫–∞ —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏ –ø–æ —Ç—Ä–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º

### 2. –°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤ Ozon (–ö–†–ò–¢–ò–ß–ù–û!)
- –ü—Ä–æ–¥–∞–≤–µ—Ü –Ω–∞—á–∏—Å–ª—è–µ—Ç –±–æ–Ω—É—Å—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è–º (1 –±–∞–ª–ª = 1‚ÇΩ)
- **Ozon –±–µ—Ä–µ—Ç –∫–æ–º–∏—Å—Å–∏—é 9% –æ—Ç –ù–ê–ß–ò–°–õ–ï–ù–ù–´–• –±–æ–Ω—É—Å–æ–≤**
- –ü–æ–∫—É–ø–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ–ø–ª–∞—Ç–∏—Ç—å –¥–æ 25% –∑–∞–∫–∞–∑–∞ –±–æ–Ω—É—Å–∞–º–∏  
- **–ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ:** –±–æ–Ω—É—Å—ã –∞–Ω–Ω—É–ª–∏—Ä—É—é—Ç—Å—è, –ù–û –∫–æ–º–∏—Å—Å–∏—è 9% –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è!
- –ú–∞–∫—Å–∏–º—É–º 30,000 –±–∞–ª–ª–æ–≤ –Ω–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: 12 –º–µ—Å—è—Ü–µ–≤

### 3. –î–æ–∫—É–º–µ–Ω—Ç—ã –∏–∑ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤

#### OZON (7-10 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤):
1. **–û—Ç—á–µ—Ç –æ —Å—É–º–º–∞—Ö —É—Å–ª—É–≥ –∏ —Ä–∞—Å—Ö–æ–¥–∞—Ö –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é** - –í—ã—Ä—É—á–∫–∞, –õ–æ–≥–∏—Å—Ç–∏–∫–∞
2. **–£–ü–î-1 –∫ –æ—Ç—á–µ—Ç—É –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** - –£—Å–ª—É–≥–∏ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
3. **–û—Ç—á–µ—Ç –æ –ø–µ—Ä–µ–≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ —É—Å–ª—É–≥** - –ü—Ä–æ—á–∏–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è
4. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** (`/v3/finance/transaction/list`) - –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
5. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è** (`/v2/finance/realization`) - –û—Ç—á–µ—Ç –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
6. **B2B –ø—Ä–æ–¥–∞–∂–∏** (`/v1/finance/document-b2b-sales`) - –†–µ–µ—Å—Ç—Ä –ø—Ä–æ–¥–∞–∂ —é—Ä–ª–∏—Ü–∞–º
7. **–í–∑–∞–∏–º–æ—Ä–∞—Å—á–µ—Ç—ã** (`/v1/finance/mutual-settlement`) - –í–∑–∞–∏–º–æ–∑–∞—á–µ—Ç—ã
8. **–î–≤–∏–∂–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤** (`/v1/finance/cash-flow-statement/list`) - Cash flow
9. **–ë–∞–ª–ª—ã –∑–∞ —Å–∫–∏–¥–∫–∏** - –ù–∞—á–∏—Å–ª–µ–Ω–Ω—ã–µ/—Å–ø–∏—Å–∞–Ω–Ω—ã–µ –±–∞–ª–ª—ã
10. **–ê–∫—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç (–£–ü–î)** - –î–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏–∏

#### WILDBERRIES:
1. **–û—Ç—á–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** - –ü—Ä–æ–¥–∞–∂–∏ –º–∏–Ω—É—Å –≤–æ–∑–≤—Ä–∞—Ç—ã
2. **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è** - –õ–æ–≥–∏—Å—Ç–∏–∫–∞, —à—Ç—Ä–∞—Ñ—ã, —Ö—Ä–∞–Ω–µ–Ω–∏–µ, –ø—Ä–æ—á–∏–µ —É–¥–µ—Ä–∂–∞–Ω–∏—è
3. **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç** - –í—Å–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –∏ —É–¥–µ—Ä–∂–∞–Ω–∏—è

#### –Ø–ù–î–ï–ö–°.–ú–ê–†–ö–ï–¢:
1. **–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á–µ—Ç –ø–æ –∑–∞–∫–∞–∑–∞–º** - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π (–ø–æ –¥–∞—Ç–µ "–°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–µ–Ω")
2. **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —É—Å–ª—É–≥** - –ö–æ–º–∏—Å—Å–∏–∏ –∏ —É—Å–ª—É–≥–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

---

## üî• –ö–õ–Æ–ß–ï–í–ê–Ø –ü–†–û–ë–õ–ï–ú–ê –ò –†–ï–®–ï–ù–ò–ï

### –ü—Ä–æ–±–ª–µ–º–∞:
**"–£ –¢–ï–ë–Ø –¶–ò–§–†–ò –ò–î–£–¢ –û–ë–©–ò–ï –ê –ù–£–ñ–ù–´ –¢–û–ß–ù–´–ï"**

–î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–æ—á–Ω—ã–º–∏, –ø–æ–¥—Ç—è–≥–∏–≤–∞—Ç—å—Å—è –∏–∑ –∫–∞–∂–¥–æ–≥–æ –ó–ê–ö–ê–ó–ê, –∞ –Ω–µ –±—ã—Ç—å –æ–±—â–∏–º–∏ —Å—É–º–º–∞–º–∏.
–°—Ç–∞—Ç–µ–π —Ä–∞—Å—Ö–æ–¥–æ–≤ –º–Ω–æ–≥–æ, –∏ –∫–∞–∂–¥–∞—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∑–∞–∫–∞–∑—É.

### –†–µ—à–µ–Ω–∏–µ:
**–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –∑–∞–∫–∞–∑–æ–≤ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**

–í–º–µ—Å—Ç–æ –æ–±—â–∏—Ö —Å—É–º–º, —Ö—Ä–∞–Ω–∏–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–∫–∞–∑–∞:
- –í—ã—Ä—É—á–∫–∞ —Å –∑–∞–∫–∞–∑–∞
- –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–æ–≤
- –ö–æ–º–∏—Å—Å–∏—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ (+ 9% –æ—Ç –±–æ–Ω—É—Å–æ–≤ –¥–ª—è Ozon)
- –õ–æ–≥–∏—Å—Ç–∏–∫–∞ (–¥–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è)
- –£—Å–ª—É–≥–∏ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ (—Ö—Ä–∞–Ω–µ–Ω–∏–µ, —ç–∫–≤–∞–π—Ä–∏–Ω–≥ –∏ —Ç.–¥.)
- –ù–∞—á–∏—Å–ª–µ–Ω–Ω—ã–µ/–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –±–∞–ª–ª—ã
- –®—Ç—Ä–∞—Ñ—ã –∏ –ø—Ä–æ—á–∏–µ —É–¥–µ—Ä–∂–∞–Ω–∏—è

–ó–∞—Ç–µ–º –∞–≥—Ä–µ–≥–∏—Ä—É–µ–º —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤.

---

## üíæ –ú–û–î–ï–õ–ò –î–ê–ù–ù–´–• (MongoDB)

### 1. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ (marketplace_transactions)
```javascript
{
  _id: ObjectId,
  seller_id: "user_123",
  marketplace: "ozon",  // "ozon" | "wb" | "yandex"
  
  // –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
  transaction_id: "12345678",  // ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –ú–ü
  order_id: "FBS-OZON-5-0054-1",  // –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞
  posting_number: "12345678-0001-1",  // –ù–æ–º–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  
  // –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  operation_date: ISODate("2024-12-01T10:30:00Z"),
  operation_type: "orders",  // "orders" | "returns" | "services" | "other"
  
  // –§–∏–Ω–∞–Ω—Å—ã (—Ç–æ—á–Ω—ã–µ —Å—É–º–º—ã –ø–æ –∑–∞–∫–∞–∑—É)
  amount: 5000.00,  // –°—É–º–º–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏
  
  // –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤ (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–∫–∞–∑–∞)
  breakdown: {
    // –î–æ—Ö–æ–¥—ã
    sale_amount: 5000.00,  // –°—É–º–º–∞ –ø—Ä–æ–¥–∞–∂–∏
    
    // –†–∞—Å—Ö–æ–¥—ã
    commission: {
      base_commission: 950.00,  // –ë–∞–∑–æ–≤–∞—è –∫–æ–º–∏—Å—Å–∏—è –ú–ü
      bonus_commission: 90.00,  // 9% –æ—Ç –Ω–∞—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤ (Ozon)
      total: 1040.00
    },
    
    logistics: {
      delivery_to_customer: 150.00,  // –î–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
      return_logistics: 0.00,  // –õ–æ–≥–∏—Å—Ç–∏–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞
      last_mile: 50.00,  // –ü–æ—Å–ª–µ–¥–Ω—è—è –º–∏–ª—è
      total: 200.00
    },
    
    services: {
      storage: 10.00,  // –•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ —Å–∫–ª–∞–¥–µ –ú–ü
      acquiring: 75.00,  // –≠–∫–≤–∞–π—Ä–∏–Ω–≥
      pvz_fee: 30.00,  // –í—ã–¥–∞—á–∞ –Ω–∞ –ü–í–ó
      packaging: 15.00,  // –£–ø–∞–∫–æ–≤–∫–∞
      total: 130.00
    },
    
    penalties: {
      late_shipment: 0.00,  // –®—Ç—Ä–∞—Ñ –∑–∞ –ø—Ä–æ—Å—Ä–æ—á–∫—É
      product_damage: 0.00,  // –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
      other: 0.00,
      total: 0.00
    },
    
    other_charges: {
      correction: 0.00,  // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –¥–æ–ª–≥–∞
      compensation: 0.00,  // –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
      total: 0.00
    }
  },
  
  // –°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤ (Ozon)
  bonuses: {
    accrued: 1000,  // –ù–∞—á–∏—Å–ª–µ–Ω–æ –±–æ–Ω—É—Å–æ–≤ –ø–æ–∫—É–ø–∞—Ç–µ–ª—é
    used: 250,  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –±–æ–Ω—É—Å–æ–≤ –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ
    commission_9pct: 90.00,  // –ö–æ–º–∏—Å—Å–∏—è 9% –æ—Ç –Ω–∞—á–∏—Å–ª–µ–Ω–Ω—ã—Ö (1000 * 0.09)
    returned: false,  // –ë—ã–ª –ª–∏ –≤–æ–∑–≤—Ä–∞—Ç (–∞–Ω–Ω—É–ª–∏—Ä—É–µ—Ç –±–æ–Ω—É—Å—ã)
    commission_retained: 0.00  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ
  },
  
  // –¢–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑–µ
  items: [
    {
      product_id: "prod_123",
      sku: "SKU-001",
      name: "–¢–æ–≤–∞—Ä 1",
      quantity: 2,
      price: 2000.00,  // –¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ –∑–∞ –µ–¥.
      purchase_price: 1200.00,  // –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ –µ–¥.
      total_sale: 4000.00,  // price * quantity
      total_cost: 2400.00  // purchase_price * quantity
    }
  ],
  
  // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
  created_at: ISODate("2024-12-01T10:30:00Z"),
  updated_at: ISODate("2024-12-01T10:30:00Z"),
  
  // –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
  data_source: "api",  // "api" | "file_upload"
  raw_data: {...}  // –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –ú–ü –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
}
```

### 2. –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã (marketplace_reports)
```javascript
{
  _id: ObjectId,
  seller_id: "user_123",
  marketplace: "ozon",
  
  // –¢–∏–ø –æ—Ç—á–µ—Ç–∞
  report_type: "transaction_list",  
  // –¢–∏–ø—ã: "transaction_list", "realization", "services", 
  //        "mutual_settlement", "cash_flow", "bonuses"
  
  // –ü–µ—Ä–∏–æ–¥
  period_start: ISODate("2024-11-01T00:00:00Z"),
  period_end: ISODate("2024-11-30T23:59:59Z"),
  
  // –§–∞–π–ª (–µ—Å–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω –≤—Ä—É—á–Ω—É—é)
  file_name: "ozon_report_november_2024.xlsx",
  file_url: "/uploads/reports/...",
  
  // –°—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏
  status: "processed",  // "uploaded" | "processing" | "processed" | "error"
  processed_at: ISODate("2024-12-01T12:00:00Z"),
  
  // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞
  parsed_data: {
    total_transactions: 150,
    total_amount: 750000.00,
    transactions_created: 145,  // –°–∫–æ–ª—å–∫–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å–æ–∑–¥–∞–Ω–æ –≤ –ë–î
    transactions_updated: 5,  // –°–∫–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ
    errors: []  // –û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
  },
  
  // –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
  raw_data: {...},  // –ü–æ–ª–Ω—ã–π JSON –æ—Ç–≤–µ—Ç–∞ –æ—Ç API –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ Excel
  
  // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
  uploaded_at: ISODate("2024-12-01T11:45:00Z"),
  uploaded_by: "user_123"
}
```

### 3. –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (analytics_summary)
```javascript
{
  _id: ObjectId,
  seller_id: "user_123",
  marketplace: "ozon",  // "ozon" | "wb" | "yandex" | "all"
  
  // –ü–µ—Ä–∏–æ–¥
  period: "2024-11",  // YYYY-MM –∏–ª–∏ YYYY-WW –¥–ª—è –Ω–µ–¥–µ–ª–∏
  period_start: ISODate("2024-11-01T00:00:00Z"),
  period_end: ISODate("2024-11-30T23:59:59Z"),
  
  // –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  stats: {
    total_orders: 150,
    total_returns: 5,
    total_items_sold: 320
  },
  
  // –î–æ—Ö–æ–¥—ã
  revenue: {
    gross_sales: 800000.00,  // –í–∞–ª–æ–≤–∞—è –≤—ã—Ä—É—á–∫–∞ (–≤—Å–µ –ø—Ä–æ–¥–∞–∂–∏)
    returns: -15000.00,  // –í–æ–∑–≤—Ä–∞—Ç—ã
    net_sales: 785000.00,  // –ß–∏—Å—Ç–∞—è –≤—ã—Ä—É—á–∫–∞ (–ø—Ä–æ–¥–∞–∂–∏ - –≤–æ–∑–≤—Ä–∞—Ç—ã)
    
    compensations: 2000.00,  // –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –æ—Ç –ú–ü
    other_income: 500.00,  // –ü—Ä–æ—á–∏–µ –¥–æ—Ö–æ–¥—ã
    
    total_revenue: 787500.00  // –ò—Ç–æ–≥–æ –¥–æ—Ö–æ–¥–æ–≤
  },
  
  // –†–∞—Å—Ö–æ–¥—ã
  expenses: {
    // –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
    cogs: 450000.00,  // Cost of Goods Sold
    
    // –ö–æ–º–∏—Å—Å–∏–∏
    commissions: {
      marketplace_base: 120000.00,  // –ë–∞–∑–æ–≤–∞—è –∫–æ–º–∏—Å—Å–∏—è
      bonus_commission: 5400.00,  // 9% –æ—Ç –±–æ–Ω—É—Å–æ–≤ (—Ç–æ–ª—å–∫–æ Ozon)
      total: 125400.00
    },
    
    // –õ–æ–≥–∏—Å—Ç–∏–∫–∞
    logistics: {
      delivery: 35000.00,
      returns: 1500.00,
      last_mile: 8000.00,
      total: 44500.00
    },
    
    // –£—Å–ª—É–≥–∏
    services: {
      storage: 3000.00,
      acquiring: 12000.00,
      pvz_fees: 6000.00,
      packaging: 2500.00,
      advertising: 15000.00,  // –†–µ–∫–ª–∞–º–∞ –Ω–∞ –ú–ü
      total: 38500.00
    },
    
    // –®—Ç—Ä–∞—Ñ—ã
    penalties: {
      late_shipment: 500.00,
      product_damage: 200.00,
      other: 100.00,
      total: 800.00
    },
    
    // –ü—Ä–æ—á–∏–µ —Ä–∞—Å—Ö–æ–¥—ã
    other_expenses: {
      corrections: -300.00,
      other: 200.00,
      total: -100.00
    },
    
    // –ò—Ç–æ–≥–æ —Ä–∞—Å—Ö–æ–¥–æ–≤
    total_expenses: 659100.00
  },
  
  // –ü—Ä–∏–±—ã–ª—å
  profit: {
    gross_profit: 337500.00,  // –í–∞–ª–æ–≤–∞—è –ø—Ä–∏–±—ã–ª—å (–≤—ã—Ä—É—á–∫–∞ - COGS)
    gross_margin_pct: 42.87,  // –í–∞–ª–æ–≤–∞—è –º–∞—Ä–∂–∞ %
    
    operating_profit: 128400.00,  // –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å (–¥–æ –Ω–∞–ª–æ–≥–æ–≤)
    operating_margin_pct: 16.31,  // –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ä–∂–∞ %
    
    // –ù–∞–ª–æ–≥–∏ (—Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã)
    taxes: {
      system: "usn_income",  // "usn_income" | "usn_income_expense" | "osn"
      rate: 6,  // –°—Ç–∞–≤–∫–∞ –≤ %
      taxable_base: 787500.00,
      amount: 47250.00
    },
    
    net_profit: 81150.00,  // –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å (–ø–æ—Å–ª–µ –Ω–∞–ª–æ–≥–æ–≤)
    net_margin_pct: 10.30  // –ß–∏—Å—Ç–∞—è –º–∞—Ä–∂–∞ %
  },
  
  // –°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤ Ozon
  bonuses: {
    total_accrued: 60000,  // –í—Å–µ–≥–æ –Ω–∞—á–∏—Å–ª–µ–Ω–æ –±–æ–Ω—É—Å–æ–≤
    total_used: 15000,  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è–º–∏
    commission_paid: 5400.00,  // –ö–æ–º–∏—Å—Å–∏—è 9% —É–ø–ª–∞—á–µ–Ω–Ω–∞—è
    active_balance: 45000  // –ê–∫—Ç–∏–≤–Ω—ã–π –±–∞–ª–∞–Ω—Å –±–æ–Ω—É—Å–æ–≤
  },
  
  // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
  calculated_at: ISODate("2024-12-01T00:00:00Z"),
  data_completeness: 98.5  // % –ø–æ–ª–Ω–æ—Ç—ã –¥–∞–Ω–Ω—ã—Ö
}
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è (tax_settings)
```javascript
{
  _id: ObjectId,
  seller_id: "user_123",
  
  // –°–∏—Å—Ç–µ–º–∞ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è
  tax_system: "usn_income",  
  // –í–∞—Ä–∏–∞–Ω—Ç—ã: 
  //   - "usn_income" (–£–°–ù –î–æ—Ö–æ–¥—ã)
  //   - "usn_income_expense" (–£–°–ù –î–æ—Ö–æ–¥—ã –º–∏–Ω—É—Å —Ä–∞—Å—Ö–æ–¥—ã)
  //   - "osn" (–û–°–ù)
  //   - "patent" (–ü–∞—Ç–µ–Ω—Ç)
  //   - "eshn" (–ï–°–•–ù)
  
  // –°—Ç–∞–≤–∫–∏
  rates: {
    usn_income: 6,  // –£–°–ù –î–æ—Ö–æ–¥—ã - 6%
    usn_income_expense: 15,  // –£–°–ù –î–æ—Ö–æ–¥—ã-–†–∞—Å—Ö–æ–¥—ã - 15%
    vat: 20,  // –ù–î–° - 20%
    income_tax: 20,  // –ù–∞–ª–æ–≥ –Ω–∞ –ø—Ä–∏–±—ã–ª—å - 20%
    eshn: 6  // –ï–°–•–ù - 6%
  },
  
  // –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ª—å–≥–æ—Ç—ã
  regional_benefits: {
    enabled: false,
    reduced_rate: 1  // –ü–æ–Ω–∏–∂–µ–Ω–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
  },
  
  // –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
  effective_from: ISODate("2024-01-01T00:00:00Z"),
  
  created_at: ISODate("2024-01-01T00:00:00Z"),
  updated_at: ISODate("2024-01-01T00:00:00Z")
}
```

---

## üìê –§–û–†–ú–£–õ–´ –†–ê–°–ß–ï–¢–ê

### –û–ë–©–ò–ï –§–û–†–ú–£–õ–´

```
–í–∞–ª–æ–≤–∞—è –í—ã—Ä—É—á–∫–∞ = Œ£(–°—É–º–º–∞ –≤—Å–µ—Ö –ø—Ä–æ–¥–∞–∂)
–í–æ–∑–≤—Ä–∞—Ç—ã = Œ£(–°—É–º–º–∞ –≤—Å–µ—Ö –≤–æ–∑–≤—Ä–∞—Ç–æ–≤)
–ß–∏—Å—Ç–∞—è –í—ã—Ä—É—á–∫–∞ = –í–∞–ª–æ–≤–∞—è –í—ã—Ä—É—á–∫–∞ - –í–æ–∑–≤—Ä–∞—Ç—ã

–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å = Œ£(purchase_price √ó quantity) –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤

–í–∞–ª–æ–≤–∞—è –ü—Ä–∏–±—ã–ª—å = –ß–∏—Å—Ç–∞—è –í—ã—Ä—É—á–∫–∞ - –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å
–í–∞–ª–æ–≤–∞—è –ú–∞—Ä–∂–∞ % = (–í–∞–ª–æ–≤–∞—è –ü—Ä–∏–±—ã–ª—å / –ß–∏—Å—Ç–∞—è –í—ã—Ä—É—á–∫–∞) √ó 100

–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ü—Ä–∏–±—ã–ª—å = –í–∞–ª–æ–≤–∞—è –ü—Ä–∏–±—ã–ª—å - –í—Å–µ –†–∞—Å—Ö–æ–¥—ã
–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ú–∞—Ä–∂–∞ % = (–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ü—Ä–∏–±—ã–ª—å / –ß–∏—Å—Ç–∞—è –í—ã—Ä—É—á–∫–∞) √ó 100

–ß–∏—Å—Ç–∞—è –ü—Ä–∏–±—ã–ª—å = –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ü—Ä–∏–±—ã–ª—å - –ù–∞–ª–æ–≥–∏
–ß–∏—Å—Ç–∞—è –ú–∞—Ä–∂–∞ % = (–ß–∏—Å—Ç–∞—è –ü—Ä–∏–±—ã–ª—å / –ß–∏—Å—Ç–∞—è –í—ã—Ä—É—á–∫–∞) √ó 100

ROI = (–ß–∏—Å—Ç–∞—è –ü—Ä–∏–±—ã–ª—å / –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å) √ó 100
```

### OZON - –°–ò–°–¢–ï–ú–ê –ë–ê–õ–õ–û–í

```
–ö–æ–º–∏—Å—Å–∏—è –æ—Ç –ë–æ–Ω—É—Å–æ–≤ = –ù–∞—á–∏—Å–ª–µ–Ω–Ω—ã–µ –ë–æ–Ω—É—Å—ã √ó 0.09

–ü–æ–ª–Ω–∞—è –ö–æ–º–∏—Å—Å–∏—è Ozon = –ë–∞–∑–æ–≤–∞—è –ö–æ–º–∏—Å—Å–∏—è + –ö–æ–º–∏—Å—Å–∏—è –æ—Ç –ë–æ–Ω—É—Å–æ–≤

// –ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ —Ç–æ–≤–∞—Ä–∞:
IF (–í–æ–∑–≤—Ä–∞—Ç) {
  –ë–æ–Ω—É—Å—ã –ü–æ–∫—É–ø–∞—Ç–µ–ª—è = –ë–æ–Ω—É—Å—ã - –ù–∞—á–∏—Å–ª–µ–Ω–Ω—ã–µ –ø–æ —ç—Ç–æ–º—É –∑–∞–∫–∞–∑—É
  –ö–æ–º–∏—Å—Å–∏—è 9% = –ù–ï –í–û–ó–í–†–ê–©–ê–ï–¢–°–Ø (–æ—Å—Ç–∞–µ—Ç—Å—è —É Ozon)
}

// –£–º–µ–Ω—å—à–µ–Ω–∏–µ –≤—ã—Ä—É—á–∫–∏ –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ –±–æ–Ω—É—Å–∞–º–∏:
–§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –í—ã—Ä—É—á–∫–∞ = –¶–µ–Ω–∞ –ó–∞–∫–∞–∑–∞ - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –ë–æ–Ω—É—Å—ã
```

### WILDBERRIES

```
–í—ã—Ä—É—á–∫–∞ = –ü—Ä–æ–¥–∞–∂–∏ - –í–æ–∑–≤—Ä–∞—Ç—ã (—É–∂–µ –≤ –∏—Ö –æ—Ç—á–µ—Ç–µ)

–†–∞—Å—Ö–æ–¥—ã = –õ–æ–≥–∏—Å—Ç–∏–∫–∞ + –®—Ç—Ä–∞—Ñ—ã + –ü—Ä–æ—á–∏–µ –£–¥–µ—Ä–∂–∞–Ω–∏—è + –•—Ä–∞–Ω–µ–Ω–∏–µ

–ò—Ç–æ–≥–æ –∫ –û–ø–ª–∞—Ç–µ = –í—ã—Ä—É—á–∫–∞ - –†–∞—Å—Ö–æ–¥—ã
```

### –ù–ê–õ–û–ì–ò

```
// –£–°–ù –î–æ—Ö–æ–¥—ã (6%)
–ù–∞–ª–æ–≥–æ–æ–±–ª–∞–≥–∞–µ–º–∞—è –ë–∞–∑–∞ = –ß–∏—Å—Ç–∞—è –í—ã—Ä—É—á–∫–∞
–ù–∞–ª–æ–≥ = –ù–∞–ª–æ–≥–æ–æ–±–ª–∞–≥–∞–µ–º–∞—è –ë–∞–∑–∞ √ó 0.06

// –£–°–ù –î–æ—Ö–æ–¥—ã –º–∏–Ω—É—Å –†–∞—Å—Ö–æ–¥—ã (15%)
–ù–∞–ª–æ–≥–æ–æ–±–ª–∞–≥–∞–µ–º–∞—è –ë–∞–∑–∞ = –ß–∏—Å—Ç–∞—è –í—ã—Ä—É—á–∫–∞ - –í—Å–µ –†–∞—Å—Ö–æ–¥—ã (–≤–∫–ª—é—á–∞—è COGS)
–ù–∞–ª–æ–≥ = –ù–∞–ª–æ–≥–æ–æ–±–ª–∞–≥–∞–µ–º–∞—è –ë–∞–∑–∞ √ó 0.15

// –û–°–ù (–ù–î–° 20% + –ù–∞–ª–æ–≥ –Ω–∞ –ø—Ä–∏–±—ã–ª—å 20%)
–ù–î–° = (–ß–∏—Å—Ç–∞—è –í—ã—Ä—É—á–∫–∞ / 1.20) √ó 0.20
–ù–∞–ª–æ–≥ –Ω–∞ –ü—Ä–∏–±—ã–ª—å = (–ß–∏—Å—Ç–∞—è –í—ã—Ä—É—á–∫–∞ - –ù–î–° - –í—Å–µ –†–∞—Å—Ö–æ–¥—ã) √ó 0.20
–ù–∞–ª–æ–≥ = –ù–î–° + –ù–∞–ª–æ–≥ –Ω–∞ –ü—Ä–∏–±—ã–ª—å
```

---

## üîß BACKEND API ENDPOINTS

### –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç—á–µ—Ç–æ–≤

```python
POST /api/analytics/reports/upload
# –ó–∞–≥—Ä—É–∑–∫–∞ Excel/CSV —Ñ–∞–π–ª–∞
Body: {
  file: File,
  marketplace: "ozon" | "wb" | "yandex",
  report_type: "transaction_list" | "realization" | "services" | ...,
  period_start: "2024-11-01",
  period_end: "2024-11-30"
}
Response: { report_id, status, parsed_summary }

POST /api/analytics/reports/sync-from-api
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ API –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
Body: {
  marketplace: "ozon" | "wb" | "yandex",
  period_start: "2024-11-01",
  period_end: "2024-11-30"
}
Response: { report_id, status, transactions_count }

GET /api/analytics/reports
# –°–ø–∏—Å–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤
Query: ?marketplace=ozon&period=2024-11&status=processed
Response: [ {report_id, marketplace, report_type, period, status, ...} ]

GET /api/analytics/reports/{report_id}
# –î–µ—Ç–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞
Response: { report details, parsed_data, errors }

DELETE /api/analytics/reports/{report_id}
# –£–¥–∞–ª–∏—Ç—å –æ—Ç—á–µ—Ç –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
```

### –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

```python
GET /api/analytics/transactions
# –°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
Query: {
  marketplace?: "ozon" | "wb" | "yandex" | "all",
  period_start: "2024-11-01",
  period_end: "2024-11-30",
  operation_type?: "orders" | "returns" | "services",
  order_id?: "FBS-OZON-...",
  limit: 50,
  offset: 0
}
Response: {
  transactions: [...],
  total_count: 150,
  pagination: {...}
}

GET /api/analytics/transactions/{transaction_id}
# –î–µ—Ç–∞–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
Response: { –ø–æ–ª–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ }

GET /api/analytics/transactions/by-order/{order_id}
# –í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ –∑–∞–∫–∞–∑—É
Response: [ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∑–∞–∫–∞–∑–æ–º ]
```

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã

```python
GET /api/analytics/summary
# –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥
Query: {
  marketplace?: "ozon" | "wb" | "yandex" | "all",
  period_start: "2024-11-01",
  period_end: "2024-11-30",
  group_by?: "day" | "week" | "month"  // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞
}
Response: {
  period: {...},
  revenue: {...},
  expenses: {...},
  profit: {...},
  bonuses: {...}  // —Ç–æ–ª—å–∫–æ –¥–ª—è Ozon
}

GET /api/analytics/dashboard
# –ì–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
Query: { period_start, period_end, marketplace? }
Response: {
  overview: {
    total_revenue, total_profit, total_orders, avg_order_value,
    profit_margin, roi
  },
  trends: {
    revenue_by_day: [...],
    orders_by_day: [...]
  },
  top_products: [...],
  expenses_breakdown: {...}
}

GET /api/analytics/profit-loss
# –û—Ç—á–µ—Ç –æ –ø—Ä–∏–±—ã–ª—è—Ö –∏ —É–±—ã—Ç–∫–∞—Ö (P&L)
Query: { period_start, period_end, marketplace? }
Response: {
  revenue: { gross_sales, returns, net_sales, ... },
  cogs: { total, by_category },
  expenses: { commissions, logistics, services, penalties, ... },
  profit: { gross, operating, net, margins }
}

GET /api/analytics/expenses-breakdown
# –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤
Query: { period_start, period_end, marketplace? }
Response: {
  by_category: {
    commissions: {...},
    logistics: {...},
    services: {...},
    penalties: {...}
  },
  by_marketplace: {...},
  trends: [...]
}

GET /api/analytics/bonuses-report
# –û—Ç—á–µ—Ç –ø–æ —Å–∏—Å—Ç–µ–º–µ –±–∞–ª–ª–æ–≤ Ozon
Query: { period_start, period_end }
Response: {
  total_accrued, total_used, commission_paid,
  active_balance, expired, returned_orders_impact
}

POST /api/analytics/compare-periods
# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö –ø–µ—Ä–∏–æ–¥–æ–≤
Body: {
  period1: { start, end },
  period2: { start, end },
  marketplace?
}
Response: {
  period1_data: {...},
  period2_data: {...},
  changes: { revenue_change_pct, profit_change_pct, ... }
}

GET /api/analytics/export
# –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–∞ –≤ Excel
Query: { period_start, period_end, marketplace?, format: "xlsx" }
Response: File download
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–ª–æ–≥–æ–≤

```python
GET /api/analytics/tax-settings
# –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–ª–æ–≥–æ–≤
Response: { tax_system, rates, regional_benefits, ... }

PUT /api/analytics/tax-settings
# –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–ª–æ–≥–æ–≤
Body: {
  tax_system: "usn_income" | "usn_income_expense" | "osn" | ...,
  rates: {...},
  regional_benefits: {...}
}
Response: { updated tax settings }
```

---

## üé® FRONTEND –°–¢–†–ê–ù–ò–¶–´

### 1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç—á–µ—Ç–æ–≤ (/analytics/reports)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- Drag-n-drop –∑–æ–Ω–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
- –í—ã–±–æ—Ä –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ –∏ —Ç–∏–ø–∞ –æ—Ç—á–µ—Ç–∞
- –í—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞
- –ö–Ω–æ–ø–∫–∞ "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ API"
- –¢–∞–±–ª–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤ —Å —Å—Ç–∞—Ç—É—Å–∞–º–∏
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ó–∞–≥—Ä—É–∑–∫–∞ Excel/CSV —Ñ–∞–π–ª–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–≥—Ä—É–∑–æ–∫

### 2. –ì–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (/analytics/dashboard)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –§–∏–ª—å—Ç—Ä—ã: –ø–µ—Ä–∏–æ–¥, –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏:
  - –í—ã—Ä—É—á–∫–∞ (—Å –¥–∏–Ω–∞–º–∏–∫–æ–π)
  - –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å (—Å –¥–∏–Ω–∞–º–∏–∫–æ–π)
  - –ú–∞—Ä–∂–∞ (%)
  - ROI (%)
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤
  - –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
- –ì—Ä–∞—Ñ–∏–∫–∏:
  - –í—ã—Ä—É—á–∫–∞ –∏ –ø—Ä–∏–±—ã–ª—å –ø–æ –¥–Ω—è–º/–Ω–µ–¥–µ–ª—è–º/–º–µ—Å—è—Ü–∞–º
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ (Pie chart)
  - –¢—Ä–µ–Ω–¥—ã –ø—Ä–æ–¥–∞–∂
- –¢–æ–ø-10 —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –ø—Ä–∏–±—ã–ª–∏
- –¢–æ–ø-10 —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –≤—ã—Ä—É—á–∫–µ
- –ê–ª–µ—Ä—Ç—ã (–Ω–∏–∑–∫–∞—è –º–∞—Ä–∂–∞, –≤—ã—Å–æ–∫–∏–µ —Ä–∞—Å—Ö–æ–¥—ã –∏ —Ç.–¥.)

### 3. –û—Ç—á–µ—Ç P&L (/analytics/profit-loss)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç—á–µ—Ç–∞:**

```
üìä –û–¢–ß–ï–¢ –û –ü–†–ò–ë–´–õ–Ø–• –ò –£–ë–´–¢–ö–ê–•

–ü–µ—Ä–∏–æ–¥: 01.11.2024 - 30.11.2024
–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å: Ozon

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üìà –î–û–•–û–î–´
‚îú‚îÄ –í–∞–ª–æ–≤–∞—è –≤—ã—Ä—É—á–∫–∞                    800 000 ‚ÇΩ
‚îú‚îÄ –í–æ–∑–≤—Ä–∞—Ç—ã                          - 15 000 ‚ÇΩ
‚îú‚îÄ –ß–∏—Å—Ç–∞—è –≤—ã—Ä—É—á–∫–∞                     785 000 ‚ÇΩ  100.0%
‚îú‚îÄ –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏                          2 000 ‚ÇΩ
‚îî‚îÄ –ò–¢–û–ì–û –î–û–•–û–î–û–í                      787 500 ‚ÇΩ  100.0%

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üì¶ –°–ï–ë–ï–°–¢–û–ò–ú–û–°–¢–¨ –¢–û–í–ê–†–û–í (COGS)
‚îî‚îÄ –ó–∞–∫—É–ø–æ—á–Ω–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤  450 000 ‚ÇΩ   57.3%

üí∞ –í–ê–õ–û–í–ê–Ø –ü–†–ò–ë–´–õ–¨                     337 500 ‚ÇΩ   42.7%

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üìâ –û–ü–ï–†–ê–¶–ò–û–ù–ù–´–ï –†–ê–°–•–û–î–´

1Ô∏è‚É£ –ö–û–ú–ò–°–°–ò–ò –ú–ê–†–ö–ï–¢–ü–õ–ï–ô–°–ê              125 400 ‚ÇΩ   16.0%
   ‚îú‚îÄ –ë–∞–∑–æ–≤–∞—è –∫–æ–º–∏—Å—Å–∏—è                120 000 ‚ÇΩ
   ‚îî‚îÄ –ö–æ–º–∏—Å—Å–∏—è –æ—Ç –±–æ–Ω—É—Å–æ–≤ (9%)          5 400 ‚ÇΩ

2Ô∏è‚É£ –õ–û–ì–ò–°–¢–ò–ö–ê                           44 500 ‚ÇΩ    5.7%
   ‚îú‚îÄ –î–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è           35 000 ‚ÇΩ
   ‚îú‚îÄ –í–æ–∑–≤—Ä–∞—Ç–Ω–∞—è –ª–æ–≥–∏—Å—Ç–∏–∫–∞              1 500 ‚ÇΩ
   ‚îî‚îÄ –ü–æ—Å–ª–µ–¥–Ω—è—è –º–∏–ª—è                    8 000 ‚ÇΩ

3Ô∏è‚É£ –£–°–õ–£–ì–ò –ú–ê–†–ö–ï–¢–ü–õ–ï–ô–°–ê                 38 500 ‚ÇΩ    4.9%
   ‚îú‚îÄ –•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ —Å–∫–ª–∞–¥–µ                3 000 ‚ÇΩ
   ‚îú‚îÄ –≠–∫–≤–∞–π—Ä–∏–Ω–≥                        12 000 ‚ÇΩ
   ‚îú‚îÄ –í—ã–¥–∞—á–∞ –Ω–∞ –ü–í–ó                     6 000 ‚ÇΩ
   ‚îú‚îÄ –£–ø–∞–∫–æ–≤–∫–∞                          2 500 ‚ÇΩ
   ‚îî‚îÄ –†–µ–∫–ª–∞–º–∞                          15 000 ‚ÇΩ

4Ô∏è‚É£ –®–¢–†–ê–§–´                                 800 ‚ÇΩ    0.1%
   ‚îú‚îÄ –ü—Ä–æ—Å—Ä–æ—á–∫–∞ –æ—Ç–≥—Ä—É–∑–∫–∏                  500 ‚ÇΩ
   ‚îú‚îÄ –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞                  200 ‚ÇΩ
   ‚îî‚îÄ –ü—Ä–æ—á–∏–µ                              100 ‚ÇΩ

5Ô∏è‚É£ –ü–†–û–ß–ò–ï –†–ê–°–•–û–î–´                        -100 ‚ÇΩ   -0.0%
   ‚îú‚îÄ –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏                      -300 ‚ÇΩ
   ‚îî‚îÄ –ü—Ä–æ—á–∏–µ                              200 ‚ÇΩ

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üíµ –ò–¢–û–ì–û –†–ê–°–•–û–î–û–í                      209 100 ‚ÇΩ   26.6%

üíé –û–ü–ï–†–ê–¶–ò–û–ù–ù–ê–Ø –ü–†–ò–ë–´–õ–¨                128 400 ‚ÇΩ   16.4%

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üè¶ –ù–ê–õ–û–ì–ò
   –°–∏—Å—Ç–µ–º–∞: –£–°–ù –î–æ—Ö–æ–¥—ã (6%)
   –ù–∞–ª–æ–≥–æ–æ–±–ª–∞–≥–∞–µ–º–∞—è –±–∞–∑–∞               787 500 ‚ÇΩ
   –ù–∞–ª–æ–≥ –∫ —É–ø–ª–∞—Ç–µ                       47 250 ‚ÇΩ    6.0%

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

‚ú® –ß–ò–°–¢–ê–Ø –ü–†–ò–ë–´–õ–¨                        81 150 ‚ÇΩ   10.3%

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üìä –ü–û–ö–ê–ó–ê–¢–ï–õ–ò –≠–§–§–ï–ö–¢–ò–í–ù–û–°–¢–ò
‚îú‚îÄ –í–∞–ª–æ–≤–∞—è –º–∞—Ä–∂–∞                         42.7%
‚îú‚îÄ –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ä–∂–∞                    16.4%
‚îú‚îÄ –ß–∏—Å—Ç–∞—è –º–∞—Ä–∂–∞                          10.3%
‚îî‚îÄ ROI                                   18.0%

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

**–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- –ö–ª–∏–∫ –Ω–∞ –ª—é–±—É—é —Å—Ç—Ä–æ–∫—É ‚Üí –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–µ–π –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
- –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –ø–µ—Ä–∏–æ–¥–æ–º

### 4. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (/analytics/transactions)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –¢–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- –ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É –∑–∞–∫–∞–∑–∞, –∞—Ä—Ç–∏–∫—É–ª—É
- –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∑–∞–∫–∞–∑–∞–º

**–ö–æ–ª–æ–Ω–∫–∏ —Ç–∞–±–ª–∏—Ü—ã:**
- –î–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞
- –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å
- –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏
- –°—É–º–º–∞
- –ö–æ–º–∏—Å—Å–∏—è
- –õ–æ–≥–∏—Å—Ç–∏–∫–∞
- –£—Å–ª—É–≥–∏
- –®—Ç—Ä–∞—Ñ—ã
- –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å

### 5. –û—Ç—á–µ—Ç –ø–æ —Å–∏—Å—Ç–µ–º–µ –±–∞–ª–ª–æ–≤ Ozon (/analytics/bonuses)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
  - –í—Å–µ–≥–æ –Ω–∞—á–∏—Å–ª–µ–Ω–æ –±–æ–Ω—É—Å–æ–≤
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è–º–∏
  - –ê–∫—Ç–∏–≤–Ω—ã–π –±–∞–ª–∞–Ω—Å
  - –ö–æ–º–∏—Å—Å–∏—è 9% —É–ø–ª–∞—á–µ–Ω–Ω–∞—è
- –¢–∞–±–ª–∏—Ü–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –ø–æ –∑–∞–∫–∞–∑–∞–º
- –í–ª–∏—è–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ –Ω–∞ –±–æ–Ω—É—Å—ã
- –î–∏–Ω–∞–º–∏–∫–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π
- ROI –ø—Ä–æ–≥—Ä–∞–º–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏

### 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è (/analytics/tax-settings)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –í—ã–±–æ—Ä —Å–∏—Å—Ç–µ–º—ã –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è:
  - –£–°–ù –î–æ—Ö–æ–¥—ã (6%)
  - –£–°–ù –î–æ—Ö–æ–¥—ã –º–∏–Ω—É—Å –†–∞—Å—Ö–æ–¥—ã (15%)
  - –û–°–ù (–ù–î–° 20% + –ù–∞–ª–æ–≥ –Ω–∞ –ø—Ä–∏–±—ã–ª—å 20%)
  - –ü–∞—Ç–µ–Ω—Ç
  - –ï–°–•–ù (6%)
- –í–≤–æ–¥ —Å—Ç–∞–≤–æ–∫ (–µ—Å–ª–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö)
- –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ª—å–≥–æ—Ç—ã
- –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
- –†–∞—Å—á–µ—Ç –Ω–∞–ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

## üîÑ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° API –ú–ê–†–ö–ï–¢–ü–õ–ï–ô–°–û–í

### OZON API

```python
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
POST https://api-seller.ozon.ru/v3/finance/transaction/list
Headers: {
  "Client-Id": "...",
  "Api-Key": "..."
}
Body: {
  "filter": {
    "date": {
      "from": "2024-11-01T00:00:00Z",
      "to": "2024-11-30T23:59:59Z"
    },
    "operation_type": ["orders"],  // "orders", "returns", "services"
    "transaction_type": "all"
  },
  "page": 1,
  "page_size": 1000
}
Response: {
  "operations": [
    {
      "operation_id": 12345678,
      "operation_type": "orders",
      "operation_date": "2024-11-15T10:30:00Z",
      "posting_number": "12345678-0001-1",
      "amount": 5000.00,
      "type": "orders",
      "items": [...],
      "services": [
        {
          "name": "MarketplaceServiceItemFulfillment",
          "price": 150.00
        },
        {
          "name": "MarketplaceServiceItemReturnAfterDelivToCustomer",
          "price": 0.00
        }
      ]
    }
  ]
}

# –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
POST https://api-seller.ozon.ru/v2/finance/realization
# ... –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ

# –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤
# –ù—É–∂–Ω–æ –ø–∞—Ä—Å–∏—Ç—å –∏–∑ –¥—Ä—É–≥–∏—Ö API –∏–ª–∏ –æ—Ç—á–µ—Ç–æ–≤
```

### WILDBERRIES API

```python
# –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
GET https://suppliers-api.wildberries.ru/api/v1/supplier/reportDetailByPeriod
Headers: {
  "Authorization": "Bearer ..."
}
Query: {
  "dateFrom": "2024-11-01",
  "dateTo": "2024-11-30"
}
Response: [
  {
    "realizationreport_id": 123456,
    "gi_id": 789012,
    "subject_name": "–¢–æ–≤–∞—Ä",
    "nm_id": 12345678,
    "brand_name": "–ë—Ä–µ–Ω–¥",
    "sa_name": "–ê—Ä—Ç–∏–∫—É–ª",
    "ts_name": "–†–∞–∑–º–µ—Ä",
    "barcode": "1234567890123",
    "doc_type_name": "–ü—Ä–æ–¥–∞–∂–∞",
    "quantity": 1,
    "retail_price": 2000.00,
    "retail_amount": 2000.00,
    "sale_percent": 10,
    "commission_percent": 15.5,
    "office_name": "–°–∫–ª–∞–¥ WB",
    "supplier_oper_name": "–ü—Ä–æ–¥–∞–∂–∞",
    "order_dt": "2024-11-15T10:30:00",
    "sale_dt": "2024-11-15T12:00:00",
    "shk_id": 123456789,
    "retail_price_withdisc_rub": 1800.00,
    "for_pay": 1530.00,
    "for_pay_nds": 255.00
  }
]
```

### –Ø–ù–î–ï–ö–°.–ú–ê–†–ö–ï–¢ API

```python
# –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
POST https://api.partner.market.yandex.ru/v2/campaigns/{campaignId}/orders
Headers: {
  "Authorization": "Bearer ..."
}
Body: {
  "dateFrom": "2024-11-01",
  "dateTo": "2024-11-30"
}
# ... –¥–µ—Ç–∞–ª–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤–µ—Ä—Å–∏–∏ API
```

---

## üöÄ –≠–¢–ê–ü–´ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –≠–¢–ê–ü 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1-2 –¥–Ω—è)
- [x] –ò–∑—É—á–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (–í–´–ü–û–õ–ù–ï–ù–û)
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥–µ–ª–µ–π Pydantic
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –≠–¢–ê–ü 2: Backend - –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ (3-4 –¥–Ω—è)
- [ ] –ü–∞—Ä—Å–µ—Ä Excel/CSV –¥–ª—è Ozon
- [ ] –ü–∞—Ä—Å–µ—Ä –¥–ª—è Wildberries
- [ ] –ü–∞—Ä—Å–µ—Ä –¥–ª—è –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç
- [ ] API endpoint –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤ (Ozon, WB, Yandex)
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –≠–¢–ê–ü 3: Backend - –°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤ Ozon (2 –¥–Ω—è)
- [ ] –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –±–æ–Ω—É—Å–æ–≤
- [ ] –†–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏ 9%
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ (–∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤)
- [ ] API –¥–ª—è –æ—Ç—á–µ—Ç–∞ –ø–æ –±–æ–Ω—É—Å–∞–º

### –≠–¢–ê–ü 4: Backend - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (3-4 –¥–Ω—è)
- [ ] –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
- [ ] –†–∞—Å—á–µ—Ç –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫ (–≤—ã—Ä—É—á–∫–∞, –ø—Ä–∏–±—ã–ª—å, –º–∞—Ä–∂–∞, ROI)
- [ ] –†–∞—Å—á–µ—Ç –Ω–∞–ª–æ–≥–æ–≤ (–£–°–ù, –û–°–ù –∏ —Ç.–¥.)
- [ ] API endpoints –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞
- [ ] API –¥–ª—è P&L –æ—Ç—á–µ—Ç–∞
- [ ] API –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ Excel

### –≠–¢–ê–ü 5: Frontend - –°—Ç—Ä–∞–Ω–∏—Ü—ã (4-5 –¥–Ω–µ–π)
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç—á–µ—Ç–æ–≤
- [ ] –ì–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ P&L –æ—Ç—á–µ—Ç–∞
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- [ ] –û—Ç—á–µ—Ç –ø–æ —Å–∏—Å—Ç–µ–º–µ –±–∞–ª–ª–æ–≤ Ozon
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è

### –≠–¢–ê–ü 6: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 –¥–Ω—è)
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—á–µ—Ç–æ–≤
- [ ] –°–≤–µ—Ä–∫–∞ —Å –æ—Ç—á–µ—Ç–∞–º–∏ Ozon/WB/Yandex
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ UI/UX
- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤

### –≠–¢–ê–ü 7: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ø–æ–ª–∏—Ä–æ–≤–∫–∞ (1-2 –¥–Ω—è)
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –£–ª—É—á—à–µ–Ω–∏–µ UI/UX
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üìù –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ü–∞—Ä—Å–∏–Ω–≥ Excel/CSV

```python
import pandas as pd
import openpyxl

def parse_ozon_transaction_report(file_path):
    """
    –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç—á–µ—Ç–∞ –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö Ozon
    """
    df = pd.read_excel(file_path, sheet_name=0, header=0)
    
    transactions = []
    for index, row in df.iterrows():
        transaction = {
            "operation_date": row["–î–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏"],
            "posting_number": row["–ù–æ–º–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è"],
            "operation_type": row["–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏"],
            "delivery_schema": row["–°—Ö–µ–º–∞ –¥–æ—Å—Ç–∞–≤–∫–∏"],
            "product_name": row["–¢–æ–≤–∞—Ä"],
            "sku": row["–ê—Ä—Ç–∏–∫—É–ª"],
            "sale_amount": row["–¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ —Å —É—á–µ—Ç–æ–º —Å–∫–∏–¥–æ–∫"],
            "commission": row["–ö–æ–º–∏—Å—Å–∏—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞"],
            "logistics": row["–õ–æ–≥–∏—Å—Ç–∏–∫–∞"],
            "services": row["–£—Å–ª—É–≥–∏"],
            # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
        }
        transactions.append(transaction)
    
    return transactions
```

### –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫

```python
async def calculate_period_analytics(
    seller_id: str, 
    period_start: datetime,
    period_end: datetime,
    marketplace: Optional[str] = None
):
    """
    –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∑–∞ –ø–µ—Ä–∏–æ–¥
    """
    db = await get_database()
    
    # –ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä
    match_filter = {
        "seller_id": seller_id,
        "operation_date": {
            "$gte": period_start,
            "$lte": period_end
        }
    }
    if marketplace:
        match_filter["marketplace"] = marketplace
    
    # –ê–≥—Ä–µ–≥–∞—Ü–∏—è MongoDB
    pipeline = [
        {"$match": match_filter},
        
        # –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø—É –æ–ø–µ—Ä–∞—Ü–∏–∏
        {"$group": {
            "_id": "$operation_type",
            "total_amount": {"$sum": "$amount"},
            "count": {"$sum": 1},
            
            # –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤
            "commission_total": {"$sum": "$breakdown.commission.total"},
            "logistics_total": {"$sum": "$breakdown.logistics.total"},
            "services_total": {"$sum": "$breakdown.services.total"},
            "penalties_total": {"$sum": "$breakdown.penalties.total"},
            
            # –ë–æ–Ω—É—Å—ã
            "bonuses_accrued": {"$sum": "$bonuses.accrued"},
            "bonuses_used": {"$sum": "$bonuses.used"},
            "bonus_commission": {"$sum": "$bonuses.commission_9pct"},
            
            # –¢–æ–≤–∞—Ä—ã
            "items": {"$push": "$items"}
        }},
        
        # –†–∞—Å—á–µ—Ç —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏
        {"$addFields": {
            "cogs": {
                "$sum": {
                    "$map": {
                        "input": "$items",
                        "as": "item",
                        "in": "$$item.total_cost"
                    }
                }
            }
        }}
    ]
    
    results = await db.marketplace_transactions.aggregate(pipeline).to_list(100)
    
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    analytics = process_aggregation_results(results)
    
    # –†–∞—Å—á–µ—Ç –ø—Ä–∏–±—ã–ª–∏ –∏ –Ω–∞–ª–æ–≥–æ–≤
    analytics["profit"] = calculate_profit_metrics(analytics)
    analytics["taxes"] = calculate_taxes(analytics, seller_id)
    
    return analytics
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Ozon API

```python
import aiohttp

async def sync_ozon_transactions(
    seller_id: str,
    client_id: str,
    api_key: str,
    period_start: datetime,
    period_end: datetime
):
    """
    –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏–∑ Ozon API
    """
    url = "https://api-seller.ozon.ru/v3/finance/transaction/list"
    headers = {
        "Client-Id": client_id,
        "Api-Key": api_key,
        "Content-Type": "application/json"
    }
    
    all_transactions = []
    page = 1
    
    async with aiohttp.ClientSession() as session:
        while True:
            body = {
                "filter": {
                    "date": {
                        "from": period_start.isoformat(),
                        "to": period_end.isoformat()
                    },
                    "operation_type": ["orders"],
                    "transaction_type": "all"
                },
                "page": page,
                "page_size": 1000
            }
            
            async with session.post(url, headers=headers, json=body) as resp:
                if resp.status != 200:
                    raise HTTPException(
                        status_code=resp.status,
                        detail=f"Ozon API error: {await resp.text()}"
                    )
                
                data = await resp.json()
                operations = data.get("operations", [])
                
                if not operations:
                    break
                
                all_transactions.extend(operations)
                page += 1
                
                # –ó–∞—â–∏—Ç–∞ –æ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
                if page > 100:
                    break
    
    # –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –Ω–∞—à —Ñ–æ—Ä–º–∞—Ç –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
    db = await get_database()
    for ozon_txn in all_transactions:
        transaction = transform_ozon_transaction(seller_id, ozon_txn)
        
        # Upsert (–æ–±–Ω–æ–≤–∏—Ç—å –µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å)
        await db.marketplace_transactions.update_one(
            {
                "seller_id": seller_id,
                "marketplace": "ozon",
                "transaction_id": transaction["transaction_id"]
            },
            {"$set": transaction},
            upsert=True
        )
    
    return len(all_transactions)
```

---

## ‚úÖ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

1. **–¢–æ—á–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö**
   - –†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ —Å –æ—Ç—á–µ—Ç–∞–º–∏ –ú–ü < 0.1%
   - –í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —É—á—Ç–µ–Ω—ã
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Å–∏—Å—Ç–µ–º—ã –±–∞–ª–ª–æ–≤ Ozon

2. **–ü–æ–ª–Ω–æ—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**
   - –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö 3 –ú–ü
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ API
   - –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel —Ä–∞–±–æ—Ç–∞–µ—Ç

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
   - –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç—á–µ—Ç–∞ (1000 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π) < 5 —Å–µ–∫
   - –†–∞—Å—á–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∑–∞ –º–µ—Å—è—Ü < 2 —Å–µ–∫
   - –î–∞—à–±–æ—Ä–¥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è < 1 —Å–µ–∫

4. **UX/UI**
   - –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
   - –ü–æ–Ω—è—Ç–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
   - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

---

## üéì –ò–°–¢–û–ß–ù–ò–ö–ò

1. Selsup - –°–≤–µ—Ä–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ —Å Ozon: https://selsup.ru/help/sverka-otchetov-s-ozon/
2. Selsup - –°–≤–µ—Ä–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ —Å WB: https://selsup.ru/help/sverka-otchetov-s-wb/
3. Selsup - –°–≤–µ—Ä–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ —Å –Ø–Ω–¥–µ–∫—Å: https://selsup.ru/help/sverka-otchetov-s-yandeks-market/
4. 1–° –í–∏–∫—Ç–æ—Ä–∏—è - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
5. Ozon Seller API Documentation
6. –°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤ Ozon - –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

---

**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ üöÄ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0 (–í—ã—Å–æ–∫–∏–π)
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 15-20 –¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
