# ‚úÖ REAL API INTEGRATION COMPLETE!

## üéâ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –£–î–ê–õ–Å–ù Mock-—Ä–µ–∂–∏–º –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏
- **Endpoint `/api/seller/api-keys/test`** - —Ç–µ–ø–µ—Ä—å –¥–µ–ª–∞–µ—Ç –†–ï–ê–õ–¨–ù–´–ô HTTP-–∑–∞–ø—Ä–æ—Å –∫ API –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
- **Endpoint `/api/marketplaces/{marketplace}/products`** - —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –†–ï–ê–õ–¨–ù–´–ï —Ç–æ–≤–∞—Ä—ã —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
- **–ù–∏–∫–∞–∫–∏—Ö** –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö "–¢–µ—Å—Ç–æ–≤—ã–π —Ç–æ–≤–∞—Ä 1, 2, 3"

### 2. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –†–ï–ê–õ–¨–ù–´–ï HTTP-–∑–∞–ø—Ä–æ—Å—ã –∫ API –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤

#### **–§–∞–π–ª: `/app/backend/connectors.py`**

–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `httpx` –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤:

**OzonConnector:**
- `get_products()` ‚Üí `POST https://api-seller.ozon.ru/v3/product/list`
- Headers: `Client-Id`, `Api-Key`
- –ü–∞—Ä—Å–∏—Ç –æ—Ç–≤–µ—Ç –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –µ–¥–∏–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É

**WildberriesConnector:**
- `get_products()` ‚Üí `POST https://content-api.wildberries.ru/content/v2/get/cards/list`
- Header: `Authorization: <token>`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ù–û–í–´–ô –¥–æ–º–µ–Ω (–æ–±–Ω–æ–≤–ª—ë–Ω —Å —è–Ω–≤–∞—Ä—è 2025)

**YandexMarketConnector:**
- `get_products()` ‚Üí `GET https://api.partner.market.yandex.ru/campaigns/{campaign_id}/offers`
- Header: `Authorization: Bearer <token>`

### 3. ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ö–ª–∞—Å—Å `MarketplaceError`:**
```python
class MarketplaceError(Exception):
    def __init__(self, marketplace: str, status_code: int, message: str, details: Any = None)
```

**–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è:**
- ‚ùå 401/403 - –ù–µ–≤–µ—Ä–Ω—ã–µ –∫–ª—é—á–∏
- ‚ùå 500 - –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
- ‚ùå 408 - Timeout
- ‚ùå 503 - –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
- ‚úÖ –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –∏–∑ JSON –æ—Ç–≤–µ—Ç–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –≤ –ø–æ–Ω—è—Ç–Ω–æ–º –≤–∏–¥–µ

### 4. ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å MOCK_MODE

**–§–∞–π–ª: `/app/backend/.env`**
```env
MOCK_MODE=false
```

- `false` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - –†–µ–∞–ª—å–Ω—ã–µ API –∑–∞–ø—Ä–æ—Å—ã
- `true` - Mock-–¥–∞–Ω–Ω—ã–µ (–¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

---

## üìã –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç:

### ‚úÖ 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
1. –î–æ–±–∞–≤—å—Ç–µ –†–ï–ê–õ–¨–ù–´–ô API –∫–ª—é—á –æ—Ç Ozon/WB/Yandex
2. –ù–∞–∂–º–∏—Ç–µ "–ü–†–û–í–ï–†–ò–¢–¨ –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï"
3. –°–∏—Å—Ç–µ–º–∞ —Å–¥–µ–ª–∞–µ—Ç –†–ï–ê–õ–¨–ù–´–ô HTTP-–∑–∞–ø—Ä–æ—Å –∫ API –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
4. –í–µ—Ä–Ω—ë—Ç:
   - ‚úÖ `–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ! –ù–∞–π–¥–µ–Ω–æ X —Ç–æ–≤–∞—Ä–æ–≤` (–µ—Å–ª–∏ –∫–ª—é—á –≤–µ—Ä–Ω—ã–π)
   - ‚ùå `Ozon API Error [401]: Invalid credentials` (–µ—Å–ª–∏ –∫–ª—é—á –Ω–µ–≤–µ—Ä–Ω—ã–π)

### ‚úÖ 2. –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å –ú–ü
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: –ò–ù–¢–ï–ì–†–ê–¶–ò–ò ‚Üí –°–û–ü–û–°–¢–ê–í–õ–ï–ù–ò–ï –¢–û–í–ê–†–û–í
2. –í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
3. –ù–∞–∂–º–∏—Ç–µ "–ó–ê–ì–†–£–ó–ò–¢–¨ –¢–û–í–ê–†–´ –° –ú–ü"
4. –°–∏—Å—Ç–µ–º–∞ —Å–¥–µ–ª–∞–µ—Ç –†–ï–ê–õ–¨–ù–´–ô HTTP-–∑–∞–ø—Ä–æ—Å
5. –í —Ç–∞–±–ª–∏—Ü–µ –ø–æ—è–≤—è—Ç—Å—è –í–ê–®–ò –†–ï–ê–õ–¨–ù–´–ï —Ç–æ–≤–∞—Ä—ã —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞!

---

## üîç –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –ª–æ–≥–∞—Ö backend –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
INFO: üîç REAL API test for ozon
INFO:    Client ID: 123456...
INFO: [Ozon] POST https://api-seller.ozon.ru/v3/product/list
INFO: [Ozon] Response status: 200
INFO: [Ozon] Received 45 products
INFO: ‚úÖ REAL API test passed! Found 45 products
```

–ü—Ä–∏ –æ—à–∏–±–∫–µ:
```
INFO: [Ozon] Response status: 401
ERROR: [Ozon] API Error: Invalid Client-Id or Api-Key
ERROR: ‚ùå API test failed: Invalid Client-Id or Api-Key
```

---

## üìù API Endpoints:

### Ozon (v3):
```
POST https://api-seller.ozon.ru/v3/product/list
Headers:
  Client-Id: <your_client_id>
  Api-Key: <your_api_key>
```

### Wildberries (v2):
```
POST https://content-api.wildberries.ru/content/v2/get/cards/list
Headers:
  Authorization: <your_token>
```

### Yandex.Market:
```
GET https://api.partner.market.yandex.ru/campaigns/{campaign_id}/offers
Headers:
  Authorization: Bearer <your_oauth_token>
```

---

## üö® –í–∞–∂–Ω–æ:

- **–†–µ–∞–ª—å–Ω—ã–µ API –∫–ª—é—á–∏**: –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –¢–†–ï–ë–£–ï–¢ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –æ—Ç –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤
- **Rate limits**: –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ª–∏–º–∏—Ç—ã API (100 req/min –¥–ª—è WB)
- **Timeout**: 30 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∑–∞–ø—Ä–æ—Å
- **SSL/TLS**: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ HTTPS —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:

> "–Ø –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π —Ä–µ–∞–ª—å–Ω—ã–π API-–∫–ª—é—á, –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É '–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–≤–∞—Ä—ã —Å –ú–ü' –∏ —É–≤–∏–¥–µ—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ –°–ü–ò–°–û–ö –ú–û–ò–• –†–ï–ê–õ–¨–ù–´–• –¢–û–í–ê–†–û–í, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞, –∞ –Ω–µ '–¢–µ—Å—Ç–æ–≤—ã–π —Ç–æ–≤–∞—Ä 1'."

**–ì–û–¢–û–í–û! ‚úÖ**

---

## üìÇ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. `/app/backend/connectors.py` - –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ HTTP-–∑–∞–ø—Ä–æ—Å–∞–º–∏
2. `/app/backend/server.py` - –£–¥–∞–ª—ë–Ω mock-—Ä–µ–∂–∏–º, –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
3. `/app/backend/.env` - –î–æ–±–∞–≤–ª–µ–Ω `MOCK_MODE=false`
4. `/app/backend/requirements.txt` - –î–æ–±–∞–≤–ª–µ–Ω `httpx`

---

## üéØ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å **–†–ï–ê–õ–¨–ù–´–ú–ò API** –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤.  
–ù–∏–∫–∞–∫–∏—Ö –∑–∞–≥–ª—É—à–µ–∫. –ü–æ–ª–Ω–∞—è —Å–∫–≤–æ–∑–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.
