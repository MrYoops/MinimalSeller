# üì¶ –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò –ú–û–î–£–õ–Ø "–°–ö–õ–ê–î"

**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:** 29.11.2024
**–°—Ç–∞—Ç—É—Å:** –í –†–ê–ë–û–¢–ï
**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** FastAPI (Python) + React + MongoDB

---

## üéØ –¶–ï–õ–¨

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å "–°–∫–ª–∞–¥" –ø–æ –æ–±—Ä–∞–∑—Ü—É SelsUp —Å —Ç—Ä–µ–º—è –∫–ª—é—á–µ–≤—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:
1. **–°–∫–ª–∞–¥—ã** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–∞–º–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
2. **–ü—Ä–∏—ë–º–∫–∞ –Ω–∞ —Å–∫–ª–∞–¥** - –æ–ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
3. **–ü–µ—Ä–µ–¥–∞—á–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏ (Ozon, WB, Yandex)

---

## üìã –§–ê–ó–´ –†–ê–ó–†–ê–ë–û–¢–ö–ò

### ‚úÖ –§–ê–ó–ê 0: –ê–ù–ê–õ–ò–ó –ò –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–ï (–ó–ê–í–ï–†–®–ï–ù–û)
**–°—Ç–∞—Ç—É—Å:** COMPLETED

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- [x] –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ SelsUp —á–µ—Ä–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [x] –ò–∑—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã
- [x] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ gap-analysis (—á—Ç–æ –µ—Å—Ç—å vs —á—Ç–æ –Ω—É–∂–Ω–æ)
- [x] –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

### üîÑ –§–ê–ó–ê 1: –°–ö–õ–ê–î–´ + –ü–†–ò–Å–ú–ö–ê –ù–ê –°–ö–õ–ê–î (MVP)
**–°—Ç–∞—Ç—É—Å:** COMPLETED ‚úÖ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è –ö–†–ò–¢–ò–ß–ù–û

**–¶–µ–ª—å:** –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∫–ª–∞–¥–∞–º–∏ –∏ –ø—Ä–∏—ë–º–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤

#### Backend (Models + Routes)
- [x] –†–∞—Å—à–∏—Ä–∏—Ç—å Warehouse model —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- [x] –°–æ–∑–¥–∞—Ç—å Supplier model (–ø–æ—Å—Ç–∞–≤—â–∏–∫–∏)
- [x] –°–æ–∑–¥–∞—Ç—å IncomeOrder model (–ø—Ä–∏—ë–º–∫–∏)
- [x] Routes –¥–ª—è —Å–∫–ª–∞–¥–æ–≤, –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤, –ø—Ä–∏—ë–º–æ–∫

#### Frontend (Pages + Components)
- [x] WarehousesPageV2 - –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∫–ª–∞–¥–æ–≤ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- [x] SuppliersPage - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏
- [x] IncomeOrdersPage - —Å–ø–∏—Å–æ–∫ –ø—Ä–∏—ë–º–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- [x] IncomeOrderFormPage - —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏—ë–º–∫–∏
- [x] –û–±–Ω–æ–≤–ª—ë–Ω WarehousesSection —Å –Ω–æ–≤—ã–º–∏ —Ç–∞–±–∞–º–∏

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Å–∫–ª–∞–¥–æ–≤ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (–ø–µ—Ä–µ–¥–∞—á–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤)
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏—ë–º–æ–∫ (—á–µ—Ä–Ω–æ–≤–∏–∫)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –ø—Ä–∏—ë–º–∫—É (–ø–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É)
- ‚úÖ –û–ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–∏—ë–º–∫–∏ ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤ –≤ inventory
- ‚úÖ –û—Ç–º–µ–Ω–∞ –æ–ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏—è ‚Üí –æ—Ç–∫–∞—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –¥–≤–∏–∂–µ–Ω–∏–π –≤ inventory_history
- ‚úÖ UI —Å —Ç–∞–±–∞–º–∏: –°–∫–ª–∞–¥—ã, –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏, –ü—Ä–∏—ë–º–∫–∞, –û—Å—Ç–∞—Ç–∫–∏, –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å

---

### üîÑ –§–ê–ó–ê 2: –ü–ï–†–ï–î–ê–ß–ê –û–°–¢–ê–¢–ö–û–í –ù–ê –ú–ê–†–ö–ï–¢–ü–õ–ï–ô–°–´
**–°—Ç–∞—Ç—É—Å:** COMPLETED ‚úÖ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è –ö–†–ò–¢–ò–ß–ù–û

**–¶–µ–ª—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞—Ç–∫–æ–≤ —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏

#### Backend
- [x] –ú–µ—Ç–æ–¥—ã update_stock –≤ connectors.py:
  - [x] OzonConnector.update_stock()
  - [x] WildberriesConnector.update_stock()
  - [x] YandexMarketConnector.update_stock()
- [x] –§—É–Ω–∫—Ü–∏—è sync_product_to_marketplace() - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–∫–ª–∞–¥—ã
- [x] Routes /api/stock-sync:
  - [x] POST /manual - —Ä—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
  - [x] GET /history - –∏—Å—Ç–æ—Ä–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- [x] –ê–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –æ–ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏–∏ (–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ income_order_routes)
- [x] –ò—Å—Ç–æ—Ä–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (collection: stock_sync_history)

#### Frontend
- [x] StockSyncHistoryPage - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- [x] –ù–æ–≤—ã–π —Ç–∞–± "–°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø" –≤ —Ä–∞–∑–¥–µ–ª–µ –°–ö–õ–ê–î

**–õ–æ–≥–∏–∫–∞:**
- –ü–æ—Å–ª–µ –æ–ø—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏—è ‚Üí –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ ‚Üí –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–≤—è–∑–∏ —Å–∫–ª–∞–¥–∞ ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –û–î–ò–ù–ê–ö–û–í–´–ô –æ—Å—Ç–∞—Ç–æ–∫ –Ω–∞ –í–°–ï —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–∫–ª–∞–¥—ã –ú–ü
- –ó–∞–ø–∏—Å—å –≤ –∏—Å—Ç–æ—Ä–∏—é (success/failed + error_message)

---

### üîÑ –§–ê–ó–ê 3: –†–ï–ó–ï–†–í–´ + –ú–ê–°–°–û–í–´–ï –î–ï–ô–°–¢–í–ò–Ø
**–°—Ç–∞—Ç—É—Å:** COMPLETED ‚úÖ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** ‚≠êÔ∏è –°–†–ï–î–ù–ò–ô

**–¶–µ–ª—å:** –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤ –ø—Ä–∏ –∑–∞–∫–∞–∑–∞—Ö –∏ —Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É

#### Backend
- [x] –§—É–Ω–∫—Ü–∏–∏ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è (–£–ñ–ï –ë–´–õ–ò –≤ order_routes.py):
  - [x] reserve_inventory() - —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞
  - [x] release_inventory() - –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ
  - [x] deduct_inventory() - —Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ
- [x] –§—É–Ω–∫—Ü–∏—è find_warehouse_for_order() - –≤—ã–±–æ—Ä —Å–∫–ª–∞–¥–∞ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è "reserved" –≤ inventory
- [x] –ü–µ—Ä–µ—Å—á—ë—Ç "available = quantity - reserved"

**–õ–æ–≥–∏–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞:**
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ ‚Üí –ø–æ–ª—É—á–∏—Ç—å —Å–∫–ª–∞–¥—ã —Å use_for_orders=true
- –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ priority (1 ‚Üí 2 ‚Üí 3...)
- –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞—Ç—å —Å –ø–µ—Ä–≤–æ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ —Å–∫–ª–∞–¥–∞
- –ï—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç ‚Üí —Å–ª–µ–¥—É—é—â–∏–π –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É

---


### üîÑ –§–ê–ó–ê 4: –ú–ê–°–°–û–í–´–ï –û–ü–ï–†–ê–¶–ò–ò + –ü–ï–†–ï–ù–û–° –û–°–¢–ê–¢–ö–û–í
**–°—Ç–∞—Ç—É—Å:** COMPLETED ‚úÖ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** ‚≠êÔ∏è‚≠êÔ∏è –í–´–°–û–ö–ò–ô

**–¶–µ–ª—å:** –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –ø–µ—Ä–≤–∏—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤ —Å –ú–ü

#### Backend
- [x] –ú–µ—Ç–æ–¥—ã get_stocks() –≤ connectors.py:
  - [x] OzonConnector.get_stocks()
  - [x] WildberriesConnector.get_stocks()
  - [x] YandexMarketConnector.get_stocks()
- [x] Routes /api/stock-operations:
  - [x] POST /import-from-marketplace - –ø–µ—Ä–µ–Ω–æ—Å –æ—Å—Ç–∞—Ç–∫–æ–≤ –° –ú–ü
  - [x] POST /reconcile - —Å–≤–µ—Ä–∫–∞ (—Å–∏—Å—Ç–µ–º–∞ vs –ú–ü)
  - [x] POST /transfer - –ø–µ—Ä–µ–Ω–æ—Å –º–µ–∂–¥—É —Å–∫–ª–∞–¥–∞–º–∏ (–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)
- [x] –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã inventory_routes (/api/inventory/fbs)

#### Frontend
- [x] StockPageV2 - –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤
- [x] –ö–Ω–æ–ø–∫–∞ "–ü–ï–†–ï–ù–ï–°–¢–ò –û–°–¢–ê–¢–ö–ò –° –ú–ü"
- [x] ImportStocksModal - –º–æ–¥–∞–ª–∫–∞ –≤—ã–±–æ—Ä–∞ –ú–ü –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞
- [x] –¢–∞–± "–°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø" –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏

**–õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–Ω–æ—Å–∞:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –ú–ü
2. –°–∏—Å—Ç–µ–º–∞ –≤—ã–∑—ã–≤–∞–µ—Ç connector.get_stocks()
3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞:
   - –ù–∞–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º–µ –ø–æ SKU
   - –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å inventory
   - –ó–∞–ø–∏—Å–∞—Ç—å –≤ inventory_history
4. –í–µ—Ä–Ω—É—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ/–æ–±–Ω–æ–≤–ª–µ–Ω–æ)


## üìä –ü–†–û–ì–†–ï–°–°

- **–§–ê–ó–ê 0:** ‚úÖ 100% - –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω
- **–§–ê–ó–ê 1:** ‚úÖ 100% - MVP —Å–∫–ª–∞–¥—ã + –ø—Ä–∏—ë–º–∫–∞
- **–§–ê–ó–ê 2:** ‚úÖ 100% - –ü–µ—Ä–µ–¥–∞—á–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤ –Ω–∞ –ú–ü
- **–§–ê–ó–ê 3:** ‚úÖ 100% - –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–§–ê–ó–ê 4:** ‚úÖ 100% - –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ + –ü–µ—Ä–µ–Ω–æ—Å

**–û–ë–©–ò–ô –ü–†–û–ì–†–ï–°–°: 100% (5/5 —Ñ–∞–∑) üéâ**

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 29.11.2024 - –í–°–ï –§–ê–ó–´ –ó–ê–í–ï–†–®–ï–ù–´
