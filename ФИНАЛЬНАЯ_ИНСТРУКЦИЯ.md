# üöÄ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ó–ê–ü–£–°–ö–£ MinimalMod

## ‚úÖ –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û (11.11.2025):

1. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω requirements.txt** - —É–¥–∞–ª—ë–Ω –¥—É–±–ª–∏–∫–∞—Ç `httpx==0.25.2httpx==0.25.2`
2. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏** –¥–ª—è –æ–±—Ö–æ–¥–∞ CORS/bot detection:
   - User-Agent (Chrome 120)
   - Accept, Accept-Language, Accept-Encoding
   - Origin, Referer (—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞)
   - Sec-Fetch-* –∑–∞–≥–æ–ª–æ–≤–∫–∏
3. ‚úÖ **–†–ï–ê–õ–¨–ù–´–ï HTTP-–∑–∞–ø—Ä–æ—Å—ã** –∫ API –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤
4. ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** —Å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º message –∏–∑ JSON

---

## üìã –®–ê–ì–ò –ü–û –ó–ê–ü–£–°–ö–£:

### üî¥ –¢–ï–†–ú–ò–ù–ê–õ 1: Backend

```bash
cd backend

# –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv

# Windows:
venv\Scripts\activate

# Mac/Linux:
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
python create_test_users.py

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend
uvicorn server:app --host 0.0.0.0 --port 8001 --reload
```

**–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:**
```
INFO:     Uvicorn running on http://0.0.0.0:8001
INFO:     Application startup complete.
```

### üîµ –¢–ï–†–ú–ò–ù–ê–õ 2: Frontend

```bash
cd frontend

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
yarn install

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ frontend
yarn dev
```

**–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:**
```
VITE v5.4.21  ready in 231 ms
‚ûú  Local:   http://localhost:3000/
```

---

## üîë –ü–û–õ–£–ß–ï–ù–ò–ï API –ö–õ–Æ–ß–ï–ô:

### Ozon:
1. https://seller.ozon.ru/ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí API –∫–ª—é—á–∏
2. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á
3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å:
   - **Client-Id** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456`)
   - **Api-Key** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `xxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxx`)

### Wildberries:
1. https://seller.wildberries.ru/ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –î–æ—Å—Ç—É–ø –∫ API
2. –°–æ–∑–¥–∞—Ç—å —Ç–æ–∫–µ–Ω
3. –ü—Ä–∞–≤–∞: **"–ö–æ–Ω—Ç–µ–Ω—Ç"** (—á—Ç–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤)
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å **JWT Token** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `eyJ...`)

### Yandex.Market:
1. https://partner.market.yandex.ru/ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí API
2. –ü–æ–ª—É—á–∏—Ç—å OAuth —Ç–æ–∫–µ–Ω
3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å:
   - **Campaign ID** (–≤ URL: `/campaigns/12345678`)
   - **OAuth Token** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `y0_...`)

---

## üß™ –ü–û–õ–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:

### 1. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
- –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:3000
- Email: `seller@test.com`
- Password: `password123`

### 2. –î–æ–±–∞–≤—å—Ç–µ –†–ï–ê–õ–¨–ù–´–ô API –∫–ª—é—á

**–ü—Ä–∏–º–µ—Ä –¥–ª—è Wildberries:**
1. –ò–ù–¢–ï–ì–†–ê–¶–ò–ò ‚Üí API KEYS
2. –î–û–ë–ê–í–ò–¢–¨ –ò–ù–¢–ï–ì–†–ê–¶–ò–Æ
3. –í—ã–±–µ—Ä–∏—Ç–µ **Wildberries**
4. –í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π JWT —Ç–æ–∫–µ–Ω:
   ```
   eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3NJRCI6IjEyMzQ1Njc4LTEyMzQtMTIzNC0xMjM0LTEyMzQ1Njc4OTAxMiJ9...
   ```
5. –ò–∑–º–µ–Ω–∏—Ç–µ –≥–∞–ª–æ—á–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)
6. –ù–∞–∂–º–∏—Ç–µ: **–ü–†–û–í–ï–†–ò–¢–¨ –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï**

**–ß–¢–û –î–û–õ–ñ–ù–û –ü–†–û–ò–ó–û–ô–¢–ò:**
```
‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ! –ù–∞–π–¥–µ–Ω–æ 45 —Ç–æ–≤–∞—Ä–æ–≤ from WB.
```

**–ï—Å–ª–∏ –æ—à–∏–±–∫–∞:**
```
‚ùå Wildberries API Error [401]: Invalid authorization token
```
‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω!

7. –ù–∞–∂–º–∏—Ç–µ: **–°–û–•–†–ê–ù–ò–¢–¨**
8. –ö–ª—é—á –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ

### 3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –†–ï–ê–õ–¨–ù–´–ï —Ç–æ–≤–∞—Ä—ã

1. –ò–ù–¢–ï–ì–†–ê–¶–ò–ò ‚Üí –°–û–ü–û–°–¢–ê–í–õ–ï–ù–ò–ï –¢–û–í–ê–†–û–í
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É WB –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
3. –ù–∞–∂–º–∏—Ç–µ: **–ó–ê–ì–†–£–ó–ò–¢–¨ –¢–û–í–ê–†–´ –° –ú–ü**

**–ß–¢–û –î–û–õ–ñ–ù–û –ü–†–û–ò–ó–û–ô–¢–ò:**
- –í —Ç–∞–±–ª–∏—Ü–µ –ø–æ—è–≤—è—Ç—Å—è –í–ê–®–ò –†–ï–ê–õ–¨–ù–´–ï —Ç–æ–≤–∞—Ä—ã –∏–∑ Wildberries:
  - –†–µ–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è
  - –†–µ–∞–ª—å–Ω—ã–µ SKU/–∞—Ä—Ç–∏–∫—É–ª—ã
  - –†–µ–∞–ª—å–Ω—ã–µ ID —Ç–æ–≤–∞—Ä–æ–≤

### 4. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

1. –í —Å–ø–∏—Å–∫–µ API KEYS –Ω–∞–∂–º–∏—Ç–µ **EDIT**
2. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: "WB –û—Å–Ω–æ–≤–Ω–æ–π –∞–∫–∫–∞—É–Ω—Ç"
3. –ò–∑–º–µ–Ω–∏—Ç–µ –≥–∞–ª–æ—á–∫–∏
4. –ù–∞–∂–º–∏—Ç–µ **–°–û–•–†–ê–ù–ò–¢–¨**
5. –ù–∞–∑–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–∏—Ç—Å—è!

### 5. –£–¥–∞–ª–∏—Ç–µ –∫–ª—é—á

1. –ù–∞–∂–º–∏—Ç–µ **DELETE**
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ
3. –ö–ª—é—á —É–¥–∞–ª–∏—Ç—Å—è –∏–∑ —Å–ø–∏—Å–∫–∞

---

## üîç –ß–¢–û –í–´ –£–í–ò–î–ò–¢–ï –í –õ–û–ì–ê–•:

### Backend (–ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ):
```
INFO: üîç REAL API test for wb
INFO:    API Key: eyJhbGciOiJIUzI1NiIsIn...
INFO: [WB] POST https://content-api.wildberries.ru/content/v2/get/cards/list
INFO: [WB] Headers: ['User-Agent', 'Accept', 'Authorization', 'Origin', 'Referer']
INFO: [WB] Response status: 200
INFO: [WB] Received 45 products
INFO: [WB] Successfully transformed 45 products
INFO: ‚úÖ REAL API test passed! Found 45 products
```

### Backend (–ø—Ä–∏ –æ—à–∏–±–∫–µ 401):
```
INFO: [WB] Response status: 401
ERROR: [WB] API Error JSON: {'error': 'Invalid token'}
ERROR: [WB] API Error [401]: Invalid token
ERROR: ‚ùå API test failed: Invalid token
```

### –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12):
```
üîß Backend URL: http://localhost:8001 | Hostname: localhost
üîç Testing connection: {marketplace: 'wb', api_key: 'eyJ...'}
‚úÖ Test response: {success: true, message: '–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ! –ù–∞–π–¥–µ–Ω–æ 45 —Ç–æ–≤–∞—Ä–æ–≤'}
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø:

### 1. CORS –ù–ï –ø—Ä–æ–±–ª–µ–º–∞ –¥–ª—è server-to-server –∑–∞–ø—Ä–æ—Å–æ–≤
CORS - —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ **–±—Ä–∞—É–∑–µ—Ä–∞**. –ö–æ–≥–¥–∞ –≤–∞—à **Backend (Python)** –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ API –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞, CORS –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è, —Ç.–∫. —ç—Ç–æ **server-to-server** –∑–∞–ø—Ä–æ—Å.

–ù–û! –ù–µ–∫–æ—Ç–æ—Ä—ã–µ API –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ `Origin` –∏ `Referer` –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –±–æ—Ç–æ–≤. –ü–æ—ç—Ç–æ–º—É –º—ã –¥–æ–±–∞–≤–∏–ª–∏ —ç—Ç–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏.

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª –∏ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å—Ö–æ–¥—è—â–∏–µ HTTPS –∑–∞–ø—Ä–æ—Å—ã –∫:
- `api-seller.ozon.ru`
- `content-api.wildberries.ru`
- `api.partner.market.yandex.ru`

–ù–ï –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –≤–∞—à–∏–º —Ñ–∞–π—Ä–≤–æ–ª–æ–º/–∞–Ω—Ç–∏–≤–∏—Ä—É—Å–æ–º.

### 3. SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ HTTPS —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (`verify=True`).

---

## üõ†Ô∏è –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú:

### "Network Error" –≤ –±—Ä–∞—É–∑–µ—Ä–µ
**–ü—Ä–∏—á–∏–Ω—ã:**
1. Backend –Ω–µ –∑–∞–ø—É—â–µ–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ: http://localhost:8001/api/health)
2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Backend URL –≤ frontend (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `http://localhost:8001` –¥–ª—è localhost)

### "Request timeout"
**–ü—Ä–∏—á–∏–Ω—ã:**
1. –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
2. API –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
3. –§–∞–π—Ä–≤–æ–ª –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å

**–†–µ—à–µ–Ω–∏–µ:** –£–≤–µ–ª–∏—á—å—Ç–µ timeout –≤ `connectors.py` (—Å—Ç—Ä–æ–∫–∞ 22):
```python
self.timeout = 60.0  # –ë—ã–ª–æ 30.0
```

### "Invalid authorization token" / "Invalid Api-Key"
**–ü—Ä–∏—á–∏–Ω—ã:**
1. –ù–µ–≤–µ—Ä–Ω—ã–π –∫–ª—é—á
2. –ö–ª—é—á –∏—Å—Ç—ë–∫
3. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ —É –∫–ª—é—á–∞

**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞

### "Cannot connect to marketplace server"
**–ü—Ä–∏—á–∏–Ω—ã:**
1. –§–∞–π—Ä–≤–æ–ª –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏—Å—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã
2. –ù–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
3. DNS –Ω–µ —Ä–µ–∑–æ–ª–≤–∏—Ç –¥–æ–º–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:** 
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API
curl -I https://content-api.wildberries.ru
curl -I https://api-seller.ozon.ru
```

---

## üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø:

### –§–∞–π–ª—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ:
1. **`REAL_API_INTEGRATION_COMPLETE.md`** - –û—Ç—á—ë—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –¢–ó
2. **`–§–ò–ù–ê–õ–¨–ù–ê–Ø_–ò–ù–°–¢–†–£–ö–¶–ò–Ø.md`** - –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
3. **`backend/connectors.py`** - –†–µ–∞–ª—å–Ω—ã–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã –∫ API

### –í–Ω–µ—à–Ω—è—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- Ozon: https://docs.ozon.ru/api/seller/
- Wildberries: https://dev.wildberries.ru/
- Yandex: https://yandex.ru/dev/market/partner-api/

---

## üéØ –í–°–Å –ì–û–¢–û–í–û!

‚úÖ –†–ï–ê–õ–¨–ù–´–ï HTTP-–∑–∞–ø—Ä–æ—Å—ã —Å –ø–æ–ª–Ω—ã–º–∏ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏  
‚úÖ Origin, Referer, User-Agent –¥–æ–±–∞–≤–ª–µ–Ω—ã  
‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫  
‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤  
‚úÖ –ù–∏–∫–∞–∫–∏—Ö mock-–¥–∞–Ω–Ω—ã—Ö  

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏!** üöÄ

---

## üí° –°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì:

–ü–æ–ª—É—á–∏—Ç–µ –†–ï–ê–õ–¨–ù–´–ï API –∫–ª—é—á–∏ –æ—Ç –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é!

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –æ—à–∏–±–∫–∏ - —Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ backend, —Ç–∞–º –±—É–¥–µ—Ç **—Ç–æ—á–Ω–∞—è –æ—à–∏–±–∫–∞** –æ—Ç API –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞.
