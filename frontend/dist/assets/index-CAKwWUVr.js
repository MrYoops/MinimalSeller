function kx(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function ou(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iu={exports:{}},tl={},cu={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ls=Symbol.for("react.element"),Sx=Symbol.for("react.portal"),_x=Symbol.for("react.fragment"),Cx=Symbol.for("react.strict_mode"),Ex=Symbol.for("react.profiler"),Px=Symbol.for("react.provider"),Lx=Symbol.for("react.context"),Rx=Symbol.for("react.forward_ref"),Ox=Symbol.for("react.suspense"),Tx=Symbol.for("react.memo"),zx=Symbol.for("react.lazy"),bc=Symbol.iterator;function Dx(e){return e===null||typeof e!="object"?null:(e=bc&&e[bc]||e["@@iterator"],typeof e=="function"?e:null)}var du={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uu=Object.assign,mu={};function Er(e,t,r){this.props=e,this.context=t,this.refs=mu,this.updater=r||du}Er.prototype.isReactComponent={};Er.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Er.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pu(){}pu.prototype=Er.prototype;function oi(e,t,r){this.props=e,this.context=t,this.refs=mu,this.updater=r||du}var ii=oi.prototype=new pu;ii.constructor=oi;uu(ii,Er.prototype);ii.isPureReactComponent=!0;var vc=Array.isArray,xu=Object.prototype.hasOwnProperty,ci={current:null},hu={key:!0,ref:!0,__self:!0,__source:!0};function fu(e,t,r){var s,a={},l=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)xu.call(t,s)&&!hu.hasOwnProperty(s)&&(a[s]=t[s]);var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){for(var u=Array(c),i=0;i<c;i++)u[i]=arguments[i+2];a.children=u}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)a[s]===void 0&&(a[s]=c[s]);return{$$typeof:Ls,type:e,key:l,ref:o,props:a,_owner:ci.current}}function Fx(e,t){return{$$typeof:Ls,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function di(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ls}function Ax(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jc=/\/+/g;function Cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ax(""+e.key):t.toString(36)}function da(e,t,r,s,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ls:case Sx:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Cl(o,0):s,vc(a)?(r="",e!=null&&(r=e.replace(jc,"$&/")+"/"),da(a,t,r,"",function(i){return i})):a!=null&&(di(a)&&(a=Fx(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(jc,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",vc(e))for(var c=0;c<e.length;c++){l=e[c];var u=s+Cl(l,c);o+=da(l,t,r,u,a)}else if(u=Dx(e),typeof u=="function")for(e=u.call(e),c=0;!(l=e.next()).done;)l=l.value,u=s+Cl(l,c++),o+=da(l,t,r,u,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Hs(e,t,r){if(e==null)return e;var s=[],a=0;return da(e,s,"","",function(l){return t.call(r,l,a++)}),s}function Ix(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ye={current:null},ua={transition:null},Mx={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:ua,ReactCurrentOwner:ci};function yu(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Hs,forEach:function(e,t,r){Hs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Hs(e,function(){t++}),t},toArray:function(e){return Hs(e,function(t){return t})||[]},only:function(e){if(!di(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=Er;te.Fragment=_x;te.Profiler=Ex;te.PureComponent=oi;te.StrictMode=Cx;te.Suspense=Ox;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mx;te.act=yu;te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=uu({},e.props),a=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=ci.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)xu.call(t,u)&&!hu.hasOwnProperty(u)&&(s[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)s.children=r;else if(1<u){c=Array(u);for(var i=0;i<u;i++)c[i]=arguments[i+2];s.children=c}return{$$typeof:Ls,type:e.type,key:a,ref:l,props:s,_owner:o}};te.createContext=function(e){return e={$$typeof:Lx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Px,_context:e},e.Consumer=e};te.createElement=fu;te.createFactory=function(e){var t=fu.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:Rx,render:e}};te.isValidElement=di;te.lazy=function(e){return{$$typeof:zx,_payload:{_status:-1,_result:e},_init:Ix}};te.memo=function(e,t){return{$$typeof:Tx,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=ua.transition;ua.transition={};try{e()}finally{ua.transition=t}};te.unstable_act=yu;te.useCallback=function(e,t){return Ye.current.useCallback(e,t)};te.useContext=function(e){return Ye.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return Ye.current.useDeferredValue(e)};te.useEffect=function(e,t){return Ye.current.useEffect(e,t)};te.useId=function(){return Ye.current.useId()};te.useImperativeHandle=function(e,t,r){return Ye.current.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return Ye.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Ye.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Ye.current.useMemo(e,t)};te.useReducer=function(e,t,r){return Ye.current.useReducer(e,t,r)};te.useRef=function(e){return Ye.current.useRef(e)};te.useState=function(e){return Ye.current.useState(e)};te.useSyncExternalStore=function(e,t,r){return Ye.current.useSyncExternalStore(e,t,r)};te.useTransition=function(){return Ye.current.useTransition()};te.version="18.3.1";cu.exports=te;var g=cu.exports;const $=ou(g),$x=kx({__proto__:null,default:$},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx=g,Ux=Symbol.for("react.element"),Wx=Symbol.for("react.fragment"),Hx=Object.prototype.hasOwnProperty,Vx=Bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qx={key:!0,ref:!0,__self:!0,__source:!0};function gu(e,t,r){var s,a={},l=null,o=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Hx.call(t,s)&&!qx.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Ux,type:e,key:l,ref:o,props:a,_owner:Vx.current}}tl.Fragment=Wx;tl.jsx=gu;tl.jsxs=gu;iu.exports=tl;var n=iu.exports,ro={},bu={exports:{}},mt={},vu={exports:{}},ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,I){var U=F.length;F.push(I);e:for(;0<U;){var Y=U-1>>>1,O=F[Y];if(0<a(O,I))F[Y]=I,F[U]=O,U=Y;else break e}}function r(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var I=F[0],U=F.pop();if(U!==I){F[0]=U;e:for(var Y=0,O=F.length,H=O>>>1;Y<H;){var q=2*(Y+1)-1,Q=F[q],ne=q+1,Oe=F[ne];if(0>a(Q,U))ne<O&&0>a(Oe,Q)?(F[Y]=Oe,F[ne]=U,Y=ne):(F[Y]=Q,F[q]=U,Y=q);else if(ne<O&&0>a(Oe,U))F[Y]=Oe,F[ne]=U,Y=ne;else break e}}return I}function a(F,I){var U=F.sortIndex-I.sortIndex;return U!==0?U:F.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],i=[],m=1,d=null,h=3,N=!1,y=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(F){for(var I=r(i);I!==null;){if(I.callback===null)s(i);else if(I.startTime<=F)s(i),I.sortIndex=I.expirationTime,t(u,I);else break;I=r(i)}}function b(F){if(w=!1,f(F),!y)if(r(u)!==null)y=!0,B(C);else{var I=r(i);I!==null&&K(b,I.startTime-F)}}function C(F,I){y=!1,w&&(w=!1,p(k),k=-1),N=!0;var U=h;try{for(f(I),d=r(u);d!==null&&(!(d.expirationTime>I)||F&&!v());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var O=Y(d.expirationTime<=I);I=e.unstable_now(),typeof O=="function"?d.callback=O:d===r(u)&&s(u),f(I)}else s(u);d=r(u)}if(d!==null)var H=!0;else{var q=r(i);q!==null&&K(b,q.startTime-I),H=!1}return H}finally{d=null,h=U,N=!1}}var j=!1,P=null,k=-1,_=5,D=-1;function v(){return!(e.unstable_now()-D<_)}function R(){if(P!==null){var F=e.unstable_now();D=F;var I=!0;try{I=P(!0,F)}finally{I?L():(j=!1,P=null)}}else j=!1}var L;if(typeof x=="function")L=function(){x(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=R,L=function(){W.postMessage(null)}}else L=function(){S(R,0)};function B(F){P=F,j||(j=!0,L())}function K(F,I){k=S(function(){F(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){y||N||(y=!0,B(C))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var U=h;h=I;try{return F()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,I){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var U=h;h=F;try{return I()}finally{h=U}},e.unstable_scheduleCallback=function(F,I,U){var Y=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Y+U:Y):U=Y,F){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=U+O,F={id:m++,callback:I,priorityLevel:F,startTime:U,expirationTime:O,sortIndex:-1},U>Y?(F.sortIndex=U,t(i,F),r(u)===null&&F===r(i)&&(w?(p(k),k=-1):w=!0,K(b,U-Y))):(F.sortIndex=O,t(u,F),y||N||(y=!0,B(C))),F},e.unstable_shouldYield=v,e.unstable_wrapCallback=function(F){var I=h;return function(){var U=h;h=I;try{return F.apply(this,arguments)}finally{h=U}}}})(ju);vu.exports=ju;var Qx=vu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx=g,ut=Qx;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nu=new Set,cs={};function Gn(e,t){gr(e,t),gr(e+"Capture",t)}function gr(e,t){for(cs[e]=t,e=0;e<t.length;e++)Nu.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),so=Object.prototype.hasOwnProperty,Yx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nc={},wc={};function Gx(e){return so.call(wc,e)?!0:so.call(Nc,e)?!1:Yx.test(e)?wc[e]=!0:(Nc[e]=!0,!1)}function Jx(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xx(e,t,r,s){if(t===null||typeof t>"u"||Jx(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,r,s,a,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var ui=/[\-:]([a-z])/g;function mi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ui,mi);Ie[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ui,mi);Ie[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ui,mi);Ie[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function pi(e,t,r,s){var a=Ie.hasOwnProperty(t)?Ie[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xx(t,r,a,s)&&(r=null),s||a===null?Gx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Zt=Kx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vs=Symbol.for("react.element"),er=Symbol.for("react.portal"),tr=Symbol.for("react.fragment"),xi=Symbol.for("react.strict_mode"),ao=Symbol.for("react.profiler"),wu=Symbol.for("react.provider"),ku=Symbol.for("react.context"),hi=Symbol.for("react.forward_ref"),lo=Symbol.for("react.suspense"),oo=Symbol.for("react.suspense_list"),fi=Symbol.for("react.memo"),an=Symbol.for("react.lazy"),Su=Symbol.for("react.offscreen"),kc=Symbol.iterator;function $r(e){return e===null||typeof e!="object"?null:(e=kc&&e[kc]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,El;function Yr(e){if(El===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);El=t&&t[1]||""}return`
`+El+e}var Pl=!1;function Ll(e,t){if(!e||Pl)return"";Pl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(i){var s=i}Reflect.construct(e,[],t)}else{try{t.call()}catch(i){s=i}e.call(t.prototype)}else{try{throw Error()}catch(i){s=i}e()}}catch(i){if(i&&s&&typeof i.stack=="string"){for(var a=i.stack.split(`
`),l=s.stack.split(`
`),o=a.length-1,c=l.length-1;1<=o&&0<=c&&a[o]!==l[c];)c--;for(;1<=o&&0<=c;o--,c--)if(a[o]!==l[c]){if(o!==1||c!==1)do if(o--,c--,0>c||a[o]!==l[c]){var u=`
`+a[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=c);break}}}finally{Pl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Yr(e):""}function Zx(e){switch(e.tag){case 5:return Yr(e.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 2:case 15:return e=Ll(e.type,!1),e;case 11:return e=Ll(e.type.render,!1),e;case 1:return e=Ll(e.type,!0),e;default:return""}}function io(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tr:return"Fragment";case er:return"Portal";case ao:return"Profiler";case xi:return"StrictMode";case lo:return"Suspense";case oo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ku:return(e.displayName||"Context")+".Consumer";case wu:return(e._context.displayName||"Context")+".Provider";case hi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fi:return t=e.displayName||null,t!==null?t:io(e.type)||"Memo";case an:t=e._payload,e=e._init;try{return io(e(t))}catch{}}return null}function eh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return io(t);case 8:return t===xi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _u(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function th(e){var t=_u(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qs(e){e._valueTracker||(e._valueTracker=th(e))}function Cu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=_u(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function _a(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function co(e,t){var r=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Sc(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=wn(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Eu(e,t){t=t.checked,t!=null&&pi(e,"checked",t,!1)}function uo(e,t){Eu(e,t);var r=wn(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mo(e,t.type,r):t.hasOwnProperty("defaultValue")&&mo(e,t.type,wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _c(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function mo(e,t,r){(t!=="number"||_a(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Gr=Array.isArray;function mr(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+wn(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function po(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if(Gr(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wn(r)}}function Pu(e,t){var r=wn(t.value),s=wn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Ec(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qs,Ru=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qs=Qs||document.createElement("div"),Qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ds(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nh=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(e){nh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),es[t]=es[e]})});function Ou(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||es.hasOwnProperty(e)&&es[e]?(""+t).trim():t+"px"}function Tu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=Ou(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var rh=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ho(e,t){if(t){if(rh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function fo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yo=null;function yi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var go=null,pr=null,xr=null;function Pc(e){if(e=Ts(e)){if(typeof go!="function")throw Error(A(280));var t=e.stateNode;t&&(t=ll(t),go(e.stateNode,e.type,t))}}function zu(e){pr?xr?xr.push(e):xr=[e]:pr=e}function Du(){if(pr){var e=pr,t=xr;if(xr=pr=null,Pc(e),t)for(e=0;e<t.length;e++)Pc(t[e])}}function Fu(e,t){return e(t)}function Au(){}var Rl=!1;function Iu(e,t,r){if(Rl)return e(t,r);Rl=!0;try{return Fu(e,t,r)}finally{Rl=!1,(pr!==null||xr!==null)&&(Au(),Du())}}function us(e,t){var r=e.stateNode;if(r===null)return null;var s=ll(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var bo=!1;if(Kt)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){bo=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{bo=!1}function sh(e,t,r,s,a,l,o,c,u){var i=Array.prototype.slice.call(arguments,3);try{t.apply(r,i)}catch(m){this.onError(m)}}var ts=!1,Ca=null,Ea=!1,vo=null,ah={onError:function(e){ts=!0,Ca=e}};function lh(e,t,r,s,a,l,o,c,u){ts=!1,Ca=null,sh.apply(ah,arguments)}function oh(e,t,r,s,a,l,o,c,u){if(lh.apply(this,arguments),ts){if(ts){var i=Ca;ts=!1,Ca=null}else throw Error(A(198));Ea||(Ea=!0,vo=i)}}function Jn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Mu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lc(e){if(Jn(e)!==e)throw Error(A(188))}function ih(e){var t=e.alternate;if(!t){if(t=Jn(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return Lc(a),e;if(l===s)return Lc(a),t;l=l.sibling}throw Error(A(188))}if(r.return!==s.return)r=a,s=l;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,s=l;break}if(c===s){o=!0,s=a,r=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===r){o=!0,r=l,s=a;break}if(c===s){o=!0,s=l,r=a;break}c=c.sibling}if(!o)throw Error(A(189))}}if(r.alternate!==s)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function $u(e){return e=ih(e),e!==null?Bu(e):null}function Bu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bu(e);if(t!==null)return t;e=e.sibling}return null}var Uu=ut.unstable_scheduleCallback,Rc=ut.unstable_cancelCallback,ch=ut.unstable_shouldYield,dh=ut.unstable_requestPaint,we=ut.unstable_now,uh=ut.unstable_getCurrentPriorityLevel,gi=ut.unstable_ImmediatePriority,Wu=ut.unstable_UserBlockingPriority,Pa=ut.unstable_NormalPriority,mh=ut.unstable_LowPriority,Hu=ut.unstable_IdlePriority,nl=null,Mt=null;function ph(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(nl,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:fh,xh=Math.log,hh=Math.LN2;function fh(e){return e>>>=0,e===0?32:31-(xh(e)/hh|0)|0}var Ks=64,Ys=4194304;function Jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function La(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,l=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~a;c!==0?s=Jr(c):(l&=o,l!==0&&(s=Jr(l)))}else o=r&~a,o!==0?s=Jr(o):l!==0&&(s=Jr(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Pt(t),a=1<<r,s|=e[r],t&=~a;return s}function yh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gh(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Pt(l),c=1<<o,u=a[o];u===-1?(!(c&r)||c&s)&&(a[o]=yh(c,t)):u<=t&&(e.expiredLanes|=c),l&=~c}}function jo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vu(){var e=Ks;return Ks<<=1,!(Ks&4194240)&&(Ks=64),e}function Ol(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Rs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=r}function bh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Pt(r),l=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~l}}function bi(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Pt(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var ae=0;function qu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qu,vi,Ku,Yu,Gu,No=!1,Gs=[],pn=null,xn=null,hn=null,ms=new Map,ps=new Map,on=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oc(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(t.pointerId)}}function Ur(e,t,r,s,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Ts(t),t!==null&&vi(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function jh(e,t,r,s,a){switch(t){case"focusin":return pn=Ur(pn,e,t,r,s,a),!0;case"dragenter":return xn=Ur(xn,e,t,r,s,a),!0;case"mouseover":return hn=Ur(hn,e,t,r,s,a),!0;case"pointerover":var l=a.pointerId;return ms.set(l,Ur(ms.get(l)||null,e,t,r,s,a)),!0;case"gotpointercapture":return l=a.pointerId,ps.set(l,Ur(ps.get(l)||null,e,t,r,s,a)),!0}return!1}function Ju(e){var t=Dn(e.target);if(t!==null){var r=Jn(t);if(r!==null){if(t=r.tag,t===13){if(t=Mu(r),t!==null){e.blockedOn=t,Gu(e.priority,function(){Ku(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ma(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);yo=s,r.target.dispatchEvent(s),yo=null}else return t=Ts(r),t!==null&&vi(t),e.blockedOn=r,!1;t.shift()}return!0}function Tc(e,t,r){ma(e)&&r.delete(t)}function Nh(){No=!1,pn!==null&&ma(pn)&&(pn=null),xn!==null&&ma(xn)&&(xn=null),hn!==null&&ma(hn)&&(hn=null),ms.forEach(Tc),ps.forEach(Tc)}function Wr(e,t){e.blockedOn===t&&(e.blockedOn=null,No||(No=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,Nh)))}function xs(e){function t(a){return Wr(a,e)}if(0<Gs.length){Wr(Gs[0],e);for(var r=1;r<Gs.length;r++){var s=Gs[r];s.blockedOn===e&&(s.blockedOn=null)}}for(pn!==null&&Wr(pn,e),xn!==null&&Wr(xn,e),hn!==null&&Wr(hn,e),ms.forEach(t),ps.forEach(t),r=0;r<on.length;r++)s=on[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<on.length&&(r=on[0],r.blockedOn===null);)Ju(r),r.blockedOn===null&&on.shift()}var hr=Zt.ReactCurrentBatchConfig,Ra=!0;function wh(e,t,r,s){var a=ae,l=hr.transition;hr.transition=null;try{ae=1,ji(e,t,r,s)}finally{ae=a,hr.transition=l}}function kh(e,t,r,s){var a=ae,l=hr.transition;hr.transition=null;try{ae=4,ji(e,t,r,s)}finally{ae=a,hr.transition=l}}function ji(e,t,r,s){if(Ra){var a=wo(e,t,r,s);if(a===null)Ul(e,t,s,Oa,r),Oc(e,s);else if(jh(a,e,t,r,s))s.stopPropagation();else if(Oc(e,s),t&4&&-1<vh.indexOf(e)){for(;a!==null;){var l=Ts(a);if(l!==null&&Qu(l),l=wo(e,t,r,s),l===null&&Ul(e,t,s,Oa,r),l===a)break;a=l}a!==null&&s.stopPropagation()}else Ul(e,t,s,null,r)}}var Oa=null;function wo(e,t,r,s){if(Oa=null,e=yi(s),e=Dn(e),e!==null)if(t=Jn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Mu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oa=e,null}function Xu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uh()){case gi:return 1;case Wu:return 4;case Pa:case mh:return 16;case Hu:return 536870912;default:return 16}default:return 16}}var dn=null,Ni=null,pa=null;function Zu(){if(pa)return pa;var e,t=Ni,r=t.length,s,a="value"in dn?dn.value:dn.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[l-s];s++);return pa=a.slice(e,1<s?1-s:void 0)}function xa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Js(){return!0}function zc(){return!1}function pt(e){function t(r,s,a,l,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Js:zc,this.isPropagationStopped=zc,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Js)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Js)},persist:function(){},isPersistent:Js}),t}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=pt(Pr),Os=ve({},Pr,{view:0,detail:0}),Sh=pt(Os),Tl,zl,Hr,rl=ve({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ki,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hr&&(Hr&&e.type==="mousemove"?(Tl=e.screenX-Hr.screenX,zl=e.screenY-Hr.screenY):zl=Tl=0,Hr=e),Tl)},movementY:function(e){return"movementY"in e?e.movementY:zl}}),Dc=pt(rl),_h=ve({},rl,{dataTransfer:0}),Ch=pt(_h),Eh=ve({},Os,{relatedTarget:0}),Dl=pt(Eh),Ph=ve({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Lh=pt(Ph),Rh=ve({},Pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Oh=pt(Rh),Th=ve({},Pr,{data:0}),Fc=pt(Th),zh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ah(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fh[e])?!!t[e]:!1}function ki(){return Ah}var Ih=ve({},Os,{key:function(e){if(e.key){var t=zh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ki,charCode:function(e){return e.type==="keypress"?xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mh=pt(Ih),$h=ve({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ac=pt($h),Bh=ve({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ki}),Uh=pt(Bh),Wh=ve({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hh=pt(Wh),Vh=ve({},rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qh=pt(Vh),Qh=[9,13,27,32],Si=Kt&&"CompositionEvent"in window,ns=null;Kt&&"documentMode"in document&&(ns=document.documentMode);var Kh=Kt&&"TextEvent"in window&&!ns,em=Kt&&(!Si||ns&&8<ns&&11>=ns),Ic=" ",Mc=!1;function tm(e,t){switch(e){case"keyup":return Qh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nr=!1;function Yh(e,t){switch(e){case"compositionend":return nm(t);case"keypress":return t.which!==32?null:(Mc=!0,Ic);case"textInput":return e=t.data,e===Ic&&Mc?null:e;default:return null}}function Gh(e,t){if(nr)return e==="compositionend"||!Si&&tm(e,t)?(e=Zu(),pa=Ni=dn=null,nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return em&&t.locale!=="ko"?null:t.data;default:return null}}var Jh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jh[e.type]:t==="textarea"}function rm(e,t,r,s){zu(s),t=Ta(t,"onChange"),0<t.length&&(r=new wi("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var rs=null,hs=null;function Xh(e){xm(e,0)}function sl(e){var t=ar(e);if(Cu(t))return e}function Zh(e,t){if(e==="change")return t}var sm=!1;if(Kt){var Fl;if(Kt){var Al="oninput"in document;if(!Al){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),Al=typeof Bc.oninput=="function"}Fl=Al}else Fl=!1;sm=Fl&&(!document.documentMode||9<document.documentMode)}function Uc(){rs&&(rs.detachEvent("onpropertychange",am),hs=rs=null)}function am(e){if(e.propertyName==="value"&&sl(hs)){var t=[];rm(t,hs,e,yi(e)),Iu(Xh,t)}}function ef(e,t,r){e==="focusin"?(Uc(),rs=t,hs=r,rs.attachEvent("onpropertychange",am)):e==="focusout"&&Uc()}function tf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sl(hs)}function nf(e,t){if(e==="click")return sl(t)}function rf(e,t){if(e==="input"||e==="change")return sl(t)}function sf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:sf;function fs(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!so.call(t,a)||!Rt(e[a],t[a]))return!1}return!0}function Wc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hc(e,t){var r=Wc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wc(r)}}function lm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function om(){for(var e=window,t=_a();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_a(e.document)}return t}function _i(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function af(e){var t=om(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&lm(r.ownerDocument.documentElement,r)){if(s!==null&&_i(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(s.start,a);s=s.end===void 0?l:Math.min(s.end,a),!e.extend&&l>s&&(a=s,s=l,l=a),a=Hc(r,l);var o=Hc(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lf=Kt&&"documentMode"in document&&11>=document.documentMode,rr=null,ko=null,ss=null,So=!1;function Vc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;So||rr==null||rr!==_a(s)||(s=rr,"selectionStart"in s&&_i(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ss&&fs(ss,s)||(ss=s,s=Ta(ko,"onSelect"),0<s.length&&(t=new wi("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=rr)))}function Xs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sr={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionend:Xs("Transition","TransitionEnd")},Il={},im={};Kt&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function al(e){if(Il[e])return Il[e];if(!sr[e])return e;var t=sr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in im)return Il[e]=t[r];return e}var cm=al("animationend"),dm=al("animationiteration"),um=al("animationstart"),mm=al("transitionend"),pm=new Map,qc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){pm.set(e,t),Gn(t,[e])}for(var Ml=0;Ml<qc.length;Ml++){var $l=qc[Ml],of=$l.toLowerCase(),cf=$l[0].toUpperCase()+$l.slice(1);_n(of,"on"+cf)}_n(cm,"onAnimationEnd");_n(dm,"onAnimationIteration");_n(um,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(mm,"onTransitionEnd");gr("onMouseEnter",["mouseout","mouseover"]);gr("onMouseLeave",["mouseout","mouseover"]);gr("onPointerEnter",["pointerout","pointerover"]);gr("onPointerLeave",["pointerout","pointerover"]);Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),df=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xr));function Qc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,oh(s,t,void 0,e),e.currentTarget=null}function xm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var o=s.length-1;0<=o;o--){var c=s[o],u=c.instance,i=c.currentTarget;if(c=c.listener,u!==l&&a.isPropagationStopped())break e;Qc(a,c,i),l=u}else for(o=0;o<s.length;o++){if(c=s[o],u=c.instance,i=c.currentTarget,c=c.listener,u!==l&&a.isPropagationStopped())break e;Qc(a,c,i),l=u}}}if(Ea)throw e=vo,Ea=!1,vo=null,e}function pe(e,t){var r=t[Lo];r===void 0&&(r=t[Lo]=new Set);var s=e+"__bubble";r.has(s)||(hm(t,e,2,!1),r.add(s))}function Bl(e,t,r){var s=0;t&&(s|=4),hm(r,e,s,t)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function ys(e){if(!e[Zs]){e[Zs]=!0,Nu.forEach(function(r){r!=="selectionchange"&&(df.has(r)||Bl(r,!1,e),Bl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zs]||(t[Zs]=!0,Bl("selectionchange",!1,t))}}function hm(e,t,r,s){switch(Xu(t)){case 1:var a=wh;break;case 4:a=kh;break;default:a=ji}r=a.bind(null,t,r,e),a=void 0,!bo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Ul(e,t,r,s,a){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var c=s.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;o=o.return}for(;c!==null;){if(o=Dn(c),o===null)return;if(u=o.tag,u===5||u===6){s=l=o;continue e}c=c.parentNode}}s=s.return}Iu(function(){var i=l,m=yi(r),d=[];e:{var h=pm.get(e);if(h!==void 0){var N=wi,y=e;switch(e){case"keypress":if(xa(r)===0)break e;case"keydown":case"keyup":N=Mh;break;case"focusin":y="focus",N=Dl;break;case"focusout":y="blur",N=Dl;break;case"beforeblur":case"afterblur":N=Dl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Uh;break;case cm:case dm:case um:N=Lh;break;case mm:N=Hh;break;case"scroll":N=Sh;break;case"wheel":N=qh;break;case"copy":case"cut":case"paste":N=Oh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Ac}var w=(t&4)!==0,S=!w&&e==="scroll",p=w?h!==null?h+"Capture":null:h;w=[];for(var x=i,f;x!==null;){f=x;var b=f.stateNode;if(f.tag===5&&b!==null&&(f=b,p!==null&&(b=us(x,p),b!=null&&w.push(gs(x,b,f)))),S)break;x=x.return}0<w.length&&(h=new N(h,y,null,r,m),d.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",h&&r!==yo&&(y=r.relatedTarget||r.fromElement)&&(Dn(y)||y[Yt]))break e;if((N||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,N?(y=r.relatedTarget||r.toElement,N=i,y=y?Dn(y):null,y!==null&&(S=Jn(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(N=null,y=i),N!==y)){if(w=Dc,b="onMouseLeave",p="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ac,b="onPointerLeave",p="onPointerEnter",x="pointer"),S=N==null?h:ar(N),f=y==null?h:ar(y),h=new w(b,x+"leave",N,r,m),h.target=S,h.relatedTarget=f,b=null,Dn(m)===i&&(w=new w(p,x+"enter",y,r,m),w.target=f,w.relatedTarget=S,b=w),S=b,N&&y)t:{for(w=N,p=y,x=0,f=w;f;f=Zn(f))x++;for(f=0,b=p;b;b=Zn(b))f++;for(;0<x-f;)w=Zn(w),x--;for(;0<f-x;)p=Zn(p),f--;for(;x--;){if(w===p||p!==null&&w===p.alternate)break t;w=Zn(w),p=Zn(p)}w=null}else w=null;N!==null&&Kc(d,h,N,w,!1),y!==null&&S!==null&&Kc(d,S,y,w,!0)}}e:{if(h=i?ar(i):window,N=h.nodeName&&h.nodeName.toLowerCase(),N==="select"||N==="input"&&h.type==="file")var C=Zh;else if($c(h))if(sm)C=rf;else{C=tf;var j=ef}else(N=h.nodeName)&&N.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=nf);if(C&&(C=C(e,i))){rm(d,C,r,m);break e}j&&j(e,h,i),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&mo(h,"number",h.value)}switch(j=i?ar(i):window,e){case"focusin":($c(j)||j.contentEditable==="true")&&(rr=j,ko=i,ss=null);break;case"focusout":ss=ko=rr=null;break;case"mousedown":So=!0;break;case"contextmenu":case"mouseup":case"dragend":So=!1,Vc(d,r,m);break;case"selectionchange":if(lf)break;case"keydown":case"keyup":Vc(d,r,m)}var P;if(Si)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else nr?tm(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(em&&r.locale!=="ko"&&(nr||k!=="onCompositionStart"?k==="onCompositionEnd"&&nr&&(P=Zu()):(dn=m,Ni="value"in dn?dn.value:dn.textContent,nr=!0)),j=Ta(i,k),0<j.length&&(k=new Fc(k,e,null,r,m),d.push({event:k,listeners:j}),P?k.data=P:(P=nm(r),P!==null&&(k.data=P)))),(P=Kh?Yh(e,r):Gh(e,r))&&(i=Ta(i,"onBeforeInput"),0<i.length&&(m=new Fc("onBeforeInput","beforeinput",null,r,m),d.push({event:m,listeners:i}),m.data=P))}xm(d,t)})}function gs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ta(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=us(e,r),l!=null&&s.unshift(gs(e,l,a)),l=us(e,t),l!=null&&s.push(gs(e,l,a))),e=e.return}return s}function Zn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kc(e,t,r,s,a){for(var l=t._reactName,o=[];r!==null&&r!==s;){var c=r,u=c.alternate,i=c.stateNode;if(u!==null&&u===s)break;c.tag===5&&i!==null&&(c=i,a?(u=us(r,l),u!=null&&o.unshift(gs(r,u,c))):a||(u=us(r,l),u!=null&&o.push(gs(r,u,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var uf=/\r\n?/g,mf=/\u0000|\uFFFD/g;function Yc(e){return(typeof e=="string"?e:""+e).replace(uf,`
`).replace(mf,"")}function ea(e,t,r){if(t=Yc(t),Yc(e)!==t&&r)throw Error(A(425))}function za(){}var _o=null,Co=null;function Eo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Po=typeof setTimeout=="function"?setTimeout:void 0,pf=typeof clearTimeout=="function"?clearTimeout:void 0,Gc=typeof Promise=="function"?Promise:void 0,xf=typeof queueMicrotask=="function"?queueMicrotask:typeof Gc<"u"?function(e){return Gc.resolve(null).then(e).catch(hf)}:Po;function hf(e){setTimeout(function(){throw e})}function Wl(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),xs(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);xs(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),It="__reactFiber$"+Lr,bs="__reactProps$"+Lr,Yt="__reactContainer$"+Lr,Lo="__reactEvents$"+Lr,ff="__reactListeners$"+Lr,yf="__reactHandles$"+Lr;function Dn(e){var t=e[It];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yt]||r[It]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Jc(e);e!==null;){if(r=e[It])return r;e=Jc(e)}return t}e=r,r=e.parentNode}return null}function Ts(e){return e=e[It]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function ll(e){return e[bs]||null}var Ro=[],lr=-1;function Cn(e){return{current:e}}function xe(e){0>lr||(e.current=Ro[lr],Ro[lr]=null,lr--)}function ue(e,t){lr++,Ro[lr]=e.current,e.current=t}var kn={},qe=Cn(kn),et=Cn(!1),Un=kn;function br(e,t){var r=e.type.contextTypes;if(!r)return kn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function tt(e){return e=e.childContextTypes,e!=null}function Da(){xe(et),xe(qe)}function Xc(e,t,r){if(qe.current!==kn)throw Error(A(168));ue(qe,t),ue(et,r)}function fm(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(A(108,eh(e)||"Unknown",a));return ve({},r,s)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Un=qe.current,ue(qe,e),ue(et,et.current),!0}function Zc(e,t,r){var s=e.stateNode;if(!s)throw Error(A(169));r?(e=fm(e,t,Un),s.__reactInternalMemoizedMergedChildContext=e,xe(et),xe(qe),ue(qe,e)):xe(et),ue(et,r)}var Ht=null,ol=!1,Hl=!1;function ym(e){Ht===null?Ht=[e]:Ht.push(e)}function gf(e){ol=!0,ym(e)}function En(){if(!Hl&&Ht!==null){Hl=!0;var e=0,t=ae;try{var r=Ht;for(ae=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Ht=null,ol=!1}catch(a){throw Ht!==null&&(Ht=Ht.slice(e+1)),Uu(gi,En),a}finally{ae=t,Hl=!1}}return null}var or=[],ir=0,Aa=null,Ia=0,ft=[],yt=0,Wn=null,Vt=1,qt="";function Tn(e,t){or[ir++]=Ia,or[ir++]=Aa,Aa=e,Ia=t}function gm(e,t,r){ft[yt++]=Vt,ft[yt++]=qt,ft[yt++]=Wn,Wn=e;var s=Vt;e=qt;var a=32-Pt(s)-1;s&=~(1<<a),r+=1;var l=32-Pt(t)+a;if(30<l){var o=a-a%5;l=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Vt=1<<32-Pt(t)+a|r<<a|s,qt=l+e}else Vt=1<<l|r<<a|s,qt=e}function Ci(e){e.return!==null&&(Tn(e,1),gm(e,1,0))}function Ei(e){for(;e===Aa;)Aa=or[--ir],or[ir]=null,Ia=or[--ir],or[ir]=null;for(;e===Wn;)Wn=ft[--yt],ft[yt]=null,qt=ft[--yt],ft[yt]=null,Vt=ft[--yt],ft[yt]=null}var ct=null,it=null,fe=!1,Et=null;function bm(e,t){var r=gt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ed(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,it=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Wn!==null?{id:Vt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ct=e,it=null,!0):!1;default:return!1}}function Oo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function To(e){if(fe){var t=it;if(t){var r=t;if(!ed(e,t)){if(Oo(e))throw Error(A(418));t=fn(r.nextSibling);var s=ct;t&&ed(e,t)?bm(s,r):(e.flags=e.flags&-4097|2,fe=!1,ct=e)}}else{if(Oo(e))throw Error(A(418));e.flags=e.flags&-4097|2,fe=!1,ct=e}}}function td(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function ta(e){if(e!==ct)return!1;if(!fe)return td(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Eo(e.type,e.memoizedProps)),t&&(t=it)){if(Oo(e))throw vm(),Error(A(418));for(;t;)bm(e,t),t=fn(t.nextSibling)}if(td(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){it=fn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}it=null}}else it=ct?fn(e.stateNode.nextSibling):null;return!0}function vm(){for(var e=it;e;)e=fn(e.nextSibling)}function vr(){it=ct=null,fe=!1}function Pi(e){Et===null?Et=[e]:Et.push(e)}var bf=Zt.ReactCurrentBatchConfig;function Vr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var s=r.stateNode}if(!s)throw Error(A(147,e));var a=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var c=a.refs;o===null?delete c[l]:c[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function na(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nd(e){var t=e._init;return t(e._payload)}function jm(e){function t(p,x){if(e){var f=p.deletions;f===null?(p.deletions=[x],p.flags|=16):f.push(x)}}function r(p,x){if(!e)return null;for(;x!==null;)t(p,x),x=x.sibling;return null}function s(p,x){for(p=new Map;x!==null;)x.key!==null?p.set(x.key,x):p.set(x.index,x),x=x.sibling;return p}function a(p,x){return p=vn(p,x),p.index=0,p.sibling=null,p}function l(p,x,f){return p.index=f,e?(f=p.alternate,f!==null?(f=f.index,f<x?(p.flags|=2,x):f):(p.flags|=2,x)):(p.flags|=1048576,x)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function c(p,x,f,b){return x===null||x.tag!==6?(x=Jl(f,p.mode,b),x.return=p,x):(x=a(x,f),x.return=p,x)}function u(p,x,f,b){var C=f.type;return C===tr?m(p,x,f.props.children,b,f.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===an&&nd(C)===x.type)?(b=a(x,f.props),b.ref=Vr(p,x,f),b.return=p,b):(b=ja(f.type,f.key,f.props,null,p.mode,b),b.ref=Vr(p,x,f),b.return=p,b)}function i(p,x,f,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==f.containerInfo||x.stateNode.implementation!==f.implementation?(x=Xl(f,p.mode,b),x.return=p,x):(x=a(x,f.children||[]),x.return=p,x)}function m(p,x,f,b,C){return x===null||x.tag!==7?(x=$n(f,p.mode,b,C),x.return=p,x):(x=a(x,f),x.return=p,x)}function d(p,x,f){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Jl(""+x,p.mode,f),x.return=p,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vs:return f=ja(x.type,x.key,x.props,null,p.mode,f),f.ref=Vr(p,null,x),f.return=p,f;case er:return x=Xl(x,p.mode,f),x.return=p,x;case an:var b=x._init;return d(p,b(x._payload),f)}if(Gr(x)||$r(x))return x=$n(x,p.mode,f,null),x.return=p,x;na(p,x)}return null}function h(p,x,f,b){var C=x!==null?x.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return C!==null?null:c(p,x,""+f,b);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Vs:return f.key===C?u(p,x,f,b):null;case er:return f.key===C?i(p,x,f,b):null;case an:return C=f._init,h(p,x,C(f._payload),b)}if(Gr(f)||$r(f))return C!==null?null:m(p,x,f,b,null);na(p,f)}return null}function N(p,x,f,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(f)||null,c(x,p,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vs:return p=p.get(b.key===null?f:b.key)||null,u(x,p,b,C);case er:return p=p.get(b.key===null?f:b.key)||null,i(x,p,b,C);case an:var j=b._init;return N(p,x,f,j(b._payload),C)}if(Gr(b)||$r(b))return p=p.get(f)||null,m(x,p,b,C,null);na(x,b)}return null}function y(p,x,f,b){for(var C=null,j=null,P=x,k=x=0,_=null;P!==null&&k<f.length;k++){P.index>k?(_=P,P=null):_=P.sibling;var D=h(p,P,f[k],b);if(D===null){P===null&&(P=_);break}e&&P&&D.alternate===null&&t(p,P),x=l(D,x,k),j===null?C=D:j.sibling=D,j=D,P=_}if(k===f.length)return r(p,P),fe&&Tn(p,k),C;if(P===null){for(;k<f.length;k++)P=d(p,f[k],b),P!==null&&(x=l(P,x,k),j===null?C=P:j.sibling=P,j=P);return fe&&Tn(p,k),C}for(P=s(p,P);k<f.length;k++)_=N(P,p,k,f[k],b),_!==null&&(e&&_.alternate!==null&&P.delete(_.key===null?k:_.key),x=l(_,x,k),j===null?C=_:j.sibling=_,j=_);return e&&P.forEach(function(v){return t(p,v)}),fe&&Tn(p,k),C}function w(p,x,f,b){var C=$r(f);if(typeof C!="function")throw Error(A(150));if(f=C.call(f),f==null)throw Error(A(151));for(var j=C=null,P=x,k=x=0,_=null,D=f.next();P!==null&&!D.done;k++,D=f.next()){P.index>k?(_=P,P=null):_=P.sibling;var v=h(p,P,D.value,b);if(v===null){P===null&&(P=_);break}e&&P&&v.alternate===null&&t(p,P),x=l(v,x,k),j===null?C=v:j.sibling=v,j=v,P=_}if(D.done)return r(p,P),fe&&Tn(p,k),C;if(P===null){for(;!D.done;k++,D=f.next())D=d(p,D.value,b),D!==null&&(x=l(D,x,k),j===null?C=D:j.sibling=D,j=D);return fe&&Tn(p,k),C}for(P=s(p,P);!D.done;k++,D=f.next())D=N(P,p,k,D.value,b),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?k:D.key),x=l(D,x,k),j===null?C=D:j.sibling=D,j=D);return e&&P.forEach(function(R){return t(p,R)}),fe&&Tn(p,k),C}function S(p,x,f,b){if(typeof f=="object"&&f!==null&&f.type===tr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Vs:e:{for(var C=f.key,j=x;j!==null;){if(j.key===C){if(C=f.type,C===tr){if(j.tag===7){r(p,j.sibling),x=a(j,f.props.children),x.return=p,p=x;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===an&&nd(C)===j.type){r(p,j.sibling),x=a(j,f.props),x.ref=Vr(p,j,f),x.return=p,p=x;break e}r(p,j);break}else t(p,j);j=j.sibling}f.type===tr?(x=$n(f.props.children,p.mode,b,f.key),x.return=p,p=x):(b=ja(f.type,f.key,f.props,null,p.mode,b),b.ref=Vr(p,x,f),b.return=p,p=b)}return o(p);case er:e:{for(j=f.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===f.containerInfo&&x.stateNode.implementation===f.implementation){r(p,x.sibling),x=a(x,f.children||[]),x.return=p,p=x;break e}else{r(p,x);break}else t(p,x);x=x.sibling}x=Xl(f,p.mode,b),x.return=p,p=x}return o(p);case an:return j=f._init,S(p,x,j(f._payload),b)}if(Gr(f))return y(p,x,f,b);if($r(f))return w(p,x,f,b);na(p,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,x!==null&&x.tag===6?(r(p,x.sibling),x=a(x,f),x.return=p,p=x):(r(p,x),x=Jl(f,p.mode,b),x.return=p,p=x),o(p)):r(p,x)}return S}var jr=jm(!0),Nm=jm(!1),Ma=Cn(null),$a=null,cr=null,Li=null;function Ri(){Li=cr=$a=null}function Oi(e){var t=Ma.current;xe(Ma),e._currentValue=t}function zo(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function fr(e,t){$a=e,Li=cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(Li!==e)if(e={context:e,memoizedValue:t,next:null},cr===null){if($a===null)throw Error(A(308));cr=e,$a.dependencies={lanes:0,firstContext:e}}else cr=cr.next=e;return t}var Fn=null;function Ti(e){Fn===null?Fn=[e]:Fn.push(e)}function wm(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Ti(t)):(r.next=a.next,a.next=r),t.interleaved=r,Gt(e,s)}function Gt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ln=!1;function zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function km(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,re&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Gt(e,r)}return a=s.interleaved,a===null?(t.next=t,Ti(s)):(t.next=a.next,a.next=t),s.interleaved=t,Gt(e,r)}function ha(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,bi(e,r)}}function rd(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=o:l=l.next=o,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ba(e,t,r,s){var a=e.updateQueue;ln=!1;var l=a.firstBaseUpdate,o=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var u=c,i=u.next;u.next=null,o===null?l=i:o.next=i,o=u;var m=e.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==o&&(c===null?m.firstBaseUpdate=i:c.next=i,m.lastBaseUpdate=u))}if(l!==null){var d=a.baseState;o=0,m=i=u=null,c=l;do{var h=c.lane,N=c.eventTime;if((s&h)===h){m!==null&&(m=m.next={eventTime:N,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var y=e,w=c;switch(h=t,N=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(N,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(N,d,h):y,h==null)break e;d=ve({},d,h);break e;case 2:ln=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[c]:h.push(c))}else N={eventTime:N,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(i=m=N,u=d):m=m.next=N,o|=h;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;h=c,c=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(m===null&&(u=d),a.baseState=u,a.firstBaseUpdate=i,a.lastBaseUpdate=m,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Vn|=o,e.lanes=o,e.memoizedState=d}}function sd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(A(191,a));a.call(s)}}}var zs={},$t=Cn(zs),vs=Cn(zs),js=Cn(zs);function An(e){if(e===zs)throw Error(A(174));return e}function Di(e,t){switch(ue(js,t),ue(vs,e),ue($t,zs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xo(t,e)}xe($t),ue($t,t)}function Nr(){xe($t),xe(vs),xe(js)}function Sm(e){An(js.current);var t=An($t.current),r=xo(t,e.type);t!==r&&(ue(vs,e),ue($t,r))}function Fi(e){vs.current===e&&(xe($t),xe(vs))}var ge=Cn(0);function Ua(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vl=[];function Ai(){for(var e=0;e<Vl.length;e++)Vl[e]._workInProgressVersionPrimary=null;Vl.length=0}var fa=Zt.ReactCurrentDispatcher,ql=Zt.ReactCurrentBatchConfig,Hn=0,be=null,Ce=null,Le=null,Wa=!1,as=!1,Ns=0,vf=0;function Ue(){throw Error(A(321))}function Ii(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rt(e[r],t[r]))return!1;return!0}function Mi(e,t,r,s,a,l){if(Hn=l,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=e===null||e.memoizedState===null?kf:Sf,e=r(s,a),as){l=0;do{if(as=!1,Ns=0,25<=l)throw Error(A(301));l+=1,Le=Ce=null,t.updateQueue=null,fa.current=_f,e=r(s,a)}while(as)}if(fa.current=Ha,t=Ce!==null&&Ce.next!==null,Hn=0,Le=Ce=be=null,Wa=!1,t)throw Error(A(300));return e}function $i(){var e=Ns!==0;return Ns=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?be.memoizedState=Le=e:Le=Le.next=e,Le}function Nt(){if(Ce===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Le===null?be.memoizedState:Le.next;if(t!==null)Le=t,Ce=e;else{if(e===null)throw Error(A(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Le===null?be.memoizedState=Le=e:Le=Le.next=e}return Le}function ws(e,t){return typeof t=="function"?t(e):t}function Ql(e){var t=Nt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var s=Ce,a=s.baseQueue,l=r.pending;if(l!==null){if(a!==null){var o=a.next;a.next=l.next,l.next=o}s.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,s=s.baseState;var c=o=null,u=null,i=l;do{var m=i.lane;if((Hn&m)===m)u!==null&&(u=u.next={lane:0,action:i.action,hasEagerState:i.hasEagerState,eagerState:i.eagerState,next:null}),s=i.hasEagerState?i.eagerState:e(s,i.action);else{var d={lane:m,action:i.action,hasEagerState:i.hasEagerState,eagerState:i.eagerState,next:null};u===null?(c=u=d,o=s):u=u.next=d,be.lanes|=m,Vn|=m}i=i.next}while(i!==null&&i!==l);u===null?o=s:u.next=c,Rt(s,t.memoizedState)||(Ze=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=u,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do l=a.lane,be.lanes|=l,Vn|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Kl(e){var t=Nt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do l=e(l,o.action),o=o.next;while(o!==a);Rt(l,t.memoizedState)||(Ze=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,s]}function _m(){}function Cm(e,t){var r=be,s=Nt(),a=t(),l=!Rt(s.memoizedState,a);if(l&&(s.memoizedState=a,Ze=!0),s=s.queue,Bi(Lm.bind(null,r,s,e),[e]),s.getSnapshot!==t||l||Le!==null&&Le.memoizedState.tag&1){if(r.flags|=2048,ks(9,Pm.bind(null,r,s,a,t),void 0,null),Re===null)throw Error(A(349));Hn&30||Em(r,t,a)}return a}function Em(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Pm(e,t,r,s){t.value=r,t.getSnapshot=s,Rm(t)&&Om(e)}function Lm(e,t,r){return r(function(){Rm(t)&&Om(e)})}function Rm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rt(e,r)}catch{return!0}}function Om(e){var t=Gt(e,1);t!==null&&Lt(t,e,1,-1)}function ad(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=wf.bind(null,be,e),[t.memoizedState,e]}function ks(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Tm(){return Nt().memoizedState}function ya(e,t,r,s){var a=At();be.flags|=e,a.memoizedState=ks(1|t,r,void 0,s===void 0?null:s)}function il(e,t,r,s){var a=Nt();s=s===void 0?null:s;var l=void 0;if(Ce!==null){var o=Ce.memoizedState;if(l=o.destroy,s!==null&&Ii(s,o.deps)){a.memoizedState=ks(t,r,l,s);return}}be.flags|=e,a.memoizedState=ks(1|t,r,l,s)}function ld(e,t){return ya(8390656,8,e,t)}function Bi(e,t){return il(2048,8,e,t)}function zm(e,t){return il(4,2,e,t)}function Dm(e,t){return il(4,4,e,t)}function Fm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Am(e,t,r){return r=r!=null?r.concat([e]):null,il(4,4,Fm.bind(null,t,e),r)}function Ui(){}function Im(e,t){var r=Nt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Ii(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Mm(e,t){var r=Nt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Ii(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function $m(e,t,r){return Hn&21?(Rt(r,t)||(r=Vu(),be.lanes|=r,Vn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=r)}function jf(e,t){var r=ae;ae=r!==0&&4>r?r:4,e(!0);var s=ql.transition;ql.transition={};try{e(!1),t()}finally{ae=r,ql.transition=s}}function Bm(){return Nt().memoizedState}function Nf(e,t,r){var s=bn(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Um(e))Wm(t,r);else if(r=wm(e,t,r,s),r!==null){var a=Ke();Lt(r,e,s,a),Hm(r,t,s)}}function wf(e,t,r){var s=bn(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Um(e))Wm(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,c=l(o,r);if(a.hasEagerState=!0,a.eagerState=c,Rt(c,o)){var u=t.interleaved;u===null?(a.next=a,Ti(t)):(a.next=u.next,u.next=a),t.interleaved=a;return}}catch{}finally{}r=wm(e,t,a,s),r!==null&&(a=Ke(),Lt(r,e,s,a),Hm(r,t,s))}}function Um(e){var t=e.alternate;return e===be||t!==null&&t===be}function Wm(e,t){as=Wa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Hm(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,bi(e,r)}}var Ha={readContext:jt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},kf={readContext:jt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:ld,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ya(4194308,4,Fm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ya(4194308,4,e,t)},useInsertionEffect:function(e,t){return ya(4,2,e,t)},useMemo:function(e,t){var r=At();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=At();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Nf.bind(null,be,e),[s.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:ad,useDebugValue:Ui,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=ad(!1),t=e[0];return e=jf.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=be,a=At();if(fe){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),Re===null)throw Error(A(349));Hn&30||Em(s,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,ld(Lm.bind(null,s,l,e),[e]),s.flags|=2048,ks(9,Pm.bind(null,s,l,r,t),void 0,null),r},useId:function(){var e=At(),t=Re.identifierPrefix;if(fe){var r=qt,s=Vt;r=(s&~(1<<32-Pt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ns++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vf++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sf={readContext:jt,useCallback:Im,useContext:jt,useEffect:Bi,useImperativeHandle:Am,useInsertionEffect:zm,useLayoutEffect:Dm,useMemo:Mm,useReducer:Ql,useRef:Tm,useState:function(){return Ql(ws)},useDebugValue:Ui,useDeferredValue:function(e){var t=Nt();return $m(t,Ce.memoizedState,e)},useTransition:function(){var e=Ql(ws)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:_m,useSyncExternalStore:Cm,useId:Bm,unstable_isNewReconciler:!1},_f={readContext:jt,useCallback:Im,useContext:jt,useEffect:Bi,useImperativeHandle:Am,useInsertionEffect:zm,useLayoutEffect:Dm,useMemo:Mm,useReducer:Kl,useRef:Tm,useState:function(){return Kl(ws)},useDebugValue:Ui,useDeferredValue:function(e){var t=Nt();return Ce===null?t.memoizedState=e:$m(t,Ce.memoizedState,e)},useTransition:function(){var e=Kl(ws)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:_m,useSyncExternalStore:Cm,useId:Bm,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Do(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:ve({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cl={isMounted:function(e){return(e=e._reactInternals)?Jn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Ke(),a=bn(e),l=Qt(s,a);l.payload=t,r!=null&&(l.callback=r),t=yn(e,l,a),t!==null&&(Lt(t,e,a,s),ha(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Ke(),a=bn(e),l=Qt(s,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=yn(e,l,a),t!==null&&(Lt(t,e,a,s),ha(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ke(),s=bn(e),a=Qt(r,s);a.tag=2,t!=null&&(a.callback=t),t=yn(e,a,s),t!==null&&(Lt(t,e,s,r),ha(t,e,s))}};function od(e,t,r,s,a,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,o):t.prototype&&t.prototype.isPureReactComponent?!fs(r,s)||!fs(a,l):!0}function Vm(e,t,r){var s=!1,a=kn,l=t.contextType;return typeof l=="object"&&l!==null?l=jt(l):(a=tt(t)?Un:qe.current,s=t.contextTypes,l=(s=s!=null)?br(e,a):kn),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function id(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&cl.enqueueReplaceState(t,t.state,null)}function Fo(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},zi(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=jt(l):(l=tt(t)?Un:qe.current,a.context=br(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Do(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&cl.enqueueReplaceState(a,a.state,null),Ba(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function wr(e,t){try{var r="",s=t;do r+=Zx(s),s=s.return;while(s);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Yl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ao(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Cf=typeof WeakMap=="function"?WeakMap:Map;function qm(e,t,r){r=Qt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){qa||(qa=!0,Qo=s),Ao(e,t)},r}function Qm(e,t,r){r=Qt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Ao(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Ao(e,t),typeof s!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function cd(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Cf;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=Bf.bind(null,e,t,r),t.then(e,e))}function dd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ud(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Qt(-1,1),t.tag=2,yn(r,t,1))),r.lanes|=1),e)}var Ef=Zt.ReactCurrentOwner,Ze=!1;function Qe(e,t,r,s){t.child=e===null?Nm(t,null,r,s):jr(t,e.child,r,s)}function md(e,t,r,s,a){r=r.render;var l=t.ref;return fr(t,a),s=Mi(e,t,r,s,l,a),r=$i(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Jt(e,t,a)):(fe&&r&&Ci(t),t.flags|=1,Qe(e,t,s,a),t.child)}function pd(e,t,r,s,a){if(e===null){var l=r.type;return typeof l=="function"&&!Gi(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,Km(e,t,l,s,a)):(e=ja(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var o=l.memoizedProps;if(r=r.compare,r=r!==null?r:fs,r(o,s)&&e.ref===t.ref)return Jt(e,t,a)}return t.flags|=1,e=vn(l,s),e.ref=t.ref,e.return=t,t.child=e}function Km(e,t,r,s,a){if(e!==null){var l=e.memoizedProps;if(fs(l,s)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=s=l,(e.lanes&a)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,Jt(e,t,a)}return Io(e,t,r,s,a)}function Ym(e,t,r){var s=t.pendingProps,a=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(ur,ot),ot|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(ur,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:r,ue(ur,ot),ot|=s}else l!==null?(s=l.baseLanes|r,t.memoizedState=null):s=r,ue(ur,ot),ot|=s;return Qe(e,t,a,r),t.child}function Gm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Io(e,t,r,s,a){var l=tt(r)?Un:qe.current;return l=br(t,l),fr(t,a),r=Mi(e,t,r,s,l,a),s=$i(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Jt(e,t,a)):(fe&&s&&Ci(t),t.flags|=1,Qe(e,t,r,a),t.child)}function xd(e,t,r,s,a){if(tt(r)){var l=!0;Fa(t)}else l=!1;if(fr(t,a),t.stateNode===null)ga(e,t),Vm(t,r,s),Fo(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var u=o.context,i=r.contextType;typeof i=="object"&&i!==null?i=jt(i):(i=tt(r)?Un:qe.current,i=br(t,i));var m=r.getDerivedStateFromProps,d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==s||u!==i)&&id(t,o,s,i),ln=!1;var h=t.memoizedState;o.state=h,Ba(t,s,o,a),u=t.memoizedState,c!==s||h!==u||et.current||ln?(typeof m=="function"&&(Do(t,r,m,s),u=t.memoizedState),(c=ln||od(t,r,c,s,h,u,i))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=u),o.props=s,o.state=u,o.context=i,s=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,km(e,t),c=t.memoizedProps,i=t.type===t.elementType?c:_t(t.type,c),o.props=i,d=t.pendingProps,h=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=jt(u):(u=tt(r)?Un:qe.current,u=br(t,u));var N=r.getDerivedStateFromProps;(m=typeof N=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==d||h!==u)&&id(t,o,s,u),ln=!1,h=t.memoizedState,o.state=h,Ba(t,s,o,a);var y=t.memoizedState;c!==d||h!==y||et.current||ln?(typeof N=="function"&&(Do(t,r,N,s),y=t.memoizedState),(i=ln||od(t,r,i,s,h,y,u)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=y),o.props=s,o.state=y,o.context=u,s=i):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return Mo(e,t,r,s,l,a)}function Mo(e,t,r,s,a,l){Gm(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Zc(t,r,!1),Jt(e,t,l);s=t.stateNode,Ef.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=jr(t,e.child,null,l),t.child=jr(t,null,c,l)):Qe(e,t,c,l),t.memoizedState=s.state,a&&Zc(t,r,!0),t.child}function Jm(e){var t=e.stateNode;t.pendingContext?Xc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xc(e,t.context,!1),Di(e,t.containerInfo)}function hd(e,t,r,s,a){return vr(),Pi(a),t.flags|=256,Qe(e,t,r,s),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0};function Bo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xm(e,t,r){var s=t.pendingProps,a=ge.current,l=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ue(ge,a&1),e===null)return To(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,l?(s=t.mode,l=t.child,o={mode:"hidden",children:o},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=ml(o,s,0,null),e=$n(e,s,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Bo(r),t.memoizedState=$o,e):Wi(t,o));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return Pf(e,t,o,s,c,a,r);if(l){l=s.fallback,o=t.mode,a=e.child,c=a.sibling;var u={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=u,t.deletions=null):(s=vn(a,u),s.subtreeFlags=a.subtreeFlags&14680064),c!==null?l=vn(c,l):(l=$n(l,o,r,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,o=e.child.memoizedState,o=o===null?Bo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,t.memoizedState=$o,s}return l=e.child,e=l.sibling,s=vn(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Wi(e,t){return t=ml({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ra(e,t,r,s){return s!==null&&Pi(s),jr(t,e.child,null,r),e=Wi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pf(e,t,r,s,a,l,o){if(r)return t.flags&256?(t.flags&=-257,s=Yl(Error(A(422))),ra(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,a=t.mode,s=ml({mode:"visible",children:s.children},a,0,null),l=$n(l,a,o,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&jr(t,e.child,null,o),t.child.memoizedState=Bo(o),t.memoizedState=$o,l);if(!(t.mode&1))return ra(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var c=s.dgst;return s=c,l=Error(A(419)),s=Yl(l,s,void 0),ra(e,t,o,s)}if(c=(o&e.childLanes)!==0,Ze||c){if(s=Re,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Gt(e,a),Lt(s,e,a,-1))}return Yi(),s=Yl(Error(A(421))),ra(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Uf.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,it=fn(a.nextSibling),ct=t,fe=!0,Et=null,e!==null&&(ft[yt++]=Vt,ft[yt++]=qt,ft[yt++]=Wn,Vt=e.id,qt=e.overflow,Wn=t),t=Wi(t,s.children),t.flags|=4096,t)}function fd(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),zo(e.return,t,r)}function Gl(e,t,r,s,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=r,l.tailMode=a)}function Zm(e,t,r){var s=t.pendingProps,a=s.revealOrder,l=s.tail;if(Qe(e,t,s.children,r),s=ge.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fd(e,r,t);else if(e.tag===19)fd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ue(ge,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ua(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Gl(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ua(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Gl(t,!0,r,null,l);break;case"together":Gl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ga(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=vn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Lf(e,t,r){switch(t.tag){case 3:Jm(t),vr();break;case 5:Sm(t);break;case 1:tt(t.type)&&Fa(t);break;case 4:Di(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;ue(Ma,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ue(ge,ge.current&1),t.flags|=128,null):r&t.child.childLanes?Xm(e,t,r):(ue(ge,ge.current&1),e=Jt(e,t,r),e!==null?e.sibling:null);ue(ge,ge.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Zm(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ue(ge,ge.current),s)break;return null;case 22:case 23:return t.lanes=0,Ym(e,t,r)}return Jt(e,t,r)}var ep,Uo,tp,np;ep=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Uo=function(){};tp=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,An($t.current);var l=null;switch(r){case"input":a=co(e,a),s=co(e,s),l=[];break;case"select":a=ve({},a,{value:void 0}),s=ve({},s,{value:void 0}),l=[];break;case"textarea":a=po(e,a),s=po(e,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=za)}ho(r,s);var o;r=null;for(i in a)if(!s.hasOwnProperty(i)&&a.hasOwnProperty(i)&&a[i]!=null)if(i==="style"){var c=a[i];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else i!=="dangerouslySetInnerHTML"&&i!=="children"&&i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cs.hasOwnProperty(i)?l||(l=[]):(l=l||[]).push(i,null));for(i in s){var u=s[i];if(c=a!=null?a[i]:void 0,s.hasOwnProperty(i)&&u!==c&&(u!=null||c!=null))if(i==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(l||(l=[]),l.push(i,r)),r=u;else i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(l=l||[]).push(i,u)):i==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(i,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&(cs.hasOwnProperty(i)?(u!=null&&i==="onScroll"&&pe("scroll",e),l||c===u||(l=[])):(l=l||[]).push(i,u))}r&&(l=l||[]).push("style",r);var i=l;(t.updateQueue=i)&&(t.flags|=4)}};np=function(e,t,r,s){r!==s&&(t.flags|=4)};function qr(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Rf(e,t,r){var s=t.pendingProps;switch(Ei(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return tt(t.type)&&Da(),We(t),null;case 3:return s=t.stateNode,Nr(),xe(et),xe(qe),Ai(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ta(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(Go(Et),Et=null))),Uo(e,t),We(t),null;case 5:Fi(t);var a=An(js.current);if(r=t.type,e!==null&&t.stateNode!=null)tp(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(A(166));return We(t),null}if(e=An($t.current),ta(t)){s=t.stateNode,r=t.type;var l=t.memoizedProps;switch(s[It]=t,s[bs]=l,e=(t.mode&1)!==0,r){case"dialog":pe("cancel",s),pe("close",s);break;case"iframe":case"object":case"embed":pe("load",s);break;case"video":case"audio":for(a=0;a<Xr.length;a++)pe(Xr[a],s);break;case"source":pe("error",s);break;case"img":case"image":case"link":pe("error",s),pe("load",s);break;case"details":pe("toggle",s);break;case"input":Sc(s,l),pe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},pe("invalid",s);break;case"textarea":Cc(s,l),pe("invalid",s)}ho(r,l),a=null;for(var o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="children"?typeof c=="string"?s.textContent!==c&&(l.suppressHydrationWarning!==!0&&ea(s.textContent,c,e),a=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&ea(s.textContent,c,e),a=["children",""+c]):cs.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&pe("scroll",s)}switch(r){case"input":qs(s),_c(s,l,!0);break;case"textarea":qs(s),Ec(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=za)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[It]=t,e[bs]=s,ep(e,t,!1,!1),t.stateNode=e;e:{switch(o=fo(r,s),r){case"dialog":pe("cancel",e),pe("close",e),a=s;break;case"iframe":case"object":case"embed":pe("load",e),a=s;break;case"video":case"audio":for(a=0;a<Xr.length;a++)pe(Xr[a],e);a=s;break;case"source":pe("error",e),a=s;break;case"img":case"image":case"link":pe("error",e),pe("load",e),a=s;break;case"details":pe("toggle",e),a=s;break;case"input":Sc(e,s),a=co(e,s),pe("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=ve({},s,{value:void 0}),pe("invalid",e);break;case"textarea":Cc(e,s),a=po(e,s),pe("invalid",e);break;default:a=s}ho(r,a),c=a;for(l in c)if(c.hasOwnProperty(l)){var u=c[l];l==="style"?Tu(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ru(e,u)):l==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&ds(e,u):typeof u=="number"&&ds(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(cs.hasOwnProperty(l)?u!=null&&l==="onScroll"&&pe("scroll",e):u!=null&&pi(e,l,u,o))}switch(r){case"input":qs(e),_c(e,s,!1);break;case"textarea":qs(e),Ec(e);break;case"option":s.value!=null&&e.setAttribute("value",""+wn(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?mr(e,!!s.multiple,l,!1):s.defaultValue!=null&&mr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=za)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)np(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(A(166));if(r=An(js.current),An($t.current),ta(t)){if(s=t.stateNode,r=t.memoizedProps,s[It]=t,(l=s.nodeValue!==r)&&(e=ct,e!==null))switch(e.tag){case 3:ea(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ea(s.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[It]=t,t.stateNode=s}return We(t),null;case 13:if(xe(ge),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&it!==null&&t.mode&1&&!(t.flags&128))vm(),vr(),t.flags|=98560,l=!1;else if(l=ta(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(A(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(A(317));l[It]=t}else vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),l=!1}else Et!==null&&(Go(Et),Et=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Ee===0&&(Ee=3):Yi())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return Nr(),Uo(e,t),e===null&&ys(t.stateNode.containerInfo),We(t),null;case 10:return Oi(t.type._context),We(t),null;case 17:return tt(t.type)&&Da(),We(t),null;case 19:if(xe(ge),l=t.memoizedState,l===null)return We(t),null;if(s=(t.flags&128)!==0,o=l.rendering,o===null)if(s)qr(l,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ua(e),o!==null){for(t.flags|=128,qr(l,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)l=r,e=s,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ue(ge,ge.current&1|2),t.child}e=e.sibling}l.tail!==null&&we()>kr&&(t.flags|=128,s=!0,qr(l,!1),t.lanes=4194304)}else{if(!s)if(e=Ua(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!fe)return We(t),null}else 2*we()-l.renderingStartTime>kr&&r!==1073741824&&(t.flags|=128,s=!0,qr(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(r=l.last,r!==null?r.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=we(),t.sibling=null,r=ge.current,ue(ge,s?r&1|2:r&1),t):(We(t),null);case 22:case 23:return Ki(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?ot&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function Of(e,t){switch(Ei(t),t.tag){case 1:return tt(t.type)&&Da(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nr(),xe(et),xe(qe),Ai(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fi(t),null;case 13:if(xe(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(ge),null;case 4:return Nr(),null;case 10:return Oi(t.type._context),null;case 22:case 23:return Ki(),null;case 24:return null;default:return null}}var sa=!1,He=!1,Tf=typeof WeakSet=="function"?WeakSet:Set,V=null;function dr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ne(e,t,s)}else r.current=null}function Wo(e,t,r){try{r()}catch(s){Ne(e,t,s)}}var yd=!1;function zf(e,t){if(_o=Ra,e=om(),_i(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var o=0,c=-1,u=-1,i=0,m=0,d=e,h=null;t:for(;;){for(var N;d!==r||a!==0&&d.nodeType!==3||(c=o+a),d!==l||s!==0&&d.nodeType!==3||(u=o+s),d.nodeType===3&&(o+=d.nodeValue.length),(N=d.firstChild)!==null;)h=d,d=N;for(;;){if(d===e)break t;if(h===r&&++i===a&&(c=o),h===l&&++m===s&&(u=o),(N=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=N}r=c===-1||u===-1?null:{start:c,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Co={focusedElem:e,selectionRange:r},Ra=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,S=y.memoizedState,p=t.stateNode,x=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:_t(t.type,w),S);p.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(b){Ne(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return y=yd,yd=!1,y}function ls(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Wo(t,r,l)}a=a.next}while(a!==s)}}function dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Ho(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function rp(e){var t=e.alternate;t!==null&&(e.alternate=null,rp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[bs],delete t[Lo],delete t[ff],delete t[yf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sp(e){return e.tag===5||e.tag===3||e.tag===4}function gd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vo(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=za));else if(s!==4&&(e=e.child,e!==null))for(Vo(e,t,r),e=e.sibling;e!==null;)Vo(e,t,r),e=e.sibling}function qo(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(qo(e,t,r),e=e.sibling;e!==null;)qo(e,t,r),e=e.sibling}var Fe=null,Ct=!1;function sn(e,t,r){for(r=r.child;r!==null;)ap(e,t,r),r=r.sibling}function ap(e,t,r){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(nl,r)}catch{}switch(r.tag){case 5:He||dr(r,t);case 6:var s=Fe,a=Ct;Fe=null,sn(e,t,r),Fe=s,Ct=a,Fe!==null&&(Ct?(e=Fe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fe.removeChild(r.stateNode));break;case 18:Fe!==null&&(Ct?(e=Fe,r=r.stateNode,e.nodeType===8?Wl(e.parentNode,r):e.nodeType===1&&Wl(e,r),xs(e)):Wl(Fe,r.stateNode));break;case 4:s=Fe,a=Ct,Fe=r.stateNode.containerInfo,Ct=!0,sn(e,t,r),Fe=s,Ct=a;break;case 0:case 11:case 14:case 15:if(!He&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var l=a,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&Wo(r,t,o),a=a.next}while(a!==s)}sn(e,t,r);break;case 1:if(!He&&(dr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(c){Ne(r,t,c)}sn(e,t,r);break;case 21:sn(e,t,r);break;case 22:r.mode&1?(He=(s=He)||r.memoizedState!==null,sn(e,t,r),He=s):sn(e,t,r);break;default:sn(e,t,r)}}function bd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Tf),t.forEach(function(s){var a=Wf.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function St(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var l=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:Fe=c.stateNode,Ct=!1;break e;case 3:Fe=c.stateNode.containerInfo,Ct=!0;break e;case 4:Fe=c.stateNode.containerInfo,Ct=!0;break e}c=c.return}if(Fe===null)throw Error(A(160));ap(l,o,a),Fe=null,Ct=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(i){Ne(a,t,i)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lp(t,e),t=t.sibling}function lp(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),zt(e),s&4){try{ls(3,e,e.return),dl(3,e)}catch(w){Ne(e,e.return,w)}try{ls(5,e,e.return)}catch(w){Ne(e,e.return,w)}}break;case 1:St(t,e),zt(e),s&512&&r!==null&&dr(r,r.return);break;case 5:if(St(t,e),zt(e),s&512&&r!==null&&dr(r,r.return),e.flags&32){var a=e.stateNode;try{ds(a,"")}catch(w){Ne(e,e.return,w)}}if(s&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,o=r!==null?r.memoizedProps:l,c=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&Eu(a,l),fo(c,o);var i=fo(c,l);for(o=0;o<u.length;o+=2){var m=u[o],d=u[o+1];m==="style"?Tu(a,d):m==="dangerouslySetInnerHTML"?Ru(a,d):m==="children"?ds(a,d):pi(a,m,d,i)}switch(c){case"input":uo(a,l);break;case"textarea":Pu(a,l);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var N=l.value;N!=null?mr(a,!!l.multiple,N,!1):h!==!!l.multiple&&(l.defaultValue!=null?mr(a,!!l.multiple,l.defaultValue,!0):mr(a,!!l.multiple,l.multiple?[]:"",!1))}a[bs]=l}catch(w){Ne(e,e.return,w)}}break;case 6:if(St(t,e),zt(e),s&4){if(e.stateNode===null)throw Error(A(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(w){Ne(e,e.return,w)}}break;case 3:if(St(t,e),zt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{xs(t.containerInfo)}catch(w){Ne(e,e.return,w)}break;case 4:St(t,e),zt(e);break;case 13:St(t,e),zt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(qi=we())),s&4&&bd(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(He=(i=He)||m,St(t,e),He=i):St(t,e),zt(e),s&8192){if(i=e.memoizedState!==null,(e.stateNode.isHidden=i)&&!m&&e.mode&1)for(V=e,m=e.child;m!==null;){for(d=V=m;V!==null;){switch(h=V,N=h.child,h.tag){case 0:case 11:case 14:case 15:ls(4,h,h.return);break;case 1:dr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){s=h,r=h.return;try{t=s,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){Ne(s,r,w)}}break;case 5:dr(h,h.return);break;case 22:if(h.memoizedState!==null){jd(d);continue}}N!==null?(N.return=h,V=N):jd(d)}m=m.sibling}e:for(m=null,d=e;;){if(d.tag===5){if(m===null){m=d;try{a=d.stateNode,i?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=Ou("display",o))}catch(w){Ne(e,e.return,w)}}}else if(d.tag===6){if(m===null)try{d.stateNode.nodeValue=i?"":d.memoizedProps}catch(w){Ne(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:St(t,e),zt(e),s&4&&bd(e);break;case 21:break;default:St(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(sp(r)){var s=r;break e}r=r.return}throw Error(A(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(ds(a,""),s.flags&=-33);var l=gd(e);qo(e,l,a);break;case 3:case 4:var o=s.stateNode.containerInfo,c=gd(e);Vo(e,c,o);break;default:throw Error(A(161))}}catch(u){Ne(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Df(e,t,r){V=e,op(e)}function op(e,t,r){for(var s=(e.mode&1)!==0;V!==null;){var a=V,l=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||sa;if(!o){var c=a.alternate,u=c!==null&&c.memoizedState!==null||He;c=sa;var i=He;if(sa=o,(He=u)&&!i)for(V=a;V!==null;)o=V,u=o.child,o.tag===22&&o.memoizedState!==null?Nd(a):u!==null?(u.return=o,V=u):Nd(a);for(;l!==null;)V=l,op(l),l=l.sibling;V=a,sa=c,He=i}vd(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,V=l):vd(e)}}function vd(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||dl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!He)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:_t(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&sd(t,l,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}sd(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var i=t.alternate;if(i!==null){var m=i.memoizedState;if(m!==null){var d=m.dehydrated;d!==null&&xs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}He||t.flags&512&&Ho(t)}catch(h){Ne(t,t.return,h)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function jd(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function Nd(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{dl(4,t)}catch(u){Ne(t,r,u)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(u){Ne(t,a,u)}}var l=t.return;try{Ho(t)}catch(u){Ne(t,l,u)}break;case 5:var o=t.return;try{Ho(t)}catch(u){Ne(t,o,u)}}}catch(u){Ne(t,t.return,u)}if(t===e){V=null;break}var c=t.sibling;if(c!==null){c.return=t.return,V=c;break}V=t.return}}var Ff=Math.ceil,Va=Zt.ReactCurrentDispatcher,Hi=Zt.ReactCurrentOwner,bt=Zt.ReactCurrentBatchConfig,re=0,Re=null,_e=null,Ae=0,ot=0,ur=Cn(0),Ee=0,Ss=null,Vn=0,ul=0,Vi=0,os=null,Xe=null,qi=0,kr=1/0,Wt=null,qa=!1,Qo=null,gn=null,aa=!1,un=null,Qa=0,is=0,Ko=null,ba=-1,va=0;function Ke(){return re&6?we():ba!==-1?ba:ba=we()}function bn(e){return e.mode&1?re&2&&Ae!==0?Ae&-Ae:bf.transition!==null?(va===0&&(va=Vu()),va):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Xu(e.type)),e):1}function Lt(e,t,r,s){if(50<is)throw is=0,Ko=null,Error(A(185));Rs(e,r,s),(!(re&2)||e!==Re)&&(e===Re&&(!(re&2)&&(ul|=r),Ee===4&&cn(e,Ae)),nt(e,s),r===1&&re===0&&!(t.mode&1)&&(kr=we()+500,ol&&En()))}function nt(e,t){var r=e.callbackNode;gh(e,t);var s=La(e,e===Re?Ae:0);if(s===0)r!==null&&Rc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Rc(r),t===1)e.tag===0?gf(wd.bind(null,e)):ym(wd.bind(null,e)),xf(function(){!(re&6)&&En()}),r=null;else{switch(qu(s)){case 1:r=gi;break;case 4:r=Wu;break;case 16:r=Pa;break;case 536870912:r=Hu;break;default:r=Pa}r=hp(r,ip.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ip(e,t){if(ba=-1,va=0,re&6)throw Error(A(327));var r=e.callbackNode;if(yr()&&e.callbackNode!==r)return null;var s=La(e,e===Re?Ae:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ka(e,s);else{t=s;var a=re;re|=2;var l=dp();(Re!==e||Ae!==t)&&(Wt=null,kr=we()+500,Mn(e,t));do try{Mf();break}catch(c){cp(e,c)}while(!0);Ri(),Va.current=l,re=a,_e!==null?t=0:(Re=null,Ae=0,t=Ee)}if(t!==0){if(t===2&&(a=jo(e),a!==0&&(s=a,t=Yo(e,a))),t===1)throw r=Ss,Mn(e,0),cn(e,s),nt(e,we()),r;if(t===6)cn(e,s);else{if(a=e.current.alternate,!(s&30)&&!Af(a)&&(t=Ka(e,s),t===2&&(l=jo(e),l!==0&&(s=l,t=Yo(e,l))),t===1))throw r=Ss,Mn(e,0),cn(e,s),nt(e,we()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(A(345));case 2:zn(e,Xe,Wt);break;case 3:if(cn(e,s),(s&130023424)===s&&(t=qi+500-we(),10<t)){if(La(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Ke(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Po(zn.bind(null,e,Xe,Wt),t);break}zn(e,Xe,Wt);break;case 4:if(cn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Pt(s);l=1<<o,o=t[o],o>a&&(a=o),s&=~l}if(s=a,s=we()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Ff(s/1960))-s,10<s){e.timeoutHandle=Po(zn.bind(null,e,Xe,Wt),s);break}zn(e,Xe,Wt);break;case 5:zn(e,Xe,Wt);break;default:throw Error(A(329))}}}return nt(e,we()),e.callbackNode===r?ip.bind(null,e):null}function Yo(e,t){var r=os;return e.current.memoizedState.isDehydrated&&(Mn(e,t).flags|=256),e=Ka(e,t),e!==2&&(t=Xe,Xe=r,t!==null&&Go(t)),e}function Go(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function Af(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],l=a.getSnapshot;a=a.value;try{if(!Rt(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~Vi,t&=~ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pt(t),s=1<<r;e[r]=-1,t&=~s}}function wd(e){if(re&6)throw Error(A(327));yr();var t=La(e,0);if(!(t&1))return nt(e,we()),null;var r=Ka(e,t);if(e.tag!==0&&r===2){var s=jo(e);s!==0&&(t=s,r=Yo(e,s))}if(r===1)throw r=Ss,Mn(e,0),cn(e,t),nt(e,we()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zn(e,Xe,Wt),nt(e,we()),null}function Qi(e,t){var r=re;re|=1;try{return e(t)}finally{re=r,re===0&&(kr=we()+500,ol&&En())}}function qn(e){un!==null&&un.tag===0&&!(re&6)&&yr();var t=re;re|=1;var r=bt.transition,s=ae;try{if(bt.transition=null,ae=1,e)return e()}finally{ae=s,bt.transition=r,re=t,!(re&6)&&En()}}function Ki(){ot=ur.current,xe(ur)}function Mn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,pf(r)),_e!==null)for(r=_e.return;r!==null;){var s=r;switch(Ei(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Da();break;case 3:Nr(),xe(et),xe(qe),Ai();break;case 5:Fi(s);break;case 4:Nr();break;case 13:xe(ge);break;case 19:xe(ge);break;case 10:Oi(s.type._context);break;case 22:case 23:Ki()}r=r.return}if(Re=e,_e=e=vn(e.current,null),Ae=ot=t,Ee=0,Ss=null,Vi=ul=Vn=0,Xe=os=null,Fn!==null){for(t=0;t<Fn.length;t++)if(r=Fn[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,l=r.pending;if(l!==null){var o=l.next;l.next=a,s.next=o}r.pending=s}Fn=null}return e}function cp(e,t){do{var r=_e;try{if(Ri(),fa.current=Ha,Wa){for(var s=be.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Wa=!1}if(Hn=0,Le=Ce=be=null,as=!1,Ns=0,Hi.current=null,r===null||r.return===null){Ee=1,Ss=t,_e=null;break}e:{var l=e,o=r.return,c=r,u=t;if(t=Ae,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var i=u,m=c,d=m.tag;if(!(m.mode&1)&&(d===0||d===11||d===15)){var h=m.alternate;h?(m.updateQueue=h.updateQueue,m.memoizedState=h.memoizedState,m.lanes=h.lanes):(m.updateQueue=null,m.memoizedState=null)}var N=dd(o);if(N!==null){N.flags&=-257,ud(N,o,c,l,t),N.mode&1&&cd(l,i,t),t=N,u=i;var y=t.updateQueue;if(y===null){var w=new Set;w.add(u),t.updateQueue=w}else y.add(u);break e}else{if(!(t&1)){cd(l,i,t),Yi();break e}u=Error(A(426))}}else if(fe&&c.mode&1){var S=dd(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),ud(S,o,c,l,t),Pi(wr(u,c));break e}}l=u=wr(u,c),Ee!==4&&(Ee=2),os===null?os=[l]:os.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var p=qm(l,u,t);rd(l,p);break e;case 1:c=u;var x=l.type,f=l.stateNode;if(!(l.flags&128)&&(typeof x.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(gn===null||!gn.has(f)))){l.flags|=65536,t&=-t,l.lanes|=t;var b=Qm(l,c,t);rd(l,b);break e}}l=l.return}while(l!==null)}mp(r)}catch(C){t=C,_e===r&&r!==null&&(_e=r=r.return);continue}break}while(!0)}function dp(){var e=Va.current;return Va.current=Ha,e===null?Ha:e}function Yi(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Re===null||!(Vn&268435455)&&!(ul&268435455)||cn(Re,Ae)}function Ka(e,t){var r=re;re|=2;var s=dp();(Re!==e||Ae!==t)&&(Wt=null,Mn(e,t));do try{If();break}catch(a){cp(e,a)}while(!0);if(Ri(),re=r,Va.current=s,_e!==null)throw Error(A(261));return Re=null,Ae=0,Ee}function If(){for(;_e!==null;)up(_e)}function Mf(){for(;_e!==null&&!ch();)up(_e)}function up(e){var t=xp(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?mp(e):_e=t,Hi.current=null}function mp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Of(r,t),r!==null){r.flags&=32767,_e=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,_e=null;return}}else if(r=Rf(r,t,ot),r!==null){_e=r;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Ee===0&&(Ee=5)}function zn(e,t,r){var s=ae,a=bt.transition;try{bt.transition=null,ae=1,$f(e,t,r,s)}finally{bt.transition=a,ae=s}return null}function $f(e,t,r,s){do yr();while(un!==null);if(re&6)throw Error(A(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(bh(e,l),e===Re&&(_e=Re=null,Ae=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||aa||(aa=!0,hp(Pa,function(){return yr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=bt.transition,bt.transition=null;var o=ae;ae=1;var c=re;re|=4,Hi.current=null,zf(e,r),lp(r,e),af(Co),Ra=!!_o,Co=_o=null,e.current=r,Df(r),dh(),re=c,ae=o,bt.transition=l}else e.current=r;if(aa&&(aa=!1,un=e,Qa=a),l=e.pendingLanes,l===0&&(gn=null),ph(r.stateNode),nt(e,we()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(qa)throw qa=!1,e=Qo,Qo=null,e;return Qa&1&&e.tag!==0&&yr(),l=e.pendingLanes,l&1?e===Ko?is++:(is=0,Ko=e):is=0,En(),null}function yr(){if(un!==null){var e=qu(Qa),t=bt.transition,r=ae;try{if(bt.transition=null,ae=16>e?16:e,un===null)var s=!1;else{if(e=un,un=null,Qa=0,re&6)throw Error(A(331));var a=re;for(re|=4,V=e.current;V!==null;){var l=V,o=l.child;if(V.flags&16){var c=l.deletions;if(c!==null){for(var u=0;u<c.length;u++){var i=c[u];for(V=i;V!==null;){var m=V;switch(m.tag){case 0:case 11:case 15:ls(8,m,l)}var d=m.child;if(d!==null)d.return=m,V=d;else for(;V!==null;){m=V;var h=m.sibling,N=m.return;if(rp(m),m===i){V=null;break}if(h!==null){h.return=N,V=h;break}V=N}}}var y=l.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}V=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,V=o;else e:for(;V!==null;){if(l=V,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ls(9,l,l.return)}var p=l.sibling;if(p!==null){p.return=l.return,V=p;break e}V=l.return}}var x=e.current;for(V=x;V!==null;){o=V;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,V=f;else e:for(o=x;V!==null;){if(c=V,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:dl(9,c)}}catch(C){Ne(c,c.return,C)}if(c===o){V=null;break e}var b=c.sibling;if(b!==null){b.return=c.return,V=b;break e}V=c.return}}if(re=a,En(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(nl,e)}catch{}s=!0}return s}finally{ae=r,bt.transition=t}}return!1}function kd(e,t,r){t=wr(r,t),t=qm(e,t,1),e=yn(e,t,1),t=Ke(),e!==null&&(Rs(e,1,t),nt(e,t))}function Ne(e,t,r){if(e.tag===3)kd(e,e,r);else for(;t!==null;){if(t.tag===3){kd(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(gn===null||!gn.has(s))){e=wr(r,e),e=Qm(t,e,1),t=yn(t,e,1),e=Ke(),t!==null&&(Rs(t,1,e),nt(t,e));break}}t=t.return}}function Bf(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Ke(),e.pingedLanes|=e.suspendedLanes&r,Re===e&&(Ae&r)===r&&(Ee===4||Ee===3&&(Ae&130023424)===Ae&&500>we()-qi?Mn(e,0):Vi|=r),nt(e,t)}function pp(e,t){t===0&&(e.mode&1?(t=Ys,Ys<<=1,!(Ys&130023424)&&(Ys=4194304)):t=1);var r=Ke();e=Gt(e,t),e!==null&&(Rs(e,t,r),nt(e,r))}function Uf(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),pp(e,r)}function Wf(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(A(314))}s!==null&&s.delete(t),pp(e,r)}var xp;xp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)Ze=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ze=!1,Lf(e,t,r);Ze=!!(e.flags&131072)}else Ze=!1,fe&&t.flags&1048576&&gm(t,Ia,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ga(e,t),e=t.pendingProps;var a=br(t,qe.current);fr(t,r),a=Mi(null,t,s,e,a,r);var l=$i();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(s)?(l=!0,Fa(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,zi(t),a.updater=cl,t.stateNode=a,a._reactInternals=t,Fo(t,s,e,r),t=Mo(null,t,s,!0,l,r)):(t.tag=0,fe&&l&&Ci(t),Qe(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(ga(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=Vf(s),e=_t(s,e),a){case 0:t=Io(null,t,s,e,r);break e;case 1:t=xd(null,t,s,e,r);break e;case 11:t=md(null,t,s,e,r);break e;case 14:t=pd(null,t,s,_t(s.type,e),r);break e}throw Error(A(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_t(s,a),Io(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_t(s,a),xd(e,t,s,a,r);case 3:e:{if(Jm(t),e===null)throw Error(A(387));s=t.pendingProps,l=t.memoizedState,a=l.element,km(e,t),Ba(t,s,null,r);var o=t.memoizedState;if(s=o.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=wr(Error(A(423)),t),t=hd(e,t,s,r,a);break e}else if(s!==a){a=wr(Error(A(424)),t),t=hd(e,t,s,r,a);break e}else for(it=fn(t.stateNode.containerInfo.firstChild),ct=t,fe=!0,Et=null,r=Nm(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vr(),s===a){t=Jt(e,t,r);break e}Qe(e,t,s,r)}t=t.child}return t;case 5:return Sm(t),e===null&&To(t),s=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,o=a.children,Eo(s,a)?o=null:l!==null&&Eo(s,l)&&(t.flags|=32),Gm(e,t),Qe(e,t,o,r),t.child;case 6:return e===null&&To(t),null;case 13:return Xm(e,t,r);case 4:return Di(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=jr(t,null,s,r):Qe(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_t(s,a),md(e,t,s,a,r);case 7:return Qe(e,t,t.pendingProps,r),t.child;case 8:return Qe(e,t,t.pendingProps.children,r),t.child;case 12:return Qe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,ue(Ma,s._currentValue),s._currentValue=o,l!==null)if(Rt(l.value,o)){if(l.children===a.children&&!et.current){t=Jt(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){o=l.child;for(var u=c.firstContext;u!==null;){if(u.context===s){if(l.tag===1){u=Qt(-1,r&-r),u.tag=2;var i=l.updateQueue;if(i!==null){i=i.shared;var m=i.pending;m===null?u.next=u:(u.next=m.next,m.next=u),i.pending=u}}l.lanes|=r,u=l.alternate,u!==null&&(u.lanes|=r),zo(l.return,r,t),c.lanes|=r;break}u=u.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(A(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),zo(o,r,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Qe(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,fr(t,r),a=jt(a),s=s(a),t.flags|=1,Qe(e,t,s,r),t.child;case 14:return s=t.type,a=_t(s,t.pendingProps),a=_t(s.type,a),pd(e,t,s,a,r);case 15:return Km(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_t(s,a),ga(e,t),t.tag=1,tt(s)?(e=!0,Fa(t)):e=!1,fr(t,r),Vm(t,s,a),Fo(t,s,a,r),Mo(null,t,s,!0,e,r);case 19:return Zm(e,t,r);case 22:return Ym(e,t,r)}throw Error(A(156,t.tag))};function hp(e,t){return Uu(e,t)}function Hf(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,r,s){return new Hf(e,t,r,s)}function Gi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vf(e){if(typeof e=="function")return Gi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hi)return 11;if(e===fi)return 14}return 2}function vn(e,t){var r=e.alternate;return r===null?(r=gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ja(e,t,r,s,a,l){var o=2;if(s=e,typeof e=="function")Gi(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case tr:return $n(r.children,a,l,t);case xi:o=8,a|=8;break;case ao:return e=gt(12,r,t,a|2),e.elementType=ao,e.lanes=l,e;case lo:return e=gt(13,r,t,a),e.elementType=lo,e.lanes=l,e;case oo:return e=gt(19,r,t,a),e.elementType=oo,e.lanes=l,e;case Su:return ml(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wu:o=10;break e;case ku:o=9;break e;case hi:o=11;break e;case fi:o=14;break e;case an:o=16,s=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=gt(o,r,t,a),t.elementType=e,t.type=s,t.lanes=l,t}function $n(e,t,r,s){return e=gt(7,e,s,t),e.lanes=r,e}function ml(e,t,r,s){return e=gt(22,e,s,t),e.elementType=Su,e.lanes=r,e.stateNode={isHidden:!1},e}function Jl(e,t,r){return e=gt(6,e,null,t),e.lanes=r,e}function Xl(e,t,r){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qf(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ol(0),this.expirationTimes=Ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ji(e,t,r,s,a,l,o,c,u){return e=new qf(e,t,r,c,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=gt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zi(l),e}function Qf(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:er,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function fp(e){if(!e)return kn;e=e._reactInternals;e:{if(Jn(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(tt(r))return fm(e,r,t)}return t}function yp(e,t,r,s,a,l,o,c,u){return e=Ji(r,s,!0,e,a,l,o,c,u),e.context=fp(null),r=e.current,s=Ke(),a=bn(r),l=Qt(s,a),l.callback=t??null,yn(r,l,a),e.current.lanes=a,Rs(e,a,s),nt(e,s),e}function pl(e,t,r,s){var a=t.current,l=Ke(),o=bn(a);return r=fp(r),t.context===null?t.context=r:t.pendingContext=r,t=Qt(l,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=yn(a,t,o),e!==null&&(Lt(e,a,o,l),ha(e,a,o)),o}function Ya(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xi(e,t){Sd(e,t),(e=e.alternate)&&Sd(e,t)}function Kf(){return null}var gp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zi(e){this._internalRoot=e}xl.prototype.render=Zi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));pl(e,t,null,null)};xl.prototype.unmount=Zi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qn(function(){pl(null,e,null,null)}),t[Yt]=null}};function xl(e){this._internalRoot=e}xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<on.length&&t!==0&&t<on[r].priority;r++);on.splice(r,0,e),r===0&&Ju(e)}};function ec(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _d(){}function Yf(e,t,r,s,a){if(a){if(typeof s=="function"){var l=s;s=function(){var i=Ya(o);l.call(i)}}var o=yp(t,s,e,0,null,!1,!1,"",_d);return e._reactRootContainer=o,e[Yt]=o.current,ys(e.nodeType===8?e.parentNode:e),qn(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var c=s;s=function(){var i=Ya(u);c.call(i)}}var u=Ji(e,0,!1,null,null,!1,!1,"",_d);return e._reactRootContainer=u,e[Yt]=u.current,ys(e.nodeType===8?e.parentNode:e),qn(function(){pl(t,u,r,s)}),u}function fl(e,t,r,s,a){var l=r._reactRootContainer;if(l){var o=l;if(typeof a=="function"){var c=a;a=function(){var u=Ya(o);c.call(u)}}pl(t,o,e,a)}else o=Yf(r,t,e,a,s);return Ya(o)}Qu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Jr(t.pendingLanes);r!==0&&(bi(t,r|1),nt(t,we()),!(re&6)&&(kr=we()+500,En()))}break;case 13:qn(function(){var s=Gt(e,1);if(s!==null){var a=Ke();Lt(s,e,1,a)}}),Xi(e,1)}};vi=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var r=Ke();Lt(t,e,134217728,r)}Xi(e,134217728)}};Ku=function(e){if(e.tag===13){var t=bn(e),r=Gt(e,t);if(r!==null){var s=Ke();Lt(r,e,t,s)}Xi(e,t)}};Yu=function(){return ae};Gu=function(e,t){var r=ae;try{return ae=e,t()}finally{ae=r}};go=function(e,t,r){switch(t){case"input":if(uo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=ll(s);if(!a)throw Error(A(90));Cu(s),uo(s,a)}}}break;case"textarea":Pu(e,r);break;case"select":t=r.value,t!=null&&mr(e,!!r.multiple,t,!1)}};Fu=Qi;Au=qn;var Gf={usingClientEntryPoint:!1,Events:[Ts,ar,ll,zu,Du,Qi]},Qr={findFiberByHostInstance:Dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jf={bundleType:Qr.bundleType,version:Qr.version,rendererPackageName:Qr.rendererPackageName,rendererConfig:Qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$u(e),e===null?null:e.stateNode},findFiberByHostInstance:Qr.findFiberByHostInstance||Kf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{nl=la.inject(Jf),Mt=la}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gf;mt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ec(t))throw Error(A(200));return Qf(e,t,null,r)};mt.createRoot=function(e,t){if(!ec(e))throw Error(A(299));var r=!1,s="",a=gp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ji(e,1,!1,null,null,r,!1,s,a),e[Yt]=t.current,ys(e.nodeType===8?e.parentNode:e),new Zi(t)};mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=$u(t),e=e===null?null:e.stateNode,e};mt.flushSync=function(e){return qn(e)};mt.hydrate=function(e,t,r){if(!hl(t))throw Error(A(200));return fl(null,e,t,!0,r)};mt.hydrateRoot=function(e,t,r){if(!ec(e))throw Error(A(405));var s=r!=null&&r.hydratedSources||null,a=!1,l="",o=gp;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=yp(t,null,e,1,r??null,a,!1,l,o),e[Yt]=t.current,ys(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new xl(t)};mt.render=function(e,t,r){if(!hl(t))throw Error(A(200));return fl(null,e,t,!1,r)};mt.unmountComponentAtNode=function(e){if(!hl(e))throw Error(A(40));return e._reactRootContainer?(qn(function(){fl(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1};mt.unstable_batchedUpdates=Qi;mt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!hl(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return fl(e,t,r,!1,s)};mt.version="18.3.1-next-f1338f8080-20240426";function bp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bp)}catch(e){console.error(e)}}bp(),bu.exports=mt;var vp=bu.exports;const Xf=ou(vp);var Cd=vp;ro.createRoot=Cd.createRoot,ro.hydrateRoot=Cd.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_s.apply(this,arguments)}var mn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mn||(mn={}));const Ed="popstate";function Zf(e){e===void 0&&(e={});function t(s,a){let{pathname:l,search:o,hash:c}=s.location;return Jo("",{pathname:l,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Ga(a)}return ty(t,r,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ey(){return Math.random().toString(36).substr(2,8)}function Pd(e,t){return{usr:e.state,key:e.key,idx:t}}function Jo(e,t,r,s){return r===void 0&&(r=null),_s({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Rr(t):t,{state:r,key:t&&t.key||s||ey()})}function Ga(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Rr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function ty(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,o=a.history,c=mn.Pop,u=null,i=m();i==null&&(i=0,o.replaceState(_s({},o.state,{idx:i}),""));function m(){return(o.state||{idx:null}).idx}function d(){c=mn.Pop;let S=m(),p=S==null?null:S-i;i=S,u&&u({action:c,location:w.location,delta:p})}function h(S,p){c=mn.Push;let x=Jo(w.location,S,p);i=m()+1;let f=Pd(x,i),b=w.createHref(x);try{o.pushState(f,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(b)}l&&u&&u({action:c,location:w.location,delta:1})}function N(S,p){c=mn.Replace;let x=Jo(w.location,S,p);i=m();let f=Pd(x,i),b=w.createHref(x);o.replaceState(f,"",b),l&&u&&u({action:c,location:w.location,delta:0})}function y(S){let p=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof S=="string"?S:Ga(S);return x=x.replace(/ $/,"%20"),ke(p,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,p)}let w={get action(){return c},get location(){return e(a,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(Ed,d),u=S,()=>{a.removeEventListener(Ed,d),u=null}},createHref(S){return t(a,S)},createURL:y,encodeLocation(S){let p=y(S);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:N,go(S){return o.go(S)}};return w}var Ld;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ld||(Ld={}));function ny(e,t,r){return r===void 0&&(r="/"),ry(e,t,r)}function ry(e,t,r,s){let a=typeof t=="string"?Rr(t):t,l=nc(a.pathname||"/",r);if(l==null)return null;let o=jp(e);sy(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let i=fy(l);c=py(o[u],i)}return c}function jp(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(l,o,c)=>{let u={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};u.relativePath.startsWith("/")&&(ke(u.relativePath.startsWith(s),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(s.length));let i=jn([s,u.relativePath]),m=r.concat(u);l.children&&l.children.length>0&&(ke(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+i+'".')),jp(l.children,t,m,i)),!(l.path==null&&!l.index)&&t.push({path:i,score:uy(i,l.index),routesMeta:m})};return e.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))a(l,o);else for(let u of Np(l.path))a(l,o,u)}),t}function Np(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let o=Np(s.join("/")),c=[];return c.push(...o.map(u=>u===""?l:[l,u].join("/"))),a&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function sy(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:my(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const ay=/^:[\w-]+$/,ly=3,oy=2,iy=1,cy=10,dy=-2,Rd=e=>e==="*";function uy(e,t){let r=e.split("/"),s=r.length;return r.some(Rd)&&(s+=dy),t&&(s+=oy),r.filter(a=>!Rd(a)).reduce((a,l)=>a+(ay.test(l)?ly:l===""?iy:cy),s)}function my(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function py(e,t,r){let{routesMeta:s}=e,a={},l="/",o=[];for(let c=0;c<s.length;++c){let u=s[c],i=c===s.length-1,m=l==="/"?t:t.slice(l.length)||"/",d=xy({path:u.relativePath,caseSensitive:u.caseSensitive,end:i},m),h=u.route;if(!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:jn([l,d.pathname]),pathnameBase:jy(jn([l,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(l=jn([l,d.pathnameBase]))}return o}function xy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=hy(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:s.reduce((i,m,d)=>{let{paramName:h,isOptional:N}=m;if(h==="*"){let w=c[d]||"";o=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const y=c[d];return N&&!y?i[h]=void 0:i[h]=(y||"").replace(/%2F/g,"/"),i},{}),pathname:l,pathnameBase:o,pattern:e}}function hy(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),tc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(s.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function fy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}const yy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gy=e=>yy.test(e);function by(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Rr(e):e,l;if(r)if(gy(r))l=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),tc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?l=Od(r.substring(1),"/"):l=Od(r,t)}else l=t;return{pathname:l,search:Ny(s),hash:wy(a)}}function Od(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Zl(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vy(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rc(e,t){let r=vy(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function sc(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Rr(e):(a=_s({},e),ke(!a.pathname||!a.pathname.includes("?"),Zl("?","pathname","search",a)),ke(!a.pathname||!a.pathname.includes("#"),Zl("#","pathname","hash",a)),ke(!a.search||!a.search.includes("#"),Zl("#","search","hash",a)));let l=e===""||a.pathname==="",o=l?"/":a.pathname,c;if(o==null)c=r;else{let d=t.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}c=d>=0?t[d]:"/"}let u=by(a,c),i=o&&o!=="/"&&o.endsWith("/"),m=(l||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(i||m)&&(u.pathname+="/"),u}const jn=e=>e.join("/").replace(/\/\/+/g,"/"),jy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ny=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ky(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wp=["post","put","patch","delete"];new Set(wp);const Sy=["get",...wp];new Set(Sy);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Cs.apply(this,arguments)}const ac=g.createContext(null),_y=g.createContext(null),Pn=g.createContext(null),yl=g.createContext(null),en=g.createContext({outlet:null,matches:[],isDataRoute:!1}),kp=g.createContext(null);function Cy(e,t){let{relative:r}=t===void 0?{}:t;Or()||ke(!1);let{basename:s,navigator:a}=g.useContext(Pn),{hash:l,pathname:o,search:c}=_p(e,{relative:r}),u=o;return s!=="/"&&(u=o==="/"?s:jn([s,o])),a.createHref({pathname:u,search:c,hash:l})}function Or(){return g.useContext(yl)!=null}function Ds(){return Or()||ke(!1),g.useContext(yl).location}function Sp(e){g.useContext(Pn).static||g.useLayoutEffect(e)}function tn(){let{isDataRoute:e}=g.useContext(en);return e?$y():Ey()}function Ey(){Or()||ke(!1);let e=g.useContext(ac),{basename:t,future:r,navigator:s}=g.useContext(Pn),{matches:a}=g.useContext(en),{pathname:l}=Ds(),o=JSON.stringify(rc(a,r.v7_relativeSplatPath)),c=g.useRef(!1);return Sp(()=>{c.current=!0}),g.useCallback(function(i,m){if(m===void 0&&(m={}),!c.current)return;if(typeof i=="number"){s.go(i);return}let d=sc(i,JSON.parse(o),l,m.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:jn([t,d.pathname])),(m.replace?s.replace:s.push)(d,m.state,m)},[t,s,o,l,e])}function gl(){let{matches:e}=g.useContext(en),t=e[e.length-1];return t?t.params:{}}function _p(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=g.useContext(Pn),{matches:a}=g.useContext(en),{pathname:l}=Ds(),o=JSON.stringify(rc(a,s.v7_relativeSplatPath));return g.useMemo(()=>sc(e,JSON.parse(o),l,r==="path"),[e,o,l,r])}function Py(e,t){return Ly(e,t)}function Ly(e,t,r,s){Or()||ke(!1);let{navigator:a}=g.useContext(Pn),{matches:l}=g.useContext(en),o=l[l.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let i=Ds(),m;if(t){var d;let S=typeof t=="string"?Rr(t):t;u==="/"||(d=S.pathname)!=null&&d.startsWith(u)||ke(!1),m=S}else m=i;let h=m.pathname||"/",N=h;if(u!=="/"){let S=u.replace(/^\//,"").split("/");N="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=ny(e,{pathname:N}),w=Dy(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:jn([u,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:jn([u,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,r,s);return t&&w?g.createElement(yl.Provider,{value:{location:Cs({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:mn.Pop}},w):w}function Ry(){let e=My(),t=ky(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,null)}const Oy=g.createElement(Ry,null);class Ty extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(en.Provider,{value:this.props.routeContext},g.createElement(kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zy(e){let{routeContext:t,match:r,children:s}=e,a=g.useContext(ac);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(en.Provider,{value:t},s)}function Dy(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=(a=r)==null?void 0:a.errors;if(c!=null){let m=o.findIndex(d=>d.route.id&&(c==null?void 0:c[d.route.id])!==void 0);m>=0||ke(!1),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,i=-1;if(r&&s&&s.v7_partialHydration)for(let m=0;m<o.length;m++){let d=o[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(i=m),d.route.id){let{loaderData:h,errors:N}=r,y=d.route.loader&&h[d.route.id]===void 0&&(!N||N[d.route.id]===void 0);if(d.route.lazy||y){u=!0,i>=0?o=o.slice(0,i+1):o=[o[0]];break}}}return o.reduceRight((m,d,h)=>{let N,y=!1,w=null,S=null;r&&(N=c&&d.route.id?c[d.route.id]:void 0,w=d.route.errorElement||Oy,u&&(i<0&&h===0?(By("route-fallback"),y=!0,S=null):i===h&&(y=!0,S=d.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,h+1)),x=()=>{let f;return N?f=w:y?f=S:d.route.Component?f=g.createElement(d.route.Component,null):d.route.element?f=d.route.element:f=m,g.createElement(zy,{match:d,routeContext:{outlet:m,matches:p,isDataRoute:r!=null},children:f})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?g.createElement(Ty,{location:r.location,revalidation:r.revalidation,component:w,error:N,children:x(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):x()},null)}var Cp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Cp||{}),Ep=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ep||{});function Fy(e){let t=g.useContext(ac);return t||ke(!1),t}function Ay(e){let t=g.useContext(_y);return t||ke(!1),t}function Iy(e){let t=g.useContext(en);return t||ke(!1),t}function Pp(e){let t=Iy(),r=t.matches[t.matches.length-1];return r.route.id||ke(!1),r.route.id}function My(){var e;let t=g.useContext(kp),r=Ay(),s=Pp();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function $y(){let{router:e}=Fy(Cp.UseNavigateStable),t=Pp(Ep.UseNavigateStable),r=g.useRef(!1);return Sp(()=>{r.current=!0}),g.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Cs({fromRouteId:t},l)))},[e,t])}const Td={};function By(e,t,r){Td[e]||(Td[e]=!0)}function Uy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ja(e){let{to:t,replace:r,state:s,relative:a}=e;Or()||ke(!1);let{future:l,static:o}=g.useContext(Pn),{matches:c}=g.useContext(en),{pathname:u}=Ds(),i=tn(),m=sc(t,rc(c,l.v7_relativeSplatPath),u,a==="path"),d=JSON.stringify(m);return g.useEffect(()=>i(JSON.parse(d),{replace:r,state:s,relative:a}),[i,d,a,r,s]),null}function Se(e){ke(!1)}function Wy(e){let{basename:t="/",children:r=null,location:s,navigationType:a=mn.Pop,navigator:l,static:o=!1,future:c}=e;Or()&&ke(!1);let u=t.replace(/^\/*/,"/"),i=g.useMemo(()=>({basename:u,navigator:l,static:o,future:Cs({v7_relativeSplatPath:!1},c)}),[u,c,l,o]);typeof s=="string"&&(s=Rr(s));let{pathname:m="/",search:d="",hash:h="",state:N=null,key:y="default"}=s,w=g.useMemo(()=>{let S=nc(m,u);return S==null?null:{location:{pathname:S,search:d,hash:h,state:N,key:y},navigationType:a}},[u,m,d,h,N,y,a]);return w==null?null:g.createElement(Pn.Provider,{value:i},g.createElement(yl.Provider,{children:r,value:w}))}function Hy(e){let{children:t,location:r}=e;return Py(Xo(t),r)}new Promise(()=>{});function Xo(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(s,a)=>{if(!g.isValidElement(s))return;let l=[...t,a];if(s.type===g.Fragment){r.push.apply(r,Xo(s.props.children,l));return}s.type!==Se&&ke(!1),!s.props.index||!s.props.children||ke(!1);let o={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Xo(s.props.children,l)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Zo.apply(this,arguments)}function Vy(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,l;for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function qy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Qy(e,t){return e.button===0&&(!t||t==="_self")&&!qy(e)}const Ky=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Yy="6";try{window.__reactRouterVersion=Yy}catch{}const Gy="startTransition",zd=$x[Gy];function Jy(e){let{basename:t,children:r,future:s,window:a}=e,l=g.useRef();l.current==null&&(l.current=Zf({window:a,v5Compat:!0}));let o=l.current,[c,u]=g.useState({action:o.action,location:o.location}),{v7_startTransition:i}=s||{},m=g.useCallback(d=>{i&&zd?zd(()=>u(d)):u(d)},[u,i]);return g.useLayoutEffect(()=>o.listen(m),[o,m]),g.useEffect(()=>Uy(s),[s]),g.createElement(Wy,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:s})}const Xy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Na=g.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:l,replace:o,state:c,target:u,to:i,preventScrollReset:m,viewTransition:d}=t,h=Vy(t,Ky),{basename:N}=g.useContext(Pn),y,w=!1;if(typeof i=="string"&&Zy.test(i)&&(y=i,Xy))try{let f=new URL(window.location.href),b=i.startsWith("//")?new URL(f.protocol+i):new URL(i),C=nc(b.pathname,N);b.origin===f.origin&&C!=null?i=C+b.search+b.hash:w=!0}catch{}let S=Cy(i,{relative:a}),p=eg(i,{replace:o,state:c,target:u,preventScrollReset:m,relative:a,viewTransition:d});function x(f){s&&s(f),f.defaultPrevented||p(f)}return g.createElement("a",Zo({},h,{href:y||S,onClick:w||l?s:x,ref:r,target:u}))});var Dd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Dd||(Dd={}));var Fd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Fd||(Fd={}));function eg(e,t){let{target:r,replace:s,state:a,preventScrollReset:l,relative:o,viewTransition:c}=t===void 0?{}:t,u=tn(),i=Ds(),m=_p(e,{relative:o});return g.useCallback(d=>{if(Qy(d,r)){d.preventDefault();let h=s!==void 0?s:Ga(i)===Ga(m);u(e,{replace:h,state:a,preventScrollReset:l,relative:o,viewTransition:c})}},[i,u,m,s,a,r,e,l,o,c])}function tg(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const ng=e=>{switch(e){case"success":return ag;case"info":return og;case"warning":return lg;case"error":return ig;default:return null}},rg=Array(12).fill(0),sg=({visible:e,className:t})=>$.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},$.createElement("div",{className:"sonner-spinner"},rg.map((r,s)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),ag=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lg=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),og=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ig=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cg=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),dg=()=>{const[e,t]=$.useState(document.hidden);return $.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let ei=1;class ug{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:s,...a}=t,l=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:ei++,o=this.toasts.find(u=>u.id===l),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),o?this.toasts=this.toasts.map(u=>u.id===l?(this.publish({...u,...t,id:l,title:s}),{...u,...t,id:l,dismissible:c,title:s}):u):this.addToast({title:s,...a,dismissible:c,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let l=s!==void 0,o;const c=a.then(async i=>{if(o=["resolve",i],$.isValidElement(i))l=!1,this.create({id:s,type:"default",message:i});else if(pg(i)&&!i.ok){l=!1;const d=typeof r.error=="function"?await r.error(`HTTP error! status: ${i.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${i.status}`):r.description,y=typeof d=="object"&&!$.isValidElement(d)?d:{message:d};this.create({id:s,type:"error",description:h,...y})}else if(i instanceof Error){l=!1;const d=typeof r.error=="function"?await r.error(i):r.error,h=typeof r.description=="function"?await r.description(i):r.description,y=typeof d=="object"&&!$.isValidElement(d)?d:{message:d};this.create({id:s,type:"error",description:h,...y})}else if(r.success!==void 0){l=!1;const d=typeof r.success=="function"?await r.success(i):r.success,h=typeof r.description=="function"?await r.description(i):r.description,y=typeof d=="object"&&!$.isValidElement(d)?d:{message:d};this.create({id:s,type:"success",description:h,...y})}}).catch(async i=>{if(o=["reject",i],r.error!==void 0){l=!1;const m=typeof r.error=="function"?await r.error(i):r.error,d=typeof r.description=="function"?await r.description(i):r.description,N=typeof m=="object"&&!$.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:d,...N})}}).finally(()=>{l&&(this.dismiss(s),s=void 0),r.finally==null||r.finally.call(r)}),u=()=>new Promise((i,m)=>c.then(()=>o[0]==="reject"?m(o[1]):i(o[1])).catch(m));return typeof s!="string"&&typeof s!="number"?{unwrap:u}:Object.assign(s,{unwrap:u})},this.custom=(t,r)=>{const s=(r==null?void 0:r.id)||ei++;return this.create({jsx:t(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Je=new ug,mg=(e,t)=>{const r=(t==null?void 0:t.id)||ei++;return Je.addToast({title:e,...t,id:r}),r},pg=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",xg=mg,hg=()=>Je.toasts,fg=()=>Je.getActiveToasts(),J=Object.assign(xg,{success:Je.success,info:Je.info,warning:Je.warning,error:Je.error,custom:Je.custom,message:Je.message,promise:Je.promise,dismiss:Je.dismiss,loading:Je.loading},{getHistory:hg,getToasts:fg});tg("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function oa(e){return e.label!==void 0}const yg=3,gg="24px",bg="16px",Ad=4e3,vg=356,jg=14,Ng=45,wg=200;function Dt(...e){return e.filter(Boolean).join(" ")}function kg(e){const[t,r]=e.split("-"),s=[];return t&&s.push(t),r&&s.push(r),s}const Sg=e=>{var t,r,s,a,l,o,c,u,i;const{invert:m,toast:d,unstyled:h,interacting:N,setHeights:y,visibleToasts:w,heights:S,index:p,toasts:x,expanded:f,removeToast:b,defaultRichColors:C,closeButton:j,style:P,cancelButtonStyle:k,actionButtonStyle:_,className:D="",descriptionClassName:v="",duration:R,position:L,gap:z,expandByDefault:W,classNames:B,icons:K,closeButtonAriaLabel:F="Close toast"}=e,[I,U]=$.useState(null),[Y,O]=$.useState(null),[H,q]=$.useState(!1),[Q,ne]=$.useState(!1),[Oe,oe]=$.useState(!1),[me,Ln]=$.useState(!1),[Tt,at]=$.useState(!1),[Sl,Dr]=$.useState(0),[$s,Fr]=$.useState(0),nn=$.useRef(d.duration||R||Ad),Ar=$.useRef(null),xt=$.useRef(null),Bs=p===0,E=p+1<=w,M=d.type,G=d.dismissible!==!1,ie=d.className||"",se=d.descriptionClassName||"",Te=$.useMemo(()=>S.findIndex(Z=>Z.toastId===d.id)||0,[S,d.id]),ce=$.useMemo(()=>{var Z;return(Z=d.closeButton)!=null?Z:j},[d.closeButton,j]),de=$.useMemo(()=>d.duration||R||Ad,[d.duration,R]),Me=$.useRef(0),he=$.useRef(0),ye=$.useRef(0),$e=$.useRef(null),[Rn,Ir]=L.split("-"),Mr=$.useMemo(()=>S.reduce((Z,Pe,Be)=>Be>=Te?Z:Z+Pe.height,0),[S,Te]),Xn=dg(),jx=d.invert||m,_l=M==="loading";he.current=$.useMemo(()=>Te*z+Mr,[Te,Mr]),$.useEffect(()=>{nn.current=de},[de]),$.useEffect(()=>{q(!0)},[]),$.useEffect(()=>{const Z=xt.current;if(Z){const Pe=Z.getBoundingClientRect().height;return Fr(Pe),y(Be=>[{toastId:d.id,height:Pe,position:d.position},...Be]),()=>y(Be=>Be.filter(lt=>lt.toastId!==d.id))}},[y,d.id]),$.useLayoutEffect(()=>{if(!H)return;const Z=xt.current,Pe=Z.style.height;Z.style.height="auto";const Be=Z.getBoundingClientRect().height;Z.style.height=Pe,Fr(Be),y(lt=>lt.find(ze=>ze.toastId===d.id)?lt.map(ze=>ze.toastId===d.id?{...ze,height:Be}:ze):[{toastId:d.id,height:Be,position:d.position},...lt])},[H,d.title,d.description,y,d.id,d.jsx,d.action,d.cancel]);const rn=$.useCallback(()=>{ne(!0),Dr(he.current),y(Z=>Z.filter(Pe=>Pe.toastId!==d.id)),setTimeout(()=>{b(d)},wg)},[d,b,y,he]);$.useEffect(()=>{if(d.promise&&M==="loading"||d.duration===1/0||d.type==="loading")return;let Z;return f||N||Xn?(()=>{if(ye.current<Me.current){const lt=new Date().getTime()-Me.current;nn.current=nn.current-lt}ye.current=new Date().getTime()})():(()=>{nn.current!==1/0&&(Me.current=new Date().getTime(),Z=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),rn()},nn.current))})(),()=>clearTimeout(Z)},[f,N,d,M,Xn,rn]),$.useEffect(()=>{d.delete&&(rn(),d.onDismiss==null||d.onDismiss.call(d,d))},[rn,d.delete]);function Nx(){var Z;if(K!=null&&K.loading){var Pe;return $.createElement("div",{className:Dt(B==null?void 0:B.loader,d==null||(Pe=d.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":M==="loading"},K.loading)}return $.createElement(sg,{className:Dt(B==null?void 0:B.loader,d==null||(Z=d.classNames)==null?void 0:Z.loader),visible:M==="loading"})}const wx=d.icon||(K==null?void 0:K[M])||ng(M);var fc,yc;return $.createElement("li",{tabIndex:0,ref:xt,className:Dt(D,ie,B==null?void 0:B.toast,d==null||(t=d.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[M],d==null||(r=d.classNames)==null?void 0:r[M]),"data-sonner-toast":"","data-rich-colors":(fc=d.richColors)!=null?fc:C,"data-styled":!(d.jsx||d.unstyled||h),"data-mounted":H,"data-promise":!!d.promise,"data-swiped":Tt,"data-removed":Q,"data-visible":E,"data-y-position":Rn,"data-x-position":Ir,"data-index":p,"data-front":Bs,"data-swiping":Oe,"data-dismissible":G,"data-type":M,"data-invert":jx,"data-swipe-out":me,"data-swipe-direction":Y,"data-expanded":!!(f||W&&H),"data-testid":d.testId,style:{"--index":p,"--toasts-before":p,"--z-index":x.length-p,"--offset":`${Q?Sl:he.current}px`,"--initial-height":W?"auto":`${$s}px`,...P,...d.style},onDragEnd:()=>{oe(!1),U(null),$e.current=null},onPointerDown:Z=>{Z.button!==2&&(_l||!G||(Ar.current=new Date,Dr(he.current),Z.target.setPointerCapture(Z.pointerId),Z.target.tagName!=="BUTTON"&&(oe(!0),$e.current={x:Z.clientX,y:Z.clientY})))},onPointerUp:()=>{var Z,Pe,Be;if(me||!G)return;$e.current=null;const lt=Number(((Z=xt.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Us=Number(((Pe=xt.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ze=new Date().getTime()-((Be=Ar.current)==null?void 0:Be.getTime()),ht=I==="x"?lt:Us,Ws=Math.abs(ht)/ze;if(Math.abs(ht)>=Ng||Ws>.11){Dr(he.current),d.onDismiss==null||d.onDismiss.call(d,d),O(I==="x"?lt>0?"right":"left":Us>0?"down":"up"),rn(),Ln(!0);return}else{var wt,kt;(wt=xt.current)==null||wt.style.setProperty("--swipe-amount-x","0px"),(kt=xt.current)==null||kt.style.setProperty("--swipe-amount-y","0px")}at(!1),oe(!1),U(null)},onPointerMove:Z=>{var Pe,Be,lt;if(!$e.current||!G||((Pe=window.getSelection())==null?void 0:Pe.toString().length)>0)return;const ze=Z.clientY-$e.current.y,ht=Z.clientX-$e.current.x;var Ws;const wt=(Ws=e.swipeDirections)!=null?Ws:kg(L);!I&&(Math.abs(ht)>1||Math.abs(ze)>1)&&U(Math.abs(ht)>Math.abs(ze)?"x":"y");let kt={x:0,y:0};const gc=On=>1/(1.5+Math.abs(On)/20);if(I==="y"){if(wt.includes("top")||wt.includes("bottom"))if(wt.includes("top")&&ze<0||wt.includes("bottom")&&ze>0)kt.y=ze;else{const On=ze*gc(ze);kt.y=Math.abs(On)<Math.abs(ze)?On:ze}}else if(I==="x"&&(wt.includes("left")||wt.includes("right")))if(wt.includes("left")&&ht<0||wt.includes("right")&&ht>0)kt.x=ht;else{const On=ht*gc(ht);kt.x=Math.abs(On)<Math.abs(ht)?On:ht}(Math.abs(kt.x)>0||Math.abs(kt.y)>0)&&at(!0),(Be=xt.current)==null||Be.style.setProperty("--swipe-amount-x",`${kt.x}px`),(lt=xt.current)==null||lt.style.setProperty("--swipe-amount-y",`${kt.y}px`)}},ce&&!d.jsx&&M!=="loading"?$.createElement("button",{"aria-label":F,"data-disabled":_l,"data-close-button":!0,onClick:_l||!G?()=>{}:()=>{rn(),d.onDismiss==null||d.onDismiss.call(d,d)},className:Dt(B==null?void 0:B.closeButton,d==null||(s=d.classNames)==null?void 0:s.closeButton)},(yc=K==null?void 0:K.close)!=null?yc:cg):null,(M||d.icon||d.promise)&&d.icon!==null&&((K==null?void 0:K[M])!==null||d.icon)?$.createElement("div",{"data-icon":"",className:Dt(B==null?void 0:B.icon,d==null||(a=d.classNames)==null?void 0:a.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Nx():null,d.type!=="loading"?wx:null):null,$.createElement("div",{"data-content":"",className:Dt(B==null?void 0:B.content,d==null||(l=d.classNames)==null?void 0:l.content)},$.createElement("div",{"data-title":"",className:Dt(B==null?void 0:B.title,d==null||(o=d.classNames)==null?void 0:o.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?$.createElement("div",{"data-description":"",className:Dt(v,se,B==null?void 0:B.description,d==null||(c=d.classNames)==null?void 0:c.description)},typeof d.description=="function"?d.description():d.description):null),$.isValidElement(d.cancel)?d.cancel:d.cancel&&oa(d.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||k,onClick:Z=>{oa(d.cancel)&&G&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,Z),rn())},className:Dt(B==null?void 0:B.cancelButton,d==null||(u=d.classNames)==null?void 0:u.cancelButton)},d.cancel.label):null,$.isValidElement(d.action)?d.action:d.action&&oa(d.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||_,onClick:Z=>{oa(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,Z),!Z.defaultPrevented&&rn())},className:Dt(B==null?void 0:B.actionButton,d==null||(i=d.classNames)==null?void 0:i.actionButton)},d.action.label):null)};function Id(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function _g(e,t){const r={};return[e,t].forEach((s,a)=>{const l=a===1,o=l?"--mobile-offset":"--offset",c=l?bg:gg;function u(i){["top","right","bottom","left"].forEach(m=>{r[`${o}-${m}`]=typeof i=="number"?`${i}px`:i})}typeof s=="number"||typeof s=="string"?u(s):typeof s=="object"?["top","right","bottom","left"].forEach(i=>{s[i]===void 0?r[`${o}-${i}`]=c:r[`${o}-${i}`]=typeof s[i]=="number"?`${s[i]}px`:s[i]}):u(c)}),r}const Cg=$.forwardRef(function(t,r){const{id:s,invert:a,position:l="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:u,className:i,offset:m,mobileOffset:d,theme:h="light",richColors:N,duration:y,style:w,visibleToasts:S=yg,toastOptions:p,dir:x=Id(),gap:f=jg,icons:b,containerAriaLabel:C="Notifications"}=t,[j,P]=$.useState([]),k=$.useMemo(()=>s?j.filter(H=>H.toasterId===s):j.filter(H=>!H.toasterId),[j,s]),_=$.useMemo(()=>Array.from(new Set([l].concat(k.filter(H=>H.position).map(H=>H.position)))),[k,l]),[D,v]=$.useState([]),[R,L]=$.useState(!1),[z,W]=$.useState(!1),[B,K]=$.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=$.useRef(null),I=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=$.useRef(null),Y=$.useRef(!1),O=$.useCallback(H=>{P(q=>{var Q;return(Q=q.find(ne=>ne.id===H.id))!=null&&Q.delete||Je.dismiss(H.id),q.filter(({id:ne})=>ne!==H.id)})},[]);return $.useEffect(()=>Je.subscribe(H=>{if(H.dismiss){requestAnimationFrame(()=>{P(q=>q.map(Q=>Q.id===H.id?{...Q,delete:!0}:Q))});return}setTimeout(()=>{Xf.flushSync(()=>{P(q=>{const Q=q.findIndex(ne=>ne.id===H.id);return Q!==-1?[...q.slice(0,Q),{...q[Q],...H},...q.slice(Q+1)]:[H,...q]})})})}),[j]),$.useEffect(()=>{if(h!=="system"){K(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;const H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:q})=>{K(q?"dark":"light")})}catch{H.addListener(({matches:Q})=>{try{K(Q?"dark":"light")}catch(ne){console.error(ne)}})}},[h]),$.useEffect(()=>{j.length<=1&&L(!1)},[j]),$.useEffect(()=>{const H=q=>{var Q;if(o.every(oe=>q[oe]||q.code===oe)){var Oe;L(!0),(Oe=F.current)==null||Oe.focus()}q.code==="Escape"&&(document.activeElement===F.current||(Q=F.current)!=null&&Q.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[o]),$.useEffect(()=>{if(F.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,Y.current=!1)}},[F.current]),$.createElement("section",{ref:r,"aria-label":`${C} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((H,q)=>{var Q;const[ne,Oe]=H.split("-");return k.length?$.createElement("ol",{key:H,dir:x==="auto"?Id():x,tabIndex:-1,ref:F,className:i,"data-sonner-toaster":!0,"data-sonner-theme":B,"data-y-position":ne,"data-x-position":Oe,style:{"--front-toast-height":`${((Q=D[0])==null?void 0:Q.height)||0}px`,"--width":`${vg}px`,"--gap":`${f}px`,...w,..._g(m,d)},onBlur:oe=>{Y.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(Y.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,U.current=oe.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{z||L(!1)},onDragEnd:()=>L(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},k.filter(oe=>!oe.position&&q===0||oe.position===H).map((oe,me)=>{var Ln,Tt;return $.createElement(Sg,{key:oe.id,icons:b,index:me,toast:oe,defaultRichColors:N,duration:(Ln=p==null?void 0:p.duration)!=null?Ln:y,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:a,visibleToasts:S,closeButton:(Tt=p==null?void 0:p.closeButton)!=null?Tt:u,interacting:z,position:H,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,closeButtonAriaLabel:p==null?void 0:p.closeButtonAriaLabel,removeToast:O,toasts:k.filter(at=>at.position==oe.position),heights:D.filter(at=>at.position==oe.position),setHeights:v,expandByDefault:c,gap:f,expanded:R,swipeDirections:t.swipeDirections})})):null}))});function Lp(e,t){return function(){return e.apply(t,arguments)}}const{toString:Eg}=Object.prototype,{getPrototypeOf:lc}=Object,{iterator:bl,toStringTag:Rp}=Symbol,vl=(e=>t=>{const r=Eg.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ot=e=>(e=e.toLowerCase(),t=>vl(t)===e),jl=e=>t=>typeof t===e,{isArray:Tr}=Array,Sr=jl("undefined");function Fs(e){return e!==null&&!Sr(e)&&e.constructor!==null&&!Sr(e.constructor)&&rt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Op=Ot("ArrayBuffer");function Pg(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Op(e.buffer),t}const Lg=jl("string"),rt=jl("function"),Tp=jl("number"),As=e=>e!==null&&typeof e=="object",Rg=e=>e===!0||e===!1,wa=e=>{if(vl(e)!=="object")return!1;const t=lc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Rp in e)&&!(bl in e)},Og=e=>{if(!As(e)||Fs(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Tg=Ot("Date"),zg=Ot("File"),Dg=Ot("Blob"),Fg=Ot("FileList"),Ag=e=>As(e)&&rt(e.pipe),Ig=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||rt(e.append)&&((t=vl(e))==="formdata"||t==="object"&&rt(e.toString)&&e.toString()==="[object FormData]"))},Mg=Ot("URLSearchParams"),[$g,Bg,Ug,Wg]=["ReadableStream","Request","Response","Headers"].map(Ot),Hg=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Is(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Tr(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(Fs(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),o=l.length;let c;for(s=0;s<o;s++)c=l[s],t.call(null,e[c],c,e)}}function zp(e,t){if(Fs(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const In=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Dp=e=>!Sr(e)&&e!==In;function ti(){const{caseless:e,skipUndefined:t}=Dp(this)&&this||{},r={},s=(a,l)=>{const o=e&&zp(r,l)||l;wa(r[o])&&wa(a)?r[o]=ti(r[o],a):wa(a)?r[o]=ti({},a):Tr(a)?r[o]=a.slice():(!t||!Sr(a))&&(r[o]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Is(arguments[a],s);return r}const Vg=(e,t,r,{allOwnKeys:s}={})=>(Is(t,(a,l)=>{r&&rt(a)?e[l]=Lp(a,r):e[l]=a},{allOwnKeys:s}),e),qg=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Qg=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Kg=(e,t,r,s)=>{let a,l,o;const c={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)o=a[l],(!s||s(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=r!==!1&&lc(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Yg=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},Gg=e=>{if(!e)return null;if(Tr(e))return e;let t=e.length;if(!Tp(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Jg=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&lc(Uint8Array)),Xg=(e,t)=>{const s=(e&&e[bl]).call(e);let a;for(;(a=s.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},Zg=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},e0=Ot("HTMLFormElement"),t0=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),Md=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),n0=Ot("RegExp"),Fp=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Is(r,(a,l)=>{let o;(o=t(a,l,e))!==!1&&(s[l]=o||a)}),Object.defineProperties(e,s)},r0=e=>{Fp(e,(t,r)=>{if(rt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(rt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},s0=(e,t)=>{const r={},s=a=>{a.forEach(l=>{r[l]=!0})};return Tr(e)?s(e):s(String(e).split(t)),r},a0=()=>{},l0=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function o0(e){return!!(e&&rt(e.append)&&e[Rp]==="FormData"&&e[bl])}const i0=e=>{const t=new Array(10),r=(s,a)=>{if(As(s)){if(t.indexOf(s)>=0)return;if(Fs(s))return s;if(!("toJSON"in s)){t[a]=s;const l=Tr(s)?[]:{};return Is(s,(o,c)=>{const u=r(o,a+1);!Sr(u)&&(l[c]=u)}),t[a]=void 0,l}}return s};return r(e,0)},c0=Ot("AsyncFunction"),d0=e=>e&&(As(e)||rt(e))&&rt(e.then)&&rt(e.catch),Ap=((e,t)=>e?setImmediate:t?((r,s)=>(In.addEventListener("message",({source:a,data:l})=>{a===In&&l===r&&s.length&&s.shift()()},!1),a=>{s.push(a),In.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",rt(In.postMessage)),u0=typeof queueMicrotask<"u"?queueMicrotask.bind(In):typeof process<"u"&&process.nextTick||Ap,m0=e=>e!=null&&rt(e[bl]),T={isArray:Tr,isArrayBuffer:Op,isBuffer:Fs,isFormData:Ig,isArrayBufferView:Pg,isString:Lg,isNumber:Tp,isBoolean:Rg,isObject:As,isPlainObject:wa,isEmptyObject:Og,isReadableStream:$g,isRequest:Bg,isResponse:Ug,isHeaders:Wg,isUndefined:Sr,isDate:Tg,isFile:zg,isBlob:Dg,isRegExp:n0,isFunction:rt,isStream:Ag,isURLSearchParams:Mg,isTypedArray:Jg,isFileList:Fg,forEach:Is,merge:ti,extend:Vg,trim:Hg,stripBOM:qg,inherits:Qg,toFlatObject:Kg,kindOf:vl,kindOfTest:Ot,endsWith:Yg,toArray:Gg,forEachEntry:Xg,matchAll:Zg,isHTMLForm:e0,hasOwnProperty:Md,hasOwnProp:Md,reduceDescriptors:Fp,freezeMethods:r0,toObjectSet:s0,toCamelCase:t0,noop:a0,toFiniteNumber:l0,findKey:zp,global:In,isContextDefined:Dp,isSpecCompliantForm:o0,toJSONObject:i0,isAsyncFn:c0,isThenable:d0,setImmediate:Ap,asap:u0,isIterable:m0};function X(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}T.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const Ip=X.prototype,Mp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Mp[e]={value:e}});Object.defineProperties(X,Mp);Object.defineProperty(Ip,"isAxiosError",{value:!0});X.from=(e,t,r,s,a,l)=>{const o=Object.create(Ip);T.toFlatObject(e,o,function(m){return m!==Error.prototype},i=>i!=="isAxiosError");const c=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return X.call(o,c,u,r,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",l&&Object.assign(o,l),o};const p0=null;function ni(e){return T.isPlainObject(e)||T.isArray(e)}function $p(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function $d(e,t,r){return e?e.concat(t).map(function(a,l){return a=$p(a),!r&&l?"["+a+"]":a}).join(r?".":""):t}function x0(e){return T.isArray(e)&&!e.some(ni)}const h0=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function Nl(e,t,r){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=T.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!T.isUndefined(S[w])});const s=r.metaTokens,a=r.visitor||m,l=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(a))throw new TypeError("visitor must be a function");function i(y){if(y===null)return"";if(T.isDate(y))return y.toISOString();if(T.isBoolean(y))return y.toString();if(!u&&T.isBlob(y))throw new X("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(y)||T.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function m(y,w,S){let p=y;if(y&&!S&&typeof y=="object"){if(T.endsWith(w,"{}"))w=s?w:w.slice(0,-2),y=JSON.stringify(y);else if(T.isArray(y)&&x0(y)||(T.isFileList(y)||T.endsWith(w,"[]"))&&(p=T.toArray(y)))return w=$p(w),p.forEach(function(f,b){!(T.isUndefined(f)||f===null)&&t.append(o===!0?$d([w],b,l):o===null?w:w+"[]",i(f))}),!1}return ni(y)?!0:(t.append($d(S,w,l),i(y)),!1)}const d=[],h=Object.assign(h0,{defaultVisitor:m,convertValue:i,isVisitable:ni});function N(y,w){if(!T.isUndefined(y)){if(d.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));d.push(y),T.forEach(y,function(p,x){(!(T.isUndefined(p)||p===null)&&a.call(t,p,T.isString(x)?x.trim():x,w,h))===!0&&N(p,w?w.concat(x):[x])}),d.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return N(e),t}function Bd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function oc(e,t){this._pairs=[],e&&Nl(e,this,t)}const Bp=oc.prototype;Bp.append=function(t,r){this._pairs.push([t,r])};Bp.toString=function(t){const r=t?function(s){return t.call(this,s,Bd)}:Bd;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function f0(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Up(e,t,r){if(!t)return e;const s=r&&r.encode||f0;T.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(t,r):l=T.isURLSearchParams(t)?t.toString():new oc(t,r).toString(s),l){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Ud{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Wp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},y0=typeof URLSearchParams<"u"?URLSearchParams:oc,g0=typeof FormData<"u"?FormData:null,b0=typeof Blob<"u"?Blob:null,v0={isBrowser:!0,classes:{URLSearchParams:y0,FormData:g0,Blob:b0},protocols:["http","https","file","blob","url","data"]},ic=typeof window<"u"&&typeof document<"u",ri=typeof navigator=="object"&&navigator||void 0,j0=ic&&(!ri||["ReactNative","NativeScript","NS"].indexOf(ri.product)<0),N0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",w0=ic&&window.location.href||"http://localhost",k0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ic,hasStandardBrowserEnv:j0,hasStandardBrowserWebWorkerEnv:N0,navigator:ri,origin:w0},Symbol.toStringTag,{value:"Module"})),Ve={...k0,...v0};function S0(e,t){return Nl(e,new Ve.classes.URLSearchParams,{visitor:function(r,s,a,l){return Ve.isNode&&T.isBuffer(r)?(this.append(s,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function _0(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function C0(e){const t={},r=Object.keys(e);let s;const a=r.length;let l;for(s=0;s<a;s++)l=r[s],t[l]=e[l];return t}function Hp(e){function t(r,s,a,l){let o=r[l++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=l>=r.length;return o=!o&&T.isArray(a)?a.length:o,u?(T.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!c):((!a[o]||!T.isObject(a[o]))&&(a[o]=[]),t(r,s,a[o],l)&&T.isArray(a[o])&&(a[o]=C0(a[o])),!c)}if(T.isFormData(e)&&T.isFunction(e.entries)){const r={};return T.forEachEntry(e,(s,a)=>{t(_0(s),a,r,0)}),r}return null}function E0(e,t,r){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Ms={transitional:Wp,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,l=T.isObject(t);if(l&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return a?JSON.stringify(Hp(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return S0(t,this.formSerializer).toString();if((c=T.isFileList(t))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Nl(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),E0(t)):t}],transformResponse:[function(t){const r=this.transitional||Ms.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(s&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?X.from(c,X.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ve.classes.FormData,Blob:Ve.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{Ms.headers[e]={}});const P0=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),L0=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!r||t[r]&&P0[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},Wd=Symbol("internals");function Kr(e){return e&&String(e).trim().toLowerCase()}function ka(e){return e===!1||e==null?e:T.isArray(e)?e.map(ka):String(e)}function R0(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const O0=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function eo(e,t,r,s,a){if(T.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!T.isString(t)){if(T.isString(s))return t.indexOf(s)!==-1;if(T.isRegExp(s))return s.test(t)}}function T0(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function z0(e,t){const r=T.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,l,o){return this[s].call(this,t,a,l,o)},configurable:!0})})}let st=class{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function l(c,u,i){const m=Kr(u);if(!m)throw new Error("header name must be a non-empty string");const d=T.findKey(a,m);(!d||a[d]===void 0||i===!0||i===void 0&&a[d]!==!1)&&(a[d||u]=ka(c))}const o=(c,u)=>T.forEach(c,(i,m)=>l(i,m,u));if(T.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(T.isString(t)&&(t=t.trim())&&!O0(t))o(L0(t),r);else if(T.isObject(t)&&T.isIterable(t)){let c={},u,i;for(const m of t){if(!T.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[i=m[0]]=(u=c[i])?T.isArray(u)?[...u,m[1]]:[u,m[1]]:m[1]}o(c,r)}else t!=null&&l(r,t,s);return this}get(t,r){if(t=Kr(t),t){const s=T.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return R0(a);if(T.isFunction(r))return r.call(this,a,s);if(T.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Kr(t),t){const s=T.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||eo(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function l(o){if(o=Kr(o),o){const c=T.findKey(s,o);c&&(!r||eo(s,s[c],c,r))&&(delete s[c],a=!0)}}return T.isArray(t)?t.forEach(l):l(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const l=r[s];(!t||eo(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const r=this,s={};return T.forEach(this,(a,l)=>{const o=T.findKey(s,l);if(o){r[o]=ka(a),delete r[l];return}const c=t?T0(l):String(l).trim();c!==l&&delete r[l],r[c]=ka(a),s[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return T.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&T.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[Wd]=this[Wd]={accessors:{}}).accessors,a=this.prototype;function l(o){const c=Kr(o);s[c]||(z0(a,o),s[c]=!0)}return T.isArray(t)?t.forEach(l):l(t),this}};st.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(st.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});T.freezeMethods(st);function to(e,t){const r=this||Ms,s=t||r,a=st.from(s.headers);let l=s.data;return T.forEach(e,function(c){l=c.call(r,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function Vp(e){return!!(e&&e.__CANCEL__)}function zr(e,t,r){X.call(this,e??"canceled",X.ERR_CANCELED,t,r),this.name="CanceledError"}T.inherits(zr,X,{__CANCEL__:!0});function qp(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new X("Request failed with status code "+r.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function D0(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function F0(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,l=0,o;return t=t!==void 0?t:1e3,function(u){const i=Date.now(),m=s[l];o||(o=i),r[a]=u,s[a]=i;let d=l,h=0;for(;d!==a;)h+=r[d++],d=d%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),i-o<t)return;const N=m&&i-m;return N?Math.round(h*1e3/N):void 0}}function A0(e,t){let r=0,s=1e3/t,a,l;const o=(i,m=Date.now())=>{r=m,a=null,l&&(clearTimeout(l),l=null),e(...i)};return[(...i)=>{const m=Date.now(),d=m-r;d>=s?o(i,m):(a=i,l||(l=setTimeout(()=>{l=null,o(a)},s-d)))},()=>a&&o(a)]}const Xa=(e,t,r=3)=>{let s=0;const a=F0(50,250);return A0(l=>{const o=l.loaded,c=l.lengthComputable?l.total:void 0,u=o-s,i=a(u),m=o<=c;s=o;const d={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:i||void 0,estimated:i&&c&&m?(c-o)/i:void 0,event:l,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(d)},r)},Hd=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},Vd=e=>(...t)=>T.asap(()=>e(...t)),I0=Ve.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ve.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ve.origin),Ve.navigator&&/(msie|trident)/i.test(Ve.navigator.userAgent)):()=>!0,M0=Ve.hasStandardBrowserEnv?{write(e,t,r,s,a,l,o){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(t)}`];T.isNumber(r)&&c.push(`expires=${new Date(r).toUTCString()}`),T.isString(s)&&c.push(`path=${s}`),T.isString(a)&&c.push(`domain=${a}`),l===!0&&c.push("secure"),T.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function $0(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function B0(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Qp(e,t,r){let s=!$0(t);return e&&(s||r==!1)?B0(e,t):t}const qd=e=>e instanceof st?{...e}:e;function Qn(e,t){t=t||{};const r={};function s(i,m,d,h){return T.isPlainObject(i)&&T.isPlainObject(m)?T.merge.call({caseless:h},i,m):T.isPlainObject(m)?T.merge({},m):T.isArray(m)?m.slice():m}function a(i,m,d,h){if(T.isUndefined(m)){if(!T.isUndefined(i))return s(void 0,i,d,h)}else return s(i,m,d,h)}function l(i,m){if(!T.isUndefined(m))return s(void 0,m)}function o(i,m){if(T.isUndefined(m)){if(!T.isUndefined(i))return s(void 0,i)}else return s(void 0,m)}function c(i,m,d){if(d in t)return s(i,m);if(d in e)return s(void 0,i)}const u={url:l,method:l,data:l,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(i,m,d)=>a(qd(i),qd(m),d,!0)};return T.forEach(Object.keys({...e,...t}),function(m){const d=u[m]||a,h=d(e[m],t[m],m);T.isUndefined(h)&&d!==c||(r[m]=h)}),r}const Kp=e=>{const t=Qn({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:o,auth:c}=t;if(t.headers=o=st.from(o),t.url=Up(Qp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),T.isFormData(r)){if(Ve.hasStandardBrowserEnv||Ve.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(T.isFunction(r.getHeaders)){const u=r.getHeaders(),i=["content-type","content-length"];Object.entries(u).forEach(([m,d])=>{i.includes(m.toLowerCase())&&o.set(m,d)})}}if(Ve.hasStandardBrowserEnv&&(s&&T.isFunction(s)&&(s=s(t)),s||s!==!1&&I0(t.url))){const u=a&&l&&M0.read(l);u&&o.set(a,u)}return t},U0=typeof XMLHttpRequest<"u",W0=U0&&function(e){return new Promise(function(r,s){const a=Kp(e);let l=a.data;const o=st.from(a.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:i}=a,m,d,h,N,y;function w(){N&&N(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(a.method.toUpperCase(),a.url,!0),S.timeout=a.timeout;function p(){if(!S)return;const f=st.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),C={data:!c||c==="text"||c==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:f,config:e,request:S};qp(function(P){r(P),w()},function(P){s(P),w()},C),S=null}"onloadend"in S?S.onloadend=p:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(p)},S.onabort=function(){S&&(s(new X("Request aborted",X.ECONNABORTED,e,S)),S=null)},S.onerror=function(b){const C=b&&b.message?b.message:"Network Error",j=new X(C,X.ERR_NETWORK,e,S);j.event=b||null,s(j),S=null},S.ontimeout=function(){let b=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||Wp;a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),s(new X(b,C.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,e,S)),S=null},l===void 0&&o.setContentType(null),"setRequestHeader"in S&&T.forEach(o.toJSON(),function(b,C){S.setRequestHeader(C,b)}),T.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),c&&c!=="json"&&(S.responseType=a.responseType),i&&([h,y]=Xa(i,!0),S.addEventListener("progress",h)),u&&S.upload&&([d,N]=Xa(u),S.upload.addEventListener("progress",d),S.upload.addEventListener("loadend",N)),(a.cancelToken||a.signal)&&(m=f=>{S&&(s(!f||f.type?new zr(null,e,S):f),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const x=D0(a.url);if(x&&Ve.protocols.indexOf(x)===-1){s(new X("Unsupported protocol "+x+":",X.ERR_BAD_REQUEST,e));return}S.send(l||null)})},H0=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const l=function(i){if(!a){a=!0,c();const m=i instanceof Error?i:this.reason;s.abort(m instanceof X?m:new zr(m instanceof Error?m.message:m))}};let o=t&&setTimeout(()=>{o=null,l(new X(`timeout ${t} of ms exceeded`,X.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(i=>{i.unsubscribe?i.unsubscribe(l):i.removeEventListener("abort",l)}),e=null)};e.forEach(i=>i.addEventListener("abort",l));const{signal:u}=s;return u.unsubscribe=()=>T.asap(c),u}},V0=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},q0=async function*(e,t){for await(const r of Q0(e))yield*V0(r,t)},Q0=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},Qd=(e,t,r,s)=>{const a=q0(e,t);let l=0,o,c=u=>{o||(o=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:i,value:m}=await a.next();if(i){c(),u.close();return}let d=m.byteLength;if(r){let h=l+=d;r(h)}u.enqueue(new Uint8Array(m))}catch(i){throw c(i),i}},cancel(u){return c(u),a.return()}},{highWaterMark:2})},Kd=64*1024,{isFunction:ia}=T,K0=(({Request:e,Response:t})=>({Request:e,Response:t}))(T.global),{ReadableStream:Yd,TextEncoder:Gd}=T.global,Jd=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Y0=e=>{e=T.merge.call({skipUndefined:!0},K0,e);const{fetch:t,Request:r,Response:s}=e,a=t?ia(t):typeof fetch=="function",l=ia(r),o=ia(s);if(!a)return!1;const c=a&&ia(Yd),u=a&&(typeof Gd=="function"?(y=>w=>y.encode(w))(new Gd):async y=>new Uint8Array(await new r(y).arrayBuffer())),i=l&&c&&Jd(()=>{let y=!1;const w=new r(Ve.origin,{body:new Yd,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!w}),m=o&&c&&Jd(()=>T.isReadableStream(new s("").body)),d={stream:m&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!d[y]&&(d[y]=(w,S)=>{let p=w&&w[y];if(p)return p.call(w);throw new X(`Response type '${y}' is not supported`,X.ERR_NOT_SUPPORT,S)})});const h=async y=>{if(y==null)return 0;if(T.isBlob(y))return y.size;if(T.isSpecCompliantForm(y))return(await new r(Ve.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(T.isArrayBufferView(y)||T.isArrayBuffer(y))return y.byteLength;if(T.isURLSearchParams(y)&&(y=y+""),T.isString(y))return(await u(y)).byteLength},N=async(y,w)=>{const S=T.toFiniteNumber(y.getContentLength());return S??h(w)};return async y=>{let{url:w,method:S,data:p,signal:x,cancelToken:f,timeout:b,onDownloadProgress:C,onUploadProgress:j,responseType:P,headers:k,withCredentials:_="same-origin",fetchOptions:D}=Kp(y),v=t||fetch;P=P?(P+"").toLowerCase():"text";let R=H0([x,f&&f.toAbortSignal()],b),L=null;const z=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let W;try{if(j&&i&&S!=="get"&&S!=="head"&&(W=await N(k,p))!==0){let Y=new r(w,{method:"POST",body:p,duplex:"half"}),O;if(T.isFormData(p)&&(O=Y.headers.get("content-type"))&&k.setContentType(O),Y.body){const[H,q]=Hd(W,Xa(Vd(j)));p=Qd(Y.body,Kd,H,q)}}T.isString(_)||(_=_?"include":"omit");const B=l&&"credentials"in r.prototype,K={...D,signal:R,method:S.toUpperCase(),headers:k.normalize().toJSON(),body:p,duplex:"half",credentials:B?_:void 0};L=l&&new r(w,K);let F=await(l?v(L,D):v(w,K));const I=m&&(P==="stream"||P==="response");if(m&&(C||I&&z)){const Y={};["status","statusText","headers"].forEach(Q=>{Y[Q]=F[Q]});const O=T.toFiniteNumber(F.headers.get("content-length")),[H,q]=C&&Hd(O,Xa(Vd(C),!0))||[];F=new s(Qd(F.body,Kd,H,()=>{q&&q(),z&&z()}),Y)}P=P||"text";let U=await d[T.findKey(d,P)||"text"](F,y);return!I&&z&&z(),await new Promise((Y,O)=>{qp(Y,O,{data:U,headers:st.from(F.headers),status:F.status,statusText:F.statusText,config:y,request:L})})}catch(B){throw z&&z(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new X("Network Error",X.ERR_NETWORK,y,L),{cause:B.cause||B}):X.from(B,B&&B.code,y,L)}}},G0=new Map,Yp=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:a}=t,l=[s,a,r];let o=l.length,c=o,u,i,m=G0;for(;c--;)u=l[c],i=m.get(u),i===void 0&&m.set(u,i=c?new Map:Y0(t)),m=i;return i};Yp();const cc={http:p0,xhr:W0,fetch:{get:Yp}};T.forEach(cc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Xd=e=>`- ${e}`,J0=e=>T.isFunction(e)||e===null||e===!1;function X0(e,t){e=T.isArray(e)?e:[e];const{length:r}=e;let s,a;const l={};for(let o=0;o<r;o++){s=e[o];let c;if(a=s,!J0(s)&&(a=cc[(c=String(s)).toLowerCase()],a===void 0))throw new X(`Unknown adapter '${c}'`);if(a&&(T.isFunction(a)||(a=a.get(t))))break;l[c||"#"+o]=a}if(!a){const o=Object.entries(l).map(([u,i])=>`adapter ${u} `+(i===!1?"is not supported by the environment":"is not available in the build"));let c=r?o.length>1?`since :
`+o.map(Xd).join(`
`):" "+Xd(o[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a}const Gp={getAdapter:X0,adapters:cc};function no(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zr(null,e)}function Zd(e){return no(e),e.headers=st.from(e.headers),e.data=to.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Gp.getAdapter(e.adapter||Ms.adapter,e)(e).then(function(s){return no(e),s.data=to.call(e,e.transformResponse,s),s.headers=st.from(s.headers),s},function(s){return Vp(s)||(no(e),s&&s.response&&(s.response.data=to.call(e,e.transformResponse,s.response),s.response.headers=st.from(s.response.headers))),Promise.reject(s)})}const Jp="1.13.2",wl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wl[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const eu={};wl.transitional=function(t,r,s){function a(l,o){return"[Axios v"+Jp+"] Transitional option '"+l+"'"+o+(s?". "+s:"")}return(l,o,c)=>{if(t===!1)throw new X(a(o," has been removed"+(r?" in "+r:"")),X.ERR_DEPRECATED);return r&&!eu[o]&&(eu[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,o,c):!0}};wl.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Z0(e,t,r){if(typeof e!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const l=s[a],o=t[l];if(o){const c=e[l],u=c===void 0||o(c,l,e);if(u!==!0)throw new X("option "+l+" must be "+u,X.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new X("Unknown option "+l,X.ERR_BAD_OPTION)}}const Sa={assertOptions:Z0,validators:wl},Ft=Sa.validators;let Bn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ud,response:new Ud}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Qn(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:l}=r;s!==void 0&&Sa.assertOptions(s,{silentJSONParsing:Ft.transitional(Ft.boolean),forcedJSONParsing:Ft.transitional(Ft.boolean),clarifyTimeoutError:Ft.transitional(Ft.boolean)},!1),a!=null&&(T.isFunction(a)?r.paramsSerializer={serialize:a}:Sa.assertOptions(a,{encode:Ft.function,serialize:Ft.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Sa.assertOptions(r,{baseUrl:Ft.spelling("baseURL"),withXsrfToken:Ft.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=l&&T.merge(l.common,l[r.method]);l&&T.forEach(["delete","get","head","post","put","patch","common"],y=>{delete l[y]}),r.headers=st.concat(o,l);const c=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(u=u&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const i=[];this.interceptors.response.forEach(function(w){i.push(w.fulfilled,w.rejected)});let m,d=0,h;if(!u){const y=[Zd.bind(this),void 0];for(y.unshift(...c),y.push(...i),h=y.length,m=Promise.resolve(r);d<h;)m=m.then(y[d++],y[d++]);return m}h=c.length;let N=r;for(;d<h;){const y=c[d++],w=c[d++];try{N=y(N)}catch(S){w.call(this,S);break}}try{m=Zd.call(this,N)}catch(y){return Promise.reject(y)}for(d=0,h=i.length;d<h;)m=m.then(i[d++],i[d++]);return m}getUri(t){t=Qn(this.defaults,t);const r=Qp(t.baseURL,t.url,t.allowAbsoluteUrls);return Up(r,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){Bn.prototype[t]=function(r,s){return this.request(Qn(s||{},{method:t,url:r,data:(s||{}).data}))}});T.forEach(["post","put","patch"],function(t){function r(s){return function(l,o,c){return this.request(Qn(c||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:o}))}}Bn.prototype[t]=r(),Bn.prototype[t+"Form"]=r(!0)});let eb=class Xp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const o=new Promise(c=>{s.subscribe(c),l=c}).then(a);return o.cancel=function(){s.unsubscribe(l)},o},t(function(l,o,c){s.reason||(s.reason=new zr(l,o,c),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Xp(function(a){t=a}),cancel:t}}};function tb(e){return function(r){return e.apply(null,r)}}function nb(e){return T.isObject(e)&&e.isAxiosError===!0}const si={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(si).forEach(([e,t])=>{si[t]=e});function Zp(e){const t=new Bn(e),r=Lp(Bn.prototype.request,t);return T.extend(r,Bn.prototype,t,{allOwnKeys:!0}),T.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return Zp(Qn(e,a))},r}const je=Zp(Ms);je.Axios=Bn;je.CanceledError=zr;je.CancelToken=eb;je.isCancel=Vp;je.VERSION=Jp;je.toFormData=Nl;je.AxiosError=X;je.Cancel=je.CanceledError;je.all=function(t){return Promise.all(t)};je.spread=tb;je.isAxiosError=nb;je.mergeConfig=Qn;je.AxiosHeaders=st;je.formToJSON=e=>Hp(T.isHTMLForm(e)?new FormData(e):e);je.getAdapter=Gp.getAdapter;je.HttpStatusCode=si;je.default=je;const{Axios:Hb,AxiosError:Vb,CanceledError:qb,isCancel:Qb,CancelToken:Kb,VERSION:Yb,all:Gb,Cancel:Jb,isAxiosError:Xb,spread:Zb,toFormData:ev,AxiosHeaders:tv,HttpStatusCode:nv,formToJSON:rv,getAdapter:sv,mergeConfig:av}=je,ex=g.createContext(),rb=()=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:8001":"",dc=rb();console.log(" Backend URL:",dc,"| Hostname:",window.location.hostname);const Zr=je.create({baseURL:dc,headers:{"Content-Type":"application/json"}});Zr.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const le=()=>{const e=g.useContext(ex);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},sb=({children:e})=>{const[t,r]=g.useState(null),[s,a]=g.useState(!0);g.useEffect(()=>{l()},[]);const l=async()=>{if(localStorage.getItem("token"))try{const m=await Zr.get("/api/auth/me");r(m.data)}catch{localStorage.removeItem("token"),localStorage.removeItem("user")}a(!1)},o=async(i,m)=>{var d,h;try{console.log("Attempting login to:",`${dc}/api/auth/login`);const N=await Zr.post("/api/auth/login",{email:i,password:m}),{access_token:y,user:w}=N.data;return localStorage.setItem("token",y),localStorage.setItem("user",JSON.stringify(w)),r(w),{success:!0}}catch(N){return console.error("Login error:",N),{success:!1,error:((h=(d=N.response)==null?void 0:d.data)==null?void 0:h.detail)||N.message||"Login failed - Network error"}}},c=async i=>{var m,d;try{return{success:!0,message:(await Zr.post("/api/auth/register",i)).data.message}}catch(h){return{success:!1,error:((d=(m=h.response)==null?void 0:m.data)==null?void 0:d.detail)||"Registration failed"}}},u=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)};return n.jsx(ex.Provider,{value:{user:t,loading:s,login:o,register:c,logout:u,api:Zr},children:e})},tx=g.createContext(),uc=()=>{const e=g.useContext(tx);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},ab=({children:e})=>{const[t,r]=g.useState(()=>localStorage.getItem("theme")||"dark"),[s,a]=g.useState(()=>localStorage.getItem("language")||"ru");g.useEffect(()=>{localStorage.setItem("theme",t),t==="light"?document.documentElement.classList.add("light-theme"):document.documentElement.classList.remove("light-theme")},[t]),g.useEffect(()=>{localStorage.setItem("language",s)},[s]);const l=()=>{r(c=>c==="dark"?"light":"dark")},o=c=>{a(c)};return n.jsx(tx.Provider,{value:{theme:t,language:s,toggleTheme:l,changeLanguage:o},children:e})},tu={ru:{loading:"// ...",save:"",cancel:"",delete:"",edit:"",create:"",view:"",search:"",filter:"",actions:"",status:"",login:"",register:"",logout:"",email:"Email",password:"",fullName:" ",companyName:" ",inn:"",adminPanel:"",sellerPanel:"",overview:"",users:"",analytics:"",products:"",orders:"",inventory:"",apiKeys:"API ",finance:"",balance:"",promocodes:"",questions:"",reviews:"",dashboard:"",sellers:"",payouts:"",categories:"",addProduct:"+  ",editProduct:" ",createProduct:" ",productList:"",sku:"",name:"",price:"",description:"",tags:"",images:"",quality:"",variant:"",orderList:"",orderNumber:" ",customer:"",source:"",total:"",date:"",inventoryManagement:" ",fbs:"FBS ( )",fbo:"FBO ( )",history:" ",quantity:"",reserved:"",available:"",adjust:"",settings:"",theme:"",language:"",currency:"",dark:"",light:"",noDistractionsJustResults:"//  ,  ",enterCredentials:"//   ",manageProducts:"//   ",trackOrders:"//  ",warehouseManagement:"//   "},en:{loading:"// LOADING...",save:"SAVE",cancel:"CANCEL",delete:"DELETE",edit:"EDIT",create:"CREATE",view:"VIEW",search:"Search",filter:"Filter",actions:"Actions",status:"Status",login:"LOGIN",register:"REGISTER",logout:"LOGOUT",email:"Email",password:"Password",fullName:"Full Name",companyName:"Company Name",inn:"Tax ID",adminPanel:"ADMIN",sellerPanel:"SELLER",overview:"Overview",users:"Users",analytics:"Analytics",products:"Products",orders:"Orders",inventory:"Inventory",apiKeys:"API Keys",finance:"Finance",balance:"Balance",promocodes:"Promocodes",questions:"Questions",reviews:"Reviews",dashboard:"Dashboard",sellers:"Sellers",payouts:"Payouts",categories:"Categories",addProduct:"+ ADD PRODUCT",editProduct:"EDIT PRODUCT",createProduct:"CREATE PRODUCT",productList:"PRODUCTS",sku:"SKU",name:"Name",price:"Price",description:"Description",tags:"Tags",images:"Images",quality:"Quality",variant:"Variant",orderList:"ORDERS",orderNumber:"Order #",customer:"Customer",source:"Source",total:"Total",date:"Date",inventoryManagement:"INVENTORY",fbs:"FBS (Own Warehouse)",fbo:"FBO (Marketplace Warehouses)",history:"Movement History",quantity:"Quantity",reserved:"Reserved",available:"Available",adjust:"ADJUST",settings:"SETTINGS",theme:"THEME",language:"LANGUAGE",currency:"CURRENCY",dark:"Dark",light:"Light",noDistractionsJustResults:"// No distractions, Just results",enterCredentials:"// Enter your credentials",manageProducts:"// Manage your product catalog",trackOrders:"// Track your sales",warehouseManagement:"// Manage warehouse and stock levels"}},lb=e=>({t:r=>{var s;return((s=tu[e])==null?void 0:s[r])||tu.en[r]||r}});function ob(){const e=tn(),{login:t}=le(),{language:r}=uc(),{t:s}=lb(r),[a,l]=g.useState({email:"",password:""}),[o,c]=g.useState(""),[u,i]=g.useState(!1),m=async h=>{h.preventDefault(),c(""),i(!0);const N=await t(a.email,a.password);N.success?e("/"):c(N.error),i(!1)},d=h=>{l({...a,[h.target.name]:h.target.value})};return n.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs("h1",{className:"text-5xl font-bold mb-4 text-mm-text",children:["MINIMAL",n.jsx("span",{className:"text-mm-purple",children:"MOD"})]}),n.jsx("p",{className:"comment",children:s("noDistractionsJustResults")})]}),n.jsxs("div",{className:"card-neon",children:[n.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan",children:s("login")}),n.jsx("p",{className:"comment mb-8",children:s("enterCredentials")}),o&&n.jsx("div",{className:"mb-6 p-4 border border-mm-red bg-mm-red/10 text-mm-red text-sm font-mono",children:o}),n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase tracking-wider",children:s("email")}),n.jsx("input",{type:"email",name:"email",value:a.email,onChange:d,className:"input-neon w-full",placeholder:"admin@minimalmod.com",required:!0,"data-testid":"login-email-input"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase tracking-wider",children:s("password")}),n.jsx("input",{type:"password",name:"password",value:a.password,onChange:d,className:"input-neon w-full",placeholder:"",required:!0,"data-testid":"login-password-input"})]}),n.jsx("button",{type:"submit",disabled:u,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"login-submit-button",children:u?s("loading"):`// ${s("login")}`})]}),n.jsx("div",{className:"mt-8 pt-6 border-t border-mm-border",children:n.jsxs("p",{className:"text-mm-text-secondary text-sm text-center",children:[n.jsx("span",{className:"comment",children:"// New seller?"})," ",n.jsx(Na,{to:"/register",className:"text-mm-cyan hover:text-mm-cyan/80 transition-colors",children:"Register here"})]})}),n.jsxs("div",{className:"mt-6 p-4 bg-mm-darker border border-mm-border",children:[n.jsx("p",{className:"comment text-xs mb-2",children:"// Demo credentials:"}),n.jsx("p",{className:"text-xs text-mm-text-secondary",children:"Admin: admin@minimalmod.com / admin123"})]})]})]})})}var nx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nu=$.createContext&&$.createContext(nx),Nn=function(){return Nn=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Nn.apply(this,arguments)},ib=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r};function rx(e){return e&&e.map(function(t,r){return $.createElement(t.tag,Nn({key:r},t.attr),rx(t.child))})}function ee(e){return function(t){return $.createElement(cb,Nn({attr:Nn({},e.attr)},t),rx(e.child))}}function cb(e){var t=function(r){var s=e.attr,a=e.size,l=e.title,o=ib(e,["attr","size","title"]),c=a||r.size||"1em",u;return r.className&&(u=r.className),e.className&&(u=(u?u+" ":"")+e.className),$.createElement("svg",Nn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,o,{className:u,style:Nn(Nn({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),l&&$.createElement("title",null,l),e.children)};return nu!==void 0?$.createElement(nu.Consumer,null,function(r){return t(r)}):t(nx)}function db(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(e)}function _r(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}function mc(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(e)}function ub(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function Za(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"}}]})(e)}function vt(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function el(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}function kl(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(e)}function Es(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(e)}function sx(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(e)}function Sn(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function mb(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(e)}function ax(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(e)}function ru(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}}]})(e)}function ai(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"}},{tag:"polyline",attr:{points:"21 15 16 10 5 21"}}]})(e)}function lx(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}}]})(e)}function pb(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"}},{tag:"polyline",attr:{points:"2 17 12 22 22 17"}},{tag:"polyline",attr:{points:"2 12 12 17 22 12"}}]})(e)}function su(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"}},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"}},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"}},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"}},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}}]})(e)}function xb(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}}]})(e)}function dt(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function ox(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"}}]})(e)}function Bt(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function Kn(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"polyline",attr:{points:"1 20 1 14 7 14"}},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}}]})(e)}function pc(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(e)}function Cr(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function ix(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function cx(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"}},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"}},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}}]})(e)}function ca(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(e)}function hb(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"}},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"}},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}}]})(e)}function Ut(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function dx(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"}},{tag:"polyline",attr:{points:"17 18 23 18 23 12"}}]})(e)}function ux(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(e)}function fb(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"}},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"}},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"}},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"}}]})(e)}function Yn(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(e)}function li(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function yb(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function xc(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"}}]})(e)}function Xt(e){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}function mx(){const[e,t]=g.useState(!1),r=g.useRef(null),{theme:s,language:a,toggleTheme:l,changeLanguage:o}=uc();return g.useEffect(()=>{const c=u=>{r.current&&!r.current.contains(u.target)&&t(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),n.jsxs("div",{className:"relative",ref:r,children:[n.jsx("button",{onClick:()=>t(!e),className:"p-2 border-2 border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":"settings-button",children:n.jsx(ix,{size:20,className:e?"animate-spin":""})}),e&&n.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-mm-dark border-2 border-mm-cyan shadow-neon-cyan z-50","data-testid":"settings-dropdown",children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"THEME"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("button",{onClick:()=>{s!=="dark"&&l()},className:`p-4 border-2 transition-all ${s==="dark"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"theme-dark",children:[n.jsx(xb,{className:"mx-auto mb-2",size:24}),n.jsx("p",{className:"font-mono text-sm",children:"Dark"})]}),n.jsxs("button",{onClick:()=>{s!=="light"&&l()},className:`p-4 border-2 transition-all ${s==="light"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"theme-light",children:[n.jsx(hb,{className:"mx-auto mb-2",size:24}),n.jsx("p",{className:"font-mono text-sm",children:"Light"})]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"LANGUAGE"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("button",{onClick:()=>o("ru"),className:`p-4 border-2 transition-all ${a==="ru"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"lang-ru",children:[n.jsx(ru,{className:"mx-auto mb-2",size:24}),n.jsx("p",{className:"font-mono text-sm",children:"RU"})]}),n.jsxs("button",{onClick:()=>o("en"),className:`p-4 border-2 transition-all ${a==="en"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"lang-en",children:[n.jsx(ru,{className:"mx-auto mb-2",size:24}),n.jsx("p",{className:"font-mono text-sm",children:"EN"})]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"CURRENCY"}),n.jsxs("select",{className:"input-neon w-full",defaultValue:"RUB",children:[n.jsx("option",{value:"RUB",children:"RUB "}),n.jsx("option",{value:"USD",children:"USD $"}),n.jsx("option",{value:"EUR",children:"EUR "})]})]}),n.jsx("div",{className:"pt-4 border-t border-mm-border",children:n.jsx("p",{className:"comment text-xs text-center",children:"// Settings saved automatically"})})]})})]})}function Ps(e){return ee({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2l-2.218-.887zm3.564 1.426L5.596 5 8 5.961 14.154 3.5l-2.404-.961zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"}}]})(e)}const hc=()=>{const{api:e}=le(),[t,r]=g.useState([]),[s,a]=g.useState(!0),[l,o]=g.useState(!1),[c,u]=g.useState(""),[i,m]=g.useState({name:"",client_id:"",api_key:"",auto_sync_stock:!0,auto_update_prices:!1,auto_get_orders:!0}),[d,h]=g.useState(!1),[N,y]=g.useState(!1),w=[{id:"ozon",name:"Ozon",logo:"",description:"  Ozon    ,  FBS  ",helpText:"        : Admin, Product, Posting, Finance, Analytics, Warehouse, Orders",requiredPermissions:["Admin","Product","Posting","Finance","Analytics","Warehouse","Orders"],docsLink:"https://seller.ozon.ru/app/settings/api-keys?currentTab=sellerApi",fields:[{name:"name",label:" ",type:"text",placeholder:":   OZON"},{name:"client_id",label:"Client ID",type:"text",placeholder:" Client ID"},{name:"api_key",label:"API Key",type:"password",placeholder:" API ",helpText:"   "}]},{id:"wb",name:"Wildberries",logo:"",description:"  Wildberries    ,  FBS  ",fields:[{name:"name",label:" ",type:"text",placeholder:":   WB"},{name:"api_key",label:"API Token",type:"password",placeholder:" API "}]},{id:"yandex",name:"Yandex.Market",logo:"",description:"  .    ,  FBS  ",fields:[{name:"name",label:" ",type:"text",placeholder:":   "},{name:"client_id",label:"Campaign ID",type:"text",placeholder:" Campaign ID"},{name:"api_key",label:"OAuth Token",type:"password",placeholder:" OAuth "}]}];g.useEffect(()=>{S()},[]);const S=async()=>{try{const _=await e.get("/api/seller/api-keys");r(_.data)}catch(_){console.error("Error loading API keys:",_)}finally{a(!1)}},p=_=>{u(_),m({name:"",client_id:"",api_key:"",auto_sync_stock:!0,auto_update_prices:!1,auto_get_orders:!0}),o(!0)},x=async()=>{var _,D;h(!0);try{const v=await e.post("/api/seller/api-keys/test",{marketplace:c,client_id:i.client_id,api_key:i.api_key});v.data.success,alert(v.data.message)}catch(v){alert(" : "+(((D=(_=v.response)==null?void 0:_.data)==null?void 0:D.detail)||v.message))}finally{h(!1)}},f=async()=>{var _,D;if(!i.api_key||!i.api_key.trim()){alert("API  ");return}y(!0);try{await e.post("/api/seller/api-keys",{marketplace:c,name:i.name,client_id:i.client_id,api_key:i.api_key}),alert("   !"),o(!1),S()}catch(v){alert(": "+(((D=(_=v.response)==null?void 0:_.data)==null?void 0:D.detail)||v.message))}finally{y(!1)}},b=async(_,D)=>{var v,R;if(confirm(`  ${D.toUpperCase()}?`))try{await e.delete(`/api/seller/api-keys/${_}`),alert("  "),S()}catch(L){alert(": "+(((R=(v=L.response)==null?void 0:v.data)==null?void 0:R.detail)||L.message))}},C=async(_,D,v)=>{var R,L;try{await e.put(`/api/seller/api-keys/${_}`,{[D]:!v}),S()}catch(z){alert(" : "+(((L=(R=z.response)==null?void 0:R.data)==null?void 0:L.detail)||z.message))}},j=_=>{const D=w.find(v=>v.id===_);return D?D.logo:""},P=_=>{const D=w.find(v=>v.id===_);return D?D.name:_};if(s)return n.jsx("div",{className:"p-8",children:n.jsx("div",{className:"text-mm-cyan",children:"..."})});const k=w.find(_=>_.id===c);return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-mm-cyan mb-2",children:""}),n.jsx("p",{className:"text-gray-400",children:"    "})]}),t.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(_=>n.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 hover:border-mm-cyan transition",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"text-4xl",children:j(_.marketplace)}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-white",children:_.name||P(_.marketplace)}),n.jsx("p",{className:"text-xs text-gray-500",children:P(_.marketplace)})]})]}),n.jsx("button",{onClick:()=>b(_.id,_.marketplace),className:"p-2 text-red-500 hover:bg-red-500/10 rounded transition",title:"",children:n.jsx(Ut,{})})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Client ID:"}),n.jsx("span",{className:"text-gray-300",children:_.client_id||""})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"API Key:"}),n.jsx("span",{className:"text-gray-300",children:_.api_key_masked})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400",children:":"}),n.jsx("span",{className:"text-gray-300",children:new Date(_.created_at).toLocaleDateString("ru-RU")})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-800 space-y-2",children:[n.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[n.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),n.jsx("input",{type:"checkbox",checked:_.auto_sync_stock!==!1,onChange:()=>C(_.id,"auto_sync_stock",_.auto_sync_stock!==!1),className:"w-4 h-4 rounded"})]}),n.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[n.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),n.jsx("input",{type:"checkbox",checked:_.auto_update_prices===!0,onChange:()=>C(_.id,"auto_update_prices",_.auto_update_prices===!0),className:"w-4 h-4 rounded"})]}),n.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[n.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),n.jsx("input",{type:"checkbox",checked:_.auto_get_orders!==!1,onChange:()=>C(_.id,"auto_get_orders",_.auto_get_orders!==!1),className:"w-4 h-4 rounded"})]})]})]},_.id))})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(_=>{const D=t.some(v=>v.marketplace===_.id);return n.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 hover:border-mm-cyan transition",children:[n.jsxs("div",{className:"text-center mb-4",children:[n.jsx("div",{className:"text-6xl mb-3",children:_.logo}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:_.name}),n.jsx("p",{className:"text-sm text-gray-400",children:_.description})]}),n.jsxs("button",{onClick:()=>p(_.id),className:"w-full px-4 py-3 bg-mm-purple hover:bg-purple-600 rounded-lg transition font-medium flex items-center justify-center space-x-2",children:[n.jsx(Bt,{}),n.jsx("span",{children:D?" ":""})]})]},_.id)})})]}),l&&k&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-800",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"text-3xl",children:k.logo}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-mm-cyan",children:k.name}),n.jsx("p",{className:"text-sm text-gray-400",children:k.description})]})]}),n.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition",children:n.jsx(Xt,{size:24})})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[k.helpText&&n.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-yellow-200 mb-3 font-semibold",children:k.helpText}),k.requiredPermissions&&n.jsxs("div",{className:"mb-3",children:[n.jsx("p",{className:"text-xs text-yellow-300/80 mb-2",children:"  :"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:k.requiredPermissions.map(_=>n.jsxs("span",{className:"px-2 py-1 bg-yellow-600/20 text-yellow-200 text-xs rounded border border-yellow-600/30",children:[" ",_]},_))})]}),k.docsLink&&n.jsx("a",{href:k.docsLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-xs text-cyan-400 hover:text-cyan-300 underline",children:"    Ozon Seller (  !)"})]}),k.fields.map(_=>n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:[_.label,_.name!=="name"&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"}),_.helpText&&n.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",_.helpText,")"]})]}),n.jsx("input",{type:_.type,value:i[_.name],onChange:D=>m({...i,[_.name]:D.target.value}),placeholder:_.placeholder,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan text-white"})]},_.name)),n.jsxs("div",{className:"pt-4 border-t border-gray-800",children:[n.jsx("p",{className:"text-sm font-medium mb-3 text-gray-300",children:" :"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i.auto_sync_stock,onChange:_=>m({...i,auto_sync_stock:_.target.checked}),className:"w-5 h-5 rounded"}),n.jsx("span",{className:"text-sm text-gray-400",children:"  "})]}),n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i.auto_update_prices,onChange:_=>m({...i,auto_update_prices:_.target.checked}),className:"w-5 h-5 rounded"}),n.jsx("span",{className:"text-sm text-gray-400",children:"  "})]}),n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i.auto_get_orders,onChange:_=>m({...i,auto_get_orders:_.target.checked}),className:"w-5 h-5 rounded"}),n.jsx("span",{className:"text-sm text-gray-400",children:"  "})]})]})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-800 flex justify-end space-x-3",children:[n.jsx("button",{onClick:x,disabled:d||!i.api_key,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:cursor-not-allowed rounded-lg transition font-medium",children:d?"...":" "}),n.jsx("button",{onClick:f,disabled:N||!i.api_key,className:"px-6 py-3 bg-mm-cyan hover:bg-cyan-400 text-black disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed rounded-lg transition font-bold",children:N?"...":""})]})]})})]})};function px(){const{api:e}=le(),[t,r]=g.useState([]),[s,a]=g.useState(!0),[l,o]=g.useState({status:"",source:""});g.useEffect(()=>{c()},[l]);const c=async()=>{try{const m=new URLSearchParams;l.status&&m.append("status",l.status),l.source&&m.append("source",l.source);const d=await e.get(`/api/orders?${m.toString()}`);r(d.data)}catch(m){console.error("Failed to load orders:",m)}a(!1)},u=m=>{switch(m){case"new":return n.jsx(el,{className:"inline text-mm-blue"});case"awaiting_shipment":return n.jsx(dt,{className:"inline text-mm-yellow"});case"shipped":return n.jsx(fb,{className:"inline text-mm-cyan"});case"delivered":return n.jsx(Za,{className:"inline text-mm-green"});case"cancelled":return n.jsx(xc,{className:"inline text-mm-red"});default:return n.jsx(el,{className:"inline"})}},i=m=>({minimalmod:"border-mm-purple text-mm-purple",ozon:"border-mm-blue text-mm-blue",wildberries:"border-mm-purple text-mm-purple",yandex_market:"border-mm-yellow text-mm-yellow"})[m]||"border-mm-cyan text-mm-cyan";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"Orders"}),n.jsx("p",{className:"comment",children:"// Manage all your orders"})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("select",{value:l.status,onChange:m=>o({...l,status:m.target.value}),className:"input-neon",children:[n.jsx("option",{value:"",children:"All Statuses"}),n.jsx("option",{value:"new",children:"New"}),n.jsx("option",{value:"awaiting_shipment",children:"Awaiting Shipment"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("select",{value:l.source,onChange:m=>o({...l,source:m.target.value}),className:"input-neon",children:[n.jsx("option",{value:"",children:"All Sources"}),n.jsx("option",{value:"minimalmod",children:"MinimalMod"}),n.jsx("option",{value:"ozon",children:"Ozon"}),n.jsx("option",{value:"wildberries",children:"Wildberries"}),n.jsx("option",{value:"yandex_market",children:"Yandex.Market"})]})]})]}),s?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?n.jsxs("div",{className:"card-neon text-center py-12",children:[n.jsx(dt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),n.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No orders found"}),n.jsx("p",{className:"comment",children:"// Orders will appear here once created"})]}):n.jsx("div",{className:"card-neon overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-mm-border",children:[n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Order #"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Customer"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Source"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Total"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Status"}),n.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),n.jsx("tbody",{children:t.map(m=>{var d,h,N,y;return n.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:m.order_number}),n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date((d=m.dates)==null?void 0:d.created_at).toLocaleDateString()}),n.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:((h=m.customer)==null?void 0:h.name)||"N/A"}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${i(m.source)}`,children:m.source})}),n.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:["",((y=(N=m.totals)==null?void 0:N.total)==null?void 0:y.toLocaleString())||0]}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("span",{className:"flex items-center space-x-2",children:[u(m.status),n.jsx("span",{className:"text-sm font-mono uppercase",children:m.status})]})}),n.jsx("td",{className:"py-4 px-4 text-right",children:n.jsx("button",{onClick:()=>window.location.href=`/orders/${m.id}`,className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors text-xs uppercase font-mono","data-testid":`view-order-${m.id}`,children:"View"})})]},m.id)})})]})})})]})}function xx(){const{api:e}=le(),{language:t}=uc(),[r,s]=g.useState({revenue:0,costs:0,cogs:0,gross_profit:0,net_profit:0,margin:0,transactions_count:0}),[a,l]=g.useState(!0);g.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await e.get("/api/finance/dashboard");s(c.data)}catch(c){console.error("Failed to load finance dashboard:",c)}l(!1)};return a?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"FINANCIAL DASHBOARD"}),n.jsx("p",{className:"comment",children:"// Your financial overview"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"card-neon",children:[n.jsx("p",{className:"comment mb-2",children:"// Revenue"}),n.jsxs("p",{className:"text-4xl font-bold text-mm-green flex items-center",children:[n.jsx(ux,{className:"mr-2"}),"",r.revenue.toLocaleString()]})]}),n.jsxs("div",{className:"card-neon",children:[n.jsx("p",{className:"comment mb-2",children:"// Costs"}),n.jsxs("p",{className:"text-4xl font-bold text-mm-red flex items-center",children:[n.jsx(dx,{className:"mr-2"}),"",r.costs.toLocaleString()]})]}),n.jsxs("div",{className:"card-neon",children:[n.jsx("p",{className:"comment mb-2",children:"// Net Profit"}),n.jsxs("p",{className:`text-4xl font-bold flex items-center ${r.net_profit>=0?"text-mm-green":"text-mm-red"}`,children:[n.jsx(kl,{className:"mr-2"}),"",r.net_profit.toLocaleString()]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"card-neon",children:[n.jsx("p",{className:"comment mb-2",children:"// COGS (Cost of Goods)"}),n.jsxs("p",{className:"text-2xl font-bold text-mm-yellow",children:["",r.cogs.toLocaleString()]})]}),n.jsxs("div",{className:"card-neon",children:[n.jsx("p",{className:"comment mb-2",children:"// Gross Profit"}),n.jsxs("p",{className:"text-2xl font-bold text-mm-cyan",children:["",r.gross_profit.toLocaleString()]})]}),n.jsxs("div",{className:"card-neon",children:[n.jsx("p",{className:"comment mb-2",children:"// Margin"}),n.jsxs("p",{className:"text-2xl font-bold text-mm-purple",children:[r.margin,"%"]})]})]}),n.jsxs("div",{className:"card-neon",children:[n.jsx("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:"PROFIT BREAKDOWN"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[n.jsx("span",{className:"font-mono text-mm-text-secondary",children:"Revenue"}),n.jsxs("span",{className:"font-mono text-mm-green",children:["+ ",r.revenue.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[n.jsx("span",{className:"font-mono text-mm-text-secondary",children:"COGS"}),n.jsxs("span",{className:"font-mono text-mm-red",children:["- ",r.cogs.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border font-bold",children:[n.jsx("span",{className:"font-mono",children:"Gross Profit"}),n.jsxs("span",{className:"font-mono text-mm-cyan",children:["",r.gross_profit.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[n.jsx("span",{className:"font-mono text-mm-text-secondary",children:"Operating Costs"}),n.jsxs("span",{className:"font-mono text-mm-red",children:["- ",r.costs.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 font-bold text-lg",children:[n.jsx("span",{className:"font-mono",children:"Net Profit"}),n.jsxs("span",{className:`font-mono ${r.net_profit>=0?"text-mm-green":"text-mm-red"}`,children:["",r.net_profit.toLocaleString()]})]})]})]}),n.jsx("div",{className:"card-neon",children:n.jsxs("p",{className:"comment",children:["// Transactions processed: ",r.transactions_count]})})]})}function hx({isAdmin:e=!1}){const{api:t}=le(),[r,s]=g.useState([]),[a,l]=g.useState(!0),[o,c]=g.useState(!1),[u,i]=g.useState("");g.useEffect(()=>{m()},[]);const m=async()=>{try{const S=await t.get("/api/payouts");s(S.data)}catch(S){console.error("Failed to load payouts:",S)}l(!1)},d=async S=>{S.preventDefault();try{await t.post("/api/payouts/request",null,{params:{amount:parseFloat(u)}}),c(!1),i(""),m(),alert("Payout request submitted!")}catch{alert("Failed to request payout")}},h=async S=>{try{await t.put(`/api/admin/payouts/${S}/approve`),m()}catch(p){console.error("Failed to approve:",p)}},N=async S=>{try{await t.put(`/api/admin/payouts/${S}/paid`),m()}catch(p){console.error("Failed to mark paid:",p)}},y=async S=>{try{await t.put(`/api/admin/payouts/${S}/reject`),m()}catch(p){console.error("Failed to reject:",p)}},w=S=>{const p={pending:{class:"status-pending",icon:el,text:"PENDING"},approved:{class:"status-new",icon:Za,text:"APPROVED"},paid:{class:"status-active",icon:Za,text:"PAID"},rejected:{class:"status-error",icon:xc,text:"REJECTED"}};return p[S]||p.pending};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:e?"PAYOUT REQUESTS":"BALANCE & PAYOUTS"}),n.jsx("p",{className:"comment",children:e?"// Manage seller payout requests":"// Request withdrawals"})]}),!e&&n.jsx("button",{onClick:()=>c(!0),className:"btn-primary","data-testid":"request-payout-button",children:" REQUEST PAYOUT"})]}),a?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):r.length===0?n.jsxs("div",{className:"card-neon text-center py-12",children:[n.jsx(kl,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),n.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No payout requests"}),n.jsxs("p",{className:"comment",children:["// ",e?"Requests will appear here":'Click "REQUEST PAYOUT" to withdraw funds']})]}):n.jsx("div",{className:"card-neon overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-mm-border",children:[n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),e&&n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Seller"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Amount"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Status"}),e&&n.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),n.jsx("tbody",{children:r.map(S=>{const p=w(S.status),x=p.icon;return n.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(S.created_at).toLocaleDateString()}),e&&n.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[S.seller_id.substring(0,8),"..."]}),n.jsxs("td",{className:"py-4 px-4 font-mono text-lg text-mm-green",children:["",S.amount.toLocaleString()]}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("span",{className:p.class,children:[n.jsx(x,{className:"inline mr-1"}),p.text]})}),e&&n.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[S.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>h(S.id),className:"px-3 py-1 border border-mm-green text-mm-green hover:bg-mm-green/10 text-xs uppercase font-mono",children:"APPROVE"}),n.jsx("button",{onClick:()=>y(S.id),className:"px-3 py-1 border border-mm-red text-mm-red hover:bg-mm-red/10 text-xs uppercase font-mono",children:"REJECT"})]}),S.status==="approved"&&n.jsx("button",{onClick:()=>N(S.id),className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 text-xs uppercase font-mono",children:"MARK AS PAID"})]})]},S.id)})})]})})}),o&&n.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"card-neon max-w-md w-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl text-mm-cyan",children:"REQUEST PAYOUT"}),n.jsx("button",{onClick:()=>c(!1),className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:""})]}),n.jsxs("form",{onSubmit:d,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Amount"}),n.jsx("input",{type:"number",step:"0.01",value:u,onChange:S=>i(S.target.value),className:"input-neon w-full",placeholder:"10000.00",required:!0}),n.jsx("p",{className:"comment text-xs mt-1",children:"// Enter amount in RUB"})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"REQUEST"}),n.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})})]})}function fx(){const{api:e}=le(),[t,r]=g.useState([]),[s,a]=g.useState(!0),[l,o]=g.useState(!1),[c,u]=g.useState(null);g.useEffect(()=>{i()},[]);const i=async()=>{a(!0);try{const d=await e.get("/api/warehouses");r(d.data)}catch(d){J.error("  "),console.error(d)}a(!1)},m=async d=>{var h,N;if(confirm(`  "${d.name}"?`))try{await e.delete(`/api/warehouses/${d.id}`),J.success(" "),i()}catch(y){J.error(((N=(h=y.response)==null?void 0:h.data)==null?void 0:N.detail)||" ")}};return n.jsx("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-mm-cyan uppercase mb-2","data-testid":"warehouses-title",children:""}),n.jsx("p",{className:"text-mm-text-secondary text-sm",children:"//    "})]}),n.jsxs("button",{onClick:()=>{u(null),o(!0)},className:"btn-primary flex items-center space-x-2","data-testid":"create-warehouse-btn",children:[n.jsx(Bt,{}),n.jsx("span",{children:" "})]})]}),s?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?n.jsxs("div",{className:"card-neon text-center py-16","data-testid":"empty-state",children:[n.jsx(Ps,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),n.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),n.jsx("p",{className:"text-sm text-mm-text-tertiary mb-6",children:"//      "}),n.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[n.jsx(Bt,{className:"inline mr-2"})," "]})]}):n.jsx("div",{className:"card-neon overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-mm-border",children:[n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),n.jsx("tbody",{children:t.map(d=>n.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`warehouse-row-${d.id}`,children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ps,{className:"text-mm-cyan",size:20}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:d.name}),d.address&&n.jsx("div",{className:"text-xs text-mm-text-tertiary",children:d.address})]})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-3 py-1 text-xs font-mono uppercase rounded ${d.type==="main"?"bg-mm-cyan/20 text-mm-cyan border border-mm-cyan":d.type==="marketplace"?"bg-mm-purple/20 text-mm-purple border border-mm-purple":"bg-mm-yellow/20 text-mm-yellow border border-mm-yellow"}`,children:d.type})}),n.jsx("td",{className:"py-4 px-4 text-center",children:n.jsx("span",{className:"text-mm-cyan font-mono font-bold",children:d.priority||1})}),n.jsx("td",{className:"py-4 px-4 text-center",children:d.transfer_stock?n.jsx(vt,{className:"inline text-mm-green",size:20}):n.jsx(Xt,{className:"inline text-mm-red",size:20})}),n.jsx("td",{className:"py-4 px-4 text-center",children:d.use_for_orders?n.jsx(vt,{className:"inline text-mm-green",size:20}):n.jsx(Xt,{className:"inline text-mm-red",size:20})}),n.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[n.jsx("button",{onClick:()=>{u(d),o(!0)},className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":`edit-warehouse-${d.id}`,children:n.jsx(Sn,{size:16})}),d.type!=="main"&&n.jsx("button",{onClick:()=>m(d),className:"px-3 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors","data-testid":`delete-warehouse-${d.id}`,children:n.jsx(Ut,{size:16})})]})]},d.id))})]})}),l&&n.jsx(gb,{warehouse:c,onClose:()=>{o(!1),u(null)},onSuccess:()=>{o(!1),u(null),i()}})]})})}function gb({warehouse:e,onClose:t,onSuccess:r}){const{api:s}=le(),[a,l]=g.useState({name:"",type:"main",address:"",comment:"",transfer_stock:!0,load_orders:!0,use_for_orders:!0,priority:1,fbo_accounting:!1}),[o,c]=g.useState([]),[u,i]=g.useState([]),[m,d]=g.useState(""),[h,N]=g.useState([]),[y,w]=g.useState(!1);g.useEffect(()=>{e&&(l({name:e.name||"",type:e.type||"main",address:e.address||"",comment:e.comment||"",transfer_stock:e.transfer_stock!==!1,load_orders:e.load_orders!==!1,use_for_orders:e.use_for_orders!==!1,priority:e.priority||1,fbo_accounting:e.fbo_accounting||!1}),S(),p())},[e]);const S=async()=>{if(e)try{const j=await s.get(`/api/warehouse-links/${e.id}/links`);c(j.data)}catch(j){console.error("Failed to load links:",j)}},p=async()=>{try{const j=await s.get("/api/seller/api-keys");i(j.data)}catch(j){console.error("Failed to load integrations:",j)}},x=async()=>{var j,P,k;if(!m){J.error(" ");return}w(!0);try{const _=await s.get(`/api/marketplace/${m}/warehouses`);N(_.data.warehouses||[]),((j=_.data.warehouses)==null?void 0:j.length)===0?J.error("  FBS   "):J.success(` ${_.data.warehouses.length} `)}catch(_){J.error(((k=(P=_.response)==null?void 0:P.data)==null?void 0:k.detail)||"  "),N([])}w(!1)},f=async j=>{var P,k;if(e)try{const _=u.find(D=>D.marketplace===m);await s.post(`/api/warehouse-links/${e.id}/links`,{integration_id:_.id,marketplace_name:m,marketplace_warehouse_id:j.id,marketplace_warehouse_name:j.name}),J.success(" "),S(),N([]),d("")}catch(_){J.error(((k=(P=_.response)==null?void 0:P.data)==null?void 0:k.detail)||"  ")}},b=async j=>{if(confirm(" ?"))try{await s.delete(`/api/warehouse-links/${e.id}/links/${j}`),J.success(" "),S()}catch{J.error("  ")}},C=async j=>{var P,k;j.preventDefault();try{e?(await s.put(`/api/warehouses/${e.id}`,a),J.success(" ")):(await s.post("/api/warehouses",a),J.success(" ")),r()}catch(_){J.error(((k=(P=_.response)==null?void 0:P.data)==null?void 0:k.detail)||" ")}};return n.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 z-50","data-testid":"warehouse-modal",children:n.jsxs("div",{className:"card-neon max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:e?" ":" "}),n.jsx("button",{onClick:t,className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:n.jsx(Xt,{size:24})})]}),n.jsxs("form",{onSubmit:C,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),n.jsx("input",{type:"text",value:a.name,onChange:j=>l({...a,name:j.target.value}),className:"input-neon w-full",placeholder:"  ",required:!0,"data-testid":"warehouse-name-input"})]}),!e&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),n.jsxs("select",{value:a.type,onChange:j=>l({...a,type:j.target.value}),className:"input-neon w-full","data-testid":"warehouse-type-select",children:[n.jsx("option",{value:"main",children:""}),n.jsx("option",{value:"marketplace",children:""}),n.jsx("option",{value:"transit",children:""})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),n.jsx("input",{type:"text",value:a.address,onChange:j=>l({...a,address:j.target.value}),className:"input-neon w-full",placeholder:". , . , 10","data-testid":"warehouse-address-input"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),n.jsx("textarea",{value:a.comment,onChange:j=>l({...a,comment:j.target.value}),className:"input-neon w-full",rows:"3",placeholder:" ","data-testid":"warehouse-comment-input"})]}),n.jsxs("div",{className:"border-t border-mm-border pt-6",children:[n.jsx("h4",{className:"text-mm-cyan uppercase text-sm mb-4",children:"//  "}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-mm-text",children:"   "}),n.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"  "})]}),n.jsx("input",{type:"checkbox",checked:a.transfer_stock,onChange:j=>l({...a,transfer_stock:j.target.checked}),className:"toggle-switch","data-testid":"transfer-stock-toggle"})]}),n.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-mm-text",children:" "}),n.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"   "})]}),n.jsx("input",{type:"checkbox",checked:a.load_orders,onChange:j=>l({...a,load_orders:j.target.checked}),className:"toggle-switch","data-testid":"load-orders-toggle"})]}),n.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-mm-text",children:"  "}),n.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"   "})]}),n.jsx("input",{type:"checkbox",checked:a.use_for_orders,onChange:j=>l({...a,use_for_orders:j.target.checked}),className:"toggle-switch","data-testid":"use-for-orders-toggle"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" "}),n.jsx("input",{type:"number",min:"1",max:"10",value:a.priority,onChange:j=>l({...a,priority:parseInt(j.target.value)||1}),className:"input-neon w-32","data-testid":"priority-input"}),n.jsx("p",{className:"text-xs text-mm-text-tertiary mt-1",children:"//  =   (1, 2, 3...)"})]}),n.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-mm-text",children:" FBO"}),n.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"   FBO (FIFO)"})]}),n.jsx("input",{type:"checkbox",checked:a.fbo_accounting,onChange:j=>l({...a,fbo_accounting:j.target.checked}),className:"toggle-switch","data-testid":"fbo-accounting-toggle"})]})]})]}),e&&n.jsxs("div",{className:"border-t border-mm-border pt-6",children:[n.jsx("h4",{className:"text-mm-cyan uppercase text-sm mb-4",children:"//    "}),n.jsx("p",{className:"text-xs text-mm-text-tertiary mb-4",children:"  FBS  ,    "}),o.length>0&&n.jsx("div",{className:"mb-4 space-y-2",children:o.map(j=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-mm-darker border border-mm-border",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold text-sm",children:[n.jsx("span",{className:"text-mm-purple uppercase",children:j.marketplace_name}),"  ",j.marketplace_warehouse_name]}),n.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:["ID: ",j.marketplace_warehouse_id]})]}),n.jsx("button",{type:"button",onClick:()=>b(j.id),className:"px-3 py-1 border border-mm-red text-mm-red hover:bg-mm-red/10 text-xs",children:""})]},j.id))}),n.jsxs("div",{className:"space-y-3 p-4 bg-mm-darker border border-mm-border",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs mb-1 text-mm-text-tertiary uppercase",children:" 1: "}),n.jsxs("select",{value:m,onChange:j=>{d(j.target.value),N([])},className:"input-neon w-full text-sm","data-testid":"marketplace-select",children:[n.jsx("option",{value:"",children:"..."}),u.map(j=>n.jsx("option",{value:j.marketplace,children:j.name||j.marketplace.toUpperCase()},j.id))]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:x,disabled:!m||y,className:"btn-secondary w-full text-xs disabled:opacity-50","data-testid":"load-mp-warehouses-btn",children:y?"...":" 2:  "})})]}),h.length>0&&n.jsx("div",{className:"mt-3 max-h-48 overflow-y-auto border border-mm-border",children:h.map(j=>n.jsxs("button",{type:"button",onClick:()=>f(j),className:"w-full text-left px-3 py-2 hover:bg-mm-gray transition-colors border-b border-mm-border last:border-b-0","data-testid":`add-link-${j.id}`,children:[n.jsx("div",{className:"text-sm font-semibold",children:j.name}),n.jsxs("div",{className:"text-xs text-mm-text-tertiary",children:[": ",j.type," | ID: ",j.id]})]},j.id))})]})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1","data-testid":"cancel-btn",children:""}),n.jsx("button",{type:"submit",className:"btn-primary flex-1","data-testid":"submit-btn",children:e?"":""})]})]})]})})}function bb(){const{api:e}=le(),[t,r]=g.useState("fbs"),[s,a]=g.useState([]),[l,o]=g.useState([]),[c,u]=g.useState([]),[i,m]=g.useState(!0),[d,h]=g.useState(!1),[N,y]=g.useState(!1),[w,S]=g.useState({product_id:"",quantity_change:"",reason:""}),[p,x]=g.useState({marketplace:"ozon",warehouse:"",products:[]}),[f,b]=g.useState([]);g.useEffect(()=>{j(),C()},[t]);const C=async()=>{try{const k=await e.get("/api/products");b(k.data)}catch(k){console.error("Failed to load products:",k)}},j=async()=>{m(!0);try{if(t==="fbs"){const k=await e.get("/api/inventory");a(k.data)}else if(t==="fbo"){const k=await e.get("/api/inventory/fbo");o(k.data)}else if(t==="history"){const k=await e.get("/api/inventory/history");u(k.data)}}catch(k){console.error("Failed to load data:",k)}m(!1)},P=async k=>{var _,D;k.preventDefault();try{await e.post(`/api/inventory/${w.product_id}/adjust`,{quantity_change:parseInt(w.quantity_change),reason:w.reason}),h(!1),S({product_id:"",quantity_change:"",reason:""}),j(),alert("Inventory adjusted successfully!")}catch(v){console.error("Failed to adjust inventory:",v),alert("Failed to adjust: "+(((D=(_=v.response)==null?void 0:_.data)==null?void 0:D.detail)||v.message))}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"Inventory & Stock"}),n.jsx("p",{className:"comment",children:"// Manage warehouse and stock levels"})]}),t==="fbs"&&n.jsx("button",{onClick:()=>y(!0),className:"btn-primary","data-testid":"create-fbo-shipment-button",children:"+ CREATE FBO SHIPMENT"})]}),n.jsxs("div",{className:"flex space-x-4 border-b border-mm-border",children:[n.jsx("button",{onClick:()=>r("fbs"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="fbs"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"FBS (Own Warehouse)"}),n.jsx("button",{onClick:()=>r("fbo"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="fbo"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"FBO (Marketplace Warehouses)"}),n.jsx("button",{onClick:()=>r("history"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="history"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"Movement History"})]}),t==="fbs"&&n.jsx("div",{children:i?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):s.length===0?n.jsxs("div",{className:"card-neon text-center py-12",children:[n.jsx(dt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),n.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No inventory records"}),n.jsx("p",{className:"comment",children:"// Add products first, then manage stock"})]}):n.jsx("div",{className:"card-neon overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-mm-border",children:[n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Total"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Reserved"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Available"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Alert"}),n.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),n.jsx("tbody",{children:s.map(k=>n.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:k.sku}),n.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:k.product_name||"N/A"}),n.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:k.quantity}),n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-yellow",children:k.reserved}),n.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:n.jsx("span",{className:k.available<=(k.alert_threshold||0)?"text-mm-red":"text-mm-green",children:k.available})}),n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:k.alert_threshold||10}),n.jsx("td",{className:"py-4 px-4 text-right",children:n.jsx("button",{onClick:()=>{S({...w,product_id:k.product_id}),h(!0)},className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors text-xs uppercase font-mono",children:"Adjust"})})]},k.id))})]})})})}),t==="fbo"&&n.jsx("div",{children:i?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):l.length===0?n.jsxs("div",{className:"card-neon text-center py-12",children:[n.jsx(dt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),n.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No FBO inventory"}),n.jsx("p",{className:"comment",children:"// FBO stock will appear here"})]}):n.jsx("div",{className:"card-neon overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-mm-border",children:[n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Marketplace"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Warehouse"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Quantity"})]})}),n.jsx("tbody",{children:l.map(k=>n.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:k.sku}),n.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:k.product_name||"N/A"}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-mono border border-mm-purple text-mm-purple",children:k.marketplace})}),n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:k.warehouse_name}),n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-green",children:k.quantity})]},k.id))})]})})})}),t==="history"&&n.jsx("div",{children:i?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):c.length===0?n.jsxs("div",{className:"card-neon text-center py-12",children:[n.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No movement history"}),n.jsx("p",{className:"comment",children:"// All stock movements will be logged here"})]}):n.jsx("div",{className:"card-neon overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-mm-border",children:[n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Operation"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Change"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Reason"})]})}),n.jsx("tbody",{children:c.map(k=>n.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(k.created_at).toLocaleString()}),n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:k.sku}),n.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:k.product_name||"N/A"}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-mono border border-mm-cyan text-mm-cyan",children:k.operation_type})}),n.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:n.jsxs("span",{className:`flex items-center space-x-1 ${k.quantity_change>0?"text-mm-green":"text-mm-red"}`,children:[k.quantity_change>0?n.jsx(ux,{}):n.jsx(dx,{}),n.jsxs("span",{children:[k.quantity_change>0?"+":"",k.quantity_change]})]})}),n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:k.reason})]},k.id))})]})})})}),d&&n.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"card-neon max-w-md w-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl text-mm-cyan",children:"ADJUST INVENTORY"}),n.jsx("button",{onClick:()=>h(!1),className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:""})]}),n.jsxs("form",{onSubmit:P,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Quantity Change"}),n.jsx("input",{type:"number",value:w.quantity_change,onChange:k=>S({...w,quantity_change:k.target.value}),className:"input-neon w-full",placeholder:"+100 or -50",required:!0}),n.jsx("p",{className:"comment text-xs mt-1",children:"// Use + for adding, - for removing"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Reason"}),n.jsx("textarea",{value:w.reason,onChange:k=>S({...w,reason:k.target.value}),className:"input-neon w-full",rows:"3",placeholder:"Reason for adjustment...",required:!0})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"ADJUST STOCK"}),n.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})}),N&&n.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"card-neon max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl text-mm-cyan",children:"CREATE FBO SHIPMENT"}),n.jsx("button",{onClick:()=>y(!1),className:"text-mm-text-secondary hover:text-mm-red",children:""})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"card-neon bg-mm-darker",children:[n.jsx("p",{className:"comment mb-3",children:"// Step 1: Select Warehouse"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Marketplace"}),n.jsxs("select",{value:p.marketplace,onChange:k=>x({...p,marketplace:k.target.value}),className:"input-neon w-full",children:[n.jsx("option",{value:"ozon",children:"Ozon"}),n.jsx("option",{value:"wb",children:"Wildberries"}),n.jsx("option",{value:"yandex",children:"Yandex.Market"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Warehouse"}),n.jsxs("select",{value:p.warehouse,onChange:k=>x({...p,warehouse:k.target.value}),className:"input-neon w-full",children:[n.jsx("option",{value:"",children:"Select warehouse"}),n.jsx("option",{value:"moscow",children:"Moscow - Khoruzhino"}),n.jsx("option",{value:"spb",children:"Saint Petersburg"}),n.jsx("option",{value:"kazan",children:"Kazan"}),n.jsx("option",{value:"ekb",children:"Ekaterinburg"})]})]})]})]}),n.jsxs("div",{className:"card-neon bg-mm-darker",children:[n.jsx("p",{className:"comment mb-3",children:"// Step 2: Add Products to Shipment"}),n.jsx("div",{className:"space-y-2 mb-4",children:p.products.map((k,_)=>n.jsxs("div",{className:"flex items-center space-x-2 bg-mm-black p-2 border border-mm-border",children:[n.jsx("span",{className:"flex-1 font-mono text-sm",children:k.name}),n.jsx("span",{className:"text-mm-text-secondary",children:"Qty:"}),n.jsx("input",{type:"number",value:k.quantity,onChange:D=>{const v=[...p.products];v[_].quantity=parseInt(D.target.value)||0,x({...p,products:v})},className:"input-neon w-20",min:"1"}),n.jsx("button",{onClick:()=>{x({...p,products:p.products.filter((D,v)=>v!==_)})},className:"text-mm-red",children:""})]},_))}),n.jsxs("select",{onChange:k=>{const _=f.find(D=>D.id===k.target.value);_&&!p.products.find(D=>D.id===_.id)&&x({...p,products:[...p.products,{id:_.id,name:_.minimalmod.name,sku:_.sku,quantity:1}]}),k.target.value=""},className:"input-neon w-full",children:[n.jsx("option",{value:"",children:"+ Add product to shipment"}),f.map(k=>n.jsxs("option",{value:k.id,children:[k.sku," - ",k.minimalmod.name]},k.id))]})]}),p.products.length>0&&n.jsxs("div",{className:"card-neon bg-mm-darker",children:[n.jsx("p",{className:"comment mb-3",children:"// Step 3: Confirm Shipment"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-mm-text-secondary",children:"Total Items:"}),n.jsx("span",{className:"font-bold",children:p.products.reduce((k,_)=>k+_.quantity,0)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-mm-text-secondary",children:"Products:"}),n.jsx("span",{className:"font-bold",children:p.products.length})]})]})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{onClick:async()=>{var k,_;if(!p.warehouse){alert("Please select warehouse");return}if(p.products.length===0){alert("Please add products");return}try{const D=await e.post("/api/inventory/fbo-shipment",p);alert(D.data.message),y(!1),x({marketplace:"ozon",warehouse:"",products:[]}),j()}catch(D){alert("Failed to create shipment: "+(((_=(k=D.response)==null?void 0:k.data)==null?void 0:_.detail)||D.message))}},className:"btn-primary flex-1",disabled:!p.warehouse||p.products.length===0,children:"CREATE SHIPMENT"}),n.jsx("button",{onClick:()=>{y(!1),x({marketplace:"ozon",warehouse:"",products:[]})},className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})})]})}function vb(){const{api:e}=le(),[t,r]=g.useState([]),[s,a]=g.useState([]),[l,o]=g.useState(null),[c,u]=g.useState(!0),[i,m]=g.useState(!1),[d,h]=g.useState(null),[N,y]=g.useState("");g.useEffect(()=>{w()},[]),g.useEffect(()=>{l&&S()},[l]);const w=async()=>{try{const P=(await e.get("/api/warehouses")).data;a(P);const k=localStorage.getItem("selectedWarehouseId");if(k){const _=P.find(D=>D.id===k);_?o(_):P.length>0&&o(P[0])}else P.length>0&&o(P[0])}catch(j){J.error("  "),console.error(j)}},S=async()=>{u(!0);try{const j=await e.get("/api/inventory/fbs");r(j.data)}catch(j){J.error("  "),console.error(j)}u(!1)},p=j=>{const P=s.find(k=>k.id===j);P&&(o(P),localStorage.setItem("selectedWarehouseId",j))},x=j=>{h(j.id),y(j.quantity.toString())},f=()=>{h(null),y("")},b=async j=>{var k,_;const P=parseInt(N,10);if(isNaN(P)||P<0){J.error(" ");return}if(!l){J.error(" ");return}try{const D=await e.put("/api/inventory/update-stock",{product_id:j.product_id,article:j.sku,new_quantity:P,warehouse_id:l.id});J.success(D.data.message||" "),r(t.map(v=>v.id===j.id?{...v,quantity:P,available:P-v.reserved}:v)),f()}catch(D){J.error(((_=(k=D.response)==null?void 0:k.data)==null?void 0:_.detail)||"  "),console.error(D)}},C=async()=>{var j,P;if(!l){J.error("   ");return}if(confirm(`     "${l.name}"?`)){m(!0);try{const k=await e.post("/api/inventory/sync-all-stocks",{warehouse_id:l.id});J.success(k.data.message||" ")}catch(k){J.error(((P=(j=k.response)==null?void 0:j.data)==null?void 0:P.detail)||" "),console.error(k)}m(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl text-mm-cyan uppercase mb-2","data-testid":"stocks-title",children:"  "}),n.jsx("p",{className:"text-mm-text-secondary text-sm",children:"      "})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:C,disabled:!l||i,className:"btn-primary flex items-center space-x-2 disabled:opacity-50","data-testid":"sync-all-btn",children:[n.jsx(Yn,{}),n.jsx("span",{children:i?"...":"   "})]}),n.jsxs("button",{onClick:S,disabled:c,className:"btn-secondary flex items-center space-x-2","data-testid":"refresh-btn",children:[n.jsx(Kn,{className:c?"animate-spin":""}),n.jsx("span",{children:""})]})]})]}),n.jsxs("div",{className:"card-neon p-4",children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),n.jsxs("select",{value:(l==null?void 0:l.id)||"",onChange:j=>p(j.target.value),className:"input-neon w-full max-w-md","data-testid":"warehouse-select",children:[n.jsx("option",{value:"",children:" ..."}),s.map(j=>n.jsxs("option",{value:j.id,children:[j.name," ",j.sends_stock?"( )":""]},j.id))]}),n.jsx("p",{className:"text-xs text-mm-text-tertiary mt-2",children:l?` : ${l.name}.      .`:"     "})]}),l?c?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?n.jsxs("div",{className:"card-neon text-center py-16",children:[n.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),n.jsx("p",{className:"text-sm text-mm-text-tertiary",children:"     "})]}):n.jsx("div",{className:"card-neon overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-mm-border",children:[n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),n.jsx("tbody",{children:t.map(j=>n.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:j.sku}),n.jsx("td",{className:"py-4 px-4 text-sm",children:j.product_name||""}),n.jsx("td",{className:"py-4 px-4 text-center",children:d===j.id?n.jsx("input",{type:"number",value:N,onChange:P=>y(P.target.value),className:"input-neon w-24 text-center",autoFocus:!0,"data-testid":`edit-input-${j.sku}`}):n.jsx("span",{className:"font-mono font-bold",children:j.quantity})}),n.jsx("td",{className:"py-4 px-4 text-center font-mono text-mm-yellow",children:j.reserved}),n.jsx("td",{className:"py-4 px-4 text-center font-mono font-bold text-mm-green",children:j.available}),n.jsx("td",{className:"py-4 px-4 text-center",children:d===j.id?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{onClick:()=>b(j),className:"text-mm-green hover:text-mm-cyan transition-colors","data-testid":`save-btn-${j.sku}`,children:n.jsx(vt,{size:20})}),n.jsx("button",{onClick:f,className:"text-mm-red hover:text-mm-text-secondary transition-colors","data-testid":`cancel-btn-${j.sku}`,children:n.jsx(Xt,{size:20})})]}):n.jsx("button",{onClick:()=>x(j),className:"text-mm-cyan hover:text-mm-green transition-colors","data-testid":`edit-btn-${j.sku}`,children:n.jsx(sx,{size:18})})})]},j.id))})]})}):n.jsx("div",{className:"card-neon text-center py-16",children:n.jsx("p",{className:"text-mm-text-secondary text-lg",children:"     "})}),n.jsx("div",{className:"card-neon p-4 bg-mm-dark-secondary/30",children:n.jsxs("p",{className:"text-sm text-mm-text-secondary",children:[n.jsx("span",{className:"text-mm-cyan font-bold",children:" :"}),"       15 .    ,      ."]})})]})}function yx(){const{api:e}=le(),[t,r]=g.useState([]),[s,a]=g.useState(!0),[l,o]=g.useState(!1),[c,u]=g.useState(null);g.useEffect(()=>{i()},[]);const i=async()=>{a(!0);try{const d=await e.get("/api/suppliers");r(d.data)}catch(d){J.error("  "),console.error(d)}a(!1)},m=async d=>{var h,N;if(confirm(`  "${d.name}"?`))try{await e.delete(`/api/suppliers/${d.id}`),J.success(" "),i()}catch(y){J.error(((N=(h=y.response)==null?void 0:h.data)==null?void 0:N.detail)||" ")}};return n.jsx("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-mm-cyan uppercase mb-2","data-testid":"suppliers-title",children:""}),n.jsx("p",{className:"text-mm-text-secondary text-sm",children:"//  "})]}),n.jsxs("button",{onClick:()=>{u(null),o(!0)},className:"btn-primary flex items-center space-x-2","data-testid":"create-supplier-btn",children:[n.jsx(Bt,{}),n.jsx("span",{children:" "})]})]}),s?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?n.jsxs("div",{className:"card-neon text-center py-16","data-testid":"empty-state",children:[n.jsx(li,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),n.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),n.jsx("p",{className:"text-sm text-mm-text-tertiary mb-6",children:"//   "}),n.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[n.jsx(Bt,{className:"inline mr-2"})," "]})]}):n.jsx("div",{className:"card-neon overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-mm-border",children:[n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),n.jsx("tbody",{children:t.map(d=>n.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`supplier-row-${d.id}`,children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(li,{className:"text-mm-cyan",size:20}),n.jsx("div",{className:"font-semibold",children:d.name})]})}),n.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary",children:d.contact_person||""}),n.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary font-mono",children:d.phone||""}),n.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary font-mono",children:d.inn||""}),n.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[n.jsx("button",{onClick:()=>{u(d),o(!0)},className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":`edit-supplier-${d.id}`,children:n.jsx(Sn,{size:16})}),n.jsx("button",{onClick:()=>m(d),className:"px-3 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors","data-testid":`delete-supplier-${d.id}`,children:n.jsx(Ut,{size:16})})]})]},d.id))})]})}),l&&n.jsx(jb,{supplier:c,onClose:()=>{o(!1),u(null)},onSuccess:()=>{o(!1),u(null),i()}})]})})}function jb({supplier:e,onClose:t,onSuccess:r}){const{api:s}=le(),[a,l]=g.useState({name:"",contact_person:"",phone:"",email:"",inn:"",address:"",comment:""});g.useEffect(()=>{e&&l({name:e.name||"",contact_person:e.contact_person||"",phone:e.phone||"",email:e.email||"",inn:e.inn||"",address:e.address||"",comment:e.comment||""})},[e]);const o=async c=>{var u,i;c.preventDefault();try{e?(await s.put(`/api/suppliers/${e.id}`,a),J.success(" ")):(await s.post("/api/suppliers",a),J.success(" ")),r()}catch(m){J.error(((i=(u=m.response)==null?void 0:u.data)==null?void 0:i.detail)||" ")}};return n.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 z-50","data-testid":"supplier-modal",children:n.jsxs("div",{className:"card-neon max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:e?" ":" "}),n.jsx("button",{onClick:t,className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:n.jsx(Xt,{size:24})})]}),n.jsxs("form",{onSubmit:o,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),n.jsx("input",{type:"text",value:a.name,onChange:c=>l({...a,name:c.target.value}),className:"input-neon w-full",placeholder:" ",required:!0,"data-testid":"supplier-name-input"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" "}),n.jsx("input",{type:"text",value:a.contact_person,onChange:c=>l({...a,contact_person:c.target.value}),className:"input-neon w-full",placeholder:" ","data-testid":"contact-person-input"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),n.jsx("input",{type:"tel",value:a.phone,onChange:c=>l({...a,phone:c.target.value}),className:"input-neon w-full",placeholder:"+7 (900) 123-45-67","data-testid":"phone-input"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Email"}),n.jsx("input",{type:"email",value:a.email,onChange:c=>l({...a,email:c.target.value}),className:"input-neon w-full",placeholder:"supplier@example.com","data-testid":"email-input"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),n.jsx("input",{type:"text",value:a.inn,onChange:c=>l({...a,inn:c.target.value}),className:"input-neon w-full",placeholder:"1234567890","data-testid":"inn-input"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),n.jsx("input",{type:"text",value:a.address,onChange:c=>l({...a,address:c.target.value}),className:"input-neon w-full",placeholder:". , . , 5","data-testid":"address-input"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),n.jsx("textarea",{value:a.comment,onChange:c=>l({...a,comment:c.target.value}),className:"input-neon w-full",rows:"3",placeholder:" ","data-testid":"comment-input"})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1","data-testid":"cancel-btn",children:""}),n.jsx("button",{type:"submit",className:"btn-primary flex-1","data-testid":"submit-btn",children:e?"":""})]})]})]})})}function gx(){const{api:e}=le(),[t,r]=g.useState([]),[s,a]=g.useState(!0),[l,o]=g.useState("all");g.useEffect(()=>{c()},[l]);const c=async()=>{a(!0);try{const m=l!=="all"?`?status=${l}`:"",d=await e.get(`/api/income-orders${m}`);r(d.data)}catch(m){J.error(" "),console.error(m)}a(!1)},u=m=>m?new Date(m).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"",i=m=>m==="draft"?n.jsx("span",{className:"px-3 py-1 text-xs font-mono uppercase bg-mm-yellow/20 text-mm-yellow border border-mm-yellow",children:""}):m==="accepted"?n.jsx("span",{className:"px-3 py-1 text-xs font-mono uppercase bg-mm-green/20 text-mm-green border border-mm-green",children:""}):n.jsx("span",{className:"px-3 py-1 text-xs font-mono uppercase bg-mm-text-tertiary/20 text-mm-text-tertiary",children:m});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl text-mm-cyan uppercase mb-2","data-testid":"title",children:"  "}),n.jsx("p",{className:"text-mm-text-secondary text-sm",children:" "})]}),n.jsxs(Na,{to:"/income-orders/new",className:"btn-primary flex items-center space-x-2","data-testid":"create-btn",children:[n.jsx(Bt,{}),n.jsx("span",{children:" "})]})]}),n.jsx("div",{className:"card-neon",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("label",{className:"text-sm text-mm-text-secondary uppercase",children:":"}),n.jsx("div",{className:"flex space-x-2",children:["all","draft","accepted"].map(m=>n.jsx("button",{onClick:()=>o(m),className:`px-4 py-2 text-xs font-mono uppercase border transition-colors ${l===m?"border-mm-cyan text-mm-cyan bg-mm-cyan/10":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":`filter-${m}`,children:m==="all"?"":m==="draft"?"":""},m))})]})}),s?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?n.jsxs("div",{className:"card-neon text-center py-16","data-testid":"empty-state",children:[n.jsx(dt,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),n.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),n.jsx("p",{className:"text-sm text-mm-text-tertiary mb-6",children:"   "}),n.jsxs(Na,{to:"/income-orders/new",className:"btn-primary inline-flex items-center space-x-2",children:[n.jsx(Bt,{}),n.jsx("span",{children:" "})]})]}):n.jsx("div",{className:"card-neon overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-mm-border",children:[n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"-"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),n.jsx("tbody",{children:t.map(m=>{var d;return n.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${m.id}`,children:[n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:m.id.substring(0,8)}),n.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary",children:u(m.created_at)}),n.jsx("td",{className:"py-4 px-4 text-sm",children:m.supplier_name||""}),n.jsx("td",{className:"py-4 px-4 text-sm",children:m.warehouse_name||""}),n.jsx("td",{className:"py-4 px-4 text-center font-mono text-sm",children:((d=m.items)==null?void 0:d.length)||0}),n.jsx("td",{className:"py-4 px-4 text-center font-mono text-sm text-mm-cyan font-bold",children:m.total_quantity||0}),n.jsx("td",{className:"py-4 px-4",children:i(m.status)}),n.jsx("td",{className:"py-4 px-4 text-right",children:n.jsx(Na,{to:`/income-orders/${m.id}/edit`,className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors inline-flex items-center","data-testid":`edit-order-${m.id}`,children:n.jsx(Sn,{size:16})})})]},m.id)})})]})})]})}function Nb(){const{api:e}=le(),[t,r]=g.useState([]),[s,a]=g.useState(!0),[l,o]=g.useState({marketplace:"",status:""});g.useEffect(()=>{c()},[l]);const c=async()=>{a(!0);try{const i=new URLSearchParams;l.marketplace&&i.append("marketplace",l.marketplace),l.status&&i.append("status",l.status);const m=await e.get(`/api/stock-sync/history?${i}`);r(m.data)}catch(i){J.error("  "),console.error(i)}a(!1)},u=i=>i?new Date(i).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl text-mm-cyan uppercase mb-2",children:"  "}),n.jsx("p",{className:"text-mm-text-secondary text-sm",children:"    "})]}),n.jsxs("button",{onClick:c,className:"btn-secondary flex items-center space-x-2","data-testid":"refresh-btn",children:[n.jsx(Kn,{}),n.jsx("span",{children:""})]})]}),n.jsx("div",{className:"card-neon",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(ax,{className:"text-mm-cyan"}),n.jsxs("select",{value:l.marketplace,onChange:i=>o({...l,marketplace:i.target.value}),className:"input-neon text-sm",children:[n.jsx("option",{value:"",children:" "}),n.jsx("option",{value:"ozon",children:"Ozon"}),n.jsx("option",{value:"wb",children:"Wildberries"}),n.jsx("option",{value:"yandex",children:"Yandex"})]}),n.jsxs("select",{value:l.status,onChange:i=>o({...l,status:i.target.value}),className:"input-neon text-sm",children:[n.jsx("option",{value:"",children:" "}),n.jsx("option",{value:"success",children:""}),n.jsx("option",{value:"failed",children:""})]})]})}),s?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?n.jsxs("div",{className:"card-neon text-center py-16",children:[n.jsx(Kn,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),n.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),n.jsx("p",{className:"text-sm text-mm-text-tertiary",children:"    "})]}):n.jsx("div",{className:"card-neon overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-mm-border",children:[n.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),n.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),n.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:" "}),n.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),n.jsx("th",{className:"text-center py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),n.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),n.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),n.jsx("tbody",{children:t.map(i=>n.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[n.jsx("td",{className:"py-3 px-3 font-mono text-xs text-mm-text-secondary",children:u(i.synced_at)}),n.jsx("td",{className:"py-3 px-3",children:n.jsx("span",{className:"px-2 py-1 text-xs font-mono uppercase bg-mm-purple/20 text-mm-purple border border-mm-purple",children:i.marketplace})}),n.jsx("td",{className:"py-3 px-3 font-mono text-xs text-mm-text-secondary",children:i.marketplace_warehouse_id}),n.jsx("td",{className:"py-3 px-3 font-mono text-xs text-mm-cyan",children:i.product_article}),n.jsx("td",{className:"py-3 px-3 text-center font-mono font-bold text-mm-green",children:i.quantity_sent}),n.jsx("td",{className:"py-3 px-3",children:i.status==="success"?n.jsxs("span",{className:"flex items-center text-mm-green text-xs",children:[n.jsx(vt,{className:"mr-1"}),""]}):n.jsxs("span",{className:"flex items-center text-mm-red text-xs",children:[n.jsx(Xt,{className:"mr-1"}),""]})}),n.jsx("td",{className:"py-3 px-3 text-xs text-mm-red",children:i.error_message||""})]},i.id))})]})})]})}function bx(){const[e,t]=g.useState("warehouses");return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex space-x-4 border-b border-mm-border overflow-x-auto",children:[n.jsxs("button",{onClick:()=>t("warehouses"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="warehouses"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-warehouses",children:[n.jsx(Ps,{className:"inline mr-2"}),""]}),n.jsxs("button",{onClick:()=>t("suppliers"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="suppliers"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-suppliers",children:[n.jsx(li,{className:"inline mr-2"}),""]}),n.jsxs("button",{onClick:()=>t("income"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="income"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-income",children:[n.jsx(Es,{className:"inline mr-2"}),"  "]}),n.jsxs("button",{onClick:()=>t("stock"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="stock"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-stock",children:[n.jsx(ub,{className:"inline mr-2"}),""]}),n.jsxs("button",{onClick:()=>t("inventory"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="inventory"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-inventory",children:[n.jsx(pb,{className:"inline mr-2"}),""]}),n.jsxs("button",{onClick:()=>t("sync"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="sync"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-sync",children:[n.jsx(db,{className:"inline mr-2"}),""]})]}),n.jsxs("div",{children:[e==="warehouses"&&n.jsx(fx,{}),e==="suppliers"&&n.jsx(yx,{}),e==="income"&&n.jsx(gx,{}),e==="stock"&&n.jsx(vb,{}),e==="inventory"&&n.jsx(bb,{}),e==="sync"&&n.jsx(Nb,{})]})]})}function vx(){const{api:e}=le(),[t,r]=g.useState([]),[s,a]=g.useState([]),[l,o]=g.useState([]),[c,u]=g.useState(!0),[i,m]=g.useState(""),[d,h]=g.useState(""),[N,y]=g.useState(""),[w,S]=g.useState(""),[p,x]=g.useState(!1),[f,b]=g.useState(1),[C,j]=g.useState("created_at"),[P,k]=g.useState(!1);g.useEffect(()=>{_(),D()},[i,d,N,w,f,C,P]);const _=async()=>{try{const L=await e.get("/api/catalog/categories");o(L.data)}catch(L){console.error("Failed to load categories:",L)}},D=async()=>{try{u(!0);const L={page:f,limit:50,sort_by:C,ascending:P};i&&(L.search=i),d&&(L.category_id=d),N&&(L.brand=N),w&&(L.status=w);const W=(await e.get("/api/catalog/products",{params:L})).data;r(W);const B=await Promise.all(W.map(async K=>{try{const I=(await e.get(`/api/catalog/products/${K.id}/photos`)).data;return{...K,firstPhoto:I.length>0?I[0].url:null}}catch(F){return console.error(`Failed to load photos for product ${K.id}:`,F),{...K,firstPhoto:null}}}));a(B)}catch(L){console.error("Failed to load products:",L)}finally{u(!1)}},v=async L=>{if(window.confirm(" ,      ?    ."))try{await e.delete(`/api/catalog/products/${L}`),D()}catch(z){alert("   : "+z.message)}},R=L=>{const z={active:n.jsx("span",{className:"px-2 py-1 text-xs rounded bg-green-500/20 text-green-400",children:""}),draft:n.jsx("span",{className:"px-2 py-1 text-xs rounded bg-yellow-500/20 text-yellow-400",children:""}),archived:n.jsx("span",{className:"px-2 py-1 text-xs rounded bg-gray-500/20 text-gray-400",children:""})};return z[L]||z.draft};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:""}),n.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:" "})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>window.location.href="/catalog/import",className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded flex items-center gap-2",children:[n.jsx(Yn,{}),"  "]}),n.jsxs("button",{onClick:()=>window.location.href="/catalog/categories",className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded flex items-center gap-2",children:[n.jsx(dt,{})," "]}),n.jsxs("button",{onClick:()=>window.location.href="/catalog/products/new",className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center gap-2",children:[n.jsx(Bt,{}),"  "]})]})]}),n.jsxs("div",{className:"bg-mm-secondary p-4 rounded-lg space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-mm-text-secondary"}),n.jsx("input",{type:"text",placeholder:"  , , -...",value:i,onChange:L=>m(L.target.value),className:"w-full pl-10 pr-4 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),n.jsxs("button",{onClick:()=>x(!p),className:`px-4 py-2 rounded flex items-center gap-2 ${p?"bg-mm-cyan text-mm-dark":"bg-mm-dark text-mm-text hover:bg-mm-dark/80"}`,children:[n.jsx(ax,{})," "]})]}),p&&n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),n.jsxs("select",{value:d,onChange:L=>h(L.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[n.jsx("option",{value:"",children:" "}),l.map(L=>n.jsx("option",{value:L.id,children:L.name},L.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),n.jsx("input",{type:"text",value:N,onChange:L=>y(L.target.value),placeholder:"  ",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),n.jsxs("select",{value:w,onChange:L=>S(L.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[n.jsx("option",{value:"",children:" "}),n.jsx("option",{value:"active",children:""}),n.jsx("option",{value:"draft",children:""}),n.jsx("option",{value:"archived",children:""})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),n.jsxs("select",{value:C,onChange:L=>j(L.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[n.jsx("option",{value:"created_at",children:"  "}),n.jsx("option",{value:"name",children:" "}),n.jsx("option",{value:"article",children:" "})]})]})]})]}),c?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-mm-cyan"}),n.jsx("p",{className:"text-mm-text-secondary mt-4",children:" ..."})]}):s.length===0?n.jsxs("div",{className:"text-center py-12 bg-mm-secondary rounded-lg",children:[n.jsx(dt,{className:"mx-auto text-6xl text-mm-text-secondary mb-4"}),n.jsx("p",{className:"text-mm-text-secondary text-lg",children:" "}),n.jsx("p",{className:"text-mm-text-secondary text-sm mt-2",children:"     "}),n.jsx("button",{onClick:()=>window.location.href="/catalog/products/new",className:"mt-4 px-6 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded",children:" "})]}):n.jsx("div",{className:"bg-mm-secondary rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-mm-dark border-b border-mm-border",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-mm-border",children:s.map(L=>n.jsxs("tr",{className:"hover:bg-mm-dark/50 transition",children:[n.jsxs("td",{className:"px-4 py-3",children:[L.firstPhoto?n.jsx("img",{src:L.firstPhoto,alt:L.name,className:"w-12 h-12 object-cover rounded bg-mm-dark",onError:z=>{z.target.style.display="none",z.target.nextSibling.style.display="flex"}}):null,n.jsx("div",{className:"w-12 h-12 bg-mm-dark rounded flex items-center justify-center",style:{display:L.firstPhoto?"none":"flex"},children:n.jsx(dt,{className:"text-mm-text-secondary"})})]}),n.jsx("td",{className:"px-4 py-3 text-sm text-mm-text font-mono",children:L.article}),n.jsxs("td",{className:"px-4 py-3",children:[n.jsx("div",{className:"text-sm text-mm-text",children:L.name}),L.description&&n.jsx("div",{className:"text-xs text-mm-text-secondary mt-1 truncate max-w-xs",children:L.description})]}),n.jsx("td",{className:"px-4 py-3",children:L.price_discounted?n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"text-mm-cyan font-bold text-base",children:[(L.price_discounted/100).toFixed(2)," "]}),n.jsxs("span",{className:"text-mm-text-secondary text-xs line-through",children:[(L.price/100).toFixed(2)," "]})]}):L.price>0?n.jsxs("span",{className:"text-mm-text text-sm",children:[(L.price/100).toFixed(2)," "]}):n.jsx("span",{className:"text-mm-text-secondary text-sm",children:""})}),n.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:L.brand||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:L.category_name||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-mm-cyan",children:L.variants_count}),L.is_grouped&&n.jsx("span",{className:"text-xs text-mm-text-secondary",children:"(.)"})]})}),n.jsx("td",{className:"px-4 py-3",children:R(L.status)}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>window.location.href=`/catalog/products/${L.id}/edit`,className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded transition",title:"",children:n.jsx(Sn,{})}),n.jsx("button",{onClick:()=>v(L.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded transition",title:" ",children:n.jsx(Ut,{})})]})})]},L.id))})]})}),s.length>0&&n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-mm-text-secondary",children:[" : ",s.length]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>b(Math.max(1,f-1)),disabled:f===1,className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:""}),n.jsxs("span",{className:"px-4 py-2 bg-mm-dark rounded text-mm-text",children:[" ",f]}),n.jsx("button",{onClick:()=>b(f+1),disabled:s.length<50,className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})]})}function wb(){const{api:e}=le(),[t,r]=g.useState([]),[s,a]=g.useState(!0);g.useEffect(()=>{l()},[]);const l=async()=>{try{const u=await e.get("/api/admin/users");r(u.data)}catch(u){console.error("Failed to load users:",u)}a(!1)},o=async u=>{try{await e.put(`/api/admin/users/${u}/approve`),l()}catch(i){console.error("Failed to approve:",i)}},c=async u=>{try{await e.put(`/api/admin/users/${u}/block`),l()}catch(i){console.error("Failed to block:",i)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl mb-4 text-mm-cyan",children:" "}),s?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):n.jsx("div",{className:"card-neon overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-mm-border",children:[n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Email"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Name"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Role"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Status"}),n.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Actions"})]})}),n.jsx("tbody",{children:t.map(u=>n.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[n.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:u.email}),n.jsx("td",{className:"py-4 px-4",children:u.full_name}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:u.role==="admin"?"status-active":"status-new",children:u.role})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:u.is_active?"status-active":"status-pending",children:u.is_active?"ACTIVE":"PENDING"})}),n.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[!u.is_active&&u.role==="seller"&&n.jsx("button",{onClick:()=>o(u.id),className:"px-3 py-1 border border-mm-green text-mm-green text-xs",children:"APPROVE"}),u.is_active&&u.role==="seller"&&n.jsx("button",{onClick:()=>c(u.id),className:"px-3 py-1 border border-mm-red text-mm-red text-xs",children:"BLOCK"})]})]},u.id))})]})})]})}function kb(){const{user:e,logout:t}=le(),[r,s]=g.useState("sellers");return n.jsxs("div",{className:"min-h-screen bg-mm-black",children:[n.jsx("header",{className:"border-b border-mm-border bg-mm-darker",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h1",{className:"text-2xl font-bold",children:["MINIMAL",n.jsx("span",{className:"text-mm-purple",children:"MOD"})," ",n.jsx("span",{className:"status-active",children:"ADMIN"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:"text-mm-text-secondary",children:e==null?void 0:e.email}),n.jsx(mx,{}),n.jsx("button",{onClick:t,className:"btn-primary",children:"LOGOUT"})]})]})})}),n.jsx("nav",{className:"border-b border-mm-border bg-mm-dark",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4",children:n.jsxs("div",{className:"flex space-x-6 h-12 overflow-x-auto",children:[n.jsxs("button",{onClick:()=>s("sellers"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="sellers"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-sellers",children:[n.jsx(yb,{className:"inline mr-2"}),""]}),n.jsxs("button",{onClick:()=>s("api-keys"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="api-keys"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-integrations",children:[n.jsx(lx,{className:"inline mr-2"}),""]}),n.jsxs("button",{onClick:()=>s("warehouses"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="warehouses"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-warehouses",children:[n.jsx(Ps,{className:"inline mr-2"}),""]}),n.jsxs("button",{onClick:()=>s("products"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="products"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-products",children:[n.jsx(dt,{className:"inline mr-2"}),""]}),n.jsxs("button",{onClick:()=>s("orders"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="orders"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-orders",children:[n.jsx(cx,{className:"inline mr-2"}),"ORDERS"]}),n.jsxs("button",{onClick:()=>s("finance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="finance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-finance",children:[n.jsx(ox,{className:"inline mr-2"}),"FINANCE"]}),n.jsxs("button",{onClick:()=>s("balance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="balance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-balance",children:[n.jsx(kl,{className:"inline mr-2"}),"BALANCE"]})]})})}),n.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[r==="sellers"&&n.jsx(wb,{}),r==="api-keys"&&n.jsx(hc,{}),r==="warehouses"&&n.jsx(bx,{}),r==="products"&&n.jsx(vx,{}),r==="orders"&&n.jsx(px,{}),r==="finance"&&n.jsx(xx,{}),r==="balance"&&n.jsx(hx,{})]})]})}function Sb(){const{api:e}=le(),[t,r]=g.useState({}),[s,a]=g.useState({}),[l,o]=g.useState(null);g.useEffect(()=>{c()},[]);const c=async()=>{try{const d=await e.get("/api/admin/categories/preload/status");a(d.data)}catch(d){console.error("Failed to load status:",d),o("  ")}},u=async d=>{var h,N;r({...t,[d]:!0}),o(null);try{const y=await e.post(`/api/admin/categories/preload?marketplace=${d}`);alert(` ${y.data.message}`),setTimeout(()=>{c()},3e3)}catch(y){console.error(`Failed to preload ${d}:`,y);const w=((N=(h=y.response)==null?void 0:h.data)==null?void 0:N.detail)||y.message;alert(`   ${d}: ${w}`),o(w)}finally{r({...t,[d]:!1})}},i=[{id:"ozon",name:"Ozon",color:"blue",description:"   Ozon"},{id:"wb",name:"Wildberries",color:"purple",description:"   WB"},{id:"yandex",name:" ",color:"yellow",description:"  "}],m=d=>d?new Date(d).toLocaleString("ru-RU"):"";return n.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),n.jsx("p",{className:"text-gray-600",children:"          "})]}),l&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-start gap-3",children:[n.jsx(_r,{className:"text-red-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-800 font-medium",children:""}),n.jsx("p",{className:"text-red-600 text-sm",children:l})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[n.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"   ?"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:"       "}),n.jsx("li",{children:"        "}),n.jsx("li",{children:"          "}),n.jsx("li",{children:"   1-3     "})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:i.map(d=>{const h=s[d.id]||{},N=h.total_categories>0,y=h.last_updated;return n.jsxs("div",{className:`bg-white border-2 border-${d.color}-200 rounded-lg p-6 shadow-sm`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:`text-lg font-bold text-${d.color}-700`,children:d.name}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.description})]}),N&&n.jsx(vt,{className:"text-green-600 text-xl flex-shrink-0"})]}),n.jsxs("div",{className:"space-y-3 mb-4",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:" :"}),n.jsx("span",{className:"font-bold text-gray-900",children:h.total_categories||0})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:" :"}),n.jsx("span",{className:"font-medium text-gray-700 text-xs",children:m(y)})]})]}),n.jsx("button",{onClick:()=>u(d.id),disabled:t[d.id],className:`w-full py-2 px-4 rounded-lg font-medium text-white transition-colors flex items-center justify-center gap-2 ${t[d.id]?`bg-${d.color}-300 cursor-not-allowed`:`bg-${d.color}-600 hover:bg-${d.color}-700`}`,children:t[d.id]?n.jsxs(n.Fragment,{children:[n.jsx(Kn,{className:"animate-spin"}),"..."]}):N?n.jsxs(n.Fragment,{children:[n.jsx(Kn,{})," "]}):n.jsxs(n.Fragment,{children:[n.jsx(Es,{})," "]})})]},d.id)})}),n.jsxs("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-medium text-yellow-900 mb-2",children:" "}),n.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[n.jsx("li",{children:"      API  "}),n.jsx("li",{children:' ,       ""'}),n.jsx("li",{children:"    ,      "})]})]})]})}function _b(){const{user:e,logout:t,api:r}=le(),[s,a]=g.useState([]),[l,o]=g.useState(!0),[c,u]=g.useState("products");g.useEffect(()=>{i()},[]);const i=async()=>{try{const m=await r.get("/api/products");a(m.data)}catch(m){console.error("Failed to load products:",m)}o(!1)};return n.jsxs("div",{className:"min-h-screen bg-mm-black",children:[n.jsx("header",{className:"border-b border-mm-border bg-mm-darker",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h1",{className:"text-2xl font-bold",children:["MINIMAL",n.jsx("span",{className:"text-mm-purple",children:"MOD"})," ",n.jsx("span",{className:"status-new",children:"SELLER"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:"text-mm-text-secondary",children:e==null?void 0:e.email}),n.jsx(mx,{}),n.jsx("button",{onClick:t,className:"btn-primary",children:"LOGOUT"})]})]})})}),n.jsx("nav",{className:"border-b border-mm-border bg-mm-dark",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4",children:n.jsxs("div",{className:"flex space-x-6 h-12 overflow-x-auto",children:[n.jsxs("button",{onClick:()=>u("api-keys"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${c==="api-keys"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[n.jsx(lx,{className:"inline mr-2"}),""]}),n.jsxs("button",{onClick:()=>u("warehouses"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${c==="warehouses"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[n.jsx(Ps,{className:"inline mr-2"}),""]}),n.jsxs("button",{onClick:()=>u("products"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${c==="products"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[n.jsx(dt,{className:"inline mr-2"}),""]}),n.jsxs("button",{onClick:()=>u("orders"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${c==="orders"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[n.jsx(cx,{className:"inline mr-2"}),"ORDERS"]}),n.jsxs("button",{onClick:()=>u("finance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${c==="finance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[n.jsx(ox,{className:"inline mr-2"}),"FINANCE"]}),n.jsxs("button",{onClick:()=>u("balance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${c==="balance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[n.jsx(kl,{className:"inline mr-2"}),"BALANCE"]})]})})}),n.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[c==="api-keys"&&n.jsx(hc,{}),c==="warehouses"&&n.jsx(bx,{}),c==="products"&&n.jsx(vx,{}),c==="old-products"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan",children:"PRODUCTS"}),n.jsx("button",{onClick:()=>window.location.href="/products/new/edit",className:"btn-primary",children:"+ ADD PRODUCT"})]}),l?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):s.length===0?n.jsxs("div",{className:"card-neon text-center py-12",children:[n.jsx(dt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),n.jsx("p",{className:"text-mm-text-secondary",children:"No products yet"})]}):n.jsx("div",{className:"card-neon overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-mm-border",children:[n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Photo"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"SKU"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Name"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Category"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Characteristics"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Price"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Status"}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Source"}),n.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Actions"})]})}),n.jsx("tbody",{children:s.map(m=>{var N,y;const h=(m.marketplace_data?Object.keys(m.marketplace_data):[]).includes("wb");return n.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[n.jsx("td",{className:"py-4 px-4",children:m.images&&m.images[0]?n.jsx("img",{src:m.images[0],alt:m.name,className:"w-16 h-16 object-cover border border-mm-border"}):n.jsx("div",{className:"w-16 h-16 bg-mm-gray border border-mm-border flex items-center justify-center",children:n.jsx("span",{className:"text-xs",children:"NO IMG"})})}),n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:m.sku}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-semibold",children:m.name}),m.description&&n.jsxs("div",{className:"text-xs text-mm-text-secondary mt-1 max-w-xs truncate",children:[m.description.substring(0,80),"..."]})]}),n.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary",children:((y=(N=m.marketplace_data)==null?void 0:N.wb)==null?void 0:y.category)||"N/A"}),n.jsx("td",{className:"py-4 px-4 text-sm",children:m.attributes&&Object.keys(m.attributes).length>0?n.jsxs("div",{className:"text-mm-green",children:[Object.keys(m.attributes).length," ",n.jsx("div",{className:"text-xs text-mm-text-tertiary mt-1",children:Object.entries(m.attributes).slice(0,2).map(([w,S])=>n.jsxs("div",{children:[w,": ",S]},w))})]}):n.jsx("span",{className:"text-mm-text-tertiary",children:"-"})}),n.jsxs("td",{className:"py-4 px-4 font-mono",children:["",m.price]}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:m.status==="active"?"status-active":"status-pending",children:m.status})}),n.jsx("td",{className:"py-4 px-4",children:h&&n.jsx("span",{className:"text-xs px-2 py-1 bg-mm-purple/20 text-mm-purple border border-mm-purple",children:"WB"})}),n.jsxs("td",{className:"py-4 px-4 text-right",children:[n.jsx("button",{onClick:async()=>{var w,S;if(confirm(`  "${m.name}"?`))try{await r.delete(`/api/products/${m.id}`),alert("  !"),i()}catch(p){alert("  : "+(((S=(w=p.response)==null?void 0:w.data)==null?void 0:S.detail)||p.message))}},className:"px-3 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors mr-2",title:" ",children:n.jsx(Ut,{size:16})}),n.jsx("button",{onClick:()=>window.location.href=`/products/${m.id}/edit`,className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors",title:" ",children:n.jsx(Sn,{size:16})})]})]},m.id)})})]})})]}),c==="orders"&&n.jsx(px,{}),c==="finance"&&n.jsx(xx,{}),c==="balance"&&n.jsx(hx,{})]})]})}function Cb(){const{id:e}=gl(),t=tn(),{api:r}=le(),[s,a]=g.useState(!0),[l,o]=g.useState([]),[c,u]=g.useState(null),[i,m]=g.useState({sku:"",price:"",cogs:"",status:"draft",category_id:"",visibility:{show_on_minimalmod:!0,show_in_search:!0,is_featured:!1},seo:{meta_title:"",meta_description:"",url_slug:""},minimalmod:{name:"",variant_name:"",description:"",tags:[],images:[],attributes:{}},marketplaces:{images:[],ozon:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}},wildberries:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}},yandex_market:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}}}});g.useEffect(()=>{d(),e!=="new"?h():a(!1)},[e]);const d=async()=>{try{const p=await r.get("/api/admin/categories");o(p.data)}catch(p){console.error("Failed to load categories:",p)}},h=async()=>{try{const p=await r.get(`/api/products/${e}`);if(m(p.data),p.data.category_id){const x=l.find(f=>f.id===p.data.category_id);u(x)}}catch(p){console.error("Failed to load product:",p)}a(!1)},N=p=>{const x=l.find(f=>f.id===p);if(u(x),x&&x.attributes){const f={};x.attributes.forEach(b=>{f[b]=i.minimalmod.attributes[b]||""}),m({...i,category_id:p,minimalmod:{...i.minimalmod,attributes:f}})}else m({...i,category_id:p})},y=()=>{if(!c)return;const p=c.marketplace_mapping||{};if(i.marketplaces.ozon.enabled&&p.ozon){const x={};Object.entries(i.minimalmod.attributes).forEach(([f,b])=>{var j;const C=(j=p.ozon.attribute_mapping)==null?void 0:j[f];C&&b&&(x[C]=b)}),m({...i,marketplaces:{...i.marketplaces,ozon:{...i.marketplaces.ozon,attributes:x}}})}alert("    !")},w=async()=>{var p,x;try{const f={...i,visibility:{...i.visibility,show_on_minimalmod:!0},status:"active"};e==="new"?await r.post("/api/products",f):await r.put(`/api/products/${e}`,f),alert("    MinimalMod!"),t(-1)}catch(f){alert(": "+(((x=(p=f.response)==null?void 0:p.data)==null?void 0:x.detail)||f.message))}},S=async()=>{var x,f;const p=[];if(i.marketplaces.ozon.enabled&&p.push("Ozon"),i.marketplaces.wildberries.enabled&&p.push("Wildberries"),i.marketplaces.yandex_market.enabled&&p.push("."),p.length===0){alert("    !");return}try{y(),e==="new"?await r.post("/api/products",i):await r.put(`/api/products/${e}`,i),alert(`  : ${p.join(", ")}!

      API  .`),t(-1)}catch(b){alert(": "+(((f=(x=b.response)==null?void 0:x.data)==null?void 0:f.detail)||b.message))}};return s?n.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:n.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):n.jsxs("div",{className:"min-h-screen bg-mm-black",children:[n.jsx("header",{className:"border-b border-mm-border bg-mm-darker sticky top-0 z-10",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-bold text-mm-cyan uppercase",children:e==="new"?" ":" "}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:w,className:"btn-primary",children:[n.jsx(Yn,{className:"inline mr-2"}),"  "]}),n.jsxs("button",{onClick:S,className:"btn-secondary border-mm-green text-mm-green",children:[n.jsx(Yn,{className:"inline mr-2"}),"  "]}),n.jsxs("button",{onClick:()=>t(-1),className:"btn-secondary",children:[n.jsx(Xt,{className:"inline mr-2"}),""]})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"card-neon mb-6",children:[n.jsx("p",{className:"comment mb-3",children:"//      :"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2 p-4 border-2 border-mm-border hover:border-mm-cyan transition-all cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:!0,disabled:!0,className:"w-5 h-5"}),n.jsx("span",{className:"font-mono text-mm-cyan",children:"  ()"})]}),n.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${i.marketplaces.ozon.enabled?"border-mm-blue bg-mm-blue/10":"border-mm-border hover:border-mm-blue"}`,children:[n.jsx("input",{type:"checkbox",checked:i.marketplaces.ozon.enabled,onChange:p=>m({...i,marketplaces:{...i.marketplaces,ozon:{...i.marketplaces.ozon,enabled:p.target.checked}}}),className:"w-5 h-5"}),n.jsx("span",{className:`font-mono ${i.marketplaces.ozon.enabled?"text-mm-blue":"text-mm-text-secondary"}`,children:" OZON"})]}),n.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${i.marketplaces.wildberries.enabled?"border-mm-purple bg-mm-purple/10":"border-mm-border hover:border-mm-purple"}`,children:[n.jsx("input",{type:"checkbox",checked:i.marketplaces.wildberries.enabled,onChange:p=>m({...i,marketplaces:{...i.marketplaces,wildberries:{...i.marketplaces.wildberries,enabled:p.target.checked}}}),className:"w-5 h-5"}),n.jsx("span",{className:`font-mono ${i.marketplaces.wildberries.enabled?"text-mm-purple":"text-mm-text-secondary"}`,children:" WILDBERRIES"})]}),n.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${i.marketplaces.yandex_market.enabled?"border-mm-yellow bg-mm-yellow/10":"border-mm-border hover:border-mm-yellow"}`,children:[n.jsx("input",{type:"checkbox",checked:i.marketplaces.yandex_market.enabled,onChange:p=>m({...i,marketplaces:{...i.marketplaces,yandex_market:{...i.marketplaces.yandex_market,enabled:p.target.checked}}}),className:"w-5 h-5"}),n.jsx("span",{className:`font-mono ${i.marketplaces.yandex_market.enabled?"text-mm-yellow":"text-mm-text-secondary"}`,children:" ."})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"card-neon",children:[n.jsx("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:" "}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"SKU *"}),n.jsx("input",{type:"text",value:i.sku,onChange:p=>m({...i,sku:p.target.value}),className:"input-neon w-full",placeholder:"PRODUCT-123"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),n.jsx("input",{type:"number",step:"0.01",value:i.price,onChange:p=>m({...i,price:p.target.value}),className:"input-neon w-full"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),n.jsx("input",{type:"text",value:i.minimalmod.name,onChange:p=>m({...i,minimalmod:{...i.minimalmod,name:p.target.value}}),className:"input-neon w-full"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),n.jsxs("select",{value:i.category_id||"",onChange:p=>N(p.target.value),className:"input-neon w-full",children:[n.jsx("option",{value:"",children:" "}),l.map(p=>n.jsx("option",{value:p.id,children:p.name},p.id))]}),n.jsx("p",{className:"comment text-xs mt-1",children:"//     "})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),n.jsx("textarea",{value:i.minimalmod.description,onChange:p=>m({...i,minimalmod:{...i.minimalmod,description:p.target.value}}),className:"input-neon w-full",rows:"6"})]})]})]}),n.jsxs("div",{className:"card-neon",children:[n.jsxs("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:[n.jsx(ai,{className:"inline mr-2"}),"   ( 8 )"]}),n.jsxs("div",{className:"space-y-2",children:[i.minimalmod.images.map((p,x)=>n.jsxs("div",{className:"flex items-center space-x-2",children:[p&&n.jsx("img",{src:p,alt:"",className:"w-16 h-16 object-cover border border-mm-border"}),n.jsx("input",{type:"text",value:p,onChange:f=>{const b=[...i.minimalmod.images];b[x]=f.target.value,m({...i,minimalmod:{...i.minimalmod,images:b}})},className:"input-neon flex-1",placeholder:"https://example.com/image.jpg"}),n.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`file-mm-${x}`,onChange:f=>{const b=f.target.files[0];if(b){const C=new FileReader;C.onload=j=>{const P=[...i.minimalmod.images];P[x]=j.target.result,m({...i,minimalmod:{...i.minimalmod,images:P}})},C.readAsDataURL(b)}}}),n.jsx("label",{htmlFor:`file-mm-${x}`,className:"btn-secondary px-3 py-2 cursor-pointer",children:""}),n.jsx("button",{onClick:()=>{m({...i,minimalmod:{...i.minimalmod,images:i.minimalmod.images.filter((f,b)=>b!==x)}})},className:"text-mm-red hover:text-mm-red/80 text-xl",children:""})]},x)),i.minimalmod.images.length<8&&n.jsx("button",{onClick:()=>m({...i,minimalmod:{...i.minimalmod,images:[...i.minimalmod.images,""]}}),className:"btn-secondary w-full",children:"+  "})]})]}),n.jsxs("div",{className:"card-neon border-2 border-mm-purple",children:[n.jsxs("h3",{className:"text-xl mb-4 text-mm-purple uppercase",children:[n.jsx(ai,{className:"inline mr-2"}),"   ( 10 ,  3:4)"]}),n.jsx("p",{className:"comment mb-3",children:"//     Ozon, Wildberries, ."}),n.jsxs("div",{className:"space-y-2",children:[i.marketplaces.images.map((p,x)=>n.jsxs("div",{className:"flex items-center space-x-2",children:[p&&n.jsx("img",{src:p,alt:"",className:"w-16 h-16 object-cover border border-mm-border"}),n.jsx("input",{type:"text",value:p,onChange:f=>{const b=[...i.marketplaces.images];b[x]=f.target.value,m({...i,marketplaces:{...i.marketplaces,images:b}})},className:"input-neon flex-1",placeholder:"https://example.com/marketplace-image.jpg"}),n.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`file-mp-${x}`,onChange:f=>{const b=f.target.files[0];if(b){const C=new FileReader;C.onload=j=>{const P=[...i.marketplaces.images];P[x]=j.target.result,m({...i,marketplaces:{...i.marketplaces,images:P}})},C.readAsDataURL(b)}}}),n.jsx("label",{htmlFor:`file-mp-${x}`,className:"btn-secondary px-3 py-2 cursor-pointer",children:""}),n.jsx("button",{onClick:()=>m({...i,marketplaces:{...i.marketplaces,images:i.marketplaces.images.filter((f,b)=>b!==x)}}),className:"text-mm-red hover:text-mm-red/80 text-xl",children:""})]},x)),i.marketplaces.images.length<10&&n.jsx("button",{onClick:()=>m({...i,marketplaces:{...i.marketplaces,images:[...i.marketplaces.images,""]}}),className:"btn-secondary w-full",children:"+  "})]}),n.jsx("p",{className:"comment text-xs mt-3",children:"//  : 3:4 (, 900x1200px)"})]}),c&&c.attributes&&n.jsxs("div",{className:"card-neon",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:""}),n.jsxs("button",{onClick:y,className:"btn-secondary text-xs",children:[n.jsx(vt,{className:"inline mr-1"}),"  "]})]}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:c.attributes.map(p=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:p}),n.jsx("input",{type:"text",value:i.minimalmod.attributes[p]||"",onChange:x=>m({...i,minimalmod:{...i.minimalmod,attributes:{...i.minimalmod.attributes,[p]:x.target.value}}}),className:"input-neon w-full",placeholder:` ${p}`})]},p))}),n.jsx("p",{className:"comment text-xs mt-3",children:'//   ,   ""     '})]}),i.marketplaces.ozon.enabled&&n.jsxs("div",{className:"card-neon border-2 border-mm-blue",children:[n.jsx("h3",{className:"text-xl mb-4 text-mm-blue uppercase",children:" OZON "}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  Ozon"}),n.jsx("input",{type:"number",step:"0.01",value:i.marketplaces.ozon.price,onChange:p=>m({...i,marketplaces:{...i.marketplaces,ozon:{...i.marketplaces.ozon,price:p.target.value}}}),className:"input-neon w-full",placeholder:"   Ozon"}),n.jsx("p",{className:"comment text-xs mt-1",children:"//  ,    "})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  Ozon"}),n.jsx("textarea",{value:i.marketplaces.ozon.description,onChange:p=>m({...i,marketplaces:{...i.marketplaces,ozon:{...i.marketplaces.ozon,description:p.target.value}}}),className:"input-neon w-full",rows:"4",placeholder:"  Ozon (   )"}),n.jsx("p",{className:"comment text-xs mt-1",children:"//  ,    "})]})]})]}),i.marketplaces.wildberries.enabled&&n.jsxs("div",{className:"card-neon border-2 border-mm-purple",children:[n.jsx("h3",{className:"text-xl mb-4 text-mm-purple uppercase",children:" WILDBERRIES "}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  WB"}),n.jsx("input",{type:"number",step:"0.01",value:i.marketplaces.wildberries.price,onChange:p=>m({...i,marketplaces:{...i.marketplaces,wildberries:{...i.marketplaces.wildberries,price:p.target.value}}}),className:"input-neon w-full"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  WB"}),n.jsx("textarea",{value:i.marketplaces.wildberries.description,onChange:p=>m({...i,marketplaces:{...i.marketplaces,wildberries:{...i.marketplaces.wildberries,description:p.target.value}}}),className:"input-neon w-full",rows:"4"})]})]})]}),i.marketplaces.yandex_market.enabled&&n.jsxs("div",{className:"card-neon border-2 border-mm-yellow",children:[n.jsx("h3",{className:"text-xl mb-4 text-mm-yellow uppercase",children:" . "}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),n.jsx("input",{type:"number",step:"0.01",value:i.marketplaces.yandex_market.price,onChange:p=>m({...i,marketplaces:{...i.marketplaces,yandex_market:{...i.marketplaces.yandex_market,price:p.target.value}}}),className:"input-neon w-full"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),n.jsx("textarea",{value:i.marketplaces.yandex_market.description,onChange:p=>m({...i,marketplaces:{...i.marketplaces,yandex_market:{...i.marketplaces.yandex_market,description:p.target.value}}}),className:"input-neon w-full",rows:"4"})]})]})]})]}),n.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[n.jsxs("div",{className:"card-neon",children:[n.jsx("h3",{className:"text-lg mb-4 text-mm-cyan uppercase",children:""}),n.jsxs("select",{value:i.status,onChange:p=>m({...i,status:p.target.value}),className:"input-neon w-full",children:[n.jsx("option",{value:"draft",children:""}),n.jsx("option",{value:"active",children:""}),n.jsx("option",{value:"out_of_stock",children:"  "}),n.jsx("option",{value:"archived",children:""})]})]}),n.jsxs("div",{className:"card-neon",children:[n.jsx("h3",{className:"text-lg mb-4 text-mm-cyan uppercase",children:""}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:i.visibility.show_on_minimalmod,onChange:p=>m({...i,visibility:{...i.visibility,show_on_minimalmod:p.target.checked}}),className:"w-4 h-4"}),n.jsx("span",{className:"text-mm-text-secondary",children:"  "})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:i.visibility.is_featured,onChange:p=>m({...i,visibility:{...i.visibility,is_featured:p.target.checked}}),className:"w-4 h-4"}),n.jsx("span",{className:"text-mm-text-secondary",children:""})]})]})]}),n.jsxs("div",{className:"card-neon bg-mm-blue/5 border-mm-blue",children:[n.jsx("p",{className:"text-mm-blue font-bold text-sm mb-2",children:"   :"}),n.jsxs("ul",{className:"text-xs text-mm-text-secondary space-y-1",children:[n.jsx("li",{children:"1.   "}),n.jsx("li",{children:"2.  "}),n.jsx("li",{children:"3.  "}),n.jsx("li",{children:"4.   ( )"}),n.jsx("li",{children:"5.    "}),n.jsx("li",{children:'6.  "  "'})]})]})]})]})]})]})}const Eb="http://localhost:8001",Pb=()=>{const e=tn(),[t,r]=g.useState([]),[s,a]=g.useState(!0),[l,o]=g.useState(""),[c,u]=g.useState("Wildberries"),[i,m]=g.useState([]),[d,h]=g.useState(!1),[N,y]=g.useState(2);g.useEffect(()=>{w()},[]);const w=async()=>{try{const _=localStorage.getItem("token"),D=await je.get(`${Eb}/api/products`,{headers:{Authorization:`Bearer ${_}`}});r(D.data),a(!1)}catch(_){console.error("Error fetching products:",_),a(!1)}},S=()=>{e("/products/new")},p=()=>{e("/orders/new")},x=()=>{if(i.length===0){alert("   ");return}alert("  -  ")},f=()=>{alert(" -  ")},b=()=>{if(i.length===0){alert("   ");return}confirm(` ${i.length}   ?`)&&alert(" -  ")},C=()=>{if(i.length===0){alert("   ");return}confirm(` ${i.length} ?`)&&alert(" -  ")},j=()=>{alert("  -  ")},P=_=>{i.includes(_)?m(i.filter(D=>D!==_)):m([...i,_])},k=t.filter(_=>_.name.toLowerCase().includes(l.toLowerCase())||_.sku&&_.sku.toLowerCase().includes(l.toLowerCase())||_.barcode&&_.barcode.toLowerCase().includes(l.toLowerCase()));return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:S,className:"px-6 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:" "}),n.jsx("button",{onClick:p,className:"px-6 py-2 bg-yellow-500 text-white font-semibold rounded-lg hover:bg-yellow-600",children:" "})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:" "}),n.jsx("button",{onClick:f,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:""}),n.jsx("button",{onClick:b,className:"p-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",title:"  ",children:""}),n.jsx("button",{onClick:C,className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200",title:"",children:""})]})]}),n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsx("button",{onClick:()=>h(!d),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-semibold",children:""}),n.jsx("input",{type:"text",value:l,onChange:_=>o(_.target.value),placeholder:"  , -, , ",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),n.jsxs("select",{value:c,onChange:_=>u(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg",children:[n.jsx("option",{children:"Wildberries"}),n.jsx("option",{children:"Ozon"}),n.jsx("option",{children:"."})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg",children:[n.jsx("option",{children:"   "}),n.jsx("option",{children:" "})]}),n.jsx("button",{onClick:j,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold",children:""})]})]}),d&&n.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),n.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:n.jsx("option",{children:" "})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),n.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:n.jsx("option",{children:" "})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),n.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:n.jsx("option",{children:" "})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[n.jsx("option",{children:" "}),n.jsx("option",{children:""}),n.jsx("option",{children:" "})]})]})]})}),n.jsxs("div",{className:"bg-white px-6 py-3 flex justify-between items-center border-b",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:" "}),n.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:"  "}),n.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:""})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:" "}),n.jsx("input",{type:"range",min:"1",max:"3",value:N,onChange:_=>y(parseInt(_.target.value)),className:"w-24"})]})]}),n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx("input",{type:"checkbox",onChange:_=>{_.target.checked?m(k.map(D=>D.id)):m([])},className:"w-4 h-4"})}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"-"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""})]})}),n.jsx("tbody",{children:s?n.jsx("tr",{children:n.jsx("td",{colSpan:"12",className:"px-4 py-8 text-center text-gray-500",children:"..."})}):k.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"12",className:"px-4 py-8 text-center text-gray-500",children:"  "})}):k.map(_=>n.jsxs("tr",{className:`border-b hover:bg-gray-50 ${N===1?"h-12":N===2?"h-16":"h-24"}`,children:[n.jsx("td",{className:"px-4",children:n.jsx("input",{type:"checkbox",checked:i.includes(_.id),onChange:()=>P(_.id),className:"w-4 h-4"})}),n.jsx("td",{className:"px-4",children:n.jsx("div",{className:`bg-gray-200 rounded flex items-center justify-center text-gray-400 ${N===1?"w-10 h-10":N===2?"w-12 h-12":"w-16 h-16"}`,children:""})}),n.jsx("td",{className:"px-4",children:n.jsx("button",{onClick:()=>e(`/products/${_.id}`),className:"text-blue-600 hover:underline font-medium",children:_.name})}),n.jsx("td",{className:"px-4 text-sm text-gray-600",children:_.size||"-"}),n.jsx("td",{className:"px-4",children:n.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),n.jsx("td",{className:"px-4 text-sm text-gray-600",children:_.brand||"-"}),n.jsx("td",{className:"px-4",children:n.jsx("button",{className:"text-yellow-500 hover:text-yellow-600",children:""})}),n.jsx("td",{className:"px-4 text-sm text-gray-600",children:_.barcode||"-"}),n.jsx("td",{className:"px-4 text-sm text-gray-600",children:_.sku||"-"}),n.jsx("td",{className:"px-4 text-sm font-semibold text-gray-800",children:_.price?`${_.price} `:"-"}),n.jsx("td",{className:"px-4 text-sm text-gray-600",children:_.stock_quantity||0}),n.jsx("td",{className:"px-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>e(`/products/${_.id}/edit`),className:"text-blue-600 hover:underline text-sm",children:""}),n.jsx("button",{className:"text-red-600 hover:underline text-sm",children:""})]})})]},_.id))})]})}),n.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[n.jsx("option",{children:"50"}),n.jsx("option",{children:"100"}),n.jsx("option",{children:"200"})]}),n.jsx("span",{className:"text-sm text-gray-600",children:"  "})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[" 1  1 |  : ",i.length]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),n.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),n.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),n.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""})]})]})]}),n.jsx("div",{className:"fixed left-0 top-16 w-64 bg-gray-800 text-white h-full overflow-y-auto hidden",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-2",children:""}),n.jsxs("ul",{className:"space-y-1 text-sm",children:[n.jsx("li",{children:n.jsx("a",{href:"/products",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),n.jsx("li",{children:n.jsx("a",{href:"/products/import",className:"block px-3 py-2 rounded hover:bg-gray-700",children:" "})}),n.jsx("li",{children:n.jsx("a",{href:"/products/merge",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),n.jsx("li",{children:n.jsx("a",{href:"/products/photos",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),n.jsx("li",{children:n.jsx("a",{href:"/products/categories",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),n.jsx("li",{children:n.jsx("a",{href:"/products/brands",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),n.jsx("li",{children:n.jsx("a",{href:"/products/manufacturers",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),n.jsx("li",{children:n.jsx("a",{href:"/products/parameters",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})})]})]})})]})},Lb="http://localhost:8001",Rb=()=>{const[e,t]=g.useState([]),[r,s]=g.useState(!0),[a,l]=g.useState("MAin"),[o,c]=g.useState(!0),[u,i]=g.useState(!0),[m,d]=g.useState(!1),[h,N]=g.useState(!1),[y,w]=g.useState(""),[S,p]=g.useState([]);g.useEffect(()=>{x()},[]);const x=async()=>{try{const b=localStorage.getItem("token"),C=await je.get(`${Lb}/api/stock`,{headers:{Authorization:`Bearer ${b}`}});t(C.data),s(!1)}catch(b){console.error("Error fetching stock:",b),s(!1)}},f=e.filter(b=>{var C,j,P;return((C=b.product_name)==null?void 0:C.toLowerCase().includes(y.toLowerCase()))||((j=b.sku)==null?void 0:j.toLowerCase().includes(y.toLowerCase()))||((P=b.barcode)==null?void 0:P.toLowerCase().includes(y.toLowerCase()))});return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-white border-b px-6 py-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"   "}),n.jsxs("div",{className:"flex gap-4 items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:""}),n.jsxs("select",{value:a,onChange:b=>l(b.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg",children:[n.jsx("option",{value:"MAin",children:"MAin"}),n.jsx("option",{value:"all",children:" "})]})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:o,onChange:b=>c(b.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:u,onChange:b=>i(b.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:"  "})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:m,onChange:b=>d(b.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:h,onChange:b=>N(b.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:'  ""'})]})]})]}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx("input",{type:"text",value:y,onChange:b=>w(b.target.value),placeholder:"  , -, , ",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),n.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:""})]})]}),n.jsx("div",{className:"bg-white border-b px-6",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{className:"px-6 py-3 bg-blue-500 text-white font-semibold border-b-2 border-blue-600",children:""}),n.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),n.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:" "}),n.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),n.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),n.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""})]})}),n.jsxs("div",{className:"bg-white px-6 py-3 flex justify-between items-center border-b",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:" "}),n.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:"  "}),n.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:""})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:" "}),n.jsx("input",{type:"range",min:"1",max:"3",className:"w-24"})]})]}),n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"  ..."}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:" "}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"-"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"  / "}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"SKU"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:" "}),h&&n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""})]})}),n.jsx("tbody",{children:r?n.jsx("tr",{children:n.jsx("td",{colSpan:"20",className:"px-4 py-8 text-center text-gray-500",children:"..."})}):f.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"20",className:"px-4 py-8 text-center text-gray-500",children:"  "})}):f.map((b,C)=>n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),n.jsx("td",{className:"px-4 py-3",children:b.error&&n.jsx("span",{className:"text-red-600",children:""})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center text-gray-400",children:""})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"text-blue-600 hover:underline cursor-pointer font-medium",children:b.product_name||" "})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:b.size||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-800",children:b.quantity||0}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:b.reserved||0}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:b.location||"-"}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:b.barcode||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:b.size||"-"}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:b.brand||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:b.color||"-"}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:""}),n.jsx("button",{className:"text-red-600 hover:text-red-800",children:""})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:b.sku||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:b.id||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:b.seller_sku||"-"}),h&&n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:"-"}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})})]},C))})]})}),n.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[n.jsx("option",{children:"200"}),n.jsx("option",{children:"50"}),n.jsx("option",{children:"100"})]}),n.jsx("span",{className:"text-sm text-gray-600",children:"  "})]}),n.jsx("div",{className:"text-sm text-gray-600",children:"0 - 0  0.  1  1"}),n.jsx("div",{className:"flex gap-1",children:n.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:" : 0"})})]})]})]})},Ob=()=>{const{id:e}=gl(),t=tn(),{api:r}=le(),[s,a]=g.useState(null),[l,o]=g.useState(!0),[c,u]=g.useState(!1),[i,m]=g.useState(!1),[d,h]=g.useState(!1),[N,y]=g.useState(""),[w,S]=g.useState([]),[p,x]=g.useState(""),[f,b]=g.useState(!1),[C,j]=g.useState([]),[P,k]=g.useState(""),[_,D]=g.useState(""),[v,R]=g.useState({name:"",is_fbo:!1,send_stock:!0,load_orders:!0,use_for_orders:!0,priority:0,default_cell:"",description:"",longitude:null,latitude:null,address:"",brand:"",working_hours:"",assembly_hours:0,storage_days:0,online_payment:!1,cash_payment:!1,card_payment:!1,show_on_goods:!1});g.useEffect(()=>{L(),z()},[e]);const L=async()=>{try{const O=await r.get(`/api/warehouses/${e}`);a(O.data),R({name:O.data.name||"",is_fbo:O.data.is_fbo||!1,send_stock:O.data.send_stock!==!1,load_orders:O.data.load_orders!==!1,use_for_orders:O.data.use_for_orders!==!1,priority:O.data.priority||0,default_cell:O.data.default_cell||"",description:O.data.description||"",longitude:O.data.longitude,latitude:O.data.latitude,address:O.data.address||"",brand:O.data.brand||"",working_hours:O.data.working_hours||"",assembly_hours:O.data.assembly_hours||0,storage_days:O.data.storage_days||0,online_payment:O.data.online_payment||!1,cash_payment:O.data.cash_payment||!1,card_payment:O.data.card_payment||!1,show_on_goods:O.data.show_on_goods||!1}),o(!1)}catch(O){console.error("Error fetching warehouse:",O),o(!1)}},z=async()=>{try{const O=await r.get(`/api/warehouses/${e}/links`);j(O.data||[])}catch(O){console.error("Error fetching warehouse links:",O)}},W=async O=>{var H,q;if(!O){S([]);return}b(!0);try{const Q=await r.get(`/api/marketplaces/${O}/all-warehouses`);S(Q.data.warehouses||[]),Q.data.warehouses.length===0&&Q.data.message&&alert(Q.data.message)}catch(Q){console.error("Error loading MP warehouses:",Q),alert("  : "+(((q=(H=Q.response)==null?void 0:H.data)==null?void 0:q.detail)||Q.message))}finally{b(!1)}},B=O=>{y(O),x(""),S([]),k(""),D(""),O&&O!=="yandex"&&W(O)},K=async()=>{var O,H;if(!N){alert(" ");return}if(N==="yandex"){if(!P||!_){alert(" ID     .");return}}else if(!p){alert("   ");return}try{let q;if(N==="yandex"){const ne=(await r.get("/api/seller/api-keys")).data.find(Oe=>Oe.marketplace==="yandex");if(!ne){alert("   .   ");return}q={integration_id:ne.id,marketplace_name:"yandex",marketplace_warehouse_id:P,marketplace_warehouse_name:_}}else{const Q=w.find(ne=>ne.id===p);q={integration_id:Q.integration_id,marketplace_name:N,marketplace_warehouse_id:Q.id,marketplace_warehouse_name:Q.name}}await r.post(`/api/warehouses/${e}/links`,q),await z(),y(""),x(""),S([]),k(""),D(""),alert(`    ${N.toUpperCase()} !`)}catch(q){console.error("Error adding link:",q),alert(": "+(((H=(O=q.response)==null?void 0:O.data)==null?void 0:H.detail)||q.message))}},F=async O=>{var H,q;if(confirm(" ?"))try{await r.delete(`/api/warehouses/${e}/links/${O}`),alert("  "),z()}catch(Q){console.error("Error deleting link:",Q),alert(": "+(((q=(H=Q.response)==null?void 0:H.data)==null?void 0:q.detail)||Q.message))}},I=(O,H)=>{R(q=>({...q,[O]:H}))},U=async()=>{u(!0);try{await r.put(`/api/warehouses/${e}`,v),alert("  "),t(-1)}catch(O){console.error("Error saving warehouse:",O),alert("   ")}finally{u(!1)}},Y=async()=>{if(confirm(" ,     ?"))try{await r.delete(`/api/warehouses/${e}`),alert(" "),t(-1)}catch(O){console.error("Error deleting warehouse:",O),alert("   ")}};return l?n.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:n.jsx("p",{className:"text-mm-cyan",children:"..."})}):n.jsx("div",{className:"min-h-screen bg-mm-black text-gray-100 p-8",children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("button",{onClick:()=>t(-1),className:"text-mm-cyan hover:text-cyan-400 mb-4",children:" "}),n.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "})]}),n.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),n.jsx("input",{type:"text",value:v.name,onChange:O=>I("name",O.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[n.jsx("input",{type:"checkbox",checked:v.is_fbo,onChange:O=>I("is_fbo",O.target.checked),className:"w-5 h-5 rounded"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"    FBO"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"  FIFO   FBO"})]})]}),n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[n.jsx("input",{type:"checkbox",checked:v.send_stock,onChange:O=>I("send_stock",O.target.checked),className:"w-5 h-5 rounded"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:" "}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"SelSup      .   ."})]})]}),n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[n.jsx("input",{type:"checkbox",checked:v.load_orders,onChange:O=>I("load_orders",O.target.checked),className:"w-5 h-5 rounded"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:" "}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"    .   ."})]})]}),n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[n.jsx("input",{type:"checkbox",checked:v.use_for_orders,onChange:O=>I("use_for_orders",O.target.checked),className:"w-5 h-5 rounded"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"  "}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"    .    ."})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"  "}),n.jsx("input",{type:"number",value:v.priority,onChange:O=>I("priority",parseInt(O.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-3 text-mm-cyan",children:"   "}),n.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 mb-4",children:n.jsxs("p",{className:"text-xs text-blue-300",children:[" ",n.jsx("strong",{children:":"}),'   SelSup ,        .  " "     ,      .']})}),n.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg mb-4 space-y-3",children:[n.jsx("p",{className:"text-xs text-mm-cyan mb-3",children:"   FBS     "}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs mb-1 font-mono",children:"1  "}),n.jsxs("select",{value:N,onChange:O=>B(O.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm",children:[n.jsx("option",{value:"",children:"--   --"}),n.jsx("option",{value:"ozon",children:"OZON"}),n.jsx("option",{value:"wb",children:"WILDBERRIES"}),n.jsx("option",{value:"yandex",children:"YANDEX.MARKET"})]})]}),N&&N!=="yandex"&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs mb-1 font-mono",children:["2   FBS",f&&n.jsx("span",{className:"ml-2 text-mm-cyan animate-pulse",children:"..."})]}),n.jsxs("select",{value:p,onChange:O=>x(O.target.value),disabled:f,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm disabled:opacity-50",children:[n.jsx("option",{value:"",children:"--   --"}),w.map(O=>n.jsxs("option",{value:O.id,children:[O.name," (ID: ",O.id,") ",O.integration_name?`[${O.integration_name}]`:""]},O.id))]}),w.length===0&&!f&&n.jsxs("p",{className:"text-xs text-yellow-400 mt-1",children:["   .  :",n.jsx("br",{}),"      ",N.toUpperCase(),"   ",n.jsx("br",{}),"  FBS     ",N.toUpperCase()]})]}),N==="yandex"&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded p-2",children:n.jsxs("p",{className:"text-xs text-yellow-300",children:[" ",n.jsx("strong",{children:".:"})," ID     API.     .    "]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs mb-1 font-mono",children:"2 ID  ."}),n.jsx("input",{type:"text",value:P,onChange:O=>k(O.target.value),placeholder:" ID    ",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs mb-1 font-mono",children:" "}),n.jsx("input",{type:"text",value:_,onChange:O=>D(O.target.value),placeholder:"  ",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm"})]})]}),n.jsxs("button",{onClick:K,disabled:!N||N==="yandex"&&(!P||!_)||N!=="yandex"&&!p,className:"w-full px-4 py-2 bg-mm-purple hover:bg-purple-600 rounded transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[n.jsx(Bt,{}),n.jsx("span",{children:" "})]})]}),C.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:" :"}),C.map((O,H)=>{var q;return n.jsxs("div",{className:"bg-gray-800 px-4 py-3 rounded flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm font-medium",children:[(q=O.marketplace_name)==null?void 0:q.toUpperCase()," - ",O.marketplace_warehouse_name]}),n.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",O.marketplace_warehouse_id]})]}),n.jsx("button",{onClick:()=>F(O.id),className:"px-3 py-2 text-red-400 hover:bg-red-400/10 rounded transition",children:n.jsx(Ut,{})})]},H)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"    "}),n.jsx("input",{type:"text",value:v.default_cell,onChange:O=>I("default_cell",O.target.value),placeholder:" ",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),n.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[n.jsxs("button",{onClick:()=>m(!i),className:"flex items-center space-x-2 text-mm-cyan hover:text-cyan-400 transition",children:[n.jsx("span",{className:"text-xl",children:i?"":""}),n.jsx("span",{className:"font-medium",children:"  "})]}),i&&n.jsxs("div",{className:"mt-4 space-y-4 pl-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2",children:""}),n.jsx("textarea",{value:v.description,onChange:O=>I("description",O.target.value),rows:3,className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2",children:""}),n.jsx("input",{type:"number",step:"0.000001",value:v.longitude||"",onChange:O=>I("longitude",parseFloat(O.target.value)||null),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2",children:""}),n.jsx("input",{type:"number",step:"0.000001",value:v.latitude||"",onChange:O=>I("latitude",parseFloat(O.target.value)||null),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2",children:"  "}),n.jsx("input",{type:"text",value:v.address,onChange:O=>I("address",O.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2",children:",    "}),n.jsx("input",{type:"text",value:v.brand,onChange:O=>I("brand",O.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2",children:" "}),n.jsx("input",{type:"text",value:v.working_hours,onChange:O=>I("working_hours",O.target.value),placeholder:": - 9:00-18:00",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2",children:"-    "}),n.jsx("input",{type:"number",value:v.assembly_hours,onChange:O=>I("assembly_hours",parseInt(O.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2",children:"-   "}),n.jsx("input",{type:"number",value:v.storage_days,onChange:O=>I("storage_days",parseInt(O.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:" :"}),n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:v.online_payment,onChange:O=>I("online_payment",O.target.checked),className:"w-5 h-5 rounded"}),n.jsx("span",{children:" "})]}),n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:v.cash_payment,onChange:O=>I("cash_payment",O.target.checked),className:"w-5 h-5 rounded"}),n.jsx("span",{children:"  "})]}),n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:v.card_payment,onChange:O=>I("card_payment",O.target.checked),className:"w-5 h-5 rounded"}),n.jsx("span",{children:"  "})]})]}),n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:v.show_on_goods,onChange:O=>I("show_on_goods",O.target.checked),className:"w-5 h-5 rounded"}),n.jsx("span",{children:"   Goods"})]})]})]}),n.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-700",children:[n.jsx("button",{onClick:Y,disabled:(s==null?void 0:s.type)==="main",className:"px-6 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:""}),n.jsx("button",{onClick:U,disabled:c,className:"px-8 py-2 bg-mm-cyan hover:bg-cyan-400 text-black font-bold rounded-lg transition disabled:opacity-50",children:c?"...":""})]})]})]})})};function Tb(){const{api:e}=le(),[t,r]=g.useState([]),[s,a]=g.useState(!1),[l,o]=g.useState({});g.useEffect(()=>{c()},[]);const c=async()=>{a(!0);try{const h=(await e.get("/api/categories/mappings")).data||[];r(h),await u(h)}catch(d){console.error("Failed to load mappings:",d)}finally{a(!1)}},u=async d=>{try{const N=(await e.get("/api/catalog/products?limit=1000")).data.products||[],y={};d.forEach(w=>{const S=N.filter(p=>p.category_mapping_id===w.id).length;y[w.id]=S}),o(y)}catch(h){console.error("Failed to load product counts:",h)}},i=async(d,h)=>{var w,S;const N=l[d]||0;let y=`      "${h}"?`;if(N>0&&(y+=`

 : ${N}    !
      .`),y+=`

   .`,!!confirm(y))try{await e.delete(`/api/categories/mappings/${d}`),alert("  !"),c()}catch(p){alert("  : "+(((S=(w=p.response)==null?void 0:w.data)==null?void 0:S.detail)||p.message))}},m=d=>{var w,S,p;const h=!!((w=d.marketplace_categories)!=null&&w.ozon),N=!!((S=d.marketplace_categories)!=null&&S.wildberries),y=!!((p=d.marketplace_categories)!=null&&p.yandex);return{hasOzon:h,hasWB:N,hasYandex:y}};return n.jsxs("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:[n.jsxs("div",{className:"max-w-7xl mx-auto mb-6",children:[n.jsxs("button",{onClick:()=>window.location.href="/dashboard",className:"text-mm-cyan hover:underline mb-4 flex items-center gap-2",children:[n.jsx(mc,{}),"   "]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-mm-cyan mb-2",children:""}),n.jsx("p",{className:"text-gray-400 text-sm",children:"   "})]}),n.jsxs("button",{onClick:c,disabled:s,className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded font-semibold flex items-center gap-2 disabled:opacity-50",children:[n.jsx(Kn,{className:s?"animate-spin":""}),""]})]})]}),n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-mm-cyan",children:t.length}),n.jsx("div",{className:"text-sm text-gray-400",children:" "})]}),n.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-400",children:t.filter(d=>{var h;return(h=d.marketplace_categories)==null?void 0:h.wildberries}).length}),n.jsx("div",{className:"text-sm text-gray-400",children:" Wildberries"})]}),n.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-400",children:t.filter(d=>{var h;return(h=d.marketplace_categories)==null?void 0:h.ozon}).length}),n.jsx("div",{className:"text-sm text-gray-400",children:" Ozon"})]})]}),n.jsx("div",{className:"bg-cyan-900/20 border border-cyan-600/30 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsxs("div",{className:"flex-1 text-sm text-cyan-200",children:[n.jsx("p",{className:"font-semibold mb-1",children:"  "}),n.jsx("p",{className:"text-cyan-300/80",children:"                .           ."})]})]})}),s?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-mm-cyan border-t-transparent"}),n.jsx("p",{className:"mt-4 text-gray-400",children:"..."})]}):t.length===0?n.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-12 text-center",children:[n.jsx(dt,{className:"mx-auto text-6xl text-gray-600 mb-4"}),n.jsx("p",{className:"text-gray-400 mb-2",children:" "}),n.jsx("p",{className:"text-sm text-gray-500",children:"       "})]}):n.jsx("div",{className:"bg-mm-secondary border border-mm-border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-mm-border bg-mm-dark",children:[n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-semibold",children:" "}),n.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:" Ozon"}),n.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:" WB"}),n.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:" Yandex"}),n.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:""}),n.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-semibold",children:""})]})}),n.jsx("tbody",{children:t.map(d=>{const{hasOzon:h,hasWB:N,hasYandex:y}=m(d),w=l[d.id]||0;return n.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition",children:[n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-medium text-white",children:d.internal_name}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["ID: ",d.id]})]}),n.jsx("td",{className:"py-4 px-3 text-center",children:h?n.jsxs("div",{children:[n.jsx("span",{className:"inline-block px-2 py-1 bg-blue-600/20 text-blue-300 rounded text-xs border border-blue-600/30",children:""}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:d.marketplace_categories.ozon})]}):n.jsx("span",{className:"text-gray-600",children:""})}),n.jsx("td",{className:"py-4 px-3 text-center",children:N?n.jsxs("div",{children:[n.jsx("span",{className:"inline-block px-2 py-1 bg-purple-600/20 text-purple-300 rounded text-xs border border-purple-600/30",children:""}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:d.marketplace_categories.wildberries})]}):n.jsx("span",{className:"text-gray-600",children:""})}),n.jsx("td",{className:"py-4 px-3 text-center",children:y?n.jsxs("div",{children:[n.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-600/20 text-yellow-300 rounded text-xs border border-yellow-600/30",children:""}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:d.marketplace_categories.yandex})]}):n.jsx("span",{className:"text-gray-600",children:""})}),n.jsx("td",{className:"py-4 px-3 text-center",children:n.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 bg-cyan-600/20 text-cyan-300 rounded border border-cyan-600/30",children:[n.jsx(dt,{size:12}),n.jsx("span",{className:"font-semibold",children:w})]})}),n.jsx("td",{className:"py-4 px-4 text-right",children:n.jsxs("button",{onClick:()=>i(d.id,d.internal_name),className:"px-3 py-2 border border-red-500 text-red-500 hover:bg-red-500/10 rounded transition inline-flex items-center gap-2",title:" ",children:[n.jsx(Ut,{size:14}),""]})})]},d.id)})})]})})]})]})}function zb({productName:e="",selectedMarketplaces:t=[],initialCategoryMappingId:r=null,onCategorySelected:s,onAttributesLoaded:a}){const{api:l}=le(),[o,c]=g.useState(""),[u,i]=g.useState([]),[m,d]=g.useState(null),[h,N]=g.useState({}),[y,w]=g.useState({}),[S,p]=g.useState(!1),[x,f]=g.useState(!1),[b,C]=g.useState(null),j={ozon:{border:"border-blue-500",bg:"bg-blue-50",text:"text-blue-700",badge:"bg-blue-100 text-blue-700"},wb:{border:"border-purple-500",bg:"bg-purple-50",text:"text-purple-700",badge:"bg-purple-100 text-purple-700"},yandex:{border:"border-yellow-500",bg:"bg-yellow-50",text:"text-yellow-700",badge:"bg-yellow-100 text-yellow-700"}},P={ozon:"Ozon",wb:"Wildberries",yandex:""};g.useEffect(()=>{(async()=>{if(!(!r||m)){f(!0);try{console.log("[UnifiedCategory] Loading initial category:",r);const B=(await l.get(`/api/categories/mappings/${r}`)).data;console.log("[UnifiedCategory] Initial category loaded:",B),d(B),s&&s(B)}catch(W){console.error("[UnifiedCategory] Failed to load initial category:",W)}finally{f(!1)}}})()},[r]),g.useEffect(()=>{e&&e.length>3&&!m&&(console.log(`[UnifiedCategory] Auto-suggesting for: "${e}"`),c(e))},[e,m]),g.useEffect(()=>{if(!o||o.length<2){i([]);return}const z=setTimeout(()=>{k()},500);return()=>clearTimeout(z)},[o]);const k=async()=>{p(!0),C(null);try{const W=(await l.get(`/api/categories/mappings/search?query=${encodeURIComponent(o)}`)).data.mappings||[];console.log(`[UnifiedCategory] Found ${W.length} category mappings`),i(W)}catch(z){console.error("Search error:",z),C("  ")}finally{p(!1)}},_=async z=>{console.log("[UnifiedCategory] Selected mapping:",z),d(z),c(""),i([]),s(z),await D(z)},D=async z=>{var K,F,I;p(!0);const W={},B={ozon:"ozon",wb:"wildberries",yandex:"yandex"};for(const U of t){const Y=B[U]||U,O=(K=z.marketplace_categories)==null?void 0:K[Y];if(!O){console.log(`[UnifiedCategory] No category mapped for ${U} (dbKey: ${Y})`);continue}try{let H=`/api/categories/marketplace/${U}/${O}/attributes`;U==="ozon"&&((F=z.marketplace_type_ids)!=null&&F[Y])&&(H+=`?type_id=${z.marketplace_type_ids[Y]}`);const Q=(await l.get(H)).data.attributes||[];console.log(`[UnifiedCategory] Loaded ${Q.length} attributes for ${U}`),W[U]=Q;for(const ne of Q)if(ne.dictionary_id>0||ne.type==="Dictionary"){const Oe=ne.attribute_id||ne.id,oe=U==="ozon"?(I=z.marketplace_type_ids)==null?void 0:I.ozon:null;await v(U,O,Oe,oe)}}catch(H){console.error(`Failed to load attributes for ${U}:`,H)}}N(W),a(W),p(!1)},v=async(z,W,B,K=null)=>{try{let F=`/api/categories/marketplace/${z}/${W}/attribute-values?attribute_id=${B}`;K&&(F+=`&type_id=${K}`);const U=(await l.get(F)).data.values||[];w(Y=>({...Y,[`${z}_${B}`]:U}))}catch(F){console.error(`Failed to load values for ${z} attribute ${B}:`,F)}},L=(()=>{const z=new Map;for(const W of t){const B=h[W]||[];for(const K of B){const F=K.name||K.attribute_name||"";if(K.attribute_id||K.id,z.has(F)){const I=z.get(F);I.marketplaces.includes(W)||I.marketplaces.push(W),K.is_required&&I.required_for.push(W)}else z.set(F,{...K,original_mp:W,marketplaces:[W],required_for:K.is_required?[W]:[]})}}return Array.from(z.values())})();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[" ",n.jsx("span",{className:"text-red-400",children:"*"})]}),m?n.jsx("div",{className:"bg-green-900/20 border-2 border-green-500/50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:n.jsx(vt,{className:"text-white",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400",children:" :"}),n.jsx("p",{className:"text-lg font-bold text-green-300",children:m.internal_name})]})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"  :"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.entries(m.marketplace_categories||{}).map(([z,W])=>{const B=j[z];return n.jsxs("div",{className:`rounded p-2 ${W?"bg-gray-700":"bg-gray-800 border border-gray-700 border-dashed"}`,children:[n.jsx("div",{className:"flex items-center gap-2 mb-1",children:n.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${(B==null?void 0:B.badge)||"bg-gray-600 text-gray-400"}`,children:P[z]})}),W?n.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",W]}):n.jsx("p",{className:"text-xs text-gray-500 italic",children:" "})]},z)})})]})]}),n.jsx("button",{onClick:()=>{d(null),N({})},className:"p-2 text-gray-400 hover:text-white transition flex-shrink-0",title:" ",children:n.jsx(Sn,{size:18})})]})}):n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-3 mb-3",children:n.jsxs("p",{className:"text-xs text-blue-300",children:[" ",n.jsx("strong",{children:":"}),'        ! : " WB", " Ozon", "".          .']})}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:o,onChange:z=>c(z.target.value),placeholder:"    WB, Ozon, ... (. 2 )",className:"w-full px-4 py-3 pl-10 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-mm-cyan focus:ring-2 focus:ring-mm-cyan/50 outline-none",autoComplete:"off"}),n.jsx(Cr,{className:"absolute left-3 top-3.5 text-gray-500"}),o.length>0&&o.length<2&&n.jsx("div",{className:"absolute right-3 top-3.5",children:n.jsxs("span",{className:"text-xs text-gray-500",children:[o.length,"/2"]})})]}),o.length>=2&&n.jsx("div",{className:"absolute z-50 mt-2 w-full bg-gray-800 border-2 border-mm-cyan rounded-lg shadow-2xl max-h-80 overflow-hidden",children:S?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx(Kn,{className:"animate-spin inline text-2xl text-mm-cyan mb-2"}),n.jsx("p",{className:"text-sm text-gray-400",children:" ..."})]}):b?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx(_r,{className:"inline text-2xl text-red-400 mb-2"}),n.jsx("p",{className:"text-sm text-red-400",children:b})]}):u.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-gray-900 px-4 py-2 border-b border-gray-700",children:n.jsxs("p",{className:"text-xs text-mm-cyan font-medium",children:[" : ",u.length]})}),n.jsx("div",{className:"max-h-64 overflow-y-auto",children:u.map((z,W)=>n.jsxs("button",{onClick:()=>_(z),className:"w-full px-4 py-3 text-left hover:bg-mm-cyan/20 border-b border-gray-700 last:border-b-0 transition-colors focus:bg-mm-cyan/30 focus:outline-none",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[n.jsx("p",{className:"font-medium text-white",children:z.internal_name}),z.matched_category_name&&n.jsxs("span",{className:"text-xs text-gray-400 italic",children:["(",z.matched_category_name,")"]})]}),n.jsx("div",{className:"flex gap-2 mt-1 flex-wrap",children:Object.entries(z.marketplace_categories||{}).map(([B,K])=>{if(!K)return null;const F=j[B];return n.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${(F==null?void 0:F.badge)||"bg-gray-700 text-gray-300"}`,children:P[B]},B)})})]},W))})]}):n.jsxs("div",{className:"p-6 text-center",children:[n.jsx(Cr,{className:"inline text-3xl text-gray-600 mb-2"}),n.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"  "}),n.jsx("p",{className:"text-xs text-gray-500",children:"      "})]})})]})]}),m&&L.length>0&&n.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[n.jsxs("h3",{className:"font-bold text-mm-cyan mb-4",children:[" (",L.length,")"]}),n.jsx("div",{className:"space-y-3",children:L.map((z,W)=>{const B=z.attribute_id||z.id,K=z.name||z.attribute_name||"",F=z.original_mp,I=j[F],U=z.required_for.length>0,Y=`${F}_${B}`,O=y[Y]||[];return n.jsxs("div",{className:`p-3 rounded border-l-4 ${I.border} ${I.bg}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("label",{className:`block text-sm font-medium ${I.text}`,children:[K,U&&n.jsx("span",{className:"text-red-600 ml-1 text-lg",children:"*"})]}),n.jsx("div",{className:"flex gap-1",children:z.marketplaces.map(H=>{const q=j[H],Q=z.required_for.includes(H);return n.jsxs("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${q.badge}`,title:Q?`  ${P[H]}`:P[H],children:[P[H],Q&&" *"]},H)})})]}),O.length>0?n.jsxs("select",{className:`w-full px-3 py-2 border rounded focus:ring-2 outline-none ${U?"border-red-300 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-blue-500 bg-white"}`,required:U,children:[n.jsx("option",{value:"",children:U?"  ":" "}),O.map(H=>n.jsx("option",{value:H.id,children:H.value},H.id))]}):n.jsx("input",{type:"text",placeholder:U?"  ":" ",className:`w-full px-3 py-2 border rounded focus:ring-2 outline-none ${U?"border-red-300 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-blue-500 bg-white"}`,required:U}),z.description&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:z.description})]},W)})}),n.jsxs("div",{className:"border-t border-mm-border pt-3 mt-4",children:[n.jsx("p",{className:"text-xs text-mm-text-secondary mb-2",children:":"}),n.jsxs("div",{className:"flex gap-3 text-xs text-mm-text-secondary",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 border-2 border-blue-500 rounded"}),n.jsx("span",{children:"Ozon"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 border-2 border-purple-500 rounded"}),n.jsx("span",{children:"Wildberries"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 border-2 border-yellow-500 rounded"}),n.jsx("span",{children:""})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-red-600 font-bold",children:"*"}),n.jsx("span",{children:""})]})]})]})]})]})}function Db({marketplace:e,currentMappingId:t,currentCategoryName:r="",onCategorySelected:s,onSkip:a}){const{api:l}=le(),[o,c]=g.useState([]),[u,i]=g.useState(!0),[m,d]=g.useState(""),[h,N]=g.useState(!1),[y,w]=g.useState(!1),S={ozon:{name:"Ozon",color:"blue",icon:"",borderClass:"border-blue-500",bgClass:"bg-blue-900/20",textClass:"text-blue-400"},wb:{name:"Wildberries",color:"purple",icon:"",borderClass:"border-purple-500",bgClass:"bg-purple-900/20",textClass:"text-purple-400"},yandex:{name:" ",color:"yellow",icon:"",borderClass:"border-yellow-500",bgClass:"bg-yellow-900/20",textClass:"text-yellow-400"}},p=S[e]||S.ozon;g.useEffect(()=>{r?x(r):i(!1)},[r,e]);const x=async C=>{i(!0);try{const P=(await l.get(`/api/categories/marketplace/${e}/search?query=${encodeURIComponent(C)}&limit=5`)).data.categories||[];console.log(`[QuickMatcher] Found ${P.length} similar ${e} categories for "${C}"`),c(P)}catch(j){console.error("[QuickMatcher] Search error:",j),c([])}finally{i(!1)}},f=async()=>{if(!(!m||m.length<2)){i(!0);try{const j=(await l.get(`/api/categories/marketplace/${e}/search?query=${encodeURIComponent(m)}&limit=10`)).data.categories||[];c(j)}catch(C){console.error("[QuickMatcher] Manual search error:",C)}finally{i(!1)}}},b=async C=>{var j,P;w(!0);try{const k=String(C.category_id||C.id),_=C.category_name||C.name,D=C.type_id||null;console.log(`[QuickMatcher] Selecting ${e} category:`,k,_);const v={mapping_id:t,marketplace:e,category_id:k,category_name:_};D&&e==="ozon"&&(v.type_id=D);const R=await l.post("/api/categories/mappings/quick-update",v);console.log("[QuickMatcher] Mapping updated:",R.data),s&&s(e,k,_,D)}catch(k){console.error("[QuickMatcher] Selection error:",k),alert(`: ${((P=(j=k.response)==null?void 0:j.data)==null?void 0:P.detail)||k.message}`)}finally{w(!1)}};return u?n.jsx("div",{className:`${p.bgClass} border ${p.borderClass} border-opacity-30 rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(su,{className:`animate-spin ${p.textClass}`,size:20}),n.jsxs("p",{className:"text-sm text-gray-300",children:["   ",p.name,"..."]})]})}):n.jsxs("div",{className:`${p.bgClass} border ${p.borderClass} border-opacity-30 rounded-lg p-4`,children:[n.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[n.jsx(_r,{className:`${p.textClass} flex-shrink-0 mt-0.5`,size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h4",{className:`font-semibold ${p.textClass} mb-1`,children:[p.icon,"  ",p.name,"  "]}),n.jsxs("p",{className:"text-sm text-gray-400",children:[" : ",n.jsxs("span",{className:"text-white font-medium",children:['"',r,'"']})]})]})]}),!h&&o.length>0&&n.jsxs("div",{className:"space-y-2 mb-3",children:[n.jsx("p",{className:"text-xs text-gray-400 uppercase font-semibold",children:" :"}),o.slice(0,3).map((C,j)=>{const P=C.category_id||C.id,k=C.category_name||C.name;return n.jsx("button",{onClick:()=>b(C),disabled:y,className:`w-full text-left p-3 rounded border ${p.borderClass} border-opacity-40 hover:border-opacity-100 bg-gray-800/50 hover:bg-gray-700/50 transition-all group disabled:opacity-50`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[j===0&&n.jsx("span",{className:"text-yellow-400 mr-2",children:""}),n.jsx("span",{className:"text-white font-medium",children:k}),n.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["ID: ",P]})]}),n.jsx("span",{className:`px-3 py-1 rounded text-xs font-semibold ${p.textClass} border ${p.borderClass} border-opacity-50 group-hover:border-opacity-100 transition-all`,children:y?"...":" "})]})},P)}),o.length>3&&n.jsxs("button",{onClick:()=>N(!0),className:"text-sm text-gray-400 hover:text-gray-200 transition",children:["  ",o.length-3,"..."]})]}),h&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:16}),n.jsx("input",{type:"text",value:m,onChange:C=>d(C.target.value),onKeyDown:C=>C.key==="Enter"&&f(),placeholder:`  ${p.name}...`,className:"w-full pl-10 pr-3 py-2 bg-gray-900 border border-gray-700 rounded text-white placeholder-gray-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/50 outline-none"})]}),n.jsx("button",{onClick:f,disabled:!m||u,className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded font-semibold disabled:opacity-50 transition",children:u?n.jsx(su,{className:"animate-spin"}):""})]}),o.length>0&&n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:o.map(C=>{const j=C.category_id||C.id,P=C.category_name||C.name;return n.jsx("button",{onClick:()=>b(C),disabled:y,className:"w-full text-left p-2 rounded border border-gray-700 hover:border-gray-500 bg-gray-800/50 hover:bg-gray-700/50 transition group disabled:opacity-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"text-white text-sm",children:P}),n.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["ID: ",j]})]}),n.jsx("span",{className:"text-xs text-cyan-400 group-hover:text-cyan-300",children:y?"...":""})]})},j)})})]}),n.jsxs("div",{className:"flex gap-2 mt-3",children:[!h&&n.jsx("button",{onClick:()=>N(!0),className:"px-4 py-2 text-sm border border-gray-600 text-gray-300 hover:border-gray-400 hover:text-white rounded transition",children:"  "}),h&&n.jsx("button",{onClick:()=>{N(!1),x(r)},className:"px-4 py-2 text-sm border border-gray-600 text-gray-300 hover:border-gray-400 hover:text-white rounded transition",children:"   "}),n.jsx("button",{onClick:a,className:"px-4 py-2 text-sm text-gray-500 hover:text-gray-300 transition ml-auto",children:""})]}),o.length===0&&!u&&n.jsx("div",{className:"mt-3 text-sm text-gray-400 text-center py-4",children:"  .   ."})]})}function Fb({selectedMarketplaces:e={},characteristicsByMarketplace:t={},valuesByMarketplace:r={},onChange:s,loading:a={},baseCharacteristics:l={},currentMappingId:o=null,currentCategoryName:c="",onMappingUpdated:u,onBaseCharacteristicChange:i}){const m={wb:{name:"Wildberries",shortName:"WB",icon:"",color:{bg:"bg-purple-600",text:"text-purple-400",border:"border-purple-500",badge:"bg-purple-600/20 text-purple-300 border-purple-500/30"}},ozon:{name:"Ozon",shortName:"Ozon",icon:"",color:{bg:"bg-blue-600",text:"text-blue-400",border:"border-blue-500",badge:"bg-blue-600/20 text-blue-300 border-blue-500/30"}},yandex:{name:" ",shortName:"YM",icon:"",color:{bg:"bg-yellow-600",text:"text-yellow-400",border:"border-yellow-500",badge:"bg-yellow-600/20 text-yellow-300 border-yellow-500/30"}},base:{name:"",shortName:"",icon:"",color:{badge:"bg-gray-600/20 text-gray-300 border-gray-500/30"}}},d=g.useMemo(()=>Object.keys(e).filter(b=>{var C;return e[b]&&((C=t[b])==null?void 0:C.length)>0}),[e,t]),h=g.useMemo(()=>{const b=new Map;Object.keys(l||{}).forEach(j=>{!j||!j.trim()||b.set(j,{name:j,sources:["base"],requiredIn:[],isDictionary:!1,mpData:{}})}),d.forEach(j=>{(t[j]||[]).forEach(k=>{const _=k.name||k.attribute_name||k.charcName,D=k.id||k.attribute_id||k.charcID,v=k.is_required||k.required,R=k.dictionary_id>0||k.type==="Dictionary";b.has(_)||b.set(_,{name:_,sources:[],requiredIn:[],isDictionary:!1,mpData:{}});const L=b.get(_);L.sources.includes(j)||L.sources.push(j),R&&(L.isDictionary=!0),L.mpData[j]={id:D,isRequired:v,originalChar:k},v&&L.requiredIn.push(j)})});const C=Array.from(b.values());return C.sort((j,P)=>{const k=j.requiredIn.length>0,_=P.requiredIn.length>0;return k&&!_?-1:!k&&_?1:0}),C},[d,t,l]),N=(b,C,j)=>{console.log(`[Unified] Changing "${b}" = "${C}" for sources:`,j),j.forEach(P=>{var k;if(P==="base")i&&i(b,C);else if(s){const _=h.find(R=>R.name===b),D=(k=_==null?void 0:_.mpData)==null?void 0:k[P],v=(D==null?void 0:D.id)||b;s(P,v,b,C)}})},y=(b,C)=>{var j;if(C.includes("base")&&l[b])return l[b];for(const P of C){if(P==="base")continue;const k=(j=r[P])==null?void 0:j[b];if(k)return k}return""},w=b=>{const{name:C,sources:j,requiredIn:P,isDictionary:k}=b,_=y(C,j),D=P.length>0;return n.jsxs("div",{className:"bg-[#1F2937] border border-[#334155] rounded-lg p-3",children:[n.jsx("label",{className:"block text-sm font-medium text-[#E5E7EB] mb-2",children:n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[D&&n.jsx(ca,{className:"text-red-500 flex-shrink-0",size:12}),n.jsx("span",{children:C}),n.jsx("div",{className:"flex items-center gap-1 ml-auto flex-wrap",children:j.map(v=>{var W;if(v==="base"){const B=m.base;return n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs border rounded ${B.color.badge}`,title:" ",children:[B.icon," ",B.shortName]},v)}const R=m[v],L=(W=b.mpData)==null?void 0:W[v],z=L==null?void 0:L.isRequired;return n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs border rounded ${R.color.badge}`,title:z?`  ${R.name}`:` ${R.name}`,children:[R.icon," ",R.shortName,z&&n.jsx(ca,{size:8,className:"text-red-400"})]},v)})})]})}),k?n.jsx("select",{value:_,onChange:v=>N(C,v.target.value,j),className:"w-full px-3 py-2 bg-[#0F172A] border border-[#334155] rounded text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",children:n.jsx("option",{value:"",children:" "})}):n.jsx("input",{type:"text",value:_,onChange:v=>N(C,v.target.value,j),className:"w-full px-3 py-2 bg-[#0F172A] border border-[#334155] rounded text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:D?" ":" "})]},C)};if(Object.values(a).some(b=>b))return n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-current border-t-transparent rounded-full text-[#22D3EE]",role:"status",children:n.jsx("span",{className:"sr-only",children:"..."})}),n.jsx("p",{className:"mt-2 text-gray-400",children:"  ..."})]});if(d.length===0)return n.jsx("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-blue-300 flex items-center gap-2",children:[n.jsx(_r,{}),'     (" :"),   ']})});const p=d.filter(b=>(t[b]||[]).length===0),x=h.filter(b=>b.requiredIn.length>0),f=h.filter(b=>b.requiredIn.length===0);return n.jsxs("div",{className:"space-y-6",children:[p.map(b=>n.jsx(Db,{marketplace:b,currentMappingId:o,currentCategoryName:c,onCategorySelected:(C,j,P,k)=>{console.log(`[UnifiedCharacteristics] Category selected for ${C}:`,j),u&&u(C,j,P,k)},onSkip:()=>{console.log(`[UnifiedCharacteristics] Skipped ${b} category selection`)}},`matcher-${b}`)),h.length>0&&n.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-cyan-600/30 rounded-lg p-5",children:[n.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-cyan-600/30 mb-5",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500"}),n.jsx("h3",{className:"text-xl font-bold text-cyan-400",children:"   "}),n.jsxs("span",{className:"text-sm text-gray-400",children:["(",h.length," )"]}),x.length>0&&n.jsxs("span",{className:"ml-auto text-xs text-red-400 flex items-center gap-1",children:[n.jsx(ca,{size:10}),x.length," "]})]}),x.length>0&&n.jsxs("div",{className:"mb-5",children:[n.jsxs("h4",{className:"text-sm font-semibold text-red-400 mb-3 flex items-center gap-2",children:[n.jsx(ca,{size:12}),"  (",x.length,")"]}),n.jsx("div",{className:"space-y-3",children:x.map(b=>w(b))})]}),f.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3",children:["  (",f.length,")"]}),n.jsx("div",{className:"space-y-3",children:f.map(b=>w(b))})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:n.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-2",children:[n.jsx(_r,{size:12}),"        "]})})]})]})}function au(){var $s,Fr,nn,Ar,xt,Bs;const{api:e}=le(),{id:t}=gl(),r=tn(),[s,a]=g.useState(!1),[l,o]=g.useState("card"),[c,u]=g.useState(!1),[i,m]=g.useState([]),[d,h]=g.useState({wb:!1,ozon:!1,yandex:!1,honest_sign:!1}),[N,y]=g.useState({wb:{name:"",description:"",characteristics:{}},ozon:{name:"",description:"",characteristics:{}},yandex:{name:"",description:"",characteristics:{}}}),[w,S]=g.useState({ozon:{category_id:null,category_name:"",type_id:null},wb:{category_id:null,category_name:""},yandex:{category_id:null,category_name:""}}),[p,x]=g.useState({ozon:{},wb:{},yandex:{}}),[f,b]=g.useState({wb:[],ozon:[],yandex:[]}),[C,j]=g.useState({wb:!1,ozon:!1,yandex:!1}),[P,k]=g.useState({wb:!1,ozon:!1,yandex:!1}),[_,D]=g.useState(null),[v,R]=g.useState({article:"",name:"",brand:"",category_id:"",description:"",status:"active",manufacturer:"",country_of_origin:"",label_name:"",price_with_discount:0,price_without_discount:0,price_coefficient:1,purchase_price:0,additional_expenses:0,cost_price:0,vat:0,weight:0,dimensions:{length:0,width:0,height:0},gender:"",season:"",composition:"",care_instructions:"",additional_info:"",website_link:"",characteristics:{}}),[L,z]=g.useState([]),[W,B]=g.useState([]),[K,F]=g.useState("");g.useEffect(()=>{I(),t&&(U(),Y(),O())},[t]),g.useEffect(()=>{const E=v.purchase_price+v.additional_expenses;E!==v.cost_price&&R(M=>({...M,cost_price:E}))},[v.purchase_price,v.additional_expenses]),g.useEffect(()=>{Object.keys(d).forEach(E=>{var M;d[E]&&!((M=N[E])!=null&&M.name)&&y(G=>({...G,[E]:{name:v.name,description:v.description,characteristics:v.characteristics}}))})},[d]);const I=async()=>{try{const E=await e.get("/api/catalog/categories");m(E.data)}catch(E){console.error("Failed to load categories:",E)}},U=async()=>{try{a(!0);const M=(await e.get(`/api/catalog/products/${t}`)).data;R({...M,dimensions:M.dimensions||{length:0,width:0,height:0},manufacturer:M.manufacturer||"",country_of_origin:M.country_of_origin||"",label_name:M.label_name||M.name||"",price_with_discount:M.price_with_discount||M.price||0,price_without_discount:M.price_without_discount||M.price||0,price_coefficient:M.price_coefficient||1,purchase_price:M.purchase_price||0,additional_expenses:M.additional_expenses||0,cost_price:M.cost_price||0,vat:M.vat||0,gender:M.gender||"",season:M.season||"",composition:M.composition||"",care_instructions:M.care_instructions||"",additional_info:M.additional_info||"",website_link:M.website_link||"",characteristics:M.characteristics||{}}),M.marketplace_specific_data&&y(M.marketplace_specific_data)}catch(E){alert("  : "+E.message),r("/dashboard")}finally{a(!1)}},Y=async()=>{try{const E=await e.get(`/api/catalog/products/${t}/variants`);z(E.data)}catch(E){console.error("Failed to load variants:",E)}},O=async()=>{try{const E=await e.get(`/api/catalog/products/${t}/photos`);B(E.data)}catch(E){console.error("Failed to load photos:",E)}},H=async()=>{var E,M;a(!0);try{const G={...v,price:v.price_with_discount,price_discounted:v.price_with_discount<v.price_without_discount?v.price_with_discount:null};if(Object.values(d).some(se=>se)&&t){const se=await e.post(`/api/catalog/products/${t}/save-with-marketplaces`,{product:G,marketplaces:d,marketplace_data:N,category_mappings:w,required_attributes:p});let Te=se.data.message+`

`;const ce=se.data.marketplace_results||{};Object.keys(ce).forEach(de=>{const Me=ce[de];Me.success?Te+=` ${de.toUpperCase()}: ${Me.message}
`:Te+=` ${de.toUpperCase()}: ${Me.error}
`}),alert(Te),U()}else if(t)await e.put(`/api/catalog/products/${t}`,G),alert("  !"),U();else{const se=await e.post("/api/catalog/products",G);alert("  !"),r(`/catalog/products/${se.data.id}/edit`)}}catch(G){alert(" : "+(((M=(E=G.response)==null?void 0:E.data)==null?void 0:M.detail)||G.message))}finally{a(!1)}},q=async E=>{var G,ie;if(!t){alert("  ");return}const M=prompt(` ID   ${E.toUpperCase()}:`);if(M){a(!0);try{const se=await e.post(`/api/catalog/products/${t}/update-from-marketplace`,{marketplace:E,marketplace_product_id:M});alert(` ${se.data.message}

: ${se.data.details.name}
: ${se.data.details.description_length} 
: ${se.data.details.characteristics_count}
 : ${se.data.details.photos_added}`),U(),O()}catch(se){alert(" : "+(((ie=(G=se.response)==null?void 0:G.data)==null?void 0:ie.detail)||se.message))}finally{a(!1)}}},Q=async E=>{var M,G;if(!t){alert("  ");return}if(confirm(`   ${E.toUpperCase()}?`)){a(!0);try{const ie=await e.post(`/api/catalog/products/${t}/upload-media/${E}`);alert(` ${ie.data.message}`)}catch(ie){alert(" : "+(((G=(M=ie.response)==null?void 0:M.data)==null?void 0:G.detail)||ie.message))}finally{a(!1)}}},ne=()=>{if(W.length===0){alert("   ");return}alert(`  ${W.length} 

     `)},Oe=()=>{if(!t){alert("  ");return}alert(`   

    (  )`)},oe=()=>{alert(`   

       ( )`)},me=(E,M)=>{R(G=>({...G,[E]:M}))},Ln=async(E,M)=>{var G,ie,se,Te;if(!M){alert("   ");return}j(ce=>({...ce,[E]:!0})),k(ce=>({...ce,[E]:!0}));try{const de={ozon:"ozon",wb:"wildberries",yandex:"yandex"}[E]||E,he=(await e.get(`/api/categories/mappings/${M}`)).data;console.log("[loadMarketplaceCharacteristics] Mapping:",he),console.log("[loadMarketplaceCharacteristics] Looking for key:",de);const ye=(G=he.marketplace_categories)==null?void 0:G[de],$e=(ie=he.marketplace_type_ids)==null?void 0:ie[de];if(console.log("[loadMarketplaceCharacteristics] Found categoryId:",ye,"typeId:",$e),!ye){console.warn(`Category not mapped to ${E}`),b(Xn=>({...Xn,[E]:[]}));return}let Rn=`/api/categories/marketplace/${E}/${ye}/attributes`;$e&&E==="ozon"&&(Rn+=`?type_id=${$e}`);const Mr=(await e.get(Rn)).data.attributes||[];b(Xn=>({...Xn,[E]:Mr})),console.log(`  ${Mr.length}   ${E}`)}catch(ce){console.error(`Failed to load ${E} characteristics:`,ce),alert(`   ${E}: ${((Te=(se=ce.response)==null?void 0:se.data)==null?void 0:Te.detail)||ce.message}`)}finally{j(ce=>({...ce,[E]:!1}))}};g.useEffect(()=>{(async()=>{if(console.log("[ProductForm] Loading characteristics, category_mapping_id:",v.category_mapping_id),console.log("[ProductForm] Selected marketplaces:",d),!v.category_mapping_id){console.log("[ProductForm] No category_mapping_id, skipping");return}for(const M of["ozon","wb","yandex"])d[M]&&!P[M]&&!C[M]&&(console.log(`[ProductForm] Loading characteristics for ${M}`),await Ln(M,v.category_mapping_id))})()},[d.ozon,d.wb,d.yandex,v.category_mapping_id]),g.useEffect(()=>{if(!v.marketplace_data||Tt.length<2)return;const M=setTimeout(()=>{const G=new Set,ie={};Tt.forEach(de=>{const Me=f[de]||[];ie[de]=Me.map(he=>he.name||he.attribute_name||he.charcName),Me.forEach(he=>{const ye=he.name||he.attribute_name||he.charcName;G.add(ye)})});const se=Array.from(G).filter(de=>Tt.filter(he=>{var ye;return(ye=ie[he])==null?void 0:ye.includes(de)}).length>1);if(se.length===0)return;let Te=!1;const ce={...v.marketplace_data};se.forEach(de=>{const Me=Tt.find(he=>{var ye,$e;return($e=(ye=ce[he])==null?void 0:ye.characteristics)==null?void 0:$e[de]});if(Me){const he=ce[Me].characteristics[de];Tt.forEach(ye=>{var $e,Rn,Ir;ye!==Me&&(($e=ie[ye])!=null&&$e.includes(de))&&((Ir=(Rn=ce[ye])==null?void 0:Rn.characteristics)!=null&&Ir[de]||(ce[ye]||(ce[ye]={characteristics:{}}),ce[ye].characteristics||(ce[ye].characteristics={}),ce[ye].characteristics[de]=he,Te=!0))})}}),Te&&(console.log("[Migration] Migrated common characteristics values between marketplaces"),R(de=>({...de,marketplace_data:ce})))},500);return()=>clearTimeout(M)},[f,d]);const Tt=Object.keys(d).filter(E=>d[E]),at=(E,M,G)=>{y(ie=>({...ie,[E]:{...ie[E],[M]:G}}))},Sl=async()=>{const E=prompt(" URL :");if(E)try{const M=await e.post(`/api/catalog/products/${t}/photos`,{url:E,order:W.length+1,marketplaces:{wb:!0,ozon:!0,yandex:!0}});B([...W,M.data])}catch(M){alert(": "+M.message)}},Dr=async E=>{try{await e.delete(`/api/catalog/products/${t}/photos/${E}`),B(W.filter(M=>M.id!==E))}catch(M){alert(": "+M.message)}};return s&&t?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-mm-cyan"}),n.jsx("p",{className:"text-mm-text-secondary mt-4",children:"..."})]}):n.jsxs("div",{className:"min-h-screen bg-mm-dark pb-32",children:[n.jsxs("div",{className:"bg-mm-secondary border-b border-mm-border p-4",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[n.jsx("button",{onClick:()=>r("/dashboard"),className:"p-2 text-mm-text hover:text-mm-cyan transition",children:n.jsx(mc,{size:20})}),n.jsx("h1",{className:"text-2xl font-bold text-mm-text",children:t?` : ${v.article}`:" "})]}),t&&n.jsxs("div",{className:"flex items-center gap-1 p-2 bg-cyan-500 rounded relative",children:[n.jsx("button",{type:"button",onClick:H,title:"",className:"p-2 text-white hover:bg-white/20 rounded transition",children:n.jsx(pc,{size:18})}),n.jsx("button",{type:"button",title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:n.jsx(Yn,{size:18})}),n.jsx("button",{type:"button",onClick:H,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:n.jsx(vt,{size:18})}),n.jsx("button",{type:"button",title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition text-lg",children:""}),n.jsx("button",{type:"button",onClick:oe,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:n.jsx(el,{size:18})}),n.jsx("button",{type:"button",onClick:Oe,title:"",className:"p-2 text-white hover:bg-white/20 rounded transition",children:n.jsx(mb,{size:18})}),n.jsx("button",{type:"button",title:"  ",className:"p-2 text-white hover:bg-white/20 rounded transition text-lg",children:""}),n.jsx("button",{type:"button",onClick:()=>Q("wb"),title:" Wildberries",className:"w-8 h-8 bg-purple-600 text-white rounded flex items-center justify-center hover:bg-purple-700 transition text-xs font-bold",children:"WB"}),n.jsx("button",{type:"button",onClick:()=>Q("ozon"),title:" Ozon",className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition text-xs font-bold",children:"O"}),n.jsx("button",{type:"button",onClick:ne,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:n.jsx(Es,{size:18})}),n.jsx("button",{type:"button",onClick:async()=>{if(confirm("  ?"))try{await e.delete(`/api/catalog/products/${t}`),alert("  "),r("/dashboard")}catch(E){alert(": "+E.message)}},title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:n.jsx(Ut,{size:18})}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{type:"button",onClick:()=>u(!c),title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:n.jsx(ix,{size:18})}),c&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),n.jsx("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50",children:n.jsxs("div",{className:"py-2",children:[n.jsx("button",{onClick:()=>{alert(`    

    `),u(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    "}),n.jsx("button",{onClick:()=>{const E=prompt("   ? (wb, ozon, yandex)");E&&q(E),u(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"  ,   "}),n.jsx("button",{onClick:()=>{const E=prompt("   ? (wb, ozon, yandex)");E&&q(E),u(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"  "}),n.jsx("button",{onClick:()=>{ne(),u(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    "}),n.jsx("button",{onClick:()=>{Q("ozon"),u(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    Ozon"}),n.jsx("hr",{className:"my-2"}),n.jsx("button",{onClick:()=>{alert(`   

    `),u(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"   "})]})})]})]})]}),t&&n.jsx("div",{className:"flex gap-1 mt-3 border-b border-mm-border overflow-x-auto",children:["card","keywords","analytics","prices","mass_edit","hypotheses","suppliers","stock","documents","duplicates"].map(E=>{const M={card:"",keywords:" ",analytics:"",prices:"",mass_edit:" ",hypotheses:"",suppliers:"",stock:"",documents:"",duplicates:""};return n.jsxs("button",{onClick:()=>o(E),className:`px-4 py-2 font-medium transition whitespace-nowrap relative ${l===E?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-text"}`,children:[M[E],E==="hypotheses"&&n.jsx("span",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 text-[10px] bg-orange-500 text-white rounded font-bold",children:"NEW"})]},E)})})]}),n.jsx("div",{className:"max-w-[1600px] mx-auto px-6 py-6",children:n.jsxs("form",{onSubmit:E=>{E.preventDefault(),H()},children:[l==="card"&&n.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[n.jsx("div",{className:"col-span-3",children:n.jsxs("div",{className:"bg-mm-secondary p-4 rounded-lg sticky top-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-mm-text mb-3",children:""}),n.jsx("div",{className:"space-y-2",children:W.length===0?n.jsxs("div",{className:"border-2 border-dashed border-mm-border rounded-lg p-8 text-center",children:[n.jsx(ai,{className:"mx-auto text-4xl text-mm-text-secondary mb-2"}),n.jsx("p",{className:"text-sm text-mm-text-secondary",children:" "})]}):n.jsx("div",{className:"grid grid-cols-2 gap-2",children:W.map(E=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:E.url,alt:"Product",className:"w-full h-24 object-cover rounded bg-mm-dark"}),n.jsx("button",{type:"button",onClick:()=>Dr(E.id),className:"absolute top-1 right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition text-xs font-bold",children:""})]},E.id))})}),t&&n.jsx("button",{type:"button",onClick:Sl,className:"w-full mt-3 px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded text-sm font-medium",children:"+  "})]})}),n.jsxs("div",{className:"col-span-9 space-y-6",children:[t&&n.jsx("div",{className:"bg-mm-secondary p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm text-mm-text",children:[n.jsx("span",{className:"text-mm-text-secondary",children:":"}),n.jsxs("span",{className:"ml-2 font-semibold",children:[L.length,"  ",L.length]})]}),n.jsx("button",{type:"button",onClick:async()=>{const E=prompt(":"),M=prompt(":");if(!(!E||!M))try{const G=await e.post(`/api/catalog/products/${t}/variants`,{color:E,size:M,sku:`${v.article}-${E.slice(0,3).toUpperCase()}-${M}`});z([...L,G.data])}catch(G){alert(": "+G.message)}},className:"px-4 py-2 bg-orange-500 text-white hover:bg-orange-600 rounded text-sm font-semibold",children:""})]})}),n.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[n.jsx(zb,{productName:v.name,initialCategoryMappingId:v.category_mapping_id,selectedMarketplaces:Object.keys(d).filter(E=>d[E]),onCategorySelected:E=>{console.log("[ProductForm] Category selected:",E),E?(R(M=>({...M,category_mapping_id:E.id})),D(E),k({wb:!1,ozon:!1,yandex:!1}),b({wb:[],ozon:[],yandex:[]})):(R(M=>({...M,category_mapping_id:null})),D(null))},onAttributesLoaded:E=>{console.log("[ProductForm] Attributes loaded:",E),y(M=>{const G={...M};return Object.keys(E).forEach(ie=>{G[ie]||(G[ie]={}),G[ie].attributes=E[ie]}),G})}}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["      ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"text",value:v.article,onChange:E=>me("article",E.target.value),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["  ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"text",value:v.name,onChange:E=>me("name",E.target.value),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:[" ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:v.brand,onChange:E=>me("brand",E.target.value),required:!0,className:"flex-1 px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"}),n.jsx("button",{type:"button",className:"px-4 py-2 bg-cyan-500 text-white hover:bg-cyan-600 rounded text-sm font-semibold",children:""}),n.jsx("button",{type:"button",className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded",children:n.jsx(Sn,{size:18})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:""}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:v.manufacturer,onChange:E=>me("manufacturer",E.target.value),className:"flex-1 px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"}),n.jsx("button",{type:"button",className:"px-4 py-2 bg-cyan-500 text-white hover:bg-cyan-600 rounded text-sm font-semibold",children:""}),n.jsx("button",{type:"button",className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded",children:n.jsx(Sn,{size:18})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),n.jsx("input",{type:"text",value:v.country_of_origin,onChange:E=>me("country_of_origin",E.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:"  "}),n.jsx("input",{type:"text",value:v.label_name,onChange:E=>me("label_name",E.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]}),n.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[n.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:""}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["    ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"number",value:v.price_with_discount/100,onChange:E=>me("price_with_discount",Math.round(parseFloat(E.target.value||0)*100)),step:"0.01",required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["    ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"number",value:v.price_without_discount/100,onChange:E=>me("price_without_discount",Math.round(parseFloat(E.target.value||0)*100)),step:"0.01",required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),n.jsx("input",{type:"number",value:v.purchase_price/100,onChange:E=>me("purchase_price",Math.round(parseFloat(E.target.value||0)*100)),step:"0.01",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:".  "}),n.jsx("input",{type:"number",value:v.additional_expenses/100,onChange:E=>me("additional_expenses",Math.round(parseFloat(E.target.value||0)*100)),step:"0.01",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),n.jsx("input",{type:"number",value:v.cost_price/100,readOnly:!0,className:"w-full px-3 py-2 bg-mm-dark/50 border border-mm-border rounded text-mm-text-secondary cursor-not-allowed"})]})]})]}),n.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("label",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:""}),n.jsxs("span",{className:"text-xs text-mm-text-secondary",children:[v.description.length," / 2000"]})]}),n.jsx("textarea",{value:v.description,onChange:E=>me("description",E.target.value),rows:"5",maxLength:2e3,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none resize-none"})]}),n.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[n.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase mb-3",children:"    "}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"number",value:v.dimensions.length,onChange:E=>me("dimensions",{...v.dimensions,length:parseInt(E.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"number",value:v.dimensions.width,onChange:E=>me("dimensions",{...v.dimensions,width:parseInt(E.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"number",value:v.dimensions.height,onChange:E=>me("dimensions",{...v.dimensions,height:parseInt(E.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"number",value:v.weight,onChange:E=>me("weight",parseInt(E.target.value)||0),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]})]}),n.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-6",children:[n.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase mb-4",children:" "}),n.jsx(Fb,{selectedMarketplaces:d,characteristicsByMarketplace:f,valuesByMarketplace:{wb:((Fr=($s=v.marketplace_data)==null?void 0:$s.wb)==null?void 0:Fr.characteristics)||{},ozon:((Ar=(nn=v.marketplace_data)==null?void 0:nn.ozon)==null?void 0:Ar.characteristics)||{},yandex:((Bs=(xt=v.marketplace_data)==null?void 0:xt.yandex)==null?void 0:Bs.characteristics)||{}},baseCharacteristics:v.characteristics||{},currentMappingId:v.category_mapping_id,currentCategoryName:(_==null?void 0:_.internal_name)||"",onMappingUpdated:async(E,M,G,ie)=>{console.log(`[ProductForm] Mapping updated for ${E}:`,M),k(se=>({...se,[E]:!1})),await Ln(E,v.category_mapping_id)},onBaseCharacteristicChange:(E,M)=>{R(G=>({...G,characteristics:{...G.characteristics,[E]:M}}))},onChange:(E,M,G,ie)=>{R(se=>{var Te,ce,de;return{...se,marketplace_data:{...se.marketplace_data,[E]:{...(Te=se.marketplace_data)==null?void 0:Te[E],characteristics:{...(de=(ce=se.marketplace_data)==null?void 0:ce[E])==null?void 0:de.characteristics,[G]:ie}}}}})},loading:C})]}),n.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 uppercase",children:""}),n.jsx("div",{className:"flex gap-2",children:["","","",""].map(E=>n.jsx("button",{type:"button",onClick:()=>me("gender",v.gender===E?"":E),className:`px-4 py-2 rounded border transition ${v.gender===E?"bg-mm-cyan border-mm-cyan text-mm-dark font-semibold":"bg-mm-dark border-mm-border text-mm-text hover:border-mm-cyan"}`,children:E},E))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 uppercase",children:""}),n.jsx("div",{className:"flex gap-2 flex-wrap",children:["","","","",""].map(E=>n.jsx("button",{type:"button",onClick:()=>me("season",v.season===E?"":E),className:`px-4 py-2 rounded border transition ${v.season===E?"bg-mm-cyan border-mm-cyan text-mm-dark font-semibold":"bg-mm-dark border-mm-border text-mm-text hover:border-mm-cyan"}`,children:E},E))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:""}),n.jsx("input",{type:"text",value:v.composition,onChange:E=>me("composition",E.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]}),d.wb&&n.jsxs("div",{className:"bg-purple-500/10 border-2 border-purple-500 p-6 rounded-lg space-y-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-purple-400 flex items-center gap-2",children:[n.jsx("span",{className:"w-8 h-8 bg-purple-500 text-white rounded flex items-center justify-center text-sm font-bold",children:"WB"}),"WILDBERRIES -  "]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-purple-300 mb-1",children:"  WB"}),n.jsx("input",{type:"text",value:N.wb.name,onChange:E=>at("wb","name",E.target.value),placeholder:v.name,className:"w-full px-3 py-2 bg-mm-dark border border-purple-500/50 rounded text-mm-text focus:border-purple-400 outline-none"}),n.jsx("p",{className:"text-xs text-purple-300/70 mt-1",children:"     "})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-purple-300 mb-1",children:"  WB"}),n.jsx("textarea",{value:N.wb.description,onChange:E=>at("wb","description",E.target.value),placeholder:v.description,rows:"3",className:"w-full px-3 py-2 bg-mm-dark border border-purple-500/50 rounded text-mm-text focus:border-purple-400 outline-none resize-none"}),n.jsx("p",{className:"text-xs text-purple-300/70 mt-1",children:"     "})]})]}),d.ozon&&n.jsxs("div",{className:"bg-blue-500/10 border-2 border-blue-500 p-6 rounded-lg space-y-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-blue-400 flex items-center gap-2",children:[n.jsx("span",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"O"}),"OZON -  "]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-blue-300 mb-1",children:"  Ozon"}),n.jsx("input",{type:"text",value:N.ozon.name,onChange:E=>at("ozon","name",E.target.value),placeholder:v.name,className:"w-full px-3 py-2 bg-mm-dark border border-blue-500/50 rounded text-mm-text focus:border-blue-400 outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-blue-300 mb-1",children:"  Ozon"}),n.jsx("textarea",{value:N.ozon.description,onChange:E=>at("ozon","description",E.target.value),placeholder:v.description,rows:"3",className:"w-full px-3 py-2 bg-mm-dark border border-blue-500/50 rounded text-mm-text focus:border-blue-400 outline-none resize-none"})]})]}),d.yandex&&n.jsxs("div",{className:"bg-red-500/10 border-2 border-red-500 p-6 rounded-lg space-y-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-red-400 flex items-center gap-2",children:[n.jsx("span",{className:"w-8 h-8 bg-red-500 text-white rounded flex items-center justify-center text-sm font-bold",children:""}),". -  "]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-red-300 mb-1",children:"  "}),n.jsx("input",{type:"text",value:N.yandex.name,onChange:E=>at("yandex","name",E.target.value),placeholder:v.name,className:"w-full px-3 py-2 bg-mm-dark border border-red-500/50 rounded text-mm-text focus:border-red-400 outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-red-300 mb-1",children:"  "}),n.jsx("textarea",{value:N.yandex.description,onChange:E=>at("yandex","description",E.target.value),placeholder:v.description,rows:"3",className:"w-full px-3 py-2 bg-mm-dark border border-red-500/50 rounded text-mm-text focus:border-red-400 outline-none resize-none"})]})]})]})]}),l==="prices"&&n.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[n.jsx("h2",{className:"text-xl font-bold text-mm-text mb-6",children:""}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[n.jsx("p",{className:"text-xs text-mm-text-secondary",children:"  "}),n.jsxs("p",{className:"text-2xl font-bold text-mm-cyan",children:[(v.price_with_discount/100).toFixed(2)," "]})]}),n.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[n.jsx("p",{className:"text-xs text-mm-text-secondary",children:"  "}),n.jsxs("p",{className:"text-2xl font-bold text-mm-text",children:[(v.price_without_discount/100).toFixed(2)," "]})]}),n.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[n.jsx("p",{className:"text-xs text-mm-text-secondary",children:""}),n.jsxs("p",{className:"text-2xl font-bold text-mm-text",children:[(v.cost_price/100).toFixed(2)," "]})]})]})]}),l!=="card"&&l!=="prices"&&n.jsx("div",{className:"bg-mm-secondary p-6 rounded-lg text-center py-12",children:n.jsxs("p",{className:"text-mm-text-secondary",children:[' "',l,'"  ']})})]})}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 shadow-lg z-30",children:n.jsxs("div",{className:"max-w-[1600px] mx-auto flex justify-between items-center",children:[n.jsx("button",{type:"button",onClick:H,disabled:s,className:"px-8 py-3 bg-cyan-500 text-white hover:bg-cyan-600 rounded font-bold disabled:opacity-50",children:""}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm text-gray-700 font-medium",children:" :"}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d.honest_sign,onChange:E=>h({...d,honest_sign:E.target.checked}),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d.ozon,onChange:E=>h({...d,ozon:E.target.checked}),className:"w-4 h-4"}),n.jsx("span",{className:"w-7 h-7 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"O"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d.wb,onChange:E=>h({...d,wb:E.target.checked}),className:"w-4 h-4"}),n.jsx("span",{className:"w-7 h-7 bg-purple-600 text-white rounded flex items-center justify-center text-xs font-bold",children:"WB"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d.yandex,onChange:E=>h({...d,yandex:E.target.checked}),className:"w-4 h-4"}),n.jsx("span",{className:"w-7 h-7 bg-red-500 text-white rounded flex items-center justify-center text-xs font-bold",children:""})]})]})]})})]})}function Ab(){const{api:e}=le(),t=tn(),[r,s]=g.useState(1),[a,l]=g.useState(""),[o,c]=g.useState(""),[u,i]=g.useState(null),[m,d]=g.useState(!1),[h,N]=g.useState(null),y=x=>{const f=x.target.files[0];if(f){if(!f.name.endsWith(".xlsx")&&!f.name.endsWith(".xls")){alert(",  Excel  (.xlsx  .xls)");return}i(f)}},w=()=>{alert("  Excel     ")},S=async()=>{var x,f;if(!o){alert(" ");return}d(!0);try{const b=await e.post("/api/catalog/import/marketplace",null,{params:{marketplace:o}});N(b.data),s(3)}catch(b){alert(" : "+(((f=(x=b.response)==null?void 0:x.data)==null?void 0:f.detail)||b.message))}finally{d(!1)}},p=async()=>{if(!u){alert(" ");return}d(!0);try{new FormData().append("file",u),alert("  Excel     ")}catch(x){alert(" : "+x.message)}finally{d(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>t("/dashboard"),className:"text-mm-cyan hover:underline mb-2 flex items-center gap-2",children:[n.jsx(mc,{}),"   "]}),n.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "}),n.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"       Excel"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:`flex items-center gap-2 ${r>=1?"text-mm-cyan":"text-mm-text-secondary"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=1?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"1"}),n.jsx("span",{className:"text-sm",children:" "})]}),n.jsx("div",{className:"flex-1 h-px bg-mm-border"}),n.jsxs("div",{className:`flex items-center gap-2 ${r>=2?"text-mm-cyan":"text-mm-text-secondary"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=2?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"2"}),n.jsx("span",{className:"text-sm",children:" "})]}),n.jsx("div",{className:"flex-1 h-px bg-mm-border"}),n.jsxs("div",{className:`flex items-center gap-2 ${r>=3?"text-mm-cyan":"text-mm-text-secondary"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=3?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"3"}),n.jsx("span",{className:"text-sm",children:""})]})]}),r===1&&n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsx("div",{onClick:()=>{l("marketplace"),s(2)},className:`p-8 rounded-lg cursor-pointer transition border-2 ${a==="marketplace"?"border-mm-cyan bg-mm-cyan/10":"border-mm-border bg-mm-secondary hover:border-mm-cyan/50"}`,children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"w-16 h-16 mx-auto bg-mm-cyan/20 rounded-full flex items-center justify-center",children:n.jsx(Es,{className:"text-3xl text-mm-cyan"})}),n.jsx("h3",{className:"text-xl font-bold text-mm-text",children:"  "}),n.jsx("p",{className:"text-sm text-mm-text-secondary",children:"    Wildberries, Ozon  .  API"}),n.jsxs("ul",{className:"text-xs text-mm-text-secondary text-left space-y-2",children:[n.jsx("li",{children:"    "}),n.jsx("li",{children:" , , "}),n.jsx("li",{children:"  "})]})]})}),n.jsx("div",{onClick:()=>{l("excel"),s(2)},className:`p-8 rounded-lg cursor-pointer transition border-2 ${a==="excel"?"border-mm-cyan bg-mm-cyan/10":"border-mm-border bg-mm-secondary hover:border-mm-cyan/50"}`,children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"w-16 h-16 mx-auto bg-mm-cyan/20 rounded-full flex items-center justify-center",children:n.jsx(Yn,{className:"text-3xl text-mm-cyan"})}),n.jsx("h3",{className:"text-xl font-bold text-mm-text",children:"  Excel"}),n.jsx("p",{className:"text-sm text-mm-text-secondary",children:"    Excel-  "}),n.jsxs("ul",{className:"text-xs text-mm-text-secondary text-left space-y-2",children:[n.jsx("li",{children:"   "}),n.jsx("li",{children:"   Excel"}),n.jsx("li",{children:"  "})]})]})})]}),r===2&&a==="marketplace"&&n.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" "}),n.jsx("div",{className:"grid grid-cols-3 gap-4",children:["ozon","wb","yandex"].map(x=>{const f={ozon:"Ozon",wb:"Wildberries",yandex:"."},b={ozon:"blue",wb:"purple",yandex:"red"};return n.jsx("div",{onClick:()=>c(x),className:`p-6 rounded-lg cursor-pointer transition border-2 text-center ${o===x?`border-${b[x]}-500 bg-${b[x]}-500/10`:"border-mm-border hover:border-mm-cyan/50"}`,children:n.jsx("h3",{className:"text-lg font-bold text-mm-text",children:f[x]})},x)})}),n.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-4",children:n.jsxs("p",{className:"text-blue-300 text-sm",children:[" ",n.jsx("strong",{children:":"}),' ,           "".']})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>s(1),className:"px-6 py-3 bg-mm-dark text-mm-text hover:bg-mm-dark/80 rounded",children:""}),n.jsx("button",{onClick:S,disabled:!o||m,className:"flex-1 px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:m?"...":" "})]})]}),r===2&&a==="excel"&&n.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" Excel "}),n.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-bold text-mm-text mb-2",children:" 1:  "}),n.jsx("p",{className:"text-sm text-mm-text-secondary mb-4",children:"  Excel,        "}),n.jsxs("button",{onClick:w,className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center gap-2",children:[n.jsx(Es,{}),"   Excel"]})]}),n.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-bold text-mm-text mb-2",children:" 2:  "}),n.jsx("p",{className:"text-sm text-mm-text-secondary mb-4",children:"  Excel   "}),n.jsxs("div",{className:"border-2 border-dashed border-mm-border rounded-lg p-8 text-center",children:[n.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:y,className:"hidden",id:"file-upload"}),n.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer inline-block",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Yn,{className:"mx-auto text-4xl text-mm-cyan"}),n.jsx("p",{className:"text-mm-text",children:u?u.name:"     "}),n.jsx("p",{className:"text-xs text-mm-text-secondary",children:" : .xlsx, .xls"})]})})]})]}),n.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded p-4",children:n.jsxs("p",{className:"text-yellow-300 text-sm",children:[" ",n.jsx("strong",{children:":"}),"          .    ."]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>s(1),className:"px-6 py-3 bg-mm-dark text-mm-text hover:bg-mm-dark/80 rounded",children:""}),n.jsx("button",{onClick:p,disabled:!u||m,className:"flex-1 px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:m?"...":" "})]})]}),r===3&&h&&n.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 mx-auto bg-green-500/20 rounded-full flex items-center justify-center mb-4",children:n.jsx(vt,{className:"text-4xl text-green-400"})}),n.jsx("h2",{className:"text-2xl font-bold text-mm-text mb-2",children:" !"}),n.jsx("p",{className:"text-mm-text-secondary",children:"    "})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[n.jsx("div",{className:"text-3xl font-bold text-green-400",children:h.created||0}),n.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]}),n.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[n.jsx("div",{className:"text-3xl font-bold text-blue-400",children:h.updated||0}),n.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]}),n.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[n.jsx("div",{className:"text-3xl font-bold text-red-400",children:h.errors||0}),n.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]})]}),n.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded",children:"  "})]})]})}function Ib(){const{api:e}=le(),[t,r]=g.useState([]),[s,a]=g.useState(!1),[l,o]=g.useState(!1),[c,u]=g.useState(null),[i,m]=g.useState(""),[d,h]=g.useState({internal_name:"",slug:"",site_visibility:!0,default_channels:["site"],ozon_category_id:"",ozon_type_id:"",wb_category_id:"",yandex_category_id:"",internal_attributes:[]}),[N,y]=g.useState({ozon:"",wb:"",yandex:""}),[w,S]=g.useState({ozon:[],wb:[],yandex:[]}),[p,x]=g.useState({});g.useEffect(()=>{f()},[]);const f=async()=>{a(!0);try{const v=await e.get("/api/internal-categories?limit=100");r(v.data.categories||[])}catch(v){console.error("Failed to load categories:",v),alert("  ")}finally{a(!1)}},b=()=>{u(null),h({internal_name:"",slug:"",site_visibility:!0,default_channels:["site"],ozon_category_id:"",ozon_type_id:"",wb_category_id:"",yandex_category_id:"",internal_attributes:[]}),y({ozon:"",wb:"",yandex:""}),S({ozon:[],wb:[],yandex:[]}),o(!0)},C=v=>{var R,L,z,W,B,K,F,I;u(v.id),h({internal_name:v.internal_name,slug:v.slug||"",site_visibility:v.site_visibility??!0,default_channels:v.default_channels||["site"],ozon_category_id:((L=(R=v.marketplace_mappings)==null?void 0:R.ozon)==null?void 0:L.category_id)||"",ozon_type_id:((W=(z=v.marketplace_mappings)==null?void 0:z.ozon)==null?void 0:W.type_id)||"",wb_category_id:((K=(B=v.marketplace_mappings)==null?void 0:B.wb)==null?void 0:K.category_id)||"",yandex_category_id:((I=(F=v.marketplace_mappings)==null?void 0:F.yandex)==null?void 0:I.category_id)||"",internal_attributes:v.internal_attributes||[]}),y({ozon:"",wb:"",yandex:""}),S({ozon:[],wb:[],yandex:[]}),o(!0)},j=async(v,R)=>{var L,z;if(confirm(`  "${R}"?`))try{await e.delete(`/api/internal-categories/${v}`),alert("  "),f()}catch(W){alert(" : "+(((z=(L=W.response)==null?void 0:L.data)==null?void 0:z.detail)||W.message))}},P=async()=>{var v,R;if(!d.internal_name){alert("  ");return}try{c?(await e.put(`/api/internal-categories/${c}`,d),alert("  ")):(await e.post("/api/internal-categories",d),alert("  ")),o(!1),f()}catch(L){alert(" : "+(((R=(v=L.response)==null?void 0:v.data)==null?void 0:R.detail)||L.message))}},k=async v=>{var L,z;const R=N[v];if(!(!R||R.length<2)){x(W=>({...W,[v]:!0}));try{const W=await e.get(`/api/categories/marketplace/${v}/search?query=${encodeURIComponent(R)}`);S(B=>({...B,[v]:W.data.categories||[]}))}catch(W){console.error(`Failed to search ${v}:`,W),alert(`  ${v}: ${((z=(L=W.response)==null?void 0:L.data)==null?void 0:z.detail)||W.message}`)}finally{x(W=>({...W,[v]:!1}))}}},_=(v,R)=>{v==="ozon"?h(L=>({...L,ozon_category_id:R.category_id||R.id,ozon_type_id:R.type_id||""})):v==="wb"?h(L=>({...L,wb_category_id:R.category_id||R.id})):v==="yandex"&&h(L=>({...L,yandex_category_id:R.category_id||R.id})),S(L=>({...L,[v]:[]})),y(L=>({...L,[v]:""}))},D=t.filter(v=>v.internal_name.toLowerCase().includes(i.toLowerCase()));return n.jsx("div",{className:"min-h-screen bg-[#0F172A] text-[#E5E7EB] p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-[#06B6D4] mb-2",children:" "}),n.jsx("p",{className:"text-[#A7AFB8]",children:"        "})]}),n.jsxs("button",{onClick:b,className:"px-6 py-3 bg-[#06B6D4] text-[#0B1220] rounded-lg font-bold hover:bg-cyan-400 transition-colors flex items-center gap-2","data-testid":"create-category-button",children:[n.jsx(Bt,{}),"  "]})]}),n.jsxs("div",{className:"mb-6 relative",children:[n.jsx(Cr,{className:"absolute left-4 top-3.5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:" ...",value:i,onChange:v=>m(v.target.value),className:"w-full pl-12 pr-4 py-3 bg-[#111827] border border-[#334155] rounded-lg text-white placeholder-gray-500 focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none","data-testid":"category-search-input"})]}),s?n.jsx("div",{className:"text-center py-12 text-gray-400",children:"..."}):D.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-gray-400 mb-4",children:"  "}),n.jsx("button",{onClick:b,className:"px-6 py-2 bg-[#06B6D4] text-[#0B1220] rounded-lg hover:bg-cyan-400",children:"  "})]}):n.jsx("div",{className:"bg-[#111827] border border-[#334155] rounded-xl overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-[#0F172A] border-b border-[#334155]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:"Slug"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),n.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-[#A7AFB8]",children:""})]})}),n.jsx("tbody",{children:D.map(v=>{var R,L,z,W,B,K,F;return n.jsxs("tr",{className:"border-b border-[#334155] hover:bg-slate-800/60 transition-colors","data-testid":`category-row-${v.id}`,children:[n.jsx("td",{className:"px-6 py-4 font-medium",children:v.internal_name}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:v.slug||"-"}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex gap-2",children:[((L=(R=v.marketplace_mappings)==null?void 0:R.ozon)==null?void 0:L.category_id)&&n.jsx("span",{className:"px-2 py-1 bg-blue-500 text-white text-xs rounded",children:"Ozon"}),((W=(z=v.marketplace_mappings)==null?void 0:z.wb)==null?void 0:W.category_id)&&n.jsx("span",{className:"px-2 py-1 bg-purple-500 text-white text-xs rounded",children:"WB"}),((K=(B=v.marketplace_mappings)==null?void 0:B.yandex)==null?void 0:K.category_id)&&n.jsx("span",{className:"px-2 py-1 bg-yellow-500 text-black text-xs rounded",children:""})]})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:((F=v.internal_attributes)==null?void 0:F.length)||0}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{onClick:()=>C(v),className:"p-2 text-blue-400 hover:bg-blue-500/20 rounded transition-colors","data-testid":`edit-category-${v.id}`,children:n.jsx(sx,{})}),n.jsx("button",{onClick:()=>j(v.id,v.internal_name),className:"p-2 text-red-400 hover:bg-red-500/20 rounded transition-colors","data-testid":`delete-category-${v.id}`,children:n.jsx(Ut,{})})]})})]},v.id)})})]})}),l&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-start justify-center z-50 p-6 overflow-y-auto",children:n.jsxs("div",{className:"bg-[#111827] border border-[#334155] rounded-xl w-full max-w-4xl my-8",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-[#334155] flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-[#06B6D4]",children:c?" ":" "}),n.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition-colors",children:n.jsx(Xt,{size:24})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-[#A7AFB8] mb-2",children:[" ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:d.internal_name,onChange:v=>h(R=>({...R,internal_name:v.target.value})),className:"w-full px-4 py-2 bg-[#1F2937] border border-[#334155] rounded-lg text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:":  ","data-testid":"category-name-input"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#A7AFB8] mb-2",children:"Slug"}),n.jsx("input",{type:"text",value:d.slug,onChange:v=>h(R=>({...R,slug:v.target.value})),className:"w-full px-4 py-2 bg-[#1F2937] border border-[#334155] rounded-lg text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:"computer-mice"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"  "}),n.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4 mb-4",children:n.jsxs("p",{className:"text-yellow-200 text-sm flex items-start gap-2",children:[n.jsx(_r,{className:"mt-0.5 flex-shrink-0"}),n.jsxs("span",{children:[n.jsx("strong",{children:":"}),"        .       ."]})]})}),n.jsxs("div",{className:"mb-4 p-4 bg-[#1F2937] border-l-4 border-blue-500 rounded",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("h4",{className:"font-bold text-blue-400",children:"Ozon"}),d.ozon_category_id&&n.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[n.jsx(vt,{size:12})," : ",d.ozon_category_id]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:N.ozon,onChange:v=>y(R=>({...R,ozon:v.target.value})),onKeyDown:v=>v.key==="Enter"&&k("ozon"),placeholder:"  Ozon ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 outline-none"}),n.jsx("button",{onClick:()=>k("ozon"),disabled:p.ozon||N.ozon.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:p.ozon?"...":""})]}),w.ozon.length>0&&n.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:w.ozon.map((v,R)=>n.jsxs("button",{onClick:()=>_("ozon",v),className:"w-full px-4 py-2 text-left hover:bg-blue-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[n.jsx("div",{className:"font-medium text-white",children:v.category_name||v.name}),n.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",v.category_id||v.id,v.type_id&&` | Type: ${v.type_id}`]})]},R))})]}),n.jsxs("div",{className:"mb-4 p-4 bg-[#1F2937] border-l-4 border-purple-500 rounded",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("h4",{className:"font-bold text-purple-400",children:"Wildberries"}),d.wb_category_id&&n.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[n.jsx(vt,{size:12})," : ",d.wb_category_id]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:N.wb,onChange:v=>y(R=>({...R,wb:v.target.value})),onKeyDown:v=>v.key==="Enter"&&k("wb"),placeholder:"  Wildberries ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 outline-none"}),n.jsx("button",{onClick:()=>k("wb"),disabled:p.wb||N.wb.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-purple-500 text-white rounded text-sm hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed",children:p.wb?"...":""})]}),w.wb.length>0&&n.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:w.wb.map((v,R)=>n.jsxs("button",{onClick:()=>_("wb",v),className:"w-full px-4 py-2 text-left hover:bg-purple-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[n.jsx("div",{className:"font-medium text-white",children:v.category_name||v.name}),n.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",v.category_id||v.id]})]},R))})]}),n.jsxs("div",{className:"p-4 bg-[#1F2937] border-l-4 border-yellow-500 rounded",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("h4",{className:"font-bold text-yellow-400",children:" "}),d.yandex_category_id&&n.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[n.jsx(vt,{size:12})," : ",d.yandex_category_id]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:N.yandex,onChange:v=>y(R=>({...R,yandex:v.target.value})),onKeyDown:v=>v.key==="Enter"&&k("yandex"),placeholder:"    ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-yellow-500 focus:ring-2 focus:ring-yellow-500/50 outline-none"}),n.jsx("button",{onClick:()=>k("yandex"),disabled:p.yandex||N.yandex.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-yellow-500 text-black rounded text-sm hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed",children:p.yandex?"...":""})]}),w.yandex.length>0&&n.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:w.yandex.map((v,R)=>n.jsxs("button",{onClick:()=>_("yandex",v),className:"w-full px-4 py-2 text-left hover:bg-yellow-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[n.jsx("div",{className:"font-medium text-white",children:v.category_name||v.name}),n.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",v.category_id||v.id]})]},R))})]})]})]}),n.jsxs("div",{className:"px-6 py-4 border-t border-[#334155] flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>o(!1),className:"px-6 py-2 bg-[#374151] text-white rounded-lg hover:bg-[#4B5563] transition-colors",children:""}),n.jsxs("button",{onClick:P,className:"px-6 py-2 bg-[#06B6D4] text-[#0B1220] rounded-lg font-bold hover:bg-cyan-400 transition-colors flex items-center gap-2","data-testid":"save-category-button",children:[n.jsx(pc,{})," "]})]})]})})]})})}function lu(){const{api:e}=le(),{id:t}=gl(),r=tn(),[s,a]=g.useState([]),[l,o]=g.useState([]),[c,u]=g.useState([]),[i,m]=g.useState({warehouse_id:"",supplier_id:"",items:[]}),[d,h]=g.useState(""),[N,y]=g.useState(!1),[w,S]=g.useState(null);g.useEffect(()=>{p(),t&&x()},[t]);const p=async()=>{try{const[R,L,z]=await Promise.all([e.get("/api/warehouses"),e.get("/api/suppliers"),e.get("/api/catalog/products?limit=500")]);a(R.data),o(L.data),u(z.data)}catch(R){J.error("  "),console.error(R)}},x=async()=>{try{const R=await e.get(`/api/income-orders/${t}`);S(R.data),m({warehouse_id:R.data.warehouse_id||"",supplier_id:R.data.supplier_id||"",items:R.data.items||[]})}catch(R){J.error("  "),console.error(R)}},f=R=>{const L=i.items.find(z=>z.article===R.article);m(L?{...i,items:i.items.map(z=>z.article===R.article?{...z,quantity:z.quantity+1}:z)}:{...i,items:[...i.items,{article:R.article,name:R.name,quantity:1,purchase_price:0,additional_expenses:0,total:0}]}),h("")},b=(R,L,z)=>{const W=[...i.items];if(W[R][L]=z,L==="quantity"||L==="purchase_price"||L==="additional_expenses"){const B=W[R];B.total=(B.purchase_price+B.additional_expenses)*B.quantity}m({...i,items:W})},C=R=>{m({...i,items:i.items.filter((L,z)=>z!==R)})},j=async()=>{var R,L;if(!i.warehouse_id||!i.supplier_id){J.error("   ");return}y(!0);try{if(t)await e.put(`/api/income-orders/${t}`,i),J.success(" ");else{const z=await e.post("/api/income-orders",i);J.success(" "),r(`/income-orders/${z.data.order.id}/edit`)}}catch(z){J.error(((L=(R=z.response)==null?void 0:R.data)==null?void 0:L.detail)||" ")}y(!1)},P=async()=>{var R,L;if(!t){J.error("  ");return}if(confirm(" ?   !")){y(!0);try{await e.post(`/api/income-orders/${t}/accept`),J.success(" !  ."),r("/income-orders")}catch(z){J.error(((L=(R=z.response)==null?void 0:R.data)==null?void 0:L.detail)||" ")}y(!1)}},k=async()=>{var R,L;if(confirm(" ?   !")){y(!0);try{await e.post(`/api/income-orders/${t}/cancel`),J.success(" "),x()}catch(z){J.error(((L=(R=z.response)==null?void 0:R.data)==null?void 0:L.detail)||" ")}y(!1)}},_=c.filter(R=>{var L,z;return((L=R.article)==null?void 0:L.toLowerCase().includes(d.toLowerCase()))||((z=R.name)==null?void 0:z.toLowerCase().includes(d.toLowerCase()))}),D=i.items.reduce((R,L)=>({quantity:R.quantity+(L.quantity||0),amount:R.amount+(L.total||0)}),{quantity:0,amount:0}),v=(w==null?void 0:w.status)==="accepted";return n.jsx("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-mm-cyan uppercase mb-2","data-testid":"form-title",children:t?` #${t.substring(0,8)}`:" "}),n.jsx("p",{className:"text-mm-text-secondary text-sm",children:v?"// ":"// "})]}),n.jsx("div",{className:"flex items-center space-x-2",children:v?n.jsxs("span",{className:"px-4 py-2 bg-mm-green/20 text-mm-green border border-mm-green uppercase text-sm font-mono",children:[n.jsx(FiCheck,{className:"inline mr-2"}),""]}):n.jsx("span",{className:"px-4 py-2 bg-mm-yellow/20 text-mm-yellow border border-mm-yellow uppercase text-sm font-mono",children:""})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"card-neon","data-testid":"warehouse-supplier-section",children:[n.jsx("h3",{className:"text-mm-cyan uppercase text-sm mb-4",children:" "}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),n.jsxs("select",{value:i.warehouse_id,onChange:R=>m({...i,warehouse_id:R.target.value}),className:"input-neon w-full",disabled:v,"data-testid":"warehouse-select",required:!0,children:[n.jsx("option",{value:"",children:" ..."}),s.map(R=>n.jsx("option",{value:R.id,children:R.name},R.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),n.jsxs("select",{value:i.supplier_id,onChange:R=>m({...i,supplier_id:R.target.value}),className:"input-neon w-full",disabled:v,"data-testid":"supplier-select",required:!0,children:[n.jsx("option",{value:"",children:" ..."}),l.map(R=>n.jsx("option",{value:R.id,children:R.name},R.id))]})]})]})]}),n.jsxs("div",{className:"card-neon bg-mm-darker","data-testid":"totals-section",children:[n.jsx("h3",{className:"text-mm-cyan uppercase text-sm mb-4",children:""}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-mm-text-secondary",children:":"}),n.jsx("span",{className:"text-2xl font-mono font-bold text-mm-text",children:i.items.length})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-mm-text-secondary",children:" :"}),n.jsx("span",{className:"text-2xl font-mono font-bold text-mm-cyan",children:D.quantity})]}),n.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-mm-border",children:[n.jsx("span",{className:"text-mm-text-secondary",children:":"}),n.jsxs("span",{className:"text-2xl font-mono font-bold text-mm-green",children:[(D.amount/100).toFixed(2)," "]})]})]})]})]}),!v&&n.jsxs("div",{className:"card-neon","data-testid":"add-products-section",children:[n.jsx("h3",{className:"text-mm-cyan uppercase text-sm mb-4",children:" "}),n.jsxs("div",{className:"relative",children:[n.jsx(Cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-mm-text-tertiary"}),n.jsx("input",{type:"text",value:d,onChange:R=>h(R.target.value),className:"input-neon w-full pl-10",placeholder:"    ...","data-testid":"product-search-input"})]}),d&&_.length>0&&n.jsx("div",{className:"mt-2 max-h-60 overflow-y-auto border border-mm-border bg-mm-darker",children:_.slice(0,10).map(R=>n.jsxs("button",{onClick:()=>f(R),className:"w-full text-left px-4 py-3 hover:bg-mm-gray transition-colors border-b border-mm-border last:border-b-0","data-testid":`add-product-${R.article}`,children:[n.jsx("div",{className:"font-mono text-sm text-mm-cyan",children:R.article}),n.jsx("div",{className:"text-sm text-mm-text-secondary",children:R.name})]},R.article))})]}),i.items.length>0&&n.jsx("div",{className:"card-neon overflow-hidden","data-testid":"items-table",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-mm-border",children:[n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),n.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" ()"}),n.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" ()"}),n.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" ()"}),!v&&n.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),n.jsx("tbody",{children:i.items.map((R,L)=>n.jsxs("tr",{className:"border-b border-mm-border","data-testid":`item-row-${L}`,children:[n.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:R.article}),n.jsx("td",{className:"py-4 px-4 text-sm",children:R.name}),n.jsx("td",{className:"py-4 px-4",children:v?n.jsx("div",{className:"text-center font-mono font-bold",children:R.quantity}):n.jsx("input",{type:"number",min:"1",value:R.quantity,onChange:z=>b(L,"quantity",parseInt(z.target.value)||0),className:"input-neon w-24 text-center font-mono","data-testid":`quantity-${L}`})}),n.jsx("td",{className:"py-4 px-4",children:v?n.jsx("div",{className:"text-right font-mono",children:(R.purchase_price/100).toFixed(2)}):n.jsx("input",{type:"number",min:"0",step:"0.01",value:(R.purchase_price/100).toFixed(2),onChange:z=>b(L,"purchase_price",Math.round(parseFloat(z.target.value||0)*100)),className:"input-neon w-32 text-right font-mono","data-testid":`purchase-price-${L}`})}),n.jsx("td",{className:"py-4 px-4",children:v?n.jsx("div",{className:"text-right font-mono",children:(R.additional_expenses/100).toFixed(2)}):n.jsx("input",{type:"number",min:"0",step:"0.01",value:(R.additional_expenses/100).toFixed(2),onChange:z=>b(L,"additional_expenses",Math.round(parseFloat(z.target.value||0)*100)),className:"input-neon w-32 text-right font-mono","data-testid":`expenses-${L}`})}),n.jsx("td",{className:"py-4 px-4 text-right font-mono font-bold text-mm-green",children:(R.total/100).toFixed(2)}),!v&&n.jsx("td",{className:"py-4 px-4 text-center",children:n.jsx("button",{onClick:()=>C(L),className:"px-2 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors","data-testid":`remove-item-${L}`,children:n.jsx(Ut,{size:16})})})]},L))})]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("button",{onClick:()=>r("/income-orders"),className:"btn-secondary","data-testid":"back-btn",children:"   "}),n.jsxs("div",{className:"flex items-center space-x-3",children:[!v&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:j,disabled:N||!i.warehouse_id||!i.supplier_id,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50","data-testid":"save-draft-btn",children:[n.jsx(pc,{}),n.jsx("span",{children:" "})]}),n.jsxs("button",{onClick:P,disabled:N||!t||i.items.length===0,className:"btn-primary flex items-center space-x-2 disabled:opacity-50 bg-mm-green border-mm-green hover:bg-mm-green/20","data-testid":"accept-btn",children:[n.jsx(Za,{}),n.jsx("span",{children:""})]})]}),v&&n.jsxs("button",{onClick:k,disabled:N,className:"btn-secondary flex items-center space-x-2 border-mm-red text-mm-red hover:bg-mm-red/10","data-testid":"cancel-btn",children:[n.jsx(xc,{}),n.jsx("span",{children:" "})]})]})]})]})})}function De({children:e,requiredRole:t}){const{user:r,loading:s}=le();return s?n.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:n.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):r?t&&r.role!==t?n.jsx(Ja,{to:"/"}):e:n.jsx(Ja,{to:"/login"})}function Mb(){const{user:e}=le();return n.jsxs(Hy,{children:[n.jsx(Se,{path:"/login",element:e?n.jsx(Ja,{to:"/"}):n.jsx(ob,{})}),n.jsx(Se,{path:"/",element:n.jsx(De,{children:(e==null?void 0:e.role)==="admin"?n.jsx(kb,{}):n.jsx(_b,{})})}),n.jsx(Se,{path:"/products/:id/edit",element:n.jsx(De,{children:n.jsx(Cb,{})})}),n.jsx(Se,{path:"/warehouses/:id",element:n.jsx(De,{children:n.jsx(Ob,{})})}),n.jsx(Se,{path:"/integrations",element:n.jsx(De,{children:n.jsx(hc,{})})}),n.jsx(Se,{path:"/products-new",element:n.jsx(De,{children:n.jsx(Pb,{})})}),n.jsx(Se,{path:"/stock-balances",element:n.jsx(De,{children:n.jsx(Rb,{})})}),n.jsx(Se,{path:"/catalog/categories",element:n.jsx(De,{children:n.jsx(Tb,{})})}),n.jsx(Se,{path:"/catalog/products/new",element:n.jsx(De,{children:n.jsx(au,{})})}),n.jsx(Se,{path:"/catalog/products/:id/edit",element:n.jsx(De,{children:n.jsx(au,{})})}),n.jsx(Se,{path:"/catalog/import",element:n.jsx(De,{children:n.jsx(Ab,{})})}),n.jsx(Se,{path:"/admin/categories",element:n.jsx(De,{requiredRole:"admin",children:n.jsx(Sb,{})})}),n.jsx(Se,{path:"/admin/internal-categories",element:n.jsx(De,{requiredRole:"admin",children:n.jsx(Ib,{})})}),n.jsx(Se,{path:"/warehouses",element:n.jsx(De,{children:n.jsx(fx,{})})}),n.jsx(Se,{path:"/suppliers",element:n.jsx(De,{children:n.jsx(yx,{})})}),n.jsx(Se,{path:"/income-orders",element:n.jsx(De,{children:n.jsx(gx,{})})}),n.jsx(Se,{path:"/income-orders/new",element:n.jsx(De,{children:n.jsx(lu,{})})}),n.jsx(Se,{path:"/income-orders/:id/edit",element:n.jsx(De,{children:n.jsx(lu,{})})}),n.jsx(Se,{path:"*",element:n.jsx(Ja,{to:"/"})})]})}function $b(){return n.jsx(Jy,{children:n.jsx(ab,{children:n.jsxs(sb,{children:[n.jsx(Cg,{position:"top-right",theme:"dark",toastOptions:{style:{background:"#0a0e27",border:"1px solid #00f0ff",color:"#e0e7ff"}}}),n.jsx(Mb,{})]})})})}ro.createRoot(document.getElementById("root")).render(n.jsx($.StrictMode,{children:n.jsx($b,{})}));
