var tO=Object.defineProperty;var rO=(e,t,r)=>t in e?tO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var uf=(e,t,r)=>rO(e,typeof t!="symbol"?t+"":t,r);function nO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function In(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var n1={exports:{}},Mu={},a1={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Symbol.for("react.element"),aO=Symbol.for("react.portal"),sO=Symbol.for("react.fragment"),iO=Symbol.for("react.strict_mode"),oO=Symbol.for("react.profiler"),lO=Symbol.for("react.provider"),cO=Symbol.for("react.context"),dO=Symbol.for("react.forward_ref"),uO=Symbol.for("react.suspense"),mO=Symbol.for("react.memo"),fO=Symbol.for("react.lazy"),eb=Symbol.iterator;function pO(e){return e===null||typeof e!="object"?null:(e=eb&&e[eb]||e["@@iterator"],typeof e=="function"?e:null)}var s1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i1=Object.assign,o1={};function zi(e,t,r){this.props=e,this.context=t,this.refs=o1,this.updater=r||s1}zi.prototype.isReactComponent={};zi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function l1(){}l1.prototype=zi.prototype;function _h(e,t,r){this.props=e,this.context=t,this.refs=o1,this.updater=r||s1}var Sh=_h.prototype=new l1;Sh.constructor=_h;i1(Sh,zi.prototype);Sh.isPureReactComponent=!0;var tb=Array.isArray,c1=Object.prototype.hasOwnProperty,Ch={current:null},d1={key:!0,ref:!0,__self:!0,__source:!0};function u1(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)c1.call(t,n)&&!d1.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];s.children=d}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:jl,type:e,key:i,ref:o,props:s,_owner:Ch.current}}function xO(e,t){return{$$typeof:jl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ph(e){return typeof e=="object"&&e!==null&&e.$$typeof===jl}function hO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rb=/\/+/g;function mf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hO(""+e.key):t.toString(36)}function Vc(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case jl:case aO:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+mf(o,0):n,tb(s)?(r="",e!=null&&(r=e.replace(rb,"$&/")+"/"),Vc(s,t,r,"",function(c){return c})):s!=null&&(Ph(s)&&(s=xO(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(rb,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",tb(e))for(var l=0;l<e.length;l++){i=e[l];var d=n+mf(i,l);o+=Vc(i,t,r,d,s)}else if(d=pO(e),typeof d=="function")for(e=d.call(e),l=0;!(i=e.next()).done;)i=i.value,d=n+mf(i,l++),o+=Vc(i,t,r,d,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function oc(e,t,r){if(e==null)return e;var n=[],s=0;return Vc(e,n,"","",function(i){return t.call(r,i,s++)}),n}function yO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ur={current:null},qc={transition:null},gO={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:qc,ReactCurrentOwner:Ch};function m1(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:oc,forEach:function(e,t,r){oc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return oc(e,function(){t++}),t},toArray:function(e){return oc(e,function(t){return t})||[]},only:function(e){if(!Ph(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=zi;Ee.Fragment=sO;Ee.Profiler=oO;Ee.PureComponent=_h;Ee.StrictMode=iO;Ee.Suspense=uO;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gO;Ee.act=m1;Ee.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=i1({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ch.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)c1.call(t,d)&&!d1.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){l=Array(d);for(var c=0;c<d;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:jl,type:e.type,key:s,ref:i,props:n,_owner:o}};Ee.createContext=function(e){return e={$$typeof:cO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lO,_context:e},e.Consumer=e};Ee.createElement=u1;Ee.createFactory=function(e){var t=u1.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:dO,render:e}};Ee.isValidElement=Ph;Ee.lazy=function(e){return{$$typeof:fO,_payload:{_status:-1,_result:e},_init:yO}};Ee.memo=function(e,t){return{$$typeof:mO,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=qc.transition;qc.transition={};try{e()}finally{qc.transition=t}};Ee.unstable_act=m1;Ee.useCallback=function(e,t){return ur.current.useCallback(e,t)};Ee.useContext=function(e){return ur.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return ur.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return ur.current.useEffect(e,t)};Ee.useId=function(){return ur.current.useId()};Ee.useImperativeHandle=function(e,t,r){return ur.current.useImperativeHandle(e,t,r)};Ee.useInsertionEffect=function(e,t){return ur.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return ur.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return ur.current.useMemo(e,t)};Ee.useReducer=function(e,t,r){return ur.current.useReducer(e,t,r)};Ee.useRef=function(e){return ur.current.useRef(e)};Ee.useState=function(e){return ur.current.useState(e)};Ee.useSyncExternalStore=function(e,t,r){return ur.current.useSyncExternalStore(e,t,r)};Ee.useTransition=function(){return ur.current.useTransition()};Ee.version="18.3.1";a1.exports=Ee;var f=a1.exports;const te=In(f),f1=nO({__proto__:null,default:te},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vO=f,bO=Symbol.for("react.element"),jO=Symbol.for("react.fragment"),wO=Object.prototype.hasOwnProperty,NO=vO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kO={key:!0,ref:!0,__self:!0,__source:!0};function p1(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)wO.call(t,n)&&!kO.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:bO,type:e,key:i,ref:o,props:s,_owner:NO.current}}Mu.Fragment=jO;Mu.jsx=p1;Mu.jsxs=p1;n1.exports=Mu;var a=n1.exports,hp={},x1={exports:{}},$r={},h1={exports:{}},y1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,R){var $=L.length;L.push(R);e:for(;0<$;){var X=$-1>>>1,T=L[X];if(0<s(T,R))L[X]=R,L[$]=T,$=X;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var R=L[0],$=L.pop();if($!==R){L[0]=$;e:for(var X=0,T=L.length,Q=T>>>1;X<Q;){var J=2*(X+1)-1,D=L[J],q=J+1,ie=L[q];if(0>s(D,$))q<T&&0>s(ie,D)?(L[X]=ie,L[q]=$,X=q):(L[X]=D,L[J]=$,X=J);else if(q<T&&0>s(ie,$))L[X]=ie,L[q]=$,X=q;else break e}}return R}function s(L,R){var $=L.sortIndex-R.sortIndex;return $!==0?$:L.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],c=[],u=1,m=null,p=3,x=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(L){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=L)n(c),R.sortIndex=R.expirationTime,t(d,R);else break;R=r(c)}}function k(L){if(g=!1,j(L),!y)if(r(d)!==null)y=!0,B(N);else{var R=r(c);R!==null&&W(k,R.startTime-L)}}function N(L,R){y=!1,g&&(g=!1,h(_),_=-1),x=!0;var $=p;try{for(j(R),m=r(d);m!==null&&(!(m.expirationTime>R)||L&&!S());){var X=m.callback;if(typeof X=="function"){m.callback=null,p=m.priorityLevel;var T=X(m.expirationTime<=R);R=e.unstable_now(),typeof T=="function"?m.callback=T:m===r(d)&&n(d),j(R)}else n(d);m=r(d)}if(m!==null)var Q=!0;else{var J=r(c);J!==null&&W(k,J.startTime-R),Q=!1}return Q}finally{m=null,p=$,x=!1}}var w=!1,P=null,_=-1,C=5,O=-1;function S(){return!(e.unstable_now()-O<C)}function E(){if(P!==null){var L=e.unstable_now();O=L;var R=!0;try{R=P(!0,L)}finally{R?I():(w=!1,P=null)}}else w=!1}var I;if(typeof b=="function")I=function(){b(E)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,M=A.port2;A.port1.onmessage=E,I=function(){M.postMessage(null)}}else I=function(){v(E,0)};function B(L){P=L,w||(w=!0,I())}function W(L,R){_=v(function(){L(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){y||x||(y=!0,B(N))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var $=p;p=R;try{return L()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,R){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=p;p=L;try{return R()}finally{p=$}},e.unstable_scheduleCallback=function(L,R,$){var X=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,L){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=$+T,L={id:u++,callback:R,priorityLevel:L,startTime:$,expirationTime:T,sortIndex:-1},$>X?(L.sortIndex=$,t(c,L),r(d)===null&&L===r(c)&&(g?(h(_),_=-1):g=!0,W(k,$-X))):(L.sortIndex=T,t(d,L),y||x||(y=!0,B(N))),L},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(L){var R=p;return function(){var $=p;p=R;try{return L.apply(this,arguments)}finally{p=$}}}})(y1);h1.exports=y1;var _O=h1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SO=f,Dr=_O;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g1=new Set,Bo={};function Rs(e,t){yi(e,t),yi(e+"Capture",t)}function yi(e,t){for(Bo[e]=t,e=0;e<t.length;e++)g1.add(t[e])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yp=Object.prototype.hasOwnProperty,CO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nb={},ab={};function PO(e){return yp.call(ab,e)?!0:yp.call(nb,e)?!1:CO.test(e)?ab[e]=!0:(nb[e]=!0,!1)}function EO(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OO(e,t,r,n){if(t===null||typeof t>"u"||EO(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ht[e]=new mr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ht[t]=new mr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ht[e]=new mr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ht[e]=new mr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ht[e]=new mr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ht[e]=new mr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ht[e]=new mr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ht[e]=new mr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ht[e]=new mr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Eh=/[\-:]([a-z])/g;function Oh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Eh,Oh);Ht[t]=new mr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Eh,Oh);Ht[t]=new mr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Eh,Oh);Ht[t]=new mr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ht[e]=new mr(e,1,!1,e.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ht[e]=new mr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ah(e,t,r,n){var s=Ht.hasOwnProperty(t)?Ht[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OO(t,r,s,n)&&(r=null),n||s===null?PO(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var la=SO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lc=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),Th=Symbol.for("react.strict_mode"),gp=Symbol.for("react.profiler"),v1=Symbol.for("react.provider"),b1=Symbol.for("react.context"),Dh=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),bp=Symbol.for("react.suspense_list"),Ih=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),j1=Symbol.for("react.offscreen"),sb=Symbol.iterator;function ao(e){return e===null||typeof e!="object"?null:(e=sb&&e[sb]||e["@@iterator"],typeof e=="function"?e:null)}var at=Object.assign,ff;function wo(e){if(ff===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ff=t&&t[1]||""}return`
`+ff+e}var pf=!1;function xf(e,t){if(!e||pf)return"";pf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var d=`
`+s[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=l);break}}}finally{pf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wo(e):""}function AO(e){switch(e.tag){case 5:return wo(e.type);case 16:return wo("Lazy");case 13:return wo("Suspense");case 19:return wo("SuspenseList");case 0:case 2:case 15:return e=xf(e.type,!1),e;case 11:return e=xf(e.type.render,!1),e;case 1:return e=xf(e.type,!0),e;default:return""}}function jp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xs:return"Fragment";case Gs:return"Portal";case gp:return"Profiler";case Th:return"StrictMode";case vp:return"Suspense";case bp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case b1:return(e.displayName||"Context")+".Consumer";case v1:return(e._context.displayName||"Context")+".Provider";case Dh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ih:return t=e.displayName||null,t!==null?t:jp(e.type)||"Memo";case va:t=e._payload,e=e._init;try{return jp(e(t))}catch{}}return null}function TO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jp(t);case 8:return t===Th?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function w1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function DO(e){var t=w1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cc(e){e._valueTracker||(e._valueTracker=DO(e))}function N1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=w1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function xd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wp(e,t){var r=t.checked;return at({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ib(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function k1(e,t){t=t.checked,t!=null&&Ah(e,"checked",t,!1)}function Np(e,t){k1(e,t);var r=Fa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kp(e,t.type,r):t.hasOwnProperty("defaultValue")&&kp(e,t.type,Fa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ob(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function kp(e,t,r){(t!=="number"||xd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var No=Array.isArray;function ci(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fa(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function _p(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return at({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(re(92));if(No(r)){if(1<r.length)throw Error(re(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fa(r)}}function _1(e,t){var r=Fa(t.value),n=Fa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function cb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function S1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?S1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dc,C1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dc=dc||document.createElement("div"),dc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Uo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IO=["Webkit","ms","Moz","O"];Object.keys(Eo).forEach(function(e){IO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Eo[t]=Eo[e]})});function P1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Eo.hasOwnProperty(e)&&Eo[e]?(""+t).trim():t+"px"}function E1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=P1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var MO=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cp(e,t){if(t){if(MO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function Pp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ep=null;function Mh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Op=null,di=null,ui=null;function db(e){if(e=kl(e)){if(typeof Op!="function")throw Error(re(280));var t=e.stateNode;t&&(t=Fu(t),Op(e.stateNode,e.type,t))}}function O1(e){di?ui?ui.push(e):ui=[e]:di=e}function A1(){if(di){var e=di,t=ui;if(ui=di=null,db(e),t)for(e=0;e<t.length;e++)db(t[e])}}function T1(e,t){return e(t)}function D1(){}var hf=!1;function I1(e,t,r){if(hf)return e(t,r);hf=!0;try{return T1(e,t,r)}finally{hf=!1,(di!==null||ui!==null)&&(D1(),A1())}}function Wo(e,t){var r=e.stateNode;if(r===null)return null;var n=Fu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(re(231,t,typeof r));return r}var Ap=!1;if(Yn)try{var so={};Object.defineProperty(so,"passive",{get:function(){Ap=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Ap=!1}function LO(e,t,r,n,s,i,o,l,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Oo=!1,hd=null,yd=!1,Tp=null,$O={onError:function(e){Oo=!0,hd=e}};function RO(e,t,r,n,s,i,o,l,d){Oo=!1,hd=null,LO.apply($O,arguments)}function zO(e,t,r,n,s,i,o,l,d){if(RO.apply(this,arguments),Oo){if(Oo){var c=hd;Oo=!1,hd=null}else throw Error(re(198));yd||(yd=!0,Tp=c)}}function zs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function M1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ub(e){if(zs(e)!==e)throw Error(re(188))}function FO(e){var t=e.alternate;if(!t){if(t=zs(e),t===null)throw Error(re(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return ub(s),e;if(i===n)return ub(s),t;i=i.sibling}throw Error(re(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?e:t}function L1(e){return e=FO(e),e!==null?$1(e):null}function $1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$1(e);if(t!==null)return t;e=e.sibling}return null}var R1=Dr.unstable_scheduleCallback,mb=Dr.unstable_cancelCallback,BO=Dr.unstable_shouldYield,UO=Dr.unstable_requestPaint,dt=Dr.unstable_now,WO=Dr.unstable_getCurrentPriorityLevel,Lh=Dr.unstable_ImmediatePriority,z1=Dr.unstable_UserBlockingPriority,gd=Dr.unstable_NormalPriority,KO=Dr.unstable_LowPriority,F1=Dr.unstable_IdlePriority,Lu=null,Pn=null;function HO(e){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Lu,e,void 0,(e.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:YO,VO=Math.log,qO=Math.LN2;function YO(e){return e>>>=0,e===0?32:31-(VO(e)/qO|0)|0}var uc=64,mc=4194304;function ko(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=ko(l):(i&=o,i!==0&&(n=ko(i)))}else o=r&~s,o!==0?n=ko(o):i!==0&&(n=ko(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mn(t),s=1<<r,n|=e[r],t&=~s;return n}function GO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XO(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-mn(i),l=1<<o,d=s[o];d===-1?(!(l&r)||l&n)&&(s[o]=GO(l,t)):d<=t&&(e.expiredLanes|=l),i&=~l}}function Dp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function B1(){var e=uc;return uc<<=1,!(uc&4194240)&&(uc=64),e}function yf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mn(t),e[t]=r}function QO(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-mn(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function $h(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-mn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Fe=0;function U1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var W1,Rh,K1,H1,V1,Ip=!1,fc=[],Ea=null,Oa=null,Aa=null,Ko=new Map,Ho=new Map,Na=[],ZO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fb(e,t){switch(e){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":Ko.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(t.pointerId)}}function io(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=kl(t),t!==null&&Rh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function JO(e,t,r,n,s){switch(t){case"focusin":return Ea=io(Ea,e,t,r,n,s),!0;case"dragenter":return Oa=io(Oa,e,t,r,n,s),!0;case"mouseover":return Aa=io(Aa,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ko.set(i,io(Ko.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ho.set(i,io(Ho.get(i)||null,e,t,r,n,s)),!0}return!1}function q1(e){var t=us(e.target);if(t!==null){var r=zs(t);if(r!==null){if(t=r.tag,t===13){if(t=M1(r),t!==null){e.blockedOn=t,V1(e.priority,function(){K1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Mp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ep=n,r.target.dispatchEvent(n),Ep=null}else return t=kl(r),t!==null&&Rh(t),e.blockedOn=r,!1;t.shift()}return!0}function pb(e,t,r){Yc(e)&&r.delete(t)}function eA(){Ip=!1,Ea!==null&&Yc(Ea)&&(Ea=null),Oa!==null&&Yc(Oa)&&(Oa=null),Aa!==null&&Yc(Aa)&&(Aa=null),Ko.forEach(pb),Ho.forEach(pb)}function oo(e,t){e.blockedOn===t&&(e.blockedOn=null,Ip||(Ip=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,eA)))}function Vo(e){function t(s){return oo(s,e)}if(0<fc.length){oo(fc[0],e);for(var r=1;r<fc.length;r++){var n=fc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ea!==null&&oo(Ea,e),Oa!==null&&oo(Oa,e),Aa!==null&&oo(Aa,e),Ko.forEach(t),Ho.forEach(t),r=0;r<Na.length;r++)n=Na[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Na.length&&(r=Na[0],r.blockedOn===null);)q1(r),r.blockedOn===null&&Na.shift()}var mi=la.ReactCurrentBatchConfig,bd=!0;function tA(e,t,r,n){var s=Fe,i=mi.transition;mi.transition=null;try{Fe=1,zh(e,t,r,n)}finally{Fe=s,mi.transition=i}}function rA(e,t,r,n){var s=Fe,i=mi.transition;mi.transition=null;try{Fe=4,zh(e,t,r,n)}finally{Fe=s,mi.transition=i}}function zh(e,t,r,n){if(bd){var s=Mp(e,t,r,n);if(s===null)Cf(e,t,n,jd,r),fb(e,n);else if(JO(s,e,t,r,n))n.stopPropagation();else if(fb(e,n),t&4&&-1<ZO.indexOf(e)){for(;s!==null;){var i=kl(s);if(i!==null&&W1(i),i=Mp(e,t,r,n),i===null&&Cf(e,t,n,jd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Cf(e,t,n,null,r)}}var jd=null;function Mp(e,t,r,n){if(jd=null,e=Mh(n),e=us(e),e!==null)if(t=zs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=M1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jd=e,null}function Y1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WO()){case Lh:return 1;case z1:return 4;case gd:case KO:return 16;case F1:return 536870912;default:return 16}default:return 16}}var Sa=null,Fh=null,Gc=null;function G1(){if(Gc)return Gc;var e,t=Fh,r=t.length,n,s="value"in Sa?Sa.value:Sa.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Gc=s.slice(e,1<n?1-n:void 0)}function Xc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pc(){return!0}function xb(){return!1}function Rr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pc:xb,this.isPropagationStopped=xb,this}return at(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),t}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bh=Rr(Fi),Nl=at({},Fi,{view:0,detail:0}),nA=Rr(Nl),gf,vf,lo,$u=at({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lo&&(lo&&e.type==="mousemove"?(gf=e.screenX-lo.screenX,vf=e.screenY-lo.screenY):vf=gf=0,lo=e),gf)},movementY:function(e){return"movementY"in e?e.movementY:vf}}),hb=Rr($u),aA=at({},$u,{dataTransfer:0}),sA=Rr(aA),iA=at({},Nl,{relatedTarget:0}),bf=Rr(iA),oA=at({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),lA=Rr(oA),cA=at({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dA=Rr(cA),uA=at({},Fi,{data:0}),yb=Rr(uA),mA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pA[e])?!!t[e]:!1}function Uh(){return xA}var hA=at({},Nl,{key:function(e){if(e.key){var t=mA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uh,charCode:function(e){return e.type==="keypress"?Xc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yA=Rr(hA),gA=at({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gb=Rr(gA),vA=at({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uh}),bA=Rr(vA),jA=at({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),wA=Rr(jA),NA=at({},$u,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kA=Rr(NA),_A=[9,13,27,32],Wh=Yn&&"CompositionEvent"in window,Ao=null;Yn&&"documentMode"in document&&(Ao=document.documentMode);var SA=Yn&&"TextEvent"in window&&!Ao,X1=Yn&&(!Wh||Ao&&8<Ao&&11>=Ao),vb=" ",bb=!1;function Q1(e,t){switch(e){case"keyup":return _A.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qs=!1;function CA(e,t){switch(e){case"compositionend":return Z1(t);case"keypress":return t.which!==32?null:(bb=!0,vb);case"textInput":return e=t.data,e===vb&&bb?null:e;default:return null}}function PA(e,t){if(Qs)return e==="compositionend"||!Wh&&Q1(e,t)?(e=G1(),Gc=Fh=Sa=null,Qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return X1&&t.locale!=="ko"?null:t.data;default:return null}}var EA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!EA[e.type]:t==="textarea"}function J1(e,t,r,n){O1(n),t=wd(t,"onChange"),0<t.length&&(r=new Bh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var To=null,qo=null;function OA(e){d2(e,0)}function Ru(e){var t=ei(e);if(N1(t))return e}function AA(e,t){if(e==="change")return t}var e2=!1;if(Yn){var jf;if(Yn){var wf="oninput"in document;if(!wf){var wb=document.createElement("div");wb.setAttribute("oninput","return;"),wf=typeof wb.oninput=="function"}jf=wf}else jf=!1;e2=jf&&(!document.documentMode||9<document.documentMode)}function Nb(){To&&(To.detachEvent("onpropertychange",t2),qo=To=null)}function t2(e){if(e.propertyName==="value"&&Ru(qo)){var t=[];J1(t,qo,e,Mh(e)),I1(OA,t)}}function TA(e,t,r){e==="focusin"?(Nb(),To=t,qo=r,To.attachEvent("onpropertychange",t2)):e==="focusout"&&Nb()}function DA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(qo)}function IA(e,t){if(e==="click")return Ru(t)}function MA(e,t){if(e==="input"||e==="change")return Ru(t)}function LA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:LA;function Yo(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!yp.call(t,s)||!xn(e[s],t[s]))return!1}return!0}function kb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _b(e,t){var r=kb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kb(r)}}function r2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?r2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function n2(){for(var e=window,t=xd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=xd(e.document)}return t}function Kh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $A(e){var t=n2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&r2(r.ownerDocument.documentElement,r)){if(n!==null&&Kh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=_b(r,i);var o=_b(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var RA=Yn&&"documentMode"in document&&11>=document.documentMode,Zs=null,Lp=null,Do=null,$p=!1;function Sb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$p||Zs==null||Zs!==xd(n)||(n=Zs,"selectionStart"in n&&Kh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Do&&Yo(Do,n)||(Do=n,n=wd(Lp,"onSelect"),0<n.length&&(t=new Bh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Zs)))}function xc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Js={animationend:xc("Animation","AnimationEnd"),animationiteration:xc("Animation","AnimationIteration"),animationstart:xc("Animation","AnimationStart"),transitionend:xc("Transition","TransitionEnd")},Nf={},a2={};Yn&&(a2=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function zu(e){if(Nf[e])return Nf[e];if(!Js[e])return e;var t=Js[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in a2)return Nf[e]=t[r];return e}var s2=zu("animationend"),i2=zu("animationiteration"),o2=zu("animationstart"),l2=zu("transitionend"),c2=new Map,Cb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ga(e,t){c2.set(e,t),Rs(t,[e])}for(var kf=0;kf<Cb.length;kf++){var _f=Cb[kf],zA=_f.toLowerCase(),FA=_f[0].toUpperCase()+_f.slice(1);Ga(zA,"on"+FA)}Ga(s2,"onAnimationEnd");Ga(i2,"onAnimationIteration");Ga(o2,"onAnimationStart");Ga("dblclick","onDoubleClick");Ga("focusin","onFocus");Ga("focusout","onBlur");Ga(l2,"onTransitionEnd");yi("onMouseEnter",["mouseout","mouseover"]);yi("onMouseLeave",["mouseout","mouseover"]);yi("onPointerEnter",["pointerout","pointerover"]);yi("onPointerLeave",["pointerout","pointerover"]);Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("cancel close invalid load scroll toggle".split(" ").concat(_o));function Pb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,zO(n,t,void 0,e),e.currentTarget=null}function d2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],d=l.instance,c=l.currentTarget;if(l=l.listener,d!==i&&s.isPropagationStopped())break e;Pb(s,l,c),i=d}else for(o=0;o<n.length;o++){if(l=n[o],d=l.instance,c=l.currentTarget,l=l.listener,d!==i&&s.isPropagationStopped())break e;Pb(s,l,c),i=d}}}if(yd)throw e=Tp,yd=!1,Tp=null,e}function qe(e,t){var r=t[Up];r===void 0&&(r=t[Up]=new Set);var n=e+"__bubble";r.has(n)||(u2(t,e,2,!1),r.add(n))}function Sf(e,t,r){var n=0;t&&(n|=4),u2(r,e,n,t)}var hc="_reactListening"+Math.random().toString(36).slice(2);function Go(e){if(!e[hc]){e[hc]=!0,g1.forEach(function(r){r!=="selectionchange"&&(BA.has(r)||Sf(r,!1,e),Sf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hc]||(t[hc]=!0,Sf("selectionchange",!1,t))}}function u2(e,t,r,n){switch(Y1(t)){case 1:var s=tA;break;case 4:s=rA;break;default:s=zh}r=s.bind(null,t,r,e),s=void 0,!Ap||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Cf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;o=o.return}for(;l!==null;){if(o=us(l),o===null)return;if(d=o.tag,d===5||d===6){n=i=o;continue e}l=l.parentNode}}n=n.return}I1(function(){var c=i,u=Mh(r),m=[];e:{var p=c2.get(e);if(p!==void 0){var x=Bh,y=e;switch(e){case"keypress":if(Xc(r)===0)break e;case"keydown":case"keyup":x=yA;break;case"focusin":y="focus",x=bf;break;case"focusout":y="blur",x=bf;break;case"beforeblur":case"afterblur":x=bf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=hb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=sA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=bA;break;case s2:case i2:case o2:x=lA;break;case l2:x=wA;break;case"scroll":x=nA;break;case"wheel":x=kA;break;case"copy":case"cut":case"paste":x=dA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=gb}var g=(t&4)!==0,v=!g&&e==="scroll",h=g?p!==null?p+"Capture":null:p;g=[];for(var b=c,j;b!==null;){j=b;var k=j.stateNode;if(j.tag===5&&k!==null&&(j=k,h!==null&&(k=Wo(b,h),k!=null&&g.push(Xo(b,k,j)))),v)break;b=b.return}0<g.length&&(p=new x(p,y,null,r,u),m.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&r!==Ep&&(y=r.relatedTarget||r.fromElement)&&(us(y)||y[Gn]))break e;if((x||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,x?(y=r.relatedTarget||r.toElement,x=c,y=y?us(y):null,y!==null&&(v=zs(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=c),x!==y)){if(g=hb,k="onMouseLeave",h="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=gb,k="onPointerLeave",h="onPointerEnter",b="pointer"),v=x==null?p:ei(x),j=y==null?p:ei(y),p=new g(k,b+"leave",x,r,u),p.target=v,p.relatedTarget=j,k=null,us(u)===c&&(g=new g(h,b+"enter",y,r,u),g.target=j,g.relatedTarget=v,k=g),v=k,x&&y)t:{for(g=x,h=y,b=0,j=g;j;j=Ws(j))b++;for(j=0,k=h;k;k=Ws(k))j++;for(;0<b-j;)g=Ws(g),b--;for(;0<j-b;)h=Ws(h),j--;for(;b--;){if(g===h||h!==null&&g===h.alternate)break t;g=Ws(g),h=Ws(h)}g=null}else g=null;x!==null&&Eb(m,p,x,g,!1),y!==null&&v!==null&&Eb(m,v,y,g,!0)}}e:{if(p=c?ei(c):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var N=AA;else if(jb(p))if(e2)N=MA;else{N=DA;var w=TA}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=IA);if(N&&(N=N(e,c))){J1(m,N,r,u);break e}w&&w(e,p,c),e==="focusout"&&(w=p._wrapperState)&&w.controlled&&p.type==="number"&&kp(p,"number",p.value)}switch(w=c?ei(c):window,e){case"focusin":(jb(w)||w.contentEditable==="true")&&(Zs=w,Lp=c,Do=null);break;case"focusout":Do=Lp=Zs=null;break;case"mousedown":$p=!0;break;case"contextmenu":case"mouseup":case"dragend":$p=!1,Sb(m,r,u);break;case"selectionchange":if(RA)break;case"keydown":case"keyup":Sb(m,r,u)}var P;if(Wh)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Qs?Q1(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(X1&&r.locale!=="ko"&&(Qs||_!=="onCompositionStart"?_==="onCompositionEnd"&&Qs&&(P=G1()):(Sa=u,Fh="value"in Sa?Sa.value:Sa.textContent,Qs=!0)),w=wd(c,_),0<w.length&&(_=new yb(_,e,null,r,u),m.push({event:_,listeners:w}),P?_.data=P:(P=Z1(r),P!==null&&(_.data=P)))),(P=SA?CA(e,r):PA(e,r))&&(c=wd(c,"onBeforeInput"),0<c.length&&(u=new yb("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:c}),u.data=P))}d2(m,t)})}function Xo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Wo(e,r),i!=null&&n.unshift(Xo(e,i,s)),i=Wo(e,t),i!=null&&n.push(Xo(e,i,s))),e=e.return}return n}function Ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Eb(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,d=l.alternate,c=l.stateNode;if(d!==null&&d===n)break;l.tag===5&&c!==null&&(l=c,s?(d=Wo(r,i),d!=null&&o.unshift(Xo(r,d,l))):s||(d=Wo(r,i),d!=null&&o.push(Xo(r,d,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var UA=/\r\n?/g,WA=/\u0000|\uFFFD/g;function Ob(e){return(typeof e=="string"?e:""+e).replace(UA,`
`).replace(WA,"")}function yc(e,t,r){if(t=Ob(t),Ob(e)!==t&&r)throw Error(re(425))}function Nd(){}var Rp=null,zp=null;function Fp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bp=typeof setTimeout=="function"?setTimeout:void 0,KA=typeof clearTimeout=="function"?clearTimeout:void 0,Ab=typeof Promise=="function"?Promise:void 0,HA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ab<"u"?function(e){return Ab.resolve(null).then(e).catch(VA)}:Bp;function VA(e){setTimeout(function(){throw e})}function Pf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Vo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Vo(t)}function Ta(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Bi,Qo="__reactProps$"+Bi,Gn="__reactContainer$"+Bi,Up="__reactEvents$"+Bi,qA="__reactListeners$"+Bi,YA="__reactHandles$"+Bi;function us(e){var t=e[Sn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Gn]||r[Sn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Tb(e);e!==null;){if(r=e[Sn])return r;e=Tb(e)}return t}e=r,r=e.parentNode}return null}function kl(e){return e=e[Sn]||e[Gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ei(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function Fu(e){return e[Qo]||null}var Wp=[],ti=-1;function Xa(e){return{current:e}}function Ge(e){0>ti||(e.current=Wp[ti],Wp[ti]=null,ti--)}function He(e,t){ti++,Wp[ti]=e.current,e.current=t}var Ba={},rr=Xa(Ba),gr=Xa(!1),_s=Ba;function gi(e,t){var r=e.type.contextTypes;if(!r)return Ba;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function vr(e){return e=e.childContextTypes,e!=null}function kd(){Ge(gr),Ge(rr)}function Db(e,t,r){if(rr.current!==Ba)throw Error(re(168));He(rr,t),He(gr,r)}function m2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(re(108,TO(e)||"Unknown",s));return at({},r,n)}function _d(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ba,_s=rr.current,He(rr,e),He(gr,gr.current),!0}function Ib(e,t,r){var n=e.stateNode;if(!n)throw Error(re(169));r?(e=m2(e,t,_s),n.__reactInternalMemoizedMergedChildContext=e,Ge(gr),Ge(rr),He(rr,e)):Ge(gr),He(gr,r)}var Ln=null,Bu=!1,Ef=!1;function f2(e){Ln===null?Ln=[e]:Ln.push(e)}function GA(e){Bu=!0,f2(e)}function Qa(){if(!Ef&&Ln!==null){Ef=!0;var e=0,t=Fe;try{var r=Ln;for(Fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ln=null,Bu=!1}catch(s){throw Ln!==null&&(Ln=Ln.slice(e+1)),R1(Lh,Qa),s}finally{Fe=t,Ef=!1}}return null}var ri=[],ni=0,Sd=null,Cd=0,Kr=[],Hr=0,Ss=null,Fn=1,Bn="";function is(e,t){ri[ni++]=Cd,ri[ni++]=Sd,Sd=e,Cd=t}function p2(e,t,r){Kr[Hr++]=Fn,Kr[Hr++]=Bn,Kr[Hr++]=Ss,Ss=e;var n=Fn;e=Bn;var s=32-mn(n)-1;n&=~(1<<s),r+=1;var i=32-mn(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Fn=1<<32-mn(t)+s|r<<s|n,Bn=i+e}else Fn=1<<i|r<<s|n,Bn=e}function Hh(e){e.return!==null&&(is(e,1),p2(e,1,0))}function Vh(e){for(;e===Sd;)Sd=ri[--ni],ri[ni]=null,Cd=ri[--ni],ri[ni]=null;for(;e===Ss;)Ss=Kr[--Hr],Kr[Hr]=null,Bn=Kr[--Hr],Kr[Hr]=null,Fn=Kr[--Hr],Kr[Hr]=null}var Ar=null,Er=null,Ze=!1,ln=null;function x2(e,t){var r=Vr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Mb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ar=e,Er=Ta(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ar=e,Er=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ss!==null?{id:Fn,overflow:Bn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Vr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ar=e,Er=null,!0):!1;default:return!1}}function Kp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hp(e){if(Ze){var t=Er;if(t){var r=t;if(!Mb(e,t)){if(Kp(e))throw Error(re(418));t=Ta(r.nextSibling);var n=Ar;t&&Mb(e,t)?x2(n,r):(e.flags=e.flags&-4097|2,Ze=!1,Ar=e)}}else{if(Kp(e))throw Error(re(418));e.flags=e.flags&-4097|2,Ze=!1,Ar=e}}}function Lb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ar=e}function gc(e){if(e!==Ar)return!1;if(!Ze)return Lb(e),Ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fp(e.type,e.memoizedProps)),t&&(t=Er)){if(Kp(e))throw h2(),Error(re(418));for(;t;)x2(e,t),t=Ta(t.nextSibling)}if(Lb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Er=Ta(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Er=null}}else Er=Ar?Ta(e.stateNode.nextSibling):null;return!0}function h2(){for(var e=Er;e;)e=Ta(e.nextSibling)}function vi(){Er=Ar=null,Ze=!1}function qh(e){ln===null?ln=[e]:ln.push(e)}var XA=la.ReactCurrentBatchConfig;function co(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,e))}return e}function vc(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $b(e){var t=e._init;return t(e._payload)}function y2(e){function t(h,b){if(e){var j=h.deletions;j===null?(h.deletions=[b],h.flags|=16):j.push(b)}}function r(h,b){if(!e)return null;for(;b!==null;)t(h,b),b=b.sibling;return null}function n(h,b){for(h=new Map;b!==null;)b.key!==null?h.set(b.key,b):h.set(b.index,b),b=b.sibling;return h}function s(h,b){return h=La(h,b),h.index=0,h.sibling=null,h}function i(h,b,j){return h.index=j,e?(j=h.alternate,j!==null?(j=j.index,j<b?(h.flags|=2,b):j):(h.flags|=2,b)):(h.flags|=1048576,b)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,b,j,k){return b===null||b.tag!==6?(b=Lf(j,h.mode,k),b.return=h,b):(b=s(b,j),b.return=h,b)}function d(h,b,j,k){var N=j.type;return N===Xs?u(h,b,j.props.children,k,j.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===va&&$b(N)===b.type)?(k=s(b,j.props),k.ref=co(h,b,j),k.return=h,k):(k=nd(j.type,j.key,j.props,null,h.mode,k),k.ref=co(h,b,j),k.return=h,k)}function c(h,b,j,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=$f(j,h.mode,k),b.return=h,b):(b=s(b,j.children||[]),b.return=h,b)}function u(h,b,j,k,N){return b===null||b.tag!==7?(b=vs(j,h.mode,k,N),b.return=h,b):(b=s(b,j),b.return=h,b)}function m(h,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Lf(""+b,h.mode,j),b.return=h,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lc:return j=nd(b.type,b.key,b.props,null,h.mode,j),j.ref=co(h,null,b),j.return=h,j;case Gs:return b=$f(b,h.mode,j),b.return=h,b;case va:var k=b._init;return m(h,k(b._payload),j)}if(No(b)||ao(b))return b=vs(b,h.mode,j,null),b.return=h,b;vc(h,b)}return null}function p(h,b,j,k){var N=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:l(h,b,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case lc:return j.key===N?d(h,b,j,k):null;case Gs:return j.key===N?c(h,b,j,k):null;case va:return N=j._init,p(h,b,N(j._payload),k)}if(No(j)||ao(j))return N!==null?null:u(h,b,j,k,null);vc(h,j)}return null}function x(h,b,j,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return h=h.get(j)||null,l(b,h,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case lc:return h=h.get(k.key===null?j:k.key)||null,d(b,h,k,N);case Gs:return h=h.get(k.key===null?j:k.key)||null,c(b,h,k,N);case va:var w=k._init;return x(h,b,j,w(k._payload),N)}if(No(k)||ao(k))return h=h.get(j)||null,u(b,h,k,N,null);vc(b,k)}return null}function y(h,b,j,k){for(var N=null,w=null,P=b,_=b=0,C=null;P!==null&&_<j.length;_++){P.index>_?(C=P,P=null):C=P.sibling;var O=p(h,P,j[_],k);if(O===null){P===null&&(P=C);break}e&&P&&O.alternate===null&&t(h,P),b=i(O,b,_),w===null?N=O:w.sibling=O,w=O,P=C}if(_===j.length)return r(h,P),Ze&&is(h,_),N;if(P===null){for(;_<j.length;_++)P=m(h,j[_],k),P!==null&&(b=i(P,b,_),w===null?N=P:w.sibling=P,w=P);return Ze&&is(h,_),N}for(P=n(h,P);_<j.length;_++)C=x(P,h,_,j[_],k),C!==null&&(e&&C.alternate!==null&&P.delete(C.key===null?_:C.key),b=i(C,b,_),w===null?N=C:w.sibling=C,w=C);return e&&P.forEach(function(S){return t(h,S)}),Ze&&is(h,_),N}function g(h,b,j,k){var N=ao(j);if(typeof N!="function")throw Error(re(150));if(j=N.call(j),j==null)throw Error(re(151));for(var w=N=null,P=b,_=b=0,C=null,O=j.next();P!==null&&!O.done;_++,O=j.next()){P.index>_?(C=P,P=null):C=P.sibling;var S=p(h,P,O.value,k);if(S===null){P===null&&(P=C);break}e&&P&&S.alternate===null&&t(h,P),b=i(S,b,_),w===null?N=S:w.sibling=S,w=S,P=C}if(O.done)return r(h,P),Ze&&is(h,_),N;if(P===null){for(;!O.done;_++,O=j.next())O=m(h,O.value,k),O!==null&&(b=i(O,b,_),w===null?N=O:w.sibling=O,w=O);return Ze&&is(h,_),N}for(P=n(h,P);!O.done;_++,O=j.next())O=x(P,h,_,O.value,k),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?_:O.key),b=i(O,b,_),w===null?N=O:w.sibling=O,w=O);return e&&P.forEach(function(E){return t(h,E)}),Ze&&is(h,_),N}function v(h,b,j,k){if(typeof j=="object"&&j!==null&&j.type===Xs&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case lc:e:{for(var N=j.key,w=b;w!==null;){if(w.key===N){if(N=j.type,N===Xs){if(w.tag===7){r(h,w.sibling),b=s(w,j.props.children),b.return=h,h=b;break e}}else if(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===va&&$b(N)===w.type){r(h,w.sibling),b=s(w,j.props),b.ref=co(h,w,j),b.return=h,h=b;break e}r(h,w);break}else t(h,w);w=w.sibling}j.type===Xs?(b=vs(j.props.children,h.mode,k,j.key),b.return=h,h=b):(k=nd(j.type,j.key,j.props,null,h.mode,k),k.ref=co(h,b,j),k.return=h,h=k)}return o(h);case Gs:e:{for(w=j.key;b!==null;){if(b.key===w)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(h,b.sibling),b=s(b,j.children||[]),b.return=h,h=b;break e}else{r(h,b);break}else t(h,b);b=b.sibling}b=$f(j,h.mode,k),b.return=h,h=b}return o(h);case va:return w=j._init,v(h,b,w(j._payload),k)}if(No(j))return y(h,b,j,k);if(ao(j))return g(h,b,j,k);vc(h,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(h,b.sibling),b=s(b,j),b.return=h,h=b):(r(h,b),b=Lf(j,h.mode,k),b.return=h,h=b),o(h)):r(h,b)}return v}var bi=y2(!0),g2=y2(!1),Pd=Xa(null),Ed=null,ai=null,Yh=null;function Gh(){Yh=ai=Ed=null}function Xh(e){var t=Pd.current;Ge(Pd),e._currentValue=t}function Vp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function fi(e,t){Ed=e,Yh=ai=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hr=!0),e.firstContext=null)}function Gr(e){var t=e._currentValue;if(Yh!==e)if(e={context:e,memoizedValue:t,next:null},ai===null){if(Ed===null)throw Error(re(308));ai=e,Ed.dependencies={lanes:0,firstContext:e}}else ai=ai.next=e;return t}var ms=null;function Qh(e){ms===null?ms=[e]:ms.push(e)}function v2(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Qh(t)):(r.next=s.next,s.next=r),t.interleaved=r,Xn(e,n)}function Xn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ba=!1;function Zh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,De&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Xn(e,r)}return s=n.interleaved,s===null?(t.next=t,Qh(n)):(t.next=s.next,s.next=t),n.interleaved=t,Xn(e,r)}function Qc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$h(e,r)}}function Rb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Od(e,t,r,n){var s=e.updateQueue;ba=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var d=l,c=d.next;d.next=null,o===null?i=c:o.next=c,o=d;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=d))}if(i!==null){var m=s.baseState;o=0,u=c=d=null,l=i;do{var p=l.lane,x=l.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(p=t,x=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){m=y.call(x,m,p);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(x,m,p):y,p==null)break e;m=at({},m,p);break e;case 2:ba=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else x={eventTime:x,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=x,d=m):u=u.next=x,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(d=m),s.baseState=d,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ps|=o,e.lanes=o,e.memoizedState=m}}function zb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(re(191,s));s.call(n)}}}var _l={},En=Xa(_l),Zo=Xa(_l),Jo=Xa(_l);function fs(e){if(e===_l)throw Error(re(174));return e}function Jh(e,t){switch(He(Jo,t),He(Zo,e),He(En,_l),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sp(t,e)}Ge(En),He(En,t)}function ji(){Ge(En),Ge(Zo),Ge(Jo)}function j2(e){fs(Jo.current);var t=fs(En.current),r=Sp(t,e.type);t!==r&&(He(Zo,e),He(En,r))}function ey(e){Zo.current===e&&(Ge(En),Ge(Zo))}var rt=Xa(0);function Ad(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Of=[];function ty(){for(var e=0;e<Of.length;e++)Of[e]._workInProgressVersionPrimary=null;Of.length=0}var Zc=la.ReactCurrentDispatcher,Af=la.ReactCurrentBatchConfig,Cs=0,nt=null,wt=null,It=null,Td=!1,Io=!1,el=0,QA=0;function Gt(){throw Error(re(321))}function ry(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xn(e[r],t[r]))return!1;return!0}function ny(e,t,r,n,s,i){if(Cs=i,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zc.current=e===null||e.memoizedState===null?t3:r3,e=r(n,s),Io){i=0;do{if(Io=!1,el=0,25<=i)throw Error(re(301));i+=1,It=wt=null,t.updateQueue=null,Zc.current=n3,e=r(n,s)}while(Io)}if(Zc.current=Dd,t=wt!==null&&wt.next!==null,Cs=0,It=wt=nt=null,Td=!1,t)throw Error(re(300));return e}function ay(){var e=el!==0;return el=0,e}function kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?nt.memoizedState=It=e:It=It.next=e,It}function Xr(){if(wt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=It===null?nt.memoizedState:It.next;if(t!==null)It=t,wt=e;else{if(e===null)throw Error(re(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},It===null?nt.memoizedState=It=e:It=It.next=e}return It}function tl(e,t){return typeof t=="function"?t(e):t}function Tf(e){var t=Xr(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=wt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,d=null,c=i;do{var u=c.lane;if((Cs&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var m={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(l=d=m,o=n):d=d.next=m,nt.lanes|=u,Ps|=u}c=c.next}while(c!==null&&c!==i);d===null?o=n:d.next=l,xn(n,t.memoizedState)||(hr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,nt.lanes|=i,Ps|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Df(e){var t=Xr(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);xn(i,t.memoizedState)||(hr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function w2(){}function N2(e,t){var r=nt,n=Xr(),s=t(),i=!xn(n.memoizedState,s);if(i&&(n.memoizedState=s,hr=!0),n=n.queue,sy(S2.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||It!==null&&It.memoizedState.tag&1){if(r.flags|=2048,rl(9,_2.bind(null,r,n,s,t),void 0,null),Lt===null)throw Error(re(349));Cs&30||k2(r,t,s)}return s}function k2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function _2(e,t,r,n){t.value=r,t.getSnapshot=n,C2(t)&&P2(e)}function S2(e,t,r){return r(function(){C2(t)&&P2(e)})}function C2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xn(e,r)}catch{return!0}}function P2(e){var t=Xn(e,1);t!==null&&fn(t,e,1,-1)}function Fb(e){var t=kn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:e},t.queue=e,e=e.dispatch=e3.bind(null,nt,e),[t.memoizedState,e]}function rl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function E2(){return Xr().memoizedState}function Jc(e,t,r,n){var s=kn();nt.flags|=e,s.memoizedState=rl(1|t,r,void 0,n===void 0?null:n)}function Uu(e,t,r,n){var s=Xr();n=n===void 0?null:n;var i=void 0;if(wt!==null){var o=wt.memoizedState;if(i=o.destroy,n!==null&&ry(n,o.deps)){s.memoizedState=rl(t,r,i,n);return}}nt.flags|=e,s.memoizedState=rl(1|t,r,i,n)}function Bb(e,t){return Jc(8390656,8,e,t)}function sy(e,t){return Uu(2048,8,e,t)}function O2(e,t){return Uu(4,2,e,t)}function A2(e,t){return Uu(4,4,e,t)}function T2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function D2(e,t,r){return r=r!=null?r.concat([e]):null,Uu(4,4,T2.bind(null,t,e),r)}function iy(){}function I2(e,t){var r=Xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ry(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function M2(e,t){var r=Xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ry(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function L2(e,t,r){return Cs&21?(xn(r,t)||(r=B1(),nt.lanes|=r,Ps|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hr=!0),e.memoizedState=r)}function ZA(e,t){var r=Fe;Fe=r!==0&&4>r?r:4,e(!0);var n=Af.transition;Af.transition={};try{e(!1),t()}finally{Fe=r,Af.transition=n}}function $2(){return Xr().memoizedState}function JA(e,t,r){var n=Ma(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},R2(e))z2(t,r);else if(r=v2(e,t,r,n),r!==null){var s=lr();fn(r,e,n,s),F2(r,t,n)}}function e3(e,t,r){var n=Ma(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(R2(e))z2(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,xn(l,o)){var d=t.interleaved;d===null?(s.next=s,Qh(t)):(s.next=d.next,d.next=s),t.interleaved=s;return}}catch{}finally{}r=v2(e,t,s,n),r!==null&&(s=lr(),fn(r,e,n,s),F2(r,t,n))}}function R2(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function z2(e,t){Io=Td=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function F2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$h(e,r)}}var Dd={readContext:Gr,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},t3={readContext:Gr,useCallback:function(e,t){return kn().memoizedState=[e,t===void 0?null:t],e},useContext:Gr,useEffect:Bb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Jc(4194308,4,T2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Jc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jc(4,2,e,t)},useMemo:function(e,t){var r=kn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=kn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=JA.bind(null,nt,e),[n.memoizedState,e]},useRef:function(e){var t=kn();return e={current:e},t.memoizedState=e},useState:Fb,useDebugValue:iy,useDeferredValue:function(e){return kn().memoizedState=e},useTransition:function(){var e=Fb(!1),t=e[0];return e=ZA.bind(null,e[1]),kn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=nt,s=kn();if(Ze){if(r===void 0)throw Error(re(407));r=r()}else{if(r=t(),Lt===null)throw Error(re(349));Cs&30||k2(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Bb(S2.bind(null,n,i,e),[e]),n.flags|=2048,rl(9,_2.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=kn(),t=Lt.identifierPrefix;if(Ze){var r=Bn,n=Fn;r=(n&~(1<<32-mn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=el++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=QA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},r3={readContext:Gr,useCallback:I2,useContext:Gr,useEffect:sy,useImperativeHandle:D2,useInsertionEffect:O2,useLayoutEffect:A2,useMemo:M2,useReducer:Tf,useRef:E2,useState:function(){return Tf(tl)},useDebugValue:iy,useDeferredValue:function(e){var t=Xr();return L2(t,wt.memoizedState,e)},useTransition:function(){var e=Tf(tl)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:w2,useSyncExternalStore:N2,useId:$2,unstable_isNewReconciler:!1},n3={readContext:Gr,useCallback:I2,useContext:Gr,useEffect:sy,useImperativeHandle:D2,useInsertionEffect:O2,useLayoutEffect:A2,useMemo:M2,useReducer:Df,useRef:E2,useState:function(){return Df(tl)},useDebugValue:iy,useDeferredValue:function(e){var t=Xr();return wt===null?t.memoizedState=e:L2(t,wt.memoizedState,e)},useTransition:function(){var e=Df(tl)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:w2,useSyncExternalStore:N2,useId:$2,unstable_isNewReconciler:!1};function sn(e,t){if(e&&e.defaultProps){t=at({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function qp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:at({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Wu={isMounted:function(e){return(e=e._reactInternals)?zs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=lr(),s=Ma(e),i=Kn(n,s);i.payload=t,r!=null&&(i.callback=r),t=Da(e,i,s),t!==null&&(fn(t,e,s,n),Qc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=lr(),s=Ma(e),i=Kn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Da(e,i,s),t!==null&&(fn(t,e,s,n),Qc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=lr(),n=Ma(e),s=Kn(r,n);s.tag=2,t!=null&&(s.callback=t),t=Da(e,s,n),t!==null&&(fn(t,e,n,r),Qc(t,e,n))}};function Ub(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Yo(r,n)||!Yo(s,i):!0}function B2(e,t,r){var n=!1,s=Ba,i=t.contextType;return typeof i=="object"&&i!==null?i=Gr(i):(s=vr(t)?_s:rr.current,n=t.contextTypes,i=(n=n!=null)?gi(e,s):Ba),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Wb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Wu.enqueueReplaceState(t,t.state,null)}function Yp(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Zh(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Gr(i):(i=vr(t)?_s:rr.current,s.context=gi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(qp(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Wu.enqueueReplaceState(s,s.state,null),Od(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function wi(e,t){try{var r="",n=t;do r+=AO(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function If(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Gp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var a3=typeof WeakMap=="function"?WeakMap:Map;function U2(e,t,r){r=Kn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Md||(Md=!0,sx=n),Gp(e,t)},r}function W2(e,t,r){r=Kn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Gp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Gp(e,t),typeof n!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Kb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new a3;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=g3.bind(null,e,t,r),t.then(e,e))}function Hb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vb(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Kn(-1,1),t.tag=2,Da(r,t,1))),r.lanes|=1),e)}var s3=la.ReactCurrentOwner,hr=!1;function ar(e,t,r,n){t.child=e===null?g2(t,null,r,n):bi(t,e.child,r,n)}function qb(e,t,r,n,s){r=r.render;var i=t.ref;return fi(t,s),n=ny(e,t,r,n,i,s),r=ay(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qn(e,t,s)):(Ze&&r&&Hh(t),t.flags|=1,ar(e,t,n,s),t.child)}function Yb(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!py(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,K2(e,t,i,n,s)):(e=nd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Yo,r(o,n)&&e.ref===t.ref)return Qn(e,t,s)}return t.flags|=1,e=La(i,n),e.ref=t.ref,e.return=t,t.child=e}function K2(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Yo(i,n)&&e.ref===t.ref)if(hr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(hr=!0);else return t.lanes=e.lanes,Qn(e,t,s)}return Xp(e,t,r,n,s)}function H2(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(ii,Sr),Sr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(ii,Sr),Sr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,He(ii,Sr),Sr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,He(ii,Sr),Sr|=n;return ar(e,t,s,r),t.child}function V2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Xp(e,t,r,n,s){var i=vr(r)?_s:rr.current;return i=gi(t,i),fi(t,s),r=ny(e,t,r,n,i,s),n=ay(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qn(e,t,s)):(Ze&&n&&Hh(t),t.flags|=1,ar(e,t,r,s),t.child)}function Gb(e,t,r,n,s){if(vr(r)){var i=!0;_d(t)}else i=!1;if(fi(t,s),t.stateNode===null)ed(e,t),B2(t,r,n),Yp(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var d=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Gr(c):(c=vr(r)?_s:rr.current,c=gi(t,c));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||d!==c)&&Wb(t,o,n,c),ba=!1;var p=t.memoizedState;o.state=p,Od(t,n,o,s),d=t.memoizedState,l!==n||p!==d||gr.current||ba?(typeof u=="function"&&(qp(t,r,u,n),d=t.memoizedState),(l=ba||Ub(t,r,l,n,p,d,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),o.props=n,o.state=d,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,b2(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:sn(t.type,l),o.props=c,m=t.pendingProps,p=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=Gr(d):(d=vr(r)?_s:rr.current,d=gi(t,d));var x=r.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==d)&&Wb(t,o,n,d),ba=!1,p=t.memoizedState,o.state=p,Od(t,n,o,s);var y=t.memoizedState;l!==m||p!==y||gr.current||ba?(typeof x=="function"&&(qp(t,r,x,n),y=t.memoizedState),(c=ba||Ub(t,r,c,n,p,y,d)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=d,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Qp(e,t,r,n,i,s)}function Qp(e,t,r,n,s,i){V2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Ib(t,r,!1),Qn(e,t,i);n=t.stateNode,s3.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,l,i)):ar(e,t,l,i),t.memoizedState=n.state,s&&Ib(t,r,!0),t.child}function q2(e){var t=e.stateNode;t.pendingContext?Db(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Db(e,t.context,!1),Jh(e,t.containerInfo)}function Xb(e,t,r,n,s){return vi(),qh(s),t.flags|=256,ar(e,t,r,n),t.child}var Zp={dehydrated:null,treeContext:null,retryLane:0};function Jp(e){return{baseLanes:e,cachePool:null,transitions:null}}function Y2(e,t,r){var n=t.pendingProps,s=rt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),He(rt,s&1),e===null)return Hp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vu(o,n,0,null),e=vs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Jp(r),t.memoizedState=Zp,e):oy(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return i3(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var d={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=La(s,d),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=La(l,i):(i=vs(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Jp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Zp,n}return i=e.child,e=i.sibling,n=La(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function oy(e,t){return t=Vu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bc(e,t,r,n){return n!==null&&qh(n),bi(t,e.child,null,r),e=oy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function i3(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=If(Error(re(422))),bc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Vu({mode:"visible",children:n.children},s,0,null),i=vs(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&bi(t,e.child,null,o),t.child.memoizedState=Jp(o),t.memoizedState=Zp,i);if(!(t.mode&1))return bc(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(re(419)),n=If(i,n,void 0),bc(e,t,o,n)}if(l=(o&e.childLanes)!==0,hr||l){if(n=Lt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xn(e,s),fn(n,e,s,-1))}return fy(),n=If(Error(re(421))),bc(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=v3.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Er=Ta(s.nextSibling),Ar=t,Ze=!0,ln=null,e!==null&&(Kr[Hr++]=Fn,Kr[Hr++]=Bn,Kr[Hr++]=Ss,Fn=e.id,Bn=e.overflow,Ss=t),t=oy(t,n.children),t.flags|=4096,t)}function Qb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Vp(e.return,t,r)}function Mf(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function G2(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ar(e,t,n.children,r),n=rt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qb(e,r,t);else if(e.tag===19)Qb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(He(rt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ad(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Mf(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ad(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Mf(t,!0,r,null,i);break;case"together":Mf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ed(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ps|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,r=La(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=La(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function o3(e,t,r){switch(t.tag){case 3:q2(t),vi();break;case 5:j2(t);break;case 1:vr(t.type)&&_d(t);break;case 4:Jh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;He(Pd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(He(rt,rt.current&1),t.flags|=128,null):r&t.child.childLanes?Y2(e,t,r):(He(rt,rt.current&1),e=Qn(e,t,r),e!==null?e.sibling:null);He(rt,rt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return G2(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(rt,rt.current),n)break;return null;case 22:case 23:return t.lanes=0,H2(e,t,r)}return Qn(e,t,r)}var X2,ex,Q2,Z2;X2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ex=function(){};Q2=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,fs(En.current);var i=null;switch(r){case"input":s=wp(e,s),n=wp(e,n),i=[];break;case"select":s=at({},s,{value:void 0}),n=at({},n,{value:void 0}),i=[];break;case"textarea":s=_p(e,s),n=_p(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Nd)}Cp(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var d=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&d!==l&&(d!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(i||(i=[]),i.push(c,r)),r=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bo.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&qe("scroll",e),i||l===d||(i=[])):(i=i||[]).push(c,d))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Z2=function(e,t,r,n){r!==n&&(t.flags|=4)};function uo(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function l3(e,t,r){var n=t.pendingProps;switch(Vh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(t),null;case 1:return vr(t.type)&&kd(),Xt(t),null;case 3:return n=t.stateNode,ji(),Ge(gr),Ge(rr),ty(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(gc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ln!==null&&(lx(ln),ln=null))),ex(e,t),Xt(t),null;case 5:ey(t);var s=fs(Jo.current);if(r=t.type,e!==null&&t.stateNode!=null)Q2(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(re(166));return Xt(t),null}if(e=fs(En.current),gc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Sn]=t,n[Qo]=i,e=(t.mode&1)!==0,r){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(s=0;s<_o.length;s++)qe(_o[s],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":ib(n,i),qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},qe("invalid",n);break;case"textarea":lb(n,i),qe("invalid",n)}Cp(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&yc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&yc(n.textContent,l,e),s=["children",""+l]):Bo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&qe("scroll",n)}switch(r){case"input":cc(n),ob(n,i,!0);break;case"textarea":cc(n),cb(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Nd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=S1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Sn]=t,e[Qo]=n,X2(e,t,!1,!1),t.stateNode=e;e:{switch(o=Pp(r,n),r){case"dialog":qe("cancel",e),qe("close",e),s=n;break;case"iframe":case"object":case"embed":qe("load",e),s=n;break;case"video":case"audio":for(s=0;s<_o.length;s++)qe(_o[s],e);s=n;break;case"source":qe("error",e),s=n;break;case"img":case"image":case"link":qe("error",e),qe("load",e),s=n;break;case"details":qe("toggle",e),s=n;break;case"input":ib(e,n),s=wp(e,n),qe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=at({},n,{value:void 0}),qe("invalid",e);break;case"textarea":lb(e,n),s=_p(e,n),qe("invalid",e);break;default:s=n}Cp(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="style"?E1(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&C1(e,d)):i==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Uo(e,d):typeof d=="number"&&Uo(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bo.hasOwnProperty(i)?d!=null&&i==="onScroll"&&qe("scroll",e):d!=null&&Ah(e,i,d,o))}switch(r){case"input":cc(e),ob(e,n,!1);break;case"textarea":cc(e),cb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fa(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ci(e,!!n.multiple,i,!1):n.defaultValue!=null&&ci(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Nd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xt(t),null;case 6:if(e&&t.stateNode!=null)Z2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(re(166));if(r=fs(Jo.current),fs(En.current),gc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Sn]=t,(i=n.nodeValue!==r)&&(e=Ar,e!==null))switch(e.tag){case 3:yc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Sn]=t,t.stateNode=n}return Xt(t),null;case 13:if(Ge(rt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ze&&Er!==null&&t.mode&1&&!(t.flags&128))h2(),vi(),t.flags|=98560,i=!1;else if(i=gc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(re(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(re(317));i[Sn]=t}else vi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xt(t),i=!1}else ln!==null&&(lx(ln),ln=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?kt===0&&(kt=3):fy())),t.updateQueue!==null&&(t.flags|=4),Xt(t),null);case 4:return ji(),ex(e,t),e===null&&Go(t.stateNode.containerInfo),Xt(t),null;case 10:return Xh(t.type._context),Xt(t),null;case 17:return vr(t.type)&&kd(),Xt(t),null;case 19:if(Ge(rt),i=t.memoizedState,i===null)return Xt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)uo(i,!1);else{if(kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ad(e),o!==null){for(t.flags|=128,uo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return He(rt,rt.current&1|2),t.child}e=e.sibling}i.tail!==null&&dt()>Ni&&(t.flags|=128,n=!0,uo(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ad(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),uo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ze)return Xt(t),null}else 2*dt()-i.renderingStartTime>Ni&&r!==1073741824&&(t.flags|=128,n=!0,uo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=dt(),t.sibling=null,r=rt.current,He(rt,n?r&1|2:r&1),t):(Xt(t),null);case 22:case 23:return my(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Sr&1073741824&&(Xt(t),t.subtreeFlags&6&&(t.flags|=8192)):Xt(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function c3(e,t){switch(Vh(t),t.tag){case 1:return vr(t.type)&&kd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ji(),Ge(gr),Ge(rr),ty(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ey(t),null;case 13:if(Ge(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(rt),null;case 4:return ji(),null;case 10:return Xh(t.type._context),null;case 22:case 23:return my(),null;case 24:return null;default:return null}}var jc=!1,Zt=!1,d3=typeof WeakSet=="function"?WeakSet:Set,me=null;function si(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ot(e,t,n)}else r.current=null}function tx(e,t,r){try{r()}catch(n){ot(e,t,n)}}var Zb=!1;function u3(e,t){if(Rp=bd,e=n2(),Kh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,d=-1,c=0,u=0,m=e,p=null;t:for(;;){for(var x;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==i||n!==0&&m.nodeType!==3||(d=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(x=m.firstChild)!==null;)p=m,m=x;for(;;){if(m===e)break t;if(p===r&&++c===s&&(l=o),p===i&&++u===n&&(d=o),(x=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=x}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(zp={focusedElem:e,selectionRange:r},bd=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,h=t.stateNode,b=h.getSnapshotBeforeUpdate(t.elementType===t.type?g:sn(t.type,g),v);h.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(k){ot(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return y=Zb,Zb=!1,y}function Mo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&tx(t,r,i)}s=s.next}while(s!==n)}}function Ku(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function rx(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function J2(e){var t=e.alternate;t!==null&&(e.alternate=null,J2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sn],delete t[Qo],delete t[Up],delete t[qA],delete t[YA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ek(e){return e.tag===5||e.tag===3||e.tag===4}function Jb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ek(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Nd));else if(n!==4&&(e=e.child,e!==null))for(nx(e,t,r),e=e.sibling;e!==null;)nx(e,t,r),e=e.sibling}function ax(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ax(e,t,r),e=e.sibling;e!==null;)ax(e,t,r),e=e.sibling}var Ut=null,on=!1;function ya(e,t,r){for(r=r.child;r!==null;)tk(e,t,r),r=r.sibling}function tk(e,t,r){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Lu,r)}catch{}switch(r.tag){case 5:Zt||si(r,t);case 6:var n=Ut,s=on;Ut=null,ya(e,t,r),Ut=n,on=s,Ut!==null&&(on?(e=Ut,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ut.removeChild(r.stateNode));break;case 18:Ut!==null&&(on?(e=Ut,r=r.stateNode,e.nodeType===8?Pf(e.parentNode,r):e.nodeType===1&&Pf(e,r),Vo(e)):Pf(Ut,r.stateNode));break;case 4:n=Ut,s=on,Ut=r.stateNode.containerInfo,on=!0,ya(e,t,r),Ut=n,on=s;break;case 0:case 11:case 14:case 15:if(!Zt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tx(r,t,o),s=s.next}while(s!==n)}ya(e,t,r);break;case 1:if(!Zt&&(si(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ot(r,t,l)}ya(e,t,r);break;case 21:ya(e,t,r);break;case 22:r.mode&1?(Zt=(n=Zt)||r.memoizedState!==null,ya(e,t,r),Zt=n):ya(e,t,r);break;default:ya(e,t,r)}}function e0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new d3),t.forEach(function(n){var s=b3.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function an(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ut=l.stateNode,on=!1;break e;case 3:Ut=l.stateNode.containerInfo,on=!0;break e;case 4:Ut=l.stateNode.containerInfo,on=!0;break e}l=l.return}if(Ut===null)throw Error(re(160));tk(i,o,s),Ut=null,on=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(c){ot(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rk(t,e),t=t.sibling}function rk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(an(t,e),jn(e),n&4){try{Mo(3,e,e.return),Ku(3,e)}catch(g){ot(e,e.return,g)}try{Mo(5,e,e.return)}catch(g){ot(e,e.return,g)}}break;case 1:an(t,e),jn(e),n&512&&r!==null&&si(r,r.return);break;case 5:if(an(t,e),jn(e),n&512&&r!==null&&si(r,r.return),e.flags&32){var s=e.stateNode;try{Uo(s,"")}catch(g){ot(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&k1(s,i),Pp(l,o);var c=Pp(l,i);for(o=0;o<d.length;o+=2){var u=d[o],m=d[o+1];u==="style"?E1(s,m):u==="dangerouslySetInnerHTML"?C1(s,m):u==="children"?Uo(s,m):Ah(s,u,m,c)}switch(l){case"input":Np(s,i);break;case"textarea":_1(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?ci(s,!!i.multiple,x,!1):p!==!!i.multiple&&(i.defaultValue!=null?ci(s,!!i.multiple,i.defaultValue,!0):ci(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qo]=i}catch(g){ot(e,e.return,g)}}break;case 6:if(an(t,e),jn(e),n&4){if(e.stateNode===null)throw Error(re(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){ot(e,e.return,g)}}break;case 3:if(an(t,e),jn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vo(t.containerInfo)}catch(g){ot(e,e.return,g)}break;case 4:an(t,e),jn(e);break;case 13:an(t,e),jn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dy=dt())),n&4&&e0(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Zt=(c=Zt)||u,an(t,e),Zt=c):an(t,e),jn(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(me=e,u=e.child;u!==null;){for(m=me=u;me!==null;){switch(p=me,x=p.child,p.tag){case 0:case 11:case 14:case 15:Mo(4,p,p.return);break;case 1:si(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){ot(n,r,g)}}break;case 5:si(p,p.return);break;case 22:if(p.memoizedState!==null){r0(m);continue}}x!==null?(x.return=p,me=x):r0(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,d=m.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=P1("display",o))}catch(g){ot(e,e.return,g)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(g){ot(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:an(t,e),jn(e),n&4&&e0(e);break;case 21:break;default:an(t,e),jn(e)}}function jn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ek(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Uo(s,""),n.flags&=-33);var i=Jb(e);ax(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Jb(e);nx(e,l,o);break;default:throw Error(re(161))}}catch(d){ot(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function m3(e,t,r){me=e,nk(e)}function nk(e,t,r){for(var n=(e.mode&1)!==0;me!==null;){var s=me,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||jc;if(!o){var l=s.alternate,d=l!==null&&l.memoizedState!==null||Zt;l=jc;var c=Zt;if(jc=o,(Zt=d)&&!c)for(me=s;me!==null;)o=me,d=o.child,o.tag===22&&o.memoizedState!==null?n0(s):d!==null?(d.return=o,me=d):n0(s);for(;i!==null;)me=i,nk(i),i=i.sibling;me=s,jc=l,Zt=c}t0(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,me=i):t0(e)}}function t0(e){for(;me!==null;){var t=me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zt||Ku(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Zt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:sn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&zb(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}zb(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Vo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Zt||t.flags&512&&rx(t)}catch(p){ot(t,t.return,p)}}if(t===e){me=null;break}if(r=t.sibling,r!==null){r.return=t.return,me=r;break}me=t.return}}function r0(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,me=r;break}me=t.return}}function n0(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ku(4,t)}catch(d){ot(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(d){ot(t,s,d)}}var i=t.return;try{rx(t)}catch(d){ot(t,i,d)}break;case 5:var o=t.return;try{rx(t)}catch(d){ot(t,o,d)}}}catch(d){ot(t,t.return,d)}if(t===e){me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,me=l;break}me=t.return}}var f3=Math.ceil,Id=la.ReactCurrentDispatcher,ly=la.ReactCurrentOwner,Yr=la.ReactCurrentBatchConfig,De=0,Lt=null,pt=null,Wt=0,Sr=0,ii=Xa(0),kt=0,nl=null,Ps=0,Hu=0,cy=0,Lo=null,xr=null,dy=0,Ni=1/0,Mn=null,Md=!1,sx=null,Ia=null,wc=!1,Ca=null,Ld=0,$o=0,ix=null,td=-1,rd=0;function lr(){return De&6?dt():td!==-1?td:td=dt()}function Ma(e){return e.mode&1?De&2&&Wt!==0?Wt&-Wt:XA.transition!==null?(rd===0&&(rd=B1()),rd):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:Y1(e.type)),e):1}function fn(e,t,r,n){if(50<$o)throw $o=0,ix=null,Error(re(185));wl(e,r,n),(!(De&2)||e!==Lt)&&(e===Lt&&(!(De&2)&&(Hu|=r),kt===4&&ka(e,Wt)),br(e,n),r===1&&De===0&&!(t.mode&1)&&(Ni=dt()+500,Bu&&Qa()))}function br(e,t){var r=e.callbackNode;XO(e,t);var n=vd(e,e===Lt?Wt:0);if(n===0)r!==null&&mb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&mb(r),t===1)e.tag===0?GA(a0.bind(null,e)):f2(a0.bind(null,e)),HA(function(){!(De&6)&&Qa()}),r=null;else{switch(U1(n)){case 1:r=Lh;break;case 4:r=z1;break;case 16:r=gd;break;case 536870912:r=F1;break;default:r=gd}r=uk(r,ak.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ak(e,t){if(td=-1,rd=0,De&6)throw Error(re(327));var r=e.callbackNode;if(pi()&&e.callbackNode!==r)return null;var n=vd(e,e===Lt?Wt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=$d(e,n);else{t=n;var s=De;De|=2;var i=ik();(Lt!==e||Wt!==t)&&(Mn=null,Ni=dt()+500,gs(e,t));do try{h3();break}catch(l){sk(e,l)}while(!0);Gh(),Id.current=i,De=s,pt!==null?t=0:(Lt=null,Wt=0,t=kt)}if(t!==0){if(t===2&&(s=Dp(e),s!==0&&(n=s,t=ox(e,s))),t===1)throw r=nl,gs(e,0),ka(e,n),br(e,dt()),r;if(t===6)ka(e,n);else{if(s=e.current.alternate,!(n&30)&&!p3(s)&&(t=$d(e,n),t===2&&(i=Dp(e),i!==0&&(n=i,t=ox(e,i))),t===1))throw r=nl,gs(e,0),ka(e,n),br(e,dt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(re(345));case 2:os(e,xr,Mn);break;case 3:if(ka(e,n),(n&130023424)===n&&(t=dy+500-dt(),10<t)){if(vd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){lr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Bp(os.bind(null,e,xr,Mn),t);break}os(e,xr,Mn);break;case 4:if(ka(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-mn(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=dt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*f3(n/1960))-n,10<n){e.timeoutHandle=Bp(os.bind(null,e,xr,Mn),n);break}os(e,xr,Mn);break;case 5:os(e,xr,Mn);break;default:throw Error(re(329))}}}return br(e,dt()),e.callbackNode===r?ak.bind(null,e):null}function ox(e,t){var r=Lo;return e.current.memoizedState.isDehydrated&&(gs(e,t).flags|=256),e=$d(e,t),e!==2&&(t=xr,xr=r,t!==null&&lx(t)),e}function lx(e){xr===null?xr=e:xr.push.apply(xr,e)}function p3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!xn(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ka(e,t){for(t&=~cy,t&=~Hu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mn(t),n=1<<r;e[r]=-1,t&=~n}}function a0(e){if(De&6)throw Error(re(327));pi();var t=vd(e,0);if(!(t&1))return br(e,dt()),null;var r=$d(e,t);if(e.tag!==0&&r===2){var n=Dp(e);n!==0&&(t=n,r=ox(e,n))}if(r===1)throw r=nl,gs(e,0),ka(e,t),br(e,dt()),r;if(r===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,os(e,xr,Mn),br(e,dt()),null}function uy(e,t){var r=De;De|=1;try{return e(t)}finally{De=r,De===0&&(Ni=dt()+500,Bu&&Qa())}}function Es(e){Ca!==null&&Ca.tag===0&&!(De&6)&&pi();var t=De;De|=1;var r=Yr.transition,n=Fe;try{if(Yr.transition=null,Fe=1,e)return e()}finally{Fe=n,Yr.transition=r,De=t,!(De&6)&&Qa()}}function my(){Sr=ii.current,Ge(ii)}function gs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,KA(r)),pt!==null)for(r=pt.return;r!==null;){var n=r;switch(Vh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&kd();break;case 3:ji(),Ge(gr),Ge(rr),ty();break;case 5:ey(n);break;case 4:ji();break;case 13:Ge(rt);break;case 19:Ge(rt);break;case 10:Xh(n.type._context);break;case 22:case 23:my()}r=r.return}if(Lt=e,pt=e=La(e.current,null),Wt=Sr=t,kt=0,nl=null,cy=Hu=Ps=0,xr=Lo=null,ms!==null){for(t=0;t<ms.length;t++)if(r=ms[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ms=null}return e}function sk(e,t){do{var r=pt;try{if(Gh(),Zc.current=Dd,Td){for(var n=nt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Td=!1}if(Cs=0,It=wt=nt=null,Io=!1,el=0,ly.current=null,r===null||r.return===null){kt=1,nl=t,pt=null;break}e:{var i=e,o=r.return,l=r,d=t;if(t=Wt,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=Hb(o);if(x!==null){x.flags&=-257,Vb(x,o,l,i,t),x.mode&1&&Kb(i,c,t),t=x,d=c;var y=t.updateQueue;if(y===null){var g=new Set;g.add(d),t.updateQueue=g}else y.add(d);break e}else{if(!(t&1)){Kb(i,c,t),fy();break e}d=Error(re(426))}}else if(Ze&&l.mode&1){var v=Hb(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Vb(v,o,l,i,t),qh(wi(d,l));break e}}i=d=wi(d,l),kt!==4&&(kt=2),Lo===null?Lo=[i]:Lo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=U2(i,d,t);Rb(i,h);break e;case 1:l=d;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ia===null||!Ia.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=W2(i,l,t);Rb(i,k);break e}}i=i.return}while(i!==null)}lk(r)}catch(N){t=N,pt===r&&r!==null&&(pt=r=r.return);continue}break}while(!0)}function ik(){var e=Id.current;return Id.current=Dd,e===null?Dd:e}function fy(){(kt===0||kt===3||kt===2)&&(kt=4),Lt===null||!(Ps&268435455)&&!(Hu&268435455)||ka(Lt,Wt)}function $d(e,t){var r=De;De|=2;var n=ik();(Lt!==e||Wt!==t)&&(Mn=null,gs(e,t));do try{x3();break}catch(s){sk(e,s)}while(!0);if(Gh(),De=r,Id.current=n,pt!==null)throw Error(re(261));return Lt=null,Wt=0,kt}function x3(){for(;pt!==null;)ok(pt)}function h3(){for(;pt!==null&&!BO();)ok(pt)}function ok(e){var t=dk(e.alternate,e,Sr);e.memoizedProps=e.pendingProps,t===null?lk(e):pt=t,ly.current=null}function lk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=c3(r,t),r!==null){r.flags&=32767,pt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,pt=null;return}}else if(r=l3(r,t,Sr),r!==null){pt=r;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);kt===0&&(kt=5)}function os(e,t,r){var n=Fe,s=Yr.transition;try{Yr.transition=null,Fe=1,y3(e,t,r,n)}finally{Yr.transition=s,Fe=n}return null}function y3(e,t,r,n){do pi();while(Ca!==null);if(De&6)throw Error(re(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(QO(e,i),e===Lt&&(pt=Lt=null,Wt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wc||(wc=!0,uk(gd,function(){return pi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Yr.transition,Yr.transition=null;var o=Fe;Fe=1;var l=De;De|=4,ly.current=null,u3(e,r),rk(r,e),$A(zp),bd=!!Rp,zp=Rp=null,e.current=r,m3(r),UO(),De=l,Fe=o,Yr.transition=i}else e.current=r;if(wc&&(wc=!1,Ca=e,Ld=s),i=e.pendingLanes,i===0&&(Ia=null),HO(r.stateNode),br(e,dt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Md)throw Md=!1,e=sx,sx=null,e;return Ld&1&&e.tag!==0&&pi(),i=e.pendingLanes,i&1?e===ix?$o++:($o=0,ix=e):$o=0,Qa(),null}function pi(){if(Ca!==null){var e=U1(Ld),t=Yr.transition,r=Fe;try{if(Yr.transition=null,Fe=16>e?16:e,Ca===null)var n=!1;else{if(e=Ca,Ca=null,Ld=0,De&6)throw Error(re(331));var s=De;for(De|=4,me=e.current;me!==null;){var i=me,o=i.child;if(me.flags&16){var l=i.deletions;if(l!==null){for(var d=0;d<l.length;d++){var c=l[d];for(me=c;me!==null;){var u=me;switch(u.tag){case 0:case 11:case 15:Mo(8,u,i)}var m=u.child;if(m!==null)m.return=u,me=m;else for(;me!==null;){u=me;var p=u.sibling,x=u.return;if(J2(u),u===c){me=null;break}if(p!==null){p.return=x,me=p;break}me=x}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,me=o;else e:for(;me!==null;){if(i=me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mo(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,me=h;break e}me=i.return}}var b=e.current;for(me=b;me!==null;){o=me;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,me=j;else e:for(o=b;me!==null;){if(l=me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ku(9,l)}}catch(N){ot(l,l.return,N)}if(l===o){me=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,me=k;break e}me=l.return}}if(De=s,Qa(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Lu,e)}catch{}n=!0}return n}finally{Fe=r,Yr.transition=t}}return!1}function s0(e,t,r){t=wi(r,t),t=U2(e,t,1),e=Da(e,t,1),t=lr(),e!==null&&(wl(e,1,t),br(e,t))}function ot(e,t,r){if(e.tag===3)s0(e,e,r);else for(;t!==null;){if(t.tag===3){s0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ia===null||!Ia.has(n))){e=wi(r,e),e=W2(t,e,1),t=Da(t,e,1),e=lr(),t!==null&&(wl(t,1,e),br(t,e));break}}t=t.return}}function g3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=lr(),e.pingedLanes|=e.suspendedLanes&r,Lt===e&&(Wt&r)===r&&(kt===4||kt===3&&(Wt&130023424)===Wt&&500>dt()-dy?gs(e,0):cy|=r),br(e,t)}function ck(e,t){t===0&&(e.mode&1?(t=mc,mc<<=1,!(mc&130023424)&&(mc=4194304)):t=1);var r=lr();e=Xn(e,t),e!==null&&(wl(e,t,r),br(e,r))}function v3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ck(e,r)}function b3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(t),ck(e,r)}var dk;dk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gr.current)hr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return hr=!1,o3(e,t,r);hr=!!(e.flags&131072)}else hr=!1,Ze&&t.flags&1048576&&p2(t,Cd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ed(e,t),e=t.pendingProps;var s=gi(t,rr.current);fi(t,r),s=ny(null,t,n,e,s,r);var i=ay();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vr(n)?(i=!0,_d(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zh(t),s.updater=Wu,t.stateNode=s,s._reactInternals=t,Yp(t,n,e,r),t=Qp(null,t,n,!0,i,r)):(t.tag=0,Ze&&i&&Hh(t),ar(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ed(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=w3(n),e=sn(n,e),s){case 0:t=Xp(null,t,n,e,r);break e;case 1:t=Gb(null,t,n,e,r);break e;case 11:t=qb(null,t,n,e,r);break e;case 14:t=Yb(null,t,n,sn(n.type,e),r);break e}throw Error(re(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:sn(n,s),Xp(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:sn(n,s),Gb(e,t,n,s,r);case 3:e:{if(q2(t),e===null)throw Error(re(387));n=t.pendingProps,i=t.memoizedState,s=i.element,b2(e,t),Od(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=wi(Error(re(423)),t),t=Xb(e,t,n,r,s);break e}else if(n!==s){s=wi(Error(re(424)),t),t=Xb(e,t,n,r,s);break e}else for(Er=Ta(t.stateNode.containerInfo.firstChild),Ar=t,Ze=!0,ln=null,r=g2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vi(),n===s){t=Qn(e,t,r);break e}ar(e,t,n,r)}t=t.child}return t;case 5:return j2(t),e===null&&Hp(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Fp(n,s)?o=null:i!==null&&Fp(n,i)&&(t.flags|=32),V2(e,t),ar(e,t,o,r),t.child;case 6:return e===null&&Hp(t),null;case 13:return Y2(e,t,r);case 4:return Jh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bi(t,null,n,r):ar(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:sn(n,s),qb(e,t,n,s,r);case 7:return ar(e,t,t.pendingProps,r),t.child;case 8:return ar(e,t,t.pendingProps.children,r),t.child;case 12:return ar(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,He(Pd,n._currentValue),n._currentValue=o,i!==null)if(xn(i.value,o)){if(i.children===s.children&&!gr.current){t=Qn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var d=l.firstContext;d!==null;){if(d.context===n){if(i.tag===1){d=Kn(-1,r&-r),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}i.lanes|=r,d=i.alternate,d!==null&&(d.lanes|=r),Vp(i.return,r,t),l.lanes|=r;break}d=d.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(re(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Vp(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ar(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,fi(t,r),s=Gr(s),n=n(s),t.flags|=1,ar(e,t,n,r),t.child;case 14:return n=t.type,s=sn(n,t.pendingProps),s=sn(n.type,s),Yb(e,t,n,s,r);case 15:return K2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:sn(n,s),ed(e,t),t.tag=1,vr(n)?(e=!0,_d(t)):e=!1,fi(t,r),B2(t,n,s),Yp(t,n,s,r),Qp(null,t,n,!0,e,r);case 19:return G2(e,t,r);case 22:return H2(e,t,r)}throw Error(re(156,t.tag))};function uk(e,t){return R1(e,t)}function j3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,t,r,n){return new j3(e,t,r,n)}function py(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w3(e){if(typeof e=="function")return py(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dh)return 11;if(e===Ih)return 14}return 2}function La(e,t){var r=e.alternate;return r===null?(r=Vr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function nd(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")py(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xs:return vs(r.children,s,i,t);case Th:o=8,s|=8;break;case gp:return e=Vr(12,r,t,s|2),e.elementType=gp,e.lanes=i,e;case vp:return e=Vr(13,r,t,s),e.elementType=vp,e.lanes=i,e;case bp:return e=Vr(19,r,t,s),e.elementType=bp,e.lanes=i,e;case j1:return Vu(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case v1:o=10;break e;case b1:o=9;break e;case Dh:o=11;break e;case Ih:o=14;break e;case va:o=16,n=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=Vr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function vs(e,t,r,n){return e=Vr(7,e,n,t),e.lanes=r,e}function Vu(e,t,r,n){return e=Vr(22,e,n,t),e.elementType=j1,e.lanes=r,e.stateNode={isHidden:!1},e}function Lf(e,t,r){return e=Vr(6,e,null,t),e.lanes=r,e}function $f(e,t,r){return t=Vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function N3(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yf(0),this.expirationTimes=yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xy(e,t,r,n,s,i,o,l,d){return e=new N3(e,t,r,l,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Vr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(i),e}function k3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function mk(e){if(!e)return Ba;e=e._reactInternals;e:{if(zs(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var r=e.type;if(vr(r))return m2(e,r,t)}return t}function fk(e,t,r,n,s,i,o,l,d){return e=xy(r,n,!0,e,s,i,o,l,d),e.context=mk(null),r=e.current,n=lr(),s=Ma(r),i=Kn(n,s),i.callback=t??null,Da(r,i,s),e.current.lanes=s,wl(e,s,n),br(e,n),e}function qu(e,t,r,n){var s=t.current,i=lr(),o=Ma(s);return r=mk(r),t.context===null?t.context=r:t.pendingContext=r,t=Kn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Da(s,t,o),e!==null&&(fn(e,s,o,i),Qc(e,s,o)),o}function Rd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function i0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hy(e,t){i0(e,t),(e=e.alternate)&&i0(e,t)}function _3(){return null}var pk=typeof reportError=="function"?reportError:function(e){console.error(e)};function yy(e){this._internalRoot=e}Yu.prototype.render=yy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));qu(e,t,null,null)};Yu.prototype.unmount=yy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Es(function(){qu(null,e,null,null)}),t[Gn]=null}};function Yu(e){this._internalRoot=e}Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=H1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Na.length&&t!==0&&t<Na[r].priority;r++);Na.splice(r,0,e),r===0&&q1(e)}};function gy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function o0(){}function S3(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Rd(o);i.call(c)}}var o=fk(t,n,e,0,null,!1,!1,"",o0);return e._reactRootContainer=o,e[Gn]=o.current,Go(e.nodeType===8?e.parentNode:e),Es(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=Rd(d);l.call(c)}}var d=xy(e,0,!1,null,null,!1,!1,"",o0);return e._reactRootContainer=d,e[Gn]=d.current,Go(e.nodeType===8?e.parentNode:e),Es(function(){qu(t,d,r,n)}),d}function Xu(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var d=Rd(o);l.call(d)}}qu(t,o,e,s)}else o=S3(r,t,e,s,n);return Rd(o)}W1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ko(t.pendingLanes);r!==0&&($h(t,r|1),br(t,dt()),!(De&6)&&(Ni=dt()+500,Qa()))}break;case 13:Es(function(){var n=Xn(e,1);if(n!==null){var s=lr();fn(n,e,1,s)}}),hy(e,1)}};Rh=function(e){if(e.tag===13){var t=Xn(e,134217728);if(t!==null){var r=lr();fn(t,e,134217728,r)}hy(e,134217728)}};K1=function(e){if(e.tag===13){var t=Ma(e),r=Xn(e,t);if(r!==null){var n=lr();fn(r,e,t,n)}hy(e,t)}};H1=function(){return Fe};V1=function(e,t){var r=Fe;try{return Fe=e,t()}finally{Fe=r}};Op=function(e,t,r){switch(t){case"input":if(Np(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Fu(n);if(!s)throw Error(re(90));N1(n),Np(n,s)}}}break;case"textarea":_1(e,r);break;case"select":t=r.value,t!=null&&ci(e,!!r.multiple,t,!1)}};T1=uy;D1=Es;var C3={usingClientEntryPoint:!1,Events:[kl,ei,Fu,O1,A1,uy]},mo={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P3={bundleType:mo.bundleType,version:mo.version,rendererPackageName:mo.rendererPackageName,rendererConfig:mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:la.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=L1(e),e===null?null:e.stateNode},findFiberByHostInstance:mo.findFiberByHostInstance||_3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{Lu=Nc.inject(P3),Pn=Nc}catch{}}$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C3;$r.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gy(t))throw Error(re(200));return k3(e,t,null,r)};$r.createRoot=function(e,t){if(!gy(e))throw Error(re(299));var r=!1,n="",s=pk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=xy(e,1,!1,null,null,r,!1,n,s),e[Gn]=t.current,Go(e.nodeType===8?e.parentNode:e),new yy(t)};$r.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=L1(t),e=e===null?null:e.stateNode,e};$r.flushSync=function(e){return Es(e)};$r.hydrate=function(e,t,r){if(!Gu(t))throw Error(re(200));return Xu(null,e,t,!0,r)};$r.hydrateRoot=function(e,t,r){if(!gy(e))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=pk;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=fk(t,null,e,1,r??null,s,!1,i,o),e[Gn]=t.current,Go(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Yu(t)};$r.render=function(e,t,r){if(!Gu(t))throw Error(re(200));return Xu(null,e,t,!1,r)};$r.unmountComponentAtNode=function(e){if(!Gu(e))throw Error(re(40));return e._reactRootContainer?(Es(function(){Xu(null,null,e,!1,function(){e._reactRootContainer=null,e[Gn]=null})}),!0):!1};$r.unstable_batchedUpdates=uy;$r.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gu(r))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Xu(e,t,r,!1,n)};$r.version="18.3.1-next-f1338f8080-20240426";function xk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xk)}catch(e){console.error(e)}}xk(),x1.exports=$r;var Sl=x1.exports;const E3=In(Sl);var l0=Sl;hp.createRoot=l0.createRoot,hp.hydrateRoot=l0.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},al.apply(this,arguments)}var Pa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pa||(Pa={}));const c0="popstate";function O3(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return cx("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:zd(s)}return T3(t,r,null,e)}function ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function A3(){return Math.random().toString(36).substr(2,8)}function d0(e,t){return{usr:e.state,key:e.key,idx:t}}function cx(e,t,r,n){return r===void 0&&(r=null),al({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ui(t):t,{state:r,key:t&&t.key||n||A3()})}function zd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ui(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function T3(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Pa.Pop,d=null,c=u();c==null&&(c=0,o.replaceState(al({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=Pa.Pop;let v=u(),h=v==null?null:v-c;c=v,d&&d({action:l,location:g.location,delta:h})}function p(v,h){l=Pa.Push;let b=cx(g.location,v,h);c=u()+1;let j=d0(b,c),k=g.createHref(b);try{o.pushState(j,"",k)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(k)}i&&d&&d({action:l,location:g.location,delta:1})}function x(v,h){l=Pa.Replace;let b=cx(g.location,v,h);c=u();let j=d0(b,c),k=g.createHref(b);o.replaceState(j,"",k),i&&d&&d({action:l,location:g.location,delta:0})}function y(v){let h=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof v=="string"?v:zd(v);return b=b.replace(/ $/,"%20"),ut(h,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,h)}let g={get action(){return l},get location(){return e(s,o)},listen(v){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(c0,m),d=v,()=>{s.removeEventListener(c0,m),d=null}},createHref(v){return t(s,v)},createURL:y,encodeLocation(v){let h=y(v);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:x,go(v){return o.go(v)}};return g}var u0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(u0||(u0={}));function D3(e,t,r){return r===void 0&&(r="/"),I3(e,t,r)}function I3(e,t,r,n){let s=typeof t=="string"?Ui(t):t,i=by(s.pathname||"/",r);if(i==null)return null;let o=hk(e);M3(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let c=q3(i);l=K3(o[d],c)}return l}function hk(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(ut(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let c=$a([n,d.relativePath]),u=r.concat(d);i.children&&i.children.length>0&&(ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),hk(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:U3(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let d of yk(i.path))s(i,o,d)}),t}function yk(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=yk(n.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),s&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function M3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:W3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const L3=/^:[\w-]+$/,$3=3,R3=2,z3=1,F3=10,B3=-2,m0=e=>e==="*";function U3(e,t){let r=e.split("/"),n=r.length;return r.some(m0)&&(n+=B3),t&&(n+=R3),r.filter(s=>!m0(s)).reduce((s,i)=>s+(L3.test(i)?$3:i===""?z3:F3),n)}function W3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function K3(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let d=n[l],c=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=H3({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),p=d.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:$a([i,m.pathname]),pathnameBase:Z3($a([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=$a([i,m.pathnameBase]))}return o}function H3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=V3(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,u,m)=>{let{paramName:p,isOptional:x}=u;if(p==="*"){let g=l[m]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[m];return x&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function V3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),vy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function q3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function by(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Y3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G3=e=>Y3.test(e);function X3(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ui(e):e,i;if(r)if(G3(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),vy(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=f0(r.substring(1),"/"):i=f0(r,t)}else i=t;return{pathname:i,search:J3(n),hash:eT(s)}}function f0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Rf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Q3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jy(e,t){let r=Q3(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wy(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ui(e):(s=al({},e),ut(!s.pathname||!s.pathname.includes("?"),Rf("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),Rf("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),Rf("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}l=m>=0?t[m]:"/"}let d=X3(s,l),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const $a=e=>e.join("/").replace(/\/\/+/g,"/"),Z3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gk=["post","put","patch","delete"];new Set(gk);const rT=["get",...gk];new Set(rT);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sl.apply(this,arguments)}const Ny=f.createContext(null),nT=f.createContext(null),Za=f.createContext(null),Qu=f.createContext(null),ca=f.createContext({outlet:null,matches:[],isDataRoute:!1}),vk=f.createContext(null);function aT(e,t){let{relative:r}=t===void 0?{}:t;Wi()||ut(!1);let{basename:n,navigator:s}=f.useContext(Za),{hash:i,pathname:o,search:l}=jk(e,{relative:r}),d=o;return n!=="/"&&(d=o==="/"?n:$a([n,o])),s.createHref({pathname:d,search:l,hash:i})}function Wi(){return f.useContext(Qu)!=null}function Ja(){return Wi()||ut(!1),f.useContext(Qu).location}function bk(e){f.useContext(Za).static||f.useLayoutEffect(e)}function Jr(){let{isDataRoute:e}=f.useContext(ca);return e?yT():sT()}function sT(){Wi()||ut(!1);let e=f.useContext(Ny),{basename:t,future:r,navigator:n}=f.useContext(Za),{matches:s}=f.useContext(ca),{pathname:i}=Ja(),o=JSON.stringify(jy(s,r.v7_relativeSplatPath)),l=f.useRef(!1);return bk(()=>{l.current=!0}),f.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let m=wy(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:$a([t,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[t,n,o,i,e])}function Zu(){let{matches:e}=f.useContext(ca),t=e[e.length-1];return t?t.params:{}}function jk(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(Za),{matches:s}=f.useContext(ca),{pathname:i}=Ja(),o=JSON.stringify(jy(s,n.v7_relativeSplatPath));return f.useMemo(()=>wy(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function iT(e,t){return oT(e,t)}function oT(e,t,r,n){Wi()||ut(!1);let{navigator:s}=f.useContext(Za),{matches:i}=f.useContext(ca),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let c=Ja(),u;if(t){var m;let v=typeof t=="string"?Ui(t):t;d==="/"||(m=v.pathname)!=null&&m.startsWith(d)||ut(!1),u=v}else u=c;let p=u.pathname||"/",x=p;if(d!=="/"){let v=d.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=D3(e,{pathname:x}),g=mT(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:$a([d,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:$a([d,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&g?f.createElement(Qu.Provider,{value:{location:sl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Pa.Pop}},g):g}function lT(){let e=hT(),t=tT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:s},r):null,null)}const cT=f.createElement(lT,null);class dT extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(ca.Provider,{value:this.props.routeContext},f.createElement(vk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uT(e){let{routeContext:t,match:r,children:n}=e,s=f.useContext(Ny);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(ca.Provider,{value:t},n)}function mT(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||ut(!1),o=o.slice(0,Math.min(o.length,u+1))}let d=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=u),m.route.id){let{loaderData:p,errors:x}=r,y=m.route.loader&&p[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||y){d=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,m,p)=>{let x,y=!1,g=null,v=null;r&&(x=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||cT,d&&(c<0&&p===0?(gT("route-fallback"),y=!0,v=null):c===p&&(y=!0,v=m.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,p+1)),b=()=>{let j;return x?j=g:y?j=v:m.route.Component?j=f.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=u,f.createElement(uT,{match:m,routeContext:{outlet:u,matches:h,isDataRoute:r!=null},children:j})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?f.createElement(dT,{location:r.location,revalidation:r.revalidation,component:g,error:x,children:b(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):b()},null)}var wk=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wk||{}),Nk=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Nk||{});function fT(e){let t=f.useContext(Ny);return t||ut(!1),t}function pT(e){let t=f.useContext(nT);return t||ut(!1),t}function xT(e){let t=f.useContext(ca);return t||ut(!1),t}function kk(e){let t=xT(),r=t.matches[t.matches.length-1];return r.route.id||ut(!1),r.route.id}function hT(){var e;let t=f.useContext(vk),r=pT(),n=kk();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function yT(){let{router:e}=fT(wk.UseNavigateStable),t=kk(Nk.UseNavigateStable),r=f.useRef(!1);return bk(()=>{r.current=!0}),f.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,sl({fromRouteId:t},i)))},[e,t])}const p0={};function gT(e,t,r){p0[e]||(p0[e]=!0)}function vT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ro(e){let{to:t,replace:r,state:n,relative:s}=e;Wi()||ut(!1);let{future:i,static:o}=f.useContext(Za),{matches:l}=f.useContext(ca),{pathname:d}=Ja(),c=Jr(),u=wy(t,jy(l,i.v7_relativeSplatPath),d,s==="path"),m=JSON.stringify(u);return f.useEffect(()=>c(JSON.parse(m),{replace:r,state:n,relative:s}),[c,m,s,r,n]),null}function Ae(e){ut(!1)}function bT(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Pa.Pop,navigator:i,static:o=!1,future:l}=e;Wi()&&ut(!1);let d=t.replace(/^\/*/,"/"),c=f.useMemo(()=>({basename:d,navigator:i,static:o,future:sl({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof n=="string"&&(n=Ui(n));let{pathname:u="/",search:m="",hash:p="",state:x=null,key:y="default"}=n,g=f.useMemo(()=>{let v=by(u,d);return v==null?null:{location:{pathname:v,search:m,hash:p,state:x,key:y},navigationType:s}},[d,u,m,p,x,y,s]);return g==null?null:f.createElement(Za.Provider,{value:c},f.createElement(Qu.Provider,{children:r,value:g}))}function jT(e){let{children:t,location:r}=e;return iT(dx(t),r)}new Promise(()=>{});function dx(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,s)=>{if(!f.isValidElement(n))return;let i=[...t,s];if(n.type===f.Fragment){r.push.apply(r,dx(n.props.children,i));return}n.type!==Ae&&ut(!1),!n.props.index||!n.props.children||ut(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=dx(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ux.apply(this,arguments)}function wT(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function NT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kT(e,t){return e.button===0&&(!t||t==="_self")&&!NT(e)}const _T=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ST="6";try{window.__reactRouterVersion=ST}catch{}const CT="startTransition",x0=f1[CT];function PT(e){let{basename:t,children:r,future:n,window:s}=e,i=f.useRef();i.current==null&&(i.current=O3({window:s,v5Compat:!0}));let o=i.current,[l,d]=f.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=f.useCallback(m=>{c&&x0?x0(()=>d(m)):d(m)},[d,c]);return f.useLayoutEffect(()=>o.listen(u),[o,u]),f.useEffect(()=>vT(n),[n]),f.createElement(bT,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const ET=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ad=f.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:d,to:c,preventScrollReset:u,viewTransition:m}=t,p=wT(t,_T),{basename:x}=f.useContext(Za),y,g=!1;if(typeof c=="string"&&OT.test(c)&&(y=c,ET))try{let j=new URL(window.location.href),k=c.startsWith("//")?new URL(j.protocol+c):new URL(c),N=by(k.pathname,x);k.origin===j.origin&&N!=null?c=N+k.search+k.hash:g=!0}catch{}let v=aT(c,{relative:s}),h=AT(c,{replace:o,state:l,target:d,preventScrollReset:u,relative:s,viewTransition:m});function b(j){n&&n(j),j.defaultPrevented||h(j)}return f.createElement("a",ux({},p,{href:y||v,onClick:g||i?n:b,ref:r,target:d}))});var h0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(h0||(h0={}));var y0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(y0||(y0={}));function AT(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,d=Jr(),c=Ja(),u=jk(e,{relative:o});return f.useCallback(m=>{if(kT(m,r)){m.preventDefault();let p=n!==void 0?n:zd(c)===zd(u);d(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[c,d,u,n,s,r,e,i,o,l])}function TT(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const DT=e=>{switch(e){case"success":return LT;case"info":return RT;case"warning":return $T;case"error":return zT;default:return null}},IT=Array(12).fill(0),MT=({visible:e,className:t})=>te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},te.createElement("div",{className:"sonner-spinner"},IT.map((r,n)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),LT=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$T=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),RT=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zT=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),FT=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),BT=()=>{const[e,t]=te.useState(document.hidden);return te.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let mx=1;class UT{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:mx++,o=this.toasts.find(d=>d.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:l,title:n}):d):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const l=s.then(async c=>{if(o=["resolve",c],te.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(KT(c)&&!c.ok){i=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description,y=typeof m=="object"&&!te.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...y})}else if(c instanceof Error){i=!1;const m=typeof r.error=="function"?await r.error(c):r.error,p=typeof r.description=="function"?await r.description(c):r.description,y=typeof m=="object"&&!te.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...y})}else if(r.success!==void 0){i=!1;const m=typeof r.success=="function"?await r.success(c):r.success,p=typeof r.description=="function"?await r.description(c):r.description,y=typeof m=="object"&&!te.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:p,...y})}}).catch(async c=>{if(o=["reject",c],r.error!==void 0){i=!1;const u=typeof r.error=="function"?await r.error(c):r.error,m=typeof r.description=="function"?await r.description(c):r.description,x=typeof u=="object"&&!te.isValidElement(u)?u:{message:u};this.create({id:n,type:"error",description:m,...x})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((c,u)=>l.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||mx++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const fr=new UT,WT=(e,t)=>{const r=(t==null?void 0:t.id)||mx++;return fr.addToast({title:e,...t,id:r}),r},KT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",HT=WT,VT=()=>fr.toasts,qT=()=>fr.getActiveToasts(),G=Object.assign(HT,{success:fr.success,info:fr.info,warning:fr.warning,error:fr.error,custom:fr.custom,message:fr.message,promise:fr.promise,dismiss:fr.dismiss,loading:fr.loading},{getHistory:VT,getToasts:qT});TT("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function kc(e){return e.label!==void 0}const YT=3,GT="24px",XT="16px",g0=4e3,QT=356,ZT=14,JT=45,eD=200;function wn(...e){return e.filter(Boolean).join(" ")}function tD(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const rD=e=>{var t,r,n,s,i,o,l,d,c;const{invert:u,toast:m,unstyled:p,interacting:x,setHeights:y,visibleToasts:g,heights:v,index:h,toasts:b,expanded:j,removeToast:k,defaultRichColors:N,closeButton:w,style:P,cancelButtonStyle:_,actionButtonStyle:C,className:O="",descriptionClassName:S="",duration:E,position:I,gap:A,expandByDefault:M,classNames:B,icons:W,closeButtonAriaLabel:L="Close toast"}=e,[R,$]=te.useState(null),[X,T]=te.useState(null),[Q,J]=te.useState(!1),[D,q]=te.useState(!1),[ie,oe]=te.useState(!1),[U,ue]=te.useState(!1),[he,Z]=te.useState(!1),[Y,ae]=te.useState(0),[be,H]=te.useState(0),ee=te.useRef(m.duration||E||g0),le=te.useRef(null),ve=te.useRef(null),z=h===0,ne=h+1<=g,F=m.type,se=m.dismissible!==!1,ce=m.className||"",Ne=m.descriptionClassName||"",je=te.useMemo(()=>v.findIndex(Ce=>Ce.toastId===m.id)||0,[v,m.id]),ke=te.useMemo(()=>{var Ce;return(Ce=m.closeButton)!=null?Ce:w},[m.closeButton,w]),Ie=te.useMemo(()=>m.duration||E||g0,[m.duration,E]),ye=te.useRef(0),Pe=te.useRef(0),Se=te.useRef(0),de=te.useRef(null),[Oe,zt]=I.split("-"),qt=te.useMemo(()=>v.reduce((Ce,Ot,Yt)=>Yt>=je?Ce:Ce+Ot.height,0),[v,je]),Us=BT(),ZE=m.invert||u,df=F==="loading";Pe.current=te.useMemo(()=>je*A+qt,[je,qt]),te.useEffect(()=>{ee.current=Ie},[Ie]),te.useEffect(()=>{J(!0)},[]),te.useEffect(()=>{const Ce=ve.current;if(Ce){const Ot=Ce.getBoundingClientRect().height;return H(Ot),y(Yt=>[{toastId:m.id,height:Ot,position:m.position},...Yt]),()=>y(Yt=>Yt.filter(_r=>_r.toastId!==m.id))}},[y,m.id]),te.useLayoutEffect(()=>{if(!Q)return;const Ce=ve.current,Ot=Ce.style.height;Ce.style.height="auto";const Yt=Ce.getBoundingClientRect().height;Ce.style.height=Ot,H(Yt),y(_r=>_r.find(Ft=>Ft.toastId===m.id)?_r.map(Ft=>Ft.toastId===m.id?{...Ft,height:Yt}:Ft):[{toastId:m.id,height:Yt,position:m.position},..._r])},[Q,m.title,m.description,y,m.id,m.jsx,m.action,m.cancel]);const ha=te.useCallback(()=>{q(!0),ae(Pe.current),y(Ce=>Ce.filter(Ot=>Ot.toastId!==m.id)),setTimeout(()=>{k(m)},eD)},[m,k,y,Pe]);te.useEffect(()=>{if(m.promise&&F==="loading"||m.duration===1/0||m.type==="loading")return;let Ce;return j||x||Us?(()=>{if(Se.current<ye.current){const _r=new Date().getTime()-ye.current;ee.current=ee.current-_r}Se.current=new Date().getTime()})():(()=>{ee.current!==1/0&&(ye.current=new Date().getTime(),Ce=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),ha()},ee.current))})(),()=>clearTimeout(Ce)},[j,x,m,F,Us,ha]),te.useEffect(()=>{m.delete&&(ha(),m.onDismiss==null||m.onDismiss.call(m,m))},[ha,m.delete]);function JE(){var Ce;if(W!=null&&W.loading){var Ot;return te.createElement("div",{className:wn(B==null?void 0:B.loader,m==null||(Ot=m.classNames)==null?void 0:Ot.loader,"sonner-loader"),"data-visible":F==="loading"},W.loading)}return te.createElement(MT,{className:wn(B==null?void 0:B.loader,m==null||(Ce=m.classNames)==null?void 0:Ce.loader),visible:F==="loading"})}const eO=m.icon||(W==null?void 0:W[F])||DT(F);var Qv,Zv;return te.createElement("li",{tabIndex:0,ref:ve,className:wn(O,ce,B==null?void 0:B.toast,m==null||(t=m.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[F],m==null||(r=m.classNames)==null?void 0:r[F]),"data-sonner-toast":"","data-rich-colors":(Qv=m.richColors)!=null?Qv:N,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":Q,"data-promise":!!m.promise,"data-swiped":he,"data-removed":D,"data-visible":ne,"data-y-position":Oe,"data-x-position":zt,"data-index":h,"data-front":z,"data-swiping":ie,"data-dismissible":se,"data-type":F,"data-invert":ZE,"data-swipe-out":U,"data-swipe-direction":X,"data-expanded":!!(j||M&&Q),"data-testid":m.testId,style:{"--index":h,"--toasts-before":h,"--z-index":b.length-h,"--offset":`${D?Y:Pe.current}px`,"--initial-height":M?"auto":`${be}px`,...P,...m.style},onDragEnd:()=>{oe(!1),$(null),de.current=null},onPointerDown:Ce=>{Ce.button!==2&&(df||!se||(le.current=new Date,ae(Pe.current),Ce.target.setPointerCapture(Ce.pointerId),Ce.target.tagName!=="BUTTON"&&(oe(!0),de.current={x:Ce.clientX,y:Ce.clientY})))},onPointerUp:()=>{var Ce,Ot,Yt;if(U||!se)return;de.current=null;const _r=Number(((Ce=ve.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),sc=Number(((Ot=ve.current)==null?void 0:Ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ft=new Date().getTime()-((Yt=le.current)==null?void 0:Yt.getTime()),zr=R==="x"?_r:sc,ic=Math.abs(zr)/Ft;if(Math.abs(zr)>=JT||ic>.11){ae(Pe.current),m.onDismiss==null||m.onDismiss.call(m,m),T(R==="x"?_r>0?"right":"left":sc>0?"down":"up"),ha(),ue(!0);return}else{var rn,nn;(rn=ve.current)==null||rn.style.setProperty("--swipe-amount-x","0px"),(nn=ve.current)==null||nn.style.setProperty("--swipe-amount-y","0px")}Z(!1),oe(!1),$(null)},onPointerMove:Ce=>{var Ot,Yt,_r;if(!de.current||!se||((Ot=window.getSelection())==null?void 0:Ot.toString().length)>0)return;const Ft=Ce.clientY-de.current.y,zr=Ce.clientX-de.current.x;var ic;const rn=(ic=e.swipeDirections)!=null?ic:tD(I);!R&&(Math.abs(zr)>1||Math.abs(Ft)>1)&&$(Math.abs(zr)>Math.abs(Ft)?"x":"y");let nn={x:0,y:0};const Jv=as=>1/(1.5+Math.abs(as)/20);if(R==="y"){if(rn.includes("top")||rn.includes("bottom"))if(rn.includes("top")&&Ft<0||rn.includes("bottom")&&Ft>0)nn.y=Ft;else{const as=Ft*Jv(Ft);nn.y=Math.abs(as)<Math.abs(Ft)?as:Ft}}else if(R==="x"&&(rn.includes("left")||rn.includes("right")))if(rn.includes("left")&&zr<0||rn.includes("right")&&zr>0)nn.x=zr;else{const as=zr*Jv(zr);nn.x=Math.abs(as)<Math.abs(zr)?as:zr}(Math.abs(nn.x)>0||Math.abs(nn.y)>0)&&Z(!0),(Yt=ve.current)==null||Yt.style.setProperty("--swipe-amount-x",`${nn.x}px`),(_r=ve.current)==null||_r.style.setProperty("--swipe-amount-y",`${nn.y}px`)}},ke&&!m.jsx&&F!=="loading"?te.createElement("button",{"aria-label":L,"data-disabled":df,"data-close-button":!0,onClick:df||!se?()=>{}:()=>{ha(),m.onDismiss==null||m.onDismiss.call(m,m)},className:wn(B==null?void 0:B.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(Zv=W==null?void 0:W.close)!=null?Zv:FT):null,(F||m.icon||m.promise)&&m.icon!==null&&((W==null?void 0:W[F])!==null||m.icon)?te.createElement("div",{"data-icon":"",className:wn(B==null?void 0:B.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||JE():null,m.type!=="loading"?eO:null):null,te.createElement("div",{"data-content":"",className:wn(B==null?void 0:B.content,m==null||(i=m.classNames)==null?void 0:i.content)},te.createElement("div",{"data-title":"",className:wn(B==null?void 0:B.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?te.createElement("div",{"data-description":"",className:wn(S,Ne,B==null?void 0:B.description,m==null||(l=m.classNames)==null?void 0:l.description)},typeof m.description=="function"?m.description():m.description):null),te.isValidElement(m.cancel)?m.cancel:m.cancel&&kc(m.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||_,onClick:Ce=>{kc(m.cancel)&&se&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Ce),ha())},className:wn(B==null?void 0:B.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,te.isValidElement(m.action)?m.action:m.action&&kc(m.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||C,onClick:Ce=>{kc(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Ce),!Ce.defaultPrevented&&ha())},className:wn(B==null?void 0:B.actionButton,m==null||(c=m.classNames)==null?void 0:c.actionButton)},m.action.label):null)};function v0(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function nD(e,t){const r={};return[e,t].forEach((n,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",l=i?XT:GT;function d(c){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=l:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):d(l)}),r}const aD=te.forwardRef(function(t,r){const{id:n,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:d,className:c,offset:u,mobileOffset:m,theme:p="light",richColors:x,duration:y,style:g,visibleToasts:v=YT,toastOptions:h,dir:b=v0(),gap:j=ZT,icons:k,containerAriaLabel:N="Notifications"}=t,[w,P]=te.useState([]),_=te.useMemo(()=>n?w.filter(Q=>Q.toasterId===n):w.filter(Q=>!Q.toasterId),[w,n]),C=te.useMemo(()=>Array.from(new Set([i].concat(_.filter(Q=>Q.position).map(Q=>Q.position)))),[_,i]),[O,S]=te.useState([]),[E,I]=te.useState(!1),[A,M]=te.useState(!1),[B,W]=te.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=te.useRef(null),R=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=te.useRef(null),X=te.useRef(!1),T=te.useCallback(Q=>{P(J=>{var D;return(D=J.find(q=>q.id===Q.id))!=null&&D.delete||fr.dismiss(Q.id),J.filter(({id:q})=>q!==Q.id)})},[]);return te.useEffect(()=>fr.subscribe(Q=>{if(Q.dismiss){requestAnimationFrame(()=>{P(J=>J.map(D=>D.id===Q.id?{...D,delete:!0}:D))});return}setTimeout(()=>{E3.flushSync(()=>{P(J=>{const D=J.findIndex(q=>q.id===Q.id);return D!==-1?[...J.slice(0,D),{...J[D],...Q},...J.slice(D+1)]:[Q,...J]})})})}),[w]),te.useEffect(()=>{if(p!=="system"){W(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;const Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:J})=>{W(J?"dark":"light")})}catch{Q.addListener(({matches:D})=>{try{W(D?"dark":"light")}catch(q){console.error(q)}})}},[p]),te.useEffect(()=>{w.length<=1&&I(!1)},[w]),te.useEffect(()=>{const Q=J=>{var D;if(o.every(oe=>J[oe]||J.code===oe)){var ie;I(!0),(ie=L.current)==null||ie.focus()}J.code==="Escape"&&(document.activeElement===L.current||(D=L.current)!=null&&D.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[o]),te.useEffect(()=>{if(L.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,X.current=!1)}},[L.current]),te.createElement("section",{ref:r,"aria-label":`${N} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((Q,J)=>{var D;const[q,ie]=Q.split("-");return _.length?te.createElement("ol",{key:Q,dir:b==="auto"?v0():b,tabIndex:-1,ref:L,className:c,"data-sonner-toaster":!0,"data-sonner-theme":B,"data-y-position":q,"data-x-position":ie,style:{"--front-toast-height":`${((D=O[0])==null?void 0:D.height)||0}px`,"--width":`${QT}px`,"--gap":`${j}px`,...g,...nD(u,m)},onBlur:oe=>{X.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(X.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||X.current||(X.current=!0,$.current=oe.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{A||I(!1)},onDragEnd:()=>I(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},_.filter(oe=>!oe.position&&J===0||oe.position===Q).map((oe,U)=>{var ue,he;return te.createElement(rD,{key:oe.id,icons:k,index:U,toast:oe,defaultRichColors:x,duration:(ue=h==null?void 0:h.duration)!=null?ue:y,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:s,visibleToasts:v,closeButton:(he=h==null?void 0:h.closeButton)!=null?he:d,interacting:A,position:Q,style:h==null?void 0:h.style,unstyled:h==null?void 0:h.unstyled,classNames:h==null?void 0:h.classNames,cancelButtonStyle:h==null?void 0:h.cancelButtonStyle,actionButtonStyle:h==null?void 0:h.actionButtonStyle,closeButtonAriaLabel:h==null?void 0:h.closeButtonAriaLabel,removeToast:T,toasts:_.filter(Z=>Z.position==oe.position),heights:O.filter(Z=>Z.position==oe.position),setHeights:S,expandByDefault:l,gap:j,expanded:E,swipeDirections:t.swipeDirections})})):null}))});function _k(e,t){return function(){return e.apply(t,arguments)}}const{toString:sD}=Object.prototype,{getPrototypeOf:ky}=Object,{iterator:Ju,toStringTag:Sk}=Symbol,em=(e=>t=>{const r=sD.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),gn=e=>(e=e.toLowerCase(),t=>em(t)===e),tm=e=>t=>typeof t===e,{isArray:Ki}=Array,ki=tm("undefined");function Cl(e){return e!==null&&!ki(e)&&e.constructor!==null&&!ki(e.constructor)&&jr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ck=gn("ArrayBuffer");function iD(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ck(e.buffer),t}const oD=tm("string"),jr=tm("function"),Pk=tm("number"),Pl=e=>e!==null&&typeof e=="object",lD=e=>e===!0||e===!1,sd=e=>{if(em(e)!=="object")return!1;const t=ky(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Sk in e)&&!(Ju in e)},cD=e=>{if(!Pl(e)||Cl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},dD=gn("Date"),uD=gn("File"),mD=gn("Blob"),fD=gn("FileList"),pD=e=>Pl(e)&&jr(e.pipe),xD=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||jr(e.append)&&((t=em(e))==="formdata"||t==="object"&&jr(e.toString)&&e.toString()==="[object FormData]"))},hD=gn("URLSearchParams"),[yD,gD,vD,bD]=["ReadableStream","Request","Response","Headers"].map(gn),jD=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function El(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Ki(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Cl(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function Ek(e,t){if(Cl(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const ps=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ok=e=>!ki(e)&&e!==ps;function fx(){const{caseless:e,skipUndefined:t}=Ok(this)&&this||{},r={},n=(s,i)=>{const o=e&&Ek(r,i)||i;sd(r[o])&&sd(s)?r[o]=fx(r[o],s):sd(s)?r[o]=fx({},s):Ki(s)?r[o]=s.slice():(!t||!ki(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&El(arguments[s],n);return r}const wD=(e,t,r,{allOwnKeys:n}={})=>(El(t,(s,i)=>{r&&jr(s)?e[i]=_k(s,r):e[i]=s},{allOwnKeys:n}),e),ND=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),kD=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},_D=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&ky(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},SD=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},CD=e=>{if(!e)return null;if(Ki(e))return e;let t=e.length;if(!Pk(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},PD=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ky(Uint8Array)),ED=(e,t)=>{const n=(e&&e[Ju]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},OD=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},AD=gn("HTMLFormElement"),TD=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),b0=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),DD=gn("RegExp"),Ak=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};El(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},ID=e=>{Ak(e,(t,r)=>{if(jr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(jr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},MD=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Ki(e)?n(e):n(String(e).split(t)),r},LD=()=>{},$D=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function RD(e){return!!(e&&jr(e.append)&&e[Sk]==="FormData"&&e[Ju])}const zD=e=>{const t=new Array(10),r=(n,s)=>{if(Pl(n)){if(t.indexOf(n)>=0)return;if(Cl(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Ki(n)?[]:{};return El(n,(o,l)=>{const d=r(o,s+1);!ki(d)&&(i[l]=d)}),t[s]=void 0,i}}return n};return r(e,0)},FD=gn("AsyncFunction"),BD=e=>e&&(Pl(e)||jr(e))&&jr(e.then)&&jr(e.catch),Tk=((e,t)=>e?setImmediate:t?((r,n)=>(ps.addEventListener("message",({source:s,data:i})=>{s===ps&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),ps.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",jr(ps.postMessage)),UD=typeof queueMicrotask<"u"?queueMicrotask.bind(ps):typeof process<"u"&&process.nextTick||Tk,WD=e=>e!=null&&jr(e[Ju]),V={isArray:Ki,isArrayBuffer:Ck,isBuffer:Cl,isFormData:xD,isArrayBufferView:iD,isString:oD,isNumber:Pk,isBoolean:lD,isObject:Pl,isPlainObject:sd,isEmptyObject:cD,isReadableStream:yD,isRequest:gD,isResponse:vD,isHeaders:bD,isUndefined:ki,isDate:dD,isFile:uD,isBlob:mD,isRegExp:DD,isFunction:jr,isStream:pD,isURLSearchParams:hD,isTypedArray:PD,isFileList:fD,forEach:El,merge:fx,extend:wD,trim:jD,stripBOM:ND,inherits:kD,toFlatObject:_D,kindOf:em,kindOfTest:gn,endsWith:SD,toArray:CD,forEachEntry:ED,matchAll:OD,isHTMLForm:AD,hasOwnProperty:b0,hasOwnProp:b0,reduceDescriptors:Ak,freezeMethods:ID,toObjectSet:MD,toCamelCase:TD,noop:LD,toFiniteNumber:$D,findKey:Ek,global:ps,isContextDefined:Ok,isSpecCompliantForm:RD,toJSONObject:zD,isAsyncFn:FD,isThenable:BD,setImmediate:Tk,asap:UD,isIterable:WD};function _e(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}V.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Dk=_e.prototype,Ik={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ik[e]={value:e}});Object.defineProperties(_e,Ik);Object.defineProperty(Dk,"isAxiosError",{value:!0});_e.from=(e,t,r,n,s,i)=>{const o=Object.create(Dk);V.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return _e.call(o,l,d,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const KD=null;function px(e){return V.isPlainObject(e)||V.isArray(e)}function Mk(e){return V.endsWith(e,"[]")?e.slice(0,-2):e}function j0(e,t,r){return e?e.concat(t).map(function(s,i){return s=Mk(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function HD(e){return V.isArray(e)&&!e.some(px)}const VD=V.toFlatObject(V,{},null,function(t){return/^is[A-Z]/.test(t)});function rm(e,t,r){if(!V.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=V.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!V.isUndefined(v[g])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(t);if(!V.isFunction(s))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(V.isDate(y))return y.toISOString();if(V.isBoolean(y))return y.toString();if(!d&&V.isBlob(y))throw new _e("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(y)||V.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,g,v){let h=y;if(y&&!v&&typeof y=="object"){if(V.endsWith(g,"{}"))g=n?g:g.slice(0,-2),y=JSON.stringify(y);else if(V.isArray(y)&&HD(y)||(V.isFileList(y)||V.endsWith(g,"[]"))&&(h=V.toArray(y)))return g=Mk(g),h.forEach(function(j,k){!(V.isUndefined(j)||j===null)&&t.append(o===!0?j0([g],k,i):o===null?g:g+"[]",c(j))}),!1}return px(y)?!0:(t.append(j0(v,g,i),c(y)),!1)}const m=[],p=Object.assign(VD,{defaultVisitor:u,convertValue:c,isVisitable:px});function x(y,g){if(!V.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+g.join("."));m.push(y),V.forEach(y,function(h,b){(!(V.isUndefined(h)||h===null)&&s.call(t,h,V.isString(b)?b.trim():b,g,p))===!0&&x(h,g?g.concat(b):[b])}),m.pop()}}if(!V.isObject(e))throw new TypeError("data must be an object");return x(e),t}function w0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function _y(e,t){this._pairs=[],e&&rm(e,this,t)}const Lk=_y.prototype;Lk.append=function(t,r){this._pairs.push([t,r])};Lk.toString=function(t){const r=t?function(n){return t.call(this,n,w0)}:w0;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function qD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function $k(e,t,r){if(!t)return e;const n=r&&r.encode||qD;V.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=V.isURLSearchParams(t)?t.toString():new _y(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class N0{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){V.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Rk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YD=typeof URLSearchParams<"u"?URLSearchParams:_y,GD=typeof FormData<"u"?FormData:null,XD=typeof Blob<"u"?Blob:null,QD={isBrowser:!0,classes:{URLSearchParams:YD,FormData:GD,Blob:XD},protocols:["http","https","file","blob","url","data"]},Sy=typeof window<"u"&&typeof document<"u",xx=typeof navigator=="object"&&navigator||void 0,ZD=Sy&&(!xx||["ReactNative","NativeScript","NS"].indexOf(xx.product)<0),JD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eI=Sy&&window.location.href||"http://localhost",tI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Sy,hasStandardBrowserEnv:ZD,hasStandardBrowserWebWorkerEnv:JD,navigator:xx,origin:eI},Symbol.toStringTag,{value:"Module"})),er={...tI,...QD};function rI(e,t){return rm(e,new er.classes.URLSearchParams,{visitor:function(r,n,s,i){return er.isNode&&V.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function nI(e){return V.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function aI(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function zk(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=r.length;return o=!o&&V.isArray(s)?s.length:o,d?(V.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!V.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&V.isArray(s[o])&&(s[o]=aI(s[o])),!l)}if(V.isFormData(e)&&V.isFunction(e.entries)){const r={};return V.forEachEntry(e,(n,s)=>{t(nI(n),s,r,0)}),r}return null}function sI(e,t,r){if(V.isString(e))try{return(t||JSON.parse)(e),V.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ol={transitional:Rk,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=V.isObject(t);if(i&&V.isHTMLForm(t)&&(t=new FormData(t)),V.isFormData(t))return s?JSON.stringify(zk(t)):t;if(V.isArrayBuffer(t)||V.isBuffer(t)||V.isStream(t)||V.isFile(t)||V.isBlob(t)||V.isReadableStream(t))return t;if(V.isArrayBufferView(t))return t.buffer;if(V.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return rI(t,this.formSerializer).toString();if((l=V.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return rm(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),sI(t)):t}],transformResponse:[function(t){const r=this.transitional||Ol.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(V.isResponse(t)||V.isReadableStream(t))return t;if(t&&V.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?_e.from(l,_e.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:er.classes.FormData,Blob:er.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],e=>{Ol.headers[e]={}});const iI=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oI=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&iI[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},k0=Symbol("internals");function fo(e){return e&&String(e).trim().toLowerCase()}function id(e){return e===!1||e==null?e:V.isArray(e)?e.map(id):String(e)}function lI(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const cI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function zf(e,t,r,n,s){if(V.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!V.isString(t)){if(V.isString(n))return t.indexOf(n)!==-1;if(V.isRegExp(n))return n.test(t)}}function dI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function uI(e,t){const r=V.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let wr=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,d,c){const u=fo(d);if(!u)throw new Error("header name must be a non-empty string");const m=V.findKey(s,u);(!m||s[m]===void 0||c===!0||c===void 0&&s[m]!==!1)&&(s[m||d]=id(l))}const o=(l,d)=>V.forEach(l,(c,u)=>i(c,u,d));if(V.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(V.isString(t)&&(t=t.trim())&&!cI(t))o(oI(t),r);else if(V.isObject(t)&&V.isIterable(t)){let l={},d,c;for(const u of t){if(!V.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(d=l[c])?V.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=fo(t),t){const n=V.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return lI(s);if(V.isFunction(r))return r.call(this,s,n);if(V.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=fo(t),t){const n=V.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||zf(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=fo(o),o){const l=V.findKey(n,o);l&&(!r||zf(n,n[l],l,r))&&(delete n[l],s=!0)}}return V.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||zf(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return V.forEach(this,(s,i)=>{const o=V.findKey(n,i);if(o){r[o]=id(s),delete r[i];return}const l=t?dI(i):String(i).trim();l!==i&&delete r[i],r[l]=id(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return V.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&V.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[k0]=this[k0]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=fo(o);n[l]||(uI(s,o),n[l]=!0)}return V.isArray(t)?t.forEach(i):i(t),this}};wr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(wr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});V.freezeMethods(wr);function Ff(e,t){const r=this||Ol,n=t||r,s=wr.from(n.headers);let i=n.data;return V.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Fk(e){return!!(e&&e.__CANCEL__)}function Hi(e,t,r){_e.call(this,e??"canceled",_e.ERR_CANCELED,t,r),this.name="CanceledError"}V.inherits(Hi,_e,{__CANCEL__:!0});function Bk(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new _e("Request failed with status code "+r.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function mI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fI(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),u=n[i];o||(o=c),r[s]=d,n[s]=c;let m=i,p=0;for(;m!==s;)p+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const x=u&&c-u;return x?Math.round(p*1e3/x):void 0}}function pI(e,t){let r=0,n=1e3/t,s,i;const o=(c,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),m=u-r;m>=n?o(c,u):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},n-m)))},()=>s&&o(s)]}const Fd=(e,t,r=3)=>{let n=0;const s=fI(50,250);return pI(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-n,c=s(d),u=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-o)/c:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},_0=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},S0=e=>(...t)=>V.asap(()=>e(...t)),xI=er.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,er.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(er.origin),er.navigator&&/(msie|trident)/i.test(er.navigator.userAgent)):()=>!0,hI=er.hasStandardBrowserEnv?{write(e,t,r,n,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];V.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),V.isString(n)&&l.push(`path=${n}`),V.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),V.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function yI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function gI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Uk(e,t,r){let n=!yI(t);return e&&(n||r==!1)?gI(e,t):t}const C0=e=>e instanceof wr?{...e}:e;function Os(e,t){t=t||{};const r={};function n(c,u,m,p){return V.isPlainObject(c)&&V.isPlainObject(u)?V.merge.call({caseless:p},c,u):V.isPlainObject(u)?V.merge({},u):V.isArray(u)?u.slice():u}function s(c,u,m,p){if(V.isUndefined(u)){if(!V.isUndefined(c))return n(void 0,c,m,p)}else return n(c,u,m,p)}function i(c,u){if(!V.isUndefined(u))return n(void 0,u)}function o(c,u){if(V.isUndefined(u)){if(!V.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function l(c,u,m){if(m in t)return n(c,u);if(m in e)return n(void 0,c)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,u,m)=>s(C0(c),C0(u),m,!0)};return V.forEach(Object.keys({...e,...t}),function(u){const m=d[u]||s,p=m(e[u],t[u],u);V.isUndefined(p)&&m!==l||(r[u]=p)}),r}const Wk=e=>{const t=Os({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=wr.from(o),t.url=$k(Uk(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),V.isFormData(r)){if(er.hasStandardBrowserEnv||er.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(V.isFunction(r.getHeaders)){const d=r.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,m])=>{c.includes(u.toLowerCase())&&o.set(u,m)})}}if(er.hasStandardBrowserEnv&&(n&&V.isFunction(n)&&(n=n(t)),n||n!==!1&&xI(t.url))){const d=s&&i&&hI.read(i);d&&o.set(s,d)}return t},vI=typeof XMLHttpRequest<"u",bI=vI&&function(e){return new Promise(function(r,n){const s=Wk(e);let i=s.data;const o=wr.from(s.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=s,u,m,p,x,y;function g(){x&&x(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function h(){if(!v)return;const j=wr.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:j,config:e,request:v};Bk(function(P){r(P),g()},function(P){n(P),g()},N),v=null}"onloadend"in v?v.onloadend=h:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(h)},v.onabort=function(){v&&(n(new _e("Request aborted",_e.ECONNABORTED,e,v)),v=null)},v.onerror=function(k){const N=k&&k.message?k.message:"Network Error",w=new _e(N,_e.ERR_NETWORK,e,v);w.event=k||null,n(w),v=null},v.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||Rk;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new _e(k,N.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&V.forEach(o.toJSON(),function(k,N){v.setRequestHeader(N,k)}),V.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),c&&([p,y]=Fd(c,!0),v.addEventListener("progress",p)),d&&v.upload&&([m,x]=Fd(d),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(u=j=>{v&&(n(!j||j.type?new Hi(null,e,v):j),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const b=mI(s.url);if(b&&er.protocols.indexOf(b)===-1){n(new _e("Unsupported protocol "+b+":",_e.ERR_BAD_REQUEST,e));return}v.send(i||null)})},jI=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(c){if(!s){s=!0,l();const u=c instanceof Error?c:this.reason;n.abort(u instanceof _e?u:new Hi(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new _e(`timeout ${t} of ms exceeded`,_e.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>V.asap(l),d}},wI=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},NI=async function*(e,t){for await(const r of kI(e))yield*wI(r,t)},kI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},P0=(e,t,r,n)=>{const s=NI(e,t);let i=0,o,l=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await s.next();if(c){l(),d.close();return}let m=u.byteLength;if(r){let p=i+=m;r(p)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),s.return()}},{highWaterMark:2})},E0=64*1024,{isFunction:_c}=V,_I=(({Request:e,Response:t})=>({Request:e,Response:t}))(V.global),{ReadableStream:O0,TextEncoder:A0}=V.global,T0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},SI=e=>{e=V.merge.call({skipUndefined:!0},_I,e);const{fetch:t,Request:r,Response:n}=e,s=t?_c(t):typeof fetch=="function",i=_c(r),o=_c(n);if(!s)return!1;const l=s&&_c(O0),d=s&&(typeof A0=="function"?(y=>g=>y.encode(g))(new A0):async y=>new Uint8Array(await new r(y).arrayBuffer())),c=i&&l&&T0(()=>{let y=!1;const g=new r(er.origin,{body:new O0,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!g}),u=o&&l&&T0(()=>V.isReadableStream(new n("").body)),m={stream:u&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!m[y]&&(m[y]=(g,v)=>{let h=g&&g[y];if(h)return h.call(g);throw new _e(`Response type '${y}' is not supported`,_e.ERR_NOT_SUPPORT,v)})});const p=async y=>{if(y==null)return 0;if(V.isBlob(y))return y.size;if(V.isSpecCompliantForm(y))return(await new r(er.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(V.isArrayBufferView(y)||V.isArrayBuffer(y))return y.byteLength;if(V.isURLSearchParams(y)&&(y=y+""),V.isString(y))return(await d(y)).byteLength},x=async(y,g)=>{const v=V.toFiniteNumber(y.getContentLength());return v??p(g)};return async y=>{let{url:g,method:v,data:h,signal:b,cancelToken:j,timeout:k,onDownloadProgress:N,onUploadProgress:w,responseType:P,headers:_,withCredentials:C="same-origin",fetchOptions:O}=Wk(y),S=t||fetch;P=P?(P+"").toLowerCase():"text";let E=jI([b,j&&j.toAbortSignal()],k),I=null;const A=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let M;try{if(w&&c&&v!=="get"&&v!=="head"&&(M=await x(_,h))!==0){let X=new r(g,{method:"POST",body:h,duplex:"half"}),T;if(V.isFormData(h)&&(T=X.headers.get("content-type"))&&_.setContentType(T),X.body){const[Q,J]=_0(M,Fd(S0(w)));h=P0(X.body,E0,Q,J)}}V.isString(C)||(C=C?"include":"omit");const B=i&&"credentials"in r.prototype,W={...O,signal:E,method:v.toUpperCase(),headers:_.normalize().toJSON(),body:h,duplex:"half",credentials:B?C:void 0};I=i&&new r(g,W);let L=await(i?S(I,O):S(g,W));const R=u&&(P==="stream"||P==="response");if(u&&(N||R&&A)){const X={};["status","statusText","headers"].forEach(D=>{X[D]=L[D]});const T=V.toFiniteNumber(L.headers.get("content-length")),[Q,J]=N&&_0(T,Fd(S0(N),!0))||[];L=new n(P0(L.body,E0,Q,()=>{J&&J(),A&&A()}),X)}P=P||"text";let $=await m[V.findKey(m,P)||"text"](L,y);return!R&&A&&A(),await new Promise((X,T)=>{Bk(X,T,{data:$,headers:wr.from(L.headers),status:L.status,statusText:L.statusText,config:y,request:I})})}catch(B){throw A&&A(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,y,I),{cause:B.cause||B}):_e.from(B,B&&B.code,y,I)}}},CI=new Map,Kk=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,d,c,u=CI;for(;l--;)d=i[l],c=u.get(d),c===void 0&&u.set(d,c=l?new Map:SI(t)),u=c;return c};Kk();const Cy={http:KD,xhr:bI,fetch:{get:Kk}};V.forEach(Cy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const D0=e=>`- ${e}`,PI=e=>V.isFunction(e)||e===null||e===!1;function EI(e,t){e=V.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!PI(n)&&(s=Cy[(l=String(n)).toLowerCase()],s===void 0))throw new _e(`Unknown adapter '${l}'`);if(s&&(V.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(D0).join(`
`):" "+D0(o[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const Hk={getAdapter:EI,adapters:Cy};function Bf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Hi(null,e)}function I0(e){return Bf(e),e.headers=wr.from(e.headers),e.data=Ff.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Hk.getAdapter(e.adapter||Ol.adapter,e)(e).then(function(n){return Bf(e),n.data=Ff.call(e,e.transformResponse,n),n.headers=wr.from(n.headers),n},function(n){return Fk(n)||(Bf(e),n&&n.response&&(n.response.data=Ff.call(e,e.transformResponse,n.response),n.response.headers=wr.from(n.response.headers))),Promise.reject(n)})}const Vk="1.13.2",nm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nm[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const M0={};nm.transitional=function(t,r,n){function s(i,o){return"[Axios v"+Vk+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new _e(s(o," has been removed"+(r?" in "+r:"")),_e.ERR_DEPRECATED);return r&&!M0[o]&&(M0[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};nm.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function OI(e,t,r){if(typeof e!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new _e("option "+i+" must be "+d,_e.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new _e("Unknown option "+i,_e.ERR_BAD_OPTION)}}const od={assertOptions:OI,validators:nm},Nn=od.validators;let bs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new N0,response:new N0}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Os(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&od.assertOptions(n,{silentJSONParsing:Nn.transitional(Nn.boolean),forcedJSONParsing:Nn.transitional(Nn.boolean),clarifyTimeoutError:Nn.transitional(Nn.boolean)},!1),s!=null&&(V.isFunction(s)?r.paramsSerializer={serialize:s}:od.assertOptions(s,{encode:Nn.function,serialize:Nn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),od.assertOptions(r,{baseUrl:Nn.spelling("baseURL"),withXsrfToken:Nn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&V.merge(i.common,i[r.method]);i&&V.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=wr.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(d=d&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,m=0,p;if(!d){const y=[I0.bind(this),void 0];for(y.unshift(...l),y.push(...c),p=y.length,u=Promise.resolve(r);m<p;)u=u.then(y[m++],y[m++]);return u}p=l.length;let x=r;for(;m<p;){const y=l[m++],g=l[m++];try{x=y(x)}catch(v){g.call(this,v);break}}try{u=I0.call(this,x)}catch(y){return Promise.reject(y)}for(m=0,p=c.length;m<p;)u=u.then(c[m++],c[m++]);return u}getUri(t){t=Os(this.defaults,t);const r=Uk(t.baseURL,t.url,t.allowAbsoluteUrls);return $k(r,t.params,t.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(t){bs.prototype[t]=function(r,n){return this.request(Os(n||{},{method:t,url:r,data:(n||{}).data}))}});V.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(Os(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}bs.prototype[t]=r(),bs.prototype[t+"Form"]=r(!0)});let AI=class qk{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Hi(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new qk(function(s){t=s}),cancel:t}}};function TI(e){return function(r){return e.apply(null,r)}}function DI(e){return V.isObject(e)&&e.isAxiosError===!0}const hx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(hx).forEach(([e,t])=>{hx[t]=e});function Yk(e){const t=new bs(e),r=_k(bs.prototype.request,t);return V.extend(r,bs.prototype,t,{allOwnKeys:!0}),V.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Yk(Os(e,s))},r}const st=Yk(Ol);st.Axios=bs;st.CanceledError=Hi;st.CancelToken=AI;st.isCancel=Fk;st.VERSION=Vk;st.toFormData=rm;st.AxiosError=_e;st.Cancel=st.CanceledError;st.all=function(t){return Promise.all(t)};st.spread=TI;st.isAxiosError=DI;st.mergeConfig=Os;st.AxiosHeaders=wr;st.formToJSON=e=>zk(V.isHTMLForm(e)?new FormData(e):e);st.getAdapter=Hk.getAdapter;st.HttpStatusCode=hx;st.default=st;const{Axios:KG,AxiosError:HG,CanceledError:VG,isCancel:qG,CancelToken:YG,VERSION:GG,all:XG,Cancel:QG,isAxiosError:ZG,spread:JG,toFormData:eX,AxiosHeaders:tX,HttpStatusCode:rX,formToJSON:nX,getAdapter:aX,mergeConfig:sX}=st,Gk=f.createContext(),II=()=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:8001":"",Py=II();console.log(" Backend URL:",Py,"| Hostname:",window.location.hostname);const So=st.create({baseURL:Py,headers:{"Content-Type":"application/json"}});So.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const we=()=>{const e=f.useContext(Gk);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},MI=({children:e})=>{const[t,r]=f.useState(null),[n,s]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{if(localStorage.getItem("token"))try{const u=await So.get("/api/auth/me");r(u.data)}catch{localStorage.removeItem("token"),localStorage.removeItem("user")}s(!1)},o=async(c,u)=>{var m,p;try{console.log("Attempting login to:",`${Py}/api/auth/login`);const x=await So.post("/api/auth/login",{email:c,password:u}),{access_token:y,user:g}=x.data;return localStorage.setItem("token",y),localStorage.setItem("user",JSON.stringify(g)),r(g),{success:!0}}catch(x){return console.error("Login error:",x),{success:!1,error:((p=(m=x.response)==null?void 0:m.data)==null?void 0:p.detail)||x.message||"Login failed - Network error"}}},l=async c=>{var u,m;try{return{success:!0,message:(await So.post("/api/auth/register",c)).data.message}}catch(p){return{success:!1,error:((m=(u=p.response)==null?void 0:u.data)==null?void 0:m.detail)||"Registration failed"}}},d=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)};return a.jsx(Gk.Provider,{value:{user:t,loading:n,login:o,register:l,logout:d,api:So},children:e})},Xk=f.createContext(),Ey=()=>{const e=f.useContext(Xk);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},LI=({children:e})=>{const[t,r]=f.useState(()=>localStorage.getItem("theme")||"dark"),[n,s]=f.useState(()=>localStorage.getItem("language")||"ru");f.useEffect(()=>{localStorage.setItem("theme",t),t==="light"?document.documentElement.classList.add("light-theme"):document.documentElement.classList.remove("light-theme")},[t]),f.useEffect(()=>{localStorage.setItem("language",n)},[n]);const i=()=>{r(l=>l==="dark"?"light":"dark")},o=l=>{s(l)};return a.jsx(Xk.Provider,{value:{theme:t,language:n,toggleTheme:i,changeLanguage:o},children:e})},L0={ru:{loading:"// ...",save:"",cancel:"",delete:"",edit:"",create:"",view:"",search:"",filter:"",actions:"",status:"",login:"",register:"",logout:"",email:"Email",password:"",fullName:" ",companyName:" ",inn:"",adminPanel:"",sellerPanel:"",overview:"",users:"",analytics:"",products:"",orders:"",inventory:"",apiKeys:"API ",finance:"",balance:"",promocodes:"",questions:"",reviews:"",dashboard:"",sellers:"",payouts:"",categories:"",addProduct:"+  ",editProduct:" ",createProduct:" ",productList:"",sku:"",name:"",price:"",description:"",tags:"",images:"",quality:"",variant:"",orderList:"",orderNumber:" ",customer:"",source:"",total:"",date:"",inventoryManagement:" ",fbs:"FBS ( )",fbo:"FBO ( )",history:" ",quantity:"",reserved:"",available:"",adjust:"",settings:"",theme:"",language:"",currency:"",dark:"",light:"",noDistractionsJustResults:"//  ,  ",enterCredentials:"//   ",manageProducts:"//   ",trackOrders:"//  ",warehouseManagement:"//   "},en:{loading:"// LOADING...",save:"SAVE",cancel:"CANCEL",delete:"DELETE",edit:"EDIT",create:"CREATE",view:"VIEW",search:"Search",filter:"Filter",actions:"Actions",status:"Status",login:"LOGIN",register:"REGISTER",logout:"LOGOUT",email:"Email",password:"Password",fullName:"Full Name",companyName:"Company Name",inn:"Tax ID",adminPanel:"ADMIN",sellerPanel:"SELLER",overview:"Overview",users:"Users",analytics:"Analytics",products:"Products",orders:"Orders",inventory:"Inventory",apiKeys:"API Keys",finance:"Finance",balance:"Balance",promocodes:"Promocodes",questions:"Questions",reviews:"Reviews",dashboard:"Dashboard",sellers:"Sellers",payouts:"Payouts",categories:"Categories",addProduct:"+ ADD PRODUCT",editProduct:"EDIT PRODUCT",createProduct:"CREATE PRODUCT",productList:"PRODUCTS",sku:"SKU",name:"Name",price:"Price",description:"Description",tags:"Tags",images:"Images",quality:"Quality",variant:"Variant",orderList:"ORDERS",orderNumber:"Order #",customer:"Customer",source:"Source",total:"Total",date:"Date",inventoryManagement:"INVENTORY",fbs:"FBS (Own Warehouse)",fbo:"FBO (Marketplace Warehouses)",history:"Movement History",quantity:"Quantity",reserved:"Reserved",available:"Available",adjust:"ADJUST",settings:"SETTINGS",theme:"THEME",language:"LANGUAGE",currency:"CURRENCY",dark:"Dark",light:"Light",noDistractionsJustResults:"// No distractions, Just results",enterCredentials:"// Enter your credentials",manageProducts:"// Manage your product catalog",trackOrders:"// Track your sales",warehouseManagement:"// Manage warehouse and stock levels"}},$I=e=>({t:r=>{var n;return((n=L0[e])==null?void 0:n[r])||L0.en[r]||r}});function RI(){const e=Jr(),{login:t}=we(),{language:r}=Ey(),{t:n}=$I(r),[s,i]=f.useState({email:"",password:""}),[o,l]=f.useState(""),[d,c]=f.useState(!1),u=async p=>{p.preventDefault(),l(""),c(!0);const x=await t(s.email,s.password);x.success?e("/"):l(x.error),c(!1)},m=p=>{i({...s,[p.target.name]:p.target.value})};return a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-5xl font-bold mb-4 text-mm-text",children:["MINIMAL",a.jsx("span",{className:"text-mm-purple",children:"MOD"})]}),a.jsx("p",{className:"comment",children:n("noDistractionsJustResults")})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan",children:n("login")}),a.jsx("p",{className:"comment mb-8",children:n("enterCredentials")}),o&&a.jsx("div",{className:"mb-6 p-4 border border-mm-red bg-mm-red/10 text-mm-red text-sm font-mono",children:o}),a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase tracking-wider",children:n("email")}),a.jsx("input",{type:"email",name:"email",value:s.email,onChange:m,className:"input-neon w-full",placeholder:"admin@minimalmod.com",required:!0,"data-testid":"login-email-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase tracking-wider",children:n("password")}),a.jsx("input",{type:"password",name:"password",value:s.password,onChange:m,className:"input-neon w-full",placeholder:"",required:!0,"data-testid":"login-password-input"})]}),a.jsx("button",{type:"submit",disabled:d,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"login-submit-button",children:d?n("loading"):`// ${n("login")}`})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-mm-border",children:a.jsxs("p",{className:"text-mm-text-secondary text-sm text-center",children:[a.jsx("span",{className:"comment",children:"// New seller?"})," ",a.jsx(ad,{to:"/register",className:"text-mm-cyan hover:text-mm-cyan/80 transition-colors",children:"Register here"})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-mm-darker border border-mm-border",children:[a.jsx("p",{className:"comment text-xs mb-2",children:"// Demo credentials:"}),a.jsx("p",{className:"text-xs text-mm-text-secondary",children:"Admin: admin@minimalmod.com / admin123"})]})]})]})})}var Qk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$0=te.createContext&&te.createContext(Qk),Ra=function(){return Ra=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ra.apply(this,arguments)},zI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function Zk(e){return e&&e.map(function(t,r){return te.createElement(t.tag,Ra({key:r},t.attr),Zk(t.child))})}function ge(e){return function(t){return te.createElement(FI,Ra({attr:Ra({},e.attr)},t),Zk(e.child))}}function FI(e){var t=function(r){var n=e.attr,s=e.size,i=e.title,o=zI(e,["attr","size","title"]),l=s||r.size||"1em",d;return r.className&&(d=r.className),e.className&&(d=(d?d+" ":"")+e.className),te.createElement("svg",Ra({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:d,style:Ra(Ra({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&te.createElement("title",null,i),e.children)};return $0!==void 0?te.createElement($0.Consumer,null,function(r){return t(r)}):t(Qk)}function Jk(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(e)}function Hn(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}function R0(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(e)}function e_(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(e)}function BI(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"}},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"}}]})(e)}function yx(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function Bd(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"}}]})(e)}function UI(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"}},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}}]})(e)}function Kt(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function Vi(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function Oy(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"}}]})(e)}function Zn(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}function Jn(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(e)}function Vt(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(e)}function Ay(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(e)}function Ua(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function am(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(e)}function t_(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"}},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"}},{tag:"polyline",attr:{points:"10 9 9 9 8 9"}}]})(e)}function Ty(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(e)}function z0(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}}]})(e)}function r_(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(e)}function gx(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"}},{tag:"polyline",attr:{points:"21 15 16 10 5 21"}}]})(e)}function WI(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"}}]})(e)}function n_(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}}]})(e)}function KI(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"}},{tag:"polyline",attr:{points:"2 17 12 22 22 17"}},{tag:"polyline",attr:{points:"2 12 12 17 22 12"}}]})(e)}function zo(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}}]})(e)}function HI(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"}}]})(e)}function F0(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"}},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"}},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"}},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"}},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}}]})(e)}function VI(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"}}]})(e)}function qI(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}}]})(e)}function vt(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function B0(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"}},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"}},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"}}]})(e)}function Dy(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"}}]})(e)}function Ir(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function a_(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"}},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"}}]})(e)}function _t(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"polyline",attr:{points:"1 20 1 14 7 14"}},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}}]})(e)}function _i(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(e)}function ea(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function s_(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function YI(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"}}]})(e)}function Ud(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"}},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"}},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}}]})(e)}function GI(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}}]})(e)}function Sc(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(e)}function XI(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"}},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"}},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}}]})(e)}function i_(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"}}]})(e)}function vn(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function Si(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"}},{tag:"polyline",attr:{points:"17 18 23 18 23 12"}}]})(e)}function Wa(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(e)}function o_(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"}},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"}},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"}},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"}}]})(e)}function ir(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(e)}function Ci(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function QI(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function Iy(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"}}]})(e)}function yt(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}function l_(){const[e,t]=f.useState(!1),r=f.useRef(null),{theme:n,language:s,toggleTheme:i,changeLanguage:o}=Ey();return f.useEffect(()=>{const l=d=>{r.current&&!r.current.contains(d.target)&&t(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),a.jsxs("div",{className:"relative",ref:r,children:[a.jsx("button",{onClick:()=>t(!e),className:"p-2 border-2 border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":"settings-button",children:a.jsx(s_,{size:20,className:e?"animate-spin":""})}),e&&a.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-mm-dark border-2 border-mm-cyan shadow-neon-cyan z-50","data-testid":"settings-dropdown",children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"THEME"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>{n!=="dark"&&i()},className:`p-4 border-2 transition-all ${n==="dark"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"theme-dark",children:[a.jsx(qI,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"Dark"})]}),a.jsxs("button",{onClick:()=>{n!=="light"&&i()},className:`p-4 border-2 transition-all ${n==="light"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"theme-light",children:[a.jsx(XI,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"Light"})]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"LANGUAGE"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>o("ru"),className:`p-4 border-2 transition-all ${s==="ru"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"lang-ru",children:[a.jsx(z0,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"RU"})]}),a.jsxs("button",{onClick:()=>o("en"),className:`p-4 border-2 transition-all ${s==="en"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"lang-en",children:[a.jsx(z0,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"EN"})]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"CURRENCY"}),a.jsxs("select",{className:"input-neon w-full",defaultValue:"RUB",children:[a.jsx("option",{value:"RUB",children:"RUB "}),a.jsx("option",{value:"USD",children:"USD $"}),a.jsx("option",{value:"EUR",children:"EUR "})]})]}),a.jsx("div",{className:"pt-4 border-t border-mm-border",children:a.jsx("p",{className:"comment text-xs text-center",children:"// Settings saved automatically"})})]})})]})}function Pi(e){return ge({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2l-2.218-.887zm3.564 1.426L5.596 5 8 5.961 14.154 3.5l-2.404-.961zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"}}]})(e)}const c_=()=>{const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,d]=f.useState(""),[c,u]=f.useState({name:"",client_id:"",api_key:"",auto_sync_stock:!0,auto_update_prices:!1,auto_get_orders:!0}),[m,p]=f.useState(!1),[x,y]=f.useState(!1),g=[{id:"ozon",name:"Ozon",logo:"",description:"  Ozon    ,  FBS  ",helpText:"        : Admin, Product, Posting, Finance, Analytics, Warehouse, Orders",requiredPermissions:["Admin","Product","Posting","Finance","Analytics","Warehouse","Orders"],docsLink:"https://seller.ozon.ru/app/settings/api-keys?currentTab=sellerApi",fields:[{name:"name",label:" ",type:"text",placeholder:":   OZON"},{name:"client_id",label:"Client ID",type:"text",placeholder:" Client ID"},{name:"api_key",label:"API Key",type:"password",placeholder:" API ",helpText:"   "}]},{id:"wb",name:"Wildberries",logo:"",description:"  Wildberries    ,  FBS  ",fields:[{name:"name",label:" ",type:"text",placeholder:":   WB"},{name:"api_key",label:"API Token",type:"password",placeholder:" API "}]},{id:"yandex",name:"Yandex.Market",logo:"",description:"  .    ,  FBS  ",fields:[{name:"name",label:" ",type:"text",placeholder:":   "},{name:"client_id",label:"Campaign ID",type:"text",placeholder:" Campaign ID"},{name:"api_key",label:"OAuth Token",type:"password",placeholder:" OAuth "}]}];f.useEffect(()=>{v()},[]);const v=async()=>{try{const C=await e.get("/api/seller/api-keys");r(C.data)}catch(C){console.error("Error loading API keys:",C)}finally{s(!1)}},h=C=>{d(C),u({name:"",client_id:"",api_key:"",auto_sync_stock:!0,auto_update_prices:!1,auto_get_orders:!0}),o(!0)},b=async()=>{var C,O;p(!0);try{const S=await e.post("/api/seller/api-keys/test",{marketplace:l,client_id:c.client_id,api_key:c.api_key});S.data.success,alert(S.data.message)}catch(S){alert(" : "+(((O=(C=S.response)==null?void 0:C.data)==null?void 0:O.detail)||S.message))}finally{p(!1)}},j=async()=>{var C,O;if(!c.api_key||!c.api_key.trim()){alert("API  ");return}y(!0);try{await e.post("/api/seller/api-keys",{marketplace:l,name:c.name,client_id:c.client_id,api_key:c.api_key}),alert("   !"),o(!1),v()}catch(S){alert(": "+(((O=(C=S.response)==null?void 0:C.data)==null?void 0:O.detail)||S.message))}finally{y(!1)}},k=async(C,O)=>{var S,E;if(confirm(`  ${O.toUpperCase()}?`))try{await e.delete(`/api/seller/api-keys/${C}`),alert("  "),v()}catch(I){alert(": "+(((E=(S=I.response)==null?void 0:S.data)==null?void 0:E.detail)||I.message))}},N=async(C,O,S)=>{var E,I;try{await e.put(`/api/seller/api-keys/${C}`,{[O]:!S}),v()}catch(A){alert(" : "+(((I=(E=A.response)==null?void 0:E.data)==null?void 0:I.detail)||A.message))}},w=C=>{const O=g.find(S=>S.id===C);return O?O.logo:""},P=C=>{const O=g.find(S=>S.id===C);return O?O.name:C};if(n)return a.jsx("div",{className:"p-8",children:a.jsx("div",{className:"text-mm-cyan",children:"..."})});const _=g.find(C=>C.id===l);return a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan mb-2",children:""}),a.jsx("p",{className:"text-gray-400",children:"    "})]}),t.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(C=>a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 hover:border-mm-cyan transition",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-4xl",children:w(C.marketplace)}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-white",children:C.name||P(C.marketplace)}),a.jsx("p",{className:"text-xs text-gray-500",children:P(C.marketplace)})]})]}),a.jsx("button",{onClick:()=>k(C.id,C.marketplace),className:"p-2 text-red-500 hover:bg-red-500/10 rounded transition",title:"",children:a.jsx(vn,{})})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Client ID:"}),a.jsx("span",{className:"text-gray-300",children:C.client_id||""})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"API Key:"}),a.jsx("span",{className:"text-gray-300",children:C.api_key_masked})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:":"}),a.jsx("span",{className:"text-gray-300",children:new Date(C.created_at).toLocaleDateString("ru-RU")})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-800 space-y-2",children:[a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[a.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),a.jsx("input",{type:"checkbox",checked:C.auto_sync_stock!==!1,onChange:()=>N(C.id,"auto_sync_stock",C.auto_sync_stock!==!1),className:"w-4 h-4 rounded"})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[a.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),a.jsx("input",{type:"checkbox",checked:C.auto_update_prices===!0,onChange:()=>N(C.id,"auto_update_prices",C.auto_update_prices===!0),className:"w-4 h-4 rounded"})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[a.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),a.jsx("input",{type:"checkbox",checked:C.auto_get_orders!==!1,onChange:()=>N(C.id,"auto_get_orders",C.auto_get_orders!==!1),className:"w-4 h-4 rounded"})]})]})]},C.id))})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(C=>{const O=t.some(S=>S.marketplace===C.id);return a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 hover:border-mm-cyan transition",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"text-6xl mb-3",children:C.logo}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:C.name}),a.jsx("p",{className:"text-sm text-gray-400",children:C.description})]}),a.jsxs("button",{onClick:()=>h(C.id),className:"w-full px-4 py-3 bg-mm-purple hover:bg-purple-600 rounded-lg transition font-medium flex items-center justify-center space-x-2",children:[a.jsx(Ir,{}),a.jsx("span",{children:O?" ":""})]})]},C.id)})})]}),i&&_&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-3xl",children:_.logo}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-cyan",children:_.name}),a.jsx("p",{className:"text-sm text-gray-400",children:_.description})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition",children:a.jsx(yt,{size:24})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[_.helpText&&a.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-yellow-200 mb-3 font-semibold",children:_.helpText}),_.requiredPermissions&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-xs text-yellow-300/80 mb-2",children:"  :"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:_.requiredPermissions.map(C=>a.jsxs("span",{className:"px-2 py-1 bg-yellow-600/20 text-yellow-200 text-xs rounded border border-yellow-600/30",children:[" ",C]},C))})]}),_.docsLink&&a.jsx("a",{href:_.docsLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-xs text-cyan-400 hover:text-cyan-300 underline",children:"    Ozon Seller (  !)"})]}),_.fields.map(C=>a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:[C.label,C.name!=="name"&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"}),C.helpText&&a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",C.helpText,")"]})]}),a.jsx("input",{type:C.type,value:c[C.name],onChange:O=>u({...c,[C.name]:O.target.value}),placeholder:C.placeholder,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan text-white"})]},C.name)),a.jsxs("div",{className:"pt-4 border-t border-gray-800",children:[a.jsx("p",{className:"text-sm font-medium mb-3 text-gray-300",children:" :"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.auto_sync_stock,onChange:C=>u({...c,auto_sync_stock:C.target.checked}),className:"w-5 h-5 rounded"}),a.jsx("span",{className:"text-sm text-gray-400",children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.auto_update_prices,onChange:C=>u({...c,auto_update_prices:C.target.checked}),className:"w-5 h-5 rounded"}),a.jsx("span",{className:"text-sm text-gray-400",children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.auto_get_orders,onChange:C=>u({...c,auto_get_orders:C.target.checked}),className:"w-5 h-5 rounded"}),a.jsx("span",{className:"text-sm text-gray-400",children:"  "})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-800 flex justify-end space-x-3",children:[a.jsx("button",{onClick:b,disabled:m||!c.api_key,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:cursor-not-allowed rounded-lg transition font-medium",children:m?"...":" "}),a.jsx("button",{onClick:j,disabled:x||!c.api_key,className:"px-6 py-3 bg-mm-cyan hover:bg-cyan-400 text-black disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed rounded-lg transition font-bold",children:x?"...":""})]})]})})]})};function ZI(){const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState({status:"",source:""});f.useEffect(()=>{l()},[i]);const l=async()=>{try{const u=new URLSearchParams;i.status&&u.append("status",i.status),i.source&&u.append("source",i.source);const m=await e.get(`/api/orders?${u.toString()}`);r(m.data)}catch(u){console.error("Failed to load orders:",u)}s(!1)},d=u=>{switch(u){case"new":return a.jsx(Zn,{className:"inline text-mm-blue"});case"awaiting_shipment":return a.jsx(vt,{className:"inline text-mm-yellow"});case"shipped":return a.jsx(o_,{className:"inline text-mm-cyan"});case"delivered":return a.jsx(Bd,{className:"inline text-mm-green"});case"cancelled":return a.jsx(Iy,{className:"inline text-mm-red"});default:return a.jsx(Zn,{className:"inline"})}},c=u=>({minimalmod:"border-mm-purple text-mm-purple",ozon:"border-mm-blue text-mm-blue",wildberries:"border-mm-purple text-mm-purple",yandex_market:"border-mm-yellow text-mm-yellow"})[u]||"border-mm-cyan text-mm-cyan";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"Orders"}),a.jsx("p",{className:"comment",children:"// Manage all your orders"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("select",{value:i.status,onChange:u=>o({...i,status:u.target.value}),className:"input-neon",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"new",children:"New"}),a.jsx("option",{value:"awaiting_shipment",children:"Awaiting Shipment"}),a.jsx("option",{value:"shipped",children:"Shipped"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:i.source,onChange:u=>o({...i,source:u.target.value}),className:"input-neon",children:[a.jsx("option",{value:"",children:"All Sources"}),a.jsx("option",{value:"minimalmod",children:"MinimalMod"}),a.jsx("option",{value:"ozon",children:"Ozon"}),a.jsx("option",{value:"wildberries",children:"Wildberries"}),a.jsx("option",{value:"yandex_market",children:"Yandex.Market"})]})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(vt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No orders found"}),a.jsx("p",{className:"comment",children:"// Orders will appear here once created"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Order #"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Customer"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Source"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Total"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Status"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),a.jsx("tbody",{children:t.map(u=>{var m,p,x,y;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:u.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date((m=u.dates)==null?void 0:m.created_at).toLocaleDateString()}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:((p=u.customer)==null?void 0:p.name)||"N/A"}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${c(u.source)}`,children:u.source})}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:["",((y=(x=u.totals)==null?void 0:x.total)==null?void 0:y.toLocaleString())||0]}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("span",{className:"flex items-center space-x-2",children:[d(u.status),a.jsx("span",{className:"text-sm font-mono uppercase",children:u.status})]})}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsx("button",{onClick:()=>window.location.href=`/orders/${u.id}`,className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors text-xs uppercase font-mono","data-testid":`view-order-${u.id}`,children:"View"})})]},u.id)})})]})})})]})}function d_(){const{api:e}=we(),{language:t}=Ey(),[r,n]=f.useState({revenue:0,costs:0,cogs:0,gross_profit:0,net_profit:0,margin:0,transactions_count:0}),[s,i]=f.useState(!0);f.useEffect(()=>{o()},[]);const o=async()=>{try{const l=await e.get("/api/finance/dashboard");n(l.data)}catch(l){console.error("Failed to load finance dashboard:",l)}i(!1)};return s?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"FINANCIAL DASHBOARD"}),a.jsx("p",{className:"comment",children:"// Your financial overview"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Revenue"}),a.jsxs("p",{className:"text-4xl font-bold text-mm-green flex items-center",children:[a.jsx(Wa,{className:"mr-2"}),"",r.revenue.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Costs"}),a.jsxs("p",{className:"text-4xl font-bold text-mm-red flex items-center",children:[a.jsx(Si,{className:"mr-2"}),"",r.costs.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Net Profit"}),a.jsxs("p",{className:`text-4xl font-bold flex items-center ${r.net_profit>=0?"text-mm-green":"text-mm-red"}`,children:[a.jsx(Jn,{className:"mr-2"}),"",r.net_profit.toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// COGS (Cost of Goods)"}),a.jsxs("p",{className:"text-2xl font-bold text-mm-yellow",children:["",r.cogs.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Gross Profit"}),a.jsxs("p",{className:"text-2xl font-bold text-mm-cyan",children:["",r.gross_profit.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Margin"}),a.jsxs("p",{className:"text-2xl font-bold text-mm-purple",children:[r.margin,"%"]})]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:"PROFIT BREAKDOWN"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[a.jsx("span",{className:"font-mono text-mm-text-secondary",children:"Revenue"}),a.jsxs("span",{className:"font-mono text-mm-green",children:["+ ",r.revenue.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[a.jsx("span",{className:"font-mono text-mm-text-secondary",children:"COGS"}),a.jsxs("span",{className:"font-mono text-mm-red",children:["- ",r.cogs.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border font-bold",children:[a.jsx("span",{className:"font-mono",children:"Gross Profit"}),a.jsxs("span",{className:"font-mono text-mm-cyan",children:["",r.gross_profit.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[a.jsx("span",{className:"font-mono text-mm-text-secondary",children:"Operating Costs"}),a.jsxs("span",{className:"font-mono text-mm-red",children:["- ",r.costs.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 font-bold text-lg",children:[a.jsx("span",{className:"font-mono",children:"Net Profit"}),a.jsxs("span",{className:`font-mono ${r.net_profit>=0?"text-mm-green":"text-mm-red"}`,children:["",r.net_profit.toLocaleString()]})]})]})]}),a.jsx("div",{className:"card-neon",children:a.jsxs("p",{className:"comment",children:["// Transactions processed: ",r.transactions_count]})})]})}function u_({isAdmin:e=!1}){const{api:t}=we(),[r,n]=f.useState([]),[s,i]=f.useState(!0),[o,l]=f.useState(!1),[d,c]=f.useState("");f.useEffect(()=>{u()},[]);const u=async()=>{try{const v=await t.get("/api/payouts");n(v.data)}catch(v){console.error("Failed to load payouts:",v)}i(!1)},m=async v=>{v.preventDefault();try{await t.post("/api/payouts/request",null,{params:{amount:parseFloat(d)}}),l(!1),c(""),u(),alert("Payout request submitted!")}catch{alert("Failed to request payout")}},p=async v=>{try{await t.put(`/api/admin/payouts/${v}/approve`),u()}catch(h){console.error("Failed to approve:",h)}},x=async v=>{try{await t.put(`/api/admin/payouts/${v}/paid`),u()}catch(h){console.error("Failed to mark paid:",h)}},y=async v=>{try{await t.put(`/api/admin/payouts/${v}/reject`),u()}catch(h){console.error("Failed to reject:",h)}},g=v=>{const h={pending:{class:"status-pending",icon:Zn,text:"PENDING"},approved:{class:"status-new",icon:Bd,text:"APPROVED"},paid:{class:"status-active",icon:Bd,text:"PAID"},rejected:{class:"status-error",icon:Iy,text:"REJECTED"}};return h[v]||h.pending};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:e?"PAYOUT REQUESTS":"BALANCE & PAYOUTS"}),a.jsx("p",{className:"comment",children:e?"// Manage seller payout requests":"// Request withdrawals"})]}),!e&&a.jsx("button",{onClick:()=>l(!0),className:"btn-primary","data-testid":"request-payout-button",children:" REQUEST PAYOUT"})]}),s?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):r.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(Jn,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No payout requests"}),a.jsxs("p",{className:"comment",children:["// ",e?"Requests will appear here":'Click "REQUEST PAYOUT" to withdraw funds']})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),e&&a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Seller"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Amount"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Status"}),e&&a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),a.jsx("tbody",{children:r.map(v=>{const h=g(v.status),b=h.icon;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(v.created_at).toLocaleDateString()}),e&&a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[v.seller_id.substring(0,8),"..."]}),a.jsxs("td",{className:"py-4 px-4 font-mono text-lg text-mm-green",children:["",v.amount.toLocaleString()]}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("span",{className:h.class,children:[a.jsx(b,{className:"inline mr-1"}),h.text]})}),e&&a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[v.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>p(v.id),className:"px-3 py-1 border border-mm-green text-mm-green hover:bg-mm-green/10 text-xs uppercase font-mono",children:"APPROVE"}),a.jsx("button",{onClick:()=>y(v.id),className:"px-3 py-1 border border-mm-red text-mm-red hover:bg-mm-red/10 text-xs uppercase font-mono",children:"REJECT"})]}),v.status==="approved"&&a.jsx("button",{onClick:()=>x(v.id),className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 text-xs uppercase font-mono",children:"MARK AS PAID"})]})]},v.id)})})]})})}),o&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"card-neon max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan",children:"REQUEST PAYOUT"}),a.jsx("button",{onClick:()=>l(!1),className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:""})]}),a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Amount"}),a.jsx("input",{type:"number",step:"0.01",value:d,onChange:v=>c(v.target.value),className:"input-neon w-full",placeholder:"10000.00",required:!0}),a.jsx("p",{className:"comment text-xs mt-1",children:"// Enter amount in RUB"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"REQUEST"}),a.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})})]})}function m_(){const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,d]=f.useState(null);f.useEffect(()=>{c()},[]);const c=async()=>{s(!0);try{const m=await e.get("/api/warehouses");r(m.data)}catch(m){G.error("  "),console.error(m)}s(!1)},u=async m=>{var p,x;if(confirm(`  "${m.name}"?`))try{await e.delete(`/api/warehouses/${m.id}`),G.success(" "),c()}catch(y){G.error(((x=(p=y.response)==null?void 0:p.data)==null?void 0:x.detail)||" ")}};return a.jsx("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan uppercase mb-2","data-testid":"warehouses-title",children:""}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"//    "})]}),a.jsxs("button",{onClick:()=>{d(null),o(!0)},className:"btn-primary flex items-center space-x-2","data-testid":"create-warehouse-btn",children:[a.jsx(Ir,{}),a.jsx("span",{children:" "})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16","data-testid":"empty-state",children:[a.jsx(Pi,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-6",children:"//      "}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[a.jsx(Ir,{className:"inline mr-2"})," "]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(m=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`warehouse-row-${m.id}`,children:[a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Pi,{className:"text-mm-cyan",size:20}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:m.name}),m.address&&a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:m.address})]})]})}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:`px-3 py-1 text-xs font-mono uppercase rounded ${m.type==="main"?"bg-mm-cyan/20 text-mm-cyan border border-mm-cyan":m.type==="marketplace"?"bg-mm-purple/20 text-mm-purple border border-mm-purple":"bg-mm-yellow/20 text-mm-yellow border border-mm-yellow"}`,children:m.type})}),a.jsx("td",{className:"py-4 px-4 text-center",children:a.jsx("span",{className:"text-mm-cyan font-mono font-bold",children:m.priority||1})}),a.jsx("td",{className:"py-4 px-4 text-center",children:m.transfer_stock?a.jsx(Kt,{className:"inline text-mm-green",size:20}):a.jsx(yt,{className:"inline text-mm-red",size:20})}),a.jsx("td",{className:"py-4 px-4 text-center",children:m.use_for_orders?a.jsx(Kt,{className:"inline text-mm-green",size:20}):a.jsx(yt,{className:"inline text-mm-red",size:20})}),a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[a.jsx("button",{onClick:()=>{d(m),o(!0)},className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":`edit-warehouse-${m.id}`,children:a.jsx(Ua,{size:16})}),m.type!=="main"&&a.jsx("button",{onClick:()=>u(m),className:"px-3 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors","data-testid":`delete-warehouse-${m.id}`,children:a.jsx(vn,{size:16})})]})]},m.id))})]})}),i&&a.jsx(JI,{warehouse:l,onClose:()=>{o(!1),d(null)},onSuccess:()=>{o(!1),d(null),c()}})]})})}function JI({warehouse:e,onClose:t,onSuccess:r}){const{api:n}=we(),[s,i]=f.useState({name:"",type:"main",address:"",comment:"",transfer_stock:!0,load_orders:!0,use_for_orders:!0,priority:1,fbo_accounting:!1,return_on_cancel:!0}),[o,l]=f.useState([]),[d,c]=f.useState([]),[u,m]=f.useState(""),[p,x]=f.useState([]),[y,g]=f.useState(!1);f.useEffect(()=>{e&&(i({name:e.name||"",type:e.type||"main",address:e.address||"",comment:e.comment||"",transfer_stock:e.transfer_stock!==!1,load_orders:e.load_orders!==!1,use_for_orders:e.use_for_orders!==!1,priority:e.priority||1,fbo_accounting:e.fbo_accounting||!1,return_on_cancel:e.return_on_cancel!==void 0?e.return_on_cancel:!0}),v(),h())},[e]);const v=async()=>{if(e)try{const w=await n.get(`/api/warehouse-links/${e.id}/links`);l(w.data)}catch(w){console.error("Failed to load links:",w)}},h=async()=>{try{const w=await n.get("/api/seller/api-keys");c(w.data)}catch(w){console.error("Failed to load integrations:",w)}},b=async()=>{var w,P,_;if(!u){G.error(" ");return}g(!0);try{const C=await n.get(`/api/marketplace/${u}/warehouses`);x(C.data.warehouses||[]),((w=C.data.warehouses)==null?void 0:w.length)===0?G.error("  FBS   "):G.success(` ${C.data.warehouses.length} `)}catch(C){G.error(((_=(P=C.response)==null?void 0:P.data)==null?void 0:_.detail)||"  "),x([])}g(!1)},j=async w=>{var P,_;if(e)try{const C=d.find(O=>O.marketplace===u);await n.post(`/api/warehouse-links/${e.id}/links`,{integration_id:C.id,marketplace_name:u,marketplace_warehouse_id:w.id,marketplace_warehouse_name:w.name}),G.success(" "),v(),x([]),m("")}catch(C){G.error(((_=(P=C.response)==null?void 0:P.data)==null?void 0:_.detail)||"  ")}},k=async w=>{if(confirm(" ?"))try{await n.delete(`/api/warehouse-links/${e.id}/links/${w}`),G.success(" "),v()}catch{G.error("  ")}},N=async w=>{var P,_;w.preventDefault();try{e?(await n.put(`/api/warehouses/${e.id}`,s),G.success(" ")):(await n.post("/api/warehouses",s),G.success(" ")),r()}catch(C){G.error(((_=(P=C.response)==null?void 0:P.data)==null?void 0:_.detail)||" ")}};return a.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 z-50","data-testid":"warehouse-modal",children:a.jsxs("div",{className:"card-neon max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:e?" ":" "}),a.jsx("button",{onClick:t,className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:a.jsx(yt,{size:24})})]}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsx("input",{type:"text",value:s.name,onChange:w=>i({...s,name:w.target.value}),className:"input-neon w-full",placeholder:"  ",required:!0,"data-testid":"warehouse-name-input"})]}),!e&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsxs("select",{value:s.type,onChange:w=>i({...s,type:w.target.value}),className:"input-neon w-full","data-testid":"warehouse-type-select",children:[a.jsx("option",{value:"main",children:""}),a.jsx("option",{value:"marketplace",children:""}),a.jsx("option",{value:"transit",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"text",value:s.address,onChange:w=>i({...s,address:w.target.value}),className:"input-neon w-full",placeholder:". , . , 10","data-testid":"warehouse-address-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("textarea",{value:s.comment,onChange:w=>i({...s,comment:w.target.value}),className:"input-neon w-full",rows:"3",placeholder:" ","data-testid":"warehouse-comment-input"})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsx("h4",{className:"text-mm-cyan uppercase text-sm mb-4",children:"//  "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:"   "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"  "})]}),a.jsx("input",{type:"checkbox",checked:s.transfer_stock,onChange:w=>i({...s,transfer_stock:w.target.checked}),className:"toggle-switch","data-testid":"transfer-stock-toggle"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:" "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"   "})]}),a.jsx("input",{type:"checkbox",checked:s.load_orders,onChange:w=>i({...s,load_orders:w.target.checked}),className:"toggle-switch","data-testid":"load-orders-toggle"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:"  "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"   "})]}),a.jsx("input",{type:"checkbox",checked:s.use_for_orders,onChange:w=>i({...s,use_for_orders:w.target.checked}),className:"toggle-switch","data-testid":"use-for-orders-toggle"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" "}),a.jsx("input",{type:"number",min:"1",max:"10",value:s.priority,onChange:w=>i({...s,priority:parseInt(w.target.value)||1}),className:"input-neon w-32","data-testid":"priority-input"}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-1",children:"//  =   (1, 2, 3...)"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:" FBO"}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"   FBO (FIFO)"})]}),a.jsx("input",{type:"checkbox",checked:s.fbo_accounting,onChange:w=>i({...s,fbo_accounting:w.target.checked}),className:"toggle-switch","data-testid":"fbo-accounting-toggle"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:"  "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"      "})]}),a.jsx("input",{type:"checkbox",checked:s.return_on_cancel!==void 0?s.return_on_cancel:!0,onChange:w=>i({...s,return_on_cancel:w.target.checked}),className:"toggle-switch","data-testid":"return-on-cancel-toggle"})]})]})]}),e&&a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsx("h4",{className:"text-mm-cyan uppercase text-sm mb-4",children:"//    "}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mb-4",children:"  FBS  ,    "}),o.length>0&&a.jsx("div",{className:"mb-4 space-y-2",children:o.map(w=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-mm-darker border border-mm-border",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-semibold text-sm",children:[a.jsx("span",{className:"text-mm-purple uppercase",children:w.marketplace_name}),"  ",w.marketplace_warehouse_name]}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:["ID: ",w.marketplace_warehouse_id]})]}),a.jsx("button",{type:"button",onClick:()=>k(w.id),className:"px-3 py-1 border border-mm-red text-mm-red hover:bg-mm-red/10 text-xs",children:""})]},w.id))}),a.jsxs("div",{className:"space-y-3 p-4 bg-mm-darker border border-mm-border",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 text-mm-text-tertiary uppercase",children:" 1: "}),a.jsxs("select",{value:u,onChange:w=>{m(w.target.value),x([])},className:"input-neon w-full text-sm","data-testid":"marketplace-select",children:[a.jsx("option",{value:"",children:"..."}),d.map(w=>a.jsx("option",{value:w.marketplace,children:w.name||w.marketplace.toUpperCase()},w.id))]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:b,disabled:!u||y,className:"btn-secondary w-full text-xs disabled:opacity-50","data-testid":"load-mp-warehouses-btn",children:y?"...":" 2:  "})})]}),p.length>0&&a.jsx("div",{className:"mt-3 max-h-48 overflow-y-auto border border-mm-border",children:p.map(w=>a.jsxs("button",{type:"button",onClick:()=>j(w),className:"w-full text-left px-3 py-2 hover:bg-mm-gray transition-colors border-b border-mm-border last:border-b-0","data-testid":`add-link-${w.id}`,children:[a.jsx("div",{className:"text-sm font-semibold",children:w.name}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary",children:[": ",w.type," | ID: ",w.id]})]},w.id))})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1","data-testid":"cancel-btn",children:""}),a.jsx("button",{type:"submit",className:"btn-primary flex-1","data-testid":"submit-btn",children:e?"":""})]})]})]})})}function eM(){const{api:e}=we(),[t,r]=f.useState("fbs"),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,d]=f.useState([]),[c,u]=f.useState(!0),[m,p]=f.useState(!1),[x,y]=f.useState(!1),[g,v]=f.useState({product_id:"",quantity_change:"",reason:""}),[h,b]=f.useState({marketplace:"ozon",warehouse:"",products:[]}),[j,k]=f.useState([]);f.useEffect(()=>{w(),N()},[t]);const N=async()=>{try{const _=await e.get("/api/products");k(_.data)}catch(_){console.error("Failed to load products:",_)}},w=async()=>{u(!0);try{if(t==="fbs"){const _=await e.get("/api/inventory");s(_.data)}else if(t==="fbo"){const _=await e.get("/api/inventory/fbo");o(_.data)}else if(t==="history"){const _=await e.get("/api/inventory/history");d(_.data)}}catch(_){console.error("Failed to load data:",_)}u(!1)},P=async _=>{var C,O;_.preventDefault();try{await e.post(`/api/inventory/${g.product_id}/adjust`,{quantity_change:parseInt(g.quantity_change),reason:g.reason}),p(!1),v({product_id:"",quantity_change:"",reason:""}),w(),alert("Inventory adjusted successfully!")}catch(S){console.error("Failed to adjust inventory:",S),alert("Failed to adjust: "+(((O=(C=S.response)==null?void 0:C.data)==null?void 0:O.detail)||S.message))}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"Inventory & Stock"}),a.jsx("p",{className:"comment",children:"// Manage warehouse and stock levels"})]}),t==="fbs"&&a.jsx("button",{onClick:()=>y(!0),className:"btn-primary","data-testid":"create-fbo-shipment-button",children:"+ CREATE FBO SHIPMENT"})]}),a.jsxs("div",{className:"flex space-x-4 border-b border-mm-border",children:[a.jsx("button",{onClick:()=>r("fbs"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="fbs"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"FBS (Own Warehouse)"}),a.jsx("button",{onClick:()=>r("fbo"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="fbo"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"FBO (Marketplace Warehouses)"}),a.jsx("button",{onClick:()=>r("history"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="history"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"Movement History"})]}),t==="fbs"&&a.jsx("div",{children:c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):n.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(vt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No inventory records"}),a.jsx("p",{className:"comment",children:"// Add products first, then manage stock"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Total"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Reserved"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Available"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Alert"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),a.jsx("tbody",{children:n.map(_=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:_.sku}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:_.product_name||"N/A"}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:_.quantity}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-yellow",children:_.reserved}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:a.jsx("span",{className:_.available<=(_.alert_threshold||0)?"text-mm-red":"text-mm-green",children:_.available})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:_.alert_threshold||10}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsx("button",{onClick:()=>{v({...g,product_id:_.product_id}),p(!0)},className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors text-xs uppercase font-mono",children:"Adjust"})})]},_.id))})]})})})}),t==="fbo"&&a.jsx("div",{children:c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):i.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(vt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No FBO inventory"}),a.jsx("p",{className:"comment",children:"// FBO stock will appear here"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Marketplace"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Warehouse"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Quantity"})]})}),a.jsx("tbody",{children:i.map(_=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:_.sku}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:_.product_name||"N/A"}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-mono border border-mm-purple text-mm-purple",children:_.marketplace})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:_.warehouse_name}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-green",children:_.quantity})]},_.id))})]})})})}),t==="history"&&a.jsx("div",{children:c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):l.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No movement history"}),a.jsx("p",{className:"comment",children:"// All stock movements will be logged here"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Operation"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Change"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Reason"})]})}),a.jsx("tbody",{children:l.map(_=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(_.created_at).toLocaleString()}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:_.sku}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:_.product_name||"N/A"}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-mono border border-mm-cyan text-mm-cyan",children:_.operation_type})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:a.jsxs("span",{className:`flex items-center space-x-1 ${_.quantity_change>0?"text-mm-green":"text-mm-red"}`,children:[_.quantity_change>0?a.jsx(Wa,{}):a.jsx(Si,{}),a.jsxs("span",{children:[_.quantity_change>0?"+":"",_.quantity_change]})]})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:_.reason})]},_.id))})]})})})}),m&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"card-neon max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan",children:"ADJUST INVENTORY"}),a.jsx("button",{onClick:()=>p(!1),className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:""})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Quantity Change"}),a.jsx("input",{type:"number",value:g.quantity_change,onChange:_=>v({...g,quantity_change:_.target.value}),className:"input-neon w-full",placeholder:"+100 or -50",required:!0}),a.jsx("p",{className:"comment text-xs mt-1",children:"// Use + for adding, - for removing"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Reason"}),a.jsx("textarea",{value:g.reason,onChange:_=>v({...g,reason:_.target.value}),className:"input-neon w-full",rows:"3",placeholder:"Reason for adjustment...",required:!0})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"ADJUST STOCK"}),a.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})}),x&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"card-neon max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan",children:"CREATE FBO SHIPMENT"}),a.jsx("button",{onClick:()=>y(!1),className:"text-mm-text-secondary hover:text-mm-red",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card-neon bg-mm-darker",children:[a.jsx("p",{className:"comment mb-3",children:"// Step 1: Select Warehouse"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Marketplace"}),a.jsxs("select",{value:h.marketplace,onChange:_=>b({...h,marketplace:_.target.value}),className:"input-neon w-full",children:[a.jsx("option",{value:"ozon",children:"Ozon"}),a.jsx("option",{value:"wb",children:"Wildberries"}),a.jsx("option",{value:"yandex",children:"Yandex.Market"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Warehouse"}),a.jsxs("select",{value:h.warehouse,onChange:_=>b({...h,warehouse:_.target.value}),className:"input-neon w-full",children:[a.jsx("option",{value:"",children:"Select warehouse"}),a.jsx("option",{value:"moscow",children:"Moscow - Khoruzhino"}),a.jsx("option",{value:"spb",children:"Saint Petersburg"}),a.jsx("option",{value:"kazan",children:"Kazan"}),a.jsx("option",{value:"ekb",children:"Ekaterinburg"})]})]})]})]}),a.jsxs("div",{className:"card-neon bg-mm-darker",children:[a.jsx("p",{className:"comment mb-3",children:"// Step 2: Add Products to Shipment"}),a.jsx("div",{className:"space-y-2 mb-4",children:h.products.map((_,C)=>a.jsxs("div",{className:"flex items-center space-x-2 bg-mm-black p-2 border border-mm-border",children:[a.jsx("span",{className:"flex-1 font-mono text-sm",children:_.name}),a.jsx("span",{className:"text-mm-text-secondary",children:"Qty:"}),a.jsx("input",{type:"number",value:_.quantity,onChange:O=>{const S=[...h.products];S[C].quantity=parseInt(O.target.value)||0,b({...h,products:S})},className:"input-neon w-20",min:"1"}),a.jsx("button",{onClick:()=>{b({...h,products:h.products.filter((O,S)=>S!==C)})},className:"text-mm-red",children:""})]},C))}),a.jsxs("select",{onChange:_=>{const C=j.find(O=>O.id===_.target.value);C&&!h.products.find(O=>O.id===C.id)&&b({...h,products:[...h.products,{id:C.id,name:C.minimalmod.name,sku:C.sku,quantity:1}]}),_.target.value=""},className:"input-neon w-full",children:[a.jsx("option",{value:"",children:"+ Add product to shipment"}),j.map(_=>a.jsxs("option",{value:_.id,children:[_.sku," - ",_.minimalmod.name]},_.id))]})]}),h.products.length>0&&a.jsxs("div",{className:"card-neon bg-mm-darker",children:[a.jsx("p",{className:"comment mb-3",children:"// Step 3: Confirm Shipment"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"Total Items:"}),a.jsx("span",{className:"font-bold",children:h.products.reduce((_,C)=>_+C.quantity,0)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"Products:"}),a.jsx("span",{className:"font-bold",children:h.products.length})]})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:async()=>{var _,C;if(!h.warehouse){alert("Please select warehouse");return}if(h.products.length===0){alert("Please add products");return}try{const O=await e.post("/api/inventory/fbo-shipment",h);alert(O.data.message),y(!1),b({marketplace:"ozon",warehouse:"",products:[]}),w()}catch(O){alert("Failed to create shipment: "+(((C=(_=O.response)==null?void 0:_.data)==null?void 0:C.detail)||O.message))}},className:"btn-primary flex-1",disabled:!h.warehouse||h.products.length===0,children:"CREATE SHIPMENT"}),a.jsx("button",{onClick:()=>{y(!1),b({marketplace:"ozon",warehouse:"",products:[]})},className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})})]})}function f_(){const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState([]),[i,o]=f.useState(null),[l,d]=f.useState(!0),[c,u]=f.useState(!1),[m,p]=f.useState(null),[x,y]=f.useState(""),[g,v]=f.useState(""),[h,b]=f.useState("all"),[j,k]=f.useState({field:"sku",direction:"asc"}),[N,w]=f.useState(!1),[P,_]=f.useState(!1),[C,O]=f.useState(!1),[S,E]=f.useState([]),[I,A]=f.useState(null),[M,B]=f.useState([]),[W,L]=f.useState(null),[R,$]=f.useState(!1),X=f.useMemo(()=>{let H=[...t];if(g.trim()){const ee=g.toLowerCase();H=H.filter(le=>le.sku.toLowerCase().includes(ee)||le.product_name&&le.product_name.toLowerCase().includes(ee))}return h==="in_stock"?H=H.filter(ee=>ee.quantity>0):h==="out_of_stock"&&(H=H.filter(ee=>ee.quantity===0)),N&&(H=H.filter(ee=>ee.quantity<ee.alert_threshold)),P&&(H=H.filter(ee=>ee.reserved>0)),H.sort((ee,le)=>{let ve,z;return j.field==="name"?(ve=ee.product_name||"",z=le.product_name||""):j.field==="sku"?(ve=ee.sku||"",z=le.sku||""):j.field==="quantity"&&(ve=ee.quantity||0,z=le.quantity||0),j.direction==="asc"?ve>z?1:-1:ve<z?1:-1}),H},[t,g,h,j,N,P]),T=()=>{v(""),b("all"),k({field:"sku",direction:"asc"}),w(!1),_(!1)},Q=H=>{k(ee=>({field:H,direction:ee.field===H&&ee.direction==="asc"?"desc":"asc"}))};f.useEffect(()=>{(async()=>{await J(),await q(),i&&await D()})()},[]),f.useEffect(()=>{i&&D()},[i]);const J=async()=>{try{const ee=(await e.get("/api/warehouses")).data;s(ee);const le=localStorage.getItem("selectedWarehouseId");if(le){const ve=ee.find(z=>z.id===le);ve?o(ve):ee.length>0&&o(ee[0])}else ee.length>0&&o(ee[0])}catch(H){G.error("  "),console.error(H)}},D=async()=>{d(!0);try{const H=await e.get("/api/inventory/fbs");r(H.data)}catch(H){G.error("  "),console.error(H)}d(!1)},q=async()=>{try{const H=await e.post("/api/inventory/sync-catalog");return console.log("Inventory synced:",H.data),H.data}catch(H){return console.error("Failed to sync inventory:",H),null}},ie=H=>{const ee=n.find(le=>le.id===H);ee&&(o(ee),localStorage.setItem("selectedWarehouseId",H))},oe=H=>{p(H.id),y(H.quantity.toString())},U=()=>{p(null),y("")},ue=async H=>{var ve,z,ne,F;const ee=parseInt(x,10);if(console.log("[SAVE STOCK]  :",{stock_id:H.id,product_id:H.product_id,sku:H.sku,editValue:x,parsedQuantity:ee,selectedWarehouse:i}),isNaN(ee)||ee<0){console.error("[SAVE STOCK]   :",ee),G.error(" ");return}if(!i){console.error("[SAVE STOCK]    "),G.error(" ");return}const le={product_id:H.product_id,article:H.sku,new_quantity:ee,warehouse_id:i.id};console.log("[SAVE STOCK]     /api/inventory/update-stock:",le);try{const se=await e.put("/api/inventory/update-stock",le);console.log("[SAVE STOCK]     :",se.data),G.success(se.data.message||" "),r(t.map(ce=>ce.id===H.id?{...ce,quantity:ee,available:ee-ce.reserved}:ce)),U()}catch(se){console.error("[SAVE STOCK]   :",{message:se.message,response:(ve=se.response)==null?void 0:ve.data,status:(z=se.response)==null?void 0:z.status}),G.error(((F=(ne=se.response)==null?void 0:ne.data)==null?void 0:F.detail)||"  "),console.error(se)}},he=async()=>{d(!0);try{const H=await q();H&&H.created>0?G.success(` ${H.created}    `):G.success(" "),await D()}catch(H){G.error("  "),console.error(H)}d(!1)},Z=async()=>{var H,ee;if(!i){G.error("   ");return}if(confirm(`     "${i.name}"?`)){u(!0);try{const le=await e.post("/api/inventory/sync-all-stocks",{warehouse_id:i.id});G.success(le.data.message||" ")}catch(le){G.error(((ee=(H=le.response)==null?void 0:H.data)==null?void 0:ee.detail)||" "),console.error(le)}u(!1)}},Y=async()=>{try{const H=await e.get("/api/seller/api-keys");E(H.data),O(!0)}catch(H){G.error("  "),console.error(H)}},ae=async H=>{if(A(H),L(null),B([]),!!H)try{const ee=await e.get(`/api/inventory/marketplace-warehouses/${H}`);B(ee.data.warehouses||[])}catch(ee){G.error("   "),console.error(ee)}},be=async()=>{var H,ee;if(!I||!W){G.error("   ");return}$(!0);try{const le=await e.post("/api/inventory/import-stocks-from-marketplace",{integration_id:I,marketplace_warehouse_id:W});G.success(le.data.message||" "),O(!1),await D()}catch(le){G.error(((ee=(H=le.response)==null?void 0:H.data)==null?void 0:ee.detail)||"  "),console.error(le)}$(!1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl text-mm-cyan uppercase mb-2","data-testid":"stocks-title",children:"  "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"      "})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:Y,className:"btn-secondary flex items-center space-x-2 text-sm","data-testid":"import-stocks-btn",children:[a.jsx(Vt,{}),a.jsx("span",{children:"  "})]}),a.jsxs("button",{onClick:he,disabled:l,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50","data-testid":"sync-catalog-btn",children:[a.jsx(_t,{className:l?"animate-spin":""}),a.jsx("span",{children:" "})]}),a.jsxs("button",{onClick:Z,disabled:!i||c,className:"btn-primary flex items-center space-x-2 disabled:opacity-50","data-testid":"sync-all-btn",children:[a.jsx(ir,{}),a.jsx("span",{children:c?"...":"   "})]}),a.jsxs("button",{onClick:D,disabled:l,className:"btn-secondary flex items-center space-x-2","data-testid":"refresh-btn",children:[a.jsx(_t,{className:l?"animate-spin":""}),a.jsx("span",{children:""})]})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsxs("select",{value:(i==null?void 0:i.id)||"",onChange:H=>ie(H.target.value),className:"input-neon w-full max-w-md","data-testid":"warehouse-select",children:[a.jsx("option",{value:"",children:" ..."}),n.map(H=>a.jsxs("option",{value:H.id,children:[H.name," ",H.sends_stock?"( )":""]},H.id))]}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-2",children:i?` : ${i.name}.      .`:"     "})]}),i&&t.length>0&&a.jsxs("div",{className:"card-neon p-4 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsxs("div",{className:"flex-1 min-w-[250px]",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary uppercase mb-2",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-mm-text-tertiary"}),a.jsx("input",{type:"text",placeholder:"    ...",value:g,onChange:H=>v(H.target.value),className:"input-neon w-full pl-10","data-testid":"search-input"})]})]}),a.jsxs("div",{className:"min-w-[200px]",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary uppercase mb-2",children:""}),a.jsxs("select",{value:h,onChange:H=>b(H.target.value),className:"input-neon w-full","data-testid":"availability-filter",children:[a.jsx("option",{value:"all",children:" "}),a.jsx("option",{value:"in_stock",children:" "}),a.jsx("option",{value:"out_of_stock",children:"  "})]})]}),a.jsxs("div",{className:"min-w-[200px]",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary uppercase mb-2",children:""}),a.jsxs("select",{value:j.field,onChange:H=>Q(H.target.value),className:"input-neon w-full","data-testid":"sort-select",children:[a.jsx("option",{value:"sku",children:" "}),a.jsx("option",{value:"name",children:" "}),a.jsx("option",{value:"quantity",children:" "})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer","data-testid":"critical-filter",children:[a.jsx("input",{type:"checkbox",checked:N,onChange:H=>w(H.target.checked),className:"w-4 h-4 bg-mm-dark border-mm-border rounded text-mm-cyan focus:ring-mm-cyan focus:ring-offset-0"}),a.jsx("span",{className:"text-sm text-mm-text-secondary",children:" "})]}),a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer","data-testid":"reserved-filter",children:[a.jsx("input",{type:"checkbox",checked:P,onChange:H=>_(H.target.checked),className:"w-4 h-4 bg-mm-dark border-mm-border rounded text-mm-cyan focus:ring-mm-cyan focus:ring-offset-0"}),a.jsx("span",{className:"text-sm text-mm-text-secondary",children:" "})]}),(g||h!=="all"||N||P||j.field!=="sku")&&a.jsxs("button",{onClick:T,className:"text-sm text-mm-cyan hover:text-mm-green transition-colors flex items-center space-x-1","data-testid":"reset-filters-btn",children:[a.jsx(yt,{size:16}),a.jsx("span",{children:" "})]}),a.jsxs("div",{className:"ml-auto text-sm text-mm-text-tertiary",children:[": ",a.jsx("span",{className:"text-mm-cyan font-mono",children:X.length}),"  ",t.length]})]})]}),i?l?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16",children:[a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary",children:"     "})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:X.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:"7",className:"py-12 text-center",children:[a.jsx("p",{className:"text-mm-text-secondary",children:" ,  "}),a.jsx("button",{onClick:T,className:"mt-2 text-sm text-mm-cyan hover:underline",children:" "})]})}):X.map(H=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsxs("td",{className:"py-4 px-4",children:[H.product_image?a.jsx("img",{src:H.product_image,alt:H.product_name||H.sku,className:"w-12 h-12 object-cover rounded bg-mm-dark",onError:ee=>{ee.target.style.display="none",ee.target.nextSibling.style.display="flex"}}):null,a.jsx("div",{className:"w-12 h-12 bg-mm-dark rounded flex items-center justify-center text-mm-text-secondary text-xs",style:{display:H.product_image?"none":"flex"},children:" "})]}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:H.sku}),a.jsx("td",{className:"py-4 px-4 text-sm",children:H.product_name||""}),a.jsx("td",{className:"py-4 px-4 text-center",children:m===H.id?a.jsx("input",{type:"number",value:x,onChange:ee=>y(ee.target.value),className:"input-neon w-24 text-center",autoFocus:!0,"data-testid":`edit-input-${H.sku}`}):a.jsx("span",{className:"font-mono font-bold",children:H.quantity})}),a.jsx("td",{className:"py-4 px-4 text-center font-mono text-mm-yellow",children:H.reserved}),a.jsx("td",{className:"py-4 px-4 text-center font-mono font-bold text-mm-green",children:H.available}),a.jsx("td",{className:"py-4 px-4 text-center",children:m===H.id?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("button",{onClick:()=>ue(H),className:"text-mm-green hover:text-mm-cyan transition-colors","data-testid":`save-btn-${H.sku}`,children:a.jsx(Kt,{size:20})}),a.jsx("button",{onClick:U,className:"text-mm-red hover:text-mm-text-secondary transition-colors","data-testid":`cancel-btn-${H.sku}`,children:a.jsx(yt,{size:20})})]}):a.jsx("button",{onClick:()=>oe(H),className:"text-mm-cyan hover:text-mm-green transition-colors","data-testid":`edit-btn-${H.sku}`,children:a.jsx(Ay,{size:18})})})]},H.id))})]})}):a.jsx("div",{className:"card-neon text-center py-16",children:a.jsx("p",{className:"text-mm-text-secondary text-lg",children:"     "})}),a.jsx("div",{className:"card-neon p-4 bg-mm-dark-secondary/30",children:a.jsxs("p",{className:"text-sm text-mm-text-secondary",children:[a.jsx("span",{className:"text-mm-cyan font-bold",children:" :"}),"       15 .    ,      ."]})}),C&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"card-neon max-w-md w-full p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase font-mono",children:"   "}),a.jsx("button",{onClick:()=>O(!1),className:"text-mm-text-secondary hover:text-mm-cyan transition-colors",children:a.jsx(yt,{size:24})})]}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:"      "}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsxs("select",{value:I||"",onChange:H=>ae(H.target.value),className:"input-neon w-full",children:[a.jsx("option",{value:"",children:" ..."}),S.map(H=>a.jsxs("option",{value:H.id,children:[H.marketplace.toUpperCase()," - ",H.name||H.client_id]},H.id))]})]}),I&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsxs("select",{value:W||"",onChange:H=>L(H.target.value),className:"input-neon w-full",disabled:M.length===0,children:[a.jsx("option",{value:"",children:" ..."}),M.map(H=>a.jsx("option",{value:H.id,children:H.name},H.id))]}),M.length===0&&a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-2",children:" ..."})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>O(!1),className:"btn-secondary flex-1",disabled:R,children:""}),a.jsx("button",{onClick:be,disabled:!I||!W||R,className:"btn-primary flex-1 disabled:opacity-50",children:R?"...":""})]}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary space-y-1",children:[a.jsx("p",{children:"       "}),a.jsx("p",{children:"    "}),a.jsx("p",{children:"      "})]})]})})]})}function p_(){const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,d]=f.useState(null);f.useEffect(()=>{c()},[]);const c=async()=>{s(!0);try{const m=await e.get("/api/suppliers");r(m.data)}catch(m){G.error("  "),console.error(m)}s(!1)},u=async m=>{var p,x;if(confirm(`  "${m.name}"?`))try{await e.delete(`/api/suppliers/${m.id}`),G.success(" "),c()}catch(y){G.error(((x=(p=y.response)==null?void 0:p.data)==null?void 0:x.detail)||" ")}};return a.jsx("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan uppercase mb-2","data-testid":"suppliers-title",children:""}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"//  "})]}),a.jsxs("button",{onClick:()=>{d(null),o(!0)},className:"btn-primary flex items-center space-x-2","data-testid":"create-supplier-btn",children:[a.jsx(Ir,{}),a.jsx("span",{children:" "})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16","data-testid":"empty-state",children:[a.jsx(Ci,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-6",children:"//   "}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[a.jsx(Ir,{className:"inline mr-2"})," "]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(m=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`supplier-row-${m.id}`,children:[a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ci,{className:"text-mm-cyan",size:20}),a.jsx("div",{className:"font-semibold",children:m.name})]})}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary",children:m.contact_person||""}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary font-mono",children:m.phone||""}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary font-mono",children:m.inn||""}),a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[a.jsx("button",{onClick:()=>{d(m),o(!0)},className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":`edit-supplier-${m.id}`,children:a.jsx(Ua,{size:16})}),a.jsx("button",{onClick:()=>u(m),className:"px-3 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors","data-testid":`delete-supplier-${m.id}`,children:a.jsx(vn,{size:16})})]})]},m.id))})]})}),i&&a.jsx(tM,{supplier:l,onClose:()=>{o(!1),d(null)},onSuccess:()=>{o(!1),d(null),c()}})]})})}function tM({supplier:e,onClose:t,onSuccess:r}){const{api:n}=we(),[s,i]=f.useState({name:"",contact_person:"",phone:"",email:"",inn:"",address:"",comment:""});f.useEffect(()=>{e&&i({name:e.name||"",contact_person:e.contact_person||"",phone:e.phone||"",email:e.email||"",inn:e.inn||"",address:e.address||"",comment:e.comment||""})},[e]);const o=async l=>{var d,c;l.preventDefault();try{e?(await n.put(`/api/suppliers/${e.id}`,s),G.success(" ")):(await n.post("/api/suppliers",s),G.success(" ")),r()}catch(u){G.error(((c=(d=u.response)==null?void 0:d.data)==null?void 0:c.detail)||" ")}};return a.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 z-50","data-testid":"supplier-modal",children:a.jsxs("div",{className:"card-neon max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:e?" ":" "}),a.jsx("button",{onClick:t,className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:a.jsx(yt,{size:24})})]}),a.jsxs("form",{onSubmit:o,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsx("input",{type:"text",value:s.name,onChange:l=>i({...s,name:l.target.value}),className:"input-neon w-full",placeholder:" ",required:!0,"data-testid":"supplier-name-input"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" "}),a.jsx("input",{type:"text",value:s.contact_person,onChange:l=>i({...s,contact_person:l.target.value}),className:"input-neon w-full",placeholder:" ","data-testid":"contact-person-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"tel",value:s.phone,onChange:l=>i({...s,phone:l.target.value}),className:"input-neon w-full",placeholder:"+7 (900) 123-45-67","data-testid":"phone-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Email"}),a.jsx("input",{type:"email",value:s.email,onChange:l=>i({...s,email:l.target.value}),className:"input-neon w-full",placeholder:"supplier@example.com","data-testid":"email-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"text",value:s.inn,onChange:l=>i({...s,inn:l.target.value}),className:"input-neon w-full",placeholder:"1234567890","data-testid":"inn-input"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"text",value:s.address,onChange:l=>i({...s,address:l.target.value}),className:"input-neon w-full",placeholder:". , . , 5","data-testid":"address-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("textarea",{value:s.comment,onChange:l=>i({...s,comment:l.target.value}),className:"input-neon w-full",rows:"3",placeholder:" ","data-testid":"comment-input"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1","data-testid":"cancel-btn",children:""}),a.jsx("button",{type:"submit",className:"btn-primary flex-1","data-testid":"submit-btn",children:e?"":""})]})]})]})})}function x_(){const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState("all");f.useEffect(()=>{l()},[i]);const l=async()=>{s(!0);try{const u=i!=="all"?`?status=${i}`:"",m=await e.get(`/api/income-orders${u}`);r(m.data)}catch(u){G.error(" "),console.error(u)}s(!1)},d=u=>u?new Date(u).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"",c=u=>u==="draft"?a.jsx("span",{className:"px-3 py-1 text-xs font-mono uppercase bg-mm-yellow/20 text-mm-yellow border border-mm-yellow",children:""}):u==="accepted"?a.jsx("span",{className:"px-3 py-1 text-xs font-mono uppercase bg-mm-green/20 text-mm-green border border-mm-green",children:""}):a.jsx("span",{className:"px-3 py-1 text-xs font-mono uppercase bg-mm-text-tertiary/20 text-mm-text-tertiary",children:u});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl text-mm-cyan uppercase mb-2","data-testid":"title",children:"  "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:" "})]}),a.jsxs(ad,{to:"/income-orders/new",className:"btn-primary flex items-center space-x-2","data-testid":"create-btn",children:[a.jsx(Ir,{}),a.jsx("span",{children:" "})]})]}),a.jsx("div",{className:"card-neon",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm text-mm-text-secondary uppercase",children:":"}),a.jsx("div",{className:"flex space-x-2",children:["all","draft","accepted"].map(u=>a.jsx("button",{onClick:()=>o(u),className:`px-4 py-2 text-xs font-mono uppercase border transition-colors ${i===u?"border-mm-cyan text-mm-cyan bg-mm-cyan/10":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":`filter-${u}`,children:u==="all"?"":u==="draft"?"":""},u))})]})}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16","data-testid":"empty-state",children:[a.jsx(vt,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-6",children:"   "}),a.jsxs(ad,{to:"/income-orders/new",className:"btn-primary inline-flex items-center space-x-2",children:[a.jsx(Ir,{}),a.jsx("span",{children:" "})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"-"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(u=>{var m;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${u.id}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:u.id.substring(0,8)}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary",children:d(u.created_at)}),a.jsx("td",{className:"py-4 px-4 text-sm",children:u.supplier_name||""}),a.jsx("td",{className:"py-4 px-4 text-sm",children:u.warehouse_name||""}),a.jsx("td",{className:"py-4 px-4 text-center font-mono text-sm",children:((m=u.items)==null?void 0:m.length)||0}),a.jsx("td",{className:"py-4 px-4 text-center font-mono text-sm text-mm-cyan font-bold",children:u.total_quantity||0}),a.jsx("td",{className:"py-4 px-4",children:c(u.status)}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsx(ad,{to:`/income-orders/${u.id}/edit`,className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors inline-flex items-center","data-testid":`edit-order-${u.id}`,children:a.jsx(Ua,{size:16})})})]},u.id)})})]})})]})}function h_(){const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState({marketplace:"",status:""});f.useEffect(()=>{l()},[i]);const l=async()=>{s(!0);try{const c=new URLSearchParams;i.marketplace&&c.append("marketplace",i.marketplace),i.status&&c.append("status",i.status);const u=await e.get(`/api/stock-sync/history?${c}`);r(u.data)}catch(c){G.error("  "),console.error(c)}s(!1)},d=c=>c?new Date(c).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl text-mm-cyan uppercase mb-2",children:"  "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"    "})]}),a.jsxs("button",{onClick:l,className:"btn-secondary flex items-center space-x-2","data-testid":"refresh-btn",children:[a.jsx(_t,{}),a.jsx("span",{children:""})]})]}),a.jsx("div",{className:"card-neon",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Ty,{className:"text-mm-cyan"}),a.jsxs("select",{value:i.marketplace,onChange:c=>o({...i,marketplace:c.target.value}),className:"input-neon text-sm",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"ozon",children:"Ozon"}),a.jsx("option",{value:"wb",children:"Wildberries"}),a.jsx("option",{value:"yandex",children:"Yandex"})]}),a.jsxs("select",{value:i.status,onChange:c=>o({...i,status:c.target.value}),className:"input-neon text-sm",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"success",children:""}),a.jsx("option",{value:"failed",children:""})]})]})}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16",children:[a.jsx(_t,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary",children:"    "})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:" "}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-center py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(c=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-3 px-3 font-mono text-xs text-mm-text-secondary",children:d(c.synced_at)}),a.jsx("td",{className:"py-3 px-3",children:a.jsx("span",{className:"px-2 py-1 text-xs font-mono uppercase bg-mm-purple/20 text-mm-purple border border-mm-purple",children:c.marketplace})}),a.jsx("td",{className:"py-3 px-3 font-mono text-xs text-mm-text-secondary",children:c.marketplace_warehouse_id}),a.jsx("td",{className:"py-3 px-3 font-mono text-xs text-mm-cyan",children:c.product_article}),a.jsx("td",{className:"py-3 px-3 text-center font-mono font-bold text-mm-green",children:c.quantity_sent}),a.jsx("td",{className:"py-3 px-3",children:c.status==="success"?a.jsxs("span",{className:"flex items-center text-mm-green text-xs",children:[a.jsx(Kt,{className:"mr-1"}),""]}):a.jsxs("span",{className:"flex items-center text-mm-red text-xs",children:[a.jsx(yt,{className:"mr-1"}),""]})}),a.jsx("td",{className:"py-3 px-3 text-xs text-mm-red",children:c.error_message||""})]},c.id))})]})})]})}function rM(){const[e,t]=f.useState("warehouses");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex space-x-4 border-b border-mm-border overflow-x-auto",children:[a.jsxs("button",{onClick:()=>t("warehouses"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="warehouses"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-warehouses",children:[a.jsx(Pi,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("suppliers"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="suppliers"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-suppliers",children:[a.jsx(Ci,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("income"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="income"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-income",children:[a.jsx(Vt,{className:"inline mr-2"}),"  "]}),a.jsxs("button",{onClick:()=>t("stock"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="stock"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-stock",children:[a.jsx(yx,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("inventory"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="inventory"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-inventory",children:[a.jsx(KI,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("sync"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="sync"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-sync",children:[a.jsx(Jk,{className:"inline mr-2"}),""]})]}),a.jsxs("div",{children:[e==="warehouses"&&a.jsx(m_,{}),e==="suppliers"&&a.jsx(p_,{}),e==="income"&&a.jsx(x_,{}),e==="stock"&&a.jsx(f_,{}),e==="inventory"&&a.jsx(eM,{}),e==="sync"&&a.jsx(h_,{})]})]})}function nM(){const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState("all");f.useEffect(()=>{l()},[i]);const l=async()=>{try{s(!0);const u=await e.get("/api/sync/logs",{params:{status:i!=="all"?i:void 0}});r(u.data.logs||[])}catch(u){console.error("Failed to load sync logs:",u),r([])}finally{s(!1)}},d=u=>{switch(u){case"success":return a.jsx(Kt,{className:"w-5 h-5 text-green-400"});case"error":return a.jsx(yt,{className:"w-5 h-5 text-red-400"});case"pending":return a.jsx(Zn,{className:"w-5 h-5 text-yellow-400"});default:return a.jsx(Hn,{className:"w-5 h-5 text-gray-400"})}},c=u=>{const m={success:"bg-green-500/20 text-green-400 border-green-500/30",error:"bg-red-500/20 text-red-400 border-red-500/30",pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"};return a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${m[u]||"bg-gray-500/20 text-gray-400"}`,children:u==="success"?"":u==="error"?"":" "})};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(_t,{className:"w-8 h-8 animate-spin text-mm-cyan"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"      "})]}),a.jsxs("button",{onClick:l,className:"px-4 py-2 bg-mm-secondary text-mm-text border border-mm-border rounded hover:border-mm-cyan transition-colors flex items-center gap-2",children:[a.jsx(_t,{className:"w-4 h-4"}),""]})]}),a.jsx("div",{className:"flex gap-2",children:["all","success","error"].map(u=>a.jsx("button",{onClick:()=>o(u),className:`px-4 py-2 rounded transition-colors ${i===u?"bg-mm-cyan text-mm-dark font-medium":"bg-mm-secondary text-mm-text hover:border-mm-cyan border border-mm-border"}`,children:u==="all"?"":u==="success"?"":""},u))}),a.jsx("div",{className:"bg-mm-secondary rounded-lg border border-mm-border overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-mm-dark",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:"/"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""})]})}),a.jsx("tbody",{children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"px-4 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(Zn,{className:"w-12 h-12 text-mm-text-secondary opacity-50"}),a.jsx("p",{className:"text-mm-text-secondary",children:"   "}),a.jsx("p",{className:"text-sm text-mm-text-secondary opacity-70",children:"        "})]})})}):t.map((u,m)=>a.jsxs("tr",{className:"border-t border-mm-border hover:bg-mm-dark/30 transition-colors",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:new Date(u.timestamp).toLocaleString("ru-RU")}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsx("span",{className:"px-2 py-1 bg-mm-dark rounded text-xs text-mm-cyan",children:u.type==="product"?"":u.type==="price"?"":u.type})}),a.jsxs("td",{className:"px-4 py-3 text-sm",children:[u.marketplace==="ozon"&&a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"O"}),a.jsx("span",{className:"text-mm-text",children:"Ozon"})]}),u.marketplace==="wb"&&a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"w-6 h-6 bg-purple-600 text-white rounded flex items-center justify-center text-xs font-bold",children:"WB"}),a.jsx("span",{className:"text-mm-text",children:"Wildberries"})]})]}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-sm text-mm-text font-mono",children:u.product_article}),a.jsx("div",{className:"text-xs text-mm-text-secondary truncate max-w-xs",children:u.product_name})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[d(u.status),c(u.status)]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text-secondary max-w-md truncate",children:u.message||u.error||""})]},m))})]})}),a.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Hn,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-blue-300",children:[a.jsx("p",{className:"font-medium mb-1",children:"  "}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-300/80",children:[a.jsx("li",{children:"      "}),a.jsx("li",{children:"       "}),a.jsx("li",{children:"     "})]})]})]})})]})}const U0=e=>{const t=["bg-blue-500/20 text-blue-300 border-blue-500/30","bg-purple-500/20 text-purple-300 border-purple-500/30","bg-green-500/20 text-green-300 border-green-500/30","bg-yellow-500/20 text-yellow-300 border-yellow-500/30","bg-pink-500/20 text-pink-300 border-pink-500/30","bg-cyan-500/20 text-cyan-300 border-cyan-500/30","bg-orange-500/20 text-orange-300 border-orange-500/30","bg-red-500/20 text-red-300 border-red-500/30"],r=e.split("").reduce((n,s)=>n+s.charCodeAt(0),0);return t[r%t.length]};function y_(){const{api:e}=we(),[t,r]=f.useState("products"),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,d]=f.useState([]),[c,u]=f.useState(!0),[m,p]=f.useState(""),[x,y]=f.useState(""),[g,v]=f.useState(""),[h,b]=f.useState(""),[j,k]=f.useState(!1),[N,w]=f.useState(1),[P,_]=f.useState("created_at"),[C,O]=f.useState(!1),[S,E]=f.useState([]),[I,A]=f.useState([]),[M,B]=f.useState(!1),[W,L]=f.useState(""),[R,$]=f.useState("");f.useEffect(()=>{X(),T(),J()},[m,x,g,h,N,P,C]);const X=async()=>{try{const Y=await e.get("/api/catalog/categories");d(Y.data)}catch(Y){console.error("Failed to load categories:",Y)}},T=async()=>{try{u(!0);const Y={page:N,limit:50,sort_by:P,ascending:C};m&&(Y.search=m),x&&(Y.category_id=x),g&&(Y.brand=g),h&&(Y.status=h);const be=(await e.get("/api/catalog/products",{params:Y})).data;s(be);const H=await Promise.all(be.map(async ee=>{try{const ve=(await e.get(`/api/catalog/products/${ee.id}/photos`)).data;return{...ee,firstPhoto:ve.length>0?ve[0].url:null}}catch(le){return console.error(`Failed to load photos for product ${ee.id}:`,le),{...ee,firstPhoto:null}}}));o(H)}catch(Y){console.error("Failed to load products:",Y)}finally{u(!1)}},Q=async Y=>{if(window.confirm(" ,      ?    ."))try{await e.delete(`/api/catalog/products/${Y}`),T()}catch(ae){alert("   : "+ae.message)}},J=async()=>{try{const Y=await e.get("/api/products/tags");E(Y.data.tags||[])}catch(Y){console.error("Error fetching tags:",Y)}},D=async()=>{var Y,ae;if(!W.trim()){alert("  ");return}try{await e.post(`/api/products/tags?tag_name=${encodeURIComponent(W.trim())}`),E([...S,W.trim()]),L(""),alert(` "${W.trim()}" `)}catch(be){alert(((ae=(Y=be.response)==null?void 0:Y.data)==null?void 0:ae.detail)||"  ")}},q=async Y=>{if(confirm(`  "${Y}"   ?`))try{await e.delete(`/api/products/tags/${encodeURIComponent(Y)}`),E(S.filter(ae=>ae!==Y)),await T(),alert(` "${Y}" `)}catch{alert("  ")}},ie=async()=>{if(!R){alert(" ");return}try{await e.post("/api/products/bulk-assign-tags",{product_ids:I,tag:R}),await T(),await J(),A([]),$(""),alert(` "${R}"   `)}catch{alert("  ")}},oe=async()=>{if(!R){alert("   ");return}try{await e.post("/api/products/bulk-remove-tags",{product_ids:I,tag:R}),await T(),await J(),A([]),$(""),alert(` "${R}"    `)}catch{alert("  ")}},U=async(Y,ae)=>{try{await e.post("/api/products/bulk-remove-tags",{product_ids:[Y],tag:ae}),await T(),await J()}catch{alert("  ")}},ue=Y=>{I.includes(Y)?A(I.filter(ae=>ae!==Y)):A([...I,Y])},he=Y=>{A(Y?i.map(ae=>ae.id):[])},Z=Y=>{const ae={active:a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-green-500/20 text-green-400",children:""}),draft:a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-yellow-500/20 text-yellow-400",children:""}),archived:a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-gray-500/20 text-gray-400",children:""})};return ae[Y]||ae.draft};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:""}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:" "})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:()=>window.location.href="/catalog/products/new",className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center gap-2",children:[a.jsx(Ir,{}),"  "]})})]}),a.jsx("div",{className:"border-b border-mm-border mb-6",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{onClick:()=>r("products"),className:`px-6 py-3 font-medium transition-colors relative ${t==="products"?"text-mm-cyan":"text-mm-text-secondary hover:text-mm-text"}`,children:[" ",t==="products"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-mm-cyan"})]}),a.jsxs("button",{onClick:()=>r("sync"),className:`px-6 py-3 font-medium transition-colors relative ${t==="sync"?"text-mm-cyan":"text-mm-text-secondary hover:text-mm-text"}`,children:["",t==="sync"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-mm-cyan"})]})]})}),t==="sync"?a.jsx(nM,{}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-mm-text-secondary"}),a.jsx("input",{type:"text",placeholder:"  , , -...",value:m,onChange:Y=>p(Y.target.value),className:"w-full pl-10 pr-4 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("button",{onClick:()=>k(!j),className:`px-4 py-2 rounded flex items-center gap-2 ${j?"bg-mm-cyan text-mm-dark":"bg-mm-dark text-mm-text hover:bg-mm-dark/80"}`,children:[a.jsx(Ty,{})," "]})]}),j&&a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsxs("select",{value:x,onChange:Y=>y(Y.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[a.jsx("option",{value:"",children:" "}),l.map(Y=>a.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsx("input",{type:"text",value:g,onChange:Y=>v(Y.target.value),placeholder:"  ",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsxs("select",{value:h,onChange:Y=>b(Y.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"draft",children:""}),a.jsx("option",{value:"archived",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsxs("select",{value:P,onChange:Y=>_(Y.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[a.jsx("option",{value:"created_at",children:"  "}),a.jsx("option",{value:"name",children:" "}),a.jsx("option",{value:"article",children:" "})]})]})]})]}),a.jsx("div",{className:"flex justify-start",children:a.jsxs("button",{onClick:()=>B(!0),className:"px-4 py-2 bg-purple-500/20 border border-purple-500/30 text-purple-300 rounded hover:bg-purple-500/30 flex items-center gap-2 transition",children:[a.jsx(i_,{}),"  "]})}),I.length>0&&a.jsx("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-mm-text font-mono",children:[" : ",a.jsx("span",{className:"text-purple-300 font-bold",children:I.length})]}),a.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[a.jsxs("select",{value:R,onChange:Y=>$(Y.target.value),className:"px-3 py-2 bg-mm-dark border border-mm-border text-mm-text rounded",children:[a.jsx("option",{value:"",children:"--   --"}),S.map(Y=>a.jsx("option",{value:Y,children:Y},Y))]}),a.jsx("button",{onClick:ie,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition",children:" "}),a.jsx("button",{onClick:oe,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:" "})]}),a.jsx("button",{onClick:()=>A([]),className:"px-3 py-2 bg-mm-dark border border-mm-border text-mm-text-secondary rounded hover:bg-mm-gray transition",children:" "})]})}),c?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-mm-cyan"}),a.jsx("p",{className:"text-mm-text-secondary mt-4",children:" ..."})]}):i.length===0?a.jsxs("div",{className:"text-center py-12 bg-mm-secondary rounded-lg",children:[a.jsx(vt,{className:"mx-auto text-6xl text-mm-text-secondary mb-4"}),a.jsx("p",{className:"text-mm-text-secondary text-lg",children:" "}),a.jsx("p",{className:"text-mm-text-secondary text-sm mt-2",children:"     "}),a.jsx("button",{onClick:()=>window.location.href="/catalog/products/new",className:"mt-4 px-6 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded",children:" "})]}):a.jsx("div",{className:"bg-mm-secondary rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-mm-dark border-b border-mm-border",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsx("input",{type:"checkbox",checked:I.length===i.length&&i.length>0,onChange:Y=>he(Y.target.checked),className:"w-4 h-4"})}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-mm-border",children:i.map(Y=>a.jsxs("tr",{className:"hover:bg-mm-dark/50 transition",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"checkbox",checked:I.includes(Y.id),onChange:()=>ue(Y.id),className:"w-4 h-4"})}),a.jsxs("td",{className:"px-4 py-3",children:[Y.firstPhoto?a.jsx("img",{src:Y.firstPhoto,alt:Y.name,className:"w-12 h-12 object-cover rounded bg-mm-dark",onError:ae=>{ae.target.style.display="none",ae.target.nextSibling.style.display="flex"}}):null,a.jsx("div",{className:"w-12 h-12 bg-mm-dark rounded flex items-center justify-center",style:{display:Y.firstPhoto?"none":"flex"},children:a.jsx(vt,{className:"text-mm-text-secondary"})})]}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text font-mono",children:Y.article}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-sm text-mm-text",children:Y.name}),Y.description&&a.jsx("div",{className:"text-xs text-mm-text-secondary mt-1 truncate max-w-xs",children:Y.description})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex flex-wrap gap-1 max-w-xs",children:Y.tags&&Y.tags.length>0?Y.tags.map(ae=>a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs border ${U0(ae)}`,children:[ae,a.jsx("button",{onClick:()=>U(Y.id,ae),className:"hover:opacity-70",title:" ",children:a.jsx(yt,{size:12})})]},ae)):a.jsx("span",{className:"text-mm-text-secondary text-xs",children:""})})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex items-center gap-1",children:(()=>{var H,ee,le,ve,z,ne,F,se;const ae=Y.marketplace_specific_data||Y.marketplace_data||{},be=[];return((H=ae.ozon)!=null&&H.product_id||(ee=ae.ozon)!=null&&ee.offer_id||(le=ae.ozon)!=null&&le.id)&&be.push(a.jsx("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-[10px] font-bold",title:"Ozon ()",children:"O"},"ozon")),((ve=ae.wb)!=null&&ve.nm_id||(z=ae.wb)!=null&&z.id||(ne=ae.wb)!=null&&ne.vendor_code)&&be.push(a.jsx("div",{className:"w-6 h-6 bg-purple-600 text-white rounded flex items-center justify-center text-[9px] font-bold",title:"Wildberries ()",children:"WB"},"wb")),((F=ae.yandex)!=null&&F.offer_id||(se=ae.yandex)!=null&&se.shop_sku)&&be.push(a.jsx("div",{className:"w-6 h-6 bg-red-500 text-white rounded flex items-center justify-center text-[10px] font-bold",title:". ()",children:""},"yandex")),be.length>0?be:a.jsx("span",{className:"text-xs text-mm-text-secondary",children:""})})()})}),a.jsx("td",{className:"px-4 py-3",children:Y.price_discounted?a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-mm-cyan font-bold text-base",children:[(Y.price_discounted/100).toFixed(2)," "]}),a.jsxs("span",{className:"text-mm-text-secondary text-xs line-through",children:[(Y.price/100).toFixed(2)," "]})]}):Y.price>0?a.jsxs("span",{className:"text-mm-text text-sm",children:[(Y.price/100).toFixed(2)," "]}):a.jsx("span",{className:"text-mm-text-secondary text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:Y.brand||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:Y.category_name||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-mm-cyan",children:Y.variants_count}),Y.is_grouped&&a.jsx("span",{className:"text-xs text-mm-text-secondary",children:"(.)"})]})}),a.jsx("td",{className:"px-4 py-3",children:Z(Y.status)}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>window.location.href=`/catalog/products/${Y.id}/edit`,className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded transition",title:"",children:a.jsx(Ua,{})}),a.jsx("button",{onClick:()=>Q(Y.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded transition",title:" ",children:a.jsx(vn,{})})]})})]},Y.id))})]})}),i.length>0&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-mm-text-secondary",children:[" : ",i.length]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>w(Math.max(1,N-1)),disabled:N===1,className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:""}),a.jsxs("span",{className:"px-4 py-2 bg-mm-dark rounded text-mm-text",children:[" ",N]}),a.jsx("button",{onClick:()=>w(N+1),disabled:i.length<50,className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]}),M&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:()=>B(!1),children:a.jsxs("div",{className:"bg-mm-dark border-2 border-purple-500 rounded-lg p-6 w-full max-w-2xl",onClick:Y=>Y.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-mono text-purple-300",children:"//  "}),a.jsx("button",{onClick:()=>B(!1),className:"text-mm-text-secondary hover:text-mm-text",children:a.jsx(yt,{size:24})})]}),a.jsxs("div",{className:"mb-6 p-4 bg-mm-gray rounded border border-mm-border",children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2",children:"  "}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:W,onChange:Y=>L(Y.target.value),placeholder:" ...",className:"flex-1 px-3 py-2 bg-mm-dark border border-mm-border text-mm-text rounded focus:border-mm-cyan focus:outline-none",onKeyDown:Y=>{Y.key==="Enter"&&D()}}),a.jsx("button",{onClick:D,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition",children:""})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-mm-text mb-2 font-mono",children:" :"}),S.length===0?a.jsx("p",{className:"text-mm-text-secondary text-sm",children:" .    ."}):a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:S.map(Y=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-mm-gray rounded border border-mm-border hover:border-purple-500 transition",children:[a.jsx("span",{className:`px-3 py-1 rounded border ${U0(Y)}`,children:Y}),a.jsx("button",{onClick:()=>q(Y),className:"px-3 py-1 bg-red-600/20 text-red-400 border border-red-600/30 rounded hover:bg-red-600/30 transition",children:""})]},Y))})]})]})})]})]})}function aM(){const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{try{const d=await e.get("/api/admin/users");r(d.data)}catch(d){console.error("Failed to load users:",d)}s(!1)},o=async d=>{try{await e.put(`/api/admin/users/${d}/approve`),i()}catch(c){console.error("Failed to approve:",c)}},l=async d=>{try{await e.put(`/api/admin/users/${d}/block`),i()}catch(c){console.error("Failed to block:",c)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl mb-4 text-mm-cyan",children:" "}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Email"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Name"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Role"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Status"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Actions"})]})}),a.jsx("tbody",{children:t.map(d=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:d.email}),a.jsx("td",{className:"py-4 px-4",children:d.full_name}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:d.role==="admin"?"status-active":"status-new",children:d.role})}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:d.is_active?"status-active":"status-pending",children:d.is_active?"ACTIVE":"PENDING"})}),a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[!d.is_active&&d.role==="seller"&&a.jsx("button",{onClick:()=>o(d.id),className:"px-3 py-1 border border-mm-green text-mm-green text-xs",children:"APPROVE"}),d.is_active&&d.role==="seller"&&a.jsx("button",{onClick:()=>l(d.id),className:"px-3 py-1 border border-mm-red text-mm-red text-xs",children:"BLOCK"})]})]},d.id))})]})})]})}function sM(){const{user:e,logout:t}=we(),[r,n]=f.useState("sellers");return a.jsxs("div",{className:"min-h-screen bg-mm-black",children:[a.jsx("header",{className:"border-b border-mm-border bg-mm-darker",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h1",{className:"text-2xl font-bold",children:["MINIMAL",a.jsx("span",{className:"text-mm-purple",children:"MOD"})," ",a.jsx("span",{className:"status-active",children:"ADMIN"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-mm-text-secondary",children:e==null?void 0:e.email}),a.jsx(l_,{}),a.jsx("button",{onClick:t,className:"btn-primary",children:"LOGOUT"})]})]})})}),a.jsx("nav",{className:"border-b border-mm-border bg-mm-dark",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsxs("div",{className:"flex space-x-6 h-12 overflow-x-auto",children:[a.jsxs("button",{onClick:()=>n("sellers"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="sellers"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-sellers",children:[a.jsx(QI,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("api-keys"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="api-keys"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-integrations",children:[a.jsx(n_,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("warehouses"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="warehouses"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-warehouses",children:[a.jsx(Pi,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("products"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="products"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-products",children:[a.jsx(vt,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("orders"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="orders"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-orders",children:[a.jsx(Ud,{className:"inline mr-2"}),"ORDERS"]}),a.jsxs("button",{onClick:()=>n("finance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="finance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-finance",children:[a.jsx(Dy,{className:"inline mr-2"}),"FINANCE"]}),a.jsxs("button",{onClick:()=>n("balance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="balance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-balance",children:[a.jsx(Jn,{className:"inline mr-2"}),"BALANCE"]})]})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[r==="sellers"&&a.jsx(aM,{}),r==="api-keys"&&a.jsx(c_,{}),r==="warehouses"&&a.jsx(rM,{}),r==="products"&&a.jsx(y_,{}),r==="orders"&&a.jsx(ZI,{}),r==="finance"&&a.jsx(d_,{}),r==="balance"&&a.jsx(u_,{})]})]})}function iM(){const{api:e}=we(),[t,r]=f.useState({}),[n,s]=f.useState({}),[i,o]=f.useState(null);f.useEffect(()=>{l()},[]);const l=async()=>{try{const m=await e.get("/api/admin/categories/preload/status");s(m.data)}catch(m){console.error("Failed to load status:",m),o("  ")}},d=async m=>{var p,x;r({...t,[m]:!0}),o(null);try{const y=await e.post(`/api/admin/categories/preload?marketplace=${m}`);alert(` ${y.data.message}`),setTimeout(()=>{l()},3e3)}catch(y){console.error(`Failed to preload ${m}:`,y);const g=((x=(p=y.response)==null?void 0:p.data)==null?void 0:x.detail)||y.message;alert(`   ${m}: ${g}`),o(g)}finally{r({...t,[m]:!1})}},c=[{id:"ozon",name:"Ozon",color:"blue",description:"   Ozon"},{id:"wb",name:"Wildberries",color:"purple",description:"   WB"},{id:"yandex",name:" ",color:"yellow",description:"  "}],u=m=>m?new Date(m).toLocaleString("ru-RU"):"";return a.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),a.jsx("p",{className:"text-gray-600",children:"          "})]}),i&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-start gap-3",children:[a.jsx(Hn,{className:"text-red-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-800 font-medium",children:""}),a.jsx("p",{className:"text-red-600 text-sm",children:i})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"   ?"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"       "}),a.jsx("li",{children:"        "}),a.jsx("li",{children:"          "}),a.jsx("li",{children:"   1-3     "})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.map(m=>{const p=n[m.id]||{},x=p.total_categories>0,y=p.last_updated;return a.jsxs("div",{className:`bg-white border-2 border-${m.color}-200 rounded-lg p-6 shadow-sm`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`text-lg font-bold text-${m.color}-700`,children:m.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description})]}),x&&a.jsx(Kt,{className:"text-green-600 text-xl flex-shrink-0"})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:" :"}),a.jsx("span",{className:"font-bold text-gray-900",children:p.total_categories||0})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:" :"}),a.jsx("span",{className:"font-medium text-gray-700 text-xs",children:u(y)})]})]}),a.jsx("button",{onClick:()=>d(m.id),disabled:t[m.id],className:`w-full py-2 px-4 rounded-lg font-medium text-white transition-colors flex items-center justify-center gap-2 ${t[m.id]?`bg-${m.color}-300 cursor-not-allowed`:`bg-${m.color}-600 hover:bg-${m.color}-700`}`,children:t[m.id]?a.jsxs(a.Fragment,{children:[a.jsx(_t,{className:"animate-spin"}),"..."]}):x?a.jsxs(a.Fragment,{children:[a.jsx(_t,{})," "]}):a.jsxs(a.Fragment,{children:[a.jsx(Vt,{})," "]})})]},m.id)})}),a.jsxs("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-yellow-900 mb-2",children:" "}),a.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[a.jsx("li",{children:"      API  "}),a.jsx("li",{children:' ,       ""'}),a.jsx("li",{children:"    ,      "})]})]})]})}function oM(){const{id:e}=Zu(),t=Jr(),{api:r}=we(),[n,s]=f.useState(!0),[i,o]=f.useState([]),[l,d]=f.useState(null),[c,u]=f.useState({sku:"",price:"",cogs:"",status:"draft",category_id:"",visibility:{show_on_minimalmod:!0,show_in_search:!0,is_featured:!1},seo:{meta_title:"",meta_description:"",url_slug:""},minimalmod:{name:"",variant_name:"",description:"",tags:[],images:[],attributes:{}},marketplaces:{images:[],ozon:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}},wildberries:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}},yandex_market:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}}}});f.useEffect(()=>{m(),e!=="new"?p():s(!1)},[e]);const m=async()=>{try{const h=await r.get("/api/admin/categories");o(h.data)}catch(h){console.error("Failed to load categories:",h)}},p=async()=>{try{const h=await r.get(`/api/products/${e}`);if(u(h.data),h.data.category_id){const b=i.find(j=>j.id===h.data.category_id);d(b)}}catch(h){console.error("Failed to load product:",h)}s(!1)},x=h=>{const b=i.find(j=>j.id===h);if(d(b),b&&b.attributes){const j={};b.attributes.forEach(k=>{j[k]=c.minimalmod.attributes[k]||""}),u({...c,category_id:h,minimalmod:{...c.minimalmod,attributes:j}})}else u({...c,category_id:h})},y=()=>{if(!l)return;const h=l.marketplace_mapping||{};if(c.marketplaces.ozon.enabled&&h.ozon){const b={};Object.entries(c.minimalmod.attributes).forEach(([j,k])=>{var w;const N=(w=h.ozon.attribute_mapping)==null?void 0:w[j];N&&k&&(b[N]=k)}),u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,attributes:b}}})}alert("    !")},g=async()=>{var h,b;try{const j={...c,visibility:{...c.visibility,show_on_minimalmod:!0},status:"active"};e==="new"?await r.post("/api/products",j):await r.put(`/api/products/${e}`,j),alert("    MinimalMod!"),t(-1)}catch(j){alert(": "+(((b=(h=j.response)==null?void 0:h.data)==null?void 0:b.detail)||j.message))}},v=async()=>{var b,j;const h=[];if(c.marketplaces.ozon.enabled&&h.push("Ozon"),c.marketplaces.wildberries.enabled&&h.push("Wildberries"),c.marketplaces.yandex_market.enabled&&h.push("."),h.length===0){alert("    !");return}try{y(),e==="new"?await r.post("/api/products",c):await r.put(`/api/products/${e}`,c),alert(`  : ${h.join(", ")}!

      API  .`),t(-1)}catch(k){alert(": "+(((j=(b=k.response)==null?void 0:b.data)==null?void 0:j.detail)||k.message))}};return n?a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):a.jsxs("div",{className:"min-h-screen bg-mm-black",children:[a.jsx("header",{className:"border-b border-mm-border bg-mm-darker sticky top-0 z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold text-mm-cyan uppercase",children:e==="new"?" ":" "}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:g,className:"btn-primary",children:[a.jsx(ir,{className:"inline mr-2"}),"  "]}),a.jsxs("button",{onClick:v,className:"btn-secondary border-mm-green text-mm-green",children:[a.jsx(ir,{className:"inline mr-2"}),"  "]}),a.jsxs("button",{onClick:()=>t(-1),className:"btn-secondary",children:[a.jsx(yt,{className:"inline mr-2"}),""]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"card-neon mb-6",children:[a.jsx("p",{className:"comment mb-3",children:"//      :"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center space-x-2 p-4 border-2 border-mm-border hover:border-mm-cyan transition-all cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:!0,disabled:!0,className:"w-5 h-5"}),a.jsx("span",{className:"font-mono text-mm-cyan",children:"  ()"})]}),a.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${c.marketplaces.ozon.enabled?"border-mm-blue bg-mm-blue/10":"border-mm-border hover:border-mm-blue"}`,children:[a.jsx("input",{type:"checkbox",checked:c.marketplaces.ozon.enabled,onChange:h=>u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,enabled:h.target.checked}}}),className:"w-5 h-5"}),a.jsx("span",{className:`font-mono ${c.marketplaces.ozon.enabled?"text-mm-blue":"text-mm-text-secondary"}`,children:" OZON"})]}),a.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${c.marketplaces.wildberries.enabled?"border-mm-purple bg-mm-purple/10":"border-mm-border hover:border-mm-purple"}`,children:[a.jsx("input",{type:"checkbox",checked:c.marketplaces.wildberries.enabled,onChange:h=>u({...c,marketplaces:{...c.marketplaces,wildberries:{...c.marketplaces.wildberries,enabled:h.target.checked}}}),className:"w-5 h-5"}),a.jsx("span",{className:`font-mono ${c.marketplaces.wildberries.enabled?"text-mm-purple":"text-mm-text-secondary"}`,children:" WILDBERRIES"})]}),a.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${c.marketplaces.yandex_market.enabled?"border-mm-yellow bg-mm-yellow/10":"border-mm-border hover:border-mm-yellow"}`,children:[a.jsx("input",{type:"checkbox",checked:c.marketplaces.yandex_market.enabled,onChange:h=>u({...c,marketplaces:{...c.marketplaces,yandex_market:{...c.marketplaces.yandex_market,enabled:h.target.checked}}}),className:"w-5 h-5"}),a.jsx("span",{className:`font-mono ${c.marketplaces.yandex_market.enabled?"text-mm-yellow":"text-mm-text-secondary"}`,children:" ."})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:" "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"SKU *"}),a.jsx("input",{type:"text",value:c.sku,onChange:h=>u({...c,sku:h.target.value}),className:"input-neon w-full",placeholder:"PRODUCT-123"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsx("input",{type:"number",step:"0.01",value:c.price,onChange:h=>u({...c,price:h.target.value}),className:"input-neon w-full"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsx("input",{type:"text",value:c.minimalmod.name,onChange:h=>u({...c,minimalmod:{...c.minimalmod,name:h.target.value}}),className:"input-neon w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsxs("select",{value:c.category_id||"",onChange:h=>x(h.target.value),className:"input-neon w-full",children:[a.jsx("option",{value:"",children:" "}),i.map(h=>a.jsx("option",{value:h.id,children:h.name},h.id))]}),a.jsx("p",{className:"comment text-xs mt-1",children:"//     "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("textarea",{value:c.minimalmod.description,onChange:h=>u({...c,minimalmod:{...c.minimalmod,description:h.target.value}}),className:"input-neon w-full",rows:"6"})]})]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsxs("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:[a.jsx(gx,{className:"inline mr-2"}),"   ( 8 )"]}),a.jsxs("div",{className:"space-y-2",children:[c.minimalmod.images.map((h,b)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[h&&a.jsx("img",{src:h,alt:"",className:"w-16 h-16 object-cover border border-mm-border"}),a.jsx("input",{type:"text",value:h,onChange:j=>{const k=[...c.minimalmod.images];k[b]=j.target.value,u({...c,minimalmod:{...c.minimalmod,images:k}})},className:"input-neon flex-1",placeholder:"https://example.com/image.jpg"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`file-mm-${b}`,onChange:j=>{const k=j.target.files[0];if(k){const N=new FileReader;N.onload=w=>{const P=[...c.minimalmod.images];P[b]=w.target.result,u({...c,minimalmod:{...c.minimalmod,images:P}})},N.readAsDataURL(k)}}}),a.jsx("label",{htmlFor:`file-mm-${b}`,className:"btn-secondary px-3 py-2 cursor-pointer",children:""}),a.jsx("button",{onClick:()=>{u({...c,minimalmod:{...c.minimalmod,images:c.minimalmod.images.filter((j,k)=>k!==b)}})},className:"text-mm-red hover:text-mm-red/80 text-xl",children:""})]},b)),c.minimalmod.images.length<8&&a.jsx("button",{onClick:()=>u({...c,minimalmod:{...c.minimalmod,images:[...c.minimalmod.images,""]}}),className:"btn-secondary w-full",children:"+  "})]})]}),a.jsxs("div",{className:"card-neon border-2 border-mm-purple",children:[a.jsxs("h3",{className:"text-xl mb-4 text-mm-purple uppercase",children:[a.jsx(gx,{className:"inline mr-2"}),"   ( 10 ,  3:4)"]}),a.jsx("p",{className:"comment mb-3",children:"//     Ozon, Wildberries, ."}),a.jsxs("div",{className:"space-y-2",children:[c.marketplaces.images.map((h,b)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[h&&a.jsx("img",{src:h,alt:"",className:"w-16 h-16 object-cover border border-mm-border"}),a.jsx("input",{type:"text",value:h,onChange:j=>{const k=[...c.marketplaces.images];k[b]=j.target.value,u({...c,marketplaces:{...c.marketplaces,images:k}})},className:"input-neon flex-1",placeholder:"https://example.com/marketplace-image.jpg"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`file-mp-${b}`,onChange:j=>{const k=j.target.files[0];if(k){const N=new FileReader;N.onload=w=>{const P=[...c.marketplaces.images];P[b]=w.target.result,u({...c,marketplaces:{...c.marketplaces,images:P}})},N.readAsDataURL(k)}}}),a.jsx("label",{htmlFor:`file-mp-${b}`,className:"btn-secondary px-3 py-2 cursor-pointer",children:""}),a.jsx("button",{onClick:()=>u({...c,marketplaces:{...c.marketplaces,images:c.marketplaces.images.filter((j,k)=>k!==b)}}),className:"text-mm-red hover:text-mm-red/80 text-xl",children:""})]},b)),c.marketplaces.images.length<10&&a.jsx("button",{onClick:()=>u({...c,marketplaces:{...c.marketplaces,images:[...c.marketplaces.images,""]}}),className:"btn-secondary w-full",children:"+  "})]}),a.jsx("p",{className:"comment text-xs mt-3",children:"//  : 3:4 (, 900x1200px)"})]}),l&&l.attributes&&a.jsxs("div",{className:"card-neon",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:""}),a.jsxs("button",{onClick:y,className:"btn-secondary text-xs",children:[a.jsx(Kt,{className:"inline mr-1"}),"  "]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.attributes.map(h=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:h}),a.jsx("input",{type:"text",value:c.minimalmod.attributes[h]||"",onChange:b=>u({...c,minimalmod:{...c.minimalmod,attributes:{...c.minimalmod.attributes,[h]:b.target.value}}}),className:"input-neon w-full",placeholder:` ${h}`})]},h))}),a.jsx("p",{className:"comment text-xs mt-3",children:'//   ,   ""     '})]}),c.marketplaces.ozon.enabled&&a.jsxs("div",{className:"card-neon border-2 border-mm-blue",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-blue uppercase",children:" OZON "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  Ozon"}),a.jsx("input",{type:"number",step:"0.01",value:c.marketplaces.ozon.price,onChange:h=>u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,price:h.target.value}}}),className:"input-neon w-full",placeholder:"   Ozon"}),a.jsx("p",{className:"comment text-xs mt-1",children:"//  ,    "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  Ozon"}),a.jsx("textarea",{value:c.marketplaces.ozon.description,onChange:h=>u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,description:h.target.value}}}),className:"input-neon w-full",rows:"4",placeholder:"  Ozon (   )"}),a.jsx("p",{className:"comment text-xs mt-1",children:"//  ,    "})]})]})]}),c.marketplaces.wildberries.enabled&&a.jsxs("div",{className:"card-neon border-2 border-mm-purple",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-purple uppercase",children:" WILDBERRIES "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  WB"}),a.jsx("input",{type:"number",step:"0.01",value:c.marketplaces.wildberries.price,onChange:h=>u({...c,marketplaces:{...c.marketplaces,wildberries:{...c.marketplaces.wildberries,price:h.target.value}}}),className:"input-neon w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  WB"}),a.jsx("textarea",{value:c.marketplaces.wildberries.description,onChange:h=>u({...c,marketplaces:{...c.marketplaces,wildberries:{...c.marketplaces.wildberries,description:h.target.value}}}),className:"input-neon w-full",rows:"4"})]})]})]}),c.marketplaces.yandex_market.enabled&&a.jsxs("div",{className:"card-neon border-2 border-mm-yellow",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-yellow uppercase",children:" . "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsx("input",{type:"number",step:"0.01",value:c.marketplaces.yandex_market.price,onChange:h=>u({...c,marketplaces:{...c.marketplaces,yandex_market:{...c.marketplaces.yandex_market,price:h.target.value}}}),className:"input-neon w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsx("textarea",{value:c.marketplaces.yandex_market.description,onChange:h=>u({...c,marketplaces:{...c.marketplaces,yandex_market:{...c.marketplaces.yandex_market,description:h.target.value}}}),className:"input-neon w-full",rows:"4"})]})]})]})]}),a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-lg mb-4 text-mm-cyan uppercase",children:""}),a.jsxs("select",{value:c.status,onChange:h=>u({...c,status:h.target.value}),className:"input-neon w-full",children:[a.jsx("option",{value:"draft",children:""}),a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"out_of_stock",children:"  "}),a.jsx("option",{value:"archived",children:""})]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-lg mb-4 text-mm-cyan uppercase",children:""}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:c.visibility.show_on_minimalmod,onChange:h=>u({...c,visibility:{...c.visibility,show_on_minimalmod:h.target.checked}}),className:"w-4 h-4"}),a.jsx("span",{className:"text-mm-text-secondary",children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:c.visibility.is_featured,onChange:h=>u({...c,visibility:{...c.visibility,is_featured:h.target.checked}}),className:"w-4 h-4"}),a.jsx("span",{className:"text-mm-text-secondary",children:""})]})]})]}),a.jsxs("div",{className:"card-neon bg-mm-blue/5 border-mm-blue",children:[a.jsx("p",{className:"text-mm-blue font-bold text-sm mb-2",children:"   :"}),a.jsxs("ul",{className:"text-xs text-mm-text-secondary space-y-1",children:[a.jsx("li",{children:"1.   "}),a.jsx("li",{children:"2.  "}),a.jsx("li",{children:"3.  "}),a.jsx("li",{children:"4.   ( )"}),a.jsx("li",{children:"5.    "}),a.jsx("li",{children:'6.  "  "'})]})]})]})]})]})]})}const lM="http://localhost:8001",cM=()=>{const e=Jr(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(""),[l,d]=f.useState("Wildberries"),[c,u]=f.useState([]),[m,p]=f.useState(!1),[x,y]=f.useState(2);f.useEffect(()=>{g()},[]);const g=async()=>{try{const C=localStorage.getItem("token"),O=await st.get(`${lM}/api/products`,{headers:{Authorization:`Bearer ${C}`}});r(O.data),s(!1)}catch(C){console.error("Error fetching products:",C),s(!1)}},v=()=>{e("/products/new")},h=()=>{e("/orders/new")},b=()=>{if(c.length===0){alert("   ");return}alert("  -  ")},j=()=>{alert(" -  ")},k=()=>{if(c.length===0){alert("   ");return}confirm(` ${c.length}   ?`)&&alert(" -  ")},N=()=>{if(c.length===0){alert("   ");return}confirm(` ${c.length} ?`)&&alert(" -  ")},w=()=>{alert("  -  ")},P=C=>{c.includes(C)?u(c.filter(O=>O!==C)):u([...c,C])},_=t.filter(C=>C.name.toLowerCase().includes(i.toLowerCase())||C.sku&&C.sku.toLowerCase().includes(i.toLowerCase())||C.barcode&&C.barcode.toLowerCase().includes(i.toLowerCase()));return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:v,className:"px-6 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:" "}),a.jsx("button",{onClick:h,className:"px-6 py-2 bg-yellow-500 text-white font-semibold rounded-lg hover:bg-yellow-600",children:" "})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:" "}),a.jsx("button",{onClick:j,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:""}),a.jsx("button",{onClick:k,className:"p-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",title:"  ",children:""}),a.jsx("button",{onClick:N,className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200",title:"",children:""})]})]}),a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx("button",{onClick:()=>p(!m),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-semibold",children:""}),a.jsx("input",{type:"text",value:i,onChange:C=>o(C.target.value),placeholder:"  , -, , ",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.jsxs("select",{value:l,onChange:C=>d(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:"Wildberries"}),a.jsx("option",{children:"Ozon"}),a.jsx("option",{children:"."})]}),a.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:"   "}),a.jsx("option",{children:" "})]}),a.jsx("button",{onClick:w,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold",children:""})]})]}),m&&a.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:a.jsx("option",{children:" "})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:a.jsx("option",{children:" "})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:a.jsx("option",{children:" "})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:" "}),a.jsx("option",{children:""}),a.jsx("option",{children:" "})]})]})]})}),a.jsxs("div",{className:"bg-white px-6 py-3 flex justify-between items-center border-b",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:" "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:"  "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" "}),a.jsx("input",{type:"range",min:"1",max:"3",value:x,onChange:C=>y(parseInt(C.target.value)),className:"w-24"})]})]}),a.jsxs("div",{className:"bg-white",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsx("input",{type:"checkbox",onChange:C=>{C.target.checked?u(_.map(O=>O.id)):u([])},className:"w-4 h-4"})}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"-"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""})]})}),a.jsx("tbody",{children:n?a.jsx("tr",{children:a.jsx("td",{colSpan:"12",className:"px-4 py-8 text-center text-gray-500",children:"..."})}):_.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"12",className:"px-4 py-8 text-center text-gray-500",children:"  "})}):_.map(C=>a.jsxs("tr",{className:`border-b hover:bg-gray-50 ${x===1?"h-12":x===2?"h-16":"h-24"}`,children:[a.jsx("td",{className:"px-4",children:a.jsx("input",{type:"checkbox",checked:c.includes(C.id),onChange:()=>P(C.id),className:"w-4 h-4"})}),a.jsx("td",{className:"px-4",children:a.jsx("div",{className:`bg-gray-200 rounded flex items-center justify-center text-gray-400 ${x===1?"w-10 h-10":x===2?"w-12 h-12":"w-16 h-16"}`,children:""})}),a.jsx("td",{className:"px-4",children:a.jsx("button",{onClick:()=>e(`/products/${C.id}`),className:"text-blue-600 hover:underline font-medium",children:C.name})}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:C.size||"-"}),a.jsx("td",{className:"px-4",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:C.brand||"-"}),a.jsx("td",{className:"px-4",children:a.jsx("button",{className:"text-yellow-500 hover:text-yellow-600",children:""})}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:C.barcode||"-"}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:C.sku||"-"}),a.jsx("td",{className:"px-4 text-sm font-semibold text-gray-800",children:C.price?`${C.price} `:"-"}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:C.stock_quantity||0}),a.jsx("td",{className:"px-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>e(`/products/${C.id}/edit`),className:"text-blue-600 hover:underline text-sm",children:""}),a.jsx("button",{className:"text-red-600 hover:underline text-sm",children:""})]})})]},C.id))})]})}),a.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-t",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[a.jsx("option",{children:"50"}),a.jsx("option",{children:"100"}),a.jsx("option",{children:"200"})]}),a.jsx("span",{className:"text-sm text-gray-600",children:"  "})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[" 1  1 |  : ",c.length]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""})]})]})]}),a.jsx("div",{className:"fixed left-0 top-16 w-64 bg-gray-800 text-white h-full overflow-y-auto hidden",children:a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:""}),a.jsxs("ul",{className:"space-y-1 text-sm",children:[a.jsx("li",{children:a.jsx("a",{href:"/products",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/import",className:"block px-3 py-2 rounded hover:bg-gray-700",children:" "})}),a.jsx("li",{children:a.jsx("a",{href:"/products/merge",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/photos",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/categories",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/brands",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/manufacturers",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/parameters",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})})]})]})})]})},dM="http://localhost:8001",uM=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState("MAin"),[o,l]=f.useState(!0),[d,c]=f.useState(!0),[u,m]=f.useState(!1),[p,x]=f.useState(!1),[y,g]=f.useState(""),[v,h]=f.useState([]);f.useEffect(()=>{b()},[]);const b=async()=>{try{const k=localStorage.getItem("token"),N=await st.get(`${dM}/api/stock`,{headers:{Authorization:`Bearer ${k}`}});t(N.data),n(!1)}catch(k){console.error("Error fetching stock:",k),n(!1)}},j=e.filter(k=>{var N,w,P;return((N=k.product_name)==null?void 0:N.toLowerCase().includes(y.toLowerCase()))||((w=k.sku)==null?void 0:w.toLowerCase().includes(y.toLowerCase()))||((P=k.barcode)==null?void 0:P.toLowerCase().includes(y.toLowerCase()))});return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"bg-white border-b px-6 py-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"   "}),a.jsxs("div",{className:"flex gap-4 items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:""}),a.jsxs("select",{value:s,onChange:k=>i(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{value:"MAin",children:"MAin"}),a.jsx("option",{value:"all",children:" "})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:o,onChange:k=>l(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:k=>c(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"  "})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:u,onChange:k=>m(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:k=>x(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:'  ""'})]})]})]}),a.jsxs("div",{className:"flex gap-3 items-center",children:[a.jsx("input",{type:"text",value:y,onChange:k=>g(k.target.value),placeholder:"  , -, , ",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:""})]})]}),a.jsx("div",{className:"bg-white border-b px-6",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"px-6 py-3 bg-blue-500 text-white font-semibold border-b-2 border-blue-600",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:" "}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""})]})}),a.jsxs("div",{className:"bg-white px-6 py-3 flex justify-between items-center border-b",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:" "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:"  "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" "}),a.jsx("input",{type:"range",min:"1",max:"3",className:"w-24"})]})]}),a.jsxs("div",{className:"bg-white",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"  ..."}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:" "}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"-"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"  / "}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"SKU"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"ID"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:" "}),p&&a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""})]})}),a.jsx("tbody",{children:r?a.jsx("tr",{children:a.jsx("td",{colSpan:"20",className:"px-4 py-8 text-center text-gray-500",children:"..."})}):j.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"20",className:"px-4 py-8 text-center text-gray-500",children:"  "})}):j.map((k,N)=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),a.jsx("td",{className:"px-4 py-3",children:k.error&&a.jsx("span",{className:"text-red-600",children:""})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center text-gray-400",children:""})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-blue-600 hover:underline cursor-pointer font-medium",children:k.product_name||" "})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.size||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-800",children:k.quantity||0}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.reserved||0}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.location||"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.barcode||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.size||"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.brand||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.color||"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:""}),a.jsx("button",{className:"text-red-600 hover:text-red-800",children:""})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.sku||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.id||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.seller_sku||"-"}),p&&a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})})]},N))})]})}),a.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-t",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[a.jsx("option",{children:"200"}),a.jsx("option",{children:"50"}),a.jsx("option",{children:"100"})]}),a.jsx("span",{className:"text-sm text-gray-600",children:"  "})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"0 - 0  0.  1  1"}),a.jsx("div",{className:"flex gap-1",children:a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:" : 0"})})]})]})]})},mM=()=>{const{id:e}=Zu(),t=Jr(),{api:r}=we(),[n,s]=f.useState(null),[i,o]=f.useState(!0),[l,d]=f.useState(!1),[c,u]=f.useState(!1),[m,p]=f.useState(!1),[x,y]=f.useState(""),[g,v]=f.useState([]),[h,b]=f.useState(""),[j,k]=f.useState(!1),[N,w]=f.useState([]),[P,_]=f.useState(""),[C,O]=f.useState(""),[S,E]=f.useState({name:"",is_fbo:!1,send_stock:!0,load_orders:!0,use_for_orders:!0,priority:0,default_cell:"",description:"",longitude:null,latitude:null,address:"",brand:"",working_hours:"",assembly_hours:0,storage_days:0,online_payment:!1,cash_payment:!1,card_payment:!1,show_on_goods:!1});f.useEffect(()=>{I(),A()},[e]);const I=async()=>{try{const T=await r.get(`/api/warehouses/${e}`);s(T.data),E({name:T.data.name||"",is_fbo:T.data.is_fbo||!1,send_stock:T.data.send_stock!==!1,load_orders:T.data.load_orders!==!1,use_for_orders:T.data.use_for_orders!==!1,priority:T.data.priority||0,default_cell:T.data.default_cell||"",description:T.data.description||"",longitude:T.data.longitude,latitude:T.data.latitude,address:T.data.address||"",brand:T.data.brand||"",working_hours:T.data.working_hours||"",assembly_hours:T.data.assembly_hours||0,storage_days:T.data.storage_days||0,online_payment:T.data.online_payment||!1,cash_payment:T.data.cash_payment||!1,card_payment:T.data.card_payment||!1,show_on_goods:T.data.show_on_goods||!1}),o(!1)}catch(T){console.error("Error fetching warehouse:",T),o(!1)}},A=async()=>{try{const T=await r.get(`/api/warehouses/${e}/links`);w(T.data||[])}catch(T){console.error("Error fetching warehouse links:",T)}},M=async T=>{var Q,J;if(!T){v([]);return}k(!0);try{const D=await r.get(`/api/marketplaces/${T}/all-warehouses`);v(D.data.warehouses||[]),D.data.warehouses.length===0&&D.data.message&&alert(D.data.message)}catch(D){console.error("Error loading MP warehouses:",D),alert("  : "+(((J=(Q=D.response)==null?void 0:Q.data)==null?void 0:J.detail)||D.message))}finally{k(!1)}},B=T=>{y(T),b(""),v([]),_(""),O(""),T&&T!=="yandex"&&M(T)},W=async()=>{var T,Q;if(!x){alert(" ");return}if(x==="yandex"){if(!P||!C){alert(" ID     .");return}}else if(!h){alert("   ");return}try{let J;if(x==="yandex"){const q=(await r.get("/api/seller/api-keys")).data.find(ie=>ie.marketplace==="yandex");if(!q){alert("   .   ");return}J={integration_id:q.id,marketplace_name:"yandex",marketplace_warehouse_id:P,marketplace_warehouse_name:C}}else{const D=g.find(q=>q.id===h);J={integration_id:D.integration_id,marketplace_name:x,marketplace_warehouse_id:D.id,marketplace_warehouse_name:D.name}}await r.post(`/api/warehouses/${e}/links`,J),await A(),y(""),b(""),v([]),_(""),O(""),alert(`    ${x.toUpperCase()} !`)}catch(J){console.error("Error adding link:",J),alert(": "+(((Q=(T=J.response)==null?void 0:T.data)==null?void 0:Q.detail)||J.message))}},L=async T=>{var Q,J;if(confirm(" ?"))try{await r.delete(`/api/warehouses/${e}/links/${T}`),alert("  "),A()}catch(D){console.error("Error deleting link:",D),alert(": "+(((J=(Q=D.response)==null?void 0:Q.data)==null?void 0:J.detail)||D.message))}},R=(T,Q)=>{E(J=>({...J,[T]:Q}))},$=async()=>{d(!0);try{await r.put(`/api/warehouses/${e}`,S),alert("  "),t(-1)}catch(T){console.error("Error saving warehouse:",T),alert("   ")}finally{d(!1)}},X=async()=>{if(confirm(" ,     ?"))try{await r.delete(`/api/warehouses/${e}`),alert(" "),t(-1)}catch(T){console.error("Error deleting warehouse:",T),alert("   ")}};return i?a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:a.jsx("p",{className:"text-mm-cyan",children:"..."})}):a.jsx("div",{className:"min-h-screen bg-mm-black text-gray-100 p-8",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("button",{onClick:()=>t(-1),className:"text-mm-cyan hover:text-cyan-400 mb-4",children:" "}),a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "})]}),a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),a.jsx("input",{type:"text",value:S.name,onChange:T=>R("name",T.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:S.is_fbo,onChange:T=>R("is_fbo",T.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"    FBO"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"  FIFO   FBO"})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:S.send_stock,onChange:T=>R("send_stock",T.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:" "}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"SelSup      .   ."})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:S.load_orders,onChange:T=>R("load_orders",T.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:" "}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"    .   ."})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:S.use_for_orders,onChange:T=>R("use_for_orders",T.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"  "}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"    .    ."})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"  "}),a.jsx("input",{type:"number",value:S.priority,onChange:T=>R("priority",parseInt(T.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-3 text-mm-cyan",children:"   "}),a.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 mb-4",children:a.jsxs("p",{className:"text-xs text-blue-300",children:[" ",a.jsx("strong",{children:":"}),'   SelSup ,        .  " "     ,      .']})}),a.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg mb-4 space-y-3",children:[a.jsx("p",{className:"text-xs text-mm-cyan mb-3",children:"   FBS     "}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 font-mono",children:"1  "}),a.jsxs("select",{value:x,onChange:T=>B(T.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm",children:[a.jsx("option",{value:"",children:"--   --"}),a.jsx("option",{value:"ozon",children:"OZON"}),a.jsx("option",{value:"wb",children:"WILDBERRIES"}),a.jsx("option",{value:"yandex",children:"YANDEX.MARKET"})]})]}),x&&x!=="yandex"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs mb-1 font-mono",children:["2   FBS",j&&a.jsx("span",{className:"ml-2 text-mm-cyan animate-pulse",children:"..."})]}),a.jsxs("select",{value:h,onChange:T=>b(T.target.value),disabled:j,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm disabled:opacity-50",children:[a.jsx("option",{value:"",children:"--   --"}),g.map(T=>a.jsxs("option",{value:T.id,children:[T.name," (ID: ",T.id,") ",T.integration_name?`[${T.integration_name}]`:""]},T.id))]}),g.length===0&&!j&&a.jsxs("p",{className:"text-xs text-yellow-400 mt-1",children:["   .  :",a.jsx("br",{}),"      ",x.toUpperCase(),"   ",a.jsx("br",{}),"  FBS     ",x.toUpperCase()]})]}),x==="yandex"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded p-2",children:a.jsxs("p",{className:"text-xs text-yellow-300",children:[" ",a.jsx("strong",{children:".:"})," ID     API.     .    "]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 font-mono",children:"2 ID  ."}),a.jsx("input",{type:"text",value:P,onChange:T=>_(T.target.value),placeholder:" ID    ",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 font-mono",children:" "}),a.jsx("input",{type:"text",value:C,onChange:T=>O(T.target.value),placeholder:"  ",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm"})]})]}),a.jsxs("button",{onClick:W,disabled:!x||x==="yandex"&&(!P||!C)||x!=="yandex"&&!h,className:"w-full px-4 py-2 bg-mm-purple hover:bg-purple-600 rounded transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[a.jsx(Ir,{}),a.jsx("span",{children:" "})]})]}),N.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:" :"}),N.map((T,Q)=>{var J;return a.jsxs("div",{className:"bg-gray-800 px-4 py-3 rounded flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm font-medium",children:[(J=T.marketplace_name)==null?void 0:J.toUpperCase()," - ",T.marketplace_warehouse_name]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",T.marketplace_warehouse_id]})]}),a.jsx("button",{onClick:()=>L(T.id),className:"px-3 py-2 text-red-400 hover:bg-red-400/10 rounded transition",children:a.jsx(vn,{})})]},Q)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"    "}),a.jsx("input",{type:"text",value:S.default_cell,onChange:T=>R("default_cell",T.target.value),placeholder:" ",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[a.jsxs("button",{onClick:()=>u(!c),className:"flex items-center space-x-2 text-mm-cyan hover:text-cyan-400 transition",children:[a.jsx("span",{className:"text-xl",children:c?"":""}),a.jsx("span",{className:"font-medium",children:"  "})]}),c&&a.jsxs("div",{className:"mt-4 space-y-4 pl-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:""}),a.jsx("textarea",{value:S.description,onChange:T=>R("description",T.target.value),rows:3,className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:""}),a.jsx("input",{type:"number",step:"0.000001",value:S.longitude||"",onChange:T=>R("longitude",parseFloat(T.target.value)||null),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:""}),a.jsx("input",{type:"number",step:"0.000001",value:S.latitude||"",onChange:T=>R("latitude",parseFloat(T.target.value)||null),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:"  "}),a.jsx("input",{type:"text",value:S.address,onChange:T=>R("address",T.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:",    "}),a.jsx("input",{type:"text",value:S.brand,onChange:T=>R("brand",T.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:" "}),a.jsx("input",{type:"text",value:S.working_hours,onChange:T=>R("working_hours",T.target.value),placeholder:": - 9:00-18:00",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:"-    "}),a.jsx("input",{type:"number",value:S.assembly_hours,onChange:T=>R("assembly_hours",parseInt(T.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:"-   "}),a.jsx("input",{type:"number",value:S.storage_days,onChange:T=>R("storage_days",parseInt(T.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:" :"}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:S.online_payment,onChange:T=>R("online_payment",T.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:" "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:S.cash_payment,onChange:T=>R("cash_payment",T.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:S.card_payment,onChange:T=>R("card_payment",T.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:"  "})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:S.show_on_goods,onChange:T=>R("show_on_goods",T.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:"   Goods"})]})]})]}),a.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-700",children:[a.jsx("button",{onClick:X,disabled:(n==null?void 0:n.type)==="main",className:"px-6 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:""}),a.jsx("button",{onClick:$,disabled:l,className:"px-8 py-2 bg-mm-cyan hover:bg-cyan-400 text-black font-bold rounded-lg transition disabled:opacity-50",children:l?"...":""})]})]})]})})},My=()=>{const[e,t]=f.useState(!1),r=f.useRef(null),n=Jr(),s=Ja(),i=[{label:"",path:"/catalog/products",icon:r_},{label:"",path:"/catalog/categories",icon:vt},{label:"",path:"/catalog/pricing",icon:Jn},{label:"",path:"/catalog/matching",icon:zo},{label:" ",path:"/catalog/import",icon:ir}],o=i.find(c=>s.pathname===c.path),l=o?o.label:"";f.useEffect(()=>{const c=u=>{r.current&&!r.current.contains(u.target)&&t(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const d=c=>{t(!1),n(c)};return a.jsxs("div",{className:"relative inline-block",ref:r,children:[a.jsxs("button",{onClick:()=>t(!e),className:"px-4 py-2 bg-mm-secondary text-mm-cyan hover:bg-mm-secondary/80 rounded flex items-center gap-2 font-mono uppercase text-sm",children:[a.jsx(vt,{className:"w-4 h-4"}),l,a.jsx(Vi,{className:`w-4 h-4 transition-transform ${e?"rotate-180":""}`})]}),e&&a.jsx("div",{className:"absolute left-0 mt-2 bg-white rounded-lg shadow-2xl border-2 border-gray-300 py-2 z-[9999] min-w-[220px]",children:i.map((c,u)=>{const m=c.icon,p=s.pathname===c.path;return a.jsxs("button",{onClick:()=>d(c.path),className:`w-full text-left px-4 py-3 hover:bg-gray-100 flex items-center gap-3 text-sm transition-colors font-medium ${p?"bg-blue-50 text-blue-600":"text-gray-700 hover:text-blue-600"}`,children:[a.jsx(m,{className:"w-4 h-4"}),c.label,p&&a.jsx("span",{className:"ml-auto text-xs text-blue-500",children:""})]},u)})})]})};function fM(){const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState({});f.useEffect(()=>{l()},[]);const l=async()=>{s(!0);try{const p=(await e.get("/api/categories/mappings")).data||[];r(p),await d(p)}catch(m){console.error("Failed to load mappings:",m)}finally{s(!1)}},d=async m=>{try{const x=(await e.get("/api/catalog/products?limit=1000")).data.products||[],y={};m.forEach(g=>{const v=x.filter(h=>h.category_mapping_id===g.id).length;y[g.id]=v}),o(y)}catch(p){console.error("Failed to load product counts:",p)}},c=async(m,p)=>{var g,v;const x=i[m]||0;let y=`      "${p}"?`;if(x>0&&(y+=`

 : ${x}    !
      .`),y+=`

   .`,!!confirm(y))try{await e.delete(`/api/categories/mappings/${m}`),alert("  !"),l()}catch(h){alert("  : "+(((v=(g=h.response)==null?void 0:g.data)==null?void 0:v.detail)||h.message))}},u=m=>{var g,v,h;const p=!!((g=m.marketplace_categories)!=null&&g.ozon),x=!!((v=m.marketplace_categories)!=null&&v.wildberries),y=!!((h=m.marketplace_categories)!=null&&h.yandex);return{hasOzon:p,hasWB:x,hasYandex:y}};return a.jsxs("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto mb-6",children:[a.jsxs("button",{onClick:()=>window.location.href="/dashboard",className:"text-mm-cyan hover:underline mb-4 flex items-center gap-2",children:[a.jsx(e_,{}),"   "]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(My,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan mb-2",children:""}),a.jsx("p",{className:"text-gray-400 text-sm",children:"   "})]})]}),a.jsxs("button",{onClick:l,disabled:n,className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded font-semibold flex items-center gap-2 disabled:opacity-50",children:[a.jsx(_t,{className:n?"animate-spin":""}),""]})]})]}),a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-mm-cyan",children:t.length}),a.jsx("div",{className:"text-sm text-gray-400",children:" "})]}),a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:t.filter(m=>{var p;return(p=m.marketplace_categories)==null?void 0:p.wildberries}).length}),a.jsx("div",{className:"text-sm text-gray-400",children:" Wildberries"})]}),a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:t.filter(m=>{var p;return(p=m.marketplace_categories)==null?void 0:p.ozon}).length}),a.jsx("div",{className:"text-sm text-gray-400",children:" Ozon"})]})]}),a.jsx("div",{className:"bg-cyan-900/20 border border-cyan-600/30 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{className:"flex-1 text-sm text-cyan-200",children:[a.jsx("p",{className:"font-semibold mb-1",children:"  "}),a.jsx("p",{className:"text-cyan-300/80",children:"                .           ."})]})]})}),n?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-mm-cyan border-t-transparent"}),a.jsx("p",{className:"mt-4 text-gray-400",children:"..."})]}):t.length===0?a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-12 text-center",children:[a.jsx(vt,{className:"mx-auto text-6xl text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400 mb-2",children:" "}),a.jsx("p",{className:"text-sm text-gray-500",children:"       "})]}):a.jsx("div",{className:"bg-mm-secondary border border-mm-border rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border bg-mm-dark",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-semibold",children:" "}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:" Ozon"}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:" WB"}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:" Yandex"}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-semibold",children:""})]})}),a.jsx("tbody",{children:t.map(m=>{const{hasOzon:p,hasWB:x,hasYandex:y}=u(m),g=i[m.id]||0;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition",children:[a.jsxs("td",{className:"py-4 px-4",children:[a.jsx("div",{className:"font-medium text-white",children:m.internal_name}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["ID: ",m.id]})]}),a.jsx("td",{className:"py-4 px-3 text-center",children:p?a.jsxs("div",{children:[a.jsx("span",{className:"inline-block px-2 py-1 bg-blue-600/20 text-blue-300 rounded text-xs border border-blue-600/30",children:""}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m.marketplace_categories.ozon})]}):a.jsx("span",{className:"text-gray-600",children:""})}),a.jsx("td",{className:"py-4 px-3 text-center",children:x?a.jsxs("div",{children:[a.jsx("span",{className:"inline-block px-2 py-1 bg-purple-600/20 text-purple-300 rounded text-xs border border-purple-600/30",children:""}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m.marketplace_categories.wildberries})]}):a.jsx("span",{className:"text-gray-600",children:""})}),a.jsx("td",{className:"py-4 px-3 text-center",children:y?a.jsxs("div",{children:[a.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-600/20 text-yellow-300 rounded text-xs border border-yellow-600/30",children:""}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m.marketplace_categories.yandex})]}):a.jsx("span",{className:"text-gray-600",children:""})}),a.jsx("td",{className:"py-4 px-3 text-center",children:a.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 bg-cyan-600/20 text-cyan-300 rounded border border-cyan-600/30",children:[a.jsx(vt,{size:12}),a.jsx("span",{className:"font-semibold",children:g})]})}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{onClick:()=>c(m.id,m.internal_name),className:"px-3 py-2 border border-red-500 text-red-500 hover:bg-red-500/10 rounded transition inline-flex items-center gap-2",title:" ",children:[a.jsx(vn,{size:14}),""]})})]},m.id)})})]})})]})]})}function pM({productName:e="",selectedMarketplaces:t=[],initialCategoryMappingId:r=null,onCategorySelected:n,onAttributesLoaded:s}){const{api:i}=we(),[o,l]=f.useState(""),[d,c]=f.useState([]),[u,m]=f.useState(null),[p,x]=f.useState({}),[y,g]=f.useState({}),[v,h]=f.useState(!1),[b,j]=f.useState(!1),[k,N]=f.useState(null),w={ozon:{border:"border-blue-500",bg:"bg-blue-50",text:"text-blue-700",badge:"bg-blue-100 text-blue-700"},wb:{border:"border-purple-500",bg:"bg-purple-50",text:"text-purple-700",badge:"bg-purple-100 text-purple-700"},yandex:{border:"border-yellow-500",bg:"bg-yellow-50",text:"text-yellow-700",badge:"bg-yellow-100 text-yellow-700"}},P={ozon:"Ozon",wb:"Wildberries",yandex:""};f.useEffect(()=>{(async()=>{if(!(!r||u)){j(!0);try{console.log("[UnifiedCategory] Loading initial category:",r);const B=(await i.get(`/api/categories/mappings/${r}`)).data;console.log("[UnifiedCategory] Initial category loaded:",B),m(B),n&&n(B)}catch(M){console.error("[UnifiedCategory] Failed to load initial category:",M)}finally{j(!1)}}})()},[r]),f.useEffect(()=>{e&&e.length>3&&!u&&(console.log(`[UnifiedCategory] Auto-suggesting for: "${e}"`),l(e))},[e,u]),f.useEffect(()=>{if(!o||o.length<2){c([]);return}const A=setTimeout(()=>{_()},500);return()=>clearTimeout(A)},[o]);const _=async()=>{h(!0),N(null);try{const M=(await i.get(`/api/categories/mappings/search?query=${encodeURIComponent(o)}`)).data.mappings||[];console.log(`[UnifiedCategory] Found ${M.length} category mappings`),c(M)}catch(A){console.error("Search error:",A),N("  ")}finally{h(!1)}},C=async A=>{console.log("[UnifiedCategory] Selected mapping:",A),m(A),l(""),c([]),n(A),await O(A)},O=async A=>{var W,L,R;h(!0);const M={},B={ozon:"ozon",wb:"wildberries",yandex:"yandex"};for(const $ of t){const X=B[$]||$,T=(W=A.marketplace_categories)==null?void 0:W[X];if(!T){console.log(`[UnifiedCategory] No category mapped for ${$} (dbKey: ${X})`);continue}try{let Q=`/api/categories/marketplace/${$}/${T}/attributes`;$==="ozon"&&((L=A.marketplace_type_ids)!=null&&L[X])&&(Q+=`?type_id=${A.marketplace_type_ids[X]}`);const D=(await i.get(Q)).data.attributes||[];console.log(`[UnifiedCategory] Loaded ${D.length} attributes for ${$}`),M[$]=D;for(const q of D)if(q.dictionary_id>0||q.type==="Dictionary"){const ie=q.attribute_id||q.id,oe=$==="ozon"?(R=A.marketplace_type_ids)==null?void 0:R.ozon:null;await S($,T,ie,oe)}}catch(Q){console.error(`Failed to load attributes for ${$}:`,Q)}}x(M),s(M),h(!1)},S=async(A,M,B,W=null)=>{try{let L=`/api/categories/marketplace/${A}/${M}/attribute-values?attribute_id=${B}`;W&&(L+=`&type_id=${W}`);const $=(await i.get(L)).data.values||[];g(X=>({...X,[`${A}_${B}`]:$}))}catch(L){console.error(`Failed to load values for ${A} attribute ${B}:`,L)}},I=(()=>{const A=new Map;for(const M of t){const B=p[M]||[];for(const W of B){const L=W.name||W.attribute_name||"";if(W.attribute_id||W.id,A.has(L)){const R=A.get(L);R.marketplaces.includes(M)||R.marketplaces.push(M),W.is_required&&R.required_for.push(M)}else A.set(L,{...W,original_mp:M,marketplaces:[M],required_for:W.is_required?[M]:[]})}}return Array.from(A.values())})();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[" ",a.jsx("span",{className:"text-red-400",children:"*"})]}),u?a.jsx("div",{className:"bg-green-900/20 border-2 border-green-500/50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:a.jsx(Kt,{className:"text-white",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400",children:" :"}),a.jsx("p",{className:"text-lg font-bold text-green-300",children:u.internal_name})]})]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"  :"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.entries(u.marketplace_categories||{}).map(([A,M])=>{const B=w[A];return a.jsxs("div",{className:`rounded p-2 ${M?"bg-gray-700":"bg-gray-800 border border-gray-700 border-dashed"}`,children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${(B==null?void 0:B.badge)||"bg-gray-600 text-gray-400"}`,children:P[A]})}),M?a.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",M]}):a.jsx("p",{className:"text-xs text-gray-500 italic",children:" "})]},A)})})]})]}),a.jsx("button",{onClick:()=>{m(null),x({})},className:"p-2 text-gray-400 hover:text-white transition flex-shrink-0",title:" ",children:a.jsx(Ua,{size:18})})]})}):a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-3 mb-3",children:a.jsxs("p",{className:"text-xs text-blue-300",children:[" ",a.jsx("strong",{children:":"}),'        ! : " WB", " Ozon", "".          .']})}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:o,onChange:A=>l(A.target.value),placeholder:"    WB, Ozon, ... (. 2 )",className:"w-full px-4 py-3 pl-10 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-mm-cyan focus:ring-2 focus:ring-mm-cyan/50 outline-none",autoComplete:"off"}),a.jsx(ea,{className:"absolute left-3 top-3.5 text-gray-500"}),o.length>0&&o.length<2&&a.jsx("div",{className:"absolute right-3 top-3.5",children:a.jsxs("span",{className:"text-xs text-gray-500",children:[o.length,"/2"]})})]}),o.length>=2&&a.jsx("div",{className:"absolute z-50 mt-2 w-full bg-gray-800 border-2 border-mm-cyan rounded-lg shadow-2xl max-h-80 overflow-hidden",children:v?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(_t,{className:"animate-spin inline text-2xl text-mm-cyan mb-2"}),a.jsx("p",{className:"text-sm text-gray-400",children:" ..."})]}):k?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Hn,{className:"inline text-2xl text-red-400 mb-2"}),a.jsx("p",{className:"text-sm text-red-400",children:k})]}):d.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-gray-900 px-4 py-2 border-b border-gray-700",children:a.jsxs("p",{className:"text-xs text-mm-cyan font-medium",children:[" : ",d.length]})}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:d.map((A,M)=>a.jsxs("button",{onClick:()=>C(A),className:"w-full px-4 py-3 text-left hover:bg-mm-cyan/20 border-b border-gray-700 last:border-b-0 transition-colors focus:bg-mm-cyan/30 focus:outline-none",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("p",{className:"font-medium text-white",children:A.internal_name}),A.matched_category_name&&a.jsxs("span",{className:"text-xs text-gray-400 italic",children:["(",A.matched_category_name,")"]})]}),a.jsx("div",{className:"flex gap-2 mt-1 flex-wrap",children:Object.entries(A.marketplace_categories||{}).map(([B,W])=>{if(!W)return null;const L=w[B];return a.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${(L==null?void 0:L.badge)||"bg-gray-700 text-gray-300"}`,children:P[B]},B)})})]},M))})]}):a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(ea,{className:"inline text-3xl text-gray-600 mb-2"}),a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"  "}),a.jsx("p",{className:"text-xs text-gray-500",children:"      "})]})})]})]}),u&&I.length>0&&a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsxs("h3",{className:"font-bold text-mm-cyan mb-4",children:[" (",I.length,")"]}),a.jsx("div",{className:"space-y-3",children:I.map((A,M)=>{const B=A.attribute_id||A.id,W=A.name||A.attribute_name||"",L=A.original_mp,R=w[L],$=A.required_for.length>0,X=`${L}_${B}`,T=y[X]||[];return a.jsxs("div",{className:`p-3 rounded border-l-4 ${R.border} ${R.bg}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("label",{className:`block text-sm font-medium ${R.text}`,children:[W,$&&a.jsx("span",{className:"text-red-600 ml-1 text-lg",children:"*"})]}),a.jsx("div",{className:"flex gap-1",children:A.marketplaces.map(Q=>{const J=w[Q],D=A.required_for.includes(Q);return a.jsxs("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${J.badge}`,title:D?`  ${P[Q]}`:P[Q],children:[P[Q],D&&" *"]},Q)})})]}),T.length>0?a.jsxs("select",{className:`w-full px-3 py-2 border rounded focus:ring-2 outline-none ${$?"border-red-300 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-blue-500 bg-white"}`,required:$,children:[a.jsx("option",{value:"",children:$?"  ":" "}),T.map(Q=>a.jsx("option",{value:Q.id,children:Q.value},Q.id))]}):a.jsx("input",{type:"text",placeholder:$?"  ":" ",className:`w-full px-3 py-2 border rounded focus:ring-2 outline-none ${$?"border-red-300 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-blue-500 bg-white"}`,required:$}),A.description&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:A.description})]},M)})}),a.jsxs("div",{className:"border-t border-mm-border pt-3 mt-4",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary mb-2",children:":"}),a.jsxs("div",{className:"flex gap-3 text-xs text-mm-text-secondary",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 border-2 border-blue-500 rounded"}),a.jsx("span",{children:"Ozon"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 border-2 border-purple-500 rounded"}),a.jsx("span",{children:"Wildberries"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 border-2 border-yellow-500 rounded"}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-red-600 font-bold",children:"*"}),a.jsx("span",{children:""})]})]})]})]})]})}function xM({marketplace:e,currentMappingId:t,currentCategoryName:r="",onCategorySelected:n,onSkip:s}){const{api:i}=we(),[o,l]=f.useState([]),[d,c]=f.useState(!0),[u,m]=f.useState(""),[p,x]=f.useState(!1),[y,g]=f.useState(!1),v={ozon:{name:"Ozon",color:"blue",icon:"",borderClass:"border-blue-500",bgClass:"bg-blue-900/20",textClass:"text-blue-400"},wb:{name:"Wildberries",color:"purple",icon:"",borderClass:"border-purple-500",bgClass:"bg-purple-900/20",textClass:"text-purple-400"},yandex:{name:" ",color:"yellow",icon:"",borderClass:"border-yellow-500",bgClass:"bg-yellow-900/20",textClass:"text-yellow-400"}},h=v[e]||v.ozon;f.useEffect(()=>{r?b(r):c(!1)},[r,e]);const b=async N=>{c(!0);try{const P=(await i.get(`/api/categories/marketplace/${e}/search?query=${encodeURIComponent(N)}&limit=5`)).data.categories||[];console.log(`[QuickMatcher] Found ${P.length} similar ${e} categories for "${N}"`),l(P)}catch(w){console.error("[QuickMatcher] Search error:",w),l([])}finally{c(!1)}},j=async()=>{if(!(!u||u.length<2)){c(!0);try{const w=(await i.get(`/api/categories/marketplace/${e}/search?query=${encodeURIComponent(u)}&limit=10`)).data.categories||[];l(w)}catch(N){console.error("[QuickMatcher] Manual search error:",N)}finally{c(!1)}}},k=async N=>{var w,P;g(!0);try{const _=String(N.category_id||N.id),C=N.category_name||N.name,O=N.type_id||null;console.log(`[QuickMatcher] Selecting ${e} category:`,_,C);const S={mapping_id:t,marketplace:e,category_id:_,category_name:C};O&&e==="ozon"&&(S.type_id=O);const E=await i.post("/api/categories/mappings/quick-update",S);console.log("[QuickMatcher] Mapping updated:",E.data),n&&n(e,_,C,O)}catch(_){console.error("[QuickMatcher] Selection error:",_),alert(`: ${((P=(w=_.response)==null?void 0:w.data)==null?void 0:P.detail)||_.message}`)}finally{g(!1)}};return d?a.jsx("div",{className:`${h.bgClass} border ${h.borderClass} border-opacity-30 rounded-lg p-4`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(F0,{className:`animate-spin ${h.textClass}`,size:20}),a.jsxs("p",{className:"text-sm text-gray-300",children:["   ",h.name,"..."]})]})}):a.jsxs("div",{className:`${h.bgClass} border ${h.borderClass} border-opacity-30 rounded-lg p-4`,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(Hn,{className:`${h.textClass} flex-shrink-0 mt-0.5`,size:20}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:`font-semibold ${h.textClass} mb-1`,children:[h.icon,"  ",h.name,"  "]}),a.jsxs("p",{className:"text-sm text-gray-400",children:[" : ",a.jsxs("span",{className:"text-white font-medium",children:['"',r,'"']})]})]})]}),!p&&o.length>0&&a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase font-semibold",children:" :"}),o.slice(0,3).map((N,w)=>{const P=N.category_id||N.id,_=N.category_name||N.name;return a.jsx("button",{onClick:()=>k(N),disabled:y,className:`w-full text-left p-3 rounded border ${h.borderClass} border-opacity-40 hover:border-opacity-100 bg-gray-800/50 hover:bg-gray-700/50 transition-all group disabled:opacity-50`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[w===0&&a.jsx("span",{className:"text-yellow-400 mr-2",children:""}),a.jsx("span",{className:"text-white font-medium",children:_}),a.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["ID: ",P]})]}),a.jsx("span",{className:`px-3 py-1 rounded text-xs font-semibold ${h.textClass} border ${h.borderClass} border-opacity-50 group-hover:border-opacity-100 transition-all`,children:y?"...":" "})]})},P)}),o.length>3&&a.jsxs("button",{onClick:()=>x(!0),className:"text-sm text-gray-400 hover:text-gray-200 transition",children:["  ",o.length-3,"..."]})]}),p&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:16}),a.jsx("input",{type:"text",value:u,onChange:N=>m(N.target.value),onKeyDown:N=>N.key==="Enter"&&j(),placeholder:`  ${h.name}...`,className:"w-full pl-10 pr-3 py-2 bg-gray-900 border border-gray-700 rounded text-white placeholder-gray-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/50 outline-none"})]}),a.jsx("button",{onClick:j,disabled:!u||d,className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded font-semibold disabled:opacity-50 transition",children:d?a.jsx(F0,{className:"animate-spin"}):""})]}),o.length>0&&a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:o.map(N=>{const w=N.category_id||N.id,P=N.category_name||N.name;return a.jsx("button",{onClick:()=>k(N),disabled:y,className:"w-full text-left p-2 rounded border border-gray-700 hover:border-gray-500 bg-gray-800/50 hover:bg-gray-700/50 transition group disabled:opacity-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"text-white text-sm",children:P}),a.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["ID: ",w]})]}),a.jsx("span",{className:"text-xs text-cyan-400 group-hover:text-cyan-300",children:y?"...":""})]})},w)})})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[!p&&a.jsx("button",{onClick:()=>x(!0),className:"px-4 py-2 text-sm border border-gray-600 text-gray-300 hover:border-gray-400 hover:text-white rounded transition",children:"  "}),p&&a.jsx("button",{onClick:()=>{x(!1),b(r)},className:"px-4 py-2 text-sm border border-gray-600 text-gray-300 hover:border-gray-400 hover:text-white rounded transition",children:"   "}),a.jsx("button",{onClick:s,className:"px-4 py-2 text-sm text-gray-500 hover:text-gray-300 transition ml-auto",children:""})]}),o.length===0&&!d&&a.jsx("div",{className:"mt-3 text-sm text-gray-400 text-center py-4",children:"  .   ."})]})}function hM({marketplace:e,categoryId:t,typeId:r,attributeId:n,attributeName:s,value:i,onChange:o,placeholder:l=" ..."}){const{api:d}=we(),[c,u]=f.useState(""),[m,p]=f.useState([]),[x,y]=f.useState([]),[g,v]=f.useState(!1),[h,b]=f.useState(!1),[j,k]=f.useState(null),N=f.useRef(null);f.useEffect(()=>{t&&n&&w()},[t,n,r]),f.useEffect(()=>{if(!c)y(m.slice(0,50));else{const O=m.filter(S=>(S.value||"").toLowerCase().includes(c.toLowerCase()));y(O.slice(0,50))}},[c,m]),f.useEffect(()=>{const O=S=>{N.current&&!N.current.contains(S.target)&&b(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),f.useEffect(()=>{if(i&&m.length>0){const O=m.find(S=>S.id===i||S.value===i);O&&(k(O),u(O.value))}},[i,m]);const w=async()=>{v(!0);try{const O=new URLSearchParams({attribute_id:n});r&&O.append("type_id",r);const E=(await d.get(`/api/categories/marketplace/${e}/${t}/attribute-values?${O}`)).data.values||[];p(E),y(E.slice(0,50)),console.log(`[DictionaryAutocomplete] Loaded ${E.length} values for ${s}`)}catch(O){console.error("Failed to load dictionary values:",O),p([])}v(!1)},P=O=>{k(O),u(O.value),b(!1),o({value_id:O.id,value:O.value})},_=O=>{const S=O.target.value;u(S),b(!0),h||b(!0)},C=()=>{b(!0)};return a.jsxs("div",{ref:N,className:"relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:c,onChange:_,onFocus:C,placeholder:l,className:"w-full px-3 py-2 bg-[#0F172A] border border-[#334155] rounded text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none pr-10",disabled:g}),a.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[g&&a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-[#22D3EE] border-t-transparent rounded-full"}),a.jsx(Vi,{className:`text-gray-400 transition-transform ${h?"rotate-180":""}`})]})]}),h&&!g&&x.length>0&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-[#1E293B] border border-[#334155] rounded-lg shadow-xl max-h-60 overflow-y-auto",children:[x.map((O,S)=>a.jsxs("button",{type:"button",onClick:()=>P(O),className:"w-full text-left px-3 py-2 hover:bg-[#22D3EE]/10 text-white text-sm border-b border-[#334155] last:border-b-0 transition-colors",children:[O.value,O.info&&a.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",O.info,")"]})]},O.id||S)),m.length>50&&a.jsxs("div",{className:"px-3 py-2 text-xs text-gray-400 bg-[#0F172A] border-t border-[#334155]",children:[" ",x.length,"  ",m.length,".     ."]})]}),h&&!g&&c&&x.length===0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-[#1E293B] border border-[#334155] rounded-lg shadow-xl p-3",children:a.jsx("p",{className:"text-sm text-gray-400",children:"  "})}),m.length>0&&!h&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",m.length," .    ."]})]})}function yM({selectedMarketplaces:e={},characteristicsByMarketplace:t={},valuesByMarketplace:r={},onChange:n,loading:s={},baseCharacteristics:i={},currentMappingId:o=null,currentCategoryName:l="",onMappingUpdated:d,onBaseCharacteristicChange:c,categoryMappings:u={}}){const m={wb:{name:"Wildberries",shortName:"WB",icon:"",color:{bg:"bg-purple-600",text:"text-purple-400",border:"border-purple-500",badge:"bg-purple-600/20 text-purple-300 border-purple-500/30"}},ozon:{name:"Ozon",shortName:"Ozon",icon:"",color:{bg:"bg-blue-600",text:"text-blue-400",border:"border-blue-500",badge:"bg-blue-600/20 text-blue-300 border-blue-500/30"}},yandex:{name:" ",shortName:"YM",icon:"",color:{bg:"bg-yellow-600",text:"text-yellow-400",border:"border-yellow-500",badge:"bg-yellow-600/20 text-yellow-300 border-yellow-500/30"}},base:{name:"",shortName:"",icon:"",color:{badge:"bg-gray-600/20 text-gray-300 border-gray-500/30"}}},p=f.useMemo(()=>Object.keys(e).filter(w=>e[w]),[e]),x=f.useMemo(()=>{const w=new Map;Object.keys(i||{}).forEach(_=>{!_||!_.trim()||w.set(_,{name:_,sources:["base"],requiredIn:[],isDictionary:!1,mpData:{}})}),p.forEach(_=>{(t[_]||[]).forEach(O=>{const S=O.name||O.attribute_name||O.charcName,E=O.id||O.attribute_id||O.charcID,I=O.is_required||O.required,A=O.dictionary_id>0||O.type==="Dictionary";w.has(S)||w.set(S,{name:S,sources:[],requiredIn:[],isDictionary:!1,mpData:{}});const M=w.get(S);M.sources.includes(_)||M.sources.push(_),A&&(M.isDictionary=!0),M.mpData[_]={id:E,isRequired:I,originalChar:O},I&&M.requiredIn.push(_)})});const P=Array.from(w.values());return P.sort((_,C)=>{const O=_.requiredIn.length>0,S=C.requiredIn.length>0;return O&&!S?-1:!O&&S?1:0}),P},[p,t,i]),y=(w,P,_)=>{console.log(`[Unified] Changing "${w}" = "${P}" for sources:`,_),_.forEach(C=>{var O;if(C==="base")c&&c(w,P);else if(n){const S=x.find(A=>A.name===w),E=(O=S==null?void 0:S.mpData)==null?void 0:O[C],I=(E==null?void 0:E.id)||w;n(C,I,w,P)}})},g=(w,P)=>{var _;if(P.includes("base")&&i[w])return i[w];for(const C of P){if(C==="base")continue;const O=(_=r[C])==null?void 0:_[w];if(O)return O}return""},v=w=>{var I,A,M,B;const{name:P,sources:_,requiredIn:C,isDictionary:O}=w,S=g(P,_),E=C.length>0;return a.jsxs("div",{className:"bg-[#1F2937] border border-[#334155] rounded-lg p-3",children:[a.jsx("label",{className:"block text-sm font-medium text-[#E5E7EB] mb-2",children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[E&&a.jsx(Sc,{className:"text-red-500 flex-shrink-0",size:12}),a.jsx("span",{children:P}),a.jsx("div",{className:"flex items-center gap-1 ml-auto flex-wrap",children:_.map(W=>{var X;if(W==="base"){const T=m.base;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs border rounded ${T.color.badge}`,title:" ",children:[T.icon," ",T.shortName]},W)}const L=m[W],R=(X=w.mpData)==null?void 0:X[W],$=R==null?void 0:R.isRequired;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs border rounded ${L.color.badge}`,title:$?`  ${L.name}`:` ${L.name}`,children:[L.icon," ",L.shortName,$&&a.jsx(Sc,{size:8,className:"text-red-400"})]},W)})})]})}),O?a.jsx(hM,{marketplace:_.find(W=>W!=="base")||"ozon",categoryId:(I=u[_.find(W=>W!=="base")])==null?void 0:I.category_id,typeId:(A=u[_.find(W=>W!=="base")])==null?void 0:A.type_id,attributeId:(B=(M=w.mpData)==null?void 0:M[_.find(W=>W!=="base")])==null?void 0:B.id,attributeName:P,value:S,onChange:W=>{y(P,W.value,_)},placeholder:" ..."}):a.jsx("input",{type:"text",value:S,onChange:W=>y(P,W.target.value,_),className:"w-full px-3 py-2 bg-[#0F172A] border border-[#334155] rounded text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:E?" ":" "})]},P)};if(Object.values(s).some(w=>w))return a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-current border-t-transparent rounded-full text-[#22D3EE]",role:"status",children:a.jsx("span",{className:"sr-only",children:"..."})}),a.jsx("p",{className:"mt-2 text-gray-400",children:"  ..."})]});if(p.length===0)return a.jsx("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-blue-300 flex items-center gap-2",children:[a.jsx(Hn,{}),'     (" :"),   ']})});const b=p.filter(w=>(t[w]||[]).length===0),j=p.filter(w=>(t[w]||[]).length>0),k=x.filter(w=>w.requiredIn.length>0),N=x.filter(w=>w.requiredIn.length===0);return a.jsxs("div",{className:"space-y-6",children:[b.map(w=>a.jsx(xM,{marketplace:w,currentMappingId:o,currentCategoryName:l,onCategorySelected:(P,_,C,O)=>{console.log(`[UnifiedCharacteristics] Category selected for ${P}:`,_),d&&d(P,_,C,O)},onSkip:()=>{console.log(`[UnifiedCharacteristics] Skipped ${w} category selection`)}},`matcher-${w}`)),j.map(w=>{const P=m[w],_=u[w]||{};return a.jsx("div",{className:`${P.color.bg} border ${P.color.border} border-opacity-30 rounded-lg p-4`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 ${P.color.bg} text-white rounded flex items-center justify-center text-xs font-bold`,children:P.shortName}),a.jsxs("div",{children:[a.jsxs("p",{className:`text-sm font-semibold ${P.color.text}`,children:[P.name,": ",l]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",_.category_id," ",_.type_id?`| Type: ${_.type_id}`:""]})]})]}),a.jsxs("button",{type:"button",onClick:()=>{confirm(`  ${P.name}?

  .`)&&d&&d(w,null,null,null)},className:`px-3 py-1.5 ${P.color.bg} bg-opacity-80 hover:bg-opacity-100 text-white text-xs font-semibold rounded flex items-center gap-1.5 transition`,children:[a.jsx(Hn,{size:14}),"  "]})]})},`info-${w}`)}),x.length>0&&a.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-cyan-600/30 rounded-lg p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-cyan-600/30 mb-5",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500"}),a.jsx("h3",{className:"text-xl font-bold text-cyan-400",children:"   "}),a.jsxs("span",{className:"text-sm text-gray-400",children:["(",x.length," )"]}),k.length>0&&a.jsxs("span",{className:"ml-auto text-xs text-red-400 flex items-center gap-1",children:[a.jsx(Sc,{size:10}),k.length," "]})]}),k.length>0&&a.jsxs("div",{className:"mb-5",children:[a.jsxs("h4",{className:"text-sm font-semibold text-red-400 mb-3 flex items-center gap-2",children:[a.jsx(Sc,{size:12}),"  (",k.length,")"]}),a.jsx("div",{className:"space-y-3",children:k.map(w=>v(w))})]}),N.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3",children:["  (",N.length,")"]}),a.jsx("div",{className:"space-y-3",children:N.map(w=>v(w))})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-2",children:[a.jsx(Hn,{size:12}),"        "]})})]})]})}function W0(){var ae,be,H,ee,le,ve;const{api:e}=we(),{id:t}=Zu(),r=Jr(),[n,s]=f.useState(!1),[i,o]=f.useState("card"),[l,d]=f.useState(!1),[c,u]=f.useState([]),[m,p]=f.useState({wb:!1,ozon:!1,yandex:!1,honest_sign:!1}),[x,y]=f.useState({wb:{name:"",description:"",characteristics:{}},ozon:{name:"",description:"",characteristics:{}},yandex:{name:"",description:"",characteristics:{}}}),[g,v]=f.useState({ozon:{category_id:null,category_name:"",type_id:null},wb:{category_id:null,category_name:""},yandex:{category_id:null,category_name:""}}),[h,b]=f.useState({ozon:{},wb:{},yandex:{}}),[j,k]=f.useState({wb:[],ozon:[],yandex:[]}),[N,w]=f.useState({wb:!1,ozon:!1,yandex:!1}),[P,_]=f.useState({wb:!1,ozon:!1,yandex:!1}),[C,O]=f.useState(null),[S,E]=f.useState({article:"",name:"",brand:"",category_id:"",description:"",status:"active",manufacturer:"",country_of_origin:"",label_name:"",price_with_discount:0,price_without_discount:0,price_coefficient:1,purchase_price:0,additional_expenses:0,cost_price:0,vat:0,weight:0,dimensions:{length:0,width:0,height:0},gender:"",season:"",composition:"",care_instructions:"",additional_info:"",website_link:"",characteristics:{}}),[I,A]=f.useState([]),[M,B]=f.useState([]),[W,L]=f.useState("");f.useEffect(()=>{R(),t&&($(),X(),T())},[t]),f.useEffect(()=>{const z=S.purchase_price+S.additional_expenses;z!==S.cost_price&&E(ne=>({...ne,cost_price:z}))},[S.purchase_price,S.additional_expenses]),f.useEffect(()=>{let z=!1;const ne={};Object.keys(m).forEach(F=>{var se;m[F]&&!((se=x[F])!=null&&se.name)&&(z=!0,ne[F]={name:S.name,description:S.description,characteristics:S.characteristics})}),z&&y(F=>({...F,...ne}))},[m.ozon,m.wb,m.yandex,m.honest_sign]);const R=async()=>{try{const z=await e.get("/api/catalog/categories");u(z.data)}catch(z){console.error("Failed to load categories:",z)}},$=async()=>{try{s(!0);const ne=(await e.get(`/api/catalog/products/${t}`)).data;E({...ne,dimensions:ne.dimensions||{length:0,width:0,height:0},manufacturer:ne.manufacturer||"",country_of_origin:ne.country_of_origin||"",label_name:ne.label_name||ne.name||"",price_with_discount:ne.price_with_discount||ne.price||0,price_without_discount:ne.price_without_discount||ne.price||0,price_coefficient:ne.price_coefficient||1,purchase_price:ne.purchase_price||0,additional_expenses:ne.additional_expenses||0,cost_price:ne.cost_price||0,vat:ne.vat||0,gender:ne.gender||"",season:ne.season||"",composition:ne.composition||"",care_instructions:ne.care_instructions||"",additional_info:ne.additional_info||"",website_link:ne.website_link||"",characteristics:ne.characteristics||{}}),ne.marketplace_specific_data&&y(ne.marketplace_specific_data)}catch(z){alert("  : "+z.message),r("/dashboard")}finally{s(!1)}},X=async()=>{try{const z=await e.get(`/api/catalog/products/${t}/variants`);A(z.data)}catch(z){console.error("Failed to load variants:",z)}},T=async()=>{try{const z=await e.get(`/api/catalog/products/${t}/photos`);B(z.data)}catch(z){console.error("Failed to load photos:",z)}},Q=async()=>{var z,ne;s(!0);try{const F={...S,price:S.price_with_discount,price_discounted:S.price_with_discount<S.price_without_discount?S.price_with_discount:null};if(Object.values(m).some(ce=>ce)&&t){const ce=await e.post(`/api/catalog/products/${t}/save-with-marketplaces`,{product:F,marketplaces:m,marketplace_data:x,category_mappings:g,required_attributes:h});let Ne=ce.data.message+`

`;const je=ce.data.marketplace_results||{};Object.keys(je).forEach(ke=>{const Ie=je[ke];Ie.success?Ne+=` ${ke.toUpperCase()}: ${Ie.message}
`:Ne+=` ${ke.toUpperCase()}: ${Ie.error}
`}),alert(Ne),$()}else if(t)await e.put(`/api/catalog/products/${t}`,F),alert("  !"),$();else{const ce=await e.post("/api/catalog/products",F);alert("  !"),r(`/catalog/products/${ce.data.id}/edit`)}}catch(F){alert(" : "+(((ne=(z=F.response)==null?void 0:z.data)==null?void 0:ne.detail)||F.message))}finally{s(!1)}},J=async z=>{var F,se;if(!t){alert("  ");return}const ne=prompt(` ID   ${z.toUpperCase()}:`);if(ne){s(!0);try{const ce=await e.post(`/api/catalog/products/${t}/update-from-marketplace`,{marketplace:z,marketplace_product_id:ne});alert(` ${ce.data.message}

: ${ce.data.details.name}
: ${ce.data.details.description_length} 
: ${ce.data.details.characteristics_count}
 : ${ce.data.details.photos_added}`),$(),T()}catch(ce){alert(" : "+(((se=(F=ce.response)==null?void 0:F.data)==null?void 0:se.detail)||ce.message))}finally{s(!1)}}},D=async z=>{var ne,F;if(!t){alert("  ");return}if(confirm(`   ${z.toUpperCase()}?`)){s(!0);try{const se=await e.post(`/api/catalog/products/${t}/upload-media/${z}`);alert(` ${se.data.message}`)}catch(se){alert(" : "+(((F=(ne=se.response)==null?void 0:ne.data)==null?void 0:F.detail)||se.message))}finally{s(!1)}}},q=()=>{if(M.length===0){alert("   ");return}alert(`  ${M.length} 

     `)},ie=()=>{if(!t){alert("  ");return}alert(`   

    (  )`)},oe=()=>{alert(`   

       ( )`)},U=(z,ne)=>{E(F=>({...F,[z]:ne}))},ue=async(z,ne)=>{var F,se,ce,Ne;if(!ne){alert("   ");return}w(je=>({...je,[z]:!0})),_(je=>({...je,[z]:!0}));try{const ke={ozon:"ozon",wb:"wildberries",yandex:"yandex"}[z]||z,ye=(await e.get(`/api/categories/mappings/${ne}`)).data;console.log("[loadMarketplaceCharacteristics] Mapping:",ye),console.log("[loadMarketplaceCharacteristics] Looking for key:",ke);const Pe=(F=ye.marketplace_categories)==null?void 0:F[ke],Se=(se=ye.marketplace_type_ids)==null?void 0:se[ke];if(console.log("[loadMarketplaceCharacteristics] Found categoryId:",Pe,"typeId:",Se),!Pe){console.warn(`Category not mapped to ${z}`),k(qt=>({...qt,[z]:[]}));return}let de=`/api/categories/marketplace/${z}/${Pe}/attributes`;Se&&z==="ozon"&&(de+=`?type_id=${Se}`),console.log("[loadMarketplaceCharacteristics]  LOADING FROM:",de),console.log("[loadMarketplaceCharacteristics]  CATEGORY ID:",Pe),console.log("[loadMarketplaceCharacteristics]  TYPE ID:",Se);const zt=(await e.get(de)).data.attributes||[];console.log(`[loadMarketplaceCharacteristics]  RECEIVED ${zt.length} CHARACTERISTICS`),console.log("[loadMarketplaceCharacteristics]  FIRST 3 CHARS:",zt.slice(0,3).map(qt=>qt.name||qt.attribute_name)),k(qt=>({...qt,[z]:zt})),console.log(`  ${zt.length}   ${z}`)}catch(je){console.error(`Failed to load ${z} characteristics:`,je),alert(`   ${z}: ${((Ne=(ce=je.response)==null?void 0:ce.data)==null?void 0:Ne.detail)||je.message}`)}finally{w(je=>({...je,[z]:!1}))}};f.useEffect(()=>{(async()=>{if(console.log("[ProductForm] Loading characteristics, category_mapping_id:",S.category_mapping_id),console.log("[ProductForm] Selected marketplaces:",m),!S.category_mapping_id){console.log("[ProductForm] No category_mapping_id, skipping");return}for(const ne of["ozon","wb","yandex"])m[ne]&&!N[ne]&&(console.log(`[ProductForm] Loading characteristics for ${ne} (category: ${S.category_mapping_id})`),await ue(ne,S.category_mapping_id))})()},[m.ozon,m.wb,m.yandex,S.category_mapping_id]),f.useEffect(()=>{if(!S.marketplace_data||he.length<2)return;const ne=setTimeout(()=>{const F=new Set,se={};he.forEach(ke=>{const Ie=j[ke]||[];se[ke]=Ie.map(ye=>ye.name||ye.attribute_name||ye.charcName),Ie.forEach(ye=>{const Pe=ye.name||ye.attribute_name||ye.charcName;F.add(Pe)})});const ce=Array.from(F).filter(ke=>he.filter(ye=>{var Pe;return(Pe=se[ye])==null?void 0:Pe.includes(ke)}).length>1);if(ce.length===0)return;let Ne=!1;const je={...S.marketplace_data};ce.forEach(ke=>{const Ie=he.find(ye=>{var Pe,Se;return(Se=(Pe=je[ye])==null?void 0:Pe.characteristics)==null?void 0:Se[ke]});if(Ie){const ye=je[Ie].characteristics[ke];he.forEach(Pe=>{var Se,de,Oe;Pe!==Ie&&((Se=se[Pe])!=null&&Se.includes(ke))&&((Oe=(de=je[Pe])==null?void 0:de.characteristics)!=null&&Oe[ke]||(je[Pe]||(je[Pe]={characteristics:{}}),je[Pe].characteristics||(je[Pe].characteristics={}),je[Pe].characteristics[ke]=ye,Ne=!0))})}}),Ne&&(console.log("[Migration] Migrated common characteristics values between marketplaces"),E(ke=>({...ke,marketplace_data:je})))},500);return()=>clearTimeout(ne)},[j,m]);const he=Object.keys(m).filter(z=>m[z]),Z=async()=>{const z=prompt(" URL :");if(z)try{const ne=await e.post(`/api/catalog/products/${t}/photos`,{url:z,order:M.length+1,marketplaces:{wb:!0,ozon:!0,yandex:!0}});B([...M,ne.data])}catch(ne){alert(": "+ne.message)}},Y=async z=>{try{await e.delete(`/api/catalog/products/${t}/photos/${z}`),B(M.filter(ne=>ne.id!==z))}catch(ne){alert(": "+ne.message)}};return n&&t?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-mm-cyan"}),a.jsx("p",{className:"text-mm-text-secondary mt-4",children:"..."})]}):a.jsxs("div",{className:"min-h-screen bg-mm-dark pb-32",children:[a.jsxs("div",{className:"bg-mm-secondary border-b border-mm-border p-4",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[a.jsx("button",{onClick:()=>r("/dashboard"),className:"p-2 text-mm-text hover:text-mm-cyan transition",children:a.jsx(e_,{size:20})}),a.jsx("h1",{className:"text-2xl font-bold text-mm-text",children:t?` : ${S.article}`:" "})]}),t&&a.jsxs("div",{className:"flex items-center gap-1 p-2 bg-cyan-500 rounded relative",children:[a.jsx("button",{type:"button",onClick:Q,title:"",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(_i,{size:18})}),a.jsx("button",{type:"button",title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(ir,{size:18})}),a.jsx("button",{type:"button",onClick:Q,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(Kt,{size:18})}),a.jsx("button",{type:"button",title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition text-lg",children:""}),a.jsx("button",{type:"button",onClick:oe,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(Zn,{size:18})}),a.jsx("button",{type:"button",onClick:ie,title:"",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(am,{size:18})}),a.jsx("button",{type:"button",title:"  ",className:"p-2 text-white hover:bg-white/20 rounded transition text-lg",children:""}),a.jsx("button",{type:"button",onClick:()=>D("wb"),title:" Wildberries",className:"w-8 h-8 bg-purple-600 text-white rounded flex items-center justify-center hover:bg-purple-700 transition text-xs font-bold",children:"WB"}),a.jsx("button",{type:"button",onClick:()=>D("ozon"),title:" Ozon",className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition text-xs font-bold",children:"O"}),a.jsx("button",{type:"button",onClick:q,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(Vt,{size:18})}),a.jsx("button",{type:"button",onClick:async()=>{if(confirm("  ?"))try{await e.delete(`/api/catalog/products/${t}`),alert("  "),r("/dashboard")}catch(z){alert(": "+z.message)}},title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(vn,{size:18})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{type:"button",onClick:()=>d(!l),title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(s_,{size:18})}),l&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)}),a.jsx("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50",children:a.jsxs("div",{className:"py-2",children:[a.jsx("button",{onClick:()=>{alert(`    

    `),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    "}),a.jsx("button",{onClick:()=>{const z=prompt("   ? (wb, ozon, yandex)");z&&J(z),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"  ,   "}),a.jsx("button",{onClick:()=>{const z=prompt("   ? (wb, ozon, yandex)");z&&J(z),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"  "}),a.jsx("button",{onClick:()=>{q(),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    "}),a.jsx("button",{onClick:()=>{D("ozon"),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    Ozon"}),a.jsx("hr",{className:"my-2"}),a.jsx("button",{onClick:()=>{alert(`   

    `),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"   "})]})})]})]})]}),t&&a.jsx("div",{className:"flex gap-1 mt-3 border-b border-mm-border overflow-x-auto",children:["card","keywords","analytics","prices","mass_edit","hypotheses","suppliers","stock","documents","duplicates"].map(z=>{const ne={card:"",keywords:" ",analytics:"",prices:"",mass_edit:" ",hypotheses:"",suppliers:"",stock:"",documents:"",duplicates:""};return a.jsxs("button",{onClick:()=>o(z),className:`px-4 py-2 font-medium transition whitespace-nowrap relative ${i===z?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-text"}`,children:[ne[z],z==="hypotheses"&&a.jsx("span",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 text-[10px] bg-orange-500 text-white rounded font-bold",children:"NEW"})]},z)})})]}),a.jsx("div",{className:"max-w-[1600px] mx-auto px-6 py-6",children:a.jsxs("form",{onSubmit:z=>{z.preventDefault(),Q()},children:[i==="card"&&a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-3",children:a.jsxs("div",{className:"bg-mm-secondary p-4 rounded-lg sticky top-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-mm-text mb-3",children:""}),a.jsx("div",{className:"space-y-2",children:M.length===0?a.jsxs("div",{className:"border-2 border-dashed border-mm-border rounded-lg p-8 text-center",children:[a.jsx(gx,{className:"mx-auto text-4xl text-mm-text-secondary mb-2"}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:" "})]}):a.jsx("div",{className:"grid grid-cols-2 gap-2",children:M.map(z=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:z.url,alt:"Product",className:"w-full h-24 object-cover rounded bg-mm-dark"}),a.jsx("button",{type:"button",onClick:()=>Y(z.id),className:"absolute top-1 right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition text-xs font-bold",children:""})]},z.id))})}),t&&a.jsx("button",{type:"button",onClick:Z,className:"w-full mt-3 px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded text-sm font-medium",children:"+  "})]})}),a.jsxs("div",{className:"col-span-9 space-y-6",children:[t&&a.jsx("div",{className:"bg-mm-secondary p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-mm-text",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsxs("span",{className:"ml-2 font-semibold",children:[I.length,"  ",I.length]})]}),a.jsx("button",{type:"button",onClick:async()=>{const z=prompt(":"),ne=prompt(":");if(!(!z||!ne))try{const F=await e.post(`/api/catalog/products/${t}/variants`,{color:z,size:ne,sku:`${S.article}-${z.slice(0,3).toUpperCase()}-${ne}`});A([...I,F.data])}catch(F){alert(": "+F.message)}},className:"px-4 py-2 bg-orange-500 text-white hover:bg-orange-600 rounded text-sm font-semibold",children:""})]})}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsx(pM,{productName:S.name,initialCategoryMappingId:S.category_mapping_id,selectedMarketplaces:Object.keys(m).filter(z=>m[z]),onCategorySelected:z=>{var ne,F,se,ce;console.log("[ProductForm] Category selected:",z),z?(O(z),v({ozon:{category_id:(ne=z.marketplace_categories)==null?void 0:ne.ozon,category_name:z.internal_name,type_id:(F=z.marketplace_type_ids)==null?void 0:F.ozon},wb:{category_id:(se=z.marketplace_categories)==null?void 0:se.wildberries,category_name:z.internal_name},yandex:{category_id:(ce=z.marketplace_categories)==null?void 0:ce.yandex,category_name:z.internal_name}}),_({wb:!1,ozon:!1,yandex:!1}),k({wb:[],ozon:[],yandex:[]}),E(Ne=>{var je,ke,Ie;return{...Ne,category_mapping_id:z.id,marketplace_data:{wb:{...((je=Ne.marketplace_data)==null?void 0:je.wb)||{},characteristics:{}},ozon:{...((ke=Ne.marketplace_data)==null?void 0:ke.ozon)||{},characteristics:{}},yandex:{...((Ie=Ne.marketplace_data)==null?void 0:Ie.yandex)||{},characteristics:{}}}}})):(E(Ne=>({...Ne,category_mapping_id:null})),O(null),v({ozon:{},wb:{},yandex:{}}))},onAttributesLoaded:z=>{console.log("[ProductForm] Attributes loaded:",z),y(ne=>{const F={...ne};return Object.keys(z).forEach(se=>{F[se]||(F[se]={}),F[se].attributes=z[se]}),F})}}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["      ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",value:S.article,onChange:z=>U("article",z.target.value),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",value:S.name,onChange:z=>U("name",z.target.value),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:[" ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:S.brand,onChange:z=>U("brand",z.target.value),required:!0,className:"flex-1 px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"}),a.jsx("button",{type:"button",className:"px-4 py-2 bg-cyan-500 text-white hover:bg-cyan-600 rounded text-sm font-semibold",children:""}),a.jsx("button",{type:"button",className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded",children:a.jsx(Ua,{size:18})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:S.manufacturer,onChange:z=>U("manufacturer",z.target.value),className:"flex-1 px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"}),a.jsx("button",{type:"button",className:"px-4 py-2 bg-cyan-500 text-white hover:bg-cyan-600 rounded text-sm font-semibold",children:""}),a.jsx("button",{type:"button",className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded",children:a.jsx(Ua,{size:18})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),a.jsx("input",{type:"text",value:S.country_of_origin,onChange:z=>U("country_of_origin",z.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:"  "}),a.jsx("input",{type:"text",value:S.label_name,onChange:z=>U("label_name",z.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:""}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["    ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.price_with_discount/100,onChange:z=>U("price_with_discount",Math.round(parseFloat(z.target.value||0)*100)),step:"0.01",required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["    ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.price_without_discount/100,onChange:z=>U("price_without_discount",Math.round(parseFloat(z.target.value||0)*100)),step:"0.01",required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),a.jsx("input",{type:"number",value:S.purchase_price/100,onChange:z=>U("purchase_price",Math.round(parseFloat(z.target.value||0)*100)),step:"0.01",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:".  "}),a.jsx("input",{type:"number",value:S.additional_expenses/100,onChange:z=>U("additional_expenses",Math.round(parseFloat(z.target.value||0)*100)),step:"0.01",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),a.jsx("input",{type:"number",value:S.cost_price/100,readOnly:!0,className:"w-full px-3 py-2 bg-mm-dark/50 border border-mm-border rounded text-mm-text-secondary cursor-not-allowed"})]})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:""}),a.jsxs("span",{className:"text-xs text-mm-text-secondary",children:[S.description.length," / 2000"]})]}),a.jsx("textarea",{value:S.description,onChange:z=>U("description",z.target.value),rows:"5",maxLength:2e3,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none resize-none"})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase mb-3",children:"    "}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.dimensions.length,onChange:z=>U("dimensions",{...S.dimensions,length:parseInt(z.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.dimensions.width,onChange:z=>U("dimensions",{...S.dimensions,width:parseInt(z.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.dimensions.height,onChange:z=>U("dimensions",{...S.dimensions,height:parseInt(z.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.weight,onChange:z=>U("weight",parseInt(z.target.value)||0),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]})]}),(m.ozon||m.wb)&&a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:"  "}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.ozon&&a.jsxs("div",{className:"p-4 bg-mm-dark rounded border border-blue-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"O"}),a.jsx("span",{className:"text-sm font-semibold text-blue-400",children:"Ozon"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"   "}),a.jsx("input",{type:"number",value:S.ozon_price||"",onChange:z=>E({...S,ozon_price:parseFloat(z.target.value)||0}),placeholder:"1990",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-blue-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"   "}),a.jsx("input",{type:"number",value:S.ozon_old_price||"",onChange:z=>E({...S,ozon_old_price:parseFloat(z.target.value)||0}),placeholder:"2490",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-blue-500 outline-none"})]}),S.ozon_price&&S.ozon_old_price&&a.jsxs("p",{className:"text-xs text-green-400 font-medium",children:[": ",Math.round((S.ozon_old_price-S.ozon_price)/S.ozon_old_price*100),"%"]})]})]}),m.wb&&a.jsxs("div",{className:"p-4 bg-mm-dark rounded border border-purple-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"w-6 h-6 bg-purple-600 text-white rounded flex items-center justify-center text-xs font-bold",children:"WB"}),a.jsx("span",{className:"text-sm font-semibold text-purple-400",children:"Wildberries"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"  "}),a.jsx("input",{type:"number",value:S.wb_regular_price||"",onChange:z=>E({...S,wb_regular_price:parseFloat(z.target.value)||0}),placeholder:"2490",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-purple-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"   "}),a.jsx("input",{type:"number",value:S.wb_discount_price||"",onChange:z=>E({...S,wb_discount_price:parseFloat(z.target.value)||0}),placeholder:"1990",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-purple-500 outline-none"})]}),S.wb_regular_price&&S.wb_discount_price&&a.jsxs("p",{className:"text-xs text-green-400 font-medium",children:[": ",Math.round((S.wb_regular_price-S.wb_discount_price)/S.wb_regular_price*100),"%"]})]})]})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-6",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase mb-4",children:" "}),a.jsx(yM,{selectedMarketplaces:m,characteristicsByMarketplace:j,valuesByMarketplace:{wb:((be=(ae=S.marketplace_data)==null?void 0:ae.wb)==null?void 0:be.characteristics)||{},ozon:((ee=(H=S.marketplace_data)==null?void 0:H.ozon)==null?void 0:ee.characteristics)||{},yandex:((ve=(le=S.marketplace_data)==null?void 0:le.yandex)==null?void 0:ve.characteristics)||{}},baseCharacteristics:S.characteristics||{},currentMappingId:S.category_mapping_id,currentCategoryName:(C==null?void 0:C.internal_name)||"",categoryMappings:g,onMappingUpdated:async(z,ne,F,se)=>{if(console.log(`[ProductForm] Mapping updated for ${z}:`,ne),ne===null){console.log(`[ProductForm] Resetting mapping for ${z}`),_(ce=>({...ce,[z]:!1})),k(ce=>({...ce,[z]:[]})),v(ce=>({...ce,[z]:{}})),E(ce=>{var Ne;return{...ce,marketplace_data:{...ce.marketplace_data,[z]:{...((Ne=ce.marketplace_data)==null?void 0:Ne[z])||{},characteristics:{}}}}});return}v(ce=>({...ce,[z]:{category_id:ne,category_name:F,type_id:se}})),_(ce=>({...ce,[z]:!1})),await ue(z,S.category_mapping_id)},onBaseCharacteristicChange:(z,ne)=>{E(F=>({...F,characteristics:{...F.characteristics,[z]:ne}}))},onChange:(z,ne,F,se)=>{E(ce=>{var Ne,je,ke;return{...ce,marketplace_data:{...ce.marketplace_data,[z]:{...(Ne=ce.marketplace_data)==null?void 0:Ne[z],characteristics:{...(ke=(je=ce.marketplace_data)==null?void 0:je[z])==null?void 0:ke.characteristics,[F]:se}}}}})},loading:N})]})]})]}),i==="prices"&&a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[a.jsx("h2",{className:"text-xl font-bold text-mm-text mb-6",children:""}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:"  "}),a.jsxs("p",{className:"text-2xl font-bold text-mm-cyan",children:[(S.price_with_discount/100).toFixed(2)," "]})]}),a.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:"  "}),a.jsxs("p",{className:"text-2xl font-bold text-mm-text",children:[(S.price_without_discount/100).toFixed(2)," "]})]}),a.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:""}),a.jsxs("p",{className:"text-2xl font-bold text-mm-text",children:[(S.cost_price/100).toFixed(2)," "]})]})]})]}),i!=="card"&&i!=="prices"&&a.jsx("div",{className:"bg-mm-secondary p-6 rounded-lg text-center py-12",children:a.jsxs("p",{className:"text-mm-text-secondary",children:[' "',i,'"  ']})})]})}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 shadow-lg z-30",children:a.jsxs("div",{className:"max-w-[1600px] mx-auto flex justify-between items-center",children:[a.jsx("button",{type:"button",onClick:Q,disabled:n,className:"px-8 py-3 bg-cyan-500 text-white hover:bg-cyan-600 rounded font-bold disabled:opacity-50",children:""}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-gray-700 font-medium",children:" :"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.honest_sign,onChange:z=>p({...m,honest_sign:z.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.ozon,onChange:z=>p({...m,ozon:z.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"w-7 h-7 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"O"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.wb,onChange:z=>p({...m,wb:z.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"w-7 h-7 bg-purple-600 text-white rounded flex items-center justify-center text-xs font-bold",children:"WB"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.yandex,onChange:z=>p({...m,yandex:z.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"w-7 h-7 bg-red-500 text-white rounded flex items-center justify-center text-xs font-bold",children:""})]})]})]})})]})}function gM(){const{api:e}=we(),t=Jr(),[r,n]=f.useState(1),[s,i]=f.useState(""),[o,l]=f.useState(""),[d,c]=f.useState(null),[u,m]=f.useState(!1),[p,x]=f.useState(null),y=b=>{const j=b.target.files[0];if(j){if(!j.name.endsWith(".xlsx")&&!j.name.endsWith(".xls")){alert(",  Excel  (.xlsx  .xls)");return}c(j)}},g=()=>{alert("  Excel     ")},v=async()=>{var b,j;if(!o){alert(" ");return}m(!0);try{const k=await e.post("/api/catalog/import/marketplace",null,{params:{marketplace:o}});x(k.data),n(3)}catch(k){alert(" : "+(((j=(b=k.response)==null?void 0:b.data)==null?void 0:j.detail)||k.message))}finally{m(!1)}},h=async()=>{if(!d){alert(" ");return}m(!0);try{new FormData().append("file",d),alert("  Excel     ")}catch(b){alert(" : "+b.message)}finally{m(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(My,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"       Excel"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:`flex items-center gap-2 ${r>=1?"text-mm-cyan":"text-mm-text-secondary"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=1?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"1"}),a.jsx("span",{className:"text-sm",children:" "})]}),a.jsx("div",{className:"flex-1 h-px bg-mm-border"}),a.jsxs("div",{className:`flex items-center gap-2 ${r>=2?"text-mm-cyan":"text-mm-text-secondary"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=2?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"2"}),a.jsx("span",{className:"text-sm",children:" "})]}),a.jsx("div",{className:"flex-1 h-px bg-mm-border"}),a.jsxs("div",{className:`flex items-center gap-2 ${r>=3?"text-mm-cyan":"text-mm-text-secondary"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=3?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"3"}),a.jsx("span",{className:"text-sm",children:""})]})]}),r===1&&a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsx("div",{onClick:()=>{i("marketplace"),n(2)},className:`p-8 rounded-lg cursor-pointer transition border-2 ${s==="marketplace"?"border-mm-cyan bg-mm-cyan/10":"border-mm-border bg-mm-secondary hover:border-mm-cyan/50"}`,children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-mm-cyan/20 rounded-full flex items-center justify-center",children:a.jsx(Vt,{className:"text-3xl text-mm-cyan"})}),a.jsx("h3",{className:"text-xl font-bold text-mm-text",children:"  "}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:"    Wildberries, Ozon  .  API"}),a.jsxs("ul",{className:"text-xs text-mm-text-secondary text-left space-y-2",children:[a.jsx("li",{children:"    "}),a.jsx("li",{children:" , , "}),a.jsx("li",{children:"  "})]})]})}),a.jsx("div",{onClick:()=>{i("excel"),n(2)},className:`p-8 rounded-lg cursor-pointer transition border-2 ${s==="excel"?"border-mm-cyan bg-mm-cyan/10":"border-mm-border bg-mm-secondary hover:border-mm-cyan/50"}`,children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-mm-cyan/20 rounded-full flex items-center justify-center",children:a.jsx(ir,{className:"text-3xl text-mm-cyan"})}),a.jsx("h3",{className:"text-xl font-bold text-mm-text",children:"  Excel"}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:"    Excel-  "}),a.jsxs("ul",{className:"text-xs text-mm-text-secondary text-left space-y-2",children:[a.jsx("li",{children:"   "}),a.jsx("li",{children:"   Excel"}),a.jsx("li",{children:"  "})]})]})})]}),r===2&&s==="marketplace"&&a.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" "}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:["ozon","wb","yandex"].map(b=>{const j={ozon:"Ozon",wb:"Wildberries",yandex:"."},k={ozon:"blue",wb:"purple",yandex:"red"};return a.jsx("div",{onClick:()=>l(b),className:`p-6 rounded-lg cursor-pointer transition border-2 text-center ${o===b?`border-${k[b]}-500 bg-${k[b]}-500/10`:"border-mm-border hover:border-mm-cyan/50"}`,children:a.jsx("h3",{className:"text-lg font-bold text-mm-text",children:j[b]})},b)})}),a.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-4",children:a.jsxs("p",{className:"text-blue-300 text-sm",children:[" ",a.jsx("strong",{children:":"}),' ,           "".']})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>n(1),className:"px-6 py-3 bg-mm-dark text-mm-text hover:bg-mm-dark/80 rounded",children:""}),a.jsx("button",{onClick:v,disabled:!o||u,className:"flex-1 px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:u?"...":" "})]})]}),r===2&&s==="excel"&&a.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" Excel "}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-bold text-mm-text mb-2",children:" 1:  "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mb-4",children:"  Excel,        "}),a.jsxs("button",{onClick:g,className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center gap-2",children:[a.jsx(Vt,{}),"   Excel"]})]}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-bold text-mm-text mb-2",children:" 2:  "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mb-4",children:"  Excel   "}),a.jsxs("div",{className:"border-2 border-dashed border-mm-border rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:y,className:"hidden",id:"file-upload"}),a.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer inline-block",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(ir,{className:"mx-auto text-4xl text-mm-cyan"}),a.jsx("p",{className:"text-mm-text",children:d?d.name:"     "}),a.jsx("p",{className:"text-xs text-mm-text-secondary",children:" : .xlsx, .xls"})]})})]})]}),a.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded p-4",children:a.jsxs("p",{className:"text-yellow-300 text-sm",children:[" ",a.jsx("strong",{children:":"}),"          .    ."]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>n(1),className:"px-6 py-3 bg-mm-dark text-mm-text hover:bg-mm-dark/80 rounded",children:""}),a.jsx("button",{onClick:h,disabled:!d||u,className:"flex-1 px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:u?"...":" "})]})]}),r===3&&p&&a.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-green-500/20 rounded-full flex items-center justify-center mb-4",children:a.jsx(Kt,{className:"text-4xl text-green-400"})}),a.jsx("h2",{className:"text-2xl font-bold text-mm-text mb-2",children:" !"}),a.jsx("p",{className:"text-mm-text-secondary",children:"    "})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold text-green-400",children:p.created||0}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-400",children:p.updated||0}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold text-red-400",children:p.errors||0}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]})]}),a.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded",children:"  "})]})]})}function vM(){const{api:e}=we(),[t,r]=f.useState("ozon"),[n,s]=f.useState(""),[i,o]=f.useState([]),[l,d]=f.useState(!1),[c,u]=f.useState([]),[m,p]=f.useState([]),[x,y]=f.useState([]),[g,v]=f.useState([]),[h,b]=f.useState(""),[j,k]=f.useState(!1);f.useEffect(()=>{N(),w()},[]);const N=async()=>{try{const M=(await e.get("/api/seller/api-keys")).data||[];if(o(M),M.length>0){const B=M[M.length-1];s(B.id),r(B.marketplace)}}catch(A){console.error("Failed to load integrations:",A)}},w=async()=>{try{const A=await e.get("/api/catalog/products",{params:{limit:1e3}});p(A.data)}catch(A){console.error("Failed to load local products:",A)}},P=async()=>{var A,M;if(!n){alert(" ");return}d(!0);try{const W=(await e.get(`/api/marketplaces/${t}/products`,{params:{integration_id:n}})).data;console.log(` Loaded ${W.length} products from ${t} (integration: ${n})`),u(W),_(W,m)}catch(B){alert("  : "+(((M=(A=B.response)==null?void 0:A.data)==null?void 0:M.detail)||B.message))}finally{d(!1)}},_=(A,M)=>{const B=[],W=[];console.log(` Matching ${A.length} MP products with ${M.length} local products`),console.log(` Selected marketplace: ${t}`),A.forEach(L=>{const R=M.find($=>{const T=($.marketplace_specific_data||$.marketplace_data||{})[t];if(console.log(`  Checking ${$.article}: mpInfo =`,T),t==="ozon"){const Q=(T==null?void 0:T.id)===L.id||(T==null?void 0:T.offer_id)===L.sku;return Q&&console.log(`     Matched Ozon: ${T.id} === ${L.id}`),Q}else if(t==="wb"){const Q=(T==null?void 0:T.nm_id)===L.id||(T==null?void 0:T.id)===L.id||(T==null?void 0:T.vendor_code)===L.sku;return Q&&console.log(`     Matched WB: ${T.nm_id||T.id} === ${L.id}`),Q}else if(t==="yandex"){const Q=(T==null?void 0:T.offer_id)===L.sku;return Q&&console.log(`     Matched Yandex: ${T.offer_id} === ${L.sku}`),Q}return!1});if(R)console.log(`   Found link: ${L.sku}  ${R.article}`),B.push({mpProduct:L,localProduct:R,matchType:"linked"});else{const $=M.filter(X=>X.article.toLowerCase().includes(L.sku.toLowerCase())||L.sku.toLowerCase().includes(X.article.toLowerCase()));W.push({mpProduct:L,suggestions:$.slice(0,3),matchType:"unmatched"})}}),y(B),v(W),console.log(` Matched: ${B.length}, Unmatched: ${W.length}`),(B.length>0||W.length>0)&&G.success(` !

 : ${B.length}
  : ${W.length}`,{duration:5e3})},C=async(A,M)=>{var B,W,L;try{console.log(" Linking:",A.sku,"",M.article),console.log("MP Product:",A),console.log("Local Product:",M);const R={product:A,duplicate_action:"link_only"};console.log("Sending payload:",R);const $=await e.post("/api/products/import-from-marketplace",R);if(console.log("Response:",$.data),$.data.status==="duplicate_found"){alert("   .     .");return}alert(`  !

${A.name} (${t.toUpperCase()})   ${M.name}`);const T=(await e.get("/api/catalog/products",{params:{limit:1e3}})).data;p(T),_(c,T)}catch(R){console.error("Link error:",R),console.error("Error response:",(B=R.response)==null?void 0:B.data),alert(" : "+(((L=(W=R.response)==null?void 0:W.data)==null?void 0:L.detail)||R.message))}},O=async A=>{var M,B;if(confirm("   ?"))try{const W=m.find(X=>X.id===A);if(!W){alert("  ");return}const L={...W.marketplace_data||{}};delete L[t],await e.put(`/api/catalog/products/${A}`,{marketplace_data:L}),alert("  ");const $=(await e.get("/api/catalog/products",{params:{limit:1e3}})).data;p($),_(c,$)}catch(W){console.error("Unlink error:",W),alert(": "+(((B=(M=W.response)==null?void 0:M.data)==null?void 0:B.detail)||W.message))}},S=()=>{let A=g;return h&&(A=A.filter(M=>M.mpProduct.sku.toLowerCase().includes(h.toLowerCase())||M.mpProduct.name.toLowerCase().includes(h.toLowerCase()))),j&&(A=A.filter(M=>M.suggestions.length>0)),A},E={ozon:{icon:"O",color:"bg-blue-500",name:"Ozon"},wb:{icon:"WB",color:"bg-purple-600",name:"Wildberries"},yandex:{icon:"",color:"bg-red-500",name:"."}},I=E[t]||E.ozon;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(My,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"       "})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-4 rounded-lg space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 uppercase",children:""}),a.jsx("select",{value:n,onChange:A=>{s(A.target.value);const M=i.find(B=>B.id===A.target.value);M&&r(M.marketplace)},className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:i.filter(A=>["ozon","wb","yandex"].includes(A.marketplace)).map(A=>a.jsxs("option",{value:A.id,children:[A.marketplace.toUpperCase(),": ",A.name||A.client_id||"API"]},A.id))})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:P,disabled:l,className:"w-full px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center justify-center gap-2 disabled:opacity-50",children:[a.jsx(_t,{className:l?"animate-spin":""}),l?"...":" "]})}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:()=>_(c,m),disabled:c.length===0,className:"w-full px-4 py-2 bg-green-600 text-white hover:bg-green-700 rounded flex items-center justify-center gap-2 disabled:opacity-50",children:[a.jsx(zo,{}),""]})})]}),c.length>0&&a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-mm-dark p-3 rounded",children:[a.jsxs("p",{className:"text-xs text-mm-text-secondary",children:["  ",I.name]}),a.jsx("p",{className:"text-2xl font-bold text-mm-cyan",children:c.length})]}),a.jsxs("div",{className:"bg-mm-dark p-3 rounded",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:""}),a.jsx("p",{className:"text-2xl font-bold text-green-400",children:x.length})]}),a.jsxs("div",{className:"bg-mm-dark p-3 rounded",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:" "}),a.jsx("p",{className:"text-2xl font-bold text-orange-400",children:g.length})]})]})]}),c.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-mm-secondary rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-mm-dark p-4 border-b border-mm-border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-lg font-bold text-orange-400 flex items-center gap-2",children:[a.jsx(yt,{className:"text-orange-400"}),"  (",g.length,")"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-mm-text-secondary"}),a.jsx("input",{type:"text",placeholder:"...",value:h,onChange:A=>b(A.target.value),className:"pl-10 pr-4 py-2 bg-mm-dark border border-mm-border rounded text-mm-text text-sm focus:border-mm-cyan outline-none w-64"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-mm-text cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:j,onChange:A=>k(A.target.checked),className:"w-4 h-4"}),a.jsx(Ty,{className:"text-mm-cyan"}),"  "]})]})]})}),a.jsxs("div",{className:"divide-y divide-mm-border max-h-[500px] overflow-y-auto",children:[S().map((A,M)=>a.jsx("div",{className:"p-4 hover:bg-mm-dark/50 transition",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 items-start",children:[a.jsx("div",{className:"col-span-5",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-10 h-10 ${I.color} text-white rounded flex items-center justify-center text-xs font-bold flex-shrink-0`,children:I.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-mm-text truncate",children:A.mpProduct.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",A.mpProduct.sku]}),A.mpProduct.barcode&&a.jsxs("p",{className:"text-xs text-mm-text-secondary",children:[": ",A.mpProduct.barcode]})]})]})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("div",{className:"text-2xl text-mm-text-secondary",children:""})}),a.jsx("div",{className:"col-span-5",children:A.suggestions.length>0?a.jsx("div",{className:"space-y-2",children:A.suggestions.map(B=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-mm-dark rounded border border-green-500/30",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-mm-text truncate",children:B.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",B.article]})]}),a.jsxs("button",{onClick:()=>C(A.mpProduct,B),className:"ml-2 px-3 py-1 bg-green-600 text-white hover:bg-green-700 rounded text-xs font-medium flex items-center gap-1",children:[a.jsx(zo,{size:12}),""]})]},B.id))}):a.jsx("div",{className:"text-sm text-mm-text-secondary italic",children:"  "})})]})},M)),S().length===0&&a.jsx("div",{className:"p-8 text-center text-mm-text-secondary",children:h||j?"   ":"  "})]})]}),a.jsxs("div",{className:"bg-mm-secondary rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-mm-dark p-4 border-b border-mm-border",children:a.jsxs("h2",{className:"text-lg font-bold text-green-400 flex items-center gap-2",children:[a.jsx(Kt,{className:"text-green-400"}),"  (",x.length,")"]})}),a.jsxs("div",{className:"divide-y divide-mm-border max-h-[400px] overflow-y-auto",children:[x.map((A,M)=>a.jsx("div",{className:"p-4 hover:bg-mm-dark/50 transition",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[a.jsx("div",{className:"col-span-5",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-10 h-10 ${I.color} text-white rounded flex items-center justify-center text-xs font-bold flex-shrink-0`,children:I.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-mm-text truncate",children:A.mpProduct.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",A.mpProduct.sku]})]})]})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center gap-1 text-green-400",children:[a.jsx(zo,{}),a.jsx("span",{className:"text-xs",children:""})]})}),a.jsx("div",{className:"col-span-4",children:a.jsx("div",{className:"flex items-start gap-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-mm-text truncate",children:A.localProduct.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",A.localProduct.article]})]})})}),a.jsx("div",{className:"col-span-1 flex justify-end",children:a.jsx("button",{onClick:()=>O(A.localProduct.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded transition",title:" ",children:a.jsx(yt,{})})})]})},M)),x.length===0&&a.jsx("div",{className:"p-8 text-center text-mm-text-secondary",children:"  "})]})]})]}),c.length===0&&a.jsxs("div",{className:"bg-mm-secondary p-12 rounded-lg text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("p",{className:"text-mm-text-secondary text-lg",children:'    " "'})]})]})}const ga=({value:e,onChange:t,suffix:r=""})=>{const[n,s]=f.useState(!1),[i,o]=f.useState(e||"");f.useEffect(()=>{o(e||"")},[e]);const l=()=>{s(!1),i!==e&&t(i)},d=c=>{c.key==="Enter"&&l(),c.key==="Escape"&&(o(e||""),s(!1))};return n?a.jsx("input",{type:"number",value:i,onChange:c=>o(c.target.value),onBlur:l,onKeyDown:d,autoFocus:!0,className:"w-[70px] px-2 py-1 bg-mm-dark border-2 border-mm-cyan rounded text-mm-cyan text-sm focus:outline-none text-center"}):a.jsx("div",{onClick:()=>s(!0),className:"cursor-pointer px-1 py-1 rounded transition-all min-w-[70px] text-center bg-mm-dark border border-dashed border-mm-border hover:border-mm-cyan hover:bg-mm-dark/80",children:e?a.jsxs("span",{className:"text-mm-cyan font-medium text-sm",children:[e,r]}):a.jsx("span",{className:"text-mm-text-secondary/40 text-xs",children:""})})},Ks=({value:e,suffix:t=""})=>a.jsx("div",{className:"text-mm-text text-center px-1 py-1 min-w-[70px] font-medium text-sm",children:e?`${e}${t}`:""}),bM=({fbo:e,fbs:t})=>!e&&!t?a.jsx("span",{className:"text-mm-text-secondary text-xs",children:""}):a.jsx("div",{className:"text-xs text-center",children:a.jsxs("span",{className:"text-orange-400",children:[e||t,"%"]})}),jM=()=>{const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState([]),[i,o]=f.useState(!0),[l,d]=f.useState(!1),[c,u]=f.useState(!1),[m,p]=f.useState(""),[x,y]=f.useState(null),[g,v]=f.useState(new Set),[h,b]=f.useState({ozon:!0,wb:!0}),[j,k]=f.useState({});f.useEffect(()=>{N()},[]),f.useEffect(()=>{_()},[t,m]);const N=async()=>{try{o(!0);const D=await e.get("/api/catalog/pricing");r(D.data.products||[]),k({}),v(new Set)}catch(D){console.error("Error fetching products:",D),G.error("  ")}finally{o(!1)}},w=async()=>{d(!0);try{const D=await e.get("/api/catalog/pricing/sync-from-mp");D.data.success?(G.success(` ${D.data.message}`),await N()):G.error(D.data.message||" ")}catch(D){console.error("Sync error:",D),G.error("   ")}finally{d(!1)}},P=async()=>{var q,ie,oe,U,ue,he,Z,Y,ae,be;const D=n.filter(H=>{if(!g.has(H.product_id))return!1;const ee=j[H.product_id];return ee?ee["ozon.price"]||ee["ozon.old_price"]||ee["ozon.min_price"]||ee["wb.regular_price"]||ee["wb.discount_price"]||ee["wb.discount"]:!1});if(D.length===0){G.error("      ");return}u(!0);try{const H={};for(const le of D){const ve=j[le.product_id]||{};H[le.product_id]={ozon:le.ozon_linked?{price:parseFloat(ve["ozon.price"])||((q=le.ozon)==null?void 0:q.price)||0,old_price:parseFloat(ve["ozon.old_price"])||((ie=le.ozon)==null?void 0:ie.old_price)||0,min_price:parseFloat(ve["ozon.min_price"])||((oe=le.ozon)==null?void 0:oe.min_price)||0}:null,wb:le.wb_linked?{regular_price:parseFloat(ve["wb.regular_price"])||((U=le.wb)==null?void 0:U.regular_price)||0,discount_price:parseFloat(ve["wb.discount_price"])||((ue=le.wb)==null?void 0:ue.discount_price)||0,discount:parseFloat(ve["wb.discount"])||((he=le.wb)==null?void 0:he.discount)||0}:null}}const ee=await e.post("/api/catalog/pricing/push-to-mp",{product_ids:D.map(le=>le.product_id),prices:H});if(console.log("Push to MP response:",ee.data),ee.data.success){const{results:le}=ee.data,ve=[];le.ozon.success>0&&ve.push(`Ozon: ${le.ozon.success} `),le.wb.success>0&&ve.push(`WB: ${le.wb.success} `),ve.length>0?G.success(`   : ${ve.join(", ")}`,{duration:5e3}):G.warning("  ,    .    ."),((Z=le.ozon.errors)==null?void 0:Z.length)>0&&G.error(`Ozon : ${le.ozon.errors.join(", ")}`,{duration:7e3}),((Y=le.wb.errors)==null?void 0:Y.length)>0&&G.error(`WB : ${le.wb.errors.join(", ")}`,{duration:7e3}),await N()}else G.error(ee.data.message||" ")}catch(H){console.error("Push error:",H),G.error(` : ${((be=(ae=H.response)==null?void 0:ae.data)==null?void 0:be.detail)||H.message}`)}finally{u(!1)}},_=()=>{let D=[...t];if(m){const q=m.toLowerCase();D=D.filter(ie=>{var oe,U;return((oe=ie.article)==null?void 0:oe.toLowerCase().includes(q))||((U=ie.name)==null?void 0:U.toLowerCase().includes(q))})}s(D)},C=D=>{b(q=>({...q,[D]:!q[D]}))},O=D=>{v(q=>{const ie=new Set(q);return ie.has(D)?ie.delete(D):ie.add(D),ie})},S=()=>{const D=n.filter(q=>M(q.product_id));v(new Set(D.map(q=>q.product_id)))},E=(D,q,ie)=>{k(oe=>({...oe,[D]:{...oe[D],[q]:ie}}))},I=(D,q)=>{var ie;return((ie=j[D.product_id])==null?void 0:ie[q])!==void 0?j[D.product_id][q]:""},A=(D,q)=>{const ie=q.split(".");let oe=D;for(const U of ie)oe=oe==null?void 0:oe[U];return oe||""},M=D=>j[D]&&Object.keys(j[D]).length>0,B=async D=>{var ie,oe,U,ue,he,Z;const q=j[D.product_id];if(q){y(D.product_id);try{const Y={};q.min_allowed_price&&(Y.min_allowed_price=parseFloat(q.min_allowed_price)||0),q.cost_price&&(Y.cost_price=parseFloat(q.cost_price)||0),D.ozon_linked&&(q["ozon.price"]||q["ozon.old_price"]||q["ozon.min_price"])&&(Y.ozon={price:parseFloat(q["ozon.price"])||((ie=D.ozon)==null?void 0:ie.price)||0,old_price:parseFloat(q["ozon.old_price"])||((oe=D.ozon)==null?void 0:oe.old_price)||0,min_price:parseFloat(q["ozon.min_price"])||((U=D.ozon)==null?void 0:U.min_price)||0}),D.wb_linked&&(q["wb.regular_price"]||q["wb.discount_price"]||q["wb.discount"])&&(Y.wb={regular_price:parseFloat(q["wb.regular_price"])||((ue=D.wb)==null?void 0:ue.regular_price)||0,discount_price:parseFloat(q["wb.discount_price"])||((he=D.wb)==null?void 0:he.discount_price)||0,discount:parseFloat(q["wb.discount"])||((Z=D.wb)==null?void 0:Z.discount)||0}),await e.put(`/api/catalog/pricing/${D.product_id}`,Y),G.success(` : ${D.article}`),k(ae=>{const be={...ae};return delete be[D.product_id],be}),N()}catch(Y){console.error("Save error:",Y),G.error(" ")}finally{y(null)}}},W=t.filter(D=>D.ozon_linked).length,L=t.filter(D=>D.wb_linked).length,R=Object.keys(j).length,$=g.size,X=R>0,Q=n.filter(D=>{if(!g.has(D.product_id))return!1;const q=j[D.product_id];return q?q["ozon.price"]||q["ozon.old_price"]||q["ozon.min_price"]||q["wb.regular_price"]||q["wb.discount_price"]||q["wb.discount"]||q.cost_price||q.min_allowed_price:!1}).length>0,J=async()=>{const D=n.filter(oe=>M(oe.product_id));if(D.length===0){G.error("   ");return}let q=0,ie=0;for(const oe of D)try{await B(oe),q++}catch{ie++}q>0&&G.success(`  : ${q}`),ie>0&&G.error(`   : ${ie}`)};return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(_t,{className:"w-8 h-8 animate-spin text-mm-cyan"})}):a.jsxs("div",{className:"space-y-6","data-testid":"pricing-page",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:""}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"   "})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:w,disabled:l,className:"px-4 py-2 bg-mm-secondary text-mm-text border border-mm-border rounded hover:border-mm-cyan transition-colors flex items-center gap-2 disabled:opacity-50",children:[l?a.jsx(_t,{className:"w-4 h-4 animate-spin"}):a.jsx(Vt,{className:"w-4 h-4"}),"  "]}),a.jsxs("button",{onClick:J,disabled:!X||x!==null,className:`px-4 py-2 font-medium rounded transition-colors flex items-center gap-2 ${X&&x===null?"bg-green-600 text-white hover:bg-green-700 cursor-pointer":"bg-mm-secondary text-mm-text-secondary cursor-not-allowed opacity-50"}`,children:[x!==null?a.jsx(_t,{className:"w-4 h-4 animate-spin"}):a.jsx(_i,{className:"w-4 h-4"})," ",R>0&&a.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${X?"bg-white/20":"bg-mm-border"}`,children:R})]}),a.jsxs("button",{onClick:P,disabled:c||!Q,className:`px-4 py-2 font-medium rounded transition-colors flex items-center gap-2 ${Q&&!c?"bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 cursor-pointer":"bg-mm-secondary text-mm-text-secondary cursor-not-allowed opacity-50"}`,children:[c?a.jsx(_t,{className:"w-4 h-4 animate-spin"}):a.jsx(ir,{className:"w-4 h-4"}),"  ",$>0&&a.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${Q?"bg-mm-dark/20":"bg-mm-border"}`,children:$})]})]})]}),a.jsx("div",{className:"bg-mm-secondary p-4 rounded-lg border border-mm-border",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsx("span",{className:"text-sm text-mm-text-secondary",children:":"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:h.ozon,onChange:()=>C("ozon"),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${h.ozon?"bg-blue-500 border-blue-500":"bg-mm-dark border-mm-border group-hover:border-blue-500"}`,children:h.ozon&&a.jsx(Kt,{className:"w-3 h-3 text-white"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"O"}),a.jsx("span",{className:"text-mm-text",children:"Ozon"}),a.jsxs("span",{className:"text-xs text-mm-text-secondary",children:["(",W,")"]})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:h.wb,onChange:()=>C("wb"),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${h.wb?"bg-purple-500 border-purple-500":"bg-mm-dark border-mm-border group-hover:border-purple-500"}`,children:h.wb&&a.jsx(Kt,{className:"w-3 h-3 text-white"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"W"}),a.jsx("span",{className:"text-mm-text",children:"Wildberries"}),a.jsxs("span",{className:"text-xs text-mm-text-secondary",children:["(",L,")"]})]})]}),R>0&&a.jsxs("button",{onClick:S,className:"text-sm text-mm-cyan hover:underline",children:["    (",R,")"]}),a.jsx("div",{className:"flex-1 min-w-[200px] ml-auto",children:a.jsxs("div",{className:"relative",children:[a.jsx(ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-mm-text-secondary"}),a.jsx("input",{type:"text",placeholder:"  ...",value:m,onChange:D=>p(D.target.value),className:"w-full pl-10 pr-4 py-2 bg-mm-dark border border-mm-border rounded text-mm-text text-sm focus:border-mm-cyan outline-none"})]})})]})}),a.jsx("div",{className:"bg-mm-secondary rounded-lg border border-mm-border overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsxs("thead",{className:"bg-mm-dark",children:[a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"p-2 w-[30px]",rowSpan:"2"}),a.jsx("th",{className:"text-left p-2 font-medium text-mm-text-secondary uppercase text-xs w-[50px]",rowSpan:"2",children:""}),a.jsx("th",{className:"text-left p-2 font-medium text-mm-text-secondary uppercase text-xs min-w-[130px]",rowSpan:"2",children:""}),a.jsx("th",{className:"text-center p-2 font-medium text-green-400 uppercase text-xs w-[80px]",rowSpan:"2",children:"."}),h.ozon&&a.jsx("th",{className:"text-center p-2 font-medium text-blue-400 uppercase text-xs border-l border-mm-border",colSpan:"7",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"O"}),"Ozon"]})}),h.wb&&a.jsx("th",{className:"text-center p-2 font-medium text-purple-400 uppercase text-xs border-l border-mm-border",colSpan:"6",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-purple-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"W"}),"Wildberries"]})}),a.jsxs("th",{className:"text-center p-2 font-medium text-mm-text-secondary uppercase text-xs border-l border-mm-border w-[80px]",rowSpan:"2",children:[".",a.jsx("br",{}),""]})]}),a.jsxs("tr",{className:"border-b border-mm-border bg-mm-dark/70 text-[11px]",children:[h.ozon&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"p-1 text-center text-blue-300/70 font-normal border-l border-mm-border",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-blue-300/70 font-normal",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-blue-300/70 font-normal",children:"."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-orange-400/70 font-normal",children:a.jsx(B0,{className:"inline w-3 h-3"})})]}),h.wb&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"p-1 text-center text-purple-300/70 font-normal border-l border-mm-border",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-purple-300/70 font-normal",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-purple-300/70 font-normal",children:""}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""})]})]})]}),a.jsx("tbody",{children:n.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"20",className:"text-center p-8 text-mm-text-secondary",children:"  "})}):n.map(D=>a.jsxs("tr",{className:`border-b border-mm-border hover:bg-mm-dark/30 transition-colors ${M(D.product_id)?"bg-yellow-500/5":""} ${g.has(D.product_id)?"bg-mm-cyan/5":""}`,children:[a.jsx("td",{className:"p-2 text-center",children:a.jsx("button",{onClick:()=>O(D.product_id),className:"text-mm-text-secondary hover:text-mm-cyan",children:g.has(D.product_id)?a.jsx(UI,{className:"w-4 h-4 text-mm-cyan"}):a.jsx(GI,{className:"w-4 h-4"})})}),a.jsx("td",{className:"p-2",children:D.photo?a.jsx("img",{src:D.photo,alt:"",className:"w-10 h-10 object-cover rounded"}):a.jsx("div",{className:"w-10 h-10 bg-mm-dark rounded flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-mm-text-secondary",children:""})})}),a.jsxs("td",{className:"p-2",children:[a.jsx("div",{className:"font-mono text-sm text-mm-cyan",children:D.article}),a.jsx("div",{className:"text-xs text-mm-text-secondary truncate max-w-[120px]",children:D.name})]}),a.jsx("td",{className:"p-1",children:a.jsx(ga,{value:I(D,"cost_price")||A(D,"cost_price"),onChange:q=>E(D.product_id,"cost_price",q)})}),h.ozon&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-1 border-l border-mm-border",children:D.ozon_linked?a.jsx(Ks,{value:A(D,"ozon.price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.ozon_linked?a.jsx(ga,{value:I(D,"ozon.price"),onChange:q=>E(D.product_id,"ozon.price",q)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:D.ozon_linked?a.jsx(Ks,{value:A(D,"ozon.old_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.ozon_linked?a.jsx(ga,{value:I(D,"ozon.old_price"),onChange:q=>E(D.product_id,"ozon.old_price",q)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:D.ozon_linked?a.jsx(Ks,{value:A(D,"ozon.min_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.ozon_linked?a.jsx(ga,{value:I(D,"ozon.min_price"),onChange:q=>E(D.product_id,"ozon.min_price",q)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:D.ozon_linked?a.jsx(bM,{fbo:A(D,"ozon.fbo_commission"),fbs:A(D,"ozon.fbs_commission")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})})]}),h.wb&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-1 border-l border-mm-border",children:D.wb_linked?a.jsx(Ks,{value:A(D,"wb.regular_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.wb_linked?a.jsx(ga,{value:I(D,"wb.regular_price"),onChange:q=>E(D.product_id,"wb.regular_price",q)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:D.wb_linked?a.jsx(Ks,{value:A(D,"wb.discount_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.wb_linked?a.jsx(ga,{value:I(D,"wb.discount_price"),onChange:q=>E(D.product_id,"wb.discount_price",q)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:D.wb_linked?a.jsx(Ks,{value:A(D,"wb.discount"),suffix:"%"}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.wb_linked?a.jsx(ga,{value:I(D,"wb.discount"),onChange:q=>E(D.product_id,"wb.discount",q),suffix:"%"}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})})]}),a.jsx("td",{className:"p-1 border-l border-mm-border",children:a.jsx(ga,{value:I(D,"min_allowed_price")||A(D,"min_allowed_price"),onChange:q=>E(D.product_id,"min_allowed_price",q)})})]},D.product_id))})]})})}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-mm-text-secondary",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-14 h-5 bg-mm-secondary rounded border border-mm-border"}),a.jsx("span",{children:" "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-14 h-5 bg-mm-dark rounded border border-dashed border-mm-border"}),a.jsx("span",{children:"  "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(B0,{className:"w-4 h-4 text-orange-400"}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_i,{className:"w-4 h-4 text-mm-cyan"}),a.jsx("span",{children:"  "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ir,{className:"w-4 h-4 text-mm-cyan"}),a.jsx("span",{children:"  "})]})]})]})};function wM(){const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState(!1),[l,d]=f.useState(null),[c,u]=f.useState(""),[m,p]=f.useState({internal_name:"",slug:"",site_visibility:!0,default_channels:["site"],ozon_category_id:"",ozon_type_id:"",wb_category_id:"",yandex_category_id:"",internal_attributes:[]}),[x,y]=f.useState({ozon:"",wb:"",yandex:""}),[g,v]=f.useState({ozon:[],wb:[],yandex:[]}),[h,b]=f.useState({});f.useEffect(()=>{j()},[]);const j=async()=>{s(!0);try{const S=await e.get("/api/internal-categories?limit=100");r(S.data.categories||[])}catch(S){console.error("Failed to load categories:",S),alert("  ")}finally{s(!1)}},k=()=>{d(null),p({internal_name:"",slug:"",site_visibility:!0,default_channels:["site"],ozon_category_id:"",ozon_type_id:"",wb_category_id:"",yandex_category_id:"",internal_attributes:[]}),y({ozon:"",wb:"",yandex:""}),v({ozon:[],wb:[],yandex:[]}),o(!0)},N=S=>{var E,I,A,M,B,W,L,R;d(S.id),p({internal_name:S.internal_name,slug:S.slug||"",site_visibility:S.site_visibility??!0,default_channels:S.default_channels||["site"],ozon_category_id:((I=(E=S.marketplace_mappings)==null?void 0:E.ozon)==null?void 0:I.category_id)||"",ozon_type_id:((M=(A=S.marketplace_mappings)==null?void 0:A.ozon)==null?void 0:M.type_id)||"",wb_category_id:((W=(B=S.marketplace_mappings)==null?void 0:B.wb)==null?void 0:W.category_id)||"",yandex_category_id:((R=(L=S.marketplace_mappings)==null?void 0:L.yandex)==null?void 0:R.category_id)||"",internal_attributes:S.internal_attributes||[]}),y({ozon:"",wb:"",yandex:""}),v({ozon:[],wb:[],yandex:[]}),o(!0)},w=async(S,E)=>{var I,A;if(confirm(`  "${E}"?`))try{await e.delete(`/api/internal-categories/${S}`),alert("  "),j()}catch(M){alert(" : "+(((A=(I=M.response)==null?void 0:I.data)==null?void 0:A.detail)||M.message))}},P=async()=>{var S,E;if(!m.internal_name){alert("  ");return}try{l?(await e.put(`/api/internal-categories/${l}`,m),alert("  ")):(await e.post("/api/internal-categories",m),alert("  ")),o(!1),j()}catch(I){alert(" : "+(((E=(S=I.response)==null?void 0:S.data)==null?void 0:E.detail)||I.message))}},_=async S=>{var I,A;const E=x[S];if(!(!E||E.length<2)){b(M=>({...M,[S]:!0}));try{const M=await e.get(`/api/categories/marketplace/${S}/search?query=${encodeURIComponent(E)}`);v(B=>({...B,[S]:M.data.categories||[]}))}catch(M){console.error(`Failed to search ${S}:`,M),alert(`  ${S}: ${((A=(I=M.response)==null?void 0:I.data)==null?void 0:A.detail)||M.message}`)}finally{b(M=>({...M,[S]:!1}))}}},C=(S,E)=>{S==="ozon"?p(I=>({...I,ozon_category_id:E.category_id||E.id,ozon_type_id:E.type_id||""})):S==="wb"?p(I=>({...I,wb_category_id:E.category_id||E.id})):S==="yandex"&&p(I=>({...I,yandex_category_id:E.category_id||E.id})),v(I=>({...I,[S]:[]})),y(I=>({...I,[S]:""}))},O=t.filter(S=>S.internal_name.toLowerCase().includes(c.toLowerCase()));return a.jsx("div",{className:"min-h-screen bg-[#0F172A] text-[#E5E7EB] p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold text-[#06B6D4] mb-2",children:" "}),a.jsx("p",{className:"text-[#A7AFB8]",children:"        "})]}),a.jsxs("button",{onClick:k,className:"px-6 py-3 bg-[#06B6D4] text-[#0B1220] rounded-lg font-bold hover:bg-cyan-400 transition-colors flex items-center gap-2","data-testid":"create-category-button",children:[a.jsx(Ir,{}),"  "]})]}),a.jsxs("div",{className:"mb-6 relative",children:[a.jsx(ea,{className:"absolute left-4 top-3.5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:" ...",value:c,onChange:S=>u(S.target.value),className:"w-full pl-12 pr-4 py-3 bg-[#111827] border border-[#334155] rounded-lg text-white placeholder-gray-500 focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none","data-testid":"category-search-input"})]}),n?a.jsx("div",{className:"text-center py-12 text-gray-400",children:"..."}):O.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-400 mb-4",children:"  "}),a.jsx("button",{onClick:k,className:"px-6 py-2 bg-[#06B6D4] text-[#0B1220] rounded-lg hover:bg-cyan-400",children:"  "})]}):a.jsx("div",{className:"bg-[#111827] border border-[#334155] rounded-xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-[#0F172A] border-b border-[#334155]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:"Slug"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-[#A7AFB8]",children:""})]})}),a.jsx("tbody",{children:O.map(S=>{var E,I,A,M,B,W,L;return a.jsxs("tr",{className:"border-b border-[#334155] hover:bg-slate-800/60 transition-colors","data-testid":`category-row-${S.id}`,children:[a.jsx("td",{className:"px-6 py-4 font-medium",children:S.internal_name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:S.slug||"-"}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-2",children:[((I=(E=S.marketplace_mappings)==null?void 0:E.ozon)==null?void 0:I.category_id)&&a.jsx("span",{className:"px-2 py-1 bg-blue-500 text-white text-xs rounded",children:"Ozon"}),((M=(A=S.marketplace_mappings)==null?void 0:A.wb)==null?void 0:M.category_id)&&a.jsx("span",{className:"px-2 py-1 bg-purple-500 text-white text-xs rounded",children:"WB"}),((W=(B=S.marketplace_mappings)==null?void 0:B.yandex)==null?void 0:W.category_id)&&a.jsx("span",{className:"px-2 py-1 bg-yellow-500 text-black text-xs rounded",children:""})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:((L=S.internal_attributes)==null?void 0:L.length)||0}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>N(S),className:"p-2 text-blue-400 hover:bg-blue-500/20 rounded transition-colors","data-testid":`edit-category-${S.id}`,children:a.jsx(Ay,{})}),a.jsx("button",{onClick:()=>w(S.id,S.internal_name),className:"p-2 text-red-400 hover:bg-red-500/20 rounded transition-colors","data-testid":`delete-category-${S.id}`,children:a.jsx(vn,{})})]})})]},S.id)})})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-start justify-center z-50 p-6 overflow-y-auto",children:a.jsxs("div",{className:"bg-[#111827] border border-[#334155] rounded-xl w-full max-w-4xl my-8",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-[#334155] flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-[#06B6D4]",children:l?" ":" "}),a.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(yt,{size:24})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-[#A7AFB8] mb-2",children:[" ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:m.internal_name,onChange:S=>p(E=>({...E,internal_name:S.target.value})),className:"w-full px-4 py-2 bg-[#1F2937] border border-[#334155] rounded-lg text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:":  ","data-testid":"category-name-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#A7AFB8] mb-2",children:"Slug"}),a.jsx("input",{type:"text",value:m.slug,onChange:S=>p(E=>({...E,slug:S.target.value})),className:"w-full px-4 py-2 bg-[#1F2937] border border-[#334155] rounded-lg text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:"computer-mice"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"  "}),a.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4 mb-4",children:a.jsxs("p",{className:"text-yellow-200 text-sm flex items-start gap-2",children:[a.jsx(Hn,{className:"mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("strong",{children:":"}),"        .       ."]})]})}),a.jsxs("div",{className:"mb-4 p-4 bg-[#1F2937] border-l-4 border-blue-500 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h4",{className:"font-bold text-blue-400",children:"Ozon"}),m.ozon_category_id&&a.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[a.jsx(Kt,{size:12})," : ",m.ozon_category_id]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:x.ozon,onChange:S=>y(E=>({...E,ozon:S.target.value})),onKeyDown:S=>S.key==="Enter"&&_("ozon"),placeholder:"  Ozon ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 outline-none"}),a.jsx("button",{onClick:()=>_("ozon"),disabled:h.ozon||x.ozon.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:h.ozon?"...":""})]}),g.ozon.length>0&&a.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:g.ozon.map((S,E)=>a.jsxs("button",{onClick:()=>C("ozon",S),className:"w-full px-4 py-2 text-left hover:bg-blue-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[a.jsx("div",{className:"font-medium text-white",children:S.category_name||S.name}),a.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",S.category_id||S.id,S.type_id&&` | Type: ${S.type_id}`]})]},E))})]}),a.jsxs("div",{className:"mb-4 p-4 bg-[#1F2937] border-l-4 border-purple-500 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h4",{className:"font-bold text-purple-400",children:"Wildberries"}),m.wb_category_id&&a.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[a.jsx(Kt,{size:12})," : ",m.wb_category_id]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:x.wb,onChange:S=>y(E=>({...E,wb:S.target.value})),onKeyDown:S=>S.key==="Enter"&&_("wb"),placeholder:"  Wildberries ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 outline-none"}),a.jsx("button",{onClick:()=>_("wb"),disabled:h.wb||x.wb.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-purple-500 text-white rounded text-sm hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed",children:h.wb?"...":""})]}),g.wb.length>0&&a.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:g.wb.map((S,E)=>a.jsxs("button",{onClick:()=>C("wb",S),className:"w-full px-4 py-2 text-left hover:bg-purple-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[a.jsx("div",{className:"font-medium text-white",children:S.category_name||S.name}),a.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",S.category_id||S.id]})]},E))})]}),a.jsxs("div",{className:"p-4 bg-[#1F2937] border-l-4 border-yellow-500 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h4",{className:"font-bold text-yellow-400",children:" "}),m.yandex_category_id&&a.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[a.jsx(Kt,{size:12})," : ",m.yandex_category_id]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:x.yandex,onChange:S=>y(E=>({...E,yandex:S.target.value})),onKeyDown:S=>S.key==="Enter"&&_("yandex"),placeholder:"    ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-yellow-500 focus:ring-2 focus:ring-yellow-500/50 outline-none"}),a.jsx("button",{onClick:()=>_("yandex"),disabled:h.yandex||x.yandex.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-yellow-500 text-black rounded text-sm hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed",children:h.yandex?"...":""})]}),g.yandex.length>0&&a.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:g.yandex.map((S,E)=>a.jsxs("button",{onClick:()=>C("yandex",S),className:"w-full px-4 py-2 text-left hover:bg-yellow-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[a.jsx("div",{className:"font-medium text-white",children:S.category_name||S.name}),a.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",S.category_id||S.id]})]},E))})]})]})]}),a.jsxs("div",{className:"px-6 py-4 border-t border-[#334155] flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>o(!1),className:"px-6 py-2 bg-[#374151] text-white rounded-lg hover:bg-[#4B5563] transition-colors",children:""}),a.jsxs("button",{onClick:P,className:"px-6 py-2 bg-[#06B6D4] text-[#0B1220] rounded-lg font-bold hover:bg-cyan-400 transition-colors flex items-center gap-2","data-testid":"save-category-button",children:[a.jsx(_i,{})," "]})]})]})})]})})}function K0(){const{api:e}=we(),{id:t}=Zu(),r=Jr(),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,d]=f.useState([]),[c,u]=f.useState({warehouse_id:"",supplier_id:"",items:[]}),[m,p]=f.useState(""),[x,y]=f.useState(!1),[g,v]=f.useState(null);f.useEffect(()=>{h(),t&&b()},[t]);const h=async()=>{try{const[E,I,A]=await Promise.all([e.get("/api/warehouses"),e.get("/api/suppliers"),e.get("/api/catalog/products?limit=500")]);s(E.data),o(I.data),d(A.data)}catch(E){G.error("  "),console.error(E)}},b=async()=>{try{const E=await e.get(`/api/income-orders/${t}`);v(E.data),u({warehouse_id:E.data.warehouse_id||"",supplier_id:E.data.supplier_id||"",items:E.data.items||[]})}catch(E){G.error("  "),console.error(E)}},j=E=>{const I=c.items.find(A=>A.article===E.article);u(I?{...c,items:c.items.map(A=>A.article===E.article?{...A,quantity:A.quantity+1}:A)}:{...c,items:[...c.items,{article:E.article,name:E.name,quantity:1,purchase_price:0,additional_expenses:0,total:0}]}),p("")},k=(E,I,A)=>{const M=[...c.items];if(M[E][I]=A,I==="quantity"||I==="purchase_price"||I==="additional_expenses"){const B=M[E];B.total=(B.purchase_price+B.additional_expenses)*B.quantity}u({...c,items:M})},N=E=>{u({...c,items:c.items.filter((I,A)=>A!==E)})},w=async()=>{var E,I;if(!c.warehouse_id||!c.supplier_id){G.error("   ");return}y(!0);try{if(t)await e.put(`/api/income-orders/${t}`,c),G.success(" ");else{const A=await e.post("/api/income-orders",c);G.success(" "),r(`/income-orders/${A.data.order.id}/edit`)}}catch(A){G.error(((I=(E=A.response)==null?void 0:E.data)==null?void 0:I.detail)||" ")}y(!1)},P=async()=>{var E,I;if(!t){G.error("  ");return}if(confirm(" ?   !")){y(!0);try{await e.post(`/api/income-orders/${t}/accept`),G.success(" !  ."),r("/income-orders")}catch(A){G.error(((I=(E=A.response)==null?void 0:E.data)==null?void 0:I.detail)||" ")}y(!1)}},_=async()=>{var E,I;if(confirm(" ?   !")){y(!0);try{await e.post(`/api/income-orders/${t}/cancel`),G.success(" "),b()}catch(A){G.error(((I=(E=A.response)==null?void 0:E.data)==null?void 0:I.detail)||" ")}y(!1)}},C=l.filter(E=>{var I,A;return((I=E.article)==null?void 0:I.toLowerCase().includes(m.toLowerCase()))||((A=E.name)==null?void 0:A.toLowerCase().includes(m.toLowerCase()))}),O=c.items.reduce((E,I)=>({quantity:E.quantity+(I.quantity||0),amount:E.amount+(I.total||0)}),{quantity:0,amount:0}),S=(g==null?void 0:g.status)==="accepted";return a.jsx("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan uppercase mb-2","data-testid":"form-title",children:t?` #${t.substring(0,8)}`:" "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:S?"// ":"// "})]}),a.jsx("div",{className:"flex items-center space-x-2",children:S?a.jsxs("span",{className:"px-4 py-2 bg-mm-green/20 text-mm-green border border-mm-green uppercase text-sm font-mono",children:[a.jsx(FiCheck,{className:"inline mr-2"}),""]}):a.jsx("span",{className:"px-4 py-2 bg-mm-yellow/20 text-mm-yellow border border-mm-yellow uppercase text-sm font-mono",children:""})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card-neon","data-testid":"warehouse-supplier-section",children:[a.jsx("h3",{className:"text-mm-cyan uppercase text-sm mb-4",children:" "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsxs("select",{value:c.warehouse_id,onChange:E=>u({...c,warehouse_id:E.target.value}),className:"input-neon w-full",disabled:S,"data-testid":"warehouse-select",required:!0,children:[a.jsx("option",{value:"",children:" ..."}),n.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsxs("select",{value:c.supplier_id,onChange:E=>u({...c,supplier_id:E.target.value}),className:"input-neon w-full",disabled:S,"data-testid":"supplier-select",required:!0,children:[a.jsx("option",{value:"",children:" ..."}),i.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]})]})]}),a.jsxs("div",{className:"card-neon bg-mm-darker","data-testid":"totals-section",children:[a.jsx("h3",{className:"text-mm-cyan uppercase text-sm mb-4",children:""}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsx("span",{className:"text-2xl font-mono font-bold text-mm-text",children:c.items.length})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" :"}),a.jsx("span",{className:"text-2xl font-mono font-bold text-mm-cyan",children:O.quantity})]}),a.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsxs("span",{className:"text-2xl font-mono font-bold text-mm-green",children:[(O.amount/100).toFixed(2)," "]})]})]})]})]}),!S&&a.jsxs("div",{className:"card-neon","data-testid":"add-products-section",children:[a.jsx("h3",{className:"text-mm-cyan uppercase text-sm mb-4",children:" "}),a.jsxs("div",{className:"relative",children:[a.jsx(ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-mm-text-tertiary"}),a.jsx("input",{type:"text",value:m,onChange:E=>p(E.target.value),className:"input-neon w-full pl-10",placeholder:"    ...","data-testid":"product-search-input"})]}),m&&C.length>0&&a.jsx("div",{className:"mt-2 max-h-60 overflow-y-auto border border-mm-border bg-mm-darker",children:C.slice(0,10).map(E=>a.jsxs("button",{onClick:()=>j(E),className:"w-full text-left px-4 py-3 hover:bg-mm-gray transition-colors border-b border-mm-border last:border-b-0","data-testid":`add-product-${E.article}`,children:[a.jsx("div",{className:"font-mono text-sm text-mm-cyan",children:E.article}),a.jsx("div",{className:"text-sm text-mm-text-secondary",children:E.name})]},E.article))})]}),c.items.length>0&&a.jsx("div",{className:"card-neon overflow-hidden","data-testid":"items-table",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" ()"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" ()"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" ()"}),!S&&a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:c.items.map((E,I)=>a.jsxs("tr",{className:"border-b border-mm-border","data-testid":`item-row-${I}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:E.article}),a.jsx("td",{className:"py-4 px-4 text-sm",children:E.name}),a.jsx("td",{className:"py-4 px-4",children:S?a.jsx("div",{className:"text-center font-mono font-bold",children:E.quantity}):a.jsx("input",{type:"number",min:"1",value:E.quantity,onChange:A=>k(I,"quantity",parseInt(A.target.value)||0),className:"input-neon w-24 text-center font-mono","data-testid":`quantity-${I}`})}),a.jsx("td",{className:"py-4 px-4",children:S?a.jsx("div",{className:"text-right font-mono",children:(E.purchase_price/100).toFixed(2)}):a.jsx("input",{type:"number",min:"0",step:"0.01",value:(E.purchase_price/100).toFixed(2),onChange:A=>k(I,"purchase_price",Math.round(parseFloat(A.target.value||0)*100)),className:"input-neon w-32 text-right font-mono","data-testid":`purchase-price-${I}`})}),a.jsx("td",{className:"py-4 px-4",children:S?a.jsx("div",{className:"text-right font-mono",children:(E.additional_expenses/100).toFixed(2)}):a.jsx("input",{type:"number",min:"0",step:"0.01",value:(E.additional_expenses/100).toFixed(2),onChange:A=>k(I,"additional_expenses",Math.round(parseFloat(A.target.value||0)*100)),className:"input-neon w-32 text-right font-mono","data-testid":`expenses-${I}`})}),a.jsx("td",{className:"py-4 px-4 text-right font-mono font-bold text-mm-green",children:(E.total/100).toFixed(2)}),!S&&a.jsx("td",{className:"py-4 px-4 text-center",children:a.jsx("button",{onClick:()=>N(I),className:"px-2 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors","data-testid":`remove-item-${I}`,children:a.jsx(vn,{size:16})})})]},I))})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>r("/income-orders"),className:"btn-secondary","data-testid":"back-btn",children:"   "}),a.jsxs("div",{className:"flex items-center space-x-3",children:[!S&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:w,disabled:x||!c.warehouse_id||!c.supplier_id,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50","data-testid":"save-draft-btn",children:[a.jsx(_i,{}),a.jsx("span",{children:" "})]}),a.jsxs("button",{onClick:P,disabled:x||!t||c.items.length===0,className:"btn-primary flex items-center space-x-2 disabled:opacity-50 bg-mm-green border-mm-green hover:bg-mm-green/20","data-testid":"accept-btn",children:[a.jsx(Bd,{}),a.jsx("span",{children:""})]})]}),S&&a.jsxs("button",{onClick:_,disabled:x,className:"btn-secondary flex items-center space-x-2 border-mm-red text-mm-red hover:bg-mm-red/10","data-testid":"cancel-btn",children:[a.jsx(Iy,{}),a.jsx("span",{children:" "})]})]})]})]})})}function g_({type:e="fbs",onClose:t,onSuccess:r}){const{api:n}=we(),[s,i]=f.useState(!1),[o,l]=f.useState([]),[d,c]=f.useState(!0),[u,m]=f.useState({integration_id:"",date_from:new Date(Date.now()-180*24*60*60*1e3).toISOString().split("T")[0],date_to:new Date().toISOString().split("T")[0],update_stock:!0});f.useEffect(()=>{p()},[]);const p=async()=>{try{c(!0);const v=(await n.get("/api/seller/api-keys")).data||[],h=e==="fbo"?v.filter(b=>b.marketplace==="ozon"):v;if(l(h),h.length>0){const b=h[h.length-1];m(j=>({...j,integration_id:b.id}))}}catch(g){console.error("Failed to load integrations:",g),G.error("  ")}finally{c(!1)}},x=async()=>{var g,v;if(!u.integration_id){G.error(" ");return}if(!u.date_from||!u.date_to){G.error(" ");return}try{i(!0);const h=e==="fbs"?"/api/orders/fbs/import":"/api/orders/fbo/import",b=e==="fbs"?{...u}:{integration_id:u.integration_id,date_from:u.date_from,date_to:u.date_to},j=await n.post(h,b),k=e==="fbs"&&u.update_stock?` ${j.data.imported} ,  ${j.data.stock_updated} `:` ${j.data.imported}  (  )`;G.success(k),r(),t()}catch(h){console.error("Failed to import orders:",h),G.error(((v=(g=h.response)==null?void 0:g.data)==null?void 0:v.detail)||"  ")}finally{i(!1)}},y=g=>{const h={ozon:"Ozon",wb:"Wildberries",yandex:"Yandex Market"}[g.marketplace]||g.marketplace;return g.name||`${h} (${g.client_id||"API"})`};return d?a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-mm-darker border border-mm-cyan rounded-lg p-6",children:a.jsx("p",{className:"text-mm-cyan font-mono",children:" ..."})})}):o.length===0?a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:t,children:a.jsxs("div",{className:"bg-mm-darker border border-mm-red rounded-lg p-6 max-w-md",onClick:g=>g.stopPropagation(),children:[a.jsx("h3",{className:"text-xl font-mono text-mm-red mb-4",children:"   "}),a.jsx("p",{className:"text-mm-text-secondary mb-4",children:e==="fbo"?"  FBO    Ozon.":"      ."}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-4",children:'   ""   API .'}),a.jsx("button",{onClick:t,className:"btn-neon w-full",children:""})]})}):a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:t,children:a.jsxs("div",{className:"bg-mm-darker border border-mm-cyan rounded-lg p-6 max-w-2xl w-full mx-4",onClick:g=>g.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-mono text-mm-cyan uppercase",children:["  ",e==="fbs"?"FBS":"FBO"]}),a.jsx("button",{onClick:t,className:"text-mm-text-secondary hover:text-mm-cyan transition-colors",children:a.jsx(yt,{size:24})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" *"}),a.jsx("select",{className:"input-neon w-full",value:u.integration_id,onChange:g=>m({...u,integration_id:g.target.value}),children:o.map(g=>a.jsx("option",{value:g.id,children:y(g)},g.id))}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-1",children:'//      ""'})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:"  *"}),a.jsx("input",{type:"date",className:"input-neon w-full",value:u.date_from,onChange:g=>m({...u,date_from:g.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:"  *"}),a.jsx("input",{type:"date",className:"input-neon w-full",value:u.date_to,onChange:g=>m({...u,date_to:g.target.value})})]})]}),e==="fbs"&&a.jsxs("label",{className:"flex items-center space-x-3 border border-mm-border p-4 rounded hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:u.update_stock,onChange:g=>m({...u,update_stock:g.target.checked}),className:"toggle-switch"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:" "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"     "})]})]}),e==="fbo"&&a.jsx("div",{className:"bg-mm-purple/10 border border-mm-purple p-4 rounded",children:a.jsx("p",{className:"text-sm text-mm-text-secondary font-mono",children:" FBO      (  )"})}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx("button",{onClick:t,className:"btn-neon-outline",disabled:s,children:""}),a.jsxs("button",{onClick:x,disabled:s,className:"btn-neon flex items-center space-x-2",children:[a.jsx(Vt,{}),a.jsx("span",{children:s?"...":" "})]})]})]})]})})}function NM({order:e,onStatusUpdate:t}){var d,c,u,m,p,x;const{api:r}=we(),[n,s]=f.useState(!1),i=y=>{const v={new:{color:"bg-mm-blue/20 text-mm-blue border-mm-blue",label:""},awaiting_shipment:{color:"bg-mm-yellow/20 text-mm-yellow border-mm-yellow",label:" "},delivering:{color:"bg-mm-cyan/20 text-mm-cyan border-mm-cyan",label:""},delivered:{color:"bg-mm-green/20 text-mm-green border-mm-green",label:""},cancelled:{color:"bg-mm-red/20 text-mm-red border-mm-red",label:""},imported:{color:"bg-mm-blue/20 text-mm-blue border-mm-blue",label:""}}[y]||{color:"bg-mm-gray text-mm-text-secondary border-mm-border",label:y};return a.jsx("span",{className:`px-3 py-1 text-sm font-mono border rounded ${v.color}`,children:v.label})},o=async()=>{var y,g;try{s(!0);const v=await r.get(`/api/orders/fbs/${e.id}/label`);v.data.label_url?(window.open(v.data.label_url,"_blank"),G.success(" ")):G.error(" ")}catch(v){console.error("Failed to print label:",v),G.error("  : "+(((g=(y=v.response)==null?void 0:y.data)==null?void 0:g.detail)||v.message))}finally{s(!1)}},l=async()=>{try{s(!0),await r.post(`/api/orders/fbs/${e.id}/label/refresh`),G.success(" ")}catch(y){console.error("Failed to refresh label:",y),G.error("  ")}finally{s(!1)}};return a.jsxs("div",{className:"space-y-6","data-testid":"order-info-tab",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"//  "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.order_number})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-cyan font-mono uppercase",children:e.marketplace})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),i(e.status)]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"//  "}),a.jsx("p",{className:"text-mm-text font-mono",children:new Date(e.created_at).toLocaleString("ru-RU")})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// External ID"}),a.jsx("p",{className:"text-mm-text font-mono",children:e.external_order_id})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.warehouse_id})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"//  "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.stock_updated?"":""})]})]})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsxs("h3",{className:"flex items-center space-x-2 text-sm uppercase font-mono text-mm-cyan mb-4",children:[a.jsx(Ci,{}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:((d=e.customer)==null?void 0:d.full_name)||" "})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:((c=e.customer)==null?void 0:c.phone)||" "})]}),((u=e.customer)==null?void 0:u.address)&&a.jsxs("div",{className:"col-span-2",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.customer.address})]})]})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsxs("h3",{className:"flex items-center space-x-2 text-sm uppercase font-mono text-mm-cyan mb-4",children:[a.jsx(vt,{}),a.jsx("span",{children:" "})]}),a.jsx("div",{className:"border border-mm-border rounded overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-mm-border/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:"-"}),a.jsx("th",{className:"text-right py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""})]})}),a.jsx("tbody",{children:(m=e.items)==null?void 0:m.map((y,g)=>a.jsxs("tr",{className:"border-t border-mm-border",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text",children:y.article}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text",children:y.name}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text text-right",children:y.quantity}),a.jsxs("td",{className:"py-3 px-4 font-mono text-sm text-mm-text text-right",children:[y.price.toFixed(2)," "]}),a.jsxs("td",{className:"py-3 px-4 font-mono text-sm text-mm-cyan text-right",children:[y.total.toFixed(2)," "]})]},g))}),a.jsx("tfoot",{className:"bg-mm-border/30 border-t border-mm-border",children:a.jsxs("tr",{children:[a.jsx("td",{colSpan:"4",className:"py-3 px-4 text-sm font-mono text-mm-text-secondary text-right uppercase",children:":"}),a.jsxs("td",{className:"py-3 px-4 font-mono text-lg text-mm-cyan text-right font-bold",children:[((x=(p=e.totals)==null?void 0:p.total)==null?void 0:x.toFixed(2))||"0.00"," "]})]})})]})})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsx("h3",{className:"text-sm uppercase font-mono text-mm-cyan mb-4",children:"//   "}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("button",{onClick:o,disabled:n,className:"btn-neon flex items-center space-x-2","data-testid":"print-label-btn",children:[a.jsx(a_,{}),a.jsx("span",{children:n?"...":" "})]}),a.jsxs("button",{onClick:l,disabled:n,className:"px-4 py-2 font-mono text-sm border border-mm-border rounded hover:bg-mm-border transition-colors flex items-center space-x-2","data-testid":"refresh-label-btn",children:[a.jsx(_t,{className:n?"animate-spin":""}),a.jsx("span",{children:""})]})]})]})]})}function kM({order:e,onSplit:t}){const[r,n]=f.useState([{box_number:1,items:e.items.map(u=>({...u}))}]),s=()=>{n([...r,{box_number:r.length+1,items:[]}]),G.success(" ")},i=u=>{if(r.length===1){G.error("   ");return}const m=r.filter((p,x)=>x!==u);n(m),G.success(" ")},o=(u,m,p)=>{const x=[...r];x[u].items[m].quantity=parseInt(p)||0,n(x)},l=(u,m,p)=>{const x=[...r],y=x[u].items[m];x[u].items.splice(m,1),x[p].items.push({...y}),n(x),G.success(" ")},d=async()=>{const u={};e.items.forEach(x=>{u[x.article]=x.quantity});const m={};r.forEach(x=>{x.items.forEach(y=>{m[y.article]=(m[y.article]||0)+y.quantity})});for(const x in u)if(!m[x]||m[x]!==u[x]){G.error(`    ${x}. : ${u[x]}, : ${m[x]||0}`);return}if(r.some(x=>x.items.length===0)){G.error("  ");return}const p={boxes:r.map(x=>({box_number:x.box_number,items:x.items.map(y=>({article:y.article,quantity:y.quantity}))}))};await t(p)},c=e.marketplace!=="wb"&&r.length>1;return e.marketplace==="wb"?a.jsxs("div",{className:"text-center py-12","data-testid":"order-split-tab",children:[a.jsx(vt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary font-mono mb-2",children:"//      Wildberries"}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono",children:"Wildberries    "})]}):a.jsxs("div",{className:"space-y-6","data-testid":"order-split-tab",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm uppercase font-mono text-mm-cyan",children:"//   "}),a.jsx("p",{className:"text-xs text-mm-text-secondary font-mono mt-1",children:"   .    ."})]}),a.jsxs("button",{onClick:s,className:"btn-neon flex items-center space-x-2","data-testid":"add-box-btn",children:[a.jsx(Ir,{}),a.jsx("span",{children:" "})]})]}),a.jsx("div",{className:"space-y-4",children:r.map((u,m)=>a.jsxs("div",{className:"border border-mm-border rounded-lg p-4","data-testid":`box-${m}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h4",{className:"font-mono text-mm-cyan uppercase",children:[" #",u.box_number]}),r.length>1&&a.jsx("button",{onClick:()=>i(m),className:"p-2 text-mm-red hover:bg-mm-red/10 rounded transition-colors","data-testid":`remove-box-${m}`,children:a.jsx(vn,{size:16})})]}),u.items.length===0?a.jsx("p",{className:"text-sm text-mm-text-secondary font-mono text-center py-4",children:"//  .      ."}):a.jsx("div",{className:"space-y-2",children:u.items.map((p,x)=>a.jsxs("div",{className:"flex items-center justify-between bg-mm-border/20 p-3 rounded",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-mono text-mm-text",children:p.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",p.article]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary uppercase font-mono block mb-1",children:"-:"}),a.jsx("input",{type:"number",min:"0",max:p.quantity,value:p.quantity,onChange:y=>o(m,x,y.target.value),className:"w-20 px-2 py-1 bg-mm-dark border border-mm-border rounded text-mm-text font-mono text-center focus:border-mm-cyan outline-none","data-testid":`item-quantity-${m}-${x}`})]}),r.length>1&&a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary uppercase font-mono block mb-1",children:" :"}),a.jsx("select",{onChange:y=>{const g=parseInt(y.target.value);g!==m&&l(m,x,g)},value:m,className:"px-2 py-1 bg-mm-dark border border-mm-border rounded text-mm-text font-mono focus:border-mm-cyan outline-none",children:r.map((y,g)=>a.jsxs("option",{value:g,children:["#",g+1]},g))})]})]})]},x))})]},m))}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-mm-border",children:a.jsx("button",{onClick:d,disabled:!c,className:"btn-neon disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"save-split-btn",children:" "})}),r.length===1&&a.jsx("p",{className:"text-xs text-mm-text-tertiary font-mono text-center",children:"//       "})]})}function _M({history:e}){const t=r=>({status_changed:" ",split:" ",label_printed:" ",label_refreshed:" ",note_added:" ",created:""})[r]||r;return!e||e.length===0?a.jsxs("div",{className:"text-center py-12","data-testid":"order-history-tab",children:[a.jsx(Zn,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary font-mono mb-2",children:"//   "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono",children:"     "})]}):a.jsxs("div",{className:"space-y-4","data-testid":"order-history-tab",children:[a.jsx("h3",{className:"text-sm uppercase font-mono text-mm-cyan mb-4",children:"//  "}),a.jsx("div",{className:"space-y-3",children:e.map((r,n)=>a.jsxs("div",{className:"border border-mm-border rounded-lg p-4 hover:bg-mm-border/10 transition-colors","data-testid":`history-entry-${n}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-mm-cyan/10 rounded",children:a.jsx(Zn,{className:"text-mm-cyan",size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-mono text-mm-text",children:t(r.action||"status_changed")}),a.jsx("p",{className:"text-xs text-mm-text-secondary font-mono",children:new Date(r.changed_at||r.timestamp).toLocaleString("ru-RU")})]})]}),r.changed_by&&a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-mm-text-secondary font-mono",children:[a.jsx(Ci,{size:12}),a.jsx("span",{children:r.changed_by})]})]}),r.status&&a.jsxs("div",{className:"mt-3 pl-11",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-1",children:"// "}),a.jsx("p",{className:"text-sm font-mono text-mm-cyan",children:r.status})]}),r.comment&&a.jsxs("div",{className:"mt-3 pl-11",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-1",children:"// "}),a.jsx("p",{className:"text-sm font-mono text-mm-text",children:r.comment})]}),r.details&&a.jsxs("div",{className:"mt-3 pl-11",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-1",children:"// "}),a.jsx("pre",{className:"text-xs font-mono text-mm-text-tertiary bg-mm-dark p-2 rounded overflow-x-auto",children:JSON.stringify(r.details,null,2)})]})]},n))})]})}function SM({order:e,isOpen:t,onClose:r,onUpdate:n}){const{api:s}=we(),[i,o]=f.useState("info"),[l,d]=f.useState(e),[c,u]=f.useState(!1);f.useEffect(()=>{e&&t&&m()},[e,t]);const m=async()=>{try{u(!0);const g=await s.get(`/api/orders/fbs/${e.id}`);d(g.data)}catch(g){console.error("Failed to load order details:",g),G.error("   ")}finally{u(!1)}},p=async g=>{var v,h;try{await s.post(`/api/orders/fbs/${e.id}/split`,g),G.success("  "),await m(),n&&n()}catch(b){console.error("Failed to split order:",b),G.error("  : "+(((h=(v=b.response)==null?void 0:v.data)==null?void 0:h.detail)||b.message))}},x=async(g,v)=>{try{await s.put(`/api/orders/fbs/${e.id}/status`,{status:g,comment:v}),G.success("  "),await m(),n&&n()}catch(h){console.error("Failed to update status:",h),G.error("  ")}};if(!t||!l)return null;const y=[{id:"info",label:" ",icon:t_},{id:"split",label:" ",icon:vt},{id:"history",label:" ",icon:Zn}];return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-mm-dark/80 backdrop-blur-sm","data-testid":"order-detail-modal",children:a.jsxs("div",{className:"card-neon w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-mm-border p-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-mono text-mm-cyan uppercase mb-1",children:[" ",l.order_number]}),a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:["// ",l.marketplace.toUpperCase()," | ",new Date(l.created_at).toLocaleString("ru-RU")]})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-mm-border rounded transition-colors","data-testid":"close-modal",children:a.jsx(yt,{size:24,className:"text-mm-text-secondary"})})]}),a.jsx("div",{className:"flex border-b border-mm-border px-6",children:y.map(g=>a.jsxs("button",{onClick:()=>o(g.id),className:`flex items-center space-x-2 px-4 py-3 font-mono text-sm transition-colors border-b-2 ${i===g.id?"border-mm-cyan text-mm-cyan":"border-transparent text-mm-text-secondary hover:text-mm-text"}`,"data-testid":`tab-${g.id}`,children:[a.jsx(g.icon,{size:16}),a.jsx("span",{children:g.label})]},g.id))}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:c?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):a.jsxs(a.Fragment,{children:[i==="info"&&a.jsx(NM,{order:l,onStatusUpdate:x}),i==="split"&&a.jsx(kM,{order:l,onSplit:p}),i==="history"&&a.jsx(_M,{history:l.status_history||[]})]})}),a.jsx("div",{className:"border-t border-mm-border p-6 flex justify-end space-x-4",children:a.jsx("button",{onClick:r,className:"px-6 py-2 font-mono text-mm-text-secondary border border-mm-border rounded hover:bg-mm-border transition-colors",children:""})})]})})}function CM({activeStatus:e,onStatusChange:t,stats:r}){const n=[{key:"all",label:"",color:"text-mm-text"},{key:"new",label:"",color:"text-mm-blue"},{key:"imported",label:"",color:"text-mm-blue"},{key:"awaiting_shipment",label:" ",color:"text-mm-yellow"},{key:"delivering",label:" ",color:"text-mm-cyan"},{key:"delivered",label:"",color:"text-mm-green"},{key:"cancelled",label:"",color:"text-mm-red"}],s=i=>i==="all"?r.total||0:r[i]||0;return a.jsx("div",{className:"flex flex-wrap gap-2 mb-6","data-testid":"status-filters",children:n.map(i=>a.jsxs("button",{onClick:()=>t(i.key),className:`px-4 py-2 rounded border font-mono text-sm transition-all ${e===i.key?`${i.color} border-current bg-current/10`:"text-mm-text-secondary border-mm-border hover:border-mm-text-secondary"}`,"data-testid":`status-filter-${i.key}`,children:[i.label,a.jsx("span",{className:"ml-2 opacity-70",children:s(i.key)})]},i.key))})}function PM({selectedCount:e,onPrintLabels:t,onExportExcel:r,onChangeStatus:n,onClearSelection:s}){return e===0?null:a.jsxs("div",{className:"fixed bottom-8 right-8 card-neon p-6 shadow-2xl z-40 min-w-96","data-testid":"bulk-actions-panel",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-mm-text-secondary uppercase font-mono",children:"// "}),a.jsx("p",{className:"text-2xl text-mm-cyan font-mono font-bold",children:e})]}),a.jsx("button",{onClick:s,className:"p-2 hover:bg-mm-border rounded transition-colors","data-testid":"clear-selection",children:a.jsx(yt,{size:20,className:"text-mm-text-secondary"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:t,className:"w-full btn-neon flex items-center justify-center space-x-2","data-testid":"bulk-print-labels",children:[a.jsx(a_,{}),a.jsx("span",{children:" "})]}),a.jsxs("button",{onClick:r,className:"w-full px-4 py-2 bg-mm-green/20 text-mm-green border border-mm-green rounded hover:bg-mm-green/30 transition-colors font-mono text-sm flex items-center justify-center space-x-2","data-testid":"bulk-export-excel",children:[a.jsx(Vt,{}),a.jsx("span",{children:"  EXCEL"})]}),a.jsxs("button",{onClick:n,className:"w-full px-4 py-2 bg-mm-border/50 text-mm-text border border-mm-border rounded hover:bg-mm-border transition-colors font-mono text-sm flex items-center justify-center space-x-2","data-testid":"bulk-change-status",children:[a.jsx(Ua,{}),a.jsx("span",{children:" "})]})]})]})}function EM(){const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState([]),[i,o]=f.useState(!1),[l,d]=f.useState(!1),[c,u]=f.useState(null),[m,p]=f.useState(!1),[x,y]=f.useState("all"),[g,v]=f.useState([]),[h,b]=f.useState({}),[j,k]=f.useState(!1),[N,w]=f.useState("");f.useEffect(()=>{P()},[]),f.useEffect(()=>{C()},[t,x,N]);const P=async()=>{try{o(!0);const $=await e.get("/api/orders/fbs");r($.data),_($.data)}catch($){console.error("Failed to load FBS orders:",$)}finally{o(!1)}},_=$=>{const X={total:$.length,new:0,imported:0,awaiting_shipment:0,delivering:0,delivered:0,cancelled:0};$.forEach(T=>{X.hasOwnProperty(T.status)&&X[T.status]++}),b(X)},C=()=>{let $=t;if(x!=="all"&&($=$.filter(X=>X.status===x)),N.trim()){const X=N.toLowerCase().trim();$=$.filter(T=>{var D,q;const Q=(D=T.items)==null?void 0:D.some(ie=>{var oe,U;return((oe=ie.article)==null?void 0:oe.toLowerCase().includes(X))||((U=ie.name)==null?void 0:U.toLowerCase().includes(X))}),J=(q=T.order_number)==null?void 0:q.toLowerCase().includes(X);return Q||J})}s($)},O=$=>{u($),p(!0)},S=()=>{p(!1),u(null)},E=()=>{P()},I=$=>{v(X=>X.includes($)?X.filter(T=>T!==$):[...X,$])},A=()=>{g.length===n.length?v([]):v(n.map($=>$.id))},M=async()=>{try{G.loading(" ...");const $=await e.post("/api/orders/fbs/labels/bulk",{order_ids:g});$.data.labels.forEach((X,T)=>{setTimeout(()=>{window.open(X.label_url,"_blank")},T*500)}),G.dismiss(),G.success(` ${$.data.labels.length} `),$.data.errors.length>0&&G.warning(`: ${$.data.errors.length}`)}catch{G.dismiss(),G.error("  ")}},B=async()=>{try{G.loading(" ...");const $=n.filter(q=>g.includes(q.id)),X=["ID ",""," ","","","",""," "],T=$.map(q=>{var ie,oe,U;return[q.order_number,q.marketplace.toUpperCase(),new Date(q.created_at).toLocaleString("ru-RU"),q.status,((ie=q.customer)==null?void 0:ie.full_name)||"",(oe=q.items)==null?void 0:oe.map(ue=>`${ue.article} (${ue.quantity})`).join("; "),((U=q.totals)==null?void 0:U.total)||0,q.stock_updated?"":""]}),Q=[X.join(","),...T.map(q=>q.map(ie=>`"${ie}"`).join(","))].join(`
`),J=new Blob(["\uFEFF"+Q],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a");D.href=URL.createObjectURL(J),D.download=`orders_fbs_${new Date().toISOString().split("T")[0]}.csv`,D.click(),G.dismiss(),G.success(" ")}catch{G.dismiss(),G.error(" ")}},W=()=>{G.info("  ")},L=async()=>{var $,X;try{k(!0),G.loading("   ...");const T=await e.post("/api/orders/fbs/refresh-statuses",{});G.dismiss(),G.success(` : ${T.data.updated}`),await P()}catch(T){G.dismiss(),G.error("  : "+(((X=($=T.response)==null?void 0:$.data)==null?void 0:X.detail)||T.message))}finally{k(!1)}},R=$=>{const T={new:{color:"text-mm-blue border-mm-blue",label:""},awaiting_shipment:{color:"text-mm-yellow border-mm-yellow",label:" "},delivering:{color:"text-mm-cyan border-mm-cyan",label:""},delivered:{color:"text-mm-green border-mm-green",label:""},cancelled:{color:"text-mm-red border-mm-red",label:""},imported:{color:"text-mm-blue border-mm-blue",label:""}}[$]||{color:"text-mm-text-secondary border-mm-border",label:$};return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${T.color} rounded`,children:T.label})};return a.jsxs("div",{className:"space-y-4","data-testid":"fbs-orders-list",children:[a.jsx(CM,{activeStatus:x,onStatusChange:y,stats:h}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(vt,{className:"text-mm-cyan"}),a.jsx("input",{type:"text",placeholder:"  ,     ...",value:N,onChange:$=>w($.target.value),className:"input-neon flex-1","data-testid":"search-input"}),N&&a.jsx("button",{onClick:()=>w(""),className:"text-mm-text-secondary hover:text-mm-cyan transition-colors",children:""})]}),N&&a.jsxs("p",{className:"text-xs text-mm-text-tertiary mt-2 font-mono",children:[" : ",n.length]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[" : ",a.jsx("span",{className:"text-mm-cyan",children:n.length}),g.length>0&&a.jsxs("span",{className:"ml-4",children:[": ",a.jsx("span",{className:"text-mm-cyan",children:g.length})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:L,disabled:j,className:"px-4 py-2 border border-mm-cyan text-mm-cyan rounded hover:bg-mm-cyan/10 transition-colors font-mono text-sm flex items-center space-x-2 disabled:opacity-50","data-testid":"refresh-statuses-btn",children:[a.jsx(_t,{className:j?"animate-spin":""}),a.jsx("span",{children:j?"...":" "})]}),a.jsxs("button",{onClick:()=>d(!0),className:"btn-neon flex items-center space-x-2","data-testid":"open-import-modal",children:[a.jsx(Vt,{}),a.jsx("span",{children:" "})]})]})]}),i?a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):n.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(vt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2 font-mono",children:x==="all"?" FBS  ":`    "${x}"`}),a.jsxs("p",{className:"text-sm text-mm-text-tertiary font-mono mb-4",children:["// ",x==="all"?' " "  ':"    "]}),x==="all"&&a.jsxs("button",{onClick:()=>d(!0),className:"btn-neon inline-flex items-center space-x-2",children:[a.jsx(Vt,{}),a.jsx("span",{children:" "})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"py-4 px-4",children:a.jsx("input",{type:"checkbox",checked:g.length===n.length&&n.length>0,onChange:A,className:"w-4 h-4 bg-mm-dark border-mm-border rounded cursor-pointer","data-testid":"select-all-checkbox"})}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:" "}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:n.map($=>{var X,T,Q;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${$.id}`,children:[a.jsx("td",{className:"py-4 px-4",children:a.jsx("input",{type:"checkbox",checked:g.includes($.id),onChange:()=>I($.id),className:"w-4 h-4 bg-mm-dark border-mm-border rounded cursor-pointer","data-testid":`select-order-${$.id}`})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:$.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm uppercase",children:$.marketplace}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date($.created_at).toLocaleDateString("ru-RU")}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:((X=$.items)==null?void 0:X.length)>0?a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"text-mm-cyan text-xs mb-1",children:$.items.map(J=>J.article).join(", ")}),a.jsxs("div",{className:"text-mm-text-tertiary text-xs",children:[$.items.length," ",$.items.length===1?"":$.items.length<5?"":""]})]}):a.jsx("span",{className:"text-mm-text-tertiary",children:""})}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[(Q=(T=$.totals)==null?void 0:T.total)==null?void 0:Q.toLocaleString("ru-RU"),""]}),a.jsx("td",{className:"py-4 px-4",children:R($.status)}),a.jsx("td",{className:"py-4 px-4 text-center",children:$.stock_updated?a.jsx("span",{className:"text-mm-green",children:""}):a.jsx("span",{className:"text-mm-text-tertiary",children:"-"})}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{onClick:()=>O($),className:"btn-neon-sm flex items-center space-x-1 ml-auto","data-testid":`view-order-${$.id}`,children:[a.jsx(am,{size:14}),a.jsx("span",{children:""})]})})]},$.id)})})]})})}),l&&a.jsx(g_,{type:"fbs",onClose:()=>d(!1),onSuccess:P}),m&&c&&a.jsx(SM,{order:c,isOpen:m,onClose:S,onUpdate:E}),a.jsx(PM,{selectedCount:g.length,onPrintLabels:M,onExportExcel:B,onChangeStatus:W,onClearSelection:()=>v([])})]})}function OM(){const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState(!1);f.useEffect(()=>{l()},[]);const l=async()=>{try{s(!0);const c=await e.get("/api/orders/fbo");r(c.data)}catch(c){console.error("Failed to load FBO orders:",c)}finally{s(!1)}},d=c=>{const m={processing:{color:"text-mm-blue border-mm-blue",label:""},shipped:{color:"text-mm-cyan border-mm-cyan",label:""},delivered:{color:"text-mm-green border-mm-green",label:""},cancelled:{color:"text-mm-red border-mm-red",label:""},imported:{color:"text-mm-blue border-mm-blue",label:""}}[c]||{color:"text-mm-text-secondary border-mm-border",label:c};return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${m.color} rounded`,children:m.label})};return a.jsxs("div",{className:"space-y-4","data-testid":"fbo-orders-list",children:[a.jsx("div",{className:"bg-mm-purple/10 border border-mm-purple p-4 rounded",children:a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[a.jsx("span",{className:"text-mm-purple font-bold",children:" FBO :"}),"    .    ,      ."]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[" : ",a.jsx("span",{className:"text-mm-purple",children:t.length})]}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon flex items-center space-x-2","data-testid":"open-import-modal",children:[a.jsx(Vt,{}),a.jsx("span",{children:"  FBO"})]})]}),n?a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(o_,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2 font-mono",children:" FBO  "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono mb-4",children:'//  "  FBO"  '}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon inline-flex items-center space-x-2",children:[a.jsx(Vt,{}),a.jsx("span",{children:"  FBO"})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:" "}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(c=>{var u,m,p;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${c.id}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-purple",children:c.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm uppercase",children:c.marketplace}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:c.warehouse_name}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(c.created_at).toLocaleDateString("ru-RU")}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[((u=c.items)==null?void 0:u.length)||0," "]}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[(p=(m=c.totals)==null?void 0:m.total)==null?void 0:p.toLocaleString("ru-RU"),""]}),a.jsx("td",{className:"py-4 px-4",children:d(c.status)}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{className:"btn-neon-sm flex items-center space-x-1 ml-auto","data-testid":`view-order-${c.id}`,children:[a.jsx(am,{size:14}),a.jsx("span",{children:""})]})})]},c.id)})})]})})}),i&&a.jsx(g_,{type:"fbo",onClose:()=>o(!1),onSuccess:l})]})}function AM({onCancel:e,onSuccess:t}){const{api:r}=we(),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,d]=f.useState(!1),[c,u]=f.useState({warehouse_id:"",order_date:new Date().toISOString().split("T")[0],customer:{full_name:"",phone:"",email:"",address:""},items:[],payment_method:"cash",notes:""}),[m,p]=f.useState(""),[x,y]=f.useState([]);f.useEffect(()=>{g(),v()},[]);const g=async()=>{try{const _=await r.get("/api/warehouses");s(_.data)}catch(_){console.error("Failed to load warehouses:",_),G.error("  ")}},v=async()=>{try{const _=await r.get("/api/catalog/products?limit=1000"),C=Array.isArray(_.data)?_.data:_.data.products||[];o(C),console.log(`Loaded ${C.length} products for search`)}catch(_){console.error("Failed to load products:",_),G.error("  ")}},h=_=>{if(p(_),!_){y([]);return}const C=i.filter(O=>{var S,E;return((S=O.article)==null?void 0:S.toLowerCase().includes(_.toLowerCase()))||((E=O.name)==null?void 0:E.toLowerCase().includes(_.toLowerCase()))});y(C.slice(0,10))},b=_=>{var O;if(c.items.find(S=>S.article===_.article)){G.warning("  ");return}const C={product_id:_.id,article:_.article,name:_.name,image:((O=_.images)==null?void 0:O[0])||null,price:_.price_with_discount/100||0,quantity:1,total:_.price_with_discount/100||0};u({...c,items:[...c.items,C]}),p(""),y([])},j=_=>{const C=c.items.filter((O,S)=>S!==_);u({...c,items:C})},k=(_,C)=>{const O=[...c.items];O[_].quantity=parseInt(C)||1,O[_].total=O[_].price*O[_].quantity,u({...c,items:O})},N=(_,C)=>{const O=[...c.items];O[_].price=parseFloat(C)||0,O[_].total=O[_].price*O[_].quantity,u({...c,items:O})},w=()=>c.items.reduce((_,C)=>_+C.total,0),P=async _=>{var C,O;if(_.preventDefault(),!c.warehouse_id){G.error(" ");return}if(c.items.length===0){G.error("    ");return}if(!c.customer.full_name||!c.customer.phone){G.error("  ");return}try{d(!0),await r.post("/api/orders/retail",c),t()}catch(S){console.error("Failed to create retail order:",S),G.error(((O=(C=S.response)==null?void 0:C.data)==null?void 0:O.detail)||"  ")}finally{d(!1)}};return a.jsxs("div",{className:"space-y-6","data-testid":"retail-order-form",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-mono text-mm-green uppercase",children:"  "}),a.jsx("button",{onClick:e,className:"btn-neon-sm","data-testid":"cancel-form",children:a.jsx(yt,{})})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("h4",{className:"text-sm font-mono text-mm-text-secondary mb-4 uppercase",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:"  *"}),a.jsx("input",{type:"date",className:"input-neon w-full",value:c.order_date,onChange:_=>u({...c,order_date:_.target.value}),required:!0,"data-testid":"order-date"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" *"}),a.jsxs("select",{className:"input-neon w-full",value:c.warehouse_id,onChange:_=>u({...c,warehouse_id:_.target.value}),required:!0,"data-testid":"select-warehouse",children:[a.jsx("option",{value:"",children:" "}),n.map(_=>a.jsx("option",{value:_.id,children:_.name},_.id))]})]})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("h4",{className:"text-sm font-mono text-mm-text-secondary mb-4 uppercase",children:""}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("input",{type:"text",placeholder:"  *",className:"input-neon",value:c.customer.full_name,onChange:_=>u({...c,customer:{...c.customer,full_name:_.target.value}}),required:!0,"data-testid":"customer-name"}),a.jsx("input",{type:"tel",placeholder:" *",className:"input-neon",value:c.customer.phone,onChange:_=>u({...c,customer:{...c.customer,phone:_.target.value}}),required:!0,"data-testid":"customer-phone"}),a.jsx("input",{type:"email",placeholder:"Email",className:"input-neon",value:c.customer.email,onChange:_=>u({...c,customer:{...c.customer,email:_.target.value}}),"data-testid":"customer-email"}),a.jsx("input",{type:"text",placeholder:"",className:"input-neon",value:c.customer.address,onChange:_=>u({...c,customer:{...c.customer,address:_.target.value}}),"data-testid":"customer-address"})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("h4",{className:"text-sm font-mono text-mm-text-secondary mb-4 uppercase",children:""}),a.jsxs("div",{className:"mb-4 relative",children:[a.jsx("input",{type:"text",placeholder:"     ...",className:"input-neon w-full",value:m,onChange:_=>h(_.target.value),"data-testid":"product-search"}),x.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-2 bg-mm-gray border border-mm-border rounded max-h-60 overflow-y-auto",children:x.map(_=>a.jsxs("div",{className:"p-3 hover:bg-mm-cyan/10 cursor-pointer border-b border-mm-border last:border-b-0",onClick:()=>b(_),"data-testid":`search-result-${_.id}`,children:[a.jsx("p",{className:"font-mono text-sm text-mm-cyan",children:_.article}),a.jsx("p",{className:"font-mono text-xs text-mm-text-secondary",children:_.name}),a.jsxs("p",{className:"font-mono text-xs text-mm-text-tertiary",children:[(_.price_with_discount/100).toFixed(2),""]})]},_.id))})]}),c.items.length===0?a.jsx("p",{className:"text-center text-mm-text-tertiary font-mono text-sm py-4",children:"//    "}):a.jsxs("div",{className:"space-y-2",children:[c.items.map((_,C)=>a.jsxs("div",{className:"flex items-center space-x-4 border border-mm-border rounded p-3","data-testid":`item-${C}`,children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-mono text-sm text-mm-cyan",children:_.article}),a.jsx("p",{className:"font-mono text-xs text-mm-text-secondary",children:_.name})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary block mb-1",children:"-"}),a.jsx("input",{type:"number",min:"1",className:"input-neon w-20 text-center",value:_.quantity,onChange:O=>k(C,O.target.value),"data-testid":`quantity-${C}`})]}),a.jsx("span",{className:"font-mono text-sm text-mm-text-secondary pt-5",children:""}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary block mb-1",children:", "}),a.jsx("input",{type:"number",min:"0",step:"0.01",className:"input-neon w-32 text-right",value:_.price,onChange:O=>N(C,O.target.value),"data-testid":`price-${C}`})]}),a.jsx("div",{className:"pt-5",children:a.jsx("span",{className:"font-mono text-sm text-mm-text-secondary",children:"="})}),a.jsx("div",{className:"pt-5",children:a.jsxs("span",{className:"font-mono text-sm text-mm-green w-32 text-right block font-bold",children:[_.total.toFixed(2),""]})}),a.jsx("button",{type:"button",onClick:()=>j(C),className:"text-mm-red hover:text-mm-red/80 pt-5","data-testid":`remove-${C}`,children:a.jsx(vn,{})})]})]},C)),a.jsx("div",{className:"border-t border-mm-border pt-4 mt-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-mono text-sm text-mm-text-secondary uppercase",children:":"}),a.jsxs("span",{className:"font-mono text-xl text-mm-green",children:[w().toFixed(2),""]})]})})]})]}),a.jsx("div",{className:"card-neon p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" "}),a.jsxs("select",{className:"input-neon w-full",value:c.payment_method,onChange:_=>u({...c,payment_method:_.target.value}),"data-testid":"payment-method",children:[a.jsx("option",{value:"cash",children:""}),a.jsx("option",{value:"card",children:""}),a.jsx("option",{value:"transfer",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:""}),a.jsx("input",{type:"text",className:"input-neon w-full",value:c.notes,onChange:_=>u({...c,notes:_.target.value}),placeholder:" ","data-testid":"notes"})]})]})}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:e,className:"btn-neon-outline",disabled:l,children:""}),a.jsx("button",{type:"submit",className:"btn-neon",disabled:l||c.items.length===0,"data-testid":"submit-order",children:l?"...":" "})]})]})]})}function TM(){const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,d]=f.useState({status:"",date_from:"",date_to:""});f.useEffect(()=>{c()},[l]);const c=async()=>{try{s(!0);const x=new URLSearchParams;l.status&&x.append("status",l.status),l.date_from&&x.append("date_from",l.date_from),l.date_to&&x.append("date_to",l.date_to);const y=await e.get(`/api/orders/retail?${x.toString()}`);r(y.data)}catch(x){console.error("Failed to load retail orders:",x),G.error("   ")}finally{s(!1)}},u=()=>{o(!1),c(),G.success("   !")},m=x=>{const g={new:{color:"text-mm-blue border-mm-blue",label:""},processing:{color:"text-mm-yellow border-mm-yellow",label:""},completed:{color:"text-mm-green border-mm-green",label:""},cancelled:{color:"text-mm-red border-mm-red",label:""}}[x]||{color:"text-mm-text-secondary border-mm-border",label:x};return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${g.color} rounded`,children:g.label})},p=x=>{const y={reserved:{color:"text-mm-yellow border-mm-yellow",label:""},deducted:{color:"text-mm-green border-mm-green",label:""},returned:{color:"text-mm-blue border-mm-blue",label:""},none:{color:"text-mm-text-tertiary border-mm-border",label:"-"}},g=y[x]||y.none;return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${g.color} rounded`,children:g.label})};return i?a.jsx(AM,{onCancel:()=>o(!1),onSuccess:u}):a.jsxs("div",{className:"space-y-4","data-testid":"retail-orders-list",children:[a.jsx("div",{className:"card-neon p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:""}),a.jsxs("select",{className:"input-neon w-full",value:l.status,onChange:x=>d({...l,status:x.target.value}),"data-testid":"filter-status",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"new",children:""}),a.jsx("option",{value:"processing",children:""}),a.jsx("option",{value:"completed",children:""}),a.jsx("option",{value:"cancelled",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" "}),a.jsx("input",{type:"date",className:"input-neon w-full",value:l.date_from,onChange:x=>d({...l,date_from:x.target.value}),"data-testid":"filter-date-from"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" "}),a.jsx("input",{type:"date",className:"input-neon w-full",value:l.date_to,onChange:x=>d({...l,date_to:x.target.value}),"data-testid":"filter-date-to"})]})]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[" : ",a.jsx("span",{className:"text-mm-green",children:t.length})]}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon flex items-center space-x-2","data-testid":"create-retail-order",children:[a.jsx(Ir,{}),a.jsx("span",{children:" "})]})]}),n?a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(YI,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2 font-mono",children:"   "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono mb-4",children:"//   "}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon inline-flex items-center space-x-2",children:[a.jsx(Ir,{}),a.jsx("span",{children:" "})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(x=>{var y,g,v,h;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${x.id}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-green",children:x.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(x.created_at).toLocaleDateString("ru-RU")}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:((y=x.customer)==null?void 0:y.full_name)||"-"}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[((g=x.items)==null?void 0:g.length)||0," "]}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[(h=(v=x.totals)==null?void 0:v.total)==null?void 0:h.toLocaleString("ru-RU"),""]}),a.jsx("td",{className:"py-4 px-4",children:m(x.status)}),a.jsx("td",{className:"py-4 px-4",children:p(x.reserve_status)}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{className:"btn-neon-sm flex items-center space-x-1 ml-auto","data-testid":`view-order-${x.id}`,children:[a.jsx(am,{size:14}),a.jsx("span",{children:""})]})})]},x.id)})})]})})})]})}function Cc({section:e}){const t=Ja(),r=e||(t.pathname.includes("/fbs")?"fbs":t.pathname.includes("/fbo")?"fbo":t.pathname.includes("/retail")?"retail":"fbs"),n=()=>{switch(r){case"fbs":return"FBS (  )";case"fbo":return"FBO (  )";case"retail":return" ";default:return""}};return a.jsxs("div",{className:"space-y-6","data-testid":"orders-page",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase font-mono",children:n()}),a.jsx("p",{className:"text-sm text-mm-text-secondary font-mono",children:"//  "})]})}),a.jsxs("div",{children:[r==="fbs"&&a.jsx(EM,{}),r==="fbo"&&a.jsx(OM,{}),r==="retail"&&a.jsx(TM,{})]})]})}const v_=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},DM=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);return v_(t)},IM=()=>v_(new Date);function MM(){var b,j,k,N,w,P,_,C,O,S,E,I,A,M,B,W,L,R,$,X,T,Q,J,D,q,ie,oe,U,ue,he,Z,Y,ae,be,H,ee,le,ve,z,ne,F,se,ce,Ne,je,ke,Ie;const{api:e}=we(),[t,r]=f.useState(!1),[n,s]=f.useState(!1),[i,o]=f.useState(null),[l,d]=f.useState(null),[c,u]=f.useState(DM()),[m,p]=f.useState(IM()),x=async()=>{var ye,Pe;s(!0),d(null);try{const Se=await e.post("/api/profit-analytics/sync-ozon-data",null,{params:{date_from:c,date_to:m}});alert(`  !

 : ${Se.data.statistics.total_transactions}
: ${Se.data.statistics.saved}
: ${Se.data.statistics.updated}`),await y()}catch(Se){console.error("Sync failed:",Se);const de=((Pe=(ye=Se.response)==null?void 0:ye.data)==null?void 0:Pe.detail)||Se.message||" ";d(` : ${de}`)}s(!1)},y=async()=>{var ye,Pe;r(!0),d(null);try{const Se=await e.get("/api/profit-analytics/profit-report",{params:{date_from:c,date_to:m}});console.log("Report response:",Se.data),Se.data&&Se.data.revenue&&Se.data.expenses&&Se.data.profit?o(Se.data):(d("    "),o(null))}catch(Se){console.error("Failed to load report:",Se);const de=((Pe=(ye=Se.response)==null?void 0:ye.data)==null?void 0:Pe.detail)||Se.message||" ";d(`  : ${de}`),o(null)}r(!1)},g=async()=>{try{const ye=await e.get("/api/profit-analytics/export-profit-report",{params:{date_from:c,date_to:m},responseType:"blob"}),Pe=window.URL.createObjectURL(new Blob([ye.data])),Se=document.createElement("a");Se.href=Pe,Se.setAttribute("download",`profit_report_${c}_${m}.xlsx`),document.body.appendChild(Se),Se.click(),Se.remove(),alert("  !")}catch(ye){console.error("Export failed:",ye),alert("  ")}},v=ye=>((ye==null||isNaN(ye))&&(ye=0),new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2}).format(ye)),h=ye=>((ye==null||isNaN(ye))&&(ye=0),`${ye.toFixed(2)}%`);return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"   "}),a.jsx("p",{className:"comment",children:"//     "})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsx("input",{type:"date",value:c,onChange:ye=>u(ye.target.value),className:"input-mono w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsx("input",{type:"date",value:m,onChange:ye=>p(ye.target.value),className:"input-mono w-full"})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:x,disabled:n,className:"btn-primary w-full flex items-center justify-center gap-2",children:[a.jsx(_t,{className:n?"animate-spin":""}),n?"...":""]})}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:y,disabled:t,className:"btn-primary w-full",children:t?"...":" "})})]}),i&&a.jsx("div",{className:"mt-4 pt-4 border-t border-mm-border flex justify-end",children:a.jsxs("button",{onClick:g,className:"btn-secondary flex items-center gap-2",children:[a.jsx(Vt,{}),"  EXCEL"]})})]}),l&&a.jsx("div",{className:"card-neon p-6 border-mm-red border-2",children:a.jsx("p",{className:"text-mm-red",children:l})}),t?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"//  ..."})}):i?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono",children:""}),a.jsx(Jn,{className:"text-mm-cyan",size:24})]}),a.jsx("div",{className:"text-3xl font-mono text-mm-cyan mb-2",children:v((b=i==null?void 0:i.revenue)==null?void 0:b.net_sales)}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:[": ",v((j=i==null?void 0:i.revenue)==null?void 0:j.gross_sales)]})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono",children:""}),a.jsx(Si,{className:"text-mm-red",size:24})]}),a.jsx("div",{className:"text-3xl font-mono text-mm-red mb-2",children:v((k=i==null?void 0:i.expenses)==null?void 0:k.total_expenses)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:" "})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono",children:" "}),a.jsx(Wa,{className:(((N=i==null?void 0:i.profit)==null?void 0:N.net_profit)??0)>=0?"text-mm-green":"text-mm-red",size:24})]}),a.jsx("div",{className:`text-3xl font-mono mb-2 ${(((w=i==null?void 0:i.profit)==null?void 0:w.net_profit)??0)>=0?"text-mm-green":"text-mm-red"}`,children:v((P=i==null?void 0:i.profit)==null?void 0:P.net_profit)}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:[": ",h((_=i==null?void 0:i.profit)==null?void 0:_.net_margin_pct)]})]})]}),a.jsxs("div",{className:"card-neon overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-mm-border",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase",children:"     (P&L)"}),a.jsxs("p",{className:"comment mt-1",children:["// : ",c," - ",m]}),(i==null?void 0:i.statistics)&&a.jsxs("p",{className:"comment",children:["// : ",i.statistics.total_transactions||0]})]}),a.jsxs("div",{className:"p-6 space-y-6 font-mono",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-cyan"}),a.jsx("h4",{className:"text-mm-cyan uppercase",children:""})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" "}),a.jsx("span",{children:v((C=i==null?void 0:i.revenue)==null?void 0:C.gross_sales)})]}),a.jsxs("div",{className:"flex justify-between text-mm-red",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:v((O=i==null?void 0:i.revenue)==null?void 0:O.returns)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-mm-cyan",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((S=i==null?void 0:i.revenue)==null?void 0:S.net_sales)})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-text-secondary"}),a.jsx("h4",{className:"text-mm-text-secondary uppercase",children:"  (COGS)"})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"   "}),a.jsx("span",{className:"text-mm-text-secondary",children:v((E=i==null?void 0:i.cogs)==null?void 0:E.total)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-lg",children:[a.jsx("span",{className:"text-mm-green",children:"  "}),a.jsx("span",{className:"text-mm-green",children:v((I=i==null?void 0:i.profit)==null?void 0:I.gross_profit)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{className:"text-mm-text-tertiary",children:h((A=i==null?void 0:i.profit)==null?void 0:A.gross_margin_pct)})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-red"}),a.jsx("h4",{className:"text-mm-red uppercase",children:""})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"1  "}),a.jsxs("div",{className:"pl-4 space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsx("span",{children:v((B=(M=i==null?void 0:i.expenses)==null?void 0:M.commissions)==null?void 0:B.marketplace_base)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"    (9%)"}),a.jsx("span",{children:v((L=(W=i==null?void 0:i.expenses)==null?void 0:W.commissions)==null?void 0:L.bonus_commission)})]}),a.jsxs("div",{className:"flex justify-between font-bold pt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v(($=(R=i==null?void 0:i.expenses)==null?void 0:R.commissions)==null?void 0:$.total)})]})]})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"2 "}),a.jsxs("div",{className:"pl-4 space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"   "}),a.jsx("span",{children:v((T=(X=i==null?void 0:i.expenses)==null?void 0:X.logistics)==null?void 0:T.delivery_to_customer)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsx("span",{children:v((J=(Q=i==null?void 0:i.expenses)==null?void 0:Q.logistics)==null?void 0:J.last_mile)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsx("span",{children:v((q=(D=i==null?void 0:i.expenses)==null?void 0:D.logistics)==null?void 0:q.returns)})]}),a.jsxs("div",{className:"flex justify-between font-bold pt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((oe=(ie=i==null?void 0:i.expenses)==null?void 0:ie.logistics)==null?void 0:oe.total)})]})]})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"3  "}),a.jsxs("div",{className:"pl-4 space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{children:v((ue=(U=i==null?void 0:i.expenses)==null?void 0:U.services)==null?void 0:ue.storage)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{children:v((Z=(he=i==null?void 0:i.expenses)==null?void 0:he.services)==null?void 0:Z.acquiring)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"   "}),a.jsx("span",{children:v((ae=(Y=i==null?void 0:i.expenses)==null?void 0:Y.services)==null?void 0:ae.pvz_fees)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{children:v((H=(be=i==null?void 0:i.expenses)==null?void 0:be.services)==null?void 0:H.packaging)})]}),a.jsxs("div",{className:"flex justify-between font-bold pt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((le=(ee=i==null?void 0:i.expenses)==null?void 0:ee.services)==null?void 0:le.total)})]})]})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"4 "}),a.jsx("div",{className:"pl-4 space-y-1",children:a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((z=(ve=i==null?void 0:i.expenses)==null?void 0:ve.penalties)==null?void 0:z.total)})]})})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"5  "}),a.jsx("div",{className:"pl-4 space-y-1",children:a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((F=(ne=i==null?void 0:i.expenses)==null?void 0:ne.other_expenses)==null?void 0:F.total)})]})})]}),a.jsx("div",{className:"pl-6 pt-4 border-t border-mm-border",children:a.jsxs("div",{className:"flex justify-between font-bold text-lg text-mm-red",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((se=i==null?void 0:i.expenses)==null?void 0:se.total_expenses)})]})})]}),a.jsxs("div",{className:"pt-4 border-t-2 border-mm-cyan",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-green"}),a.jsx("h4",{className:"text-mm-green uppercase",children:" "})]}),a.jsxs("div",{className:"pl-6 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-lg font-bold text-mm-green",children:[a.jsx("span",{children:"  "}),a.jsx("span",{children:v((ce=i==null?void 0:i.profit)==null?void 0:ce.operating_profit)})]}),a.jsxs("div",{className:"flex justify-between text-sm text-mm-text-secondary",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:h((Ne=i==null?void 0:i.profit)==null?void 0:Ne.operating_margin_pct)})]}),a.jsxs("div",{className:"pt-3 mt-3 border-t border-mm-border",children:[a.jsxs("div",{className:`flex justify-between text-2xl font-bold ${(((je=i==null?void 0:i.profit)==null?void 0:je.net_profit)??0)>=0?"text-mm-green":"text-mm-red"}`,children:[a.jsx("span",{children:"  "}),a.jsx("span",{children:v((ke=i==null?void 0:i.profit)==null?void 0:ke.net_profit)})]}),a.jsxs("div",{className:"flex justify-between text-sm text-mm-text-secondary mt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:h((Ie=i==null?void 0:i.profit)==null?void 0:Ie.net_margin_pct)})]}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-2 italic",children:"//      "})]})]})]})]})]})]}):!t&&!l?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx("p",{className:"text-mm-text-secondary mb-2",children:'    " "'}),a.jsx("p",{className:"comment",children:"//      "})]}):null]})}const b_=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},LM=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);return b_(t)},$M=()=>b_(new Date);function RM(){const{api:e}=we(),[t,r]=f.useState(!1),[n,s]=f.useState([]),[i,o]=f.useState(0),[l,d]=f.useState(LM()),[c,u]=f.useState($M()),[m]=f.useState(50),[p,x]=f.useState(0),[y,g]=f.useState(null),v=async()=>{var w,P;r(!0);try{const _=await e.get("/api/profit-analytics/transactions",{params:{date_from:l,date_to:c,limit:m,offset:p}});s(_.data.transactions||[]),o(_.data.total_count||0)}catch(_){console.error("Failed to load transactions:",_),alert(" : "+(((P=(w=_.response)==null?void 0:w.data)==null?void 0:P.detail)||_.message))}r(!1)};f.useEffect(()=>{v()},[p]);const h=w=>((w==null||isNaN(w))&&(w=0),new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2}).format(w)),b=w=>w?new Date(w).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",j=w=>{g(y===w?null:w)},k=()=>{p+m<i&&x(p+m)},N=()=>{p>0&&x(Math.max(0,p-m))};return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:""}),a.jsx("p",{className:"comment",children:"//    "})]}),a.jsx("div",{className:"card-neon p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsx("input",{type:"date",value:l,onChange:w=>d(w.target.value),className:"input-mono w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsx("input",{type:"date",value:c,onChange:w=>u(w.target.value),className:"input-mono w-full"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{x(0),v()},disabled:t,className:"btn-primary w-full",children:t?"...":""})})]})}),t?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// ..."})}):n.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx("p",{className:"text-mm-text-secondary mb-2",children:" "}),a.jsx("p",{className:"comment",children:"//   "})]}):a.jsxs("div",{className:"card-neon overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" "}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:n.map(w=>{var O,S,E,I,A,M,B,W,L,R,$,X,T,Q,J,D,q,ie;const P=(((S=(O=w.breakdown)==null?void 0:O.commission)==null?void 0:S.total)||0)+(((I=(E=w.breakdown)==null?void 0:E.logistics)==null?void 0:I.total)||0)+(((M=(A=w.breakdown)==null?void 0:A.services)==null?void 0:M.total)||0)+(((W=(B=w.breakdown)==null?void 0:B.penalties)==null?void 0:W.total)||0),_=w.amount-P,C=y===w._id;return a.jsxs(te.Fragment,{children:[a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:b(w.operation_date)}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:w.order_id||"-"}),a.jsxs("td",{className:"py-4 px-4 text-sm",children:[((L=w.items)==null?void 0:L.length)||0," "]}),a.jsx("td",{className:"py-4 px-4 text-right font-mono text-sm",children:h(w.amount)}),a.jsx("td",{className:"py-4 px-4 text-right font-mono text-sm text-mm-red",children:h(P)}),a.jsx("td",{className:`py-4 px-4 text-right font-mono text-sm font-bold ${_>=0?"text-mm-green":"text-mm-red"}`,children:h(_)}),a.jsx("td",{className:"py-4 px-4 text-center",children:a.jsx("button",{onClick:()=>j(w._id),className:"text-mm-cyan hover:text-mm-text transition-colors",children:C?a.jsx(Oy,{size:20}):a.jsx(Vi,{size:20})})})]}),C&&a.jsx("tr",{className:"bg-mm-gray border-b border-mm-border",children:a.jsx("td",{colSpan:"7",className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 font-mono text-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-cyan uppercase mb-3",children:""}),a.jsx("div",{className:"space-y-2",children:((R=w.items)==null?void 0:R.map((oe,U)=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:oe.name||oe.sku}),a.jsxs("span",{children:[h(oe.price),"  ",oe.quantity]})]},U)))||a.jsx("p",{className:"text-mm-text-tertiary",children:" "})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-red uppercase mb-3",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" "}),a.jsx("span",{children:h((X=($=w.breakdown)==null?void 0:$.commission)==null?void 0:X.total)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:h((Q=(T=w.breakdown)==null?void 0:T.logistics)==null?void 0:Q.total)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:h((D=(J=w.breakdown)==null?void 0:J.services)==null?void 0:D.total)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:h((ie=(q=w.breakdown)==null?void 0:q.penalties)==null?void 0:ie.total)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-mm-red",children:[a.jsx("span",{children:""}),a.jsx("span",{children:h(P)})]})]})]})]})})})]},w._id)})})]})}),a.jsxs("div",{className:"p-4 border-t border-mm-border flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-mm-text-secondary font-mono",children:[" ",p+1,"-",Math.min(p+m,i),"  ",i]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:N,disabled:p===0,className:"btn-secondary text-sm",children:" "}),a.jsx("button",{onClick:k,disabled:p+m>=i,className:"btn-secondary text-sm",children:" "})]})]})]})]})}function j_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=j_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Le(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=j_(e))&&(n&&(n+=" "),n+=t);return n}var zM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ly(e){if(typeof e!="string")return!1;var t=zM;return t.includes(e)}var FM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BM=new Set(FM);function w_(e){return typeof e!="string"?!1:BM.has(e)}function N_(e){return typeof e=="string"&&e.startsWith("data-")}function Mr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(w_(r)||N_(r))&&(t[r]=e[r]);return t}function As(e){if(e==null)return null;if(f.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Mr(t)}return typeof e=="object"&&!Array.isArray(e)?Mr(e):null}function cr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(w_(r)||N_(r)||Ly(r))&&(t[r]=e[r]);return t}function UM(e){return e==null?null:f.isValidElement(e)?cr(e.props):typeof e=="object"&&!Array.isArray(e)?cr(e):null}var WM=["children","width","height","viewBox","className","style","title","desc"];function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(null,arguments)}function KM(e,t){if(e==null)return{};var r,n,s=HM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function HM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $y=f.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:l,title:d,desc:c}=e,u=KM(e,WM),m=i||{width:n,height:s,x:0,y:0},p=Le("recharts-surface",o);return f.createElement("svg",vx({},cr(u),{className:p,width:n,height:s,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),f.createElement("title",null,d),f.createElement("desc",null,c),r)}),VM=["children","className"];function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bx.apply(null,arguments)}function qM(e,t){if(e==null)return{};var r,n,s=YM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function YM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $t=f.forwardRef((e,t)=>{var{children:r,className:n}=e,s=qM(e,VM),i=Le("recharts-layer",n);return f.createElement("g",bx({className:i},cr(s),{ref:t}),r)}),k_=f.createContext(null),GM=()=>f.useContext(k_);function Ke(e){return function(){return e}}const __=Math.cos,Wd=Math.sin,bn=Math.sqrt,Kd=Math.PI,sm=2*Kd,jx=Math.PI,wx=2*jx,ls=1e-6,XM=wx-ls;function S_(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function QM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return S_;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class ZM{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?S_:QM(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,d=n-t,c=s-r,u=o-t,m=l-r,p=u*u+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>ls)if(!(Math.abs(m*d-c*u)>ls)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-o,y=s-l,g=d*d+c*c,v=x*x+y*y,h=Math.sqrt(g),b=Math.sqrt(p),j=i*Math.tan((jx-Math.acos((g+p-v)/(2*h*b)))/2),k=j/b,N=j/h;Math.abs(k-1)>ls&&this._append`L${t+k*u},${r+k*m}`,this._append`A${i},${i},0,0,${+(m*x>u*y)},${this._x1=t+N*d},${this._y1=r+N*c}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),d=n*Math.sin(s),c=t+l,u=r+d,m=1^o,p=o?s-i:i-s;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ls||Math.abs(this._y1-u)>ls)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%wx+wx),p>XM?this._append`A${n},${n},0,1,${m},${t-l},${r-d}A${n},${n},0,1,${m},${this._x1=c},${this._y1=u}`:p>ls&&this._append`A${n},${n},0,${+(p>=jx)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Ry(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new ZM(t)}function zy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function C_(e){this._context=e}C_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function im(e){return new C_(e)}function P_(e){return e[0]}function E_(e){return e[1]}function O_(e,t){var r=Ke(!0),n=null,s=im,i=null,o=Ry(l);e=typeof e=="function"?e:e===void 0?P_:Ke(e),t=typeof t=="function"?t:t===void 0?E_:Ke(t);function l(d){var c,u=(d=zy(d)).length,m,p=!1,x;for(n==null&&(i=s(x=o())),c=0;c<=u;++c)!(c<u&&r(m=d[c],c,d))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(m,c,d),+t(m,c,d));if(x)return i=null,x+""||null}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ke(+d),l):e},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ke(+d),l):t},l.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Ke(!!d),l):r},l.curve=function(d){return arguments.length?(s=d,n!=null&&(i=s(n)),l):s},l.context=function(d){return arguments.length?(d==null?n=i=null:i=s(n=d),l):n},l}function Pc(e,t,r){var n=null,s=Ke(!0),i=null,o=im,l=null,d=Ry(c);e=typeof e=="function"?e:e===void 0?P_:Ke(+e),t=typeof t=="function"?t:Ke(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?E_:Ke(+r);function c(m){var p,x,y,g=(m=zy(m)).length,v,h=!1,b,j=new Array(g),k=new Array(g);for(i==null&&(l=o(b=d())),p=0;p<=g;++p){if(!(p<g&&s(v=m[p],p,m))===h)if(h=!h)x=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=p-1;y>=x;--y)l.point(j[y],k[y]);l.lineEnd(),l.areaEnd()}h&&(j[p]=+e(v,p,m),k[p]=+t(v,p,m),l.point(n?+n(v,p,m):j[p],r?+r(v,p,m):k[p]))}if(b)return l=null,b+""||null}function u(){return O_().defined(s).curve(o).context(i)}return c.x=function(m){return arguments.length?(e=typeof m=="function"?m:Ke(+m),n=null,c):e},c.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Ke(+m),c):e},c.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ke(+m),c):n},c.y=function(m){return arguments.length?(t=typeof m=="function"?m:Ke(+m),r=null,c):t},c.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Ke(+m),c):t},c.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ke(+m),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(m){return arguments.length?(s=typeof m=="function"?m:Ke(!!m),c):s},c.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),c):o},c.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),c):i},c}class A_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function JM(e){return new A_(e,!0)}function eL(e){return new A_(e,!1)}const Fy={draw(e,t){const r=bn(t/Kd);e.moveTo(r,0),e.arc(0,0,r,0,sm)}},tL={draw(e,t){const r=bn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},T_=bn(1/3),rL=T_*2,nL={draw(e,t){const r=bn(t/rL),n=r*T_;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},aL={draw(e,t){const r=bn(t),n=-r/2;e.rect(n,n,r,r)}},sL=.8908130915292852,D_=Wd(Kd/10)/Wd(7*Kd/10),iL=Wd(sm/10)*D_,oL=-__(sm/10)*D_,lL={draw(e,t){const r=bn(t*sL),n=iL*r,s=oL*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=sm*i/5,l=__(o),d=Wd(o);e.lineTo(d*r,-l*r),e.lineTo(l*n-d*s,d*n+l*s)}e.closePath()}},Uf=bn(3),cL={draw(e,t){const r=-bn(t/(Uf*3));e.moveTo(0,r*2),e.lineTo(-Uf*r,-r),e.lineTo(Uf*r,-r),e.closePath()}},Fr=-.5,Br=bn(3)/2,Nx=1/bn(12),dL=(Nx/2+1)*3,uL={draw(e,t){const r=bn(t/dL),n=r/2,s=r*Nx,i=n,o=r*Nx+r,l=-i,d=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,d),e.lineTo(Fr*n-Br*s,Br*n+Fr*s),e.lineTo(Fr*i-Br*o,Br*i+Fr*o),e.lineTo(Fr*l-Br*d,Br*l+Fr*d),e.lineTo(Fr*n+Br*s,Fr*s-Br*n),e.lineTo(Fr*i+Br*o,Fr*o-Br*i),e.lineTo(Fr*l+Br*d,Fr*d-Br*l),e.closePath()}};function mL(e,t){let r=null,n=Ry(s);e=typeof e=="function"?e:Ke(e||Fy),t=typeof t=="function"?t:Ke(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ke(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ke(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Hd(){}function Vd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function I_(e){this._context=e}I_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fL(e){return new I_(e)}function M_(e){this._context=e}M_.prototype={areaStart:Hd,areaEnd:Hd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Vd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pL(e){return new M_(e)}function L_(e){this._context=e}L_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Vd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xL(e){return new L_(e)}function $_(e){this._context=e}$_.prototype={areaStart:Hd,areaEnd:Hd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function hL(e){return new $_(e)}function H0(e){return e<0?-1:1}function V0(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(H0(i)+H0(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function q0(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Wf(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function qd(e){this._context=e}qd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wf(this,this._t0,q0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wf(this,q0(this,r=V0(this,e,t)),r);break;default:Wf(this,this._t0,r=V0(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function R_(e){this._context=new z_(e)}(R_.prototype=Object.create(qd.prototype)).point=function(e,t){qd.prototype.point.call(this,t,e)};function z_(e){this._context=e}z_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function yL(e){return new qd(e)}function gL(e){return new R_(e)}function F_(e){this._context=e}F_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Y0(e),s=Y0(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Y0(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function vL(e){return new F_(e)}function om(e,t){this._context=e,this._t=t}om.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function bL(e){return new om(e,.5)}function jL(e){return new om(e,0)}function wL(e){return new om(e,1)}function Ei(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function kx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function NL(e,t){return e[t]}function kL(e){const t=[];return t.key=e,t}function _L(){var e=Ke([]),t=kx,r=Ei,n=NL;function s(i){var o=Array.from(e.apply(this,arguments),kL),l,d=o.length,c=-1,u;for(const m of i)for(l=0,++c;l<d;++l)(o[l][c]=[0,+n(m,o[l].key,c,i)]).data=m;for(l=0,u=zy(t(o));l<d;++l)o[u[l]].index=l;return r(o,u),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ke(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ke(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?kx:typeof i=="function"?i:Ke(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Ei,s):r},s}function SL(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Ei(e,t)}}function CL(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ei(e,t)}}function PL(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,d=0,c=0;l<o;++l){for(var u=e[t[l]],m=u[n][1]||0,p=u[n-1][1]||0,x=(m-p)/2,y=0;y<l;++y){var g=e[t[y]],v=g[n][1]||0,h=g[n-1][1]||0;x+=v-h}d+=m,c+=x*m}s[n-1][1]+=s[n-1][0]=r,d&&(r-=c/d)}s[n-1][1]+=s[n-1][0]=r,Ei(e,t)}}var lm={},B_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(B_);var By={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(By);var cm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(cm);var dm={},U_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(U_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U_,r=cm;function n(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const i=[],o=s.length;if(o===0)return i;let l=0,d="",c="",u=!1;for(s.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const m=s[l];c?m==="\\"&&l+1<o?(l++,d+=s[l]):m===c?c="":d+=m:u?m==='"'||m==="'"?c=m:m==="]"?(u=!1,i.push(d),d=""):d+=m:m==="["?(u=!0,d&&(i.push(d),d="")):m==="."?d&&(i.push(d),d=""):d+=m,l++}return d&&i.push(d),i}e.toPath=n})(dm);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B_,r=By,n=cm,s=dm;function i(l,d,c){if(l==null)return c;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return c;const u=l[d];return u===void 0?r.isDeepKey(d)?i(l,s.toPath(d),c):c:u}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const u=l[d];return u===void 0?c:u}default:{if(Array.isArray(d))return o(l,d,c);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return c;const u=l[d];return u===void 0?c:u}}}function o(l,d,c){if(d.length===0)return c;let u=l;for(let m=0;m<d.length;m++){if(u==null||t.isUnsafeProperty(d[m]))return c;u=u[d[m]]}return u===void 0?c:u}e.get=i})(lm);var EL=lm.get;const Ts=In(EL);var Mt=e=>e===0?0:e>0?1:-1,hn=e=>typeof e=="number"&&e!=+e,ta=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,xe=e=>(typeof e=="number"||e instanceof Number)&&!hn(e),An=e=>xe(e)||typeof e=="string",OL=0,il=e=>{var t=++OL;return"".concat(e||"").concat(t)},tr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(t)&&typeof t!="string")return n;var i;if(ta(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return hn(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},W_=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Qe(e,t,r){return xe(e)&&xe(t)?e+r*(t-e):t}function K_(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ts(n,t))===r)}var et=e=>e===null||typeof e>"u",Al=e=>et(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function AL(e){return e!=null}function Tl(){}var TL=["type","size","sizeType"];function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_x.apply(null,arguments)}function G0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G0(Object(r),!0).forEach(function(n){DL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DL(e,t,r){return(t=IL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IL(e){var t=ML(e,"string");return typeof t=="symbol"?t:t+""}function ML(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LL(e,t){if(e==null)return{};var r,n,s=$L(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $L(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var H_={symbolCircle:Fy,symbolCross:tL,symbolDiamond:nL,symbolSquare:aL,symbolStar:lL,symbolTriangle:cL,symbolWye:uL},RL=Math.PI/180,zL=e=>{var t="symbol".concat(Al(e));return H_[t]||Fy},FL=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*RL;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},BL=(e,t)=>{H_["symbol".concat(Al(e))]=t},Uy=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=LL(e,TL),i=X0(X0({},s),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var p=zL(o),x=mL().type(p).size(FL(r,n,o)),y=x();if(y!==null)return y},{className:d,cx:c,cy:u}=i,m=cr(i);return xe(c)&&xe(u)&&xe(r)?f.createElement("path",_x({},m,{className:Le("recharts-symbols",d),transform:"translate(".concat(c,", ").concat(u,")"),d:l()})):null};Uy.registerSymbol=BL;var V_=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Wy=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(f.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{Ly(s)&&(n[s]=i=>r[s](r,i))}),n},UL=(e,t,r)=>n=>(e(t,r,n),null),Dl=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];Ly(s)&&typeof i=="function"&&(n||(n={}),n[s]=UL(i,t,r))}),n};function Q0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q0(Object(r),!0).forEach(function(n){KL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KL(e,t,r){return(t=HL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HL(e){var t=VL(e,"string");return typeof t=="symbol"?t:t+""}function VL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bt(e,t){var r=WL({},e),n=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yd.apply(null,arguments)}function Z0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z0(Object(r),!0).forEach(function(n){YL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YL(e,t,r){return(t=GL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GL(e){var t=XL(e,"string");return typeof t=="symbol"?t:t+""}function XL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wr=32,QL={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function ZL(e){var{data:t,iconType:r,inactiveColor:n}=e,s=Wr/2,i=Wr/6,o=Wr/3,l=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline"){var c;return f.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:s,x2:Wr,y2:s,className:"recharts-legend-icon"})}if(d==="line")return f.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Wr,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(d==="rect")return f.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Wr/8,"h").concat(Wr,"v").concat(Wr*3/4,"h").concat(-Wr,"z"),className:"recharts-legend-icon"});if(f.isValidElement(t.legendIcon)){var u=qL({},t);return delete u.legendIcon,f.cloneElement(t.legendIcon,u)}return f.createElement(Uy,{fill:l,cx:s,cy:s,size:Wr,sizeType:"diameter",type:d})}function JL(e){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:i,iconType:o}=e,l={x:0,y:0,width:Wr,height:Wr},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,m)=>{var p=u.formatter||s,x=Le({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:u.inactive});if(u.type==="none")return null;var y=u.inactive?i:u.color,g=p?p(u.value,u,m):u.value;return f.createElement("li",Yd({className:x,style:d,key:"legend-item-".concat(m)},Dl(e,u,m)),f.createElement($y,{width:r,height:r,viewBox:l,style:c,"aria-label":"".concat(g," legend icon")},f.createElement(ZL,{data:u,iconType:o,inactiveColor:i})),f.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g))})}var e$=e=>{var t=bt(e,QL),{payload:r,layout:n,align:s}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?s:"left"};return f.createElement("ul",{className:"recharts-default-legend",style:i},f.createElement(JL,Yd({},t,{payload:r})))},q_={},Y_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t})(Y_);var Ky={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ky);var G_={},um={},X_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(X_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X_;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(um);var Q_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Q_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=um,r=Q_;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(G_);var Z_={},J_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lm;function r(n){return function(s){return t.get(s,n)}}e.property=r})(J_);var eS={},Hy={},tS={},Vy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Vy);var qy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(qy);var Yy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Yy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vy,r=qy,n=Yy;function s(u,m,p){return typeof p!="function"?s(u,m,()=>{}):i(u,m,function x(y,g,v,h,b,j){const k=p(y,g,v,h,b,j);return k!==void 0?!!k:i(y,g,x,j)},new Map)}function i(u,m,p,x){if(m===u)return!0;switch(typeof m){case"object":return o(u,m,p,x);case"function":return Object.keys(m).length>0?i(u,{...m},p,x):n.eq(u,m);default:return t.isObject(u)?typeof m=="string"?m==="":!0:n.eq(u,m)}}function o(u,m,p,x){if(m==null)return!0;if(Array.isArray(m))return d(u,m,p,x);if(m instanceof Map)return l(u,m,p,x);if(m instanceof Set)return c(u,m,p,x);const y=Object.keys(m);if(u==null)return y.length===0;if(y.length===0)return!0;if(x!=null&&x.has(m))return x.get(m)===u;x==null||x.set(m,u);try{for(let g=0;g<y.length;g++){const v=y[g];if(!r.isPrimitive(u)&&!(v in u)||m[v]===void 0&&u[v]!==void 0||m[v]===null&&u[v]!==null||!p(u[v],m[v],v,u,m,x))return!1}return!0}finally{x==null||x.delete(m)}}function l(u,m,p,x){if(m.size===0)return!0;if(!(u instanceof Map))return!1;for(const[y,g]of m.entries()){const v=u.get(y);if(p(v,g,y,u,m,x)===!1)return!1}return!0}function d(u,m,p,x){if(m.length===0)return!0;if(!Array.isArray(u))return!1;const y=new Set;for(let g=0;g<m.length;g++){const v=m[g];let h=!1;for(let b=0;b<u.length;b++){if(y.has(b))continue;const j=u[b];let k=!1;if(p(j,v,g,u,m,x)&&(k=!0),k){y.add(b),h=!0;break}}if(!h)return!1}return!0}function c(u,m,p,x){return m.size===0?!0:u instanceof Set?d([...u],[...m],p,x):!1}e.isMatchWith=s,e.isSetMatch=c})(tS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tS;function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})(Hy);var rS={},Gy={},nS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(nS);var Xy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Xy);var Qy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",d="[object Map]",c="[object Set]",u="[object Array]",m="[object Function]",p="[object ArrayBuffer]",x="[object Object]",y="[object Error]",g="[object DataView]",v="[object Uint8Array]",h="[object Uint8ClampedArray]",b="[object Uint16Array]",j="[object Uint32Array]",k="[object BigUint64Array]",N="[object Int8Array]",w="[object Int16Array]",P="[object Int32Array]",_="[object BigInt64Array]",C="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=u,e.bigInt64ArrayTag=_,e.bigUint64ArrayTag=k,e.booleanTag=s,e.dataViewTag=g,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=C,e.float64ArrayTag=O,e.functionTag=m,e.int16ArrayTag=w,e.int32ArrayTag=P,e.int8ArrayTag=N,e.mapTag=d,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=j,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=h})(Qy);var aS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(aS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nS,r=Xy,n=Qy,s=qy,i=aS;function o(u,m){return l(u,void 0,u,new Map,m)}function l(u,m,p,x=new Map,y=void 0){const g=y==null?void 0:y(u,m,p,x);if(g!==void 0)return g;if(s.isPrimitive(u))return u;if(x.has(u))return x.get(u);if(Array.isArray(u)){const v=new Array(u.length);x.set(u,v);for(let h=0;h<u.length;h++)v[h]=l(u[h],h,p,x,y);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;x.set(u,v);for(const[h,b]of u)v.set(h,l(b,h,p,x,y));return v}if(u instanceof Set){const v=new Set;x.set(u,v);for(const h of u)v.add(l(h,void 0,p,x,y));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);x.set(u,v);for(let h=0;h<u.length;h++)v[h]=l(u[h],h,p,x,y);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return x.set(u,v),d(v,u,p,x,y),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return x.set(u,v),d(v,u,p,x,y),v}if(typeof Blob<"u"&&u instanceof Blob){const v=new Blob([u],{type:u.type});return x.set(u,v),d(v,u,p,x,y),v}if(u instanceof Error){const v=new u.constructor;return x.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,d(v,u,p,x,y),v}if(u instanceof Boolean){const v=new Boolean(u.valueOf());return x.set(u,v),d(v,u,p,x,y),v}if(u instanceof Number){const v=new Number(u.valueOf());return x.set(u,v),d(v,u,p,x,y),v}if(u instanceof String){const v=new String(u.valueOf());return x.set(u,v),d(v,u,p,x,y),v}if(typeof u=="object"&&c(u)){const v=Object.create(Object.getPrototypeOf(u));return x.set(u,v),d(v,u,p,x,y),v}return u}function d(u,m,p=u,x,y){const g=[...Object.keys(m),...t.getSymbols(m)];for(let v=0;v<g.length;v++){const h=g[v],b=Object.getOwnPropertyDescriptor(u,h);(b==null||b.writable)&&(u[h]=l(m[h],h,p,x,y))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=d})(Gy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gy;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(rS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hy,r=rS;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(eS);var sS={},iS={},oS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gy,r=Qy;function n(s,i){return t.cloneDeepWith(s,(o,l,d,c)=>{const u=i==null?void 0:i(o,l,d,c);if(u!==void 0)return u;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(m,s),m}case r.argumentsTag:{const m={};return t.copyProperties(m,s),m.length=s.length,m[Symbol.iterator]=s[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(oS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oS;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(iS);var lS={},Zy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Zy);var cS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xy;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(cS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=By,r=Zy,n=cS,s=dm;function i(o,l){let d;if(Array.isArray(l)?d=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?d=s.toPath(l):d=[l],d.length===0)return!1;let c=o;for(let u=0;u<d.length;u++){const m=d[u];if((c==null||!Object.hasOwn(c,m))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(m)&&m<c.length))return!1;c=c[m]}return!0}e.has=i})(lS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hy,r=cm,n=iS,s=lm,i=lS;function o(l,d){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return d=n.cloneDeep(d),function(c){const u=s.get(c,l);return u===void 0?i.has(c,l):d===void 0?u===void 0:t.isMatch(u,d)}}e.matchesProperty=o})(sS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky,r=J_,n=eS,s=sS;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(Z_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y_,r=Ky,n=G_,s=Z_;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i})(q_);var t$=q_.uniqBy;const J0=In(t$);function dS(e,t,r){return t===!0?J0(e,r):typeof t=="function"?J0(e,t):e}var uS={exports:{}},mS={},fS={exports:{}},pS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oi=f;function r$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var n$=typeof Object.is=="function"?Object.is:r$,a$=Oi.useState,s$=Oi.useEffect,i$=Oi.useLayoutEffect,o$=Oi.useDebugValue;function l$(e,t){var r=t(),n=a$({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return i$(function(){s.value=r,s.getSnapshot=t,Kf(s)&&i({inst:s})},[e,r,t]),s$(function(){return Kf(s)&&i({inst:s}),e(function(){Kf(s)&&i({inst:s})})},[e]),o$(r),r}function Kf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n$(e,r)}catch{return!0}}function c$(e,t){return t()}var d$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c$:l$;pS.useSyncExternalStore=Oi.useSyncExternalStore!==void 0?Oi.useSyncExternalStore:d$;fS.exports=pS;var u$=fS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm=f,m$=u$;function f$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var p$=typeof Object.is=="function"?Object.is:f$,x$=m$.useSyncExternalStore,h$=mm.useRef,y$=mm.useEffect,g$=mm.useMemo,v$=mm.useDebugValue;mS.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=h$(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=g$(function(){function d(x){if(!c){if(c=!0,u=x,x=n(x),s!==void 0&&o.hasValue){var y=o.value;if(s(y,x))return m=y}return m=x}if(y=m,p$(u,x))return y;var g=n(x);return s!==void 0&&s(y,g)?(u=x,y):(u=x,m=g)}var c=!1,u,m,p=r===void 0?null:r;return[function(){return d(t())},p===null?void 0:function(){return d(p())}]},[t,r,n,s]);var l=x$(e,i[0],i[1]);return y$(function(){o.hasValue=!0,o.value=l},[l]),v$(l),l};uS.exports=mS;var b$=uS.exports,Jy=f.createContext(null),j$=e=>e,Ve=()=>{var e=f.useContext(Jy);return e?e.store.dispatch:j$},ld=()=>{},w$=()=>ld,N$=(e,t)=>e===t;function fe(e){var t=f.useContext(Jy);return b$.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:w$,t?t.store.getState:ld,t?t.store.getState:ld,t?e:ld,N$)}function k$(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function _$(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function S$(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var ej=e=>Array.isArray(e)?e:[e];function C$(e){const t=Array.isArray(e[0])?e[0]:e;return S$(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function P$(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var E$=class{constructor(e){this.value=e}deref(){return this.value}},O$=typeof WeakRef<"u"?WeakRef:E$,A$=0,tj=1;function Ec(){return{s:A$,v:void 0,o:null,p:null}}function xS(e,t={}){let r=Ec();const{resultEqualityCheck:n}=t;let s,i=0;function o(){var m;let l=r;const{length:d}=arguments;for(let p=0,x=d;p<x;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const v=g.get(y);v===void 0?(l=Ec(),g.set(y,l)):l=v}else{let g=l.p;g===null&&(l.p=g=new Map);const v=g.get(y);v===void 0?(l=Ec(),g.set(y,l)):l=v}}const c=l;let u;if(l.s===tj)u=l.v;else if(u=e.apply(null,arguments),i++,n){const p=((m=s==null?void 0:s.deref)==null?void 0:m.call(s))??s;p!=null&&n(p,u)&&(u=p,i!==0&&i--),s=typeof u=="object"&&u!==null||typeof u=="function"?new O$(u):u}return c.s=tj,c.v=u,u}return o.clearCache=()=>{r=Ec(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function T$(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,l,d={},c=s.pop();typeof c=="object"&&(d=c,c=s.pop()),k$(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...d},{memoize:m,memoizeOptions:p=[],argsMemoize:x=xS,argsMemoizeOptions:y=[]}=u,g=ej(p),v=ej(y),h=C$(s),b=m(function(){return i++,c.apply(null,arguments)},...g),j=x(function(){o++;const N=P$(h,arguments);return l=b.apply(null,N),l},...v);return Object.assign(j,{resultFunc:c,memoizedResultFunc:b,dependencies:h,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var K=T$(xS),D$=Object.assign((e,t=K)=>{_$(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,d)=>(o[r[d]]=l,o),{}))},{withTypes:()=>D$}),hS={},yS={},gS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),l=t(s);if(o===l&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(gS);var vS={},eg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(eg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eg,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(vS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gS,r=vS,n=dm;function s(i,o,l,d){if(i==null)return[];l=d?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(x=>String(x));const c=(x,y)=>{let g=x;for(let v=0;v<y.length&&g!=null;++v)g=g[y[v]];return g},u=(x,y)=>y==null||x==null?y:typeof x=="object"&&"key"in x?Object.hasOwn(y,x.key)?y[x.key]:c(y,x.path):typeof x=="function"?x(y):Array.isArray(x)?c(y,x):typeof y=="object"?y[x]:y,m=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return i.map(x=>({original:x,criteria:m.map(y=>u(y,x))})).slice().sort((x,y)=>{for(let g=0;g<m.length;g++){const v=t.compareValues(x.criteria[g],y.criteria[g],l[g]);if(v!==0)return v}return 0}).map(x=>x.original)}e.orderBy=s})(yS);var bS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(l,d)=>{for(let c=0;c<l.length;c++){const u=l[c];Array.isArray(u)&&d<i?o(u,d+1):s.push(u)}};return o(r,0),s}e.flatten=t})(bS);var tg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zy,r=um,n=Vy,s=Yy;function i(o,l,d){return n.isObject(d)&&(typeof l=="number"&&r.isArrayLike(d)&&t.isIndex(l)&&l<d.length||typeof l=="string"&&l in d)?s.eq(d[l],o):!1}e.isIterateeCall=i})(tg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yS,r=bS,n=tg;function s(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(hS);var I$=hS.sortBy;const fm=In(I$);var jS=e=>e.legend.settings,M$=e=>e.legend.size,L$=e=>e.legend.payload,$$=K([L$,jS],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?fm(n,r):n});function R$(){return fe($$)}var Oc=1;function wS(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=f.useState({height:0,left:0,top:0,width:0}),n=f.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Oc||Math.abs(o.left-t.left)>Oc||Math.abs(o.top-t.top)>Oc||Math.abs(o.width-t.width)>Oc)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Bt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var z$=typeof Symbol=="function"&&Symbol.observable||"@@observable",rj=z$,Hf=()=>Math.random().toString(36).substring(7).split("").join("."),F$={INIT:`@@redux/INIT${Hf()}`,REPLACE:`@@redux/REPLACE${Hf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hf()}`},Gd=F$;function rg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function NS(e,t,r){if(typeof e!="function")throw new Error(Bt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Bt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Bt(1));return r(NS)(e,t)}let n=e,s=t,i=new Map,o=i,l=0,d=!1;function c(){o===i&&(o=new Map,i.forEach((v,h)=>{o.set(h,v)}))}function u(){if(d)throw new Error(Bt(3));return s}function m(v){if(typeof v!="function")throw new Error(Bt(4));if(d)throw new Error(Bt(5));let h=!0;c();const b=l++;return o.set(b,v),function(){if(h){if(d)throw new Error(Bt(6));h=!1,c(),o.delete(b),i=null}}}function p(v){if(!rg(v))throw new Error(Bt(7));if(typeof v.type>"u")throw new Error(Bt(8));if(typeof v.type!="string")throw new Error(Bt(17));if(d)throw new Error(Bt(9));try{d=!0,s=n(s,v)}finally{d=!1}return(i=o).forEach(b=>{b()}),v}function x(v){if(typeof v!="function")throw new Error(Bt(10));n=v,p({type:Gd.REPLACE})}function y(){const v=m;return{subscribe(h){if(typeof h!="object"||h===null)throw new Error(Bt(11));function b(){const k=h;k.next&&k.next(u())}return b(),{unsubscribe:v(b)}},[rj](){return this}}}return p({type:Gd.INIT}),{dispatch:p,subscribe:m,getState:u,replaceReducer:x,[rj]:y}}function B$(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Gd.INIT})>"u")throw new Error(Bt(12));if(typeof r(void 0,{type:Gd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bt(13))})}function kS(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{B$(r)}catch(i){s=i}return function(o={},l){if(s)throw s;let d=!1;const c={};for(let u=0;u<n.length;u++){const m=n[u],p=r[m],x=o[m],y=p(x,l);if(typeof y>"u")throw l&&l.type,new Error(Bt(14));c[m]=y,d=d||y!==x}return d=d||n.length!==Object.keys(o).length,d?c:o}}function Xd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function U$(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(Bt(15))};const o={getState:s.getState,dispatch:(d,...c)=>i(d,...c)},l=e.map(d=>d(o));return i=Xd(...l)(s.dispatch),{...s,dispatch:i}}}function _S(e){return rg(e)&&"type"in e&&typeof e.type=="string"}var SS=Symbol.for("immer-nothing"),nj=Symbol.for("immer-draftable"),dr=Symbol.for("immer-state");function cn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Or=Object,Ai=Or.getPrototypeOf,Qd="constructor",pm="prototype",Sx="configurable",Zd="enumerable",cd="writable",ol="value",ra=e=>!!e&&!!e[dr];function yn(e){var t;return e?CS(e)||xm(e)||!!e[nj]||!!((t=e[Qd])!=null&&t[nj])||hm(e)||ym(e):!1}var W$=Or[pm][Qd].toString(),aj=new WeakMap;function CS(e){if(!e||!ng(e))return!1;const t=Ai(e);if(t===null||t===Or[pm])return!0;const r=Or.hasOwnProperty.call(t,Qd)&&t[Qd];if(r===Object)return!0;if(!Ys(r))return!1;let n=aj.get(r);return n===void 0&&(n=Function.toString.call(r),aj.set(r,n)),n===W$}function Il(e,t,r=!0){Ml(e)===0?(r?Reflect.ownKeys(e):Or.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function Ml(e){const t=e[dr];return t?t.type_:xm(e)?1:hm(e)?2:ym(e)?3:0}var sj=(e,t,r=Ml(e))=>r===2?e.has(t):Or[pm].hasOwnProperty.call(e,t),Cx=(e,t,r=Ml(e))=>r===2?e.get(t):e[t],Jd=(e,t,r,n=Ml(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function K$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var xm=Array.isArray,hm=e=>e instanceof Map,ym=e=>e instanceof Set,ng=e=>typeof e=="object",Ys=e=>typeof e=="function",Vf=e=>typeof e=="boolean",$n=e=>e.copy_||e.base_,ag=e=>e.modified_?e.copy_:e.base_;function Px(e,t){if(hm(e))return new Map(e);if(ym(e))return new Set(e);if(xm(e))return Array[pm].slice.call(e);const r=CS(e);if(t===!0||t==="class_only"&&!r){const n=Or.getOwnPropertyDescriptors(e);delete n[dr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l[cd]===!1&&(l[cd]=!0,l[Sx]=!0),(l.get||l.set)&&(n[o]={[Sx]:!0,[cd]:!0,[Zd]:l[Zd],[ol]:e[o]})}return Or.create(Ai(e),n)}else{const n=Ai(e);if(n!==null&&r)return{...e};const s=Or.create(n);return Or.assign(s,e)}}function sg(e,t=!1){return gm(e)||ra(e)||!yn(e)||(Ml(e)>1&&Or.defineProperties(e,{set:Ac,add:Ac,clear:Ac,delete:Ac}),Or.freeze(e),t&&Il(e,(r,n)=>{sg(n,!0)},!1)),e}function H$(){cn(2)}var Ac={[ol]:H$};function gm(e){return e===null||!ng(e)?!0:Or.isFrozen(e)}var eu="MapSet",Ex="Patches",PS={};function Ti(e){const t=PS[e];return t||cn(0,e),t}var V$=e=>!!PS[e],ll,ES=()=>ll,q$=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:V$(eu)?Ti(eu):void 0});function ij(e,t){t&&(e.patchPlugin_=Ti(Ex),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ox(e){Ax(e),e.drafts_.forEach(Y$),e.drafts_=null}function Ax(e){e===ll&&(ll=e.parent_)}var oj=e=>ll=q$(ll,e);function Y$(e){const t=e[dr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[dr].modified_&&(Ox(t),cn(4)),yn(e)&&(e=cj(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[dr].base_,e,t)}else e=cj(t,r);return G$(t,e,!0),Ox(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==SS?e:void 0}function cj(e,t){if(gm(t))return t;const r=t[dr];if(!r)return ig(t,e.handledSet_,e);if(!vm(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);TS(r,e)}return r.copy_}function G$(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sg(t,r)}function OS(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var vm=(e,t)=>e.scope_===t,X$=[];function AS(e,t,r,n){const s=$n(e),i=e.type_;if(n!==void 0&&Cx(s,n,i)===t){Jd(s,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Il(s,(d,c)=>{if(ra(c)){const u=l.get(c)||[];u.push(d),l.set(c,u)}})}const o=e.draftLocations_.get(t)??X$;for(const l of o)Jd(s,l,r,i)}function Q$(e,t,r){e.callbacks_.push(function(s){var l;const i=t;if(!i||!vm(i,s))return;(l=s.mapSetPlugin_)==null||l.fixSetContents(i);const o=ag(i);AS(e,i.draft_??i,o,r),TS(i,s)})}function TS(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:s}=t;if(s){const i=s.getPath(e);i&&s.generatePatches_(e,i,t)}OS(e)}}function Z$(e,t,r){const{scope_:n}=e;if(ra(r)){const s=r[dr];vm(s,n)&&s.callbacks_.push(function(){dd(e);const o=ag(s);AS(e,r,o,t)})}else yn(r)&&e.callbacks_.push(function(){const i=$n(e);Cx(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&ig(Cx(e.copy_,t,e.type_),n.handledSet_,n)})}function ig(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ra(e)||t.has(e)||!yn(e)||gm(e)||(t.add(e),Il(e,(n,s)=>{if(ra(s)){const i=s[dr];if(vm(i,r)){const o=ag(i);Jd(e,n,o,e.type_),OS(i)}}else yn(s)&&ig(s,t,r)})),e}function J$(e,t){const r=xm(e),n={type_:r?1:0,scope_:t?t.scope_:ES(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=n,i=og;r&&(s=[n],i=cl);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,[l,n]}var og={get(e,t){if(t===dr)return e;const r=$n(e);if(!sj(r,t,e.type_))return e5(e,r,t);const n=r[t];if(e.finalized_||!yn(n))return n;if(n===qf(e.base_,t)){dd(e);const s=e.type_===1?+t:t,i=Dx(e.scope_,n,e,s);return e.copy_[s]=i}return n},has(e,t){return t in $n(e)},ownKeys(e){return Reflect.ownKeys($n(e))},set(e,t,r){const n=DS($n(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=qf($n(e),t),i=s==null?void 0:s[dr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(K$(r,s)&&(r!==void 0||sj(e.base_,t,e.type_)))return!0;dd(e),Tx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Z$(e,t,r)),!0},deleteProperty(e,t){return dd(e),qf(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Tx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=$n(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[cd]:!0,[Sx]:e.type_!==1||t!=="length",[Zd]:n[Zd],[ol]:r[t]}},defineProperty(){cn(11)},getPrototypeOf(e){return Ai(e.base_)},setPrototypeOf(){cn(12)}},cl={};Il(og,(e,t)=>{cl[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});cl.deleteProperty=function(e,t){return cl.set.call(this,e,t,void 0)};cl.set=function(e,t,r){return og.set.call(this,e[0],t,r,e[0])};function qf(e,t){const r=e[dr];return(r?$n(r):e)[t]}function e5(e,t,r){var s;const n=DS(t,r);return n?ol in n?n[ol]:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function DS(e,t){if(!(t in e))return;let r=Ai(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ai(r)}}function Tx(e){e.modified_||(e.modified_=!0,e.parent_&&Tx(e.parent_))}function dd(e){e.copy_||(e.assigned_=new Map,e.copy_=Px(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var t5=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,s)=>{if(Ys(r)&&!Ys(n)){const o=n;n=r;const l=this;return function(c=o,...u){return l.produce(c,m=>n.call(this,m,...u))}}Ys(n)||cn(6),s!==void 0&&!Ys(s)&&cn(7);let i;if(yn(r)){const o=oj(this),l=Dx(o,r,void 0);let d=!0;try{i=n(l),d=!1}finally{d?Ox(o):Ax(o)}return ij(o,s),lj(i,o)}else if(!r||!ng(r)){if(i=n(r),i===void 0&&(i=r),i===SS&&(i=void 0),this.autoFreeze_&&sg(i,!0),s){const o=[],l=[];Ti(Ex).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:l}),s(o,l)}return i}else cn(1,r)},this.produceWithPatches=(r,n)=>{if(Ys(r))return(l,...d)=>this.produceWithPatches(l,c=>r(c,...d));let s,i;return[this.produce(r,n,(l,d)=>{s=l,i=d}),s,i]},Vf(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Vf(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Vf(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){yn(t)||cn(8),ra(t)&&(t=pn(t));const r=oj(this),n=Dx(r,t,void 0);return n[dr].isManual_=!0,Ax(r),n}finishDraft(t,r){const n=t&&t[dr];(!n||!n.isManual_)&&cn(9);const{scope_:s}=n;return ij(s,r),lj(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const s=Ti(Ex).applyPatches_;return ra(t)?s(t,r):this.produce(t,i=>s(i,r))}};function Dx(e,t,r,n){const[s,i]=hm(t)?Ti(eu).proxyMap_(t,r):ym(t)?Ti(eu).proxySet_(t,r):J$(t,r);return((r==null?void 0:r.scope_)??ES()).drafts_.push(s),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?Q$(r,i,n):i.callbacks_.push(function(d){var u;(u=d.mapSetPlugin_)==null||u.fixSetContents(i);const{patchPlugin_:c}=d;i.modified_&&c&&c.generatePatches_(i,[],d)}),s}function pn(e){return ra(e)||cn(10,e),IS(e)}function IS(e){if(!yn(e)||gm(e))return e;const t=e[dr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Px(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Px(e,!0);return Il(r,(s,i)=>{Jd(r,s,IS(i))},n),t&&(t.finalized_=!1),r}var r5=new t5,MS=r5.produce;function LS(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var n5=LS(),a5=LS,s5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xd:Xd.apply(null,arguments)};function Qr(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Tr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>_S(n)&&n.type===e,r}var $S=class Co extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Co.prototype)}static get[Symbol.species](){return Co}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Co(...t[0].concat(this)):new Co(...t.concat(this))}};function dj(e){return yn(e)?MS(e,()=>{}):e}function Tc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function i5(e){return typeof e=="boolean"}var o5=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new $S;return r&&(i5(r)?o.push(n5):o.push(a5(r.extraArgument))),o},RS="RTK_autoBatch",Xe=()=>e=>({payload:e,meta:{[RS]:!0}}),uj=e=>t=>{setTimeout(t,e)},zS=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const l=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:uj(10):e.type==="callback"?e.queueNotification:uj(e.timeout),c=()=>{o=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const m=()=>s&&u(),p=n.subscribe(m);return l.add(u),()=>{p(),l.delete(u)}},dispatch(u){var m;try{return s=!((m=u==null?void 0:u.meta)!=null&&m[RS]),i=!s,i&&(o||(o=!0,d(c))),n.dispatch(u)}finally{s=!0}}})},l5=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new $S(e);return n&&s.push(zS(typeof n=="object"?n:void 0)),s};function c5(e){const t=o5(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(rg(r))l=kS(r);else throw new Error(Tr(1));let d;typeof n=="function"?d=n(t):d=t();let c=Xd;s&&(c=s5({trace:!1,...typeof s=="object"&&s}));const u=U$(...d),m=l5(u);let p=typeof o=="function"?o(m):m();const x=c(...p);return NS(l,i,x)}function FS(e){const t={},r=[];let n;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Tr(28));if(l in t)throw new Error(Tr(29));return t[l]=o,s},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function d5(e){return typeof e=="function"}function u5(e,t){let[r,n,s]=FS(t),i;if(d5(e))i=()=>dj(e());else{const l=dj(e);i=()=>l}function o(l=i(),d){let c=[r[d.type],...n.filter(({matcher:u})=>u(d)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[s]),c.reduce((u,m)=>{if(m)if(ra(u)){const x=m(u,d);return x===void 0?u:x}else{if(yn(u))return MS(u,p=>m(p,d));{const p=m(u,d);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},l)}return o.getInitialState=i,o}var m5="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",f5=(e=21)=>{let t="",r=e;for(;r--;)t+=m5[Math.random()*64|0];return t},p5=Symbol.for("rtk-slice-createasyncthunk");function x5(e,t){return`${e}/${t}`}function h5({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[p5];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(Tr(11));const l=(typeof s.reducers=="function"?s.reducers(g5()):s.reducers)||{},d=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(k,N){const w=typeof k=="string"?k:k.type;if(!w)throw new Error(Tr(12));if(w in c.sliceCaseReducersByType)throw new Error(Tr(13));return c.sliceCaseReducersByType[w]=N,u},addMatcher(k,N){return c.sliceMatchers.push({matcher:k,reducer:N}),u},exposeAction(k,N){return c.actionCreators[k]=N,u},exposeCaseReducer(k,N){return c.sliceCaseReducersByName[k]=N,u}};d.forEach(k=>{const N=l[k],w={reducerName:k,type:x5(i,k),createNotation:typeof s.reducers=="function"};b5(N)?w5(w,N,u,t):v5(w,N,u)});function m(){const[k={},N=[],w=void 0]=typeof s.extraReducers=="function"?FS(s.extraReducers):[s.extraReducers],P={...k,...c.sliceCaseReducersByType};return u5(s.initialState,_=>{for(let C in P)_.addCase(C,P[C]);for(let C of c.sliceMatchers)_.addMatcher(C.matcher,C.reducer);for(let C of N)_.addMatcher(C.matcher,C.reducer);w&&_.addDefaultCase(w)})}const p=k=>k,x=new Map,y=new WeakMap;let g;function v(k,N){return g||(g=m()),g(k,N)}function h(){return g||(g=m()),g.getInitialState()}function b(k,N=!1){function w(_){let C=_[k];return typeof C>"u"&&N&&(C=Tc(y,w,h)),C}function P(_=p){const C=Tc(x,N,()=>new WeakMap);return Tc(C,_,()=>{const O={};for(const[S,E]of Object.entries(s.selectors??{}))O[S]=y5(E,_,()=>Tc(y,_,h),N);return O})}return{reducerPath:k,getSelectors:P,get selectors(){return P(w)},selectSlice:w}}const j={name:i,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:h,...b(o),injectInto(k,{reducerPath:N,...w}={}){const P=N??o;return k.inject({reducerPath:P,reducer:v},w),{...j,...b(P,!0)}}};return j}}function y5(e,t,r,n){function s(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return s.unwrapped=e,s}var Nr=h5();function g5(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function v5({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!j5(n))throw new Error(Tr(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Qr(e,o):Qr(e))}function b5(e){return e._reducerDefinitionType==="asyncThunk"}function j5(e){return e._reducerDefinitionType==="reducerWithPrepare"}function w5({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Tr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:d,settled:c,options:u}=r,m=s(e,i,u);n.exposeAction(t,m),o&&n.addCase(m.fulfilled,o),l&&n.addCase(m.pending,l),d&&n.addCase(m.rejected,d),c&&n.addMatcher(m.settled,c),n.exposeCaseReducer(t,{fulfilled:o||Dc,pending:l||Dc,rejected:d||Dc,settled:c||Dc})}function Dc(){}var N5="task",BS="listener",US="completed",lg="cancelled",k5=`task-${lg}`,_5=`task-${US}`,Ix=`${BS}-${lg}`,S5=`${BS}-${US}`,bm=class{constructor(e){uf(this,"name","TaskAbortError");uf(this,"message");this.code=e,this.message=`${N5} ${lg} (reason: ${e})`}},cg=(e,t)=>{if(typeof e!="function")throw new TypeError(Tr(32))},tu=()=>{},WS=(e,t=tu)=>(e.catch(t),e),KS=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),js=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ws=e=>{if(e.aborted){const{reason:t}=e;throw new bm(t)}};function HS(e,t){let r=tu;return new Promise((n,s)=>{const i=()=>s(new bm(e.reason));if(e.aborted){i();return}r=KS(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=tu})}var C5=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof bm?"cancelled":"rejected",error:r}}finally{t==null||t()}},ru=e=>t=>WS(HS(e,t).then(r=>(ws(e),r))),VS=e=>{const t=ru(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:xi}=Object,mj={},jm="listenerMiddleware",P5=(e,t)=>{const r=n=>KS(e,()=>js(n,e.reason));return(n,s)=>{cg(n);const i=new AbortController;r(i);const o=C5(async()=>{ws(e),ws(i.signal);const l=await n({pause:ru(i.signal),delay:VS(i.signal),signal:i.signal});return ws(i.signal),l},()=>js(i,_5));return s!=null&&s.autoJoin&&t.push(o.catch(tu)),{result:ru(e)(o),cancel(){js(i,k5)}}}},E5=(e,t)=>{const r=async(n,s)=>{ws(t);let i=()=>{};const l=[new Promise((d,c)=>{let u=e({predicate:n,effect:(m,p)=>{p.unsubscribe(),d([m,p.getState(),p.getOriginalState()])}});i=()=>{u(),c()}})];s!=null&&l.push(new Promise(d=>setTimeout(d,s,null)));try{const d=await HS(t,Promise.race(l));return ws(t),d}finally{i()}};return(n,s)=>WS(r(n,s))},qS=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=Qr(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Tr(21));return cg(i),{predicate:s,type:t,effect:i}},YS=xi(e=>{const{type:t,predicate:r,effect:n}=qS(e);return{id:f5(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Tr(22))}}},{withTypes:()=>YS}),fj=(e,t)=>{const{type:r,effect:n,predicate:s}=qS(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},Mx=e=>{e.pending.forEach(t=>{js(t,Ix)})},O5=(e,t)=>()=>{for(const r of t.keys())Mx(r);e.clear()},pj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},GS=xi(Qr(`${jm}/add`),{withTypes:()=>GS}),A5=Qr(`${jm}/removeAll`),XS=xi(Qr(`${jm}/remove`),{withTypes:()=>XS}),T5=(...e)=>{console.error(`${jm}/error`,...e)},Ll=(e={})=>{const t=new Map,r=new Map,n=x=>{const y=r.get(x)??0;r.set(x,y+1)},s=x=>{const y=r.get(x)??1;y===1?r.delete(x):r.set(x,y-1)},{extra:i,onError:o=T5}=e;cg(o);const l=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),y=>{x.unsubscribe(),y!=null&&y.cancelActive&&Mx(x)}),d=x=>{const y=fj(t,x)??YS(x);return l(y)};xi(d,{withTypes:()=>d});const c=x=>{const y=fj(t,x);return y&&(y.unsubscribe(),x.cancelActive&&Mx(y)),!!y};xi(c,{withTypes:()=>c});const u=async(x,y,g,v)=>{const h=new AbortController,b=E5(d,h.signal),j=[];try{x.pending.add(h),n(x),await Promise.resolve(x.effect(y,xi({},g,{getOriginalState:v,condition:(k,N)=>b(k,N).then(Boolean),take:b,delay:VS(h.signal),pause:ru(h.signal),extra:i,signal:h.signal,fork:P5(h.signal,j),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((k,N,w)=>{k!==h&&(js(k,Ix),w.delete(k))})},cancel:()=>{js(h,Ix),x.pending.delete(h)},throwIfCancelled:()=>{ws(h.signal)}})))}catch(k){k instanceof bm||pj(o,k,{raisedBy:"effect"})}finally{await Promise.all(j),js(h,S5),s(x),x.pending.delete(h)}},m=O5(t,r);return{middleware:x=>y=>g=>{if(!_S(g))return y(g);if(GS.match(g))return d(g.payload);if(A5.match(g)){m();return}if(XS.match(g))return c(g.payload);let v=x.getState();const h=()=>{if(v===mj)throw new Error(Tr(23));return v};let b;try{if(b=y(g),t.size>0){const j=x.getState(),k=Array.from(t.values());for(const N of k){let w=!1;try{w=N.predicate(g,j,v)}catch(P){w=!1,pj(o,P,{raisedBy:"predicate"})}w&&u(N,g,x,h)}}}finally{v=mj}return b},startListening:d,stopListening:c,clearListeners:m}};function Tr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var D5={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},QS=Nr({name:"chartLayout",initialState:D5,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:I5,setLayout:M5,setChartSize:L5,setScale:$5}=QS.actions,R5=QS.reducer;function ZS(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(n){z5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z5(e,t,r){return(t=F5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F5(e){var t=B5(e,"string");return typeof t=="symbol"?t:t+""}function B5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Be(e,t,r){return et(e)||et(t)?r:An(t)?Ts(e,t,r):typeof t=="function"?t(e):r}var U5=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&xe(e[i]))return oi(oi({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&xe(e[o]))return oi(oi({},e),{},{[o]:e[o]+(s||0)})}return e},es=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",JS=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(r),o},eC=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:l,isCategorical:d,categoricalDomain:c,tickCount:u,ticks:m,niceTicks:p,axisType:x}=e;if(!o)return null;var y=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=s==="category"&&o.bandwidth?o.bandwidth()/y:0;if(g=x==="angleAxis"&&i&&i.length>=2?Mt(i[0]-i[1])*2*g:g,m||p){var v=(m||p||[]).map((h,b)=>{var j=n?n.indexOf(h):h;return{coordinate:o(j)+g,value:h,offset:g,index:b}});return v.filter(h=>!hn(h.coordinate))}return d&&c?c.map((h,b)=>({coordinate:o(h)+g,value:h,index:b,offset:g})):o.ticks&&u!=null?o.ticks(u).map((h,b)=>({coordinate:o(h)+g,value:h,offset:g,index:b})):o.domain().map((h,b)=>({coordinate:o(h)+g,value:n?n[h]:h,index:b,offset:g}))},hj=1e-4,W5=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-hj,i=Math.max(n[0],n[1])+hj,o=e(t[0]),l=e(t[r-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},K5=(e,t)=>{if(!t||t.length!==2||!xe(t[0])||!xe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!xe(e[0])||e[0]<r)&&(s[0]=r),(!xe(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},H5=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var l=hn(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},V5=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=hn(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},q5={sign:H5,expand:SL,none:Ei,silhouette:CL,wiggle:PL,positive:V5},Y5=(e,t,r)=>{var n=q5[r],s=_L().keys(t).value((i,o)=>Number(Be(i,o,0))).order(kx).offset(n);return s(e)};function G5(e){return e==null?void 0:String(e)}function yj(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!et(s[t.dataKey])){var l=K_(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=Be(s,et(o)?t.dataKey:o);return et(d)?null:t.scale(d)}var gj=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=Be(i,t.dataKey,t.scale.domain()[o]);return et(l)?null:t.scale(l)-s/2+n},X5=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},Q5=e=>{var t=e.flat(2).filter(xe);return[Math.min(...t),Math.max(...t)]},Z5=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],J5=(e,t,r)=>{if(e!=null)return Z5(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((d,c)=>{var u=ZS(c,t,r),m=Q5(u);return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},vj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Di=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=fm(t,u=>u.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var d=s[o],c=s[o-1];i=Math.min((d.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function jj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return oi(oi({},t),{},{dataKey:r,payload:n,value:s,name:i})}function qi(e,t){if(e)return String(e);if(typeof t=="string")return t}var eR=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},tR=(e,t)=>t==="centric"?e.angle:e.radius,da=e=>e.layout.width,ua=e=>e.layout.height,rR=e=>e.layout.scale,tC=e=>e.layout.margin,wm=K(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Nm=K(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),rC="data-recharts-item-index",nC="data-recharts-item-data-key",$l=60;function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){nR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nR(e,t,r){return(t=aR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aR(e){var t=sR(e,"string");return typeof t=="symbol"?t:t+""}function sR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iR=e=>e.brush.height;function oR(e){var t=Nm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:$l;return r+s}return r},0)}function lR(e){var t=Nm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:$l;return r+s}return r},0)}function cR(e){var t=wm(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function dR(e){var t=wm(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var St=K([da,ua,tC,iR,oR,lR,cR,dR,jS,M$],(e,t,r,n,s,i,o,l,d,c)=>{var u={left:(r.left||0)+s,right:(r.right||0)+i},m={top:(r.top||0)+o,bottom:(r.bottom||0)+l},p=Ic(Ic({},m),u),x=p.bottom;p.bottom+=n,p=U5(p,d,c);var y=e-p.left-p.right,g=t-p.top-p.bottom;return Ic(Ic({brushBottom:x},p),{},{width:Math.max(y,0),height:Math.max(g,0)})}),uR=K(St,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),dg=K(da,ua,(e,t)=>({x:0,y:0,width:e,height:t})),mR=f.createContext(null),nr=()=>f.useContext(mR)!=null,km=e=>e.brush,_m=K([km,St,tC],(e,t,r)=>({height:e.height,x:xe(e.x)?e.x:t.left,y:xe(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:xe(e.width)?e.width:t.width})),aC={},sC={},iC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,l=null;const d=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),u=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},m=()=>{c&&u(),g()};let p=null;const x=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,m()},n)},y=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{y(),o=void 0,l=null},v=()=>{u()},h=function(...b){if(s!=null&&s.aborted)return;o=this,l=b;const j=p==null;x(),d&&j&&u()};return h.schedule=x,h.cancel=g,h.flush=v,s==null||s.addEventListener("abort",g,{once:!0}),h}e.debounce=t})(iC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iC;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:d}=i,c=Array(2);o&&(c[0]="leading"),l&&(c[1]="trailing");let u,m=null;const p=t.debounce(function(...g){u=n.apply(this,g),m=null},s,{edges:c}),x=function(...g){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(u=n.apply(this,g),m=Date.now(),p.cancel(),p.schedule(),u):(p.apply(this,g),u)},y=()=>(p.flush(),u);return x.cancel=p.cancel,x.flush=y,x}e.debounce=r})(sC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sC;function r(n,s=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:o,maxWait:s,trailing:l})}e.throttle=r})(aC);var fR=aC.throttle;const pR=In(fR);var nu=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>s[o++]))}},oC=(e,t,r)=>{var{width:n="100%",height:s="100%",aspect:i,maxHeight:o}=r,l=ta(n)?e:Number(n),d=ta(s)?t:Number(s);return i&&i>0&&(l?d=l/i:d&&(l=d*i),o&&d!=null&&d>o&&(d=o)),{calculatedWidth:l,calculatedHeight:d}},xR={width:0,height:0,overflow:"visible"},hR={width:0,overflowX:"visible"},yR={height:0,overflowY:"visible"},gR={},vR=e=>{var{width:t,height:r}=e,n=ta(t),s=ta(r);return n&&s?xR:n?hR:s?yR:gR};function bR(e){var{width:t,height:r,aspect:n}=e,s=t,i=r;return s===void 0&&i===void 0?(s="100%",i="100%"):s===void 0?s=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:s,height:i}}function mt(e){return Number.isFinite(e)}function Tn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lx.apply(null,arguments)}function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){jR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jR(e,t,r){return(t=wR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wR(e){var t=NR(e,"string");return typeof t=="symbol"?t:t+""}function NR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lC=f.createContext({width:-1,height:-1});function kR(e){return Tn(e.width)&&Tn(e.height)}function cC(e){var{children:t,width:r,height:n}=e,s=f.useMemo(()=>({width:r,height:n}),[r,n]);return kR(s)?f.createElement(lC.Provider,{value:s},t):null}var ug=()=>f.useContext(lC),_R=f.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s,height:i,minWidth:o=0,minHeight:l,maxHeight:d,children:c,debounce:u=0,id:m,className:p,onResize:x,style:y={}}=e,g=f.useRef(null),v=f.useRef();v.current=x,f.useImperativeHandle(t,()=>g.current);var[h,b]=f.useState({containerWidth:n.width,containerHeight:n.height}),j=f.useCallback((_,C)=>{b(O=>{var S=Math.round(_),E=Math.round(C);return O.containerWidth===S&&O.containerHeight===E?O:{containerWidth:S,containerHeight:E}})},[]);f.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return Tl;var _=E=>{var I,{width:A,height:M}=E[0].contentRect;j(A,M),(I=v.current)===null||I===void 0||I.call(v,A,M)};u>0&&(_=pR(_,u,{trailing:!0,leading:!1}));var C=new ResizeObserver(_),{width:O,height:S}=g.current.getBoundingClientRect();return j(O,S),C.observe(g.current),()=>{C.disconnect()}},[j,u]);var{containerWidth:k,containerHeight:N}=h;nu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:w,calculatedHeight:P}=oC(k,N,{width:s,height:i,aspect:r,maxHeight:d});return nu(w!=null&&w>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,w,P,s,i,o,l,r),f.createElement("div",{id:m?"".concat(m):void 0,className:Le("recharts-responsive-container",p),style:kj(kj({},y),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:d}),ref:g},f.createElement("div",{style:vR({width:s,height:i})},f.createElement(cC,{width:w,height:P},c)))}),ud=f.forwardRef((e,t)=>{var r=ug();if(Tn(r.width)&&Tn(r.height))return e.children;var{width:n,height:s}=bR({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=oC(void 0,void 0,{width:n,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return xe(i)&&xe(o)?f.createElement(cC,{width:i,height:o},e.children):f.createElement(_R,Lx({},e,{width:n,height:s,ref:t}))});function dC(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Sm=()=>{var e,t=nr(),r=fe(uR),n=fe(_m),s=(e=fe(km))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},SR={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},uC=()=>{var e;return(e=fe(St))!==null&&e!==void 0?e:SR},mg=()=>fe(da),fg=()=>fe(ua),CR=()=>fe(e=>e.layout.margin),Te=e=>e.layout.layoutType,Rl=()=>fe(Te),PR=()=>{var e=Rl();return e!==void 0},Cm=e=>{var t=Ve(),r=nr(),{width:n,height:s}=e,i=ug(),o=n,l=s;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:s),f.useEffect(()=>{!r&&Tn(o)&&Tn(l)&&t(L5({width:o,height:l}))},[t,r,o,l]),null},mC=Symbol.for("immer-nothing"),_j=Symbol.for("immer-draftable"),Lr=Symbol.for("immer-state");function dn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var dl=Object.getPrototypeOf;function Ii(e){return!!e&&!!e[Lr]}function Ds(e){var t;return e?fC(e)||Array.isArray(e)||!!e[_j]||!!((t=e.constructor)!=null&&t[_j])||zl(e)||Em(e):!1}var ER=Object.prototype.constructor.toString(),Sj=new WeakMap;function fC(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Sj.get(r);return n===void 0&&(n=Function.toString.call(r),Sj.set(r,n)),n===ER}function au(e,t,r=!0){Pm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function Pm(e){const t=e[Lr];return t?t.type_:Array.isArray(e)?1:zl(e)?2:Em(e)?3:0}function $x(e,t){return Pm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function pC(e,t,r){const n=Pm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function OR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function zl(e){return e instanceof Map}function Em(e){return e instanceof Set}function cs(e){return e.copy_||e.base_}function Rx(e,t){if(zl(e))return new Map(e);if(Em(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=fC(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Lr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(dl(e),n)}else{const n=dl(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function pg(e,t=!1){return Om(e)||Ii(e)||!Ds(e)||(Pm(e)>1&&Object.defineProperties(e,{set:Mc,add:Mc,clear:Mc,delete:Mc}),Object.freeze(e),t&&Object.values(e).forEach(r=>pg(r,!0))),e}function AR(){dn(2)}var Mc={value:AR};function Om(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var TR={};function Is(e){const t=TR[e];return t||dn(0,e),t}var ul;function xC(){return ul}function DR(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Cj(e,t){t&&(Is("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function zx(e){Fx(e),e.drafts_.forEach(IR),e.drafts_=null}function Fx(e){e===ul&&(ul=e.parent_)}function Pj(e){return ul=DR(ul,e)}function IR(e){const t=e[Lr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ej(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Lr].modified_&&(zx(t),dn(4)),Ds(e)&&(e=su(t,e),t.parent_||iu(t,e)),t.patches_&&Is("Patches").generateReplacementPatches_(r[Lr].base_,e,t.patches_,t.inversePatches_)):e=su(t,r,[]),zx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==mC?e:void 0}function su(e,t,r){if(Om(t))return t;const n=e.immer_.shouldUseStrictIteration(),s=t[Lr];if(!s)return au(t,(i,o)=>Oj(e,s,t,i,o,r),n),t;if(s.scope_!==e)return t;if(!s.modified_)return iu(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let o=i,l=!1;s.type_===3&&(o=new Set(i),i.clear(),l=!0),au(o,(d,c)=>Oj(e,s,i,d,c,r,l),n),iu(e,i,!1),r&&e.patches_&&Is("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function Oj(e,t,r,n,s,i,o){if(s==null||typeof s!="object"&&!o)return;const l=Om(s);if(!(l&&!o)){if(Ii(s)){const d=i&&t&&t.type_!==3&&!$x(t.assigned_,n)?i.concat(n):void 0,c=su(e,s,d);if(pC(r,n,c),Ii(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Ds(s)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===s&&l)return;su(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(zl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&iu(e,s)}}}function iu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&pg(t,r)}function MR(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:xC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=xg;r&&(s=[n],i=ml);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,l}var xg={get(e,t){if(t===Lr)return e;const r=cs(e);if(!$x(r,t))return LR(e,r,t);const n=r[t];return e.finalized_||!Ds(n)?n:n===Yf(e.base_,t)?(Gf(e),e.copy_[t]=Ux(n,e)):n},has(e,t){return t in cs(e)},ownKeys(e){return Reflect.ownKeys(cs(e))},set(e,t,r){const n=hC(cs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Yf(cs(e),t),i=s==null?void 0:s[Lr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(OR(r,s)&&(r!==void 0||$x(e.base_,t)))return!0;Gf(e),Bx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Yf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Gf(e),Bx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=cs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){dn(11)},getPrototypeOf(e){return dl(e.base_)},setPrototypeOf(){dn(12)}},ml={};au(xg,(e,t)=>{ml[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ml.deleteProperty=function(e,t){return ml.set.call(this,e,t,void 0)};ml.set=function(e,t,r){return xg.set.call(this,e[0],t,r,e[0])};function Yf(e,t){const r=e[Lr];return(r?cs(r):e)[t]}function LR(e,t,r){var s;const n=hC(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function hC(e,t){if(!(t in e))return;let r=dl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=dl(r)}}function Bx(e){e.modified_||(e.modified_=!0,e.parent_&&Bx(e.parent_))}function Gf(e){e.copy_||(e.copy_=Rx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $R=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(d=i,...c){return o.produce(d,u=>r.call(this,u,...c))}}typeof r!="function"&&dn(6),n!==void 0&&typeof n!="function"&&dn(7);let s;if(Ds(t)){const i=Pj(this),o=Ux(t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?zx(i):Fx(i)}return Cj(i,n),Ej(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===mC&&(s=void 0),this.autoFreeze_&&pg(s,!0),n){const i=[],o=[];Is("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else dn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,d=>t(d,...l));let n,s;return[this.produce(t,r,(o,l)=>{n=o,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ds(e)||dn(8),Ii(e)&&(e=RR(e));const t=Pj(this),r=Ux(e,void 0);return r[Lr].isManual_=!0,Fx(t),r}finishDraft(e,t){const r=e&&e[Lr];(!r||!r.isManual_)&&dn(9);const{scope_:n}=r;return Cj(n,t),Ej(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=Is("Patches").applyPatches_;return Ii(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Ux(e,t){const r=zl(e)?Is("MapSet").proxyMap_(e,t):Em(e)?Is("MapSet").proxySet_(e,t):MR(e,t);return(t?t.scope_:xC()).drafts_.push(r),r}function RR(e){return Ii(e)||dn(10,e),yC(e)}function yC(e){if(!Ds(e)||Om(e))return e;const t=e[Lr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Rx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Rx(e,!0);return au(r,(s,i)=>{pC(r,s,yC(i))},n),t&&(t.finalized_=!1),r}var zR=new $R;zR.produce;var FR={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},gC=Nr({name:"legend",initialState:FR,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Xe()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,s=pn(e).payload.indexOf(r);s>-1&&(e.payload[s]=n)},prepare:Xe()},removeLegendPayload:{reducer(e,t){var r=pn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Xe()}}}),{setLegendSize:Aj,setLegendSettings:BR,addLegendPayload:vC,replaceLegendPayload:bC,removeLegendPayload:jC}=gC.actions,UR=gC.reducer,WR=["contextPayload"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wx.apply(null,arguments)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){KR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KR(e,t,r){return(t=HR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HR(e){var t=VR(e,"string");return typeof t=="symbol"?t:t+""}function VR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qR(e,t){if(e==null)return{};var r,n,s=YR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function YR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GR(e){return e.value}function XR(e){var{contextPayload:t}=e,r=qR(e,WR),n=dS(t,e.payloadUniqBy,GR),s=Mi(Mi({},r),{},{payload:n});return f.isValidElement(e.content)?f.cloneElement(e.content,s):typeof e.content=="function"?f.createElement(e.content,s):f.createElement(e$,s)}function QR(e,t,r,n,s,i){var{layout:o,align:l,verticalAlign:d}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?c={left:((n||0)-i.width)/2}:c=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?u={top:((s||0)-i.height)/2}:u=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Mi(Mi({},c),u)}function ZR(e){var t=Ve();return f.useEffect(()=>{t(BR(e))},[t,e]),null}function JR(e){var t=Ve();return f.useEffect(()=>(t(Aj(e)),()=>{t(Aj({width:0,height:0}))}),[t,e]),null}function ez(e,t,r,n){return e==="vertical"&&xe(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var tz={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function wC(e){var t=bt(e,tz),r=R$(),n=GM(),s=CR(),{width:i,height:o,wrapperStyle:l,portal:d}=t,[c,u]=wS([r]),m=mg(),p=fg();if(m==null||p==null)return null;var x=m-((s==null?void 0:s.left)||0)-((s==null?void 0:s.right)||0),y=ez(t.layout,o,i,x),g=d?l:Mi(Mi({position:"absolute",width:(y==null?void 0:y.width)||i||"auto",height:(y==null?void 0:y.height)||o||"auto"},QR(l,t,s,m,p,c)),l),v=d??n;if(v==null||r==null)return null;var h=f.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},f.createElement(ZR,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&f.createElement(JR,{width:c.width,height:c.height}),f.createElement(XR,Wx({},t,y,{margin:s,chartWidth:m,chartHeight:p,contextPayload:r})));return Sl.createPortal(h,v)}wC.displayName="Legend";function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(null,arguments)}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){rz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rz(e,t,r){return(t=nz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nz(e){var t=az(e,"string");return typeof t=="symbol"?t:t+""}function az(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sz(e){return Array.isArray(e)&&An(e[0])&&An(e[1])?e.join(" ~ "):e}var iz=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:d,labelClassName:c,label:u,labelFormatter:m,accessibilityLayer:p=!1}=e,x=()=>{if(i&&i.length){var N={padding:0,margin:0},w=(l?fm(i,l):i).map((P,_)=>{if(P.type==="none")return null;var C=P.formatter||o||sz,{value:O,name:S}=P,E=O,I=S;if(C){var A=C(O,S,P,_,i);if(Array.isArray(A))[E,I]=A;else if(A!=null)E=A;else return null}var M=Xf({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return f.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:M},An(I)?f.createElement("span",{className:"recharts-tooltip-item-name"},I):null,An(I)?f.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,f.createElement("span",{className:"recharts-tooltip-item-value"},E),f.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return f.createElement("ul",{className:"recharts-tooltip-item-list",style:N},w)}return null},y=Xf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=Xf({margin:0},s),v=!et(u),h=v?u:"",b=Le("recharts-default-tooltip",d),j=Le("recharts-tooltip-label",c);v&&m&&i!==void 0&&i!==null&&(h=m(u,i));var k=p?{role:"status","aria-live":"assertive"}:{};return f.createElement("div",Kx({className:b,style:y},k),f.createElement("p",{className:j,style:g},f.isValidElement(h)?h:"".concat(h)),x())},po="recharts-tooltip-wrapper",oz={visibility:"hidden"};function lz(e){var{coordinate:t,translateX:r,translateY:n}=e;return Le(po,{["".concat(po,"-right")]:xe(r)&&t&&xe(t.x)&&r>=t.x,["".concat(po,"-left")]:xe(r)&&t&&xe(t.x)&&r<t.x,["".concat(po,"-bottom")]:xe(n)&&t&&xe(t.y)&&n>=t.y,["".concat(po,"-top")]:xe(n)&&t&&xe(t.y)&&n<t.y})}function Ij(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:d,viewBoxDimension:c}=e;if(i&&xe(i[n]))return i[n];var u=r[n]-l-(s>0?s:0),m=r[n]+s;if(t[n])return o[n]?u:m;var p=d[n];if(p==null)return 0;if(o[n]){var x=u,y=p;return x<y?Math.max(m,p):Math.max(u,p)}if(c==null)return 0;var g=m+l,v=p+c;return g>v?Math.max(u,p):Math.max(m,p)}function cz(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function dz(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:d}=e,c,u,m;return o.height>0&&o.width>0&&r?(u=Ij({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),m=Ij({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),c=cz({translateX:u,translateY:m,useTranslate3d:l})):c=oz,{cssProperties:c,cssClasses:lz({translateX:u,translateY:m,coordinate:r})}}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){Hx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hx(e,t,r){return(t=uz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uz(e){var t=mz(e,"string");return typeof t=="symbol"?t:t+""}function mz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class fz extends f.PureComponent{constructor(){super(...arguments),Hx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Hx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:d,offset:c,position:u,reverseDirection:m,useTranslate3d:p,viewBox:x,wrapperStyle:y,lastBoundingBox:g,innerRef:v,hasPortalFromProps:h}=this.props,{cssClasses:b,cssProperties:j}=dz({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:m,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:x}),k=h?{}:Lc(Lc({transition:d&&t?"transform ".concat(n,"ms ").concat(s):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=Lc(Lc({},k),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return f.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:N,ref:v},i)}}var NC=()=>{var e;return(e=fe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vx.apply(null,arguments)}function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){pz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pz(e,t,r){return(t=xz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xz(e){var t=hz(e,"string");return typeof t=="symbol"?t:t+""}function hz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rj={curveBasisClosed:pL,curveBasisOpen:xL,curveBasis:fL,curveBumpX:JM,curveBumpY:eL,curveLinearClosed:hL,curveLinear:im,curveMonotoneX:yL,curveMonotoneY:gL,curveNatural:vL,curveStep:bL,curveStepAfter:wL,curveStepBefore:jL},ou=e=>mt(e.x)&&mt(e.y),zj=e=>e.base!=null&&ou(e.base)&&ou(e),xo=e=>e.x,ho=e=>e.y,yz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Al(e));return(r==="curveMonotone"||r==="curveBump")&&t?Rj["".concat(r).concat(t==="vertical"?"Y":"X")]:Rj[r]||im},gz=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=yz(t,s),l=i?r.filter(ou):r,d;if(Array.isArray(n)){var c=r.map((x,y)=>$j($j({},x),{},{base:n[y]}));s==="vertical"?d=Pc().y(ho).x1(xo).x0(x=>x.base.x):d=Pc().x(xo).y1(ho).y0(x=>x.base.y);var u=d.defined(zj).curve(o),m=i?c.filter(zj):c;return u(m)}s==="vertical"&&xe(n)?d=Pc().y(ho).x1(xo).x0(n):xe(n)?d=Pc().x(xo).y1(ho).y0(n):d=O_().x(xo).y(ho);var p=d.defined(ou).curve(o);return p(l)},hg=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?gz(e):n;return f.createElement("path",Vx({},Mr(e),Wy(e),{className:Le("recharts-curve",t),d:i===null?void 0:i,ref:s}))},vz=["x","y","top","left","width","height","className"];function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qx.apply(null,arguments)}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){jz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jz(e,t,r){return(t=wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wz(e){var t=Nz(e,"string");return typeof t=="symbol"?t:t+""}function Nz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kz(e,t){if(e==null)return{};var r,n,s=_z(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _z(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sz=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Cz=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,d=kz(e,vz),c=bz({x:t,y:r,top:n,left:s,width:i,height:o},d);return!xe(t)||!xe(r)||!xe(i)||!xe(o)||!xe(n)||!xe(s)?null:f.createElement("path",qx({},cr(c),{className:Le("recharts-cross",l),d:Sz(t,r,i,o,n,s)}))};function Pz(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Uj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){Ez(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ez(e,t,r){return(t=Oz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oz(e){var t=Az(e,"string");return typeof t=="symbol"?t:t+""}function Az(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tz=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),kC=(e,t,r)=>e.map(n=>"".concat(Tz(n)," ").concat(t,"ms ").concat(r)).join(","),Dz=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),fl=(e,t)=>Object.keys(t).reduce((r,n)=>Uj(Uj({},r),{},{[n]:e(n,t[n])}),{});function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){Iz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iz(e,t,r){return(t=Mz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mz(e){var t=Lz(e,"string");return typeof t=="symbol"?t:t+""}function Lz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lu=(e,t,r)=>e+(t-e)*r,Yx=e=>{var{from:t,to:r}=e;return t!==r},_C=(e,t,r)=>{var n=fl((s,i)=>{if(Yx(i)){var[o,l]=e(i.from,i.to,i.velocity);return Nt(Nt({},i),{},{from:o,velocity:l})}return i},t);return r<1?fl((s,i)=>Yx(i)?Nt(Nt({},i),{},{velocity:lu(i.velocity,n[s].velocity,r),from:lu(i.from,n[s].from,r)}):i,t):_C(e,n,r-1)};function $z(e,t,r,n,s,i){var o,l=n.reduce((p,x)=>Nt(Nt({},p),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),d=()=>fl((p,x)=>x.from,l),c=()=>!Object.values(l).filter(Yx).length,u=null,m=p=>{o||(o=p);var x=p-o,y=x/r.dt;l=_C(r,l,y),s(Nt(Nt(Nt({},e),t),d())),o=p,c()||(u=i.setTimeout(m))};return()=>(u=i.setTimeout(m),()=>{var p;(p=u)===null||p===void 0||p()})}function Rz(e,t,r,n,s,i,o){var l=null,d=s.reduce((m,p)=>Nt(Nt({},m),{},{[p]:[e[p],t[p]]}),{}),c,u=m=>{c||(c=m);var p=(m-c)/n,x=fl((g,v)=>lu(...v,r(p)),d);if(i(Nt(Nt(Nt({},e),t),x)),p<1)l=o.setTimeout(u);else{var y=fl((g,v)=>lu(...v,r(1)),d);i(Nt(Nt(Nt({},e),t),y))}};return()=>(l=o.setTimeout(u),()=>{var m;(m=l)===null||m===void 0||m()})}const zz=(e,t,r,n,s,i)=>{var o=Dz(e,t);return r==null?()=>(s(Nt(Nt({},e),t)),()=>{}):r.isStepper===!0?$z(e,t,r,o,s,i):Rz(e,t,r,n,o,s,i)};var cu=1e-4,SC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],CC=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Kj=(e,t)=>r=>{var n=SC(e,t);return CC(n,r)},Fz=(e,t)=>r=>{var n=SC(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return CC(s,r)},Bz=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,i=r[0].split("(");if(i[0]==="cubic-bezier"&&((s=i[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var o=i[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},Uz=(e,t,r,n)=>{var s=Kj(e,r),i=Kj(t,n),o=Fz(e,r),l=c=>c>1?1:c<0?0:c,d=c=>{for(var u=c>1?1:c,m=u,p=0;p<8;++p){var x=s(m)-u,y=o(m);if(Math.abs(x-u)<cu||y<cu)return i(m);m=l(m-x/y)}return i(m)};return d.isStepper=!1,d},Hj=function(){return Uz(...Bz(...arguments))},Wz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,l,d)=>{var c=-(o-l)*r,u=d*n,m=d+(c-u)*s/1e3,p=d*s/1e3+o;return Math.abs(p-l)<cu&&Math.abs(m)<cu?[l,0]:[p,m]};return i.isStepper=!0,i.dt=s,i},Kz=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Hj(e);case"spring":return Wz();default:if(e.split("(")[0]==="cubic-bezier")return Hj(e)}return typeof e=="function"?e:null};function Hz(e){var t,r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[d,...c]=l;if(typeof d=="number"){s=e.setTimeout(i.bind(null,c),d);return}i(d),s=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Vz{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{s!=null&&cancelAnimationFrame(s)}}}function qz(){return Hz(new Vz)}var Yz=f.createContext(qz);function Gz(e,t){var r=f.useContext(Yz);return f.useMemo(()=>t??r(e),[e,t,r])}var Xz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Fl={devToolsEnabled:!1,isSsr:Xz()},Qz={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Vj={t:0},Qf={t:1};function Bl(e){var t=bt(e,Qz),{isActive:r,canBegin:n,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:d,children:c}=t,u=r==="auto"?!Fl.isSsr:r,m=Gz(t.animationId,t.animationManager),[p,x]=f.useState(u?Vj:Qf),y=f.useRef(null);return f.useEffect(()=>{u||x(Qf)},[u]),f.useEffect(()=>{if(!u||!n)return Tl;var g=zz(Vj,Qf,Kz(i),s,x,m.getTimeoutController()),v=()=>{y.current=g()};return m.start([d,o,v,s,l]),()=>{m.stop(),y.current&&y.current(),l()}},[u,n,s,i,o,d,l,m]),c(p.t)}function Ul(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=f.useRef(il(t)),n=f.useRef(e);return n.current!==e&&(r.current=il(t),n.current=e),r.current}var Zz=["radius"],Jz=["radius"];function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){e6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e6(e,t,r){return(t=t6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t6(e){var t=r6(e,"string");return typeof t=="symbol"?t:t+""}function r6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},du.apply(null,arguments)}function Gj(e,t){if(e==null)return{};var r,n,s=n6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function n6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xj=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,c;if(i>0&&s instanceof Array){for(var u=[0,0,0,0],m=0,p=4;m<p;m++)u[m]=s[m]>i?i:s[m];c="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(d,",").concat(e+l*u[0],",").concat(t)),c+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+o*u[1])),c+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(d,`,
        `).concat(e+r-l*u[2],",").concat(t+n)),c+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-o*u[3])),c+="Z"}else if(i>0&&s===+s&&s>0){var x=Math.min(i,s);c="M ".concat(e,",").concat(t+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+l*x,",").concat(t,`
            L `).concat(e+r-l*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+r,",").concat(t+o*x,`
            L `).concat(e+r,",").concat(t+n-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+r-l*x,",").concat(t+n,`
            L `).concat(e+l*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(t+n-o*x," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},Qj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PC=e=>{var t=bt(e,Qj),r=f.useRef(null),[n,s]=f.useState(-1);f.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var W=r.current.getTotalLength();W&&s(W)}catch{}},[]);var{x:i,y:o,width:l,height:d,radius:c,className:u}=t,{animationEasing:m,animationDuration:p,animationBegin:x,isAnimationActive:y,isUpdateAnimationActive:g}=t,v=f.useRef(l),h=f.useRef(d),b=f.useRef(i),j=f.useRef(o),k=f.useMemo(()=>({x:i,y:o,width:l,height:d,radius:c}),[i,o,l,d,c]),N=Ul(k,"rectangle-");if(i!==+i||o!==+o||l!==+l||d!==+d||l===0||d===0)return null;var w=Le("recharts-rectangle",u);if(!g){var P=cr(t),{radius:_}=P,C=Gj(P,Zz);return f.createElement("path",du({},C,{radius:typeof c=="number"?c:void 0,className:w,d:Xj(i,o,l,d,c)}))}var O=v.current,S=h.current,E=b.current,I=j.current,A="0px ".concat(n===-1?1:n,"px"),M="".concat(n,"px 0px"),B=kC(["strokeDasharray"],p,typeof m=="string"?m:Qj.animationEasing);return f.createElement(Bl,{animationId:N,key:N,canBegin:n>0,duration:p,easing:m,isActive:g,begin:x},W=>{var L=Qe(O,l,W),R=Qe(S,d,W),$=Qe(E,i,W),X=Qe(I,o,W);r.current&&(v.current=L,h.current=R,b.current=$,j.current=X);var T;y?W>0?T={transition:B,strokeDasharray:M}:T={strokeDasharray:A}:T={strokeDasharray:M};var Q=cr(t),{radius:J}=Q,D=Gj(Q,Jz);return f.createElement("path",du({},D,{radius:typeof c=="number"?c:void 0,className:w,d:Xj($,X,L,R,c),ref:r,style:Yj(Yj({},T),t.style)}))})};function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){a6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a6(e,t,r){return(t=s6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s6(e){var t=i6(e,"string");return typeof t=="symbol"?t:t+""}function i6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uu=Math.PI/180,o6=e=>e*180/Math.PI,xt=(e,t,r,n)=>({x:e+Math.cos(-uu*n)*r,y:t+Math.sin(-uu*n)*r}),EC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},l6=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},c6=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=l6({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-s)/o,d=Math.acos(l);return n>i&&(d=2*Math.PI-d),{radius:o,angle:o6(d),angleInRadian:d}},d6=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},u6=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},m6=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:s,angle:i}=c6({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:d,endAngle:c}=d6(t),u=i,m;if(d<=c){for(;u>c;)u-=360;for(;u<d;)u+=360;m=u>=d&&u<=c}else{for(;u>d;)u-=360;for(;u<c;)u+=360;m=u>=c&&u<=d}return m?Jj(Jj({},t),{},{radius:s,angle:u6(u,t)}):null};function OC(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=xt(t,r,n,s),l=xt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gx.apply(null,arguments)}var f6=(e,t)=>{var r=Mt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},$c=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:d}=e,c=l*(o?1:-1)+n,u=Math.asin(l/c)/uu,m=d?s:s+i*u,p=xt(t,r,c,m),x=xt(t,r,n,m),y=d?s-i*u:s,g=xt(t,r,c*Math.cos(u*uu),y);return{center:p,circleTangency:x,lineTangency:g,theta:u}},AC=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,l=f6(i,o),d=i+l,c=xt(t,r,s,i),u=xt(t,r,s,d),m="M ".concat(c.x,",").concat(c.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>d),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var p=xt(t,r,n,i),x=xt(t,r,n,d);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},p6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:d,endAngle:c}=e,u=Mt(c-d),{circleTangency:m,lineTangency:p,theta:x}=$c({cx:t,cy:r,radius:s,angle:d,sign:u,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:g,theta:v}=$c({cx:t,cy:r,radius:s,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:l}),h=l?Math.abs(d-c):Math.abs(d-c)-x-v;if(h<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):AC({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:d,endAngle:c});var b="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(h>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:k,theta:N}=$c({cx:t,cy:r,radius:n,angle:d,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:w,lineTangency:P,theta:_}=$c({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),C=l?Math.abs(d-c):Math.abs(d-c)-N-_;if(C<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},x6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TC=e=>{var t=bt(e,x6),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:d,startAngle:c,endAngle:u,className:m}=t;if(i<s||c===u)return null;var p=Le("recharts-sector",m),x=i-s,y=tr(o,x,0,!0),g;return y>0&&Math.abs(c-u)<360?g=p6({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(y,x/2),forceCornerRadius:l,cornerIsExternal:d,startAngle:c,endAngle:u}):g=AC({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:c,endAngle:u}),f.createElement("path",Gx({},cr(t),{className:p,d:g}))};function h6(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(V_(t)){if(e==="centric"){var{cx:n,cy:s,innerRadius:i,outerRadius:o,angle:l}=t,d=xt(n,s,i,l),c=xt(n,s,o,l);return[{x:d.x,y:d.y},{x:c.x,y:c.y}]}return OC(t)}}var DC={},IC={},MC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eg;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(MC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MC;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(IC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tg,r=IC;function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),d=new Array(l);for(let c=0;c<l;c++)d[c]=s,s+=o;return d}e.range=n})(DC);var y6=DC.range;const LC=In(y6);function za(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function g6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yg(e){let t,r,n;e.length!==2?(t=za,r=(l,d)=>za(e(l),d),n=(l,d)=>e(l)-d):(t=e===za||e===g6?e:v6,r=e,n=e);function s(l,d,c=0,u=l.length){if(c<u){if(t(d,d)!==0)return u;do{const m=c+u>>>1;r(l[m],d)<0?c=m+1:u=m}while(c<u)}return c}function i(l,d,c=0,u=l.length){if(c<u){if(t(d,d)!==0)return u;do{const m=c+u>>>1;r(l[m],d)<=0?c=m+1:u=m}while(c<u)}return c}function o(l,d,c=0,u=l.length){const m=s(l,d,c,u-1);return m>c&&n(l[m-1],d)>-n(l[m],d)?m-1:m}return{left:s,center:o,right:i}}function v6(){return 0}function $C(e){return e===null?NaN:+e}function*b6(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const j6=yg(za),Wl=j6.right;yg($C).center;class ew extends Map{constructor(t,r=k6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(tw(this,t))}has(t){return super.has(tw(this,t))}set(t,r){return super.set(w6(this,t),r)}delete(t){return super.delete(N6(this,t))}}function tw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function w6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function N6({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function k6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _6(e=za){if(e===za)return RC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function RC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const S6=Math.sqrt(50),C6=Math.sqrt(10),P6=Math.sqrt(2);function mu(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=S6?10:i>=C6?5:i>=P6?2:1;let l,d,c;return s<0?(c=Math.pow(10,-s)/o,l=Math.round(e*c),d=Math.round(t*c),l/c<e&&++l,d/c>t&&--d,c=-c):(c=Math.pow(10,s)*o,l=Math.round(e/c),d=Math.round(t/c),l*c<e&&++l,d*c>t&&--d),d<l&&.5<=r&&r<2?mu(e,t,r*2):[l,d,c]}function Xx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?mu(t,e,r):mu(e,t,r);if(!(i>=s))return[];const l=i-s+1,d=new Array(l);if(n)if(o<0)for(let c=0;c<l;++c)d[c]=(i-c)/-o;else for(let c=0;c<l;++c)d[c]=(i-c)*o;else if(o<0)for(let c=0;c<l;++c)d[c]=(s+c)/-o;else for(let c=0;c<l;++c)d[c]=(s+c)*o;return d}function Qx(e,t,r){return t=+t,e=+e,r=+r,mu(e,t,r)[2]}function Zx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Qx(t,e,r):Qx(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function rw(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function nw(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function zC(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?RC:_6(s);n>r;){if(n-r>600){const d=n-r+1,c=t-r+1,u=Math.log(d),m=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*m*(d-m)/d)*(c-d/2<0?-1:1),x=Math.max(r,Math.floor(t-c*m/d+p)),y=Math.min(n,Math.floor(t+(d-c)*m/d+p));zC(e,t,x,y,s)}const i=e[t];let o=r,l=n;for(yo(e,r,t),s(e[n],i)>0&&yo(e,r,n);o<l;){for(yo(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?yo(e,r,l):(++l,yo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function yo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function E6(e,t,r){if(e=Float64Array.from(b6(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return nw(e);if(t>=1)return rw(e);var n,s=(n-1)*t,i=Math.floor(s),o=rw(zC(e,i).subarray(0,i+1)),l=nw(e.subarray(i+1));return o+(l-o)*(s-i)}}function O6(e,t,r=$C){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function A6(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function en(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ma(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Jx=Symbol("implicit");function gg(){var e=new ew,t=[],r=[],n=Jx;function s(i){let o=e.get(i);if(o===void 0){if(n!==Jx)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new ew;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return gg(t,r).unknown(n)},en.apply(s,arguments),s}function vg(){var e=gg().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,d=0,c=0,u=.5;delete e.unknown;function m(){var p=t().length,x=s<n,y=x?s:n,g=x?n:s;i=(g-y)/Math.max(1,p-d+c*2),l&&(i=Math.floor(i)),y+=(g-y-i*(p-d))*u,o=i*(1-d),l&&(y=Math.round(y),o=Math.round(o));var v=A6(p).map(function(h){return y+i*h});return r(x?v.reverse():v)}return e.domain=function(p){return arguments.length?(t(p),m()):t()},e.range=function(p){return arguments.length?([n,s]=p,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(p){return[n,s]=p,n=+n,s=+s,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,m()):l},e.padding=function(p){return arguments.length?(d=Math.min(1,c=+p),m()):d},e.paddingInner=function(p){return arguments.length?(d=Math.min(1,p),m()):d},e.paddingOuter=function(p){return arguments.length?(c=+p,m()):c},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),m()):u},e.copy=function(){return vg(t(),[n,s]).round(l).paddingInner(d).paddingOuter(c).align(u)},en.apply(m(),arguments)}function FC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return FC(t())},e}function T6(){return FC(vg.apply(null,arguments).paddingInner(1))}function bg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function BC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Kl(){}var pl=.7,fu=1/pl,hi="\\s*([+-]?\\d+)\\s*",xl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D6=/^#([0-9a-f]{3,8})$/,I6=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),M6=new RegExp(`^rgb\\(${On},${On},${On}\\)$`),L6=new RegExp(`^rgba\\(${hi},${hi},${hi},${xl}\\)$`),$6=new RegExp(`^rgba\\(${On},${On},${On},${xl}\\)$`),R6=new RegExp(`^hsl\\(${xl},${On},${On}\\)$`),z6=new RegExp(`^hsla\\(${xl},${On},${On},${xl}\\)$`),aw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bg(Kl,hl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sw,formatHex:sw,formatHex8:F6,formatHsl:B6,formatRgb:iw,toString:iw});function sw(){return this.rgb().formatHex()}function F6(){return this.rgb().formatHex8()}function B6(){return UC(this).formatHsl()}function iw(){return this.rgb().formatRgb()}function hl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=D6.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ow(t):r===3?new yr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Rc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Rc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=I6.exec(e))?new yr(t[1],t[2],t[3],1):(t=M6.exec(e))?new yr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=L6.exec(e))?Rc(t[1],t[2],t[3],t[4]):(t=$6.exec(e))?Rc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=R6.exec(e))?dw(t[1],t[2]/100,t[3]/100,1):(t=z6.exec(e))?dw(t[1],t[2]/100,t[3]/100,t[4]):aw.hasOwnProperty(e)?ow(aw[e]):e==="transparent"?new yr(NaN,NaN,NaN,0):null}function ow(e){return new yr(e>>16&255,e>>8&255,e&255,1)}function Rc(e,t,r,n){return n<=0&&(e=t=r=NaN),new yr(e,t,r,n)}function U6(e){return e instanceof Kl||(e=hl(e)),e?(e=e.rgb(),new yr(e.r,e.g,e.b,e.opacity)):new yr}function eh(e,t,r,n){return arguments.length===1?U6(e):new yr(e,t,r,n??1)}function yr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}bg(yr,eh,BC(Kl,{brighter(e){return e=e==null?fu:Math.pow(fu,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pl:Math.pow(pl,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yr(Ns(this.r),Ns(this.g),Ns(this.b),pu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lw,formatHex:lw,formatHex8:W6,formatRgb:cw,toString:cw}));function lw(){return`#${xs(this.r)}${xs(this.g)}${xs(this.b)}`}function W6(){return`#${xs(this.r)}${xs(this.g)}${xs(this.b)}${xs((isNaN(this.opacity)?1:this.opacity)*255)}`}function cw(){const e=pu(this.opacity);return`${e===1?"rgb(":"rgba("}${Ns(this.r)}, ${Ns(this.g)}, ${Ns(this.b)}${e===1?")":`, ${e})`}`}function pu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ns(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xs(e){return e=Ns(e),(e<16?"0":"")+e.toString(16)}function dw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new un(e,t,r,n)}function UC(e){if(e instanceof un)return new un(e.h,e.s,e.l,e.opacity);if(e instanceof Kl||(e=hl(e)),!e)return new un;if(e instanceof un)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,d=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=d<.5?i+s:2-i-s,o*=60):l=d>0&&d<1?0:o,new un(o,l,d,e.opacity)}function K6(e,t,r,n){return arguments.length===1?UC(e):new un(e,t,r,n??1)}function un(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}bg(un,K6,BC(Kl,{brighter(e){return e=e==null?fu:Math.pow(fu,e),new un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pl:Math.pow(pl,e),new un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new yr(Zf(e>=240?e-240:e+120,s,n),Zf(e,s,n),Zf(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new un(uw(this.h),zc(this.s),zc(this.l),pu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=pu(this.opacity);return`${e===1?"hsl(":"hsla("}${uw(this.h)}, ${zc(this.s)*100}%, ${zc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uw(e){return e=(e||0)%360,e<0?e+360:e}function zc(e){return Math.max(0,Math.min(1,e||0))}function Zf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const jg=e=>()=>e;function H6(e,t){return function(r){return e+r*t}}function V6(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function q6(e){return(e=+e)==1?WC:function(t,r){return r-t?V6(t,r,e):jg(isNaN(t)?r:t)}}function WC(e,t){var r=t-e;return r?H6(e,r):jg(isNaN(e)?t:e)}const mw=function e(t){var r=q6(t);function n(s,i){var o=r((s=eh(s)).r,(i=eh(i)).r),l=r(s.g,i.g),d=r(s.b,i.b),c=WC(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=d(u),s.opacity=c(u),s+""}}return n.gamma=e,n}(1);function Y6(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function G6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function X6(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Yi(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function Q6(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function xu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Z6(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Yi(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var th=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jf=new RegExp(th.source,"g");function J6(e){return function(){return e}}function eF(e){return function(t){return e(t)+""}}function tF(e,t){var r=th.lastIndex=Jf.lastIndex=0,n,s,i,o=-1,l=[],d=[];for(e=e+"",t=t+"";(n=th.exec(e))&&(s=Jf.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,d.push({i:o,x:xu(n,s)})),r=Jf.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?d[0]?eF(d[0].x):J6(t):(t=d.length,function(c){for(var u=0,m;u<t;++u)l[(m=d[u]).i]=m.x(c);return l.join("")})}function Yi(e,t){var r=typeof t,n;return t==null||r==="boolean"?jg(t):(r==="number"?xu:r==="string"?(n=hl(t))?(t=n,mw):tF:t instanceof hl?mw:t instanceof Date?Q6:G6(t)?Y6:Array.isArray(t)?X6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Z6:xu)(e,t)}function wg(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rF(e,t){t===void 0&&(t=e,e=Yi);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function nF(e){return function(){return e}}function hu(e){return+e}var fw=[0,1];function or(e){return e}function rh(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nF(isNaN(t)?NaN:.5)}function aF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function sF(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=rh(s,n),i=r(o,i)):(n=rh(n,s),i=r(i,o)),function(l){return i(n(l))}}function iF(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=rh(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var d=Wl(e,l,1,n)-1;return i[d](s[d](l))}}function Hl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Am(){var e=fw,t=fw,r=Yi,n,s,i,o=or,l,d,c;function u(){var p=Math.min(e.length,t.length);return o!==or&&(o=aF(e[0],e[p-1])),l=p>2?iF:sF,d=c=null,m}function m(p){return p==null||isNaN(p=+p)?i:(d||(d=l(e.map(n),t,r)))(n(o(p)))}return m.invert=function(p){return o(s((c||(c=l(t,e.map(n),xu)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,hu),u()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),r=wg,u()},m.clamp=function(p){return arguments.length?(o=p?!0:or,u()):o!==or},m.interpolate=function(p){return arguments.length?(r=p,u()):r},m.unknown=function(p){return arguments.length?(i=p,m):i},function(p,x){return n=p,s=x,u()}}function Ng(){return Am()(or,or)}function oF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Li(e){return e=yu(Math.abs(e)),e?e[1]:NaN}function lF(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],d=0;s>0&&l>0&&(d+l+1>n&&(l=Math.max(1,n-d)),i.push(r.substring(s-=l,s+l)),!((d+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function cF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var dF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yl(e){if(!(t=dF.exec(e)))throw new Error("invalid format: "+e);var t;return new kg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yl.prototype=kg.prototype;function kg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}kg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uF(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var KC;function mF(e,t){var r=yu(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(KC=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+yu(e,Math.max(0,t+i-1))[0]}function pw(e,t){var r=yu(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const xw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pw(e*100,t),r:pw,s:mF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hw(e){return e}var yw=Array.prototype.map,gw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fF(e){var t=e.grouping===void 0||e.thousands===void 0?hw:lF(yw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?hw:cF(yw.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function c(m){m=yl(m);var p=m.fill,x=m.align,y=m.sign,g=m.symbol,v=m.zero,h=m.width,b=m.comma,j=m.precision,k=m.trim,N=m.type;N==="n"?(b=!0,N="g"):xw[N]||(j===void 0&&(j=12),k=!0,N="g"),(v||p==="0"&&x==="=")&&(v=!0,p="0",x="=");var w=g==="$"?r:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=g==="$"?n:/[%p]/.test(N)?o:"",_=xw[N],C=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function O(S){var E=w,I=P,A,M,B;if(N==="c")I=_(S)+I,S="";else{S=+S;var W=S<0||1/S<0;if(S=isNaN(S)?d:_(Math.abs(S),j),k&&(S=uF(S)),W&&+S==0&&y!=="+"&&(W=!1),E=(W?y==="("?y:l:y==="-"||y==="("?"":y)+E,I=(N==="s"?gw[8+KC/3]:"")+I+(W&&y==="("?")":""),C){for(A=-1,M=S.length;++A<M;)if(B=S.charCodeAt(A),48>B||B>57){I=(B===46?s+S.slice(A+1):S.slice(A))+I,S=S.slice(0,A);break}}}b&&!v&&(S=t(S,1/0));var L=E.length+S.length+I.length,R=L<h?new Array(h-L+1).join(p):"";switch(b&&v&&(S=t(R+S,R.length?h-I.length:1/0),R=""),x){case"<":S=E+S+I+R;break;case"=":S=E+R+S+I;break;case"^":S=R.slice(0,L=R.length>>1)+E+S+I+R.slice(L);break;default:S=R+E+S+I;break}return i(S)}return O.toString=function(){return m+""},O}function u(m,p){var x=c((m=yl(m),m.type="f",m)),y=Math.max(-8,Math.min(8,Math.floor(Li(p)/3)))*3,g=Math.pow(10,-y),v=gw[8+y/3];return function(h){return x(g*h)+v}}return{format:c,formatPrefix:u}}var Fc,_g,HC;pF({thousands:",",grouping:[3],currency:["$",""]});function pF(e){return Fc=fF(e),_g=Fc.format,HC=Fc.formatPrefix,Fc}function xF(e){return Math.max(0,-Li(Math.abs(e)))}function hF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Li(t)/3)))*3-Li(Math.abs(e)))}function yF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Li(t)-Li(e))+1}function VC(e,t,r,n){var s=Zx(e,t,r),i;switch(n=yl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=hF(s,o))&&(n.precision=i),HC(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=yF(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=xF(s))&&(n.precision=i-(n.type==="%")*2);break}}return _g(n)}function ts(e){var t=e.domain;return e.ticks=function(r){var n=t();return Xx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return VC(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],d,c,u=10;for(l<o&&(c=o,o=l,l=c,c=s,s=i,i=c);u-- >0;){if(c=Qx(o,l,r),c===d)return n[s]=o,n[i]=l,t(n);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;d=c}return e},e}function qC(){var e=Ng();return e.copy=function(){return Hl(e,qC())},en.apply(e,arguments),ts(e)}function YC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,hu),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return YC(e).unknown(t)},e=arguments.length?Array.from(e,hu):[0,1],ts(r)}function GC(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function vw(e){return Math.log(e)}function bw(e){return Math.exp(e)}function gF(e){return-Math.log(-e)}function vF(e){return-Math.exp(-e)}function bF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jF(e){return e===10?bF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function jw(e){return(t,r)=>-e(-t,r)}function Sg(e){const t=e(vw,bw),r=t.domain;let n=10,s,i;function o(){return s=wF(n),i=jF(n),r()[0]<0?(s=jw(s),i=jw(i),e(gF,vF)):e(vw,bw),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const d=r();let c=d[0],u=d[d.length-1];const m=u<c;m&&([c,u]=[u,c]);let p=s(c),x=s(u),y,g;const v=l==null?10:+l;let h=[];if(!(n%1)&&x-p<v){if(p=Math.floor(p),x=Math.ceil(x),c>0){for(;p<=x;++p)for(y=1;y<n;++y)if(g=p<0?y/i(-p):y*i(p),!(g<c)){if(g>u)break;h.push(g)}}else for(;p<=x;++p)for(y=n-1;y>=1;--y)if(g=p>0?y/i(-p):y*i(p),!(g<c)){if(g>u)break;h.push(g)}h.length*2<v&&(h=Xx(c,u,v))}else h=Xx(p,x,Math.min(x-p,v)).map(i);return m?h.reverse():h},t.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=yl(d)).precision==null&&(d.trim=!0),d=_g(d)),l===1/0)return d;const c=Math.max(1,n*l/t.ticks().length);return u=>{let m=u/i(Math.round(s(u)));return m*n<n-.5&&(m*=n),m<=c?d(u):""}},t.nice=()=>r(GC(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function XC(){const e=Sg(Am()).domain([1,10]);return e.copy=()=>Hl(e,XC()).base(e.base()),en.apply(e,arguments),e}function ww(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Nw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Cg(e){var t=1,r=e(ww(t),Nw(t));return r.constant=function(n){return arguments.length?e(ww(t=+n),Nw(t)):t},ts(r)}function QC(){var e=Cg(Am());return e.copy=function(){return Hl(e,QC()).constant(e.constant())},en.apply(e,arguments)}function kw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function NF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function kF(e){return e<0?-e*e:e*e}function Pg(e){var t=e(or,or),r=1;function n(){return r===1?e(or,or):r===.5?e(NF,kF):e(kw(r),kw(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},ts(t)}function Eg(){var e=Pg(Am());return e.copy=function(){return Hl(e,Eg()).exponent(e.exponent())},en.apply(e,arguments),e}function _F(){return Eg.apply(null,arguments).exponent(.5)}function _w(e){return Math.sign(e)*e*e}function SF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ZC(){var e=Ng(),t=[0,1],r=!1,n;function s(i){var o=SF(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(_w(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,hu)).map(_w)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return ZC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},en.apply(s,arguments),ts(s)}function JC(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=O6(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Wl(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(za),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return JC().domain(e).range(t).unknown(n)},en.apply(i,arguments)}function eP(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(d){return d!=null&&d<=d?s[Wl(n,d,0,r)]:i}function l(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,l()):[e,t]},o.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,l()):s.slice()},o.invertExtent=function(d){var c=s.indexOf(d);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return eP().domain([e,t]).range(s).unknown(i)},en.apply(ts(o),arguments)}function tP(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Wl(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return tP().domain(e).range(t).unknown(r)},en.apply(s,arguments)}const ep=new Date,tp=new Date;function Ct(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const d=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return d;let c;do d.push(c=new Date(+i)),t(i,l),e(i);while(c<i&&i<o);return d},s.filter=i=>Ct(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(ep.setTime(+i),tp.setTime(+o),e(ep),e(tp),Math.floor(r(ep,tp))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const gu=Ct(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ct(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):gu);gu.range;const Un=1e3,qr=Un*60,Wn=qr*60,na=Wn*24,Og=na*7,Sw=na*30,rp=na*365,hs=Ct(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Un)},(e,t)=>(t-e)/Un,e=>e.getUTCSeconds());hs.range;const Ag=Ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Un)},(e,t)=>{e.setTime(+e+t*qr)},(e,t)=>(t-e)/qr,e=>e.getMinutes());Ag.range;const Tg=Ct(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qr)},(e,t)=>(t-e)/qr,e=>e.getUTCMinutes());Tg.range;const Dg=Ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Un-e.getMinutes()*qr)},(e,t)=>{e.setTime(+e+t*Wn)},(e,t)=>(t-e)/Wn,e=>e.getHours());Dg.range;const Ig=Ct(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Wn)},(e,t)=>(t-e)/Wn,e=>e.getUTCHours());Ig.range;const Vl=Ct(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qr)/na,e=>e.getDate()-1);Vl.range;const Tm=Ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/na,e=>e.getUTCDate()-1);Tm.range;const rP=Ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/na,e=>Math.floor(e/na));rP.range;function Fs(e){return Ct(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*qr)/Og)}const Dm=Fs(0),vu=Fs(1),CF=Fs(2),PF=Fs(3),$i=Fs(4),EF=Fs(5),OF=Fs(6);Dm.range;vu.range;CF.range;PF.range;$i.range;EF.range;OF.range;function Bs(e){return Ct(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Og)}const Im=Bs(0),bu=Bs(1),AF=Bs(2),TF=Bs(3),Ri=Bs(4),DF=Bs(5),IF=Bs(6);Im.range;bu.range;AF.range;TF.range;Ri.range;DF.range;IF.range;const Mg=Ct(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Mg.range;const Lg=Ct(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Lg.range;const aa=Ct(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());aa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ct(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});aa.range;const sa=Ct(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());sa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ct(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});sa.range;function nP(e,t,r,n,s,i){const o=[[hs,1,Un],[hs,5,5*Un],[hs,15,15*Un],[hs,30,30*Un],[i,1,qr],[i,5,5*qr],[i,15,15*qr],[i,30,30*qr],[s,1,Wn],[s,3,3*Wn],[s,6,6*Wn],[s,12,12*Wn],[n,1,na],[n,2,2*na],[r,1,Og],[t,1,Sw],[t,3,3*Sw],[e,1,rp]];function l(c,u,m){const p=u<c;p&&([c,u]=[u,c]);const x=m&&typeof m.range=="function"?m:d(c,u,m),y=x?x.range(c,+u+1):[];return p?y.reverse():y}function d(c,u,m){const p=Math.abs(u-c)/m,x=yg(([,,v])=>v).right(o,p);if(x===o.length)return e.every(Zx(c/rp,u/rp,m));if(x===0)return gu.every(Math.max(Zx(c,u,m),1));const[y,g]=o[p/o[x-1][2]<o[x][2]/p?x-1:x];return y.every(g)}return[l,d]}const[MF,LF]=nP(sa,Lg,Im,rP,Ig,Tg),[$F,RF]=nP(aa,Mg,Dm,Vl,Dg,Ag);function np(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ap(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function go(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function zF(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,d=e.shortMonths,c=vo(s),u=bo(s),m=vo(i),p=bo(i),x=vo(o),y=bo(o),g=vo(l),v=bo(l),h=vo(d),b=bo(d),j={a:W,A:L,b:R,B:$,c:null,d:Tw,e:Tw,f:lB,g:gB,G:bB,H:sB,I:iB,j:oB,L:aP,m:cB,M:dB,p:X,q:T,Q:Mw,s:Lw,S:uB,u:mB,U:fB,V:pB,w:xB,W:hB,x:null,X:null,y:yB,Y:vB,Z:jB,"%":Iw},k={a:Q,A:J,b:D,B:q,c:null,d:Dw,e:Dw,f:_B,g:MB,G:$B,H:wB,I:NB,j:kB,L:iP,m:SB,M:CB,p:ie,q:oe,Q:Mw,s:Lw,S:PB,u:EB,U:OB,V:AB,w:TB,W:DB,x:null,X:null,y:IB,Y:LB,Z:RB,"%":Iw},N={a:O,A:S,b:E,B:I,c:A,d:Ow,e:Ow,f:tB,g:Ew,G:Pw,H:Aw,I:Aw,j:QF,L:eB,m:XF,M:ZF,p:C,q:GF,Q:nB,s:aB,S:JF,u:KF,U:HF,V:VF,w:WF,W:qF,x:M,X:B,y:Ew,Y:Pw,Z:YF,"%":rB};j.x=w(r,j),j.X=w(n,j),j.c=w(t,j),k.x=w(r,k),k.X=w(n,k),k.c=w(t,k);function w(U,ue){return function(he){var Z=[],Y=-1,ae=0,be=U.length,H,ee,le;for(he instanceof Date||(he=new Date(+he));++Y<be;)U.charCodeAt(Y)===37&&(Z.push(U.slice(ae,Y)),(ee=Cw[H=U.charAt(++Y)])!=null?H=U.charAt(++Y):ee=H==="e"?" ":"0",(le=ue[H])&&(H=le(he,ee)),Z.push(H),ae=Y+1);return Z.push(U.slice(ae,Y)),Z.join("")}}function P(U,ue){return function(he){var Z=go(1900,void 0,1),Y=_(Z,U,he+="",0),ae,be;if(Y!=he.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(ue&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(ae=ap(go(Z.y,0,1)),be=ae.getUTCDay(),ae=be>4||be===0?bu.ceil(ae):bu(ae),ae=Tm.offset(ae,(Z.V-1)*7),Z.y=ae.getUTCFullYear(),Z.m=ae.getUTCMonth(),Z.d=ae.getUTCDate()+(Z.w+6)%7):(ae=np(go(Z.y,0,1)),be=ae.getDay(),ae=be>4||be===0?vu.ceil(ae):vu(ae),ae=Vl.offset(ae,(Z.V-1)*7),Z.y=ae.getFullYear(),Z.m=ae.getMonth(),Z.d=ae.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),be="Z"in Z?ap(go(Z.y,0,1)).getUTCDay():np(go(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(be+5)%7:Z.w+Z.U*7-(be+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,ap(Z)):np(Z)}}function _(U,ue,he,Z){for(var Y=0,ae=ue.length,be=he.length,H,ee;Y<ae;){if(Z>=be)return-1;if(H=ue.charCodeAt(Y++),H===37){if(H=ue.charAt(Y++),ee=N[H in Cw?ue.charAt(Y++):H],!ee||(Z=ee(U,he,Z))<0)return-1}else if(H!=he.charCodeAt(Z++))return-1}return Z}function C(U,ue,he){var Z=c.exec(ue.slice(he));return Z?(U.p=u.get(Z[0].toLowerCase()),he+Z[0].length):-1}function O(U,ue,he){var Z=x.exec(ue.slice(he));return Z?(U.w=y.get(Z[0].toLowerCase()),he+Z[0].length):-1}function S(U,ue,he){var Z=m.exec(ue.slice(he));return Z?(U.w=p.get(Z[0].toLowerCase()),he+Z[0].length):-1}function E(U,ue,he){var Z=h.exec(ue.slice(he));return Z?(U.m=b.get(Z[0].toLowerCase()),he+Z[0].length):-1}function I(U,ue,he){var Z=g.exec(ue.slice(he));return Z?(U.m=v.get(Z[0].toLowerCase()),he+Z[0].length):-1}function A(U,ue,he){return _(U,t,ue,he)}function M(U,ue,he){return _(U,r,ue,he)}function B(U,ue,he){return _(U,n,ue,he)}function W(U){return o[U.getDay()]}function L(U){return i[U.getDay()]}function R(U){return d[U.getMonth()]}function $(U){return l[U.getMonth()]}function X(U){return s[+(U.getHours()>=12)]}function T(U){return 1+~~(U.getMonth()/3)}function Q(U){return o[U.getUTCDay()]}function J(U){return i[U.getUTCDay()]}function D(U){return d[U.getUTCMonth()]}function q(U){return l[U.getUTCMonth()]}function ie(U){return s[+(U.getUTCHours()>=12)]}function oe(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var ue=w(U+="",j);return ue.toString=function(){return U},ue},parse:function(U){var ue=P(U+="",!1);return ue.toString=function(){return U},ue},utcFormat:function(U){var ue=w(U+="",k);return ue.toString=function(){return U},ue},utcParse:function(U){var ue=P(U+="",!0);return ue.toString=function(){return U},ue}}}var Cw={"-":"",_:" ",0:"0"},Rt=/^\s*\d+/,FF=/^%/,BF=/[\\^$*+?|[\]().{}]/g;function $e(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function UF(e){return e.replace(BF,"\\$&")}function vo(e){return new RegExp("^(?:"+e.map(UF).join("|")+")","i")}function bo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function WF(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function KF(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function HF(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function VF(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function qF(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Pw(e,t,r){var n=Rt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Ew(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function YF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function GF(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function XF(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Ow(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function QF(e,t,r){var n=Rt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Aw(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ZF(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function JF(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function eB(e,t,r){var n=Rt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function tB(e,t,r){var n=Rt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rB(e,t,r){var n=FF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function nB(e,t,r){var n=Rt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function aB(e,t,r){var n=Rt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Tw(e,t){return $e(e.getDate(),t,2)}function sB(e,t){return $e(e.getHours(),t,2)}function iB(e,t){return $e(e.getHours()%12||12,t,2)}function oB(e,t){return $e(1+Vl.count(aa(e),e),t,3)}function aP(e,t){return $e(e.getMilliseconds(),t,3)}function lB(e,t){return aP(e,t)+"000"}function cB(e,t){return $e(e.getMonth()+1,t,2)}function dB(e,t){return $e(e.getMinutes(),t,2)}function uB(e,t){return $e(e.getSeconds(),t,2)}function mB(e){var t=e.getDay();return t===0?7:t}function fB(e,t){return $e(Dm.count(aa(e)-1,e),t,2)}function sP(e){var t=e.getDay();return t>=4||t===0?$i(e):$i.ceil(e)}function pB(e,t){return e=sP(e),$e($i.count(aa(e),e)+(aa(e).getDay()===4),t,2)}function xB(e){return e.getDay()}function hB(e,t){return $e(vu.count(aa(e)-1,e),t,2)}function yB(e,t){return $e(e.getFullYear()%100,t,2)}function gB(e,t){return e=sP(e),$e(e.getFullYear()%100,t,2)}function vB(e,t){return $e(e.getFullYear()%1e4,t,4)}function bB(e,t){var r=e.getDay();return e=r>=4||r===0?$i(e):$i.ceil(e),$e(e.getFullYear()%1e4,t,4)}function jB(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$e(t/60|0,"0",2)+$e(t%60,"0",2)}function Dw(e,t){return $e(e.getUTCDate(),t,2)}function wB(e,t){return $e(e.getUTCHours(),t,2)}function NB(e,t){return $e(e.getUTCHours()%12||12,t,2)}function kB(e,t){return $e(1+Tm.count(sa(e),e),t,3)}function iP(e,t){return $e(e.getUTCMilliseconds(),t,3)}function _B(e,t){return iP(e,t)+"000"}function SB(e,t){return $e(e.getUTCMonth()+1,t,2)}function CB(e,t){return $e(e.getUTCMinutes(),t,2)}function PB(e,t){return $e(e.getUTCSeconds(),t,2)}function EB(e){var t=e.getUTCDay();return t===0?7:t}function OB(e,t){return $e(Im.count(sa(e)-1,e),t,2)}function oP(e){var t=e.getUTCDay();return t>=4||t===0?Ri(e):Ri.ceil(e)}function AB(e,t){return e=oP(e),$e(Ri.count(sa(e),e)+(sa(e).getUTCDay()===4),t,2)}function TB(e){return e.getUTCDay()}function DB(e,t){return $e(bu.count(sa(e)-1,e),t,2)}function IB(e,t){return $e(e.getUTCFullYear()%100,t,2)}function MB(e,t){return e=oP(e),$e(e.getUTCFullYear()%100,t,2)}function LB(e,t){return $e(e.getUTCFullYear()%1e4,t,4)}function $B(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ri(e):Ri.ceil(e),$e(e.getUTCFullYear()%1e4,t,4)}function RB(){return"+0000"}function Iw(){return"%"}function Mw(e){return+e}function Lw(e){return Math.floor(+e/1e3)}var Hs,lP,cP;zB({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zB(e){return Hs=zF(e),lP=Hs.format,Hs.parse,cP=Hs.utcFormat,Hs.utcParse,Hs}function FB(e){return new Date(e)}function BB(e){return e instanceof Date?+e:+new Date(+e)}function $g(e,t,r,n,s,i,o,l,d,c){var u=Ng(),m=u.invert,p=u.domain,x=c(".%L"),y=c(":%S"),g=c("%I:%M"),v=c("%I %p"),h=c("%a %d"),b=c("%b %d"),j=c("%B"),k=c("%Y");function N(w){return(d(w)<w?x:l(w)<w?y:o(w)<w?g:i(w)<w?v:n(w)<w?s(w)<w?h:b:r(w)<w?j:k)(w)}return u.invert=function(w){return new Date(m(w))},u.domain=function(w){return arguments.length?p(Array.from(w,BB)):p().map(FB)},u.ticks=function(w){var P=p();return e(P[0],P[P.length-1],w??10)},u.tickFormat=function(w,P){return P==null?N:c(P)},u.nice=function(w){var P=p();return(!w||typeof w.range!="function")&&(w=t(P[0],P[P.length-1],w??10)),w?p(GC(P,w)):u},u.copy=function(){return Hl(u,$g(e,t,r,n,s,i,o,l,d,c))},u}function UB(){return en.apply($g($F,RF,aa,Mg,Dm,Vl,Dg,Ag,hs,lP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WB(){return en.apply($g(MF,LF,sa,Lg,Im,Tm,Ig,Tg,hs,cP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mm(){var e=0,t=1,r,n,s,i,o=or,l=!1,d;function c(m){return m==null||isNaN(m=+m)?d:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}c.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(m){return arguments.length?(l=!!m,c):l},c.interpolator=function(m){return arguments.length?(o=m,c):o};function u(m){return function(p){var x,y;return arguments.length?([x,y]=p,o=m(x,y),c):[o(0),o(1)]}}return c.range=u(Yi),c.rangeRound=u(wg),c.unknown=function(m){return arguments.length?(d=m,c):d},function(m){return i=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),c}}function rs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dP(){var e=ts(Mm()(or));return e.copy=function(){return rs(e,dP())},ma.apply(e,arguments)}function uP(){var e=Sg(Mm()).domain([1,10]);return e.copy=function(){return rs(e,uP()).base(e.base())},ma.apply(e,arguments)}function mP(){var e=Cg(Mm());return e.copy=function(){return rs(e,mP()).constant(e.constant())},ma.apply(e,arguments)}function Rg(){var e=Pg(Mm());return e.copy=function(){return rs(e,Rg()).exponent(e.exponent())},ma.apply(e,arguments)}function KB(){return Rg.apply(null,arguments).exponent(.5)}function fP(){var e=[],t=or;function r(n){if(n!=null&&!isNaN(n=+n))return t((Wl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(za),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>E6(e,i/n))},r.copy=function(){return fP(t).domain(e)},ma.apply(r,arguments)}function Lm(){var e=0,t=.5,r=1,n=1,s,i,o,l,d,c=or,u,m=!1,p;function x(g){return isNaN(g=+g)?p:(g=.5+((g=+u(g))-i)*(n*g<n*i?l:d),c(m?Math.max(0,Math.min(1,g)):g))}x.domain=function(g){return arguments.length?([e,t,r]=g,s=u(e=+e),i=u(t=+t),o=u(r=+r),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),n=i<s?-1:1,x):[e,t,r]},x.clamp=function(g){return arguments.length?(m=!!g,x):m},x.interpolator=function(g){return arguments.length?(c=g,x):c};function y(g){return function(v){var h,b,j;return arguments.length?([h,b,j]=v,c=rF(g,[h,b,j]),x):[c(0),c(.5),c(1)]}}return x.range=y(Yi),x.rangeRound=y(wg),x.unknown=function(g){return arguments.length?(p=g,x):p},function(g){return u=g,s=g(e),i=g(t),o=g(r),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),n=i<s?-1:1,x}}function pP(){var e=ts(Lm()(or));return e.copy=function(){return rs(e,pP())},ma.apply(e,arguments)}function xP(){var e=Sg(Lm()).domain([.1,1,10]);return e.copy=function(){return rs(e,xP()).base(e.base())},ma.apply(e,arguments)}function hP(){var e=Cg(Lm());return e.copy=function(){return rs(e,hP()).constant(e.constant())},ma.apply(e,arguments)}function zg(){var e=Pg(Lm());return e.copy=function(){return rs(e,zg()).exponent(e.exponent())},ma.apply(e,arguments)}function HB(){return zg.apply(null,arguments).exponent(.5)}const Po=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vg,scaleDiverging:pP,scaleDivergingLog:xP,scaleDivergingPow:zg,scaleDivergingSqrt:HB,scaleDivergingSymlog:hP,scaleIdentity:YC,scaleImplicit:Jx,scaleLinear:qC,scaleLog:XC,scaleOrdinal:gg,scalePoint:T6,scalePow:Eg,scaleQuantile:JC,scaleQuantize:eP,scaleRadial:ZC,scaleSequential:dP,scaleSequentialLog:uP,scaleSequentialPow:Rg,scaleSequentialQuantile:fP,scaleSequentialSqrt:KB,scaleSequentialSymlog:mP,scaleSqrt:_F,scaleSymlog:QC,scaleThreshold:tP,scaleTime:UB,scaleUtc:WB,tickFormat:VC},Symbol.toStringTag,{value:"Module"}));var ns=e=>e.chartData,Fg=K([ns],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),$m=(e,t,r,n)=>n?Fg(e):ns(e);function Ka(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(mt(t)&&mt(r))return!0}return!1}function $w(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function yP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(mt(r))s=r;else if(typeof r=="function")return;if(mt(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(Ka(o))return o}}function VB(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ka(n))return $w(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if(xe(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&vj.test(s)){var d=vj.exec(s);if(d==null||t==null)o=void 0;else{var c=+d[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(xe(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&bj.test(i)){var u=bj.exec(i);if(u==null||t==null)l=void 0;else{var m=+u[1];l=t[1]+m}}else l=t==null?void 0:t[1];var p=[o,l];if(Ka(p))return t==null?p:$w(p,t,r)}}}var Gi=1e9,qB={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ug,Je=!0,Zr="[DecimalError] ",ks=Zr+"Invalid argument: ",Bg=Zr+"Exponent out of range: ",Xi=Math.floor,ds=Math.pow,YB=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pr,Dt=1e7,Ye=7,gP=9007199254740991,ju=Xi(gP/Ye),pe={};pe.absoluteValue=pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};pe.comparedTo=pe.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};pe.decimalPlaces=pe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ye;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};pe.dividedBy=pe.div=function(e){return Vn(this,new this.constructor(e))};pe.dividedToIntegerBy=pe.idiv=function(e){var t=this,r=t.constructor;return Ue(Vn(t,new r(e),0,1),r.precision)};pe.equals=pe.eq=function(e){return!this.cmp(e)};pe.exponent=function(){return gt(this)};pe.greaterThan=pe.gt=function(e){return this.cmp(e)>0};pe.greaterThanOrEqualTo=pe.gte=function(e){return this.cmp(e)>=0};pe.isInteger=pe.isint=function(){return this.e>this.d.length-2};pe.isNegative=pe.isneg=function(){return this.s<0};pe.isPositive=pe.ispos=function(){return this.s>0};pe.isZero=function(){return this.s===0};pe.lessThan=pe.lt=function(e){return this.cmp(e)<0};pe.lessThanOrEqualTo=pe.lte=function(e){return this.cmp(e)<1};pe.logarithm=pe.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Pr))throw Error(Zr+"NaN");if(r.s<1)throw Error(Zr+(r.s?"NaN":"-Infinity"));return r.eq(Pr)?new n(0):(Je=!1,t=Vn(gl(r,i),gl(e,i),i),Je=!0,Ue(t,s))};pe.minus=pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jP(t,e):vP(t,(e.s=-e.s,e))};pe.modulo=pe.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Zr+"NaN");return r.s?(Je=!1,t=Vn(r,e,0,1).times(e),Je=!0,r.minus(t)):Ue(new n(r),s)};pe.naturalExponential=pe.exp=function(){return bP(this)};pe.naturalLogarithm=pe.ln=function(){return gl(this)};pe.negated=pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};pe.plus=pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vP(t,e):jP(t,(e.s=-e.s,e))};pe.precision=pe.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ks+e);if(t=gt(s)+1,n=s.d.length-1,r=n*Ye+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};pe.squareRoot=pe.sqrt=function(){var e,t,r,n,s,i,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(Zr+"NaN")}for(e=gt(l),Je=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Cn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Xi((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(s.toString()),r=d.precision,s=o=r+3;;)if(i=n,n=i.plus(Vn(l,i,o+2)).times(.5),Cn(i.d).slice(0,o)===(t=Cn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Ue(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Je=!0,Ue(n,r)};pe.times=pe.mul=function(e){var t,r,n,s,i,o,l,d,c,u=this,m=u.constructor,p=u.d,x=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,r=u.e+e.e,d=p.length,c=x.length,d<c&&(i=p,p=x,x=i,o=d,d=c,c=o),i=[],o=d+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,s=d+n;s>n;)l=i[s]+x[n]*p[s-n-1]+t,i[s--]=l%Dt|0,t=l/Dt|0;i[s]=(i[s]+t)%Dt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Je?Ue(e,m.precision):e};pe.toDecimalPlaces=pe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Dn(e,0,Gi),t===void 0?t=n.rounding:Dn(t,0,8),Ue(r,e+gt(r)+1,t))};pe.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ms(n,!0):(Dn(e,0,Gi),t===void 0?t=s.rounding:Dn(t,0,8),n=Ue(new s(n),e+1,t),r=Ms(n,!0,e+1)),r};pe.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Ms(s):(Dn(e,0,Gi),t===void 0?t=i.rounding:Dn(t,0,8),n=Ue(new i(s),e+gt(s)+1,t),r=Ms(n.abs(),!1,e+gt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};pe.toInteger=pe.toint=function(){var e=this,t=e.constructor;return Ue(new t(e),gt(e)+1,t.rounding)};pe.toNumber=function(){return+this};pe.toPower=pe.pow=function(e){var t,r,n,s,i,o,l=this,d=l.constructor,c=12,u=+(e=new d(e));if(!e.s)return new d(Pr);if(l=new d(l),!l.s){if(e.s<1)throw Error(Zr+"Infinity");return l}if(l.eq(Pr))return l;if(n=d.precision,e.eq(Pr))return Ue(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=gP){for(s=new d(Pr),t=Math.ceil(n/Ye+4),Je=!1;r%2&&(s=s.times(l),zw(s.d,t)),r=Xi(r/2),r!==0;)l=l.times(l),zw(l.d,t);return Je=!0,e.s<0?new d(Pr).div(s):Ue(s,n)}}else if(i<0)throw Error(Zr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Je=!1,s=e.times(gl(l,n+c)),Je=!0,s=bP(s),s.s=i,s};pe.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=gt(s),n=Ms(s,r<=i.toExpNeg||r>=i.toExpPos)):(Dn(e,1,Gi),t===void 0?t=i.rounding:Dn(t,0,8),s=Ue(new i(s),e,t),r=gt(s),n=Ms(s,e<=r||r<=i.toExpNeg,e)),n};pe.toSignificantDigits=pe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Dn(e,1,Gi),t===void 0?t=n.rounding:Dn(t,0,8)),Ue(new n(r),e,t)};pe.toString=pe.valueOf=pe.val=pe.toJSON=pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gt(e),r=e.constructor;return Ms(e,t<=r.toExpNeg||t>=r.toExpPos)};function vP(e,t){var r,n,s,i,o,l,d,c,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Je?Ue(t,m):t;if(d=e.d,c=t.d,o=e.e,s=t.e,d=d.slice(),i=o-s,i){for(i<0?(n=d,i=-i,l=c.length):(n=c,s=o,l=d.length),o=Math.ceil(m/Ye),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=d.length,i=c.length,l-i<0&&(i=l,n=c,c=d,d=n),r=0;i;)r=(d[--i]=d[i]+c[i]+r)/Dt|0,d[i]%=Dt;for(r&&(d.unshift(r),++s),l=d.length;d[--l]==0;)d.pop();return t.d=d,t.e=s,Je?Ue(t,m):t}function Dn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ks+e)}function Cn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Ye-n.length,r&&(i+=ja(r)),i+=n;o=e[t],n=o+"",r=Ye-n.length,r&&(i+=ja(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Vn=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Dt|0,o=i/Dt|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,d;if(i!=o)d=i>o?1:-1;else for(l=d=0;l<i;l++)if(n[l]!=s[l]){d=n[l]>s[l]?1:-1;break}return d}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Dt+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,d,c,u,m,p,x,y,g,v,h,b,j,k,N,w,P,_,C=n.constructor,O=n.s==s.s?1:-1,S=n.d,E=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(Zr+"Division by zero");for(d=n.e-s.e,P=E.length,N=S.length,x=new C(O),y=x.d=[],c=0;E[c]==(S[c]||0);)++c;if(E[c]>(S[c]||0)&&--d,i==null?b=i=C.precision:o?b=i+(gt(n)-gt(s))+1:b=i,b<0)return new C(0);if(b=b/Ye+2|0,c=0,P==1)for(u=0,E=E[0],b++;(c<N||u)&&b--;c++)j=u*Dt+(S[c]||0),y[c]=j/E|0,u=j%E|0;else{for(u=Dt/(E[0]+1)|0,u>1&&(E=e(E,u),S=e(S,u),P=E.length,N=S.length),k=P,g=S.slice(0,P),v=g.length;v<P;)g[v++]=0;_=E.slice(),_.unshift(0),w=E[0],E[1]>=Dt/2&&++w;do u=0,l=t(E,g,P,v),l<0?(h=g[0],P!=v&&(h=h*Dt+(g[1]||0)),u=h/w|0,u>1?(u>=Dt&&(u=Dt-1),m=e(E,u),p=m.length,v=g.length,l=t(m,g,p,v),l==1&&(u--,r(m,P<p?_:E,p))):(u==0&&(l=u=1),m=E.slice()),p=m.length,p<v&&m.unshift(0),r(g,m,v),l==-1&&(v=g.length,l=t(E,g,P,v),l<1&&(u++,r(g,P<v?_:E,v))),v=g.length):l===0&&(u++,g=[0]),y[c++]=u,l&&g[0]?g[v++]=S[k]||0:(g=[S[k]],v=1);while((k++<N||g[0]!==void 0)&&b--)}return y[0]||y.shift(),x.e=d,Ue(x,o?i+gt(x)+1:i)}}();function bP(e,t){var r,n,s,i,o,l,d=0,c=0,u=e.constructor,m=u.precision;if(gt(e)>16)throw Error(Bg+gt(e));if(!e.s)return new u(Pr);for(Je=!1,l=m,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(ds(2,c))/Math.LN10*2+5|0,l+=n,r=s=i=new u(Pr),u.precision=l;;){if(s=Ue(s.times(e),l),r=r.times(++d),o=i.plus(Vn(s,r,l)),Cn(o.d).slice(0,l)===Cn(i.d).slice(0,l)){for(;c--;)i=Ue(i.times(i),l);return u.precision=m,t==null?(Je=!0,Ue(i,m)):i}i=o}}function gt(e){for(var t=e.e*Ye,r=e.d[0];r>=10;r/=10)t++;return t}function sp(e,t,r){if(t>e.LN10.sd())throw Je=!0,r&&(e.precision=r),Error(Zr+"LN10 precision limit exceeded");return Ue(new e(e.LN10),t)}function ja(e){for(var t="";e--;)t+="0";return t}function gl(e,t){var r,n,s,i,o,l,d,c,u,m=1,p=10,x=e,y=x.d,g=x.constructor,v=g.precision;if(x.s<1)throw Error(Zr+(x.s?"NaN":"-Infinity"));if(x.eq(Pr))return new g(0);if(t==null?(Je=!1,c=v):c=t,x.eq(10))return t==null&&(Je=!0),sp(g,c);if(c+=p,g.precision=c,r=Cn(y),n=r.charAt(0),i=gt(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=Cn(x.d),n=r.charAt(0),m++;i=gt(x),n>1?(x=new g("0."+r),i++):x=new g(n+"."+r.slice(1))}else return d=sp(g,c+2,v).times(i+""),x=gl(new g(n+"."+r.slice(1)),c-p).plus(d),g.precision=v,t==null?(Je=!0,Ue(x,v)):x;for(l=o=x=Vn(x.minus(Pr),x.plus(Pr),c),u=Ue(x.times(x),c),s=3;;){if(o=Ue(o.times(u),c),d=l.plus(Vn(o,new g(s),c)),Cn(d.d).slice(0,c)===Cn(l.d).slice(0,c))return l=l.times(2),i!==0&&(l=l.plus(sp(g,c+2,v).times(i+""))),l=Vn(l,new g(m),c),g.precision=v,t==null?(Je=!0,Ue(l,v)):l;l=d,s+=2}}function Rw(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Xi(r/Ye),e.d=[],n=(r+1)%Ye,r<0&&(n+=Ye),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Ye;n<s;)e.d.push(+t.slice(n,n+=Ye));t=t.slice(n),n=Ye-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Je&&(e.e>ju||e.e<-ju))throw Error(Bg+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ue(e,t,r){var n,s,i,o,l,d,c,u,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ye,s=t,c=m[u=0];else{if(u=Math.ceil((n+1)/Ye),i=m.length,u>=i)return e;for(c=i=m[u],o=1;i>=10;i/=10)o++;n%=Ye,s=n-Ye+o}if(r!==void 0&&(i=ds(10,o-s-1),l=c/i%10|0,d=t<0||m[u+1]!==void 0||c%i,d=r<4?(l||d)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||d||r==6&&(n>0?s>0?c/ds(10,o-s):0:m[u-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(i=gt(e),m.length=1,t=t-i-1,m[0]=ds(10,(Ye-t%Ye)%Ye),e.e=Xi(-t/Ye)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=u,i=1,u--):(m.length=u+1,i=ds(10,Ye-n),m[u]=s>0?(c/ds(10,o-s)%ds(10,s)|0)*i:0),d)for(;;)if(u==0){(m[0]+=i)==Dt&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=Dt)break;m[u--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Je&&(e.e>ju||e.e<-ju))throw Error(Bg+gt(e));return e}function jP(e,t){var r,n,s,i,o,l,d,c,u,m,p=e.constructor,x=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Je?Ue(t,x):t;if(d=e.d,m=t.d,n=t.e,c=e.e,d=d.slice(),o=c-n,o){for(u=o<0,u?(r=d,o=-o,l=m.length):(r=m,n=c,l=d.length),s=Math.max(Math.ceil(x/Ye),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=d.length,l=m.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(d[s]!=m[s]){u=d[s]<m[s];break}o=0}for(u&&(r=d,d=m,m=r,t.s=-t.s),l=d.length,s=m.length-l;s>0;--s)d[l++]=0;for(s=m.length;s>o;){if(d[--s]<m[s]){for(i=s;i&&d[--i]===0;)d[i]=Dt-1;--d[i],d[s]+=Dt}d[s]-=m[s]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Je?Ue(t,x):t):new p(0)}function Ms(e,t,r){var n,s=gt(e),i=Cn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ja(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+ja(-s-1)+i,r&&(n=r-o)>0&&(i+=ja(n))):s>=o?(i+=ja(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+ja(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=ja(n))),e.s<0?"-"+i:i}function zw(e,t){if(e.length>t)return e.length=t,!0}function wP(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ks+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Rw(o,i.toString())}else if(typeof i!="string")throw Error(ks+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,YB.test(i))Rw(o,i);else throw Error(ks+i)}if(s.prototype=pe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=wP,s.config=s.set=GB,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function GB(e){if(!e||typeof e!="object")throw Error(Zr+"Object expected");var t,r,n,s=["precision",1,Gi,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Xi(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(ks+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ks+r+": "+n);return this}var Ug=wP(qB);Pr=new Ug(1);const ze=Ug;var XB=e=>e,NP={},kP=e=>e===NP,Fw=e=>function t(){return arguments.length===0||arguments.length===1&&kP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},_P=(e,t)=>e===1?t:Fw(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==NP).length;return i>=e?t(...n):_P(e-i,Fw(function(){for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];var c=n.map(u=>kP(u)?l.shift():u);return t(...c,...l)}))}),QB=e=>_P(e.length,e),nh=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},ZB=QB((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),JB=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return XB;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,d)=>d(l),i(...arguments))}},ah=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function SP(e){var t;return e===0?t=1:t=Math.floor(new ze(e).abs().log(10).toNumber())+1,t}function CP(e,t,r){for(var n=new ze(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var PP=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},EP=(e,t,r)=>{if(e.lte(0))return new ze(0);var n=SP(e.toNumber()),s=new ze(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new ze(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=l.mul(s);return t?new ze(d.toNumber()):new ze(Math.ceil(d.toNumber()))},e8=(e,t,r)=>{var n=new ze(1),s=new ze(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new ze(10).pow(SP(e)-1),s=new ze(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new ze(Math.floor(e)))}else e===0?s=new ze(Math.floor((t-1)/2)):r||(s=new ze(Math.floor(e)));var o=Math.floor((t-1)/2),l=JB(ZB(d=>s.add(new ze(d-o).mul(n)).toNumber()),nh);return l(0,t)},OP=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ze(0),tickMin:new ze(0),tickMax:new ze(0)};var o=EP(new ze(r).sub(t).div(n-1),s,i),l;t<=0&&r>=0?l=new ze(0):(l=new ze(t).add(r).div(2),l=l.sub(new ze(l).mod(o)));var d=Math.ceil(l.sub(t).div(o).toNumber()),c=Math.ceil(new ze(r).sub(l).div(o).toNumber()),u=d+c+1;return u>n?OP(t,r,n,s,i+1):(u<n&&(c=r>0?c+(n-u):c,d=r>0?d:d+(n-u)),{step:o,tickMin:l.sub(new ze(d).mul(o)),tickMax:l.add(new ze(c).mul(o))})},t8=function(t){var[r,n]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),[l,d]=PP([r,n]);if(l===-1/0||d===1/0){var c=d===1/0?[l,...nh(0,s-1).map(()=>1/0)]:[...nh(0,s-1).map(()=>-1/0),d];return r>n?ah(c):c}if(l===d)return e8(l,s,i);var{step:u,tickMin:m,tickMax:p}=OP(l,d,o,i,0),x=CP(m,p.add(new ze(.1).mul(u)),u);return r>n?ah(x):x},r8=function(t,r){var[n,s]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=PP([n,s]);if(o===-1/0||l===1/0)return[n,s];if(o===l)return[o];var d=Math.max(r,2),c=EP(new ze(l).sub(o).div(d-1),i,0),u=[...CP(new ze(o),new ze(l),c),l];return i===!1&&(u=u.map(m=>Math.round(m))),n>s?ah(u):u},AP=e=>e.rootProps.maxBarSize,n8=e=>e.rootProps.barGap,TP=e=>e.rootProps.barCategoryGap,a8=e=>e.rootProps.barSize,ql=e=>e.rootProps.stackOffset,DP=e=>e.rootProps.reverseStackOrder,Wg=e=>e.options.chartName,Kg=e=>e.rootProps.syncId,IP=e=>e.rootProps.syncMethod,Hg=e=>e.options.eventEmitter,ht={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Rn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Cr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Rm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},s8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Rn.angleAxisId,includeHidden:!1,name:void 0,reversed:Rn.reversed,scale:Rn.scale,tick:Rn.tick,tickCount:void 0,ticks:void 0,type:Rn.type,unit:void 0},i8={allowDataOverflow:Cr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Cr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cr.scale,tick:Cr.tick,tickCount:Cr.tickCount,ticks:void 0,type:Cr.type,unit:void 0},o8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Rn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Rn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Rn.scale,tick:Rn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},l8={allowDataOverflow:Cr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Cr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cr.scale,tick:Cr.tick,tickCount:Cr.tickCount,ticks:void 0,type:"category",unit:void 0},Vg=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?o8:s8,qg=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?l8:i8,zm=e=>e.polarOptions,Yg=K([da,ua,St],EC),MP=K([zm,Yg],(e,t)=>{if(e!=null)return tr(e.innerRadius,t,0)}),LP=K([zm,Yg],(e,t)=>{if(e!=null)return tr(e.outerRadius,t,t*.8)}),c8=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},$P=K([zm],c8);K([Vg,$P],Rm);var RP=K([Yg,MP,LP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});K([qg,RP],Rm);var zP=K([Te,zm,MP,LP,da,ua],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:d,endAngle:c}=t;return{cx:tr(o,s,s/2),cy:tr(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:c,clockWise:!1}}}),tt=(e,t)=>t,Yl=(e,t,r)=>r;function Gg(e){return e==null?void 0:e.id}function FP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,o=new Map;return e.forEach(l=>{var d,c=(d=l.data)!==null&&d!==void 0?d:n;if(!(c==null||c.length===0)){var u=Gg(l);c.forEach((m,p)=>{var x=i==null||s?p:String(Be(m,i,null)),y=Be(m,l.dataKey,0),g;o.has(x)?g=o.get(x):g={},Object.assign(g,{[u]:y}),o.set(x,g)})}}),Array.from(o.values())}function Fm(e){return e.stackId!=null&&e.dataKey!=null}var Bm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Um(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function d8(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Pt=e=>{var t=Te(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Qi=e=>e.tooltip.settings.axisId;function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){u8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u8(e,t,r){return(t=m8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m8(e){var t=f8(e,"string");return typeof t=="symbol"?t:t+""}function f8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sh=[0,"auto"],At={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},BP=(e,t)=>e.cartesianAxis.xAxis[t],fa=(e,t)=>{var r=BP(e,t);return r??At},Tt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:sh,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:$l},UP=(e,t)=>e.cartesianAxis.yAxis[t],pa=(e,t)=>{var r=UP(e,t);return r??Tt},p8={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Xg=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??p8},it=(e,t,r)=>{switch(t){case"xAxis":return fa(e,r);case"yAxis":return pa(e,r);case"zAxis":return Xg(e,r);case"angleAxis":return Vg(e,r);case"radiusAxis":return qg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},x8=(e,t,r)=>{switch(t){case"xAxis":return fa(e,r);case"yAxis":return pa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Gl=(e,t,r)=>{switch(t){case"xAxis":return fa(e,r);case"yAxis":return pa(e,r);case"angleAxis":return Vg(e,r);case"radiusAxis":return qg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},WP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Qg(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Wm=e=>e.graphicalItems.cartesianItems,h8=K([tt,Yl],Qg),Zg=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Xl=K([Wm,it,h8],Zg,{memoizeOptions:{resultEqualityCheck:Um}}),KP=K([Xl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Fm)),HP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),y8=K([Xl],HP),Jg=e=>e.map(t=>t.data).filter(Boolean).flat(1),g8=K([Xl],Jg,{memoizeOptions:{resultEqualityCheck:Um}}),ev=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},tv=K([g8,$m],ev),rv=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Be(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Be(s,n)}))):e.map(n=>({value:n})),Km=K([tv,it,Xl],rv);function VP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function md(e){if(An(e)||e instanceof Date){var t=Number(e);if(mt(t))return t}}function Uw(e){if(Array.isArray(e)){var t=[md(e[0]),md(e[1])];return Ka(t)?t:void 0}var r=md(e);if(r!=null)return[r,r]}function ia(e){return e.map(md).filter(AL)}function v8(e,t,r){return!r||typeof t!="number"||hn(t)?[]:r.length?ia(r.flatMap(n=>{var s=Be(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!mt(i)||!mt(o)))return[t-i,t+o]})):[]}var Et=e=>{var t=Pt(e),r=Qi(e);return Gl(e,t,r)},Ql=K([Et],e=>e==null?void 0:e.dataKey),b8=K([KP,$m,Et],FP),qP=(e,t,r,n)=>{var s={},i=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),s);return Object.fromEntries(Object.entries(i).map(o=>{var[l,d]=o,c=n?[...d].reverse():d,u=c.map(Gg);return[l,{stackedData:Y5(e,u,r),graphicalItems:c}]}))},ih=K([b8,KP,ql,DP],qP),YP=(e,t,r,n)=>{var{dataStartIndex:s,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=J5(e,s,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},j8=K([it],e=>e.allowDataOverflow),nv=e=>{var t;if(e==null||!("domain"in e))return sh;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ia(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:sh},av=K([it],nv),sv=K([av,j8],yP),w8=K([ih,ns,tt,sv],YP,{memoizeOptions:{resultEqualityCheck:Bm}}),Hm=e=>e.errorBars,N8=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>VP(r,n)),Nu=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},iv=(e,t,r,n,s)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(d=>{var c,u,m=(c=n[d.id])===null||c===void 0?void 0:c.filter(h=>VP(s,h)),p=Be(l,(u=t.dataKey)!==null&&u!==void 0?u:d.dataKey),x=v8(l,p,m);if(x.length>=2){var y=Math.min(...x),g=Math.max(...x);(i==null||y<i)&&(i=y),(o==null||g>o)&&(o=g)}var v=Uw(p);v!=null&&(i=i==null?v[0]:Math.min(i,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var d=Uw(Be(l,t.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),o=o==null?d[1]:Math.max(o,d[1]))}),mt(i)&&mt(o))return[i,o]},k8=K([tv,it,y8,Hm,tt],iv,{memoizeOptions:{resultEqualityCheck:Bm}});function _8(e){var{value:t}=e;if(An(t)||t instanceof Date)return t}var S8=(e,t,r)=>{var n=e.map(_8).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&W_(n))?LC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},GP=e=>e.referenceElements.dots,Zi=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),C8=K([GP,tt,Yl],Zi),XP=e=>e.referenceElements.areas,P8=K([XP,tt,Yl],Zi),QP=e=>e.referenceElements.lines,E8=K([QP,tt,Yl],Zi),ZP=(e,t)=>{var r=ia(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},O8=K(C8,tt,ZP),JP=(e,t)=>{var r=ia(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},A8=K([P8,tt],JP);function T8(e){var t;if(e.x!=null)return ia([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:ia(r)}function D8(e){var t;if(e.y!=null)return ia([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:ia(r)}var e4=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?T8(n):D8(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},I8=K([E8,tt],e4),M8=K(O8,I8,A8,(e,t,r)=>Nu(e,r,t)),ov=(e,t,r,n,s,i,o,l)=>{if(r!=null)return r;var d=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",c=d?Nu(n,i,s):Nu(i,s);return VB(t,c,e.allowDataOverflow)},L8=K([it,av,sv,w8,k8,M8,Te,tt],ov,{memoizeOptions:{resultEqualityCheck:Bm}}),$8=[0,1],lv=(e,t,r,n,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:d}=e,c=es(t,i);if(c&&l==null){var u;return LC(0,(u=r==null?void 0:r.length)!==null&&u!==void 0?u:0)}return d==="category"?S8(n,e,c):s==="expand"?$8:o}},cv=K([it,Te,tv,Km,ql,tt,L8],lv),t4=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Al(i));return l in Po?l:"point"}}},Ji=K([it,Te,WP,Wg,tt],t4);function R8(e){if(e!=null){if(e in Po)return Po[e]();var t="scale".concat(Al(e));if(t in Po)return Po[t]()}}function dv(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=R8(t);if(s!=null){var i=s.domain(r).range(n);return W5(i),i}}}var uv=(e,t,r)=>{var n=nv(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ka(e))return t8(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ka(e))return r8(e,t.tickCount,t.allowDecimals)}},mv=K([cv,Gl,Ji],uv),fv=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ka(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},z8=K([it,cv,mv,tt],fv),F8=K(Km,it,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ia(e.map(l=>l.value))).sort((l,d)=>l-d);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),r4=K(F8,Te,TP,St,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!mt(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=tr(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),B8=(e,t)=>{var r=fa(e,t);return r==null||typeof r.padding!="string"?0:r4(e,"xAxis",t,r.padding)},U8=(e,t)=>{var r=pa(e,t);return r==null||typeof r.padding!="string"?0:r4(e,"yAxis",t,r.padding)},W8=K(fa,B8,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),K8=K(pa,U8,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),H8=K([St,W8,_m,km,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),V8=K([St,Te,K8,_m,km,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Zl=(e,t,r,n)=>{var s;switch(t){case"xAxis":return H8(e,r,n);case"yAxis":return V8(e,r,n);case"zAxis":return(s=Xg(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return $P(e);case"radiusAxis":return RP(e,r);default:return}},n4=K([it,Zl],Rm),eo=K([it,Ji,z8,n4],dv);K([Xl,Hm,tt],N8);function a4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Vm=(e,t)=>t,qm=(e,t,r)=>r,q8=K(wm,Vm,qm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(a4)),Y8=K(Nm,Vm,qm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(a4)),s4=(e,t)=>({width:e.width,height:t.height}),G8=(e,t)=>{var r=typeof t.width=="number"?t.width:$l;return{width:r,height:e.height}},i4=K(St,fa,s4),X8=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Q8=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Z8=K(ua,St,q8,Vm,qm,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var d=s4(t,l);o==null&&(o=X8(t,n,e));var c=n==="top"&&!s||n==="bottom"&&s;i[l.id]=o-Number(c)*d.height,o+=(c?-1:1)*d.height}),i}),J8=K(da,St,Y8,Vm,qm,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var d=G8(t,l);o==null&&(o=Q8(t,n,e));var c=n==="left"&&!s||n==="right"&&s;i[l.id]=o-Number(c)*d.width,o+=(c?-1:1)*d.width}),i}),e7=(e,t)=>{var r=fa(e,t);if(r!=null)return Z8(e,r.orientation,r.mirror)},t7=K([St,fa,e7,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),r7=(e,t)=>{var r=pa(e,t);if(r!=null)return J8(e,r.orientation,r.mirror)},n7=K([St,pa,r7,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),o4=K(St,pa,(e,t)=>{var r=typeof t.width=="number"?t.width:$l;return{width:r,height:e.height}}),Ww=(e,t,r)=>{switch(t){case"xAxis":return i4(e,r).width;case"yAxis":return o4(e,r).height;default:return}},l4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,l=es(e,n),d=t.map(c=>c.value);if(o&&l&&i==="category"&&s&&W_(d))return d}},pv=K([Te,Km,it,tt],l4),c4=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=es(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},xv=K([Te,Km,Gl,tt],c4),Kw=K([Te,x8,Ji,eo,pv,xv,Zl,mv,tt],(e,t,r,n,s,i,o,l,d)=>{if(t!=null){var c=es(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:s,isCategorical:c,niceTicks:l,range:o,realScaleType:r,scale:n}}}),a7=(e,t,r,n,s,i,o,l,d)=>{if(!(t==null||n==null)){var c=es(e,d),{type:u,ticks:m,tickCount:p}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=u==="category"&&n.bandwidth?n.bandwidth()/x:0;y=d==="angleAxis"&&i!=null&&i.length>=2?Mt(i[0]-i[1])*2*y:y;var g=m||s;if(g){var v=g.map((h,b)=>{var j=o?o.indexOf(h):h;return{index:b,coordinate:n(j)+y,value:h,offset:y}});return v.filter(h=>mt(h.coordinate))}return c&&l?l.map((h,b)=>({coordinate:n(h)+y,value:h,index:b,offset:y})).filter(h=>mt(h.coordinate)):n.ticks?n.ticks(p).map(h=>({coordinate:n(h)+y,value:h,offset:y})):n.domain().map((h,b)=>({coordinate:n(h)+y,value:o?o[h]:h,index:b,offset:y}))}},d4=K([Te,Gl,Ji,eo,mv,Zl,pv,xv,tt],a7),s7=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=es(e,o),{tickCount:d}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Mt(n[0]-n[1])*2*c:c,l&&i?i.map((u,m)=>({coordinate:r(u)+c,value:u,index:m,offset:c})):r.ticks?r.ticks(d).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,m)=>({coordinate:r(u)+c,value:s?s[u]:u,index:m,offset:c}))}},Ha=K([Te,Gl,eo,Zl,pv,xv,tt],s7),Va=K(it,eo,(e,t)=>{if(!(e==null||t==null))return wu(wu({},e),{},{scale:t})}),i7=K([it,Ji,cv,n4],dv);K((e,t,r)=>Xg(e,r),i7,(e,t)=>{if(!(e==null||t==null))return wu(wu({},e),{},{scale:t})});var o7=K([Te,wm,Nm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),u4=e=>e.options.defaultTooltipEventType,m4=e=>e.options.validateTooltipEventTypes;function f4(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function hv(e,t){var r=u4(e),n=m4(e);return f4(t,r,n)}function l7(e){return fe(t=>hv(t,e))}var p4=(e,t)=>{var r,n=Number(t);if(!(hn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},c7=e=>e.tooltip.settings,_a={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},d7={itemInteraction:{click:_a,hover:_a},axisInteraction:{click:_a,hover:_a},keyboardInteraction:_a,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},x4=Nr({name:"tooltip",initialState:d7,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Xe()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,s=pn(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=n)},prepare:Xe()},removeTooltipEntrySettings:{reducer(e,t){var r=pn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Xe()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:u7,replaceTooltipEntrySettings:m7,removeTooltipEntrySettings:f7,setTooltipSettingsState:p7,setActiveMouseOverItemIndex:h4,mouseLeaveItem:x7,mouseLeaveChart:y4,setActiveClickItemIndex:h7,setMouseOverAxisIndex:g4,setMouseClickAxisIndex:y7,setSyncInteraction:oh,setKeyboardInteraction:lh}=x4.actions,g7=x4.reducer;function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){v7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v7(e,t,r){return(t=b7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b7(e){var t=j7(e,"string");return typeof t=="symbol"?t:t+""}function j7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w7(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function N7(e){return e.index!=null}var v4=(e,t,r,n)=>{if(t==null)return _a;var s=w7(e,t,r);if(s==null)return _a;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(N7(s)){if(i)return Bc(Bc({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Bc(Bc({},_a),{},{coordinate:s.coordinate})};function k7(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function _7(e,t){var r=k7(e),n=t[0],s=t[1];if(r===void 0)return!1;var i=Math.min(n,s),o=Math.max(n,s);return r>=i&&r<=o}function S7(e,t,r){if(r==null||t==null)return!0;var n=Be(e,t);return n==null||!Ka(r)?!0:_7(n,r)}var yv=(e,t,r,n)=>{var s=e==null?void 0:e.index;if(s==null)return null;var i=Number(s);if(!mt(i))return s;var o=0,l=1/0;t.length>0&&(l=t.length-1);var d=Math.max(o,Math.min(i,l)),c=t[d];return c==null||S7(c,r,n)?String(d):null},b4=(e,t,r,n,s,i,o,l)=>{if(!(i==null||l==null)){var d=o[0],c=d==null?void 0:l(d.positions,i);if(c!=null)return c;var u=s==null?void 0:s[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},j4=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},Jl=e=>e.options.tooltipPayloadSearcher,to=e=>e.tooltip;function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){C7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C7(e,t,r){return(t=P7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P7(e){var t=E7(e,"string");return typeof t=="symbol"?t:t+""}function E7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O7(e,t){return e??t}var w4=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:d,dataStartIndex:c,dataEndIndex:u}=r,m=[];return e.reduce((p,x)=>{var y,{dataDefinedOnItem:g,settings:v}=x,h=O7(g,l),b=Array.isArray(h)?ZS(h,c,u):h,j=(y=v==null?void 0:v.dataKey)!==null&&y!==void 0?y:n,k=v==null?void 0:v.nameKey,N;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?N=K_(b,n,s):N=i(b,t,d,k),Array.isArray(N))N.forEach(P=>{var _=qw(qw({},v),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});p.push(jj({tooltipEntrySettings:_,dataKey:P.dataKey,payload:P.payload,value:Be(P.payload,P.dataKey),name:P.name}))});else{var w;p.push(jj({tooltipEntrySettings:v,dataKey:j,payload:N,value:Be(N,j),name:(w=Be(N,k))!==null&&w!==void 0?w:v==null?void 0:v.name}))}return p},m)}},gv=K([Et,Te,WP,Wg,Pt],t4),A7=K([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),T7=K([Pt,Qi],Qg),ec=K([A7,Et,T7],Zg,{memoizeOptions:{resultEqualityCheck:Um}}),D7=K([ec],e=>e.filter(Fm)),I7=K([ec],Jg,{memoizeOptions:{resultEqualityCheck:Um}}),ro=K([I7,ns],ev),M7=K([D7,ns,Et],FP),vv=K([ro,Et,ec],rv),N4=K([Et],nv),L7=K([Et],e=>e.allowDataOverflow),k4=K([N4,L7],yP),$7=K([ec],e=>e.filter(Fm)),R7=K([M7,$7,ql,DP],qP),z7=K([R7,ns,Pt,k4],YP),F7=K([ec],HP),B7=K([ro,Et,F7,Hm,Pt],iv,{memoizeOptions:{resultEqualityCheck:Bm}}),U7=K([GP,Pt,Qi],Zi),W7=K([U7,Pt],ZP),K7=K([XP,Pt,Qi],Zi),H7=K([K7,Pt],JP),V7=K([QP,Pt,Qi],Zi),q7=K([V7,Pt],e4),Y7=K([W7,q7,H7],Nu),G7=K([Et,N4,k4,z7,B7,Y7,Te,Pt],ov),tc=K([Et,Te,ro,vv,ql,Pt,G7],lv),X7=K([tc,Et,gv],uv),Q7=K([Et,tc,X7,Pt],fv),_4=e=>{var t=Pt(e),r=Qi(e),n=!1;return Zl(e,t,r,n)},S4=K([Et,_4],Rm),C4=K([Et,gv,Q7,S4],dv),Z7=K([Te,vv,Et,Pt],l4),J7=K([Te,vv,Et,Pt],c4),eU=(e,t,r,n,s,i,o,l)=>{if(t){var{type:d}=t,c=es(e,l);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=d==="category"&&n.bandwidth?n.bandwidth()/u:0;return m=l==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Mt(s[0]-s[1])*2*m:m,c&&o?o.map((p,x)=>({coordinate:n(p)+m,value:p,index:x,offset:m})):n.domain().map((p,x)=>({coordinate:n(p)+m,value:i?i[p]:p,index:x,offset:m}))}}},xa=K([Te,Et,gv,C4,_4,Z7,J7,Pt],eU),bv=K([u4,m4,c7],(e,t,r)=>f4(r.shared,e,t)),P4=e=>e.tooltip.settings.trigger,jv=e=>e.tooltip.settings.defaultIndex,rc=K([to,bv,P4,jv],v4),qa=K([rc,ro,Ql,tc],yv),E4=K([xa,qa],p4),wv=K([rc],e=>{if(e)return e.dataKey}),tU=K([rc],e=>{if(e)return e.graphicalItemId}),O4=K([to,bv,P4,jv],j4),rU=K([da,ua,Te,St,xa,jv,O4,Jl],b4),nU=K([rc,rU],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),aU=K([rc],e=>e.active),sU=K([O4,qa,ns,Ql,E4,Jl,bv],w4),iU=K([sU],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){oU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oU(e,t,r){return(t=lU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lU(e){var t=cU(e,"string");return typeof t=="symbol"?t:t+""}function cU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dU=()=>fe(Et),uU=()=>{var e=dU(),t=fe(xa),r=fe(C4);return Di(!e||!r?void 0:Gw(Gw({},e),{},{scale:r}),t)};function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){mU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mU(e,t,r){return(t=fU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fU(e){var t=pU(e,"string");return typeof t=="symbol"?t:t+""}function pU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xU=(e,t,r,n)=>{var s=t.find(i=>i&&i.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:s.coordinate}}return{x:0,y:0}},hU=(e,t,r,n)=>{var s=t.find(c=>c&&c.index===r);if(s){if(e==="centric"){var i=s.coordinate,{radius:o}=n;return Vs(Vs(Vs({},n),xt(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:d}=n;return Vs(Vs(Vs({},n),xt(n.cx,n.cy,l,d)),{},{angle:d,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function yU(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var A4=(e,t,r,n,s)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var d=0;d<l;d++){var c=d>0?r[d-1].coordinate:r[l-1].coordinate,u=r[d].coordinate,m=d>=l-1?r[0].coordinate:r[d+1].coordinate,p=void 0;if(Mt(u-c)!==Mt(m-u)){var x=[];if(Mt(m-u)===Mt(s[1]-s[0])){p=m;var y=u+s[1]-s[0];x[0]=Math.min(y,(y+c)/2),x[1]=Math.max(y,(y+c)/2)}else{p=c;var g=m+s[1]-s[0];x[0]=Math.min(u,(g+u)/2),x[1]=Math.max(u,(g+u)/2)}var v=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>v[0]&&e<=v[1]||e>=x[0]&&e<=x[1]){({index:o}=r[d]);break}}else{var h=Math.min(c,m),b=Math.max(c,m);if(e>(h+u)/2&&e<=(b+u)/2){({index:o}=r[d]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},gU=()=>fe(Wg),Nv=(e,t)=>t,T4=(e,t,r)=>r,kv=(e,t,r,n)=>n,vU=K(xa,e=>fm(e,t=>t.coordinate)),_v=K([to,Nv,T4,kv],v4),Sv=K([_v,ro,Ql,tc],yv),bU=(e,t,r)=>{if(t!=null){var n=to(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},D4=K([to,Nv,T4,kv],j4),ku=K([da,ua,Te,St,xa,kv,D4,Jl],b4),jU=K([_v,ku],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),I4=K([xa,Sv],p4),wU=K([D4,Sv,ns,Ql,I4,Jl,Nv],w4),NU=K([_v,Sv],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),kU=(e,t,r,n,s,i,o)=>{if(!(!e||!r||!n||!s)&&yU(e,o)){var l=eR(e,t),d=A4(l,i,s,r,n),c=xU(t,s,d,e);return{activeIndex:String(d),activeCoordinate:c}}},_U=(e,t,r,n,s,i,o)=>{if(!(!e||!n||!s||!i||!r)){var l=m6(e,r);if(l){var d=tR(l,t),c=A4(d,o,i,n,s),u=hU(t,i,c,l);return{activeIndex:String(c),activeCoordinate:u}}}},SU=(e,t,r,n,s,i,o,l)=>{if(!(!e||!t||!n||!s||!i))return t==="horizontal"||t==="vertical"?kU(e,t,n,s,i,o,l):_U(e,t,r,n,s,i,o)},CU=K(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),PU=K(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(ht)),r=Array.from(new Set(t));return r.sort((n,s)=>n-s)},{memoizeOptions:{resultEqualityCheck:d8}});function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){EU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EU(e,t,r){return(t=OU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OU(e){var t=AU(e,"string");return typeof t=="symbol"?t:t+""}function AU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TU={},DU={zIndexMap:Object.values(ht).reduce((e,t)=>Zw(Zw({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),TU)},IU=new Set(Object.values(ht));function MU(e){return IU.has(e)}var M4=Nr({name:"zIndex",initialState:DU,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Xe()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!MU(r)&&delete e.zIndexMap[r])},prepare:Xe()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:s?void 0:n,panoramaElementId:s?n:void 0}},prepare:Xe()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Xe()}}}),{registerZIndexPortal:LU,unregisterZIndexPortal:$U,registerZIndexPortalId:RU,unregisterZIndexPortalId:zU}=M4.actions,FU=M4.reducer;function kr(e){var{zIndex:t,children:r}=e,n=PR(),s=n&&t!==void 0&&t!==0,i=nr(),o=Ve();f.useLayoutEffect(()=>s?(o(LU({zIndex:t})),()=>{o($U({zIndex:t}))}):Tl,[o,t,s]);var l=fe(c=>CU(c,t,i));if(!s)return r;if(!l)return null;var d=document.getElementById(l);return d?Sl.createPortal(r,d):null}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(null,arguments)}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(n){BU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BU(e,t,r){return(t=UU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UU(e){var t=WU(e,"string");return typeof t=="symbol"?t:t+""}function WU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KU(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return f.isValidElement(t)?f.cloneElement(t,n):f.createElement(r,n)}function HU(e){var t,{coordinate:r,payload:n,index:s,offset:i,tooltipAxisBandSize:o,layout:l,cursor:d,tooltipEventType:c,chartName:u}=e,m=r,p=n,x=s;if(!d||!m||u!=="ScatterChart"&&c!=="axis")return null;var y,g,v;if(u==="ScatterChart")y=m,g=Cz,v=ht.cursorLine;else if(u==="BarChart")y=Pz(l,m,i,o),g=PC,v=ht.cursorRectangle;else if(l==="radial"&&V_(m)){var{cx:h,cy:b,radius:j,startAngle:k,endAngle:N}=OC(m);y={cx:h,cy:b,startAngle:k,endAngle:N,innerRadius:j,outerRadius:j},g=TC,v=ht.cursorLine}else y={points:h6(l,m,i)},g=hg,v=ht.cursorLine;var w=typeof d=="object"&&"className"in d?d.className:void 0,P=Uc(Uc(Uc(Uc({stroke:"#ccc",pointerEvents:"none"},i),y),As(d)),{},{payload:p,payloadIndex:x,className:Le("recharts-tooltip-cursor",w)});return f.createElement(kr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},f.createElement(KU,{cursor:d,cursorComp:g,cursorProps:P}))}function VU(e){var t=uU(),r=uC(),n=Rl(),s=gU();return t==null||r==null||n==null||s==null?null:f.createElement(HU,ch({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var L4=f.createContext(null),qU=()=>f.useContext(L4),$4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(d,c,u){this.fn=d,this.context=c,this.once=u||!1}function i(d,c,u,m,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var x=new s(u,m||d,p),y=r?r+c:c;return d._events[y]?d._events[y].fn?d._events[y]=[d._events[y],x]:d._events[y].push(x):(d._events[y]=x,d._eventsCount++),d}function o(d,c){--d._eventsCount===0?d._events=new n:delete d._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],u,m;if(this._eventsCount===0)return c;for(m in u=this._events)t.call(u,m)&&c.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},l.prototype.listeners=function(c){var u=r?r+c:c,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,x=m.length,y=new Array(x);p<x;p++)y[p]=m[p].fn;return y},l.prototype.listenerCount=function(c){var u=r?r+c:c,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(c,u,m,p,x,y){var g=r?r+c:c;if(!this._events[g])return!1;var v=this._events[g],h=arguments.length,b,j;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),h){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,m),!0;case 4:return v.fn.call(v.context,u,m,p),!0;case 5:return v.fn.call(v.context,u,m,p,x),!0;case 6:return v.fn.call(v.context,u,m,p,x,y),!0}for(j=1,b=new Array(h-1);j<h;j++)b[j-1]=arguments[j];v.fn.apply(v.context,b)}else{var k=v.length,N;for(j=0;j<k;j++)switch(v[j].once&&this.removeListener(c,v[j].fn,void 0,!0),h){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,u);break;case 3:v[j].fn.call(v[j].context,u,m);break;case 4:v[j].fn.call(v[j].context,u,m,p);break;default:if(!b)for(N=1,b=new Array(h-1);N<h;N++)b[N-1]=arguments[N];v[j].fn.apply(v[j].context,b)}}return!0},l.prototype.on=function(c,u,m){return i(this,c,u,m,!1)},l.prototype.once=function(c,u,m){return i(this,c,u,m,!0)},l.prototype.removeListener=function(c,u,m,p){var x=r?r+c:c;if(!this._events[x])return this;if(!u)return o(this,x),this;var y=this._events[x];if(y.fn)y.fn===u&&(!p||y.once)&&(!m||y.context===m)&&o(this,x);else{for(var g=0,v=[],h=y.length;g<h;g++)(y[g].fn!==u||p&&!y[g].once||m&&y[g].context!==m)&&v.push(y[g]);v.length?this._events[x]=v.length===1?v[0]:v:o(this,x)}return this},l.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})($4);var YU=$4.exports;const GU=In(YU);var vl=new GU,dh="recharts.syncEvent.tooltip",eN="recharts.syncEvent.brush";function Cv(e,t){if(t){var r=Number.parseInt(t,10);if(!hn(r))return e==null?void 0:e[r]}}var XU={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},R4=Nr({name:"options",initialState:XU,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),QU=R4.reducer,{createEventEmitter:ZU}=R4.actions;function JU(e){return e.tooltip.syncInteraction}var eW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},z4=Nr({name:"chartData",initialState:eW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:tN,setDataStartEndIndexes:tW,setComputedData:oX}=z4.actions,rW=z4.reducer,nW=["x","y"];function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){aW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aW(e,t,r){return(t=sW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sW(e){var t=iW(e,"string");return typeof t=="symbol"?t:t+""}function iW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oW(e,t){if(e==null)return{};var r,n,s=lW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cW(){var e=fe(Kg),t=fe(Hg),r=Ve(),n=fe(IP),s=fe(xa),i=Rl(),o=Sm(),l=fe(d=>d.rootProps.className);f.useEffect(()=>{if(e==null)return Tl;var d=(c,u,m)=>{if(t!==m&&e===c){if(n==="index"){var p;if(o&&u!==null&&u!==void 0&&(p=u.payload)!==null&&p!==void 0&&p.coordinate&&u.payload.sourceViewBox){var x=u.payload.coordinate,{x:y,y:g}=x,v=oW(x,nW),{x:h,y:b,width:j,height:k}=u.payload.sourceViewBox,N=qs(qs({},v),{},{x:o.x+(j?(y-h)/j:0)*o.width,y:o.y+(k?(g-b)/k:0)*o.height});r(qs(qs({},u),{},{payload:qs(qs({},u.payload),{},{coordinate:N})}))}else r(u);return}if(s!=null){var w;if(typeof n=="function"){var P={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},_=n(s,P);w=s[_]}else n==="value"&&(w=s.find(B=>String(B.value)===u.payload.label));var{coordinate:C}=u.payload;if(w==null||u.payload.active===!1||C==null||o==null){r(oh({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:O,y:S}=C,E=Math.min(O,o.x+o.width),I=Math.min(S,o.y+o.height),A={x:i==="horizontal"?w.coordinate:E,y:i==="horizontal"?I:w.coordinate},M=oh({active:u.payload.active,coordinate:A,dataKey:u.payload.dataKey,index:String(w.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox,graphicalItemId:u.payload.graphicalItemId});r(M)}}};return vl.on(dh,d),()=>{vl.off(dh,d)}},[l,r,t,e,n,s,i,o])}function dW(){var e=fe(Kg),t=fe(Hg),r=Ve();f.useEffect(()=>{if(e==null)return Tl;var n=(s,i,o)=>{t!==o&&e===s&&r(tW(i))};return vl.on(eN,n),()=>{vl.off(eN,n)}},[r,t,e])}function uW(){var e=Ve();f.useEffect(()=>{e(ZU())},[e]),cW(),dW()}function mW(e,t,r,n,s,i){var o=fe(x=>bU(x,e,t)),l=fe(Hg),d=fe(Kg),c=fe(IP),u=fe(JU),m=u==null?void 0:u.active,p=Sm();f.useEffect(()=>{if(!m&&d!=null&&l!=null){var x=oh({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});vl.emit(dh,d,x,l)}},[m,r,o,s,n,l,d,c,i,p])}function nN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(r),!0).forEach(function(n){fW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fW(e,t,r){return(t=pW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hW(e){return e.dataKey}function yW(e,t){return f.isValidElement(e)?f.cloneElement(e,t):typeof e=="function"?f.createElement(e,t):f.createElement(iz,t)}var sN=[],gW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function fd(e){var t,r,n=bt(e,gW),{active:s,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:d,filterNull:c,isAnimationActive:u,offset:m,payloadUniqBy:p,position:x,reverseDirection:y,useTranslate3d:g,wrapperStyle:v,cursor:h,shared:b,trigger:j,defaultIndex:k,portal:N,axisId:w}=n,P=Ve(),_=typeof k=="number"?String(k):k;f.useEffect(()=>{P(p7({shared:b,trigger:j,axisId:w,active:s,defaultIndex:_}))},[P,b,j,w,s,_]);var C=Sm(),O=NC(),S=l7(b),{activeIndex:E,isActive:I}=(t=fe(ie=>NU(ie,S,j,_)))!==null&&t!==void 0?t:{},A=fe(ie=>wU(ie,S,j,_)),M=fe(ie=>I4(ie,S,j,_)),B=fe(ie=>jU(ie,S,j,_)),W=A,L=qU(),R=(r=s??I)!==null&&r!==void 0?r:!1,[$,X]=wS([W,R]),T=S==="axis"?M:void 0;mW(S,j,B,T,E,R);var Q=N??L;if(Q==null||C==null||S==null)return null;var J=W??sN;R||(J=sN),c&&J.length&&(J=dS(J.filter(ie=>ie.value!=null&&(ie.hide!==!0||n.includeHidden)),p,hW));var D=J.length>0,q=f.createElement(fz,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:u,active:R,coordinate:B,hasPayload:D,offset:m,position:x,reverseDirection:y,useTranslate3d:g,viewBox:C,wrapperStyle:v,lastBoundingBox:$,innerRef:X,hasPortalFromProps:!!N},yW(d,aN(aN({},n),{},{payload:J,label:T,active:R,activeIndex:E,coordinate:B,accessibilityLayer:O})));return f.createElement(f.Fragment,null,Sl.createPortal(q,Q),R&&f.createElement(VU,{cursor:h,tooltipEventType:S,coordinate:B,payload:J,index:E}))}var no=e=>null;no.displayName="Cell";function vW(e,t,r){return(t=bW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bW(e){var t=jW(e,"string");return typeof t=="symbol"?t:t+""}function jW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wW{constructor(t){vW(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function NW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(n){kW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kW(e,t,r){return(t=_W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _W(e){var t=SW(e,"string");return typeof t=="symbol"?t:t+""}function SW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CW={cacheSize:2e3,enableCache:!0},F4=NW({},CW),oN=new wW(F4.cacheSize),PW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lN="recharts_measurement_span";function EW(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(l)}var cN=(e,t)=>{try{var r=document.getElementById(lN);r||(r=document.createElement("span"),r.setAttribute("id",lN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,PW,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Fo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fl.isSsr)return{width:0,height:0};if(!F4.enableCache)return cN(t,r);var n=EW(t,r),s=oN.get(n);if(s)return s;var i=cN(t,r);return oN.set(n,i),i},dN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,AW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,B4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},TW=Object.keys(B4),li="NaN";function DW(e,t){return e*B4[t]}class pr{static parse(t){var r,[,n,s]=(r=AW.exec(t))!==null&&r!==void 0?r:[];return new pr(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,hn(t)&&(this.unit=""),r!==""&&!OW.test(r)&&(this.num=NaN,this.unit=""),TW.includes(r)&&(this.num=DW(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new pr(NaN,""):new pr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new pr(NaN,""):new pr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pr(NaN,""):new pr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pr(NaN,""):new pr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return hn(this.num)}}function U4(e){if(e.includes(li))return li;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=dN.exec(t))!==null&&r!==void 0?r:[],o=pr.parse(n??""),l=pr.parse(i??""),d=s==="*"?o.multiply(l):o.divide(l);if(d.isNaN())return li;t=t.replace(dN,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,m,p]=(c=uN.exec(t))!==null&&c!==void 0?c:[],x=pr.parse(u??""),y=pr.parse(p??""),g=m==="+"?x.add(y):x.subtract(y);if(g.isNaN())return li;t=t.replace(uN,g.toString())}return t}var mN=/\(([^()]*)\)/;function IW(e){for(var t=e,r;(r=mN.exec(t))!=null;){var[,n]=r;t=t.replace(mN,U4(n))}return t}function MW(e){var t=e.replace(/\s+/g,"");return t=IW(t),t=U4(t),t}function LW(e){try{return MW(e)}catch{return li}}function ip(e){var t=LW(e.slice(5,-1));return t===li?"":t}var $W=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],RW=["dx","dy","angle","className","breakAll"];function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uh.apply(null,arguments)}function fN(e,t){if(e==null)return{};var r,n,s=zW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function zW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var W4=/[ \f\n\r\t\v\u2028\u2029]+/,K4=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];et(t)||(r?s=t.toString().split(""):s=t.toString().split(W4));var i=s.map(l=>({word:l,width:Fo(l,n).width})),o=r?0:Fo("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function FW(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var H4=(e,t,r,n)=>e.reduce((s,i)=>{var{word:o,width:l}=i,d=s[s.length-1];if(d&&l!=null&&(t==null||n||d.width+l+r<Number(t)))d.words.push(o),d.width+=l+r;else{var c={words:[o],width:l};s.push(c)}return s},[]),V4=e=>e.reduce((t,r)=>t.width>r.width?t:r),BW="",pN=(e,t,r,n,s,i,o,l)=>{var d=e.slice(0,t),c=K4({breakAll:r,style:n,children:d+BW});if(!c)return[!1,[]];var u=H4(c.wordsWithComputedWidth,i,o,l),m=u.length>s||V4(u).width>Number(i);return[m,u]},UW=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:l,breakAll:d}=e,c=xe(i),u=String(o),m=H4(t,n,r,s);if(!c||s)return m;var p=m.length>i||V4(m).width>Number(n);if(!p)return m;for(var x=0,y=u.length-1,g=0,v;x<=y&&g<=u.length-1;){var h=Math.floor((x+y)/2),b=h-1,[j,k]=pN(u,b,d,l,i,n,r,s),[N]=pN(u,h,d,l,i,n,r,s);if(!j&&!N&&(x=h+1),j&&N&&(y=h-1),!j&&N){v=k;break}g++}return v||m},xN=e=>{var t=et(e)?[]:e.toString().split(W4);return[{words:t,width:void 0}]},WW=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!Fl.isSsr){var l,d,c=K4({breakAll:i,children:n,style:s});if(c){var{wordsWithComputedWidth:u,spaceWidth:m}=c;l=u,d=m}else return xN(n);return UW({breakAll:i,children:n,maxLines:o,style:s},l,d,t,!!r)}return xN(n)},q4="#808080",KW={angle:0,breakAll:!1,capHeight:"0.71em",fill:q4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ym=f.forwardRef((e,t)=>{var r=bt(e,KW),{x:n,y:s,lineHeight:i,capHeight:o,fill:l,scaleToFit:d,textAnchor:c,verticalAnchor:u}=r,m=fN(r,$W),p=f.useMemo(()=>WW({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:x,dy:y,angle:g,className:v,breakAll:h}=m,b=fN(m,RW);if(!An(n)||!An(s)||p.length===0)return null;var j=Number(n)+(xe(x)?x:0),k=Number(s)+(xe(y)?y:0);if(!mt(j)||!mt(k))return null;var N;switch(u){case"start":N=ip("calc(".concat(o,")"));break;case"middle":N=ip("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:N=ip("calc(".concat(p.length-1," * -").concat(i,")"));break}var w=[];if(d){var P=p[0].width,{width:_}=m;w.push("scale(".concat(xe(_)&&xe(P)?_/P:1,")"))}return g&&w.push("rotate(".concat(g,", ").concat(j,", ").concat(k,")")),w.length&&(b.transform=w.join(" ")),f.createElement("text",uh({},cr(b),{ref:t,x:j,y:k,className:Le("recharts-text",v),textAnchor:c,fill:l.includes("url")?q4:l}),p.map((C,O)=>{var S=C.words.join(h?"":" ");return f.createElement("tspan",{x:j,dy:O===0?N:i,key:"".concat(S,"-").concat(O)},S)}))});Ym.displayName="Text";var HW=["labelRef"];function VW(e,t){if(e==null)return{};var r,n,s=qW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){YW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YW(e,t,r){return(t=GW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GW(e){var t=XW(e,"string");return typeof t=="symbol"?t:t+""}function XW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zn(){return zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zn.apply(null,arguments)}var Y4=f.createContext(null),QW=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:s,width:i,height:o,children:l}=e,d=f.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:s,width:i,height:o}),[t,r,n,s,i,o]);return f.createElement(Y4.Provider,{value:d},l)},G4=()=>{var e=f.useContext(Y4),t=Sm();return e||dC(t)},ZW=f.createContext(null),JW=()=>{var e=f.useContext(ZW),t=fe(zP);return e||t},e9=e=>{var{value:t,formatter:r}=e,n=et(e.children)?t:e.children;return typeof r=="function"?r(n):n},Pv=e=>e!=null&&typeof e=="function",t9=(e,t)=>{var r=Mt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},r9=(e,t,r,n,s)=>{var{offset:i,className:o}=e,{cx:l,cy:d,innerRadius:c,outerRadius:u,startAngle:m,endAngle:p,clockWise:x}=s,y=(c+u)/2,g=t9(m,p),v=g>=0?1:-1,h,b;switch(t){case"insideStart":h=m+v*i,b=x;break;case"insideEnd":h=p-v*i,b=!x;break;case"end":h=p+v*i,b=x;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var j=xt(l,d,y,h),k=xt(l,d,y,h+(b?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(b?0:1,`,
    `).concat(k.x,",").concat(k.y),w=et(e.id)?il("recharts-radial-line-"):e.id;return f.createElement("text",zn({},n,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",o)}),f.createElement("defs",null,f.createElement("path",{id:w,d:N})),f.createElement("textPath",{xlinkHref:"#".concat(w)},r))},n9=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:l,endAngle:d}=e,c=(l+d)/2;if(r==="outside"){var{x:u,y:m}=xt(n,s,o+t,c);return{x:u,y:m,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x,y}=xt(n,s,p,c);return{x,y,textAnchor:"middle",verticalAnchor:"middle"}},mh=e=>"cx"in e&&xe(e.cx),a9=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,i;r!=null&&!mh(r)&&(i=r);var{x:o,y:l,upperWidth:d,lowerWidth:c,height:u}=t,m=o,p=o+(d-c)/2,x=(m+p)/2,y=(d+c)/2,g=m+d/2,v=u>=0?1:-1,h=v*n,b=v>0?"end":"start",j=v>0?"start":"end",k=d>=0?1:-1,N=k*n,w=k>0?"end":"start",P=k>0?"start":"end";if(s==="top"){var _={x:m+d/2,y:l-h,textAnchor:"middle",verticalAnchor:b};return ct(ct({},_),i?{height:Math.max(l-i.y,0),width:d}:{})}if(s==="bottom"){var C={x:p+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:j};return ct(ct({},C),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(s==="left"){var O={x:x-N,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return ct(ct({},O),i?{width:Math.max(O.x-i.x,0),height:u}:{})}if(s==="right"){var S={x:x+y+N,y:l+u/2,textAnchor:P,verticalAnchor:"middle"};return ct(ct({},S),i?{width:Math.max(i.x+i.width-S.x,0),height:u}:{})}var E=i?{width:y,height:u}:{};return s==="insideLeft"?ct({x:x+N,y:l+u/2,textAnchor:P,verticalAnchor:"middle"},E):s==="insideRight"?ct({x:x+y-N,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},E):s==="insideTop"?ct({x:m+d/2,y:l+h,textAnchor:"middle",verticalAnchor:j},E):s==="insideBottom"?ct({x:p+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:b},E):s==="insideTopLeft"?ct({x:m+N,y:l+h,textAnchor:P,verticalAnchor:j},E):s==="insideTopRight"?ct({x:m+d-N,y:l+h,textAnchor:w,verticalAnchor:j},E):s==="insideBottomLeft"?ct({x:p+N,y:l+u-h,textAnchor:P,verticalAnchor:b},E):s==="insideBottomRight"?ct({x:p+c-N,y:l+u-h,textAnchor:w,verticalAnchor:b},E):s&&typeof s=="object"&&(xe(s.x)||ta(s.x))&&(xe(s.y)||ta(s.y))?ct({x:o+tr(s.x,y),y:l+tr(s.y,u),textAnchor:"end",verticalAnchor:"end"},E):ct({x:g,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},s9={angle:0,offset:5,zIndex:ht.label,position:"middle",textBreakAll:!1};function wa(e){var t=bt(e,s9),{viewBox:r,position:n,value:s,children:i,content:o,className:l="",textBreakAll:d,labelRef:c}=t,u=JW(),m=G4(),p=n==="center"?m:u??m,x,y,g;if(r==null?x=p:mh(r)?x=r:x=dC(r),!x||et(s)&&et(i)&&!f.isValidElement(o)&&typeof o!="function")return null;var v=ct(ct({},t),{},{viewBox:x});if(f.isValidElement(o)){var{labelRef:h}=v,b=VW(v,HW);return f.cloneElement(o,b)}if(typeof o=="function"){if(y=f.createElement(o,v),f.isValidElement(y))return y}else y=e9(t);var j=cr(t);if(mh(x)){if(n==="insideStart"||n==="insideEnd"||n==="end")return r9(t,n,y,j,x);g=n9(x,t.offset,t.position)}else g=a9(t,x);return f.createElement(kr,{zIndex:t.zIndex},f.createElement(Ym,zn({ref:c,className:Le("recharts-label",l)},j,g,{textAnchor:FW(j.textAnchor)?j.textAnchor:g.textAnchor,breakAll:d}),y))}wa.displayName="Label";var i9=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?f.createElement(wa,zn({key:"label-implicit"},n)):An(e)?f.createElement(wa,zn({key:"label-implicit",value:e},n)):f.isValidElement(e)?e.type===wa?f.cloneElement(e,ct({key:"label-implicit"},n)):f.createElement(wa,zn({key:"label-implicit",content:e},n)):Pv(e)?f.createElement(wa,zn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?f.createElement(wa,zn({},e,{key:"label-implicit"},n)):null};function o9(e){var{label:t,labelRef:r}=e,n=G4();return i9(t,n,r)||null}var X4={},Q4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Q4);var Z4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Z4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q4,r=Z4,n=um;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(X4);var l9=X4.last;const c9=In(l9);var d9=["valueAccessor"],u9=["dataKey","clockWise","id","textBreakAll","zIndex"];function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_u.apply(null,arguments)}function yN(e,t){if(e==null)return{};var r,n,s=m9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function m9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var f9=e=>Array.isArray(e.value)?c9(e.value):e.value,J4=f.createContext(void 0),eE=J4.Provider,tE=f.createContext(void 0),p9=tE.Provider;function x9(){return f.useContext(J4)}function h9(){return f.useContext(tE)}function pd(e){var{valueAccessor:t=f9}=e,r=yN(e,d9),{dataKey:n,clockWise:s,id:i,textBreakAll:o,zIndex:l}=r,d=yN(r,u9),c=x9(),u=h9(),m=c||u;return!m||!m.length?null:f.createElement(kr,{zIndex:l??ht.label},f.createElement($t,{className:"recharts-label-list"},m.map((p,x)=>{var y,g=et(n)?t(p,x):Be(p&&p.payload,n),v=et(i)?{}:{id:"".concat(i,"-").concat(x)};return f.createElement(wa,_u({key:"label-".concat(x)},cr(p),d,v,{fill:(y=r.fill)!==null&&y!==void 0?y:p.fill,parentViewBox:p.parentViewBox,value:g,textBreakAll:o,viewBox:p.viewBox,index:x,zIndex:0}))})))}pd.displayName="LabelList";function Ev(e){var{label:t}=e;return t?t===!0?f.createElement(pd,{key:"labelList-implicit"}):f.isValidElement(t)||Pv(t)?f.createElement(pd,{key:"labelList-implicit",content:t}):typeof t=="object"?f.createElement(pd,_u({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(null,arguments)}var rE=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=Le("recharts-dot",s);return xe(t)&&xe(r)&&xe(n)?f.createElement("circle",fh({},Mr(e),Wy(e),{className:i,cx:t,cy:r,r:n})):null},nE=e=>e.graphicalItems.polarItems,y9=K([tt,Yl],Qg),Gm=K([nE,it,y9],Zg),g9=K([Gm],Jg),Xm=K([g9,Fg],ev),v9=K([Xm,it,Gm],rv);K([Xm,it,Gm],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,o=Be(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Be(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var gN=()=>{},b9=K([Xm,it,Gm,Hm,tt],iv),j9=K([it,av,sv,gN,b9,gN,Te,tt],ov),aE=K([it,Te,Xm,v9,ql,tt,j9],lv),w9=K([aE,it,Ji],uv);K([it,aE,w9,tt],fv);var N9={radiusAxis:{},angleAxis:{}},sE=Nr({name:"polarAxis",initialState:N9,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:lX,removeRadiusAxis:cX,addAngleAxis:dX,removeAngleAxis:uX}=sE.actions,k9=sE.reducer;function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){_9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _9(e,t,r){return(t=S9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S9(e){var t=C9(e,"string");return typeof t=="symbol"?t:t+""}function C9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P9=(e,t)=>t,Ov=K([nE,P9],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),E9=[],Av=(e,t,r)=>(r==null?void 0:r.length)===0?E9:r,iE=K([Fg,Ov,Av],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>bN(bN({},t.presentationProps),i.props))),s!=null)return s}}),O9=K([iE,Ov,Av],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,o=Be(n,t.nameKey,t.name),l;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:qi(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),A9=K([iE,Ov,Av,St],(e,t,r,n)=>{if(!(t==null||e==null))return OK({offset:n,pieSettings:t,displayedData:e,cells:r})}),oE={exports:{}},We={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv=Symbol.for("react.transitional.element"),Dv=Symbol.for("react.portal"),Qm=Symbol.for("react.fragment"),Zm=Symbol.for("react.strict_mode"),Jm=Symbol.for("react.profiler"),ef=Symbol.for("react.consumer"),tf=Symbol.for("react.context"),rf=Symbol.for("react.forward_ref"),nf=Symbol.for("react.suspense"),af=Symbol.for("react.suspense_list"),sf=Symbol.for("react.memo"),of=Symbol.for("react.lazy"),T9=Symbol.for("react.view_transition"),D9=Symbol.for("react.client.reference");function tn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Tv:switch(e=e.type,e){case Qm:case Jm:case Zm:case nf:case af:case T9:return e;default:switch(e=e&&e.$$typeof,e){case tf:case rf:case of:case sf:return e;case ef:return e;default:return t}}case Dv:return t}}}We.ContextConsumer=ef;We.ContextProvider=tf;We.Element=Tv;We.ForwardRef=rf;We.Fragment=Qm;We.Lazy=of;We.Memo=sf;We.Portal=Dv;We.Profiler=Jm;We.StrictMode=Zm;We.Suspense=nf;We.SuspenseList=af;We.isContextConsumer=function(e){return tn(e)===ef};We.isContextProvider=function(e){return tn(e)===tf};We.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tv};We.isForwardRef=function(e){return tn(e)===rf};We.isFragment=function(e){return tn(e)===Qm};We.isLazy=function(e){return tn(e)===of};We.isMemo=function(e){return tn(e)===sf};We.isPortal=function(e){return tn(e)===Dv};We.isProfiler=function(e){return tn(e)===Jm};We.isStrictMode=function(e){return tn(e)===Zm};We.isSuspense=function(e){return tn(e)===nf};We.isSuspenseList=function(e){return tn(e)===af};We.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Qm||e===Jm||e===Zm||e===nf||e===af||typeof e=="object"&&e!==null&&(e.$$typeof===of||e.$$typeof===sf||e.$$typeof===tf||e.$$typeof===ef||e.$$typeof===rf||e.$$typeof===D9||e.getModuleId!==void 0)};We.typeOf=tn;oE.exports=We;var I9=oE.exports,jN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",wN=null,op=null,lE=e=>{if(e===wN&&Array.isArray(op))return op;var t=[];return f.Children.forEach(e,r=>{et(r)||(I9.isFragment(r)?t=t.concat(lE(r.props.children)):t.push(r))}),op=t,wN=e,t};function Iv(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>jN(s)):n=[jN(t)],lE(e).forEach(s=>{var i=Ts(s,"type.displayName")||Ts(s,"type.name");i&&n.indexOf(i)!==-1&&r.push(s)}),r}var cE=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,dE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(dE);var M9=dE.isPlainObject;const L9=In(M9);function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){$9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $9(e,t,r){return(t=R9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R9(e){var t=z9(e,"string");return typeof t=="symbol"?t:t+""}function z9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Su.apply(null,arguments)}var _N=(e,t,r,n,s)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},F9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B9=e=>{var t=bt(e,F9),{x:r,y:n,upperWidth:s,lowerWidth:i,height:o,className:l}=t,{animationEasing:d,animationDuration:c,animationBegin:u,isUpdateAnimationActive:m}=t,p=f.useRef(null),[x,y]=f.useState(-1),g=f.useRef(s),v=f.useRef(i),h=f.useRef(o),b=f.useRef(r),j=f.useRef(n),k=Ul(e,"trapezoid-");if(f.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var A=p.current.getTotalLength();A&&y(A)}catch{}},[]),r!==+r||n!==+n||s!==+s||i!==+i||o!==+o||s===0&&i===0||o===0)return null;var N=Le("recharts-trapezoid",l);if(!m)return f.createElement("g",null,f.createElement("path",Su({},cr(t),{className:N,d:_N(r,n,s,i,o)})));var w=g.current,P=v.current,_=h.current,C=b.current,O=j.current,S="0px ".concat(x===-1?1:x,"px"),E="".concat(x,"px 0px"),I=kC(["strokeDasharray"],c,d);return f.createElement(Bl,{animationId:k,key:k,canBegin:x>0,duration:c,easing:d,isActive:m,begin:u},A=>{var M=Qe(w,s,A),B=Qe(P,i,A),W=Qe(_,o,A),L=Qe(C,r,A),R=Qe(O,n,A);p.current&&(g.current=M,v.current=B,h.current=W,b.current=L,j.current=R);var $=A>0?{transition:I,strokeDasharray:E}:{strokeDasharray:S};return f.createElement("path",Su({},cr(t),{className:N,d:_N(L,R,M,B,W),ref:p,style:kN(kN({},$),t.style)}))})},U9=["option","shapeType","propTransformer","activeClassName"];function W9(e,t){if(e==null)return{};var r,n,s=K9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function K9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){H9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H9(e,t,r){return(t=V9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V9(e){var t=q9(e,"string");return typeof t=="symbol"?t:t+""}function q9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y9(e,t){return Cu(Cu({},t),e)}function G9(e,t){return e==="symbols"}function CN(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return f.createElement(PC,r);case"trapezoid":return f.createElement(B9,r);case"sector":return f.createElement(TC,r);case"symbols":if(G9(t))return f.createElement(Uy,r);break;case"curve":return f.createElement(hg,r);default:return null}}function X9(e){return f.isValidElement(e)?e.props:e}function Mv(e){var{option:t,shapeType:r,propTransformer:n=Y9,activeClassName:s="recharts-active-shape"}=e,i=W9(e,U9),o;if(f.isValidElement(t))o=f.cloneElement(t,Cu(Cu({},i),X9(t)));else if(typeof t=="function")o=t(i,i.index);else if(L9(t)&&typeof t!="boolean"){var l=n(t,i);o=f.createElement(CN,{shapeType:r,elementProps:l})}else{var d=i;o=f.createElement(CN,{shapeType:r,elementProps:d})}return i.isActive?f.createElement($t,{className:s},o):o}var Lv=(e,t,r)=>{var n=Ve();return(s,i)=>o=>{e==null||e(s,i,o),n(h4({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}},$v=e=>{var t=Ve();return(r,n)=>s=>{e==null||e(r,n,s),t(x7())}},Rv=(e,t,r)=>{var n=Ve();return(s,i)=>o=>{e==null||e(s,i,o),n(h7({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}};function zv(e){var{tooltipEntrySettings:t}=e,r=Ve(),n=nr(),s=f.useRef(null);return f.useLayoutEffect(()=>{n||(s.current===null?r(u7(t)):s.current!==t&&r(m7({prev:s.current,next:t})),s.current=t)},[t,r,n]),f.useLayoutEffect(()=>()=>{s.current&&(r(f7(s.current)),s.current=null)},[r]),null}function uE(e){var{legendPayload:t}=e,r=Ve(),n=nr(),s=f.useRef(null);return f.useLayoutEffect(()=>{n||(s.current===null?r(vC(t)):s.current!==t&&r(bC({prev:s.current,next:t})),s.current=t)},[r,n,t]),f.useLayoutEffect(()=>()=>{s.current&&(r(jC(s.current)),s.current=null)},[r]),null}function Q9(e){var{legendPayload:t}=e,r=Ve(),n=fe(Te),s=f.useRef(null);return f.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(s.current===null?r(vC(t)):s.current!==t&&r(bC({prev:s.current,next:t})),s.current=t)},[r,n,t]),f.useLayoutEffect(()=>()=>{s.current&&(r(jC(s.current)),s.current=null)},[r]),null}var lp,Z9=()=>{var[e]=f.useState(()=>il("uid-"));return e},J9=(lp=f1.useId)!==null&&lp!==void 0?lp:Z9;function mE(e,t){var r=J9();return t||(e?"".concat(e,"-").concat(r):r)}var eK=f.createContext(void 0),Fv=e=>{var{id:t,type:r,children:n}=e,s=mE("recharts-".concat(r),t);return f.createElement(eK.Provider,{value:s},n(s))},tK={cartesianItems:[],polarItems:[]},fE=Nr({name:"graphicalItems",initialState:tK,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Xe()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,s=pn(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},prepare:Xe()},removeCartesianGraphicalItem:{reducer(e,t){var r=pn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Xe()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Xe()},removePolarGraphicalItem:{reducer(e,t){var r=pn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Xe()}}}),{addCartesianGraphicalItem:rK,replaceCartesianGraphicalItem:nK,removeCartesianGraphicalItem:aK,addPolarGraphicalItem:sK,removePolarGraphicalItem:iK}=fE.actions,oK=fE.reducer,lK=e=>{var t=Ve(),r=f.useRef(null);return f.useLayoutEffect(()=>{r.current===null?t(rK(e)):r.current!==e&&t(nK({prev:r.current,next:e})),r.current=e},[t,e]),f.useLayoutEffect(()=>()=>{r.current&&(t(aK(r.current)),r.current=null)},[t]),null},pE=f.memo(lK);function cK(e){var t=Ve();return f.useLayoutEffect(()=>(t(sK(e)),()=>{t(iK(e))}),[t,e]),null}var dK=["key"],uK=["onMouseEnter","onClick","onMouseLeave"],mK=["id"],fK=["id"];function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){pK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pK(e,t,r){return(t=xK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xK(e){var t=hK(e,"string");return typeof t=="symbol"?t:t+""}function hK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ya(){return Ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ya.apply(null,arguments)}function lf(e,t){if(e==null)return{};var r,n,s=yK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gK(e){var t=f.useMemo(()=>Iv(e.children,no),[e.children]),r=fe(n=>O9(n,e.id,t));return r==null?null:f.createElement(Q9,{legendPayload:r})}var vK=f.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:o,name:l,hide:d,tooltipType:c}=e,u={dataDefinedOnItem:n.map(m=>m.tooltipPayload),positions:n.map(m=>m.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:qi(l,t),hide:d,type:c,color:o,unit:""}};return f.createElement(zv,{tooltipEntrySettings:u})}),bK=(e,t)=>e>t?"start":e<t?"end":"middle",jK=(e,t,r)=>tr(typeof t=="function"?t(e):t,r,r*.8),wK=(e,t,r)=>{var{top:n,left:s,width:i,height:o}=t,l=EC(i,o),d=s+tr(e.cx,i,i/2),c=n+tr(e.cy,o,o/2),u=tr(e.innerRadius,l,0),m=jK(r,e.outerRadius,l),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:d,cy:c,innerRadius:u,outerRadius:m,maxRadius:p}},NK=(e,t)=>{var r=Mt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function kK(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var _K=(e,t)=>{if(f.isValidElement(e))return f.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Le("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,s=lf(t,dK);return f.createElement(hg,Ya({},s,{type:"linear",className:r}))},SK=(e,t,r)=>{if(f.isValidElement(e))return f.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),f.isValidElement(n)))return n;var s=Le("recharts-pie-label-text",kK(e));return f.createElement(Ym,Ya({},t,{alignmentBaseline:"middle",className:s}),n)};function CK(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=r;if(!n||!s||!t)return null;var l=Mr(r),d=As(s),c=As(i),u=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,m=t.map((p,x)=>{var y=(p.startAngle+p.endAngle)/2,g=xt(p.cx,p.cy,p.outerRadius+u,y),v=lt(lt(lt(lt({},l),p),{},{stroke:"none"},d),{},{index:x,textAnchor:bK(g.x,p.cx)},g),h=lt(lt(lt(lt({},l),p),{},{fill:"none",stroke:p.fill},c),{},{index:x,points:[xt(p.cx,p.cy,p.outerRadius,y),g],key:"line"});return f.createElement(kr,{zIndex:ht.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(x)},f.createElement($t,null,i&&_K(i,h),SK(s,v,Be(p,o))))});return f.createElement($t,{className:"recharts-pie-labels"},m)}function PK(e){var{sectors:t,props:r,showLabels:n}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?f.createElement(Ev,{label:s}):f.createElement(CK,{sectors:t,props:r,showLabels:n})}function EK(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s,shape:i,id:o}=e,l=fe(qa),d=fe(wv),c=fe(tU),{onMouseEnter:u,onClick:m,onMouseLeave:p}=s,x=lf(s,uK),y=Lv(u,s.dataKey,o),g=$v(p),v=Rv(m,s.dataKey,o);return t==null||t.length===0?null:f.createElement(f.Fragment,null,t.map((h,b)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&t.length!==1)return null;var j=c==null||c===o,k=String(b)===l&&(d==null||s.dataKey===d)&&j,N=l?n:null,w=r&&k?r:N,P=lt(lt({},h),{},{stroke:h.stroke,tabIndex:-1,[rC]:b,[nC]:s.dataKey});return f.createElement($t,Ya({key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Dl(x,h,b),{onMouseEnter:y(h,b),onMouseLeave:g(h,b),onClick:v(h,b)}),f.createElement(Mv,Ya({option:i??w,index:b,shapeType:"sector",isActive:k},P)))}))}function OK(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:d,dataKey:c,nameKey:u,tooltipType:m}=r,p=Math.abs(r.minAngle),x=NK(l,d),y=Math.abs(x),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(w=>Be(w,c,0)!==0).length,h=(y>=360?v:v-1)*g,b=y-v*p-h,j=n.reduce((w,P)=>{var _=Be(P,c,0);return w+(xe(_)?_:0)},0),k;if(j>0){var N;k=n.map((w,P)=>{var _=Be(w,c,0),C=Be(w,u,P),O=wK(r,i,w),S=(xe(_)?_:0)/j,E,I=lt(lt({},w),s&&s[P]&&s[P].props);P?E=N.endAngle+Mt(x)*g*(_!==0?1:0):E=l;var A=E+Mt(x)*((_!==0?p:0)+S*b),M=(E+A)/2,B=(O.innerRadius+O.outerRadius)/2,W=[{name:C,value:_,payload:I,dataKey:c,type:m}],L=xt(O.cx,O.cy,B,M);return N=lt(lt(lt(lt({},r.presentationProps),{},{percent:S,cornerRadius:typeof o=="string"?parseFloat(o):o,name:C,tooltipPayload:W,midAngle:M,middleRadius:B,tooltipPosition:L},I),O),{},{value:_,dataKey:c,startAngle:E,endAngle:A,payload:I,paddingAngle:Mt(x)*g}),N})}return k}function AK(e){var{showLabels:t,sectors:r,children:n}=e,s=f.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return f.createElement(p9,{value:t?s:void 0},n)}function TK(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:d,activeShape:c,inactiveShape:u,onAnimationStart:m,onAnimationEnd:p}=t,x=Ul(t,"recharts-pie-"),y=r.current,[g,v]=f.useState(!1),h=f.useCallback(()=>{typeof p=="function"&&p(),v(!1)},[p]),b=f.useCallback(()=>{typeof m=="function"&&m(),v(!0)},[m]);return f.createElement(AK,{showLabels:!g,sectors:s},f.createElement(Bl,{animationId:x,begin:o,duration:l,isActive:i,easing:d,onAnimationStart:b,onAnimationEnd:h,key:x},j=>{var k=[],N=s&&s[0],w=N==null?void 0:N.startAngle;return s==null||s.forEach((P,_)=>{var C=y&&y[_],O=_>0?Ts(P,"paddingAngle",0):0;if(C){var S=Qe(C.endAngle-C.startAngle,P.endAngle-P.startAngle,j),E=lt(lt({},P),{},{startAngle:w+O,endAngle:w+S+O});k.push(E),w=E.endAngle}else{var{endAngle:I,startAngle:A}=P,M=Qe(0,I-A,j),B=lt(lt({},P),{},{startAngle:w+O,endAngle:w+M+O});k.push(B),w=B.endAngle}}),r.current=k,f.createElement($t,null,f.createElement(EK,{sectors:k,activeShape:c,inactiveShape:u,allOtherPieProps:t,shape:t.shape,id:n}))}),f.createElement(PK,{showLabels:!g,sectors:s,props:t}),t.children)}var DK={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ht.area};function IK(e){var{id:t}=e,r=lf(e,mK),{hide:n,className:s,rootTabIndex:i}=e,o=f.useMemo(()=>Iv(e.children,no),[e.children]),l=fe(u=>A9(u,t,o)),d=f.useRef(null),c=Le("recharts-pie",s);return n||l==null?(d.current=null,f.createElement($t,{tabIndex:i,className:c})):f.createElement(kr,{zIndex:e.zIndex},f.createElement(vK,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),f.createElement($t,{tabIndex:i,className:c},f.createElement(TK,{props:lt(lt({},r),{},{sectors:l}),previousSectorsRef:d,id:t})))}function Bv(e){var t=bt(e,DK),{id:r}=t,n=lf(t,fK),s=Mr(n);return f.createElement(Fv,{id:r,type:"pie"},i=>f.createElement(f.Fragment,null,f.createElement(cK,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),f.createElement(gK,Ya({},n,{id:i})),f.createElement(IK,Ya({},n,{id:i}))))}Bv.displayName="Pie";var MK=["points"];function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){LK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LK(e,t,r){return(t=$K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $K(e){var t=RK(e,"string");return typeof t=="symbol"?t:t+""}function RK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pu.apply(null,arguments)}function zK(e,t){if(e==null)return{};var r,n,s=FK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function FK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BK(e){var{option:t,dotProps:r,className:n}=e;if(f.isValidElement(t))return f.cloneElement(t,r);if(typeof t=="function")return t(r);var s=Le(n,typeof t!="boolean"?t.className:""),i=r??{},{points:o}=i,l=zK(i,MK);return f.createElement(rE,Pu({},l,{className:s}))}function UK(e,t){return e==null?!1:t?!0:e.length===1}function WK(e){var{points:t,dot:r,className:n,dotClassName:s,dataKey:i,baseProps:o,needClip:l,clipPathId:d,zIndex:c=ht.scatter}=e;if(!UK(t,r))return null;var u=cE(r),m=UM(r),p=t.map((y,g)=>{var v,h,b=cp(cp(cp({r:3},o),m),{},{index:g,cx:(v=y.x)!==null&&v!==void 0?v:void 0,cy:(h=y.y)!==null&&h!==void 0?h:void 0,dataKey:i,value:y.value,payload:y.payload,points:t});return f.createElement(BK,{key:"dot-".concat(g),option:r,dotProps:b,className:s})}),x={};return l&&d!=null&&(x.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(d,")")),f.createElement(kr,{zIndex:c},f.createElement($t,Pu({className:n},x),p))}function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function AN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){KK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KK(e,t,r){return(t=HK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HK(e){var t=VK(e,"string");return typeof t=="symbol"?t:t+""}function VK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qK={xAxis:{},yAxis:{},zAxis:{}},xE=Nr({name:"cartesianAxis",initialState:qK,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Xe()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Xe()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Xe()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Xe()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Xe()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Xe()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Xe()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Xe()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Xe()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,s=e.yAxis[r];if(s){var i=s.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==s.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=AN(AN({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:YK,replaceXAxis:GK,removeXAxis:XK,addYAxis:QK,replaceYAxis:ZK,removeYAxis:JK,addZAxis:mX,replaceZAxis:fX,removeZAxis:pX,updateYAxisWidth:eH}=xE.actions,tH=xE.reducer,rH=K([St],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),nH=K([rH,da,ua],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Uv=()=>fe(nH),aH=()=>fe(iU);function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){sH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sH(e,t,r){return(t=iH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iH(e){var t=oH(e,"string");return typeof t=="symbol"?t:t+""}function oH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lH=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i,clipPath:o}=e;if(s===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=dp(dp(dp({},l),As(s)),Wy(s)),c;return f.isValidElement(s)?c=f.cloneElement(s,d):typeof s=="function"?c=s(d):c=f.createElement(rE,d),f.createElement($t,{className:"recharts-active-dot",clipPath:o},c)};function cH(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s,clipPath:i,zIndex:o=ht.activeDot}=e,l=fe(qa),d=aH();if(t==null||d==null)return null;var c=t.find(u=>d.includes(u.payload));return et(c)?null:f.createElement(kr,{zIndex:o},f.createElement(lH,{point:c,childIndex:Number(l),mainColor:r,dataKey:s,activeDot:n,clipPath:i}))}var dH="Invariant failed";function uH(e,t){throw new Error(dH)}var mH=["x","y"];function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(null,arguments)}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){fH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fH(e,t,r){return(t=pH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=xH(e,"string");return typeof t=="symbol"?t:t+""}function xH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hH(e,t){if(e==null)return{};var r,n,s=yH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gH(e,t){var{x:r,y:n}=e,s=hH(e,mH),i="".concat(r),o=parseInt(i,10),l="".concat(n),d=parseInt(l,10),c="".concat(t.height||s.height),u=parseInt(c,10),m="".concat(t.width||s.width),p=parseInt(m,10);return jo(jo(jo(jo(jo({},t),s),o?{x:o}:{}),d?{y:d}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function Eu(e){return f.createElement(Mv,ph({shapeType:"rectangle",propTransformer:gH,activeClassName:"recharts-active-bar"},e))}var vH=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(xe(t))return t;var i=xe(n)||et(n);return i?t(n,s):(i||uH(),r)}},bH={},hE=Nr({name:"errorBars",initialState:bH,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:xX,replaceErrorBar:hX,removeErrorBar:yX}=hE.actions,jH=hE.reducer,wH=["children"];function NH(e,t){if(e==null)return{};var r,n,s=kH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function kH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _H={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},SH=f.createContext(_H);function yE(e){var{children:t}=e,r=NH(e,wH);return f.createElement(SH.Provider,{value:r},t)}function Wv(e,t){var r,n,s=fe(c=>fa(c,e)),i=fe(c=>pa(c,t)),o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:At.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Tt.allowDataOverflow,d=o||l;return{needClip:d,needClipX:o,needClipY:l}}function gE(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=Uv(),{needClipX:i,needClipY:o,needClip:l}=Wv(t,r);if(!l||!s)return null;var{x:d,y:c,width:u,height:m}=s;return f.createElement("clipPath",{id:"clipPath-".concat(n)},f.createElement("rect",{x:i?d:d-u/2,y:o?c:c-m/2,width:i?u:u*2,height:o?m:m*2}))}function CH(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&mt(e.zIndex)?e.zIndex:t}var PH={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=f;function EH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OH=typeof Object.is=="function"?Object.is:EH,AH=nc.useSyncExternalStore,TH=nc.useRef,DH=nc.useEffect,IH=nc.useMemo,MH=nc.useDebugValue;PH.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=TH(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=IH(function(){function d(x){if(!c){if(c=!0,u=x,x=n(x),s!==void 0&&o.hasValue){var y=o.value;if(s(y,x))return m=y}return m=x}if(y=m,OH(u,x))return y;var g=n(x);return s!==void 0&&s(y,g)?(u=x,y):(u=x,m=g)}var c=!1,u,m,p=r===void 0?null:r;return[function(){return d(t())},p===null?void 0:function(){return d(p())}]},[t,r,n,s]);var l=AH(e,i[0],i[1]);return DH(function(){o.hasValue=!0,o.value=l},[l]),MH(l),l};function LH(e){e()}function $H(){let e=null,t=null;return{clear(){e=null,t=null},notify(){LH(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var IN={notify(){},get:()=>[]};function RH(e,t){let r,n=IN,s=0,i=!1;function o(g){u();const v=n.subscribe(g);let h=!1;return()=>{h||(h=!0,v(),m())}}function l(){n.notify()}function d(){y.onStateChange&&y.onStateChange()}function c(){return i}function u(){s++,r||(r=e.subscribe(d),n=$H())}function m(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=IN)}function p(){i||(i=!0,u())}function x(){i&&(i=!1,m())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:d,isSubscribed:c,trySubscribe:p,tryUnsubscribe:x,getListeners:()=>n};return y}var zH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FH=zH(),BH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UH=BH(),WH=()=>FH||UH?f.useLayoutEffect:f.useEffect,KH=WH();function MN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function HH(e,t){if(MN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!MN(e[r[s]],t[r[s]]))return!1;return!0}var up=Symbol.for("react-redux-context"),mp=typeof globalThis<"u"?globalThis:{};function VH(){if(!f.createContext)return{};const e=mp[up]??(mp[up]=new Map);let t=e.get(f.createContext);return t||(t=f.createContext(null),e.set(f.createContext,t)),t}var qH=VH();function YH(e){const{children:t,context:r,serverState:n,store:s}=e,i=f.useMemo(()=>{const d=RH(s);return{store:s,subscription:d,getServerState:n?()=>n:void 0}},[s,n]),o=f.useMemo(()=>s.getState(),[s]);KH(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const l=r||qH;return f.createElement(l.Provider,{value:i},t)}var GH=YH,XH=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function QH(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function cf(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(XH.has(n)){if(e[n]==null&&t[n]==null)continue;if(!HH(e[n],t[n]))return!1}else if(!QH(e[n],t[n]))return!1;return!0}var ZH=["onMouseEnter","onMouseLeave","onClick"],JH=["value","background","tooltipPosition"],eV=["id"],tV=["onMouseEnter","onClick","onMouseLeave"];function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oa.apply(null,arguments)}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){rV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rV(e,t,r){return(t=nV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nV(e){var t=aV(e,"string");return typeof t=="symbol"?t:t+""}function aV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ou(e,t){if(e==null)return{};var r,n,s=sV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function sV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iV=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:qi(r,t),payload:e}]},oV=f.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:o,unit:l,tooltipType:d}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:qi(i,t),hide:o,type:d,color:s,unit:l}};return f.createElement(zv,{tooltipEntrySettings:c})});function lV(e){var t=fe(qa),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:d}=i,c=Ou(i,ZH),u=Lv(o,n),m=$v(l),p=Rv(d,n);if(!s||r==null)return null;var x=As(s);return f.createElement(kr,{zIndex:CH(s,ht.barBackground)},r.map((y,g)=>{var{value:v,background:h,tooltipPosition:b}=y,j=Ou(y,JH);if(!h)return null;var k=u(y,g),N=m(y,g),w=p(y,g),P=sr(sr(sr(sr(sr({option:s,isActive:String(g)===t},j),{},{fill:"#eee"},h),x),Dl(c,y,g)),{},{onMouseEnter:k,onMouseLeave:N,onClick:w,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return f.createElement(Eu,oa({key:"background-bar-".concat(g)},P))}))}function cV(e){var{showLabels:t,children:r,rects:n}=e,s=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return sr(sr({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return f.createElement(eE,{value:t?s:void 0},r)}function dV(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:i,dataKey:o}=e,l=fe(qa),d=fe(wv),c=r&&String(i)===l&&(d==null||o===d),u=c?r:t;return c?f.createElement(kr,{zIndex:ht.activeBar},f.createElement(Eu,oa({},n,{name:String(n.name)},s,{isActive:c,option:u,index:i,dataKey:o}))):f.createElement(Eu,oa({},n,{name:String(n.name)},s,{isActive:c,option:u,index:i,dataKey:o}))}function uV(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:i}=e;return f.createElement(Eu,oa({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:s,dataKey:i}))}function mV(e){var t,{data:r,props:n}=e,s=(t=Mr(n))!==null&&t!==void 0?t:{},{id:i}=s,o=Ou(s,eV),{shape:l,dataKey:d,activeBar:c}=n,{onMouseEnter:u,onClick:m,onMouseLeave:p}=n,x=Ou(n,tV),y=Lv(u,d),g=$v(p),v=Rv(m,d);return r?f.createElement(f.Fragment,null,r.map((h,b)=>f.createElement($t,oa({key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(b),className:"recharts-bar-rectangle"},Dl(x,h,b),{onMouseEnter:y(h,b),onMouseLeave:g(h,b),onClick:v(h,b)}),c?f.createElement(dV,{shape:l,activeBar:c,baseProps:o,entry:h,index:b,dataKey:d}):f.createElement(uV,{shape:l,baseProps:o,entry:h,index:b,dataKey:d})))):null}function fV(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:d,onAnimationEnd:c,onAnimationStart:u}=t,m=r.current,p=Ul(t,"recharts-bar-"),[x,y]=f.useState(!1),g=!x,v=f.useCallback(()=>{typeof c=="function"&&c(),y(!1)},[c]),h=f.useCallback(()=>{typeof u=="function"&&u(),y(!0)},[u]);return f.createElement(cV,{showLabels:g,rects:n},f.createElement(Bl,{animationId:p,begin:o,duration:l,isActive:i,easing:d,onAnimationEnd:v,onAnimationStart:h,key:p},b=>{var j=b===1?n:n==null?void 0:n.map((k,N)=>{var w=m&&m[N];if(w)return sr(sr({},k),{},{x:Qe(w.x,k.x,b),y:Qe(w.y,k.y,b),width:Qe(w.width,k.width,b),height:Qe(w.height,k.height,b)});if(s==="horizontal"){var P=Qe(0,k.height,b),_=Qe(k.stackedBarStart,k.y,b);return sr(sr({},k),{},{y:_,height:P})}var C=Qe(0,k.width,b),O=Qe(k.stackedBarStart,k.x,b);return sr(sr({},k),{},{width:C,x:O})});return b>0&&(r.current=j??null),j==null?null:f.createElement($t,null,f.createElement(mV,{props:t,data:j}))}),f.createElement(Ev,{label:t.label}),t.children)}function pV(e){var t=f.useRef(null);return f.createElement(fV,{previousRectanglesRef:t,props:e})}var vE=0,xV=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Be(e,t)}};class hV extends f.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:o,needClip:l,background:d,id:c}=this.props;if(t||r==null)return null;var u=Le("recharts-bar",s),m=c;return f.createElement($t,{className:u,id:c},l&&f.createElement("defs",null,f.createElement(gE,{clipPathId:m,xAxisId:i,yAxisId:o})),f.createElement($t,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(m,")"):void 0},f.createElement(lV,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),f.createElement(pV,this.props)))}}var yV={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:vE,xAxisId:0,yAxisId:0,zIndex:ht.bar};function gV(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:c,isAnimationActive:u}=e,{needClip:m}=Wv(t,r),p=Rl(),x=nr(),y=Iv(e.children,no),g=fe(b=>VV(b,t,r,x,e.id,y));if(p!=="vertical"&&p!=="horizontal")return null;var v,h=g==null?void 0:g[0];return h==null||h.height==null||h.width==null?v=0:v=p==="vertical"?h.height/2:h.width/2,f.createElement(yE,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:xV,errorBarOffset:v},f.createElement(hV,oa({},e,{layout:p,needClip:m,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:c,isAnimationActive:u})))}function vV(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:d,yAxisTicks:c,stackedData:u,displayedData:m,offset:p,cells:x,parentViewBox:y,dataStartIndex:g}=e,v=t==="horizontal"?l:o,h=u?v.scale.domain():null,b=X5({numericAxis:v}),j=v.scale(b);return m.map((k,N)=>{var w,P,_,C,O,S;u?w=K5(u[N+g],h):(w=Be(k,r),Array.isArray(w)||(w=[b,w]));var E=vH(n,vE)(w[1],N);if(t==="horizontal"){var I,[A,M]=[l.scale(w[0]),l.scale(w[1])];P=gj({axis:o,ticks:d,bandSize:i,offset:s.offset,entry:k,index:N}),_=(I=M??A)!==null&&I!==void 0?I:void 0,C=s.size;var B=A-M;if(O=hn(B)?0:B,S={x:P,y:p.top,width:C,height:p.height},Math.abs(E)>0&&Math.abs(O)<Math.abs(E)){var W=Mt(O||E)*(Math.abs(E)-Math.abs(O));_-=W,O+=W}}else{var[L,R]=[o.scale(w[0]),o.scale(w[1])];if(P=L,_=gj({axis:l,ticks:c,bandSize:i,offset:s.offset,entry:k,index:N}),C=R-L,O=s.size,S={x:p.left,y:_,width:p.width,height:O},Math.abs(E)>0&&Math.abs(C)<Math.abs(E)){var $=Mt(C||E)*(Math.abs(E)-Math.abs(C));C+=$}}if(P==null||_==null||C==null||O==null)return null;var X=sr(sr({},k),{},{stackedBarStart:j,x:P,y:_,width:C,height:O,value:u?w:w[1],payload:k,background:S,tooltipPosition:{x:P+C/2,y:_+O/2},parentViewBox:y},x&&x[N]&&x[N].props);return X}).filter(Boolean)}function bV(e){var t=bt(e,yV),r=nr();return f.createElement(Fv,{id:t.id,type:"bar"},n=>f.createElement(f.Fragment,null,f.createElement(uE,{legendPayload:iV(t)}),f.createElement(oV,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),f.createElement(pE,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:G5(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),f.createElement(kr,{zIndex:t.zIndex},f.createElement(gV,oa({},t,{id:n})))))}var bE=f.memo(bV,cf);bE.displayName="Bar";function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){jV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jV(e,t,r){return(t=wV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wV(e){var t=NV(e,"string");return typeof t=="symbol"?t:t+""}function NV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kV=(e,t)=>t,_V=(e,t,r)=>r,SV=(e,t,r,n)=>n,CV=(e,t,r,n,s)=>s,ac=K([Wm,CV],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),PV=K([ac],e=>e==null?void 0:e.maxBarSize),EV=(e,t,r,n,s,i)=>i,RN=(e,t,r)=>{var n=r??e;if(!et(n))return tr(n,t,0)},OV=K([Te,Wm,kV,_V,SV],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),AV=(e,t,r,n)=>{var s=Te(e);return s==="horizontal"?ih(e,"yAxis",r,n):ih(e,"xAxis",t,n)},TV=(e,t,r)=>{var n=Te(e);return n==="horizontal"?Ww(e,"xAxis",t):Ww(e,"yAxis",r)},DV=(e,t,r)=>{var n={},s=e.filter(Fm),i=e.filter(c=>c.stackId==null),o=s.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),l=Object.entries(o).map(c=>{var[u,m]=c,p=m.map(y=>y.dataKey),x=RN(t,r,m[0].barSize);return{stackId:u,dataKeys:p,barSize:x}}),d=i.map(c=>{var u=[c.dataKey].filter(p=>p!=null),m=RN(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:m}});return[...l,...d]},IV=K([OV,a8,TV],DV),MV=(e,t,r,n,s)=>{var i,o,l=ac(e,t,r,n,s);if(l!=null){var d=Te(e),c=AP(e),{maxBarSize:u}=l,m=et(u)?c:u,p,x;return d==="horizontal"?(p=Va(e,"xAxis",t,n),x=Ha(e,"xAxis",t,n)):(p=Va(e,"yAxis",r,n),x=Ha(e,"yAxis",r,n)),(i=(o=Di(p,x,!0))!==null&&o!==void 0?o:m)!==null&&i!==void 0?i:0}},jE=(e,t,r,n)=>{var s=Te(e),i,o;return s==="horizontal"?(i=Va(e,"xAxis",t,n),o=Ha(e,"xAxis",t,n)):(i=Va(e,"yAxis",r,n),o=Ha(e,"yAxis",r,n)),Di(i,o)};function LV(e,t,r,n,s){var i=n.length;if(!(i<1)){var o=tr(e,r,0,!0),l,d=[];if(mt(n[0].barSize)){var c=!1,u=r/i,m=n.reduce((h,b)=>h+(b.barSize||0),0);m+=(i-1)*o,m>=r&&(m-=(i-1)*o,o=0),m>=r&&u>0&&(c=!0,u*=.9,m=i*u);var p=(r-m)/2>>0,x={offset:p-o,size:0};l=n.reduce((h,b)=>{var j,k={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:x.offset+x.size+o,size:c?u:(j=b.barSize)!==null&&j!==void 0?j:0}},N=[...h,k];return x=N[N.length-1].position,N},d)}else{var y=tr(t,r,0,!0);r-2*y-(i-1)*o<=0&&(o=0);var g=(r-2*y-(i-1)*o)/i;g>1&&(g>>=0);var v=mt(s)?Math.min(g,s):g;l=n.reduce((h,b,j)=>[...h,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:y+(g+o)*j+(g-v)/2,size:v}}],d)}return l}}var $V=(e,t,r,n,s,i,o)=>{var l=et(o)?t:o,d=LV(r,n,s!==i?s:i,e,l);return s!==i&&d!=null&&(d=d.map(c=>Wc(Wc({},c),{},{position:Wc(Wc({},c.position),{},{offset:c.position.offset-s/2})}))),d},RV=K([IV,AP,n8,TP,MV,jE,PV],$V),zV=(e,t,r,n)=>Va(e,"xAxis",t,n),FV=(e,t,r,n)=>Va(e,"yAxis",r,n),BV=(e,t,r,n)=>Ha(e,"xAxis",t,n),UV=(e,t,r,n)=>Ha(e,"yAxis",r,n),WV=K([RV,ac],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),KV=(e,t)=>{var r=Gg(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===r)}}}},HV=K([AV,ac],KV),VV=K([St,dg,zV,FV,BV,UV,WV,Te,$m,jE,HV,ac,EV],(e,t,r,n,s,i,o,l,d,c,u,m,p)=>{var{chartData:x,dataStartIndex:y,dataEndIndex:g}=d;if(!(m==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||s==null||i==null||c==null)){var{data:v}=m,h;if(v!=null&&v.length>0?h=v:h=x==null?void 0:x.slice(y,g+1),h!=null)return vV({layout:l,barSettings:m,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,stackedData:u,displayedData:h,offset:e,cells:p,dataStartIndex:y})}}),wE=e=>{var{chartData:t}=e,r=Ve(),n=nr();return f.useEffect(()=>n?()=>{}:(r(tN(t)),()=>{r(tN(void 0))}),[t,r,n]),null},zN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},NE=Nr({name:"brush",initialState:zN,reducers:{setBrushSettings(e,t){return t.payload==null?zN:t.payload}}}),{setBrushSettings:gX}=NE.actions,qV=NE.reducer;function YV(e,t,r){return(t=GV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GV(e){var t=XV(e,"string");return typeof t=="symbol"?t:t+""}function XV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Kv{static create(t){return new Kv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}YV(Kv,"EPS",1e-4);function QV(e){return(e%180+180)%180}var ZV=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=QV(s),o=i*Math.PI/180,l=Math.atan(n/r),d=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},JV={dots:[],areas:[],lines:[]},kE=Nr({name:"referenceElements",initialState:JV,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=pn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=pn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=pn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:vX,removeDot:bX,addArea:jX,removeArea:wX,addLine:NX,removeLine:kX}=kE.actions,eq=kE.reducer,tq=f.createContext(void 0),rq=e=>{var{children:t}=e,[r]=f.useState("".concat(il("recharts"),"-clip")),n=Uv();if(n==null)return null;var{x:s,y:i,width:o,height:l}=n;return f.createElement(tq.Provider,{value:r},f.createElement("defs",null,f.createElement("clipPath",{id:r},f.createElement("rect",{x:s,y:i,height:l,width:o}))),t)};function _E(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function nq(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ZV(n,r)}function aq(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Au(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function sq(e,t){return _E(e,t+1)}function iq(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:l}=t,d=0,c=1,u=o,m=function(){var y=n==null?void 0:n[d];if(y===void 0)return{v:_E(n,c)};var g=d,v,h=()=>(v===void 0&&(v=r(y,g)),v),b=y.coordinate,j=d===0||Au(e,b,h,u,l);j||(d=0,u=o,c+=1),j&&(u=b+e*(h()/2+s),d+=c)},p;c<=i.length;)if(p=m(),p)return p.v;return[]}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oq(e,t,r){return(t=lq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lq(e){var t=cq(e,"string");return typeof t=="symbol"?t:t+""}function cq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dq(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:d}=t,c=function(p){var x=i[p],y,g=()=>(y===void 0&&(y=r(x,p)),y);if(p===o-1){var v=e*(x.coordinate+e*g()/2-d);i[p]=x=Qt(Qt({},x),{},{tickCoord:v>0?x.coordinate-v*e:x.coordinate})}else i[p]=x=Qt(Qt({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var h=Au(e,x.tickCoord,g,l,d);h&&(d=x.tickCoord-e*(g()/2+s),i[p]=Qt(Qt({},x),{},{isShow:!0}))}},u=o-1;u>=0;u--)c(u);return i}function uq(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,{start:d,end:c}=t;if(i){var u=n[l-1],m=r(u,l-1),p=e*(u.coordinate+e*m/2-c);if(o[l-1]=u=Qt(Qt({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate}),u.tickCoord!=null){var x=Au(e,u.tickCoord,()=>m,d,c);x&&(c=u.tickCoord-e*(m/2+s),o[l-1]=Qt(Qt({},u),{},{isShow:!0}))}}for(var y=i?l-1:l,g=function(b){var j=o[b],k,N=()=>(k===void 0&&(k=r(j,b)),k);if(b===0){var w=e*(j.coordinate-e*N()/2-d);o[b]=j=Qt(Qt({},j),{},{tickCoord:w<0?j.coordinate-w*e:j.coordinate})}else o[b]=j=Qt(Qt({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var P=Au(e,j.tickCoord,N,d,c);P&&(d=j.tickCoord+e*(N()/2+s),o[b]=Qt(Qt({},j),{},{isShow:!0}))}},v=0;v<y;v++)g(v);return o}function Hv(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:d,tickFormatter:c,unit:u,angle:m}=e;if(!s||!s.length||!n)return[];if(xe(d)||Fl.isSsr){var p;return(p=sq(s,xe(d)?d:0))!==null&&p!==void 0?p:[]}var x=[],y=l==="top"||l==="bottom"?"width":"height",g=u&&y==="width"?Fo(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(j,k)=>{var N=typeof c=="function"?c(j.value,k):j.value;return y==="width"?nq(Fo(N,{fontSize:t,letterSpacing:r}),g,m):Fo(N,{fontSize:t,letterSpacing:r})[y]},h=s.length>=2?Mt(s[1].coordinate-s[0].coordinate):1,b=aq(i,h,y);return d==="equidistantPreserveStart"?iq(h,b,v,s,o):(d==="preserveStart"||d==="preserveStartEnd"?x=uq(h,b,v,s,o,d==="preserveStartEnd"):x=dq(h,b,v,s,o),x.filter(j=>j.isShow))}var mq=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(u=>{if(u){var m=u.getBoundingClientRect();m.width>o&&(o=m.width)}});var l=r?r.getBoundingClientRect().width:0,d=s+i,c=o+d+l+(r?n:0);return Math.round(c)}return 0},fq=["axisLine","width","height","className","hide","ticks","axisType"];function pq(e,t){if(e==null)return{};var r,n,s=xq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ls.apply(null,arguments)}function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hq(e,t,r){return(t=yq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yq(e){var t=gq(e,"string");return typeof t=="symbol"?t:t+""}function gq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ht.axis};function vq(e){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:l,otherSvgProps:d}=e;if(!l)return null;var c=ft(ft(ft({},d),Mr(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);c=ft(ft({},c),{},{x1:t,y1:r+u*s,x2:t+n,y2:r+u*s})}else{var m=+(i==="left"&&!o||i==="right"&&o);c=ft(ft({},c),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+s})}return f.createElement("line",Ls({},c,{className:Le("recharts-cartesian-axis-line",Ts(l,"className"))}))}function bq(e,t,r,n,s,i,o,l,d){var c,u,m,p,x,y,g=l?-1:1,v=e.tickSize||o,h=xe(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=u=e.coordinate,p=r+ +!l*s,m=p-g*v,y=m-g*d,x=h;break;case"left":m=p=e.coordinate,u=t+ +!l*n,c=u-g*v,x=c-g*d,y=h;break;case"right":m=p=e.coordinate,u=t+ +l*n,c=u+g*v,x=c+g*d,y=h;break;default:c=u=e.coordinate,p=r+ +l*s,m=p+g*v,y=m+g*d,x=h;break}return{line:{x1:c,y1:m,x2:u,y2:p},tick:{x,y}}}function jq(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function wq(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Nq(e){var{option:t,tickProps:r,value:n}=e,s,i=Le(r.className,"recharts-cartesian-axis-tick-value");if(f.isValidElement(t))s=f.cloneElement(t,ft(ft({},r),{},{className:i}));else if(typeof t=="function")s=t(ft(ft({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Le(o,t==null?void 0:t.className)),s=f.createElement(Ym,Ls({},r,{className:o}),n)}return s}var kq=f.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:s,stroke:i,tickFormatter:o,unit:l,padding:d,tickTextProps:c,orientation:u,mirror:m,x:p,y:x,width:y,height:g,tickSize:v,tickMargin:h,fontSize:b,letterSpacing:j,getTicksConfig:k,events:N,axisType:w}=e,P=Hv(ft(ft({},k),{},{ticks:r}),b,j),_=jq(u,m),C=wq(u,m),O=Mr(k),S=As(n),E={};typeof s=="object"&&(E=s);var I=ft(ft({},O),{},{fill:"none"},E),A=P.map(W=>ft({entry:W},bq(W,p,x,y,g,u,v,m,h))),M=A.map(W=>{var{entry:L,line:R}=W;return f.createElement($t,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},s&&f.createElement("line",Ls({},I,R,{className:Le("recharts-cartesian-axis-tick-line",Ts(s,"className"))})))}),B=A.map((W,L)=>{var{entry:R,tick:$}=W,X=ft(ft(ft(ft({textAnchor:_,verticalAnchor:C},O),{},{stroke:"none",fill:i},S),$),{},{index:L,payload:R,visibleTicksCount:P.length,tickFormatter:o,padding:d},c);return f.createElement($t,Ls({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},Dl(N,R,L)),n&&f.createElement(Nq,{option:n,tickProps:X,value:"".concat(typeof o=="function"?o(R.value,L):R.value).concat(l||"")}))});return f.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(w,"-ticks")},B.length>0&&f.createElement(kr,{zIndex:ht.label},f.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(w,"-tick-labels"),ref:t},B)),M.length>0&&f.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(w,"-tick-lines")},M))}),_q=f.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:i,hide:o,ticks:l,axisType:d}=e,c=pq(e,fq),[u,m]=f.useState(""),[p,x]=f.useState(""),y=f.useRef(null);f.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return mq({ticks:y.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=f.useCallback(v=>{if(v){var h=v.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=h;var b=h[0];if(b){var j=window.getComputedStyle(b),k=j.fontSize,N=j.letterSpacing;(k!==u||N!==p)&&(m(k),x(N))}}},[u,p]);return o||n!=null&&n<=0||s!=null&&s<=0?null:f.createElement(kr,{zIndex:e.zIndex},f.createElement($t,{className:Le("recharts-cartesian-axis",i)},f.createElement(vq,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Mr(e)}),f.createElement(kq,{ref:g,axisType:d,events:c,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),f.createElement(QW,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},f.createElement(o9,{label:e.label,labelRef:e.labelRef}),e.children)))}),Vv=f.forwardRef((e,t)=>{var r=bt(e,qn);return f.createElement(_q,Ls({},r,{ref:t}))});Vv.displayName="CartesianAxis";var Sq=["x1","y1","x2","y2","key"],Cq=["offset"],Pq=["xAxisId","yAxisId"],Eq=["xAxisId","yAxisId"];function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){Oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oq(e,t,r){return(t=Aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aq(e){var t=Tq(e,"string");return typeof t=="symbol"?t:t+""}function Tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ys.apply(null,arguments)}function Tu(e,t){if(e==null)return{};var r,n,s=Dq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Dq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Iq=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:l}=e;return f.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function SE(e){var{option:t,lineItemProps:r}=e,n;if(f.isValidElement(t))n=f.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var s,{x1:i,y1:o,x2:l,y2:d,key:c}=r,u=Tu(r,Sq),m=(s=Mr(u))!==null&&s!==void 0?s:{},{offset:p}=m,x=Tu(m,Cq);n=f.createElement("line",ys({},x,{x1:i,y1:o,x2:l,y2:d,fill:"none",key:c}))}return n}function Mq(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Tu(e,Pq),d=s.map((c,u)=>{var m=Jt(Jt({},l),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return f.createElement(SE,{key:"line-".concat(u),option:n,lineItemProps:m})});return f.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Lq(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Tu(e,Eq),d=s.map((c,u)=>{var m=Jt(Jt({},l),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return f.createElement(SE,{option:n,lineItemProps:m,key:"line-".concat(u)})});return f.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function $q(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:d=!0}=e;if(!d||!t||!t.length||l==null)return null;var c=l.map(m=>Math.round(m+s-s)).sort((m,p)=>m-p);s!==c[0]&&c.unshift(0);var u=c.map((m,p)=>{var x=!c[p+1],y=x?s+o-m:c[p+1]-m;if(y<=0)return null;var g=p%t.length;return f.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:y,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Rq(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var c=d.map(m=>Math.round(m+s-s)).sort((m,p)=>m-p);s!==c[0]&&c.unshift(0);var u=c.map((m,p)=>{var x=!c[p+1],y=x?s+o-m:c[p+1]-m;if(y<=0)return null;var g=p%r.length;return f.createElement("rect",{key:"react-".concat(p),x:m,y:i,width:y,height:l,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var zq=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return JS(Hv(Jt(Jt(Jt({},qn),r),{},{ticks:eC(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},Fq=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return JS(Hv(Jt(Jt(Jt({},qn),r),{},{ticks:eC(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},Bq={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ht.grid};function xh(e){var t=mg(),r=fg(),n=uC(),s=Jt(Jt({},bt(e,Bq)),{},{x:xe(e.x)?e.x:n.left,y:xe(e.y)?e.y:n.top,width:xe(e.width)?e.width:n.width,height:xe(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:d,width:c,height:u,syncWithTicks:m,horizontalValues:p,verticalValues:x}=s,y=nr(),g=fe(C=>Kw(C,"xAxis",i,y)),v=fe(C=>Kw(C,"yAxis",o,y));if(!Tn(c)||!Tn(u)||!xe(l)||!xe(d))return null;var h=s.verticalCoordinatesGenerator||zq,b=s.horizontalCoordinatesGenerator||Fq,{horizontalPoints:j,verticalPoints:k}=s;if((!j||!j.length)&&typeof b=="function"){var N=p&&p.length,w=b({yAxis:v?Jt(Jt({},v),{},{ticks:N?p:v.ticks}):void 0,width:t??c,height:r??u,offset:n},N?!0:m);nu(Array.isArray(w),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof w,"]")),Array.isArray(w)&&(j=w)}if((!k||!k.length)&&typeof h=="function"){var P=x&&x.length,_=h({xAxis:g?Jt(Jt({},g),{},{ticks:P?x:g.ticks}):void 0,width:t??c,height:r??u,offset:n},P?!0:m);nu(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(k=_)}return f.createElement(kr,{zIndex:s.zIndex},f.createElement("g",{className:"recharts-cartesian-grid"},f.createElement(Iq,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),f.createElement($q,ys({},s,{horizontalPoints:j})),f.createElement(Rq,ys({},s,{verticalPoints:k})),f.createElement(Mq,ys({},s,{offset:n,horizontalPoints:j,xAxis:g,yAxis:v})),f.createElement(Lq,ys({},s,{offset:n,verticalPoints:k,xAxis:g,yAxis:v}))))}xh.displayName="CartesianGrid";var CE=(e,t,r,n)=>Va(e,"xAxis",t,n),PE=(e,t,r,n)=>Ha(e,"xAxis",t,n),EE=(e,t,r,n)=>Va(e,"yAxis",r,n),OE=(e,t,r,n)=>Ha(e,"yAxis",r,n),Uq=K([Te,CE,EE,PE,OE],(e,t,r,n,s)=>es(e,"xAxis")?Di(t,n,!1):Di(r,s,!1)),Wq=(e,t,r,n,s)=>s;function Kq(e){return e.type==="line"}var Hq=K([Wm,Wq],(e,t)=>e.filter(Kq).find(r=>r.id===t)),Vq=K([Te,CE,EE,PE,OE,Hq,Uq,$m],(e,t,r,n,s,i,o,l)=>{var{chartData:d,dataStartIndex:c,dataEndIndex:u}=l;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:p}=i,x;if(p!=null&&p.length>0?x=p:x=d==null?void 0:d.slice(c,u+1),x!=null)return fY({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:m,bandSize:o,displayedData:x})}});function qq(e){var t=As(e),r=3,n=2;if(t!=null){var{r:s,strokeWidth:i}=t,o=Number(s),l=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var Yq=["id"],Gq=["type","layout","connectNulls","needClip","shape"],Xq=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bl.apply(null,arguments)}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(n){Qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qq(e,t,r){return(t=Zq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qv(e,t){if(e==null)return{};var r,n,s=eY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function eY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tY=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:qi(r,t),payload:e}]},rY=f.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:d,tooltipType:c}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:qi(o,t),hide:l,type:c,color:n,unit:d}};return f.createElement(zv,{tooltipEntrySettings:u})}),AE=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function nY(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var aY=(e,t,r)=>{var n=r.reduce((m,p)=>m+p);if(!n)return AE(t,e);for(var s=Math.floor(e/n),i=e%n,o=t-e,l=[],d=0,c=0;d<r.length;c+=r[d],++d)if(c+r[d]>i){l=[...r.slice(0,d),i-c];break}var u=l.length%2===0?[0,o]:[o];return[...nY(r,s),...l,...u].map(m=>"".concat(m,"px")).join(", ")};function sY(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:o}=n,{id:l}=n,d=qv(n,Yq),c=Mr(d);return f.createElement(WK,{points:r,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:c,needClip:o,clipPathId:t})}function iY(e){var{showLabels:t,children:r,points:n}=e,s=f.useMemo(()=>n==null?void 0:n.map(i=>{var o,l,d={x:(o=i.x)!==null&&o!==void 0?o:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return _n(_n({},d),{},{value:i.value,payload:i.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[n]);return f.createElement(eE,{value:t?s:void 0},r)}function KN(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i}=e,{type:o,layout:l,connectNulls:d,needClip:c,shape:u}=i,m=qv(i,Gq),p=_n(_n({},cr(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:d,strokeDasharray:s??i.strokeDasharray});return f.createElement(f.Fragment,null,(n==null?void 0:n.length)>1&&f.createElement(Mv,bl({shapeType:"curve",option:u},p,{pathRef:r})),f.createElement(sY,{points:n,clipPathId:t,props:i}))}function oY(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function lY(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:d,animationBegin:c,animationDuration:u,animationEasing:m,animateNewValues:p,width:x,height:y,onAnimationEnd:g,onAnimationStart:v}=r,h=s.current,b=Ul(o,"recharts-line-"),j=f.useRef(b),[k,N]=f.useState(!1),w=!k,P=f.useCallback(()=>{typeof g=="function"&&g(),N(!1)},[g]),_=f.useCallback(()=>{typeof v=="function"&&v(),N(!0)},[v]),C=oY(n.current),O=f.useRef(0);j.current!==b&&(O.current=i.current,j.current=b);var S=O.current;return f.createElement(iY,{points:o,showLabels:w},r.children,f.createElement(Bl,{animationId:b,begin:c,duration:u,isActive:d,easing:m,onAnimationEnd:P,onAnimationStart:_,key:b},E=>{var I=Qe(S,C+S,E),A=Math.min(I,C),M;if(d)if(l){var B="".concat(l).split(/[,\s]+/gim).map(R=>parseFloat(R));M=aY(A,C,B)}else M=AE(C,A);else M=l==null?void 0:String(l);if(E>0&&C>0&&(s.current=o,i.current=Math.max(i.current,A)),h){var W=h.length/o.length,L=E===1?o:o.map((R,$)=>{var X=Math.floor($*W);if(h[X]){var T=h[X];return _n(_n({},R),{},{x:Qe(T.x,R.x,E),y:Qe(T.y,R.y,E)})}return p?_n(_n({},R),{},{x:Qe(x*2,R.x,E),y:Qe(y/2,R.y,E)}):_n(_n({},R),{},{x:R.x,y:R.y})});return s.current=L,f.createElement(KN,{props:r,points:L,clipPathId:t,pathRef:n,strokeDasharray:M})}return f.createElement(KN,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:M})}),f.createElement(Ev,{label:r.label}))}function cY(e){var{clipPathId:t,props:r}=e,n=f.useRef(null),s=f.useRef(0),i=f.useRef(null);return f.createElement(lY,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:i})}var dY=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Be(e.payload,t)}};class uY extends f.Component{render(){var{hide:t,dot:r,points:n,className:s,xAxisId:i,yAxisId:o,top:l,left:d,width:c,height:u,id:m,needClip:p,zIndex:x}=this.props;if(t)return null;var y=Le("recharts-line",s),g=m,{r:v,strokeWidth:h}=qq(r),b=cE(r),j=v*2+h,k=p?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return f.createElement(kr,{zIndex:x},f.createElement($t,{className:y},p&&f.createElement("defs",null,f.createElement(gE,{clipPathId:g,xAxisId:i,yAxisId:o}),!b&&f.createElement("clipPath",{id:"clipPath-dots-".concat(g)},f.createElement("rect",{x:d-j/2,y:l-j/2,width:c+j,height:u+j}))),f.createElement(yE,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:dY,errorBarOffset:0},f.createElement(cY,{props:this.props,clipPathId:g}))),f.createElement(cH,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var TE={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ht.line,type:"linear"};function mY(e){var t=bt(e,TE),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:d,hide:c,isAnimationActive:u,label:m,legendType:p,xAxisId:x,yAxisId:y,id:g}=t,v=qv(t,Xq),{needClip:h}=Wv(x,y),b=Uv(),j=Rl(),k=nr(),N=fe(O=>Vq(O,x,y,k,g));if(j!=="horizontal"&&j!=="vertical"||N==null||b==null)return null;var{height:w,width:P,x:_,y:C}=b;return f.createElement(uY,bl({},v,{id:g,connectNulls:l,dot:d,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:u,hide:c,label:m,legendType:p,xAxisId:x,yAxisId:y,points:N,layout:j,height:w,width:P,left:_,top:C,needClip:h}))}function fY(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:d}=e;return d.map((c,u)=>{var m=Be(c,o);if(t==="horizontal"){var p=yj({axis:r,ticks:s,bandSize:l,entry:c,index:u}),x=et(m)?null:n.scale(m);return{x:p,y:x,value:m,payload:c}}var y=et(m)?null:r.scale(m),g=yj({axis:n,ticks:i,bandSize:l,entry:c,index:u});return y==null||g==null?null:{x:y,y:g,value:m,payload:c}}).filter(Boolean)}function pY(e){var t=bt(e,TE),r=nr();return f.createElement(Fv,{id:t.id,type:"line"},n=>f.createElement(f.Fragment,null,f.createElement(uE,{legendPayload:tY(t)}),f.createElement(rY,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),f.createElement(pE,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),f.createElement(mY,bl({},t,{id:n}))))}var hh=f.memo(pY,cf);hh.displayName="Line";var xY=["domain","range"],hY=["domain","range"];function HN(e,t){if(e==null)return{};var r,n,s=yY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VN(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function DE(e,t){if(e===t)return!0;var{domain:r,range:n}=e,s=HN(e,xY),{domain:i,range:o}=t,l=HN(t,hY);return!VN(r,i)||!VN(n,o)?!1:cf(s,l)}var gY=["dangerouslySetInnerHTML","ticks"],vY=["id"];function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(null,arguments)}function qN(e,t){if(e==null)return{};var r,n,s=bY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jY(e){var t=Ve(),r=f.useRef(null);return f.useLayoutEffect(()=>{r.current===null?t(YK(e)):r.current!==e&&t(GK({prev:r.current,next:e})),r.current=e},[e,t]),f.useLayoutEffect(()=>()=>{r.current&&(t(XK(r.current)),r.current=null)},[t]),null}var wY=e=>{var{xAxisId:t,className:r}=e,n=fe(dg),s=nr(),i="xAxis",o=fe(v=>eo(v,i,t,s)),l=fe(v=>d4(v,i,t,s)),d=fe(v=>i4(v,t)),c=fe(v=>t7(v,t)),u=fe(v=>BP(v,t));if(d==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:m,ticks:p}=e,x=qN(e,gY),{id:y}=u,g=qN(u,vY);return f.createElement(Vv,yh({},x,g,{scale:o,x:c.x,y:c.y,width:d.width,height:d.height,className:Le("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l,axisType:i}))},NY={allowDataOverflow:At.allowDataOverflow,allowDecimals:At.allowDecimals,allowDuplicatedCategory:At.allowDuplicatedCategory,angle:At.angle,axisLine:qn.axisLine,height:At.height,hide:!1,includeHidden:At.includeHidden,interval:At.interval,minTickGap:At.minTickGap,mirror:At.mirror,orientation:At.orientation,padding:At.padding,reversed:At.reversed,scale:At.scale,tick:At.tick,tickCount:At.tickCount,tickLine:qn.tickLine,tickSize:qn.tickSize,type:At.type,xAxisId:0},kY=e=>{var t=bt(e,NY);return f.createElement(f.Fragment,null,f.createElement(jY,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),f.createElement(wY,t))},gh=f.memo(kY,DE);gh.displayName="XAxis";var _Y=["dangerouslySetInnerHTML","ticks"],SY=["id"];function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(null,arguments)}function YN(e,t){if(e==null)return{};var r,n,s=CY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function CY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PY(e){var t=Ve(),r=f.useRef(null);return f.useLayoutEffect(()=>{r.current===null?t(QK(e)):r.current!==e&&t(ZK({prev:r.current,next:e})),r.current=e},[e,t]),f.useLayoutEffect(()=>()=>{r.current&&(t(JK(r.current)),r.current=null)},[t]),null}var EY=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,i=f.useRef(null),o=f.useRef(null),l=fe(dg),d=nr(),c=Ve(),u="yAxis",m=fe(N=>eo(N,u,t,d)),p=fe(N=>o4(N,t)),x=fe(N=>n7(N,t)),y=fe(N=>d4(N,u,t,d)),g=fe(N=>UP(N,t));if(f.useLayoutEffect(()=>{if(!(n!=="auto"||!p||Pv(s)||f.isValidElement(s)||g==null)){var N=i.current;if(N){var w=N.getCalculatedWidth();Math.round(p.width)!==Math.round(w)&&c(eH({id:t,width:w}))}}},[y,p,c,s,t,n,g]),p==null||x==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:h}=e,b=YN(e,_Y),{id:j}=g,k=YN(g,SY);return f.createElement(Vv,vh({},b,k,{ref:i,labelRef:o,scale:m,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Le("recharts-".concat(u," ").concat(u),r),viewBox:l,ticks:y,axisType:u}))},OY={allowDataOverflow:Tt.allowDataOverflow,allowDecimals:Tt.allowDecimals,allowDuplicatedCategory:Tt.allowDuplicatedCategory,angle:Tt.angle,axisLine:qn.axisLine,hide:!1,includeHidden:Tt.includeHidden,interval:Tt.interval,minTickGap:Tt.minTickGap,mirror:Tt.mirror,orientation:Tt.orientation,padding:Tt.padding,reversed:Tt.reversed,scale:Tt.scale,tick:Tt.tick,tickCount:Tt.tickCount,tickLine:qn.tickLine,tickSize:qn.tickSize,type:Tt.type,width:Tt.width,yAxisId:0},AY=e=>{var t=bt(e,OY);return f.createElement(f.Fragment,null,f.createElement(PY,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),f.createElement(EY,t))},bh=f.memo(AY,DE);bh.displayName="YAxis";var TY=(e,t)=>t,Yv=K([TY,Te,zP,Pt,S4,xa,vU,St],SU),Gv=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},IE=Qr("mouseClick"),ME=Ll();ME.startListening({actionCreator:IE,effect:(e,t)=>{var r=e.payload,n=Yv(t.getState(),Gv(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(y7({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var jh=Qr("mouseMove"),LE=Ll(),Kc=null;LE.startListening({actionCreator:jh,effect:(e,t)=>{var r=e.payload;Kc!==null&&cancelAnimationFrame(Kc);var n=Gv(r);Kc=requestAnimationFrame(()=>{var s=t.getState(),i=hv(s,s.tooltip.settings.shared);if(i==="axis"){var o=Yv(s,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(g4({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(y4())}Kc=null})}});var GN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},$E=Nr({name:"rootProps",initialState:GN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:GN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),DY=$E.reducer,{updateOptions:IY}=$E.actions,RE=Nr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:MY}=RE.actions,LY=RE.reducer,zE=Qr("keyDown"),FE=Qr("focus"),Xv=Ll();Xv.startListening({actionCreator:zE,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=yv(s,ro(r),Ql(r),tc(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var d=xa(r);if(i==="Enter"){var c=ku(r,"axis","hover",String(s.index));t.dispatch(lh({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var u=o7(r),m=u==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,x=l+p*m;if(!(d==null||x>=d.length||x<0)){var y=ku(r,"axis","hover",String(x));t.dispatch(lh({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}}});Xv.startListening({actionCreator:FE,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=ku(r,"axis","hover",String(i));t.dispatch(lh({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Ur=Qr("externalEvent"),BE=Ll(),fp=new Map;BE.startListening({actionCreator:Ur,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var s=n.type,i=fp.get(s);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),d={activeCoordinate:nU(l),activeDataKey:wv(l),activeIndex:qa(l),activeLabel:E4(l),activeTooltipIndex:qa(l),isTooltipActive:aU(l)};r(d,n)}finally{fp.delete(s)}});fp.set(s,o)}}});var $Y=K([to],e=>e.tooltipItemPayloads),RY=K([$Y,Jl,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),UE=Qr("touchMove"),WE=Ll();WE.startListening({actionCreator:UE,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),s=hv(n,n.tooltip.settings.shared);if(s==="axis"){var i=Yv(n,Gv({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(g4({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(l.clientX,l.clientY);if(!d||!d.getAttribute)return;var c=d.getAttribute(rC),u=(o=d.getAttribute(nC))!==null&&o!==void 0?o:void 0,m=RY(t.getState(),c,u);t.dispatch(h4({activeDataKey:u,activeIndex:c,activeCoordinate:m}))}}}});var zY=kS({brush:qV,cartesianAxis:tH,chartData:rW,errorBars:jH,graphicalItems:oK,layout:R5,legend:UR,options:QU,polarAxis:k9,polarOptions:LY,referenceElements:eq,rootProps:DY,tooltip:g7,zIndex:FU}),FY=function(t){return c5({reducer:zY,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([ME.middleware,LE.middleware,Xv.middleware,BE.middleware,WE.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(zS({type:"raf"}))},devTools:Fl.devToolsEnabled})};function KE(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=nr(),i=f.useRef(null);if(s)return r;i.current==null&&(i.current=FY(t));var o=Jy;return f.createElement(GH,{context:o,store:i.current},r)}function BY(e){var{layout:t,margin:r}=e,n=Ve(),s=nr();return f.useEffect(()=>{s||(n(M5(t)),n(I5(r)))},[n,s,t,r]),null}var HE=f.memo(BY,cf);function VE(e){var t=Ve();return f.useEffect(()=>{t(IY(e))},[t,e]),null}function XN(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",s=mE("".concat(n).concat(t)),i=Ve();return f.useLayoutEffect(()=>(i(RU({zIndex:t,elementId:s,isPanorama:r})),()=>{i(zU({zIndex:t,isPanorama:r}))}),[i,t,s,r]),f.createElement("g",{tabIndex:-1,id:s})}function QN(e){var{children:t,isPanorama:r}=e,n=fe(PU);if(!n||n.length===0)return t;var s=n.filter(o=>o<0),i=n.filter(o=>o>0);return f.createElement(f.Fragment,null,s.map(o=>f.createElement(XN,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>f.createElement(XN,{key:o,zIndex:o,isPanorama:r})))}var UY=["children"];function WY(e,t){if(e==null)return{};var r,n,s=KY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function KY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Du.apply(null,arguments)}var HY={width:"100%",height:"100%",display:"block"},VY=f.forwardRef((e,t)=>{var r=mg(),n=fg(),s=NC();if(!Tn(r)||!Tn(n))return null;var{children:i,otherAttributes:o,title:l,desc:d}=e,c,u;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=s?0:void 0,typeof o.role=="string"?u=o.role:u=s?"application":void 0),f.createElement($y,Du({},o,{title:l,desc:d,role:u,tabIndex:c,width:r,height:n,style:HY,ref:t}),i)}),qY=e=>{var{children:t}=e,r=fe(_m);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return f.createElement($y,{width:n,height:s,x:o,y:i},t)},ZN=f.forwardRef((e,t)=>{var{children:r}=e,n=WY(e,UY),s=nr();return s?f.createElement(qY,null,f.createElement(QN,{isPanorama:!0},r)):f.createElement(VY,Du({ref:t},n),f.createElement(QN,{isPanorama:!1},r))});function YY(){var e=Ve(),[t,r]=f.useState(null),n=fe(rR);return f.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;mt(i)&&i!==n&&e($5(i))}},[t,e,n]),r}function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function GY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(r),!0).forEach(function(n){XY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XY(e,t,r){return(t=QY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QY(e){var t=ZY(e,"string");return typeof t=="symbol"?t:t+""}function ZY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$s.apply(null,arguments)}var JY=()=>(uW(),null);function Iu(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var eG=f.forwardRef((e,t)=>{var r,n,s=f.useRef(null),[i,o]=f.useState({containerWidth:Iu((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Iu((n=e.style)===null||n===void 0?void 0:n.height)}),l=f.useCallback((c,u)=>{o(m=>{var p=Math.round(c),x=Math.round(u);return m.containerWidth===p&&m.containerHeight===x?m:{containerWidth:p,containerHeight:x}})},[]),d=f.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:m}=c.getBoundingClientRect();l(u,m);var p=y=>{var{width:g,height:v}=y[0].contentRect;l(g,v)},x=new ResizeObserver(p);x.observe(c),s.current=x}},[t,l]);return f.useEffect(()=>()=>{var c=s.current;c!=null&&c.disconnect()},[l]),f.createElement(f.Fragment,null,f.createElement(Cm,{width:i.containerWidth,height:i.containerHeight}),f.createElement("div",$s({ref:d},e)))}),tG=f.forwardRef((e,t)=>{var{width:r,height:n}=e,[s,i]=f.useState({containerWidth:Iu(r),containerHeight:Iu(n)}),o=f.useCallback((d,c)=>{i(u=>{var m=Math.round(d),p=Math.round(c);return u.containerWidth===m&&u.containerHeight===p?u:{containerWidth:m,containerHeight:p}})},[]),l=f.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:c,height:u}=d.getBoundingClientRect();o(c,u)}},[t,o]);return f.createElement(f.Fragment,null,f.createElement(Cm,{width:s.containerWidth,height:s.containerHeight}),f.createElement("div",$s({ref:l},e)))}),rG=f.forwardRef((e,t)=>{var{width:r,height:n}=e;return f.createElement(f.Fragment,null,f.createElement(Cm,{width:r,height:n}),f.createElement("div",$s({ref:t},e)))}),nG=f.forwardRef((e,t)=>{var{width:r,height:n}=e;return ta(r)||ta(n)?f.createElement(tG,$s({},e,{ref:t})):f.createElement(rG,$s({},e,{ref:t}))});function aG(e){return e===!0?eG:nG}var sG=f.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:d,onMouseEnter:c,onMouseLeave:u,onMouseMove:m,onMouseUp:p,onTouchEnd:x,onTouchMove:y,onTouchStart:g,style:v,width:h,responsive:b,dispatchTouchEvents:j=!0}=e,k=f.useRef(null),N=Ve(),[w,P]=f.useState(null),[_,C]=f.useState(null),O=YY(),S=ug(),E=(S==null?void 0:S.width)>0?S.width:h,I=(S==null?void 0:S.height)>0?S.height:s,A=f.useCallback(U=>{O(U),typeof t=="function"&&t(U),P(U),C(U),U!=null&&(k.current=U)},[O,t,P,C]),M=f.useCallback(U=>{N(IE(U)),N(Ur({handler:i,reactEvent:U}))},[N,i]),B=f.useCallback(U=>{N(jh(U)),N(Ur({handler:c,reactEvent:U}))},[N,c]),W=f.useCallback(U=>{N(y4()),N(Ur({handler:u,reactEvent:U}))},[N,u]),L=f.useCallback(U=>{N(jh(U)),N(Ur({handler:m,reactEvent:U}))},[N,m]),R=f.useCallback(()=>{N(FE())},[N]),$=f.useCallback(U=>{N(zE(U.key))},[N]),X=f.useCallback(U=>{N(Ur({handler:o,reactEvent:U}))},[N,o]),T=f.useCallback(U=>{N(Ur({handler:l,reactEvent:U}))},[N,l]),Q=f.useCallback(U=>{N(Ur({handler:d,reactEvent:U}))},[N,d]),J=f.useCallback(U=>{N(Ur({handler:p,reactEvent:U}))},[N,p]),D=f.useCallback(U=>{N(Ur({handler:g,reactEvent:U}))},[N,g]),q=f.useCallback(U=>{j&&N(UE(U)),N(Ur({handler:y,reactEvent:U}))},[N,j,y]),ie=f.useCallback(U=>{N(Ur({handler:x,reactEvent:U}))},[N,x]),oe=aG(b);return f.createElement(L4.Provider,{value:w},f.createElement(k_.Provider,{value:_},f.createElement(oe,{width:E??(v==null?void 0:v.width),height:I??(v==null?void 0:v.height),className:Le("recharts-wrapper",n),style:GY({position:"relative",cursor:"default",width:E,height:I},v),onClick:M,onContextMenu:X,onDoubleClick:T,onFocus:R,onKeyDown:$,onMouseDown:Q,onMouseEnter:B,onMouseLeave:W,onMouseMove:L,onMouseUp:J,onTouchEnd:ie,onTouchMove:q,onTouchStart:D,ref:A},f.createElement(JY,null),r)))}),iG=["width","height","responsive","children","className","style","compact","title","desc"];function oG(e,t){if(e==null)return{};var r,n,s=lG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qE=f.forwardRef((e,t)=>{var{width:r,height:n,responsive:s,children:i,className:o,style:l,compact:d,title:c,desc:u}=e,m=oG(e,iG),p=Mr(m);return d?f.createElement(f.Fragment,null,f.createElement(Cm,{width:r,height:n}),f.createElement(ZN,{otherAttributes:p,title:c,desc:u},i)):f.createElement(sG,{className:o,style:l,width:r,height:n,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},f.createElement(ZN,{otherAttributes:p,title:c,desc:u,ref:t},f.createElement(rq,null,i)))});function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wh.apply(null,arguments)}var cG={top:5,right:5,bottom:5,left:5},dG={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:cG,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},YE=f.forwardRef(function(t,r){var n,s=bt(t.categoricalChartProps,dG),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:d,categoricalChartProps:c}=t,u={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:d,eventEmitter:void 0};return f.createElement(KE,{preloadedState:{options:u},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:i},f.createElement(wE,{chartData:c.data}),f.createElement(HE,{layout:s.layout,margin:s.margin}),f.createElement(VE,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),f.createElement(qE,wh({},s,{ref:r})))}),uG=["axis"],mG=f.forwardRef((e,t)=>f.createElement(YE,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uG,tooltipPayloadSearcher:Cv,categoricalChartProps:e,ref:t})),fG=["axis","item"],pG=f.forwardRef((e,t)=>f.createElement(YE,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fG,tooltipPayloadSearcher:Cv,categoricalChartProps:e,ref:t}));function xG(e){var t=Ve();return f.useEffect(()=>{t(MY(e))},[t,e]),null}var hG=["layout"];function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(null,arguments)}function yG(e,t){if(e==null)return{};var r,n,s=gG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function gG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vG={top:5,right:5,bottom:5,left:5},GE={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:vG,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},bG=f.forwardRef(function(t,r){var n,s=bt(t.categoricalChartProps,GE),{layout:i}=s,o=yG(s,hG),{chartName:l,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=t,m={chartName:l,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return f.createElement(KE,{preloadedState:{options:m},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:l},f.createElement(wE,{chartData:s.data}),f.createElement(HE,{layout:i,margin:s.margin}),f.createElement(VE,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),f.createElement(xG,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),f.createElement(qE,Nh({},o,{ref:r})))});function e1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function t1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(r),!0).forEach(function(n){jG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jG(e,t,r){return(t=wG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wG(e){var t=NG(e,"string");return typeof t=="symbol"?t:t+""}function NG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kG=["item"],_G=t1(t1({},GE),{},{layout:"centric",startAngle:0,endAngle:360}),XE=f.forwardRef((e,t)=>{var r=bt(e,_G);return f.createElement(bG,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:kG,tooltipPayloadSearcher:Cv,categoricalChartProps:r,ref:t})});const SG={ozon:{name:"Ozon",color:"#005bff",icon:""},yandex:{name:".",color:"#ffcc00",icon:""},wb:{name:"Wildberries",color:"#cb11ab",icon:""}},Hc={penalties:"#ef4444",returns:"#f97316",subscription:"#8b5cf6",acquiring:"#3b82f6",client_compensation:"#ec4899",loyalty_points:"#eab308",early_payment:"#06b6d4",logistics:"#22c55e",storage:"#64748b",other:"#9ca3af"},r1={penalties:"",returns:"",subscription:"",acquiring:"",client_compensation:"",loyalty_points:"/",early_payment:" ",logistics:"",storage:"",other:""},jt=e=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),kh=e=>`${e>0?"+":""}${e.toFixed(1)}%`,CG=({value:e,inverted:t=!1})=>{if(e==null)return null;const r=t?e<0:e>0,n=r?Wa:Si,s=r?"text-green-500":"text-red-500";return a.jsxs("span",{className:`inline-flex items-center gap-1 text-sm ${s}`,children:[a.jsx(n,{size:14}),kh(e)]})},ss=({title:e,value:t,change:r,subtitle:n,icon:s,colorClass:i,inverted:o})=>a.jsxs("div",{className:"card-neon p-5","data-testid":`summary-card-${e.toLowerCase().replace(/\s/g,"-")}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("span",{className:"text-mm-text-secondary text-sm font-mono uppercase",children:e}),s&&a.jsx(s,{className:i||"text-mm-cyan",size:20})]}),a.jsx("div",{className:"text-2xl font-bold text-mm-text mb-1",children:t}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary text-xs",children:n}),a.jsx(CG,{value:r,inverted:o})]})]}),PG=({name:e,amount:t,total:r,color:n,expanded:s,onToggle:i})=>{const o=r>0?(t/r*100).toFixed(1):0;return a.jsxs("div",{className:"border-b border-mm-border last:border-0 py-3 cursor-pointer hover:bg-mm-gray/30 px-2 -mx-2 rounded transition-colors",onClick:i,"data-testid":`expense-item-${e}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:n}}),a.jsx("span",{className:"text-mm-text font-mono",children:e})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-mm-text-secondary text-sm",children:[o,"%"]}),a.jsx("span",{className:"text-mm-text font-mono font-bold",children:jt(t)})]})]}),a.jsx("div",{className:"mt-2 h-1.5 bg-mm-gray rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${o}%`,backgroundColor:n}})})]})};function EG({dateFrom:e,dateTo:t}){var _,C,O,S,E,I,A,M,B,W,L,R,$,X,T,Q,J,D,q,ie,oe,U,ue,he,Z,Y,ae,be,H,ee,le,ve,z,ne,F,se,ce,Ne,je,ke,Ie,ye,Pe,Se;const{api:r}=we(),[n,s]=f.useState("ozon"),[i,o]=f.useState(!1),[l,d]=f.useState(!1),[c,u]=f.useState(null),[m,p]=f.useState(null),[x,y]=f.useState(!0),[g,v]=f.useState(!1),[h,b]=f.useState(null),j=async()=>{var de,Oe,zt;o(!0);try{const qt=await r.get("/api/business-analytics/economics",{params:{date_from:e,date_to:t,compare_previous:x}});u(qt.data);try{const Us=await r.get("/api/yandex-analytics/economics",{params:{date_from:e,date_to:t,compare_previous:x}});p(Us.data)}catch(Us){console.log("Yandex data not available:",Us.message),p(null)}}catch(qt){console.error("Error loading economics:",qt),((de=qt.response)==null?void 0:de.status)===404?G.error("API   .     ."):G.error("  : "+(((zt=(Oe=qt.response)==null?void 0:Oe.data)==null?void 0:zt.detail)||qt.message))}o(!1)},k=async()=>{var de,Oe;d(!0);try{const zt=await r.post("/api/business-analytics/sync-operations",null,{params:{date_from:e,date_to:t}});G.success(`: ${zt.data.statistics.total_fetched} `),await j()}catch(zt){G.error(" : "+(((Oe=(de=zt.response)==null?void 0:de.data)==null?void 0:Oe.detail)||zt.message))}d(!1)},N=async()=>{try{const de=await r.get("/api/business-analytics/detailed-operations",{params:{date_from:e,date_to:t}});b(de.data)}catch(de){console.error("Error loading detailed operations:",de)}};f.useEffect(()=>{e&&t&&j()},[e,t,x]);const P=c!=null&&c.expense_breakdown?Object.entries(c.expense_breakdown).filter(([de,Oe])=>Oe.amount>0).map(([de,Oe])=>({name:r1[de]||Oe.name,value:Oe.amount,color:Hc[de]||Hc.other})).sort((de,Oe)=>Oe.value-de.value):[];return i?a.jsxs("div",{className:"flex items-center justify-center py-20",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-mm-cyan"}),a.jsx("span",{className:"ml-4 text-mm-text-secondary",children:"   Ozon API..."})]}):c?a.jsxs("div",{className:"space-y-6","data-testid":"business-economics-tab",children:[a.jsxs("div",{className:"flex items-center gap-2 p-1 bg-mm-gray rounded-lg w-fit",children:[a.jsx("button",{onClick:()=>s("ozon"),className:`px-4 py-2 rounded-md font-mono text-sm transition-all ${n==="ozon"?"bg-[#005bff] text-white":"text-mm-text-secondary hover:text-mm-text"}`,"data-testid":"ozon-tab",children:" Ozon"}),a.jsxs("button",{onClick:()=>s("yandex"),className:`px-4 py-2 rounded-md font-mono text-sm transition-all ${n==="yandex"?"bg-[#ffcc00] text-black":"text-mm-text-secondary hover:text-mm-text"}`,"data-testid":"yandex-tab",children:[" . ",m?"":"( )"]}),a.jsx("button",{disabled:!0,className:"px-4 py-2 rounded-md font-mono text-sm text-mm-text-secondary/50 cursor-not-allowed",children:" WB ()"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-mono text-mm-cyan uppercase",children:["   ",((_=SG[n])==null?void 0:_.name)||n]}),a.jsxs("p",{className:"text-mm-text-secondary text-sm",children:[": ",e,"  ",t," (",(C=c.period)==null?void 0:C.days," )",n==="ozon"&&`  ${c.operations_count} `,n==="yandex"&&m&&`  ${((O=m.summary)==null?void 0:O.total_orders)||0} `]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-mm-text-secondary cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x,onChange:de=>y(de.target.checked),className:"rounded border-mm-border bg-mm-gray"}),"   "]}),a.jsxs("button",{onClick:k,disabled:l||n!=="ozon",className:"btn-secondary text-sm px-4 flex items-center gap-2","data-testid":"sync-operations-btn",children:[a.jsx(_t,{className:l?"animate-spin":"",size:16}),l?"...":""]})]})]}),n==="yandex"&&a.jsx(a.Fragment,{children:m?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ss,{title:"",value:jt(((S=m.summary)==null?void 0:S.revenue)||0),change:(I=(E=m.comparison)==null?void 0:E.changes)==null?void 0:I.revenue_change_pct,subtitle:" ",icon:Jn,colorClass:"text-green-500"}),a.jsx(ss,{title:" ",value:jt(((A=m.summary)==null?void 0:A.revenue_before_discount)||0),subtitle:`: ${jt(((M=m.summary)==null?void 0:M.discount_given)||0)}`,icon:Si,colorClass:"text-orange-500"}),a.jsx(ss,{title:"  ",value:jt(((B=m.summary)==null?void 0:B.subsidies_from_yandex)||0),subtitle:" ",icon:Wa,colorClass:"text-yellow-500"}),a.jsx(ss,{title:"",value:((W=m.summary)==null?void 0:W.delivered_orders)||0,change:(R=(L=m.comparison)==null?void 0:L.changes)==null?void 0:R.orders_change_pct,subtitle:`: ${(($=m.summary)==null?void 0:$.total_orders)||0}, : ${((X=m.summary)==null?void 0:X.cancelled_orders)||0}`,icon:Ud,colorClass:"text-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("h4",{className:"text-mm-cyan font-mono uppercase mb-4 flex items-center gap-2",children:[a.jsx(vt,{size:16}),"  "]}),a.jsx("div",{className:"space-y-3",children:Object.entries(m.by_status||{}).map(([de,Oe])=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-mm-gray/30 rounded",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${de==="DELIVERED"?"bg-green-500":de==="PROCESSING"?"bg-blue-500":de==="PICKUP"?"bg-yellow-500":de==="CANCELLED"?"bg-red-500":"bg-gray-500"}`}),a.jsx("span",{className:"text-mm-text font-mono",children:de==="DELIVERED"?"":de==="PROCESSING"?" ":de==="PICKUP"?"  ":de==="CANCELLED"?"":de})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-mm-text font-bold",children:[Oe.count," ."]}),a.jsx("div",{className:"text-mm-text-secondary text-sm",children:jt(Oe.revenue)})]})]},de))})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("h4",{className:"text-mm-cyan font-mono uppercase mb-4 flex items-center gap-2",children:[a.jsx(VI,{size:16})," "]}),a.jsx("div",{className:"space-y-2",children:Object.entries(m.top_regions||{}).map(([de,Oe])=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-mm-border/50 last:border-0",children:[a.jsx("span",{className:"text-mm-text",children:de}),a.jsxs("span",{className:"text-mm-cyan font-mono",children:[Oe," "]})]},de))})]})]}),m.comparison&&a.jsxs("div",{className:"card-neon p-6 bg-mm-gray/20",children:[a.jsxs("h4",{className:"text-mm-text-secondary font-mono uppercase mb-3",children:["   ",(T=m.comparison.previous_period)==null?void 0:T.from,"  ",(Q=m.comparison.previous_period)==null?void 0:Q.to]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-mm-text-secondary text-sm",children:"  "}),a.jsx("div",{className:"text-xl font-bold text-mm-text",children:jt(((J=m.comparison.changes)==null?void 0:J.prev_revenue)||0)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-mm-text-secondary text-sm",children:"  "}),a.jsx("div",{className:"text-xl font-bold text-mm-text",children:((D=m.comparison.changes)==null?void 0:D.prev_orders)||0})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-mm-text-secondary text-sm",children:" "}),a.jsx("div",{className:`text-xl font-bold ${((q=m.comparison.changes)==null?void 0:q.revenue_change_pct)>=0?"text-green-500":"text-red-500"}`,children:kh(((ie=m.comparison.changes)==null?void 0:ie.revenue_change_pct)||0)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-mm-text-secondary text-sm",children:" "}),a.jsx("div",{className:`text-xl font-bold ${((oe=m.comparison.changes)==null?void 0:oe.orders_change_pct)>=0?"text-green-500":"text-red-500"}`,children:kh(((U=m.comparison.changes)==null?void 0:U.orders_change_pct)||0)})]})]})]})]}):a.jsxs("div",{className:"card-neon p-8 text-center",children:[a.jsx(R0,{className:"mx-auto text-yellow-500 mb-4",size:48}),a.jsx("h3",{className:"text-lg font-mono text-mm-text mb-2",children:".  "}),a.jsx("p",{className:"text-mm-text-secondary mb-4",children:" API  .   "})]})}),n==="ozon"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ss,{title:"",value:jt(((ue=c.summary)==null?void 0:ue.gross_income)||0),change:(Z=(he=c.comparison)==null?void 0:he.changes)==null?void 0:Z.income_change_pct,subtitle:" + ",icon:Wa,colorClass:"text-green-500"}),a.jsx(ss,{title:"",value:jt(((Y=c.summary)==null?void 0:Y.total_expenses)||0),change:(be=(ae=c.comparison)==null?void 0:ae.changes)==null?void 0:be.expenses_change_pct,subtitle:" ",icon:Si,colorClass:"text-red-500",inverted:!0}),a.jsx(ss,{title:" ",value:jt(((H=c.summary)==null?void 0:H.net_profit)||0),change:(le=(ee=c.comparison)==null?void 0:ee.changes)==null?void 0:le.profit_change_pct,subtitle:`: ${((z=(ve=c.summary)==null?void 0:ve.margin_pct)==null?void 0:z.toFixed(1))||0}%`,icon:Jn,colorClass:((ne=c.summary)==null?void 0:ne.net_profit)>=0?"text-green-500":"text-red-500"}),c.comparison&&a.jsxs("div",{className:"card-neon p-5 bg-mm-gray/30",children:[a.jsx("div",{className:"text-mm-text-secondary text-sm font-mono uppercase mb-2",children:" "}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsx("span",{className:"text-mm-text",children:jt(((F=c.comparison.changes)==null?void 0:F.prev_income)||0)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsx("span",{className:"text-mm-text",children:jt(((se=c.comparison.changes)==null?void 0:se.prev_expenses)||0)})]}),a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsx("span",{className:"text-mm-text",children:jt(((ce=c.comparison.changes)==null?void 0:ce.prev_profit)||0)})]})]}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-mm-border text-xs text-mm-text-secondary",children:[(Ne=c.comparison.previous_period)==null?void 0:Ne.from,"  ",(je=c.comparison.previous_period)==null?void 0:je.to]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"card-neon p-5 bg-green-500/5 border-green-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),a.jsx("span",{className:"text-mm-text-secondary text-sm font-mono uppercase",children:""})]}),a.jsx("div",{className:"text-xl font-bold text-green-500",children:jt(((ke=c.income_breakdown)==null?void 0:ke.sales)||0)})]}),a.jsxs("div",{className:"card-neon p-5 bg-blue-500/5 border-blue-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),a.jsx("span",{className:"text-mm-text-secondary text-sm font-mono uppercase",children:""})]}),a.jsx("div",{className:"text-xl font-bold text-blue-500",children:jt(((Ie=c.income_breakdown)==null?void 0:Ie.compensations)||0)})]}),a.jsxs("div",{className:"card-neon p-5 bg-gray-500/5 border-gray-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500"}),a.jsx("span",{className:"text-mm-text-secondary text-sm font-mono uppercase",children:""})]}),a.jsx("div",{className:"text-xl font-bold text-gray-400",children:jt(((ye=c.income_breakdown)==null?void 0:ye.other)||0)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("h4",{className:"text-mm-cyan font-mono uppercase mb-4 flex items-center gap-2",children:[a.jsx(WI,{size:16})," "]}),P.length>0?a.jsx(ud,{width:"100%",height:300,children:a.jsxs(XE,{children:[a.jsx(Bv,{data:P,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",label:({name:de,percent:Oe})=>`${de}: ${(Oe*100).toFixed(0)}%`,labelLine:!1,children:P.map((de,Oe)=>a.jsx(no,{fill:de.color},`cell-${Oe}`))}),a.jsx(fd,{formatter:de=>jt(de),contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid #3b3b5c",borderRadius:"8px"}})]})}):a.jsx("div",{className:"flex items-center justify-center h-[300px] text-mm-text-secondary",children:"   "})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h4",{className:"text-mm-cyan font-mono uppercase mb-4",children:" "}),a.jsx("div",{className:"space-y-1",children:Object.entries(c.expense_breakdown||{}).filter(([de,Oe])=>Oe.amount>0).sort((de,Oe)=>Oe[1].amount-de[1].amount).map(([de,Oe])=>{var zt;return a.jsx(PG,{name:r1[de]||Oe.name,amount:Oe.amount,total:((zt=c.summary)==null?void 0:zt.total_expenses)||0,color:Hc[de]||Hc.other},de)})}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-mm-border flex justify-between items-center",children:[a.jsx("span",{className:"text-mm-text-secondary font-mono",children:" :"}),a.jsx("span",{className:"text-xl font-bold text-red-500",children:jt(((Pe=c.summary)==null?void 0:Pe.total_expenses)||0)})]})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsxs("button",{onClick:()=>{v(!g),!g&&!h&&N()},className:"w-full flex items-center justify-between text-mm-text-secondary hover:text-mm-cyan transition-colors","data-testid":"toggle-details-btn",children:[a.jsx("span",{className:"font-mono uppercase",children:"   "}),g?a.jsx(Oy,{size:20}):a.jsx(Vi,{size:20})]}),g&&h&&a.jsx("div",{className:"mt-4 pt-4 border-t border-mm-border",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-mm-text-secondary text-left",children:[a.jsx("th",{className:"pb-2 font-mono",children:" "}),a.jsx("th",{className:"pb-2 font-mono text-center",children:"-"}),a.jsx("th",{className:"pb-2 font-mono text-right",children:""})]})}),a.jsx("tbody",{children:(Se=h.operation_types)==null?void 0:Se.map((de,Oe)=>a.jsxs("tr",{className:"border-t border-mm-border/50",children:[a.jsxs("td",{className:"py-2",children:[a.jsx("div",{className:"text-mm-text",children:de.name||de.type}),a.jsx("div",{className:"text-xs text-mm-text-secondary",children:de.type})]}),a.jsx("td",{className:"py-2 text-center text-mm-text-secondary",children:de.count}),a.jsx("td",{className:`py-2 text-right font-mono ${de.amount>=0?"text-green-500":"text-red-500"}`,children:jt(de.amount)})]},Oe))})]})})})]})]})]}):a.jsxs("div",{className:"card-neon p-8 text-center",children:[a.jsx(R0,{className:"mx-auto text-yellow-500 mb-4",size:48}),a.jsx("h3",{className:"text-lg font-mono text-mm-text mb-2",children:"  "}),a.jsx("p",{className:"text-mm-text-secondary mb-4",children:"      Ozon API"}),a.jsx("button",{onClick:j,className:"btn-primary","data-testid":"load-economics-btn",children:" "})]})}const QE=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},OG=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);return QE(t)},pp=()=>QE(new Date);function AG(){const{api:e}=we(),[t,r]=f.useState("profit"),[n,s]=f.useState(!1),[i,o]=f.useState(!1),[l,d]=f.useState(null),[c,u]=f.useState(null),[m,p]=f.useState(null),[x,y]=f.useState(null),[g,v]=f.useState(OG()),[h,b]=f.useState(pp()),[j,k]=f.useState(""),[N,w]=f.useState(null),[P,_]=f.useState(!1),[C,O]=f.useState([]),[S,E]=f.useState({expense_date:pp(),expense_type:" ",amount:"",description:"",document_number:""}),[I,A]=f.useState(!1),[M,B]=f.useState({tax_system:null,rate:0}),[W,L]=f.useState(!1),[R,$]=f.useState([]),[X,T]=f.useState(""),[Q,J]=f.useState([]),[D,q]=f.useState([]),ie=async F=>{var Ne,je;const se=F.target.files[0];if(!se)return;s(!0);const ce=new FormData;ce.append("file",se);try{const ke=await e.post("/api/ozon-reports/upload-order-realization",ce,{headers:{"Content-Type":"multipart/form-data"}});G.success(` ${ke.data.statistics.transactions_parsed} `),U()}catch(ke){G.error(": "+(((je=(Ne=ke.response)==null?void 0:Ne.data)==null?void 0:je.detail)||ke.message))}s(!1),F.target.value=""},oe=async(F,se)=>{var je,ke;const ce=F.target.files[0];if(!ce)return;s(!0);const Ne=new FormData;Ne.append("file",ce);try{let Ie="",ye="";switch(se){case"loyalty":Ie="/api/ozon-reports/upload-loyalty-report",ye="   ";break;case"acquiring":Ie="/api/ozon-reports/upload-acquiring-report",ye="   ";break;case"rfbs":Ie="/api/ozon-reports/upload-rfbs-logistics",ye="   rFBS ";break;default:throw new Error("  ")}const Pe=await e.post(Ie,Ne,{headers:{"Content-Type":"multipart/form-data"}});G.success(ye),U()}catch(Ie){G.error(": "+(((ke=(je=Ie.response)==null?void 0:je.data)==null?void 0:ke.detail)||Ie.message))}s(!1),F.target.value=""},U=async()=>{o(!0);try{const F={period_start:g,period_end:h};if(j&&(F.tag_filter=j),X&&(F.product_filter=X),t==="profit"){const se=await e.get("/api/ozon-reports/calculate-profit",{params:F});d(se.data)}else if(t==="sales"){const se=await e.get("/api/ozon-reports/sales-report",{params:F});u(se.data)}else if(t==="trends"){const se=await e.get("/api/ozon-reports/trends",{params:{period_start:g,period_end:h}});y(se.data)}else{const se=await e.get("/api/ozon-reports/transactions-list",{params:{...F,limit:100,offset:0}});p(se.data)}}catch{G.error(" ")}o(!1)},ue=async()=>{try{const F=await e.get("/api/ozon-reports/expenses",{params:{period_start:g,period_end:h}});O(F.data.expenses||[])}catch(F){console.error("  ",F)}},he=async()=>{var F,se;if(!S.amount||parseFloat(S.amount)<=0){G.error(" ");return}try{await e.post("/api/ozon-reports/add-expense",S),G.success(" "),E({expense_date:pp(),expense_type:" ",amount:"",description:"",document_number:""}),_(!1),await ue(),await U()}catch(ce){G.error(": "+(((se=(F=ce.response)==null?void 0:F.data)==null?void 0:se.detail)||ce.message))}},Z=async F=>{if(confirm(" ?"))try{await e.delete(`/api/ozon-reports/expense/${F}`),G.success(" "),await ue(),await U()}catch{G.error(" ")}},Y=async()=>{try{const F=await e.get("/api/ozon-reports/tax-settings");B(F.data)}catch(F){console.error("   ",F)}},ae=async F=>{try{await e.post("/api/ozon-reports/tax-settings",{tax_system:F}),G.success(" "),await Y(),await U(),A(!1)}catch{G.error(" ")}},be=async()=>{try{const F=await e.get("/api/ozon-reports/reports-history");$(F.data.reports||[])}catch(F){console.error("  ",F)}},H=async F=>{if(confirm("     ?"))try{const se=await e.delete(`/api/ozon-reports/report/${F}`);G.success(` : ${se.data.deleted_transactions}`),await be(),await U()}catch{G.error(" ")}},ee=async()=>{try{const F=await e.get("/api/ozon-reports/products-list");J(F.data.products||[])}catch(F){console.error("  ",F)}},le=async()=>{try{const F=await e.get("/api/ozon-reports/tags-list");q(F.data.tags||[])}catch(F){console.error("  ",F)}},ve=async()=>{try{const F={period_start:g,period_end:h};j&&(F.tag_filter=j);const se=await e.get("/api/ozon-reports/export-excel",{params:F,responseType:"blob"}),ce=window.URL.createObjectURL(new Blob([se.data])),Ne=document.createElement("a");Ne.href=ce,Ne.setAttribute("download",`ozon_report_${g}_${h}.xlsx`),document.body.appendChild(Ne),Ne.click(),Ne.remove(),G.success(" !")}catch{G.error(" ")}};f.useEffect(()=>{Y(),be(),ee(),le()},[]),f.useEffect(()=>{(l||c||m||x)&&(U(),ue())},[t]);const z=F=>(!F&&F!==0&&(F=0),new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(F)),ne=F=>`${(F||0).toFixed(2)}%`;return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"  "}),a.jsx("p",{className:"comment",children:"//     Ozon"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>A(!I),className:"btn-secondary text-sm px-4",children:" "}),a.jsx("button",{onClick:()=>L(!W),className:"btn-secondary text-sm px-4",children:" "})]})]}),I&&a.jsxs("div",{className:"card-neon p-6 bg-mm-gray bg-opacity-30",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase",children:" "}),a.jsx("button",{onClick:()=>A(!1),className:"text-mm-text-secondary hover:text-mm-cyan",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[a.jsxs("button",{onClick:()=>ae("usn_income"),className:`p-4 rounded border-2 transition-colors ${(M==null?void 0:M.tax_system)==="usn_income"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:" "}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"6%  "})]}),a.jsxs("button",{onClick:()=>ae("usn_income_expense"),className:`p-4 rounded border-2 transition-colors ${(M==null?void 0:M.tax_system)==="usn_income_expense"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:" -"}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"15%  "})]}),a.jsxs("button",{onClick:()=>ae("osn"),className:`p-4 rounded border-2 transition-colors ${(M==null?void 0:M.tax_system)==="osn"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:""}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"20%   "})]}),a.jsxs("button",{onClick:()=>ae("patent"),className:`p-4 rounded border-2 transition-colors ${(M==null?void 0:M.tax_system)==="patent"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:""}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"6% "})]}),a.jsxs("button",{onClick:()=>ae("eshn"),className:`p-4 rounded border-2 transition-colors ${(M==null?void 0:M.tax_system)==="eshn"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:""}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"6%  /"})]}),a.jsxs("button",{onClick:()=>{B({tax_system:null,rate:0}),ae(null)},className:`p-4 rounded border-2 transition-colors ${M!=null&&M.tax_system?"border-mm-border hover:border-mm-cyan":"border-mm-cyan bg-mm-cyan bg-opacity-10"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-text-secondary",children:" "}),a.jsx("div",{className:"text-sm text-mm-text-tertiary mt-1",children:" "})]})]}),(M==null?void 0:M.tax_system)&&a.jsx("div",{className:"mt-4 p-3 bg-mm-black rounded border border-mm-border",children:a.jsxs("div",{className:"text-sm font-mono text-mm-cyan",children:[" : ",M.tax_system==="usn_income"?"  6%":M.tax_system==="usn_income_expense"?" - 15%":M.tax_system==="osn"?" 20%":M.tax_system==="patent"?" 6%":M.tax_system==="eshn"?" 6%":" "]})})]}),W&&a.jsxs("div",{className:"card-neon p-6 bg-mm-gray bg-opacity-30",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase",children:"  "}),a.jsx("button",{onClick:()=>L(!1),className:"text-mm-text-secondary hover:text-mm-cyan",children:""})]}),R.length===0?a.jsx("div",{className:"text-center py-8 text-mm-text-secondary",children:"  "}):a.jsx("div",{className:"space-y-2",children:R.map(F=>{var se,ce;return a.jsxs("div",{className:"flex justify-between items-center bg-mm-black p-4 rounded border border-mm-border",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-mono text-mm-cyan",children:new Date(F.uploaded_at).toLocaleString("ru-RU")}),a.jsx("span",{className:"text-xs bg-mm-border px-2 py-1 rounded",children:F.report_type==="order_realization"?" ":F.report_type})]}),a.jsx("div",{className:"text-sm text-mm-text mt-1",children:F.file_name}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary mt-1",children:[": ",((se=F.summary)==null?void 0:se.total_transactions)||0," | : ",z(((ce=F.summary)==null?void 0:ce.total_revenue)||0)]})]}),a.jsx("button",{onClick:()=>H(F._id),className:"text-mm-red hover:text-mm-text text-sm ml-4",children:""})]},F._id)})})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex gap-2 mb-6",children:[a.jsxs("button",{onClick:()=>r("profit"),className:`px-6 py-3 rounded font-mono text-sm ${t==="profit"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(Wa,{className:"inline mr-2"})," "]}),a.jsxs("button",{onClick:()=>r("sales"),className:`px-6 py-3 rounded font-mono text-sm ${t==="sales"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(t_,{className:"inline mr-2"})," "]}),a.jsxs("button",{onClick:()=>r("transactions"),className:`px-6 py-3 rounded font-mono text-sm ${t==="transactions"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(HI,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>r("trends"),className:`px-6 py-3 rounded font-mono text-sm ${t==="trends"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(BI,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>r("economics"),className:`px-6 py-3 rounded font-mono text-sm ${t==="economics"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,"data-testid":"economics-tab-btn",children:[a.jsx(Dy,{className:"inline mr-2"}),""]})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsx("input",{type:"date",value:g,onChange:F=>v(F.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsx("input",{type:"date",value:h,onChange:F=>b(F.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsxs("select",{value:j,onChange:F=>k(F.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none",children:[a.jsx("option",{value:"",children:" "}),D.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsxs("select",{value:X,onChange:F=>T(F.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none",children:[a.jsx("option",{value:"",children:" "}),Q.map(F=>a.jsxs("option",{value:F.article,children:[F.article," - ",F.name.substring(0,40),"..."]},F.article))]})]}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("button",{onClick:U,disabled:i,className:"btn-primary flex-1",children:i?"...":""}),a.jsx("button",{onClick:ve,className:"btn-secondary px-4",children:a.jsx(Vt,{})})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-mm-border space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(ir,{}),n?"...":" ",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:ie,disabled:n,className:"hidden"})]}),a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(ir,{}),"  ",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:F=>oe(F,"loyalty"),disabled:n,className:"hidden"})]}),a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(ir,{}),"",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:F=>oe(F,"acquiring"),disabled:n,className:"hidden"})]}),a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(ir,{})," rFBS",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:F=>oe(F,"rfbs"),disabled:n,className:"hidden"})]})]}),a.jsx("p",{className:"text-xs text-mm-text-tertiary font-mono",children:"//      Ozon (  )"})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-mm-border",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"text-sm font-mono text-mm-cyan uppercase",children:" "}),a.jsx("button",{onClick:()=>_(!P),className:"btn-secondary text-xs px-3 py-1",children:P?"":"+ "})]}),P&&a.jsxs("div",{className:"bg-mm-gray bg-opacity-10 p-4 rounded border border-mm-border mb-3",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:""}),a.jsx("input",{type:"date",value:S.expense_date,onChange:F=>E({...S,expense_date:F.target.value}),className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:" "}),a.jsxs("select",{value:S.expense_type,onChange:F=>E({...S,expense_type:F.target.value}),className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm",children:[a.jsx("option",{children:" "}),a.jsx("option",{children:" "}),a.jsx("option",{children:""}),a.jsx("option",{children:""}),a.jsx("option",{children:""}),a.jsx("option",{children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:" ()"}),a.jsx("input",{type:"number",value:S.amount,onChange:F=>E({...S,amount:F.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:" "}),a.jsx("input",{type:"text",value:S.document_number,onChange:F=>E({...S,document_number:F.target.value}),placeholder:"",className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:""}),a.jsx("input",{type:"text",value:S.description,onChange:F=>E({...S,description:F.target.value}),placeholder:"",className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]})]}),a.jsx("button",{onClick:he,className:"btn-primary mt-3",children:" "})]}),C.length>0&&a.jsxs("div",{className:"space-y-2",children:[C.map(F=>a.jsxs("div",{className:"flex justify-between items-center bg-mm-gray bg-opacity-10 p-3 rounded border border-mm-border",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-mono text-mm-cyan",children:new Date(F.expense_date).toLocaleDateString("ru-RU")}),a.jsx("span",{className:"text-xs bg-mm-border px-2 py-1 rounded",children:F.expense_type}),a.jsx("span",{className:"text-sm font-mono text-mm-text",children:z(F.amount)})]}),F.description&&a.jsx("div",{className:"text-xs text-mm-text-secondary mt-1",children:F.description}),F.document_number&&a.jsxs("div",{className:"text-xs text-mm-text-tertiary mt-1",children:[" ",F.document_number]})]}),a.jsx("button",{onClick:()=>Z(F._id),className:"text-mm-red hover:text-mm-text text-sm",children:""})]},F._id)),a.jsxs("div",{className:"text-right text-sm font-mono text-mm-cyan pt-2 border-t border-mm-border",children:[": ",z(C.reduce((F,se)=>F+se.amount,0))]})]})]})]})]}),t==="economics"?a.jsx(EG,{dateFrom:g,dateTo:h,marketplace:"ozon"}):i?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// ..."})}):t==="profit"&&l?a.jsx(TG,{data:l,fmt:z,pct:ne}):t==="sales"&&c?a.jsx(DG,{data:c,fmt:z}):t==="trends"&&x?a.jsx(MG,{data:x,fmt:z}):t==="transactions"&&m?a.jsx(IG,{data:m,fmt:z,expandedRow:N,setExpandedRow:w}):a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-text-secondary",children:'    ""'})})]})}function TG({data:e,fmt:t,pct:r}){var n,s,i,o,l,d,c,u,m,p,x,y,g,v,h,b,j,k,N,w,P,_,C,O,S,E,I,A,M,B,W,L,R,$,X,T,Q;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:" "}),a.jsx("div",{className:"text-3xl font-mono text-mm-cyan mb-2",children:t((n=e.revenue)==null?void 0:n.net_revenue)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:((i=(s=e.revenue)==null?void 0:s.returns)==null?void 0:i.total_returned)>0?`: ${(l=(o=e.revenue)==null?void 0:o.returns)==null?void 0:l.returned_quantity} .`:`: ${t((d=e.revenue)==null?void 0:d.gross_revenue)}`})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:""}),a.jsx("div",{className:"text-3xl font-mono text-mm-red mb-2",children:t((c=e.cogs)==null?void 0:c.total)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:(u=e.statistics)!=null&&u.cogs_coverage?`: ${e.statistics.cogs_coverage.coverage_pct}%`:`${r((m=e.cogs)==null?void 0:m.percentage)}`})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:""}),a.jsx("div",{className:"text-3xl font-mono text-mm-red mb-2",children:t((p=e.expenses)==null?void 0:p.total)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:" Ozon"})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:" "}),a.jsx("div",{className:"text-3xl font-mono text-mm-green mb-2",children:t((x=e.profit)==null?void 0:x.net_profit)}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:[": ",r((y=e.profit)==null?void 0:y.net_margin_pct)]})]})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:""}),a.jsxs("div",{className:"space-y-3 font-mono text-sm",children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:t((g=e.revenue)==null?void 0:g.realized)})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"+   "}),a.jsxs("span",{className:"text-mm-cyan",children:["+",t((v=e.revenue)==null?void 0:v.loyalty_payments)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"+   "}),a.jsxs("span",{className:"text-mm-cyan",children:["+",t((h=e.revenue)==null?void 0:h.discount_points)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-bold text-mm-cyan",children:[a.jsx("span",{children:"=  "}),a.jsx("span",{children:t((b=e.revenue)==null?void 0:b.gross_revenue)})]}),((j=e.revenue)==null?void 0:j.returns)&&e.revenue.returns.total_returned>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border bg-mm-gray bg-opacity-20",children:[a.jsxs("span",{className:"text-mm-text-secondary",children:["-  (",e.revenue.returns.returned_quantity," .)"]}),a.jsxs("span",{className:"text-mm-red",children:["-",t(e.revenue.returns.total_returned)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t(e.revenue.returns.returned_amount)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t(e.revenue.returns.returned_discounts)]})]}),e.revenue.returns.returned_loyalty>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t(e.revenue.returns.returned_loyalty)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  ()"}),a.jsxs("span",{className:"text-mm-cyan",children:["+",t(e.revenue.returns.returned_commission_back)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-semibold",children:[a.jsx("span",{children:"=  "}),a.jsx("span",{children:t((k=e.revenue)==null?void 0:k.net_revenue)})]})]}),e.cogs&&e.cogs.total>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border bg-mm-gray bg-opacity-20",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-   (COGS)"}),a.jsxs("span",{className:"text-mm-red",children:["-",t(e.cogs.total)]})]}),((N=e.statistics)==null?void 0:N.cogs_coverage)&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsxs("span",{className:"text-mm-text-tertiary",children:[" : ",e.statistics.cogs_coverage.items_with_price,"  ",e.statistics.cogs_coverage.items_with_price+e.statistics.cogs_coverage.items_missing_price,"  (",e.statistics.cogs_coverage.coverage_pct,"%)"]}),a.jsx("span",{className:"text-mm-text-tertiary",children:r(e.cogs.percentage)})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-semibold text-mm-cyan",children:[a.jsx("span",{children:"=  "}),a.jsx("span",{children:t((w=e.profit)==null?void 0:w.gross_profit)})]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-   Ozon"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((P=e.expenses)==null?void 0:P.ozon_base_commission)]})]}),((_=e.expenses)==null?void 0:_.loyalty_programs)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-   ()"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((C=e.expenses)==null?void 0:C.loyalty_programs)]})]}),((O=e.expenses)==null?void 0:O.acquiring)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"- "}),a.jsxs("span",{className:"text-mm-red",children:["-",t((S=e.expenses)==null?void 0:S.acquiring)]})]}),((E=e.expenses)==null?void 0:E.rfbs_logistics)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-  rFBS"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((I=e.expenses)==null?void 0:I.rfbs_logistics)]})]}),((A=e.expenses)==null?void 0:A.fbo_fbs_services)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-  FBO/FBS"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((M=e.expenses)==null?void 0:M.fbo_fbs_services)]})]}),((B=e.expenses)==null?void 0:B.manual_expenses)>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border bg-mm-gray bg-opacity-20",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-  "}),a.jsxs("span",{className:"text-mm-red",children:["-",t((W=e.expenses)==null?void 0:W.manual_expenses)]})]}),((L=e.expenses)==null?void 0:L.manual_by_type)&&Object.keys(e.expenses.manual_by_type).length>0&&Object.entries(e.expenses.manual_by_type).map(([J,D])=>a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsxs("span",{className:"text-mm-text-tertiary",children:[" ",J]}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t(D)]})]},J))]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-bold",children:[a.jsx("span",{className:"text-mm-red",children:"=  "}),a.jsxs("span",{className:"text-mm-red",children:["-",t((R=e.expenses)==null?void 0:R.total)]})]}),(($=e.profit)==null?void 0:$.operating_profit)!==void 0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-semibold text-mm-cyan",children:[a.jsx("span",{children:"=  "}),a.jsxs("span",{children:[t((X=e.profit)==null?void 0:X.operating_profit)," (",r((T=e.profit)==null?void 0:T.operating_margin_pct),")"]})]}),e.taxes&&e.taxes.amount>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsxs("span",{className:"text-mm-text-secondary",children:["-  (",e.taxes.system==="usn_income"?" 6%":e.taxes.system==="usn_income_expense"?" 15%":e.taxes.system==="osn"?" 20%":e.taxes.system==="patent"?" 6%":e.taxes.system==="eshn"?" 6%":e.taxes.rate+"%",")"]}),a.jsxs("span",{className:"text-mm-red",children:["-",t(e.taxes.amount)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-t-2 border-mm-cyan font-bold text-lg",children:[a.jsx("span",{className:"text-mm-green",children:"=  "}),a.jsx("span",{className:"text-mm-green",children:t((Q=e.profit)==null?void 0:Q.net_profit)})]})]})]})]})}function DG({data:e,fmt:t}){return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:"  "}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"-"}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:(e.products||[]).map((r,n)=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-cyan",children:r.article}),a.jsxs("td",{className:"py-3 px-4 text-sm",children:[(r.product_name||"").substring(0,50),"..."]}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:r.quantity}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:t(r.revenue)}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm text-mm-red",children:t(r.commission)})]},n))})]})}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-mm-border font-mono",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" :"}),a.jsx("span",{children:e.total_products||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" :"}),a.jsxs("span",{children:[e.total_quantity||0," "]})]}),a.jsxs("div",{className:"flex justify-between font-bold text-mm-cyan",children:[a.jsx("span",{children:" :"}),a.jsx("span",{children:t(e.total_revenue)})]})]})]})})}function IG({data:e,fmt:t,expandedRow:r,setExpandedRow:n}){return a.jsxs("div",{className:"card-neon",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono"})]})}),a.jsx("tbody",{children:(e.transactions||[]).map(s=>{const i=s.total_to_accrue||0,o=r===s._id;return a.jsxs(te.Fragment,{children:[a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(s.operation_date).toLocaleDateString("ru-RU")}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-cyan",children:s.posting_number}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:s.article}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:t(s.realized_amount)}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm text-mm-red",children:t(s.ozon_base_commission)}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm font-bold text-mm-green",children:t(i)}),a.jsx("td",{className:"py-3 px-4 text-center",children:a.jsx("button",{onClick:()=>n(o?null:s._id),className:"text-mm-cyan hover:text-mm-text",children:o?a.jsx(Oy,{size:20}):a.jsx(Vi,{size:20})})})]}),o&&a.jsx("tr",{className:"bg-mm-gray border-b border-mm-border",children:a.jsx("td",{colSpan:"7",className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6 font-mono text-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-cyan uppercase mb-3",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:"SKU:"})," ",s.sku]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"})," ",s.product_name]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"})," ",s.quantity]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"})," ",t(s.price)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-cyan uppercase mb-3",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:":"}),a.jsx("span",{children:t(s.realized_amount)})]}),a.jsxs("div",{className:"flex justify-between text-mm-cyan",children:[a.jsx("span",{children:"+ :"}),a.jsxs("span",{children:["+",t(s.loyalty_payments)]})]}),a.jsxs("div",{className:"flex justify-between text-mm-cyan",children:[a.jsx("span",{children:"+ :"}),a.jsxs("span",{children:["+",t(s.discount_points)]})]}),a.jsxs("div",{className:"flex justify-between text-mm-red",children:[a.jsx("span",{children:"- :"}),a.jsxs("span",{children:["-",t(s.ozon_base_commission)]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-mm-green",children:[a.jsx("span",{children:":"}),a.jsx("span",{children:t(i)})]})]})]})]})})})]},s._id)})})]})}),a.jsxs("div",{className:"p-4 text-sm text-mm-text-secondary font-mono",children:[": ",e.total_count||0," "]})]})}function MG({data:e,fmt:t}){if(!e||!e.trends||e.trends.length===0)return a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-text-secondary",children:"   "})});const r=e.trends;r.reduce((o,l)=>o+l.revenue,0);const n=r.reduce((o,l)=>o+l.returns,0),i=[{name:" Ozon",value:r.reduce((o,l)=>o+l.commission,0),color:"#ff4444"},{name:"",value:n,color:"#ff8844"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:"   "}),a.jsx(ud,{width:"100%",height:300,children:a.jsxs(mG,{data:r,children:[a.jsx(xh,{strokeDasharray:"3 3",stroke:"#333"}),a.jsx(gh,{dataKey:"date",stroke:"#888",style:{fontSize:"12px",fontFamily:"monospace"}}),a.jsx(bh,{stroke:"#888",style:{fontSize:"12px",fontFamily:"monospace"},tickFormatter:o=>`${(o/1e3).toFixed(0)}k`}),a.jsx(fd,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #00ffff",borderRadius:"4px",fontFamily:"monospace",fontSize:"12px"},formatter:o=>t(o)}),a.jsx(wC,{wrapperStyle:{fontFamily:"monospace",fontSize:"12px"}}),a.jsx(hh,{type:"monotone",dataKey:"revenue",stroke:"#00ffff",strokeWidth:2,name:"",dot:{fill:"#00ffff",r:4}}),a.jsx(hh,{type:"monotone",dataKey:"profit",stroke:"#00ff88",strokeWidth:2,name:"",dot:{fill:"#00ff88",r:4}})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:" "}),a.jsx(ud,{width:"100%",height:250,children:a.jsxs(XE,{children:[a.jsx(Bv,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o}: ${(l*100).toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:i.map((o,l)=>a.jsx(no,{fill:o.color},`cell-${l}`))}),a.jsx(fd,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #00ffff",fontFamily:"monospace"},formatter:o=>t(o)})]})})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:"  "}),a.jsx(ud,{width:"100%",height:250,children:a.jsxs(pG,{data:r,children:[a.jsx(xh,{strokeDasharray:"3 3",stroke:"#333"}),a.jsx(gh,{dataKey:"date",stroke:"#888",style:{fontSize:"10px",fontFamily:"monospace"}}),a.jsx(bh,{stroke:"#888",style:{fontSize:"12px",fontFamily:"monospace"}}),a.jsx(fd,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #00ffff",fontFamily:"monospace"}}),a.jsx(bE,{dataKey:"transactions",fill:"#00ffff",name:""})]})})]})]})]})}function LG(){const{api:e}=we(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState(!1),[l,d]=f.useState(null),[c,u]=f.useState(""),[m,p]=f.useState({}),[x,y]=f.useState({total:0,with_price:0}),g=async()=>{s(!0);try{const N=await e.get("/api/ozon-reports/products-with-prices");r(N.data.products),y({total:N.data.total,with_price:N.data.with_price})}catch{G.error("  ")}s(!1)};f.useEffect(()=>{g()},[]);const v=N=>{d(N._id),u(N.purchase_price||"")},h=()=>{const N=t.find(w=>w._id===l);N&&(p({...m,[N.article]:parseFloat(c)||0}),r(t.map(w=>w._id===l?{...w,purchase_price:parseFloat(c)||0}:w))),d(null),u("")},b=async()=>{var N,w;if(Object.keys(m).length===0){G.info("   ");return}o(!0);try{const P=await e.post("/api/ozon-reports/update-purchase-prices",m);G.success(` ${P.data.updated} `),p({}),await g()}catch(P){G.error(" : "+(((w=(N=P.response)==null?void 0:N.data)==null?void 0:w.detail)||P.message))}o(!1)},j=()=>{const N=["article,purchase_price"];t.forEach(C=>{N.push(`${C.article},${C.purchase_price||0}`)});const w=new Blob([N.join(`
`)],{type:"text/csv"}),P=window.URL.createObjectURL(w),_=document.createElement("a");_.href=P,_.setAttribute("download","purchase_prices.csv"),document.body.appendChild(_),_.click(),_.remove(),G.success(" ")},k=N=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(N||0);return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:" "}),a.jsx("p",{className:"comment",children:"//    (COGS)"})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"border border-mm-border rounded p-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-1",children:" "}),a.jsx("div",{className:"text-2xl font-mono text-mm-cyan",children:x.total})]}),a.jsxs("div",{className:"border border-mm-border rounded p-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-1",children:" "}),a.jsx("div",{className:"text-2xl font-mono text-mm-green",children:x.with_price})]}),a.jsxs("div",{className:"border border-mm-border rounded p-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-1",children:""}),a.jsxs("div",{className:"text-2xl font-mono text-mm-text",children:[x.total>0?(x.with_price/x.total*100).toFixed(1):0,"%"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:b,disabled:i||Object.keys(m).length===0,className:"btn-primary",children:[a.jsx(_i,{className:"inline mr-2"}),i?"...":` (${Object.keys(m).length})`]}),a.jsxs("button",{onClick:j,className:"btn-secondary",children:[a.jsx(Vt,{className:"inline mr-2"})," CSV"]}),a.jsxs("label",{className:"btn-secondary cursor-pointer",children:[a.jsx(ir,{className:"inline mr-2"}),"",a.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:async N=>{const w=N.target.files[0];if(!w)return;const P=new FormData;P.append("file",w);try{const _=await e.post("/api/ozon-reports/import-purchase-prices",P,{headers:{"Content-Type":"multipart/form-data"}});G.success(` ${_.data.updated} `),await g()}catch{G.error(" ")}N.target.value=""}})]})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// ..."})}):a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" %"}),a.jsx("th",{className:"text-center py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:t.map((N,w)=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray hover:bg-opacity-10",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:N.article}),a.jsx("td",{className:"py-3 px-4 text-sm",children:N.name}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:N.price>0?k(N.price):"-"}),a.jsx("td",{className:"py-3 px-4 text-right",children:l===N._id?a.jsx("input",{type:"number",value:c,onChange:P=>u(P.target.value),onKeyDown:P=>{P.key==="Enter"&&h(),P.key==="Escape"&&(d(null),u(""))},className:"w-32 px-2 py-1 bg-mm-black border border-mm-cyan rounded font-mono text-sm text-right",autoFocus:!0}):a.jsx("span",{className:`font-mono text-sm ${N.purchase_price>0?"text-mm-cyan":"text-mm-text-tertiary"}`,children:N.purchase_price>0?k(N.purchase_price):" "})}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:N.margin_pct>0?a.jsxs("span",{className:N.margin_pct>30?"text-mm-green":N.margin_pct>15?"text-mm-cyan":"text-mm-red",children:[N.margin_pct.toFixed(1),"%"]}):a.jsx("span",{className:"text-mm-text-tertiary",children:"-"})}),a.jsx("td",{className:"py-3 px-4 text-center",children:l===N._id?a.jsx("button",{onClick:h,className:"text-mm-green hover:text-mm-cyan",children:a.jsx(Kt,{size:18})}):a.jsx("button",{onClick:()=>v(N),className:"text-mm-text-secondary hover:text-mm-cyan",children:a.jsx(Ay,{size:16})})})]},N._id))})]})}),t.length===0&&a.jsx("div",{className:"text-center py-12 text-mm-text-secondary",children:"   "})]})]})}const xp=({title:e,icon:t,items:r,isActive:n})=>{const[s,i]=te.useState(!1),o=te.useRef(null),l=Jr();te.useEffect(()=>{const c=u=>{o.current&&!o.current.contains(u.target)&&i(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const d=c=>{i(!1),l(c)};return a.jsxs("div",{className:"relative",ref:o,children:[a.jsxs("button",{onClick:()=>i(!s),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${n?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(t,{className:"inline"}),e,a.jsx(Vi,{className:`ml-1 transition-transform ${s?"rotate-180":""}`})]}),s&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-mm-darker rounded-lg shadow-2xl border border-mm-border py-2 min-w-[220px]",style:{zIndex:9999},children:r.map((c,u)=>a.jsxs("button",{onClick:()=>d(c.path),className:"w-full text-left px-4 py-3 hover:bg-mm-gray flex items-center gap-3 text-sm text-mm-text hover:text-mm-cyan transition-colors font-medium",children:[c.icon&&a.jsx(c.icon,{className:"w-4 h-4"}),c.label]},u))})]})},$G=({children:e})=>{const{user:t,logout:r}=we(),n=Jr(),s=Ja(),i=s.pathname.startsWith("/warehouses")||s.pathname.startsWith("/suppliers")||s.pathname.startsWith("/income-orders")||s.pathname.startsWith("/stock"),o=s.pathname.startsWith("/catalog")||s.pathname.startsWith("/products"),l=s.pathname.startsWith("/orders"),d=[{label:"",path:"/warehouses",icon:Pi},{label:"",path:"/suppliers",icon:Ci},{label:"  ",path:"/income-orders",icon:Vt},{label:"",path:"/stock",icon:yx},{label:"",path:"/stock/sync",icon:Jk}],c=[{label:"",path:"/catalog/products",icon:r_},{label:"",path:"/catalog/categories",icon:i_},{label:"",path:"/catalog/pricing",icon:Jn},{label:"",path:"/catalog/matching",icon:zo},{label:" ",path:"/catalog/import",icon:ir}],u=[{label:"FBS (  )",path:"/orders/fbs",icon:vt},{label:"FBO (  )",path:"/orders/fbo",icon:yx},{label:" ",path:"/orders/retail",icon:Ud}];return a.jsxs("div",{className:"min-h-screen bg-mm-black",children:[a.jsx("header",{className:"border-b border-mm-border bg-mm-darker",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h1",{className:"text-2xl font-bold cursor-pointer",onClick:()=>n("/"),children:["MINIMAL",a.jsx("span",{className:"text-mm-purple",children:"MOD"})," ",a.jsx("span",{className:"status-new",children:"SELLER"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-mm-text-secondary",children:t==null?void 0:t.email}),a.jsx(l_,{}),a.jsx("button",{onClick:r,className:"btn-primary",children:"LOGOUT"})]})]})})}),a.jsx("nav",{className:"border-b border-mm-border bg-mm-dark relative",style:{zIndex:100},children:a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsxs("div",{className:"flex space-x-6 h-12",children:[a.jsxs("button",{onClick:()=>n("/integrations"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/integrations"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(n_,{className:"inline"}),""]}),a.jsx(xp,{title:"",icon:Pi,items:d,isActive:i}),a.jsx(xp,{title:"",icon:vt,items:c,isActive:o}),a.jsx(xp,{title:"",icon:Ud,items:u,isActive:l}),a.jsxs("button",{onClick:()=>n("/finance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/finance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(Dy,{className:"inline"}),""]}),a.jsxs("button",{onClick:()=>n("/analytics-reports"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/analytics-reports"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(Wa,{className:"inline"}),""]}),a.jsxs("button",{onClick:()=>n("/balance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/balance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(Jn,{className:"inline"}),""]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:e})]})};function Me({children:e,requiredRole:t}){const{user:r,loading:n}=we();return n?a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):r?t&&r.role!==t?a.jsx(Ro,{to:"/"}):e:a.jsx(Ro,{to:"/login"})}function Re({children:e}){return a.jsx($G,{children:e})}function RG(){const{user:e}=we();return a.jsxs(jT,{children:[a.jsx(Ae,{path:"/login",element:e?a.jsx(Ro,{to:"/"}):a.jsx(RI,{})}),a.jsx(Ae,{path:"/",element:a.jsx(Me,{children:(e==null?void 0:e.role)==="admin"?a.jsx(sM,{}):a.jsx(Ro,{to:"/catalog/products"})})}),a.jsx(Ae,{path:"/integrations",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(c_,{})})})}),a.jsx(Ae,{path:"/warehouses",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(m_,{})})})}),a.jsx(Ae,{path:"/warehouses/:id",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(mM,{})})})}),a.jsx(Ae,{path:"/suppliers",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(p_,{})})})}),a.jsx(Ae,{path:"/income-orders",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(x_,{})})})}),a.jsx(Ae,{path:"/income-orders/new",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(K0,{})})})}),a.jsx(Ae,{path:"/income-orders/:id/edit",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(K0,{})})})}),a.jsx(Ae,{path:"/stock",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(f_,{})})})}),a.jsx(Ae,{path:"/stock/sync",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(h_,{})})})}),a.jsx(Ae,{path:"/catalog/products",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(y_,{})})})}),a.jsx(Ae,{path:"/catalog/products/new",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(W0,{})})})}),a.jsx(Ae,{path:"/catalog/products/:id/edit",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(W0,{})})})}),a.jsx(Ae,{path:"/catalog/categories",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(fM,{})})})}),a.jsx(Ae,{path:"/catalog/pricing",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(jM,{})})})}),a.jsx(Ae,{path:"/catalog/matching",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(vM,{})})})}),a.jsx(Ae,{path:"/catalog/import",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(gM,{})})})}),a.jsx(Ae,{path:"/orders",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(Cc,{})})})}),a.jsx(Ae,{path:"/orders/fbs",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(Cc,{section:"fbs"})})})}),a.jsx(Ae,{path:"/orders/fbo",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(Cc,{section:"fbo"})})})}),a.jsx(Ae,{path:"/orders/retail",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(Cc,{section:"retail"})})})}),a.jsx(Ae,{path:"/finance",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(d_,{})})})}),a.jsx(Ae,{path:"/balance",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(u_,{})})})}),a.jsx(Ae,{path:"/profit-report",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(MM,{})})})}),a.jsx(Ae,{path:"/transactions",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(RM,{})})})}),a.jsx(Ae,{path:"/analytics-reports",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(AG,{})})})}),a.jsx(Ae,{path:"/purchase-prices",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(LG,{})})})}),a.jsx(Ae,{path:"/products/:id/edit",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(oM,{})})})}),a.jsx(Ae,{path:"/products-new",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(cM,{})})})}),a.jsx(Ae,{path:"/stock-balances",element:a.jsx(Me,{children:a.jsx(Re,{children:a.jsx(uM,{})})})}),a.jsx(Ae,{path:"/admin/categories",element:a.jsx(Me,{requiredRole:"admin",children:a.jsx(iM,{})})}),a.jsx(Ae,{path:"/admin/internal-categories",element:a.jsx(Me,{requiredRole:"admin",children:a.jsx(wM,{})})}),a.jsx(Ae,{path:"*",element:a.jsx(Ro,{to:"/catalog/products"})})]})}function zG(){return a.jsx(PT,{children:a.jsx(LI,{children:a.jsxs(MI,{children:[a.jsx(aD,{position:"top-right",theme:"dark",toastOptions:{style:{background:"#0a0e27",border:"1px solid #00f0ff",color:"#e0e7ff"}}}),a.jsx(RG,{})]})})})}hp.createRoot(document.getElementById("root")).render(a.jsx(te.StrictMode,{children:a.jsx(zG,{})}));
