var eO=Object.defineProperty;var tO=(e,t,r)=>t in e?eO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var lf=(e,t,r)=>tO(e,typeof t!="symbol"?t+"":t,r);function rO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function An(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r1={exports:{}},Tu={},n1={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gl=Symbol.for("react.element"),nO=Symbol.for("react.portal"),aO=Symbol.for("react.fragment"),sO=Symbol.for("react.strict_mode"),iO=Symbol.for("react.profiler"),oO=Symbol.for("react.provider"),lO=Symbol.for("react.context"),cO=Symbol.for("react.forward_ref"),dO=Symbol.for("react.suspense"),uO=Symbol.for("react.memo"),mO=Symbol.for("react.lazy"),Jv=Symbol.iterator;function fO(e){return e===null||typeof e!="object"?null:(e=Jv&&e[Jv]||e["@@iterator"],typeof e=="function"?e:null)}var a1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s1=Object.assign,i1={};function Mi(e,t,r){this.props=e,this.context=t,this.refs=i1,this.updater=r||a1}Mi.prototype.isReactComponent={};Mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function o1(){}o1.prototype=Mi.prototype;function Nh(e,t,r){this.props=e,this.context=t,this.refs=i1,this.updater=r||a1}var kh=Nh.prototype=new o1;kh.constructor=Nh;s1(kh,Mi.prototype);kh.isPureReactComponent=!0;var eb=Array.isArray,l1=Object.prototype.hasOwnProperty,_h={current:null},c1={key:!0,ref:!0,__self:!0,__source:!0};function d1(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)l1.call(t,n)&&!c1.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];s.children=d}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:gl,type:e,key:i,ref:o,props:s,_owner:_h.current}}function pO(e,t){return{$$typeof:gl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sh(e){return typeof e=="object"&&e!==null&&e.$$typeof===gl}function xO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var tb=/\/+/g;function cf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xO(""+e.key):t.toString(36)}function Kc(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case gl:case nO:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+cf(o,0):n,eb(s)?(r="",e!=null&&(r=e.replace(tb,"$&/")+"/"),Kc(s,t,r,"",function(c){return c})):s!=null&&(Sh(s)&&(s=pO(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(tb,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",eb(e))for(var l=0;l<e.length;l++){i=e[l];var d=n+cf(i,l);o+=Kc(i,t,r,d,s)}else if(d=fO(e),typeof d=="function")for(e=d.call(e),l=0;!(i=e.next()).done;)i=i.value,d=n+cf(i,l++),o+=Kc(i,t,r,d,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function sc(e,t,r){if(e==null)return e;var n=[],s=0;return Kc(e,n,"","",function(i){return t.call(r,i,s++)}),n}function hO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var or={current:null},Hc={transition:null},yO={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:Hc,ReactCurrentOwner:_h};function u1(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:sc,forEach:function(e,t,r){sc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return sc(e,function(){t++}),t},toArray:function(e){return sc(e,function(t){return t})||[]},only:function(e){if(!Sh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pe.Component=Mi;Pe.Fragment=aO;Pe.Profiler=iO;Pe.PureComponent=Nh;Pe.StrictMode=sO;Pe.Suspense=dO;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yO;Pe.act=u1;Pe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=s1({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=_h.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)l1.call(t,d)&&!c1.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){l=Array(d);for(var c=0;c<d;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:gl,type:e.type,key:s,ref:i,props:n,_owner:o}};Pe.createContext=function(e){return e={$$typeof:lO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oO,_context:e},e.Consumer=e};Pe.createElement=d1;Pe.createFactory=function(e){var t=d1.bind(null,e);return t.type=e,t};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(e){return{$$typeof:cO,render:e}};Pe.isValidElement=Sh;Pe.lazy=function(e){return{$$typeof:mO,_payload:{_status:-1,_result:e},_init:hO}};Pe.memo=function(e,t){return{$$typeof:uO,type:e,compare:t===void 0?null:t}};Pe.startTransition=function(e){var t=Hc.transition;Hc.transition={};try{e()}finally{Hc.transition=t}};Pe.unstable_act=u1;Pe.useCallback=function(e,t){return or.current.useCallback(e,t)};Pe.useContext=function(e){return or.current.useContext(e)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(e){return or.current.useDeferredValue(e)};Pe.useEffect=function(e,t){return or.current.useEffect(e,t)};Pe.useId=function(){return or.current.useId()};Pe.useImperativeHandle=function(e,t,r){return or.current.useImperativeHandle(e,t,r)};Pe.useInsertionEffect=function(e,t){return or.current.useInsertionEffect(e,t)};Pe.useLayoutEffect=function(e,t){return or.current.useLayoutEffect(e,t)};Pe.useMemo=function(e,t){return or.current.useMemo(e,t)};Pe.useReducer=function(e,t,r){return or.current.useReducer(e,t,r)};Pe.useRef=function(e){return or.current.useRef(e)};Pe.useState=function(e){return or.current.useState(e)};Pe.useSyncExternalStore=function(e,t,r){return or.current.useSyncExternalStore(e,t,r)};Pe.useTransition=function(){return or.current.useTransition()};Pe.version="18.3.1";n1.exports=Pe;var f=n1.exports;const te=An(f),m1=rO({__proto__:null,default:te},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gO=f,vO=Symbol.for("react.element"),bO=Symbol.for("react.fragment"),jO=Object.prototype.hasOwnProperty,wO=gO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NO={key:!0,ref:!0,__self:!0,__source:!0};function f1(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)jO.call(t,n)&&!NO.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:vO,type:e,key:i,ref:o,props:s,_owner:wO.current}}Tu.Fragment=bO;Tu.jsx=f1;Tu.jsxs=f1;r1.exports=Tu;var a=r1.exports,pp={},p1={exports:{}},Ir={},x1={exports:{}},h1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,R){var $=L.length;L.push(R);e:for(;0<$;){var X=$-1>>>1,T=L[X];if(0<s(T,R))L[X]=R,L[$]=T,$=X;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var R=L[0],$=L.pop();if($!==R){L[0]=$;e:for(var X=0,T=L.length,Q=T>>>1;X<Q;){var ee=2*(X+1)-1,D=L[ee],q=ee+1,ie=L[q];if(0>s(D,$))q<T&&0>s(ie,D)?(L[X]=ie,L[q]=$,X=q):(L[X]=D,L[ee]=$,X=ee);else if(q<T&&0>s(ie,$))L[X]=ie,L[q]=$,X=q;else break e}}return R}function s(L,R){var $=L.sortIndex-R.sortIndex;return $!==0?$:L.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],c=[],u=1,m=null,p=3,x=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(L){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=L)n(c),R.sortIndex=R.expirationTime,t(d,R);else break;R=r(c)}}function k(L){if(g=!1,j(L),!y)if(r(d)!==null)y=!0,U(N);else{var R=r(c);R!==null&&W(k,R.startTime-L)}}function N(L,R){y=!1,g&&(g=!1,h(_),_=-1),x=!0;var $=p;try{for(j(R),m=r(d);m!==null&&(!(m.expirationTime>R)||L&&!S());){var X=m.callback;if(typeof X=="function"){m.callback=null,p=m.priorityLevel;var T=X(m.expirationTime<=R);R=e.unstable_now(),typeof T=="function"?m.callback=T:m===r(d)&&n(d),j(R)}else n(d);m=r(d)}if(m!==null)var Q=!0;else{var ee=r(c);ee!==null&&W(k,ee.startTime-R),Q=!1}return Q}finally{m=null,p=$,x=!1}}var w=!1,P=null,_=-1,C=5,O=-1;function S(){return!(e.unstable_now()-O<C)}function E(){if(P!==null){var L=e.unstable_now();O=L;var R=!0;try{R=P(!0,L)}finally{R?I():(w=!1,P=null)}}else w=!1}var I;if(typeof b=="function")I=function(){b(E)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,M=A.port2;A.port1.onmessage=E,I=function(){M.postMessage(null)}}else I=function(){v(E,0)};function U(L){P=L,w||(w=!0,I())}function W(L,R){_=v(function(){L(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){y||x||(y=!0,U(N))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var $=p;p=R;try{return L()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,R){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=p;p=L;try{return R()}finally{p=$}},e.unstable_scheduleCallback=function(L,R,$){var X=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,L){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=$+T,L={id:u++,callback:R,priorityLevel:L,startTime:$,expirationTime:T,sortIndex:-1},$>X?(L.sortIndex=$,t(c,L),r(d)===null&&L===r(c)&&(g?(h(_),_=-1):g=!0,W(k,$-X))):(L.sortIndex=T,t(d,L),y||x||(y=!0,U(N))),L},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(L){var R=p;return function(){var $=p;p=R;try{return L.apply(this,arguments)}finally{p=$}}}})(h1);x1.exports=h1;var kO=x1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O=f,Or=kO;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y1=new Set,Ro={};function Is(e,t){pi(e,t),pi(e+"Capture",t)}function pi(e,t){for(Ro[e]=t,e=0;e<t.length;e++)y1.add(t[e])}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xp=Object.prototype.hasOwnProperty,SO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rb={},nb={};function CO(e){return xp.call(nb,e)?!0:xp.call(rb,e)?!1:SO.test(e)?nb[e]=!0:(rb[e]=!0,!1)}function PO(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function EO(e,t,r,n){if(t===null||typeof t>"u"||PO(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ut[e]=new lr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ut[t]=new lr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ut[e]=new lr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ut[e]=new lr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ut[e]=new lr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ut[e]=new lr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ut[e]=new lr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ut[e]=new lr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ut[e]=new lr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ch=/[\-:]([a-z])/g;function Ph(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ch,Ph);Ut[t]=new lr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ch,Ph);Ut[t]=new lr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ch,Ph);Ut[t]=new lr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ut[e]=new lr(e,1,!1,e.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ut[e]=new lr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Eh(e,t,r,n){var s=Ut.hasOwnProperty(t)?Ut[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(EO(t,r,s,n)&&(r=null),n||s===null?CO(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var sa=_O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ic=Symbol.for("react.element"),Vs=Symbol.for("react.portal"),qs=Symbol.for("react.fragment"),Oh=Symbol.for("react.strict_mode"),hp=Symbol.for("react.profiler"),g1=Symbol.for("react.provider"),v1=Symbol.for("react.context"),Ah=Symbol.for("react.forward_ref"),yp=Symbol.for("react.suspense"),gp=Symbol.for("react.suspense_list"),Th=Symbol.for("react.memo"),ha=Symbol.for("react.lazy"),b1=Symbol.for("react.offscreen"),ab=Symbol.iterator;function to(e){return e===null||typeof e!="object"?null:(e=ab&&e[ab]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,df;function vo(e){if(df===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);df=t&&t[1]||""}return`
`+df+e}var uf=!1;function mf(e,t){if(!e||uf)return"";uf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var d=`
`+s[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=l);break}}}finally{uf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?vo(e):""}function OO(e){switch(e.tag){case 5:return vo(e.type);case 16:return vo("Lazy");case 13:return vo("Suspense");case 19:return vo("SuspenseList");case 0:case 2:case 15:return e=mf(e.type,!1),e;case 11:return e=mf(e.type.render,!1),e;case 1:return e=mf(e.type,!0),e;default:return""}}function vp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qs:return"Fragment";case Vs:return"Portal";case hp:return"Profiler";case Oh:return"StrictMode";case yp:return"Suspense";case gp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case v1:return(e.displayName||"Context")+".Consumer";case g1:return(e._context.displayName||"Context")+".Provider";case Ah:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Th:return t=e.displayName||null,t!==null?t:vp(e.type)||"Memo";case ha:t=e._payload,e=e._init;try{return vp(e(t))}catch{}}return null}function AO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vp(t);case 8:return t===Oh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $a(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function j1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TO(e){var t=j1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oc(e){e._valueTracker||(e._valueTracker=TO(e))}function w1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=j1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bp(e,t){var r=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function sb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$a(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function N1(e,t){t=t.checked,t!=null&&Eh(e,"checked",t,!1)}function jp(e,t){N1(e,t);var r=$a(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wp(e,t.type,r):t.hasOwnProperty("defaultValue")&&wp(e,t.type,$a(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ib(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function wp(e,t,r){(t!=="number"||fd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bo=Array.isArray;function ii(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$a(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Np(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ob(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ne(92));if(bo(r)){if(1<r.length)throw Error(ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$a(r)}}function k1(e,t){var r=$a(t.value),n=$a(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lc,S1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lc=lc||document.createElement("div"),lc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var So={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DO=["Webkit","ms","Moz","O"];Object.keys(So).forEach(function(e){DO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),So[t]=So[e]})});function C1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||So.hasOwnProperty(e)&&So[e]?(""+t).trim():t+"px"}function P1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=C1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var IO=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _p(e,t){if(t){if(IO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function Sp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cp=null;function Dh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pp=null,oi=null,li=null;function cb(e){if(e=jl(e)){if(typeof Pp!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=$u(t),Pp(e.stateNode,e.type,t))}}function E1(e){oi?li?li.push(e):li=[e]:oi=e}function O1(){if(oi){var e=oi,t=li;if(li=oi=null,cb(e),t)for(e=0;e<t.length;e++)cb(t[e])}}function A1(e,t){return e(t)}function T1(){}var ff=!1;function D1(e,t,r){if(ff)return e(t,r);ff=!0;try{return A1(e,t,r)}finally{ff=!1,(oi!==null||li!==null)&&(T1(),O1())}}function Fo(e,t){var r=e.stateNode;if(r===null)return null;var n=$u(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,t,typeof r));return r}var Ep=!1;if(Vn)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){Ep=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{Ep=!1}function MO(e,t,r,n,s,i,o,l,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Co=!1,pd=null,xd=!1,Op=null,LO={onError:function(e){Co=!0,pd=e}};function $O(e,t,r,n,s,i,o,l,d){Co=!1,pd=null,MO.apply(LO,arguments)}function RO(e,t,r,n,s,i,o,l,d){if($O.apply(this,arguments),Co){if(Co){var c=pd;Co=!1,pd=null}else throw Error(ne(198));xd||(xd=!0,Op=c)}}function Ms(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function I1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function db(e){if(Ms(e)!==e)throw Error(ne(188))}function zO(e){var t=e.alternate;if(!t){if(t=Ms(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return db(s),e;if(i===n)return db(s),t;i=i.sibling}throw Error(ne(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:t}function M1(e){return e=zO(e),e!==null?L1(e):null}function L1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=L1(e);if(t!==null)return t;e=e.sibling}return null}var $1=Or.unstable_scheduleCallback,ub=Or.unstable_cancelCallback,FO=Or.unstable_shouldYield,BO=Or.unstable_requestPaint,lt=Or.unstable_now,UO=Or.unstable_getCurrentPriorityLevel,Ih=Or.unstable_ImmediatePriority,R1=Or.unstable_UserBlockingPriority,hd=Or.unstable_NormalPriority,WO=Or.unstable_LowPriority,z1=Or.unstable_IdlePriority,Du=null,_n=null;function KO(e){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Du,e,void 0,(e.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:qO,HO=Math.log,VO=Math.LN2;function qO(e){return e>>>=0,e===0?32:31-(HO(e)/VO|0)|0}var cc=64,dc=4194304;function jo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=jo(l):(i&=o,i!==0&&(n=jo(i)))}else o=r&~s,o!==0?n=jo(o):i!==0&&(n=jo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-cn(t),s=1<<r,n|=e[r],t&=~s;return n}function YO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GO(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-cn(i),l=1<<o,d=s[o];d===-1?(!(l&r)||l&n)&&(s[o]=YO(l,t)):d<=t&&(e.expiredLanes|=l),i&=~l}}function Ap(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function F1(){var e=cc;return cc<<=1,!(cc&4194240)&&(cc=64),e}function pf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cn(t),e[t]=r}function XO(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-cn(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Mh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-cn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Re=0;function B1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var U1,Lh,W1,K1,H1,Tp=!1,uc=[],Sa=null,Ca=null,Pa=null,Bo=new Map,Uo=new Map,ba=[],QO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mb(e,t){switch(e){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":Bo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(t.pointerId)}}function no(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=jl(t),t!==null&&Lh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ZO(e,t,r,n,s){switch(t){case"focusin":return Sa=no(Sa,e,t,r,n,s),!0;case"dragenter":return Ca=no(Ca,e,t,r,n,s),!0;case"mouseover":return Pa=no(Pa,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Bo.set(i,no(Bo.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Uo.set(i,no(Uo.get(i)||null,e,t,r,n,s)),!0}return!1}function V1(e){var t=os(e.target);if(t!==null){var r=Ms(t);if(r!==null){if(t=r.tag,t===13){if(t=I1(r),t!==null){e.blockedOn=t,H1(e.priority,function(){W1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Dp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Cp=n,r.target.dispatchEvent(n),Cp=null}else return t=jl(r),t!==null&&Lh(t),e.blockedOn=r,!1;t.shift()}return!0}function fb(e,t,r){Vc(e)&&r.delete(t)}function JO(){Tp=!1,Sa!==null&&Vc(Sa)&&(Sa=null),Ca!==null&&Vc(Ca)&&(Ca=null),Pa!==null&&Vc(Pa)&&(Pa=null),Bo.forEach(fb),Uo.forEach(fb)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,Tp||(Tp=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,JO)))}function Wo(e){function t(s){return ao(s,e)}if(0<uc.length){ao(uc[0],e);for(var r=1;r<uc.length;r++){var n=uc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Sa!==null&&ao(Sa,e),Ca!==null&&ao(Ca,e),Pa!==null&&ao(Pa,e),Bo.forEach(t),Uo.forEach(t),r=0;r<ba.length;r++)n=ba[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ba.length&&(r=ba[0],r.blockedOn===null);)V1(r),r.blockedOn===null&&ba.shift()}var ci=sa.ReactCurrentBatchConfig,gd=!0;function eA(e,t,r,n){var s=Re,i=ci.transition;ci.transition=null;try{Re=1,$h(e,t,r,n)}finally{Re=s,ci.transition=i}}function tA(e,t,r,n){var s=Re,i=ci.transition;ci.transition=null;try{Re=4,$h(e,t,r,n)}finally{Re=s,ci.transition=i}}function $h(e,t,r,n){if(gd){var s=Dp(e,t,r,n);if(s===null)kf(e,t,n,vd,r),mb(e,n);else if(ZO(s,e,t,r,n))n.stopPropagation();else if(mb(e,n),t&4&&-1<QO.indexOf(e)){for(;s!==null;){var i=jl(s);if(i!==null&&U1(i),i=Dp(e,t,r,n),i===null&&kf(e,t,n,vd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else kf(e,t,n,null,r)}}var vd=null;function Dp(e,t,r,n){if(vd=null,e=Dh(n),e=os(e),e!==null)if(t=Ms(e),t===null)e=null;else if(r=t.tag,r===13){if(e=I1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vd=e,null}function q1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UO()){case Ih:return 1;case R1:return 4;case hd:case WO:return 16;case z1:return 536870912;default:return 16}default:return 16}}var Na=null,Rh=null,qc=null;function Y1(){if(qc)return qc;var e,t=Rh,r=t.length,n,s="value"in Na?Na.value:Na.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return qc=s.slice(e,1<n?1-n:void 0)}function Yc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mc(){return!0}function pb(){return!1}function Mr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mc:pb,this.isPropagationStopped=pb,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=mc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=mc)},persist:function(){},isPersistent:mc}),t}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zh=Mr(Li),bl=rt({},Li,{view:0,detail:0}),rA=Mr(bl),xf,hf,so,Iu=rt({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==so&&(so&&e.type==="mousemove"?(xf=e.screenX-so.screenX,hf=e.screenY-so.screenY):hf=xf=0,so=e),xf)},movementY:function(e){return"movementY"in e?e.movementY:hf}}),xb=Mr(Iu),nA=rt({},Iu,{dataTransfer:0}),aA=Mr(nA),sA=rt({},bl,{relatedTarget:0}),yf=Mr(sA),iA=rt({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),oA=Mr(iA),lA=rt({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cA=Mr(lA),dA=rt({},Li,{data:0}),hb=Mr(dA),uA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fA[e])?!!t[e]:!1}function Fh(){return pA}var xA=rt({},bl,{key:function(e){if(e.key){var t=uA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fh,charCode:function(e){return e.type==="keypress"?Yc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hA=Mr(xA),yA=rt({},Iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yb=Mr(yA),gA=rt({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fh}),vA=Mr(gA),bA=rt({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),jA=Mr(bA),wA=rt({},Iu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NA=Mr(wA),kA=[9,13,27,32],Bh=Vn&&"CompositionEvent"in window,Po=null;Vn&&"documentMode"in document&&(Po=document.documentMode);var _A=Vn&&"TextEvent"in window&&!Po,G1=Vn&&(!Bh||Po&&8<Po&&11>=Po),gb=" ",vb=!1;function X1(e,t){switch(e){case"keyup":return kA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ys=!1;function SA(e,t){switch(e){case"compositionend":return Q1(t);case"keypress":return t.which!==32?null:(vb=!0,gb);case"textInput":return e=t.data,e===gb&&vb?null:e;default:return null}}function CA(e,t){if(Ys)return e==="compositionend"||!Bh&&X1(e,t)?(e=Y1(),qc=Rh=Na=null,Ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return G1&&t.locale!=="ko"?null:t.data;default:return null}}var PA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PA[e.type]:t==="textarea"}function Z1(e,t,r,n){E1(n),t=bd(t,"onChange"),0<t.length&&(r=new zh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Eo=null,Ko=null;function EA(e){c2(e,0)}function Mu(e){var t=Qs(e);if(w1(t))return e}function OA(e,t){if(e==="change")return t}var J1=!1;if(Vn){var gf;if(Vn){var vf="oninput"in document;if(!vf){var jb=document.createElement("div");jb.setAttribute("oninput","return;"),vf=typeof jb.oninput=="function"}gf=vf}else gf=!1;J1=gf&&(!document.documentMode||9<document.documentMode)}function wb(){Eo&&(Eo.detachEvent("onpropertychange",e2),Ko=Eo=null)}function e2(e){if(e.propertyName==="value"&&Mu(Ko)){var t=[];Z1(t,Ko,e,Dh(e)),D1(EA,t)}}function AA(e,t,r){e==="focusin"?(wb(),Eo=t,Ko=r,Eo.attachEvent("onpropertychange",e2)):e==="focusout"&&wb()}function TA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mu(Ko)}function DA(e,t){if(e==="click")return Mu(t)}function IA(e,t){if(e==="input"||e==="change")return Mu(t)}function MA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:MA;function Ho(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!xp.call(t,s)||!mn(e[s],t[s]))return!1}return!0}function Nb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kb(e,t){var r=Nb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nb(r)}}function t2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?t2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function r2(){for(var e=window,t=fd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fd(e.document)}return t}function Uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function LA(e){var t=r2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&t2(r.ownerDocument.documentElement,r)){if(n!==null&&Uh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=kb(r,i);var o=kb(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $A=Vn&&"documentMode"in document&&11>=document.documentMode,Gs=null,Ip=null,Oo=null,Mp=!1;function _b(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mp||Gs==null||Gs!==fd(n)||(n=Gs,"selectionStart"in n&&Uh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Oo&&Ho(Oo,n)||(Oo=n,n=bd(Ip,"onSelect"),0<n.length&&(t=new zh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Gs)))}function fc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xs={animationend:fc("Animation","AnimationEnd"),animationiteration:fc("Animation","AnimationIteration"),animationstart:fc("Animation","AnimationStart"),transitionend:fc("Transition","TransitionEnd")},bf={},n2={};Vn&&(n2=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function Lu(e){if(bf[e])return bf[e];if(!Xs[e])return e;var t=Xs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in n2)return bf[e]=t[r];return e}var a2=Lu("animationend"),s2=Lu("animationiteration"),i2=Lu("animationstart"),o2=Lu("transitionend"),l2=new Map,Sb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Va(e,t){l2.set(e,t),Is(t,[e])}for(var jf=0;jf<Sb.length;jf++){var wf=Sb[jf],RA=wf.toLowerCase(),zA=wf[0].toUpperCase()+wf.slice(1);Va(RA,"on"+zA)}Va(a2,"onAnimationEnd");Va(s2,"onAnimationIteration");Va(i2,"onAnimationStart");Va("dblclick","onDoubleClick");Va("focusin","onFocus");Va("focusout","onBlur");Va(o2,"onTransitionEnd");pi("onMouseEnter",["mouseout","mouseover"]);pi("onMouseLeave",["mouseout","mouseover"]);pi("onPointerEnter",["pointerout","pointerover"]);pi("onPointerLeave",["pointerout","pointerover"]);Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Is("onBeforeInput",["compositionend","keypress","textInput","paste"]);Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FA=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function Cb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,RO(n,t,void 0,e),e.currentTarget=null}function c2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],d=l.instance,c=l.currentTarget;if(l=l.listener,d!==i&&s.isPropagationStopped())break e;Cb(s,l,c),i=d}else for(o=0;o<n.length;o++){if(l=n[o],d=l.instance,c=l.currentTarget,l=l.listener,d!==i&&s.isPropagationStopped())break e;Cb(s,l,c),i=d}}}if(xd)throw e=Op,xd=!1,Op=null,e}function He(e,t){var r=t[Fp];r===void 0&&(r=t[Fp]=new Set);var n=e+"__bubble";r.has(n)||(d2(t,e,2,!1),r.add(n))}function Nf(e,t,r){var n=0;t&&(n|=4),d2(r,e,n,t)}var pc="_reactListening"+Math.random().toString(36).slice(2);function Vo(e){if(!e[pc]){e[pc]=!0,y1.forEach(function(r){r!=="selectionchange"&&(FA.has(r)||Nf(r,!1,e),Nf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pc]||(t[pc]=!0,Nf("selectionchange",!1,t))}}function d2(e,t,r,n){switch(q1(t)){case 1:var s=eA;break;case 4:s=tA;break;default:s=$h}r=s.bind(null,t,r,e),s=void 0,!Ep||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function kf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;o=o.return}for(;l!==null;){if(o=os(l),o===null)return;if(d=o.tag,d===5||d===6){n=i=o;continue e}l=l.parentNode}}n=n.return}D1(function(){var c=i,u=Dh(r),m=[];e:{var p=l2.get(e);if(p!==void 0){var x=zh,y=e;switch(e){case"keypress":if(Yc(r)===0)break e;case"keydown":case"keyup":x=hA;break;case"focusin":y="focus",x=yf;break;case"focusout":y="blur",x=yf;break;case"beforeblur":case"afterblur":x=yf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=xb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=aA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=vA;break;case a2:case s2:case i2:x=oA;break;case o2:x=jA;break;case"scroll":x=rA;break;case"wheel":x=NA;break;case"copy":case"cut":case"paste":x=cA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=yb}var g=(t&4)!==0,v=!g&&e==="scroll",h=g?p!==null?p+"Capture":null:p;g=[];for(var b=c,j;b!==null;){j=b;var k=j.stateNode;if(j.tag===5&&k!==null&&(j=k,h!==null&&(k=Fo(b,h),k!=null&&g.push(qo(b,k,j)))),v)break;b=b.return}0<g.length&&(p=new x(p,y,null,r,u),m.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&r!==Cp&&(y=r.relatedTarget||r.fromElement)&&(os(y)||y[qn]))break e;if((x||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,x?(y=r.relatedTarget||r.toElement,x=c,y=y?os(y):null,y!==null&&(v=Ms(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=c),x!==y)){if(g=xb,k="onMouseLeave",h="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=yb,k="onPointerLeave",h="onPointerEnter",b="pointer"),v=x==null?p:Qs(x),j=y==null?p:Qs(y),p=new g(k,b+"leave",x,r,u),p.target=v,p.relatedTarget=j,k=null,os(u)===c&&(g=new g(h,b+"enter",y,r,u),g.target=j,g.relatedTarget=v,k=g),v=k,x&&y)t:{for(g=x,h=y,b=0,j=g;j;j=Fs(j))b++;for(j=0,k=h;k;k=Fs(k))j++;for(;0<b-j;)g=Fs(g),b--;for(;0<j-b;)h=Fs(h),j--;for(;b--;){if(g===h||h!==null&&g===h.alternate)break t;g=Fs(g),h=Fs(h)}g=null}else g=null;x!==null&&Pb(m,p,x,g,!1),y!==null&&v!==null&&Pb(m,v,y,g,!0)}}e:{if(p=c?Qs(c):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var N=OA;else if(bb(p))if(J1)N=IA;else{N=TA;var w=AA}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=DA);if(N&&(N=N(e,c))){Z1(m,N,r,u);break e}w&&w(e,p,c),e==="focusout"&&(w=p._wrapperState)&&w.controlled&&p.type==="number"&&wp(p,"number",p.value)}switch(w=c?Qs(c):window,e){case"focusin":(bb(w)||w.contentEditable==="true")&&(Gs=w,Ip=c,Oo=null);break;case"focusout":Oo=Ip=Gs=null;break;case"mousedown":Mp=!0;break;case"contextmenu":case"mouseup":case"dragend":Mp=!1,_b(m,r,u);break;case"selectionchange":if($A)break;case"keydown":case"keyup":_b(m,r,u)}var P;if(Bh)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ys?X1(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(G1&&r.locale!=="ko"&&(Ys||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ys&&(P=Y1()):(Na=u,Rh="value"in Na?Na.value:Na.textContent,Ys=!0)),w=bd(c,_),0<w.length&&(_=new hb(_,e,null,r,u),m.push({event:_,listeners:w}),P?_.data=P:(P=Q1(r),P!==null&&(_.data=P)))),(P=_A?SA(e,r):CA(e,r))&&(c=bd(c,"onBeforeInput"),0<c.length&&(u=new hb("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:c}),u.data=P))}c2(m,t)})}function qo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function bd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fo(e,r),i!=null&&n.unshift(qo(e,i,s)),i=Fo(e,t),i!=null&&n.push(qo(e,i,s))),e=e.return}return n}function Fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pb(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,d=l.alternate,c=l.stateNode;if(d!==null&&d===n)break;l.tag===5&&c!==null&&(l=c,s?(d=Fo(r,i),d!=null&&o.unshift(qo(r,d,l))):s||(d=Fo(r,i),d!=null&&o.push(qo(r,d,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var BA=/\r\n?/g,UA=/\u0000|\uFFFD/g;function Eb(e){return(typeof e=="string"?e:""+e).replace(BA,`
`).replace(UA,"")}function xc(e,t,r){if(t=Eb(t),Eb(e)!==t&&r)throw Error(ne(425))}function jd(){}var Lp=null,$p=null;function Rp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zp=typeof setTimeout=="function"?setTimeout:void 0,WA=typeof clearTimeout=="function"?clearTimeout:void 0,Ob=typeof Promise=="function"?Promise:void 0,KA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ob<"u"?function(e){return Ob.resolve(null).then(e).catch(HA)}:zp;function HA(e){setTimeout(function(){throw e})}function _f(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Wo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Wo(t)}function Ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ab(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $i=Math.random().toString(36).slice(2),Nn="__reactFiber$"+$i,Yo="__reactProps$"+$i,qn="__reactContainer$"+$i,Fp="__reactEvents$"+$i,VA="__reactListeners$"+$i,qA="__reactHandles$"+$i;function os(e){var t=e[Nn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qn]||r[Nn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ab(e);e!==null;){if(r=e[Nn])return r;e=Ab(e)}return t}e=r,r=e.parentNode}return null}function jl(e){return e=e[Nn]||e[qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function $u(e){return e[Yo]||null}var Bp=[],Zs=-1;function qa(e){return{current:e}}function qe(e){0>Zs||(e.current=Bp[Zs],Bp[Zs]=null,Zs--)}function We(e,t){Zs++,Bp[Zs]=e.current,e.current=t}var Ra={},Zt=qa(Ra),pr=qa(!1),js=Ra;function xi(e,t){var r=e.type.contextTypes;if(!r)return Ra;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xr(e){return e=e.childContextTypes,e!=null}function wd(){qe(pr),qe(Zt)}function Tb(e,t,r){if(Zt.current!==Ra)throw Error(ne(168));We(Zt,t),We(pr,r)}function u2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ne(108,AO(e)||"Unknown",s));return rt({},r,n)}function Nd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ra,js=Zt.current,We(Zt,e),We(pr,pr.current),!0}function Db(e,t,r){var n=e.stateNode;if(!n)throw Error(ne(169));r?(e=u2(e,t,js),n.__reactInternalMemoizedMergedChildContext=e,qe(pr),qe(Zt),We(Zt,e)):qe(pr),We(pr,r)}var In=null,Ru=!1,Sf=!1;function m2(e){In===null?In=[e]:In.push(e)}function YA(e){Ru=!0,m2(e)}function Ya(){if(!Sf&&In!==null){Sf=!0;var e=0,t=Re;try{var r=In;for(Re=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}In=null,Ru=!1}catch(s){throw In!==null&&(In=In.slice(e+1)),$1(Ih,Ya),s}finally{Re=t,Sf=!1}}return null}var Js=[],ei=0,kd=null,_d=0,Br=[],Ur=0,ws=null,Rn=1,zn="";function rs(e,t){Js[ei++]=_d,Js[ei++]=kd,kd=e,_d=t}function f2(e,t,r){Br[Ur++]=Rn,Br[Ur++]=zn,Br[Ur++]=ws,ws=e;var n=Rn;e=zn;var s=32-cn(n)-1;n&=~(1<<s),r+=1;var i=32-cn(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Rn=1<<32-cn(t)+s|r<<s|n,zn=i+e}else Rn=1<<i|r<<s|n,zn=e}function Wh(e){e.return!==null&&(rs(e,1),f2(e,1,0))}function Kh(e){for(;e===kd;)kd=Js[--ei],Js[ei]=null,_d=Js[--ei],Js[ei]=null;for(;e===ws;)ws=Br[--Ur],Br[Ur]=null,zn=Br[--Ur],Br[Ur]=null,Rn=Br[--Ur],Br[Ur]=null}var Pr=null,Sr=null,Xe=!1,an=null;function p2(e,t){var r=Wr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ib(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pr=e,Sr=Ea(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pr=e,Sr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ws!==null?{id:Rn,overflow:zn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Wr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Pr=e,Sr=null,!0):!1;default:return!1}}function Up(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wp(e){if(Xe){var t=Sr;if(t){var r=t;if(!Ib(e,t)){if(Up(e))throw Error(ne(418));t=Ea(r.nextSibling);var n=Pr;t&&Ib(e,t)?p2(n,r):(e.flags=e.flags&-4097|2,Xe=!1,Pr=e)}}else{if(Up(e))throw Error(ne(418));e.flags=e.flags&-4097|2,Xe=!1,Pr=e}}}function Mb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pr=e}function hc(e){if(e!==Pr)return!1;if(!Xe)return Mb(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rp(e.type,e.memoizedProps)),t&&(t=Sr)){if(Up(e))throw x2(),Error(ne(418));for(;t;)p2(e,t),t=Ea(t.nextSibling)}if(Mb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Sr=Ea(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Sr=null}}else Sr=Pr?Ea(e.stateNode.nextSibling):null;return!0}function x2(){for(var e=Sr;e;)e=Ea(e.nextSibling)}function hi(){Sr=Pr=null,Xe=!1}function Hh(e){an===null?an=[e]:an.push(e)}var GA=sa.ReactCurrentBatchConfig;function io(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function yc(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lb(e){var t=e._init;return t(e._payload)}function h2(e){function t(h,b){if(e){var j=h.deletions;j===null?(h.deletions=[b],h.flags|=16):j.push(b)}}function r(h,b){if(!e)return null;for(;b!==null;)t(h,b),b=b.sibling;return null}function n(h,b){for(h=new Map;b!==null;)b.key!==null?h.set(b.key,b):h.set(b.index,b),b=b.sibling;return h}function s(h,b){return h=Da(h,b),h.index=0,h.sibling=null,h}function i(h,b,j){return h.index=j,e?(j=h.alternate,j!==null?(j=j.index,j<b?(h.flags|=2,b):j):(h.flags|=2,b)):(h.flags|=1048576,b)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,b,j,k){return b===null||b.tag!==6?(b=Df(j,h.mode,k),b.return=h,b):(b=s(b,j),b.return=h,b)}function d(h,b,j,k){var N=j.type;return N===qs?u(h,b,j.props.children,k,j.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ha&&Lb(N)===b.type)?(k=s(b,j.props),k.ref=io(h,b,j),k.return=h,k):(k=td(j.type,j.key,j.props,null,h.mode,k),k.ref=io(h,b,j),k.return=h,k)}function c(h,b,j,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=If(j,h.mode,k),b.return=h,b):(b=s(b,j.children||[]),b.return=h,b)}function u(h,b,j,k,N){return b===null||b.tag!==7?(b=xs(j,h.mode,k,N),b.return=h,b):(b=s(b,j),b.return=h,b)}function m(h,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Df(""+b,h.mode,j),b.return=h,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ic:return j=td(b.type,b.key,b.props,null,h.mode,j),j.ref=io(h,null,b),j.return=h,j;case Vs:return b=If(b,h.mode,j),b.return=h,b;case ha:var k=b._init;return m(h,k(b._payload),j)}if(bo(b)||to(b))return b=xs(b,h.mode,j,null),b.return=h,b;yc(h,b)}return null}function p(h,b,j,k){var N=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:l(h,b,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ic:return j.key===N?d(h,b,j,k):null;case Vs:return j.key===N?c(h,b,j,k):null;case ha:return N=j._init,p(h,b,N(j._payload),k)}if(bo(j)||to(j))return N!==null?null:u(h,b,j,k,null);yc(h,j)}return null}function x(h,b,j,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return h=h.get(j)||null,l(b,h,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ic:return h=h.get(k.key===null?j:k.key)||null,d(b,h,k,N);case Vs:return h=h.get(k.key===null?j:k.key)||null,c(b,h,k,N);case ha:var w=k._init;return x(h,b,j,w(k._payload),N)}if(bo(k)||to(k))return h=h.get(j)||null,u(b,h,k,N,null);yc(b,k)}return null}function y(h,b,j,k){for(var N=null,w=null,P=b,_=b=0,C=null;P!==null&&_<j.length;_++){P.index>_?(C=P,P=null):C=P.sibling;var O=p(h,P,j[_],k);if(O===null){P===null&&(P=C);break}e&&P&&O.alternate===null&&t(h,P),b=i(O,b,_),w===null?N=O:w.sibling=O,w=O,P=C}if(_===j.length)return r(h,P),Xe&&rs(h,_),N;if(P===null){for(;_<j.length;_++)P=m(h,j[_],k),P!==null&&(b=i(P,b,_),w===null?N=P:w.sibling=P,w=P);return Xe&&rs(h,_),N}for(P=n(h,P);_<j.length;_++)C=x(P,h,_,j[_],k),C!==null&&(e&&C.alternate!==null&&P.delete(C.key===null?_:C.key),b=i(C,b,_),w===null?N=C:w.sibling=C,w=C);return e&&P.forEach(function(S){return t(h,S)}),Xe&&rs(h,_),N}function g(h,b,j,k){var N=to(j);if(typeof N!="function")throw Error(ne(150));if(j=N.call(j),j==null)throw Error(ne(151));for(var w=N=null,P=b,_=b=0,C=null,O=j.next();P!==null&&!O.done;_++,O=j.next()){P.index>_?(C=P,P=null):C=P.sibling;var S=p(h,P,O.value,k);if(S===null){P===null&&(P=C);break}e&&P&&S.alternate===null&&t(h,P),b=i(S,b,_),w===null?N=S:w.sibling=S,w=S,P=C}if(O.done)return r(h,P),Xe&&rs(h,_),N;if(P===null){for(;!O.done;_++,O=j.next())O=m(h,O.value,k),O!==null&&(b=i(O,b,_),w===null?N=O:w.sibling=O,w=O);return Xe&&rs(h,_),N}for(P=n(h,P);!O.done;_++,O=j.next())O=x(P,h,_,O.value,k),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?_:O.key),b=i(O,b,_),w===null?N=O:w.sibling=O,w=O);return e&&P.forEach(function(E){return t(h,E)}),Xe&&rs(h,_),N}function v(h,b,j,k){if(typeof j=="object"&&j!==null&&j.type===qs&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ic:e:{for(var N=j.key,w=b;w!==null;){if(w.key===N){if(N=j.type,N===qs){if(w.tag===7){r(h,w.sibling),b=s(w,j.props.children),b.return=h,h=b;break e}}else if(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ha&&Lb(N)===w.type){r(h,w.sibling),b=s(w,j.props),b.ref=io(h,w,j),b.return=h,h=b;break e}r(h,w);break}else t(h,w);w=w.sibling}j.type===qs?(b=xs(j.props.children,h.mode,k,j.key),b.return=h,h=b):(k=td(j.type,j.key,j.props,null,h.mode,k),k.ref=io(h,b,j),k.return=h,h=k)}return o(h);case Vs:e:{for(w=j.key;b!==null;){if(b.key===w)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(h,b.sibling),b=s(b,j.children||[]),b.return=h,h=b;break e}else{r(h,b);break}else t(h,b);b=b.sibling}b=If(j,h.mode,k),b.return=h,h=b}return o(h);case ha:return w=j._init,v(h,b,w(j._payload),k)}if(bo(j))return y(h,b,j,k);if(to(j))return g(h,b,j,k);yc(h,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(h,b.sibling),b=s(b,j),b.return=h,h=b):(r(h,b),b=Df(j,h.mode,k),b.return=h,h=b),o(h)):r(h,b)}return v}var yi=h2(!0),y2=h2(!1),Sd=qa(null),Cd=null,ti=null,Vh=null;function qh(){Vh=ti=Cd=null}function Yh(e){var t=Sd.current;qe(Sd),e._currentValue=t}function Kp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function di(e,t){Cd=e,Vh=ti=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mr=!0),e.firstContext=null)}function Vr(e){var t=e._currentValue;if(Vh!==e)if(e={context:e,memoizedValue:t,next:null},ti===null){if(Cd===null)throw Error(ne(308));ti=e,Cd.dependencies={lanes:0,firstContext:e}}else ti=ti.next=e;return t}var ls=null;function Gh(e){ls===null?ls=[e]:ls.push(e)}function g2(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Gh(t)):(r.next=s.next,s.next=r),t.interleaved=r,Yn(e,n)}function Yn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ya=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ae&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Yn(e,r)}return s=n.interleaved,s===null?(t.next=t,Gh(n)):(t.next=s.next,s.next=t),n.interleaved=t,Yn(e,r)}function Gc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Mh(e,r)}}function $b(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Pd(e,t,r,n){var s=e.updateQueue;ya=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var d=l,c=d.next;d.next=null,o===null?i=c:o.next=c,o=d;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=d))}if(i!==null){var m=s.baseState;o=0,u=c=d=null,l=i;do{var p=l.lane,x=l.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(p=t,x=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){m=y.call(x,m,p);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(x,m,p):y,p==null)break e;m=rt({},m,p);break e;case 2:ya=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else x={eventTime:x,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=x,d=m):u=u.next=x,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(d=m),s.baseState=d,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ks|=o,e.lanes=o,e.memoizedState=m}}function Rb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ne(191,s));s.call(n)}}}var wl={},Sn=qa(wl),Go=qa(wl),Xo=qa(wl);function cs(e){if(e===wl)throw Error(ne(174));return e}function Qh(e,t){switch(We(Xo,t),We(Go,e),We(Sn,wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kp(t,e)}qe(Sn),We(Sn,t)}function gi(){qe(Sn),qe(Go),qe(Xo)}function b2(e){cs(Xo.current);var t=cs(Sn.current),r=kp(t,e.type);t!==r&&(We(Go,e),We(Sn,r))}function Zh(e){Go.current===e&&(qe(Sn),qe(Go))}var et=qa(0);function Ed(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cf=[];function Jh(){for(var e=0;e<Cf.length;e++)Cf[e]._workInProgressVersionPrimary=null;Cf.length=0}var Xc=sa.ReactCurrentDispatcher,Pf=sa.ReactCurrentBatchConfig,Ns=0,tt=null,gt=null,At=null,Od=!1,Ao=!1,Qo=0,XA=0;function Ht(){throw Error(ne(321))}function ey(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!mn(e[r],t[r]))return!1;return!0}function ty(e,t,r,n,s,i){if(Ns=i,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xc.current=e===null||e.memoizedState===null?e3:t3,e=r(n,s),Ao){i=0;do{if(Ao=!1,Qo=0,25<=i)throw Error(ne(301));i+=1,At=gt=null,t.updateQueue=null,Xc.current=r3,e=r(n,s)}while(Ao)}if(Xc.current=Ad,t=gt!==null&&gt.next!==null,Ns=0,At=gt=tt=null,Od=!1,t)throw Error(ne(300));return e}function ry(){var e=Qo!==0;return Qo=0,e}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?tt.memoizedState=At=e:At=At.next=e,At}function qr(){if(gt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=At===null?tt.memoizedState:At.next;if(t!==null)At=t,gt=e;else{if(e===null)throw Error(ne(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},At===null?tt.memoizedState=At=e:At=At.next=e}return At}function Zo(e,t){return typeof t=="function"?t(e):t}function Ef(e){var t=qr(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=gt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,d=null,c=i;do{var u=c.lane;if((Ns&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var m={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(l=d=m,o=n):d=d.next=m,tt.lanes|=u,ks|=u}c=c.next}while(c!==null&&c!==i);d===null?o=n:d.next=l,mn(n,t.memoizedState)||(mr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,tt.lanes|=i,ks|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Of(e){var t=qr(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);mn(i,t.memoizedState)||(mr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function j2(){}function w2(e,t){var r=tt,n=qr(),s=t(),i=!mn(n.memoizedState,s);if(i&&(n.memoizedState=s,mr=!0),n=n.queue,ny(_2.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||At!==null&&At.memoizedState.tag&1){if(r.flags|=2048,Jo(9,k2.bind(null,r,n,s,t),void 0,null),Dt===null)throw Error(ne(349));Ns&30||N2(r,t,s)}return s}function N2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function k2(e,t,r,n){t.value=r,t.getSnapshot=n,S2(t)&&C2(e)}function _2(e,t,r){return r(function(){S2(t)&&C2(e)})}function S2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mn(e,r)}catch{return!0}}function C2(e){var t=Yn(e,1);t!==null&&dn(t,e,1,-1)}function zb(e){var t=jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e},t.queue=e,e=e.dispatch=JA.bind(null,tt,e),[t.memoizedState,e]}function Jo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function P2(){return qr().memoizedState}function Qc(e,t,r,n){var s=jn();tt.flags|=e,s.memoizedState=Jo(1|t,r,void 0,n===void 0?null:n)}function zu(e,t,r,n){var s=qr();n=n===void 0?null:n;var i=void 0;if(gt!==null){var o=gt.memoizedState;if(i=o.destroy,n!==null&&ey(n,o.deps)){s.memoizedState=Jo(t,r,i,n);return}}tt.flags|=e,s.memoizedState=Jo(1|t,r,i,n)}function Fb(e,t){return Qc(8390656,8,e,t)}function ny(e,t){return zu(2048,8,e,t)}function E2(e,t){return zu(4,2,e,t)}function O2(e,t){return zu(4,4,e,t)}function A2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function T2(e,t,r){return r=r!=null?r.concat([e]):null,zu(4,4,A2.bind(null,t,e),r)}function ay(){}function D2(e,t){var r=qr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ey(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function I2(e,t){var r=qr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ey(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function M2(e,t,r){return Ns&21?(mn(r,t)||(r=F1(),tt.lanes|=r,ks|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mr=!0),e.memoizedState=r)}function QA(e,t){var r=Re;Re=r!==0&&4>r?r:4,e(!0);var n=Pf.transition;Pf.transition={};try{e(!1),t()}finally{Re=r,Pf.transition=n}}function L2(){return qr().memoizedState}function ZA(e,t,r){var n=Ta(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$2(e))R2(t,r);else if(r=g2(e,t,r,n),r!==null){var s=ar();dn(r,e,n,s),z2(r,t,n)}}function JA(e,t,r){var n=Ta(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($2(e))R2(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,mn(l,o)){var d=t.interleaved;d===null?(s.next=s,Gh(t)):(s.next=d.next,d.next=s),t.interleaved=s;return}}catch{}finally{}r=g2(e,t,s,n),r!==null&&(s=ar(),dn(r,e,n,s),z2(r,t,n))}}function $2(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function R2(e,t){Ao=Od=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function z2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Mh(e,r)}}var Ad={readContext:Vr,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},e3={readContext:Vr,useCallback:function(e,t){return jn().memoizedState=[e,t===void 0?null:t],e},useContext:Vr,useEffect:Fb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Qc(4194308,4,A2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qc(4,2,e,t)},useMemo:function(e,t){var r=jn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=jn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ZA.bind(null,tt,e),[n.memoizedState,e]},useRef:function(e){var t=jn();return e={current:e},t.memoizedState=e},useState:zb,useDebugValue:ay,useDeferredValue:function(e){return jn().memoizedState=e},useTransition:function(){var e=zb(!1),t=e[0];return e=QA.bind(null,e[1]),jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=tt,s=jn();if(Xe){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=t(),Dt===null)throw Error(ne(349));Ns&30||N2(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Fb(_2.bind(null,n,i,e),[e]),n.flags|=2048,Jo(9,k2.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=jn(),t=Dt.identifierPrefix;if(Xe){var r=zn,n=Rn;r=(n&~(1<<32-cn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Qo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=XA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},t3={readContext:Vr,useCallback:D2,useContext:Vr,useEffect:ny,useImperativeHandle:T2,useInsertionEffect:E2,useLayoutEffect:O2,useMemo:I2,useReducer:Ef,useRef:P2,useState:function(){return Ef(Zo)},useDebugValue:ay,useDeferredValue:function(e){var t=qr();return M2(t,gt.memoizedState,e)},useTransition:function(){var e=Ef(Zo)[0],t=qr().memoizedState;return[e,t]},useMutableSource:j2,useSyncExternalStore:w2,useId:L2,unstable_isNewReconciler:!1},r3={readContext:Vr,useCallback:D2,useContext:Vr,useEffect:ny,useImperativeHandle:T2,useInsertionEffect:E2,useLayoutEffect:O2,useMemo:I2,useReducer:Of,useRef:P2,useState:function(){return Of(Zo)},useDebugValue:ay,useDeferredValue:function(e){var t=qr();return gt===null?t.memoizedState=e:M2(t,gt.memoizedState,e)},useTransition:function(){var e=Of(Zo)[0],t=qr().memoizedState;return[e,t]},useMutableSource:j2,useSyncExternalStore:w2,useId:L2,unstable_isNewReconciler:!1};function rn(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Hp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:rt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fu={isMounted:function(e){return(e=e._reactInternals)?Ms(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ar(),s=Ta(e),i=Un(n,s);i.payload=t,r!=null&&(i.callback=r),t=Oa(e,i,s),t!==null&&(dn(t,e,s,n),Gc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ar(),s=Ta(e),i=Un(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Oa(e,i,s),t!==null&&(dn(t,e,s,n),Gc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ar(),n=Ta(e),s=Un(r,n);s.tag=2,t!=null&&(s.callback=t),t=Oa(e,s,n),t!==null&&(dn(t,e,n,r),Gc(t,e,n))}};function Bb(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ho(r,n)||!Ho(s,i):!0}function F2(e,t,r){var n=!1,s=Ra,i=t.contextType;return typeof i=="object"&&i!==null?i=Vr(i):(s=xr(t)?js:Zt.current,n=t.contextTypes,i=(n=n!=null)?xi(e,s):Ra),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ub(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Fu.enqueueReplaceState(t,t.state,null)}function Vp(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Xh(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Vr(i):(i=xr(t)?js:Zt.current,s.context=xi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Hp(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Fu.enqueueReplaceState(s,s.state,null),Pd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function vi(e,t){try{var r="",n=t;do r+=OO(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Af(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var n3=typeof WeakMap=="function"?WeakMap:Map;function B2(e,t,r){r=Un(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Dd||(Dd=!0,nx=n),qp(e,t)},r}function U2(e,t,r){r=Un(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){qp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){qp(e,t),typeof n!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Wb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new n3;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=y3.bind(null,e,t,r),t.then(e,e))}function Kb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hb(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Un(-1,1),t.tag=2,Oa(r,t,1))),r.lanes|=1),e)}var a3=sa.ReactCurrentOwner,mr=!1;function er(e,t,r,n){t.child=e===null?y2(t,null,r,n):yi(t,e.child,r,n)}function Vb(e,t,r,n,s){r=r.render;var i=t.ref;return di(t,s),n=ty(e,t,r,n,i,s),r=ry(),e!==null&&!mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gn(e,t,s)):(Xe&&r&&Wh(t),t.flags|=1,er(e,t,n,s),t.child)}function qb(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!my(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,W2(e,t,i,n,s)):(e=td(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ho,r(o,n)&&e.ref===t.ref)return Gn(e,t,s)}return t.flags|=1,e=Da(i,n),e.ref=t.ref,e.return=t,t.child=e}function W2(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ho(i,n)&&e.ref===t.ref)if(mr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(mr=!0);else return t.lanes=e.lanes,Gn(e,t,s)}return Yp(e,t,r,n,s)}function K2(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(ni,Nr),Nr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(ni,Nr),Nr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,We(ni,Nr),Nr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,We(ni,Nr),Nr|=n;return er(e,t,s,r),t.child}function H2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Yp(e,t,r,n,s){var i=xr(r)?js:Zt.current;return i=xi(t,i),di(t,s),r=ty(e,t,r,n,i,s),n=ry(),e!==null&&!mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gn(e,t,s)):(Xe&&n&&Wh(t),t.flags|=1,er(e,t,r,s),t.child)}function Yb(e,t,r,n,s){if(xr(r)){var i=!0;Nd(t)}else i=!1;if(di(t,s),t.stateNode===null)Zc(e,t),F2(t,r,n),Vp(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var d=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Vr(c):(c=xr(r)?js:Zt.current,c=xi(t,c));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||d!==c)&&Ub(t,o,n,c),ya=!1;var p=t.memoizedState;o.state=p,Pd(t,n,o,s),d=t.memoizedState,l!==n||p!==d||pr.current||ya?(typeof u=="function"&&(Hp(t,r,u,n),d=t.memoizedState),(l=ya||Bb(t,r,l,n,p,d,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),o.props=n,o.state=d,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,v2(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:rn(t.type,l),o.props=c,m=t.pendingProps,p=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=Vr(d):(d=xr(r)?js:Zt.current,d=xi(t,d));var x=r.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==d)&&Ub(t,o,n,d),ya=!1,p=t.memoizedState,o.state=p,Pd(t,n,o,s);var y=t.memoizedState;l!==m||p!==y||pr.current||ya?(typeof x=="function"&&(Hp(t,r,x,n),y=t.memoizedState),(c=ya||Bb(t,r,c,n,p,y,d)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=d,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Gp(e,t,r,n,i,s)}function Gp(e,t,r,n,s,i){H2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Db(t,r,!1),Gn(e,t,i);n=t.stateNode,a3.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=yi(t,e.child,null,i),t.child=yi(t,null,l,i)):er(e,t,l,i),t.memoizedState=n.state,s&&Db(t,r,!0),t.child}function V2(e){var t=e.stateNode;t.pendingContext?Tb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tb(e,t.context,!1),Qh(e,t.containerInfo)}function Gb(e,t,r,n,s){return hi(),Hh(s),t.flags|=256,er(e,t,r,n),t.child}var Xp={dehydrated:null,treeContext:null,retryLane:0};function Qp(e){return{baseLanes:e,cachePool:null,transitions:null}}function q2(e,t,r){var n=t.pendingProps,s=et.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),We(et,s&1),e===null)return Wp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wu(o,n,0,null),e=xs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Qp(r),t.memoizedState=Xp,e):sy(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return s3(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var d={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=Da(s,d),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Da(l,i):(i=xs(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Qp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Xp,n}return i=e.child,e=i.sibling,n=Da(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function sy(e,t){return t=Wu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gc(e,t,r,n){return n!==null&&Hh(n),yi(t,e.child,null,r),e=sy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function s3(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Af(Error(ne(422))),gc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Wu({mode:"visible",children:n.children},s,0,null),i=xs(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&yi(t,e.child,null,o),t.child.memoizedState=Qp(o),t.memoizedState=Xp,i);if(!(t.mode&1))return gc(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ne(419)),n=Af(i,n,void 0),gc(e,t,o,n)}if(l=(o&e.childLanes)!==0,mr||l){if(n=Dt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yn(e,s),dn(n,e,s,-1))}return uy(),n=Af(Error(ne(421))),gc(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=g3.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Sr=Ea(s.nextSibling),Pr=t,Xe=!0,an=null,e!==null&&(Br[Ur++]=Rn,Br[Ur++]=zn,Br[Ur++]=ws,Rn=e.id,zn=e.overflow,ws=t),t=sy(t,n.children),t.flags|=4096,t)}function Xb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Kp(e.return,t,r)}function Tf(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Y2(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(er(e,t,n.children,r),n=et.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xb(e,r,t);else if(e.tag===19)Xb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(We(et,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ed(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Tf(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ed(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Tf(t,!0,r,null,i);break;case"together":Tf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ks|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,r=Da(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Da(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function i3(e,t,r){switch(t.tag){case 3:V2(t),hi();break;case 5:b2(t);break;case 1:xr(t.type)&&Nd(t);break;case 4:Qh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;We(Sd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(We(et,et.current&1),t.flags|=128,null):r&t.child.childLanes?q2(e,t,r):(We(et,et.current&1),e=Gn(e,t,r),e!==null?e.sibling:null);We(et,et.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Y2(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(et,et.current),n)break;return null;case 22:case 23:return t.lanes=0,K2(e,t,r)}return Gn(e,t,r)}var G2,Zp,X2,Q2;G2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zp=function(){};X2=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,cs(Sn.current);var i=null;switch(r){case"input":s=bp(e,s),n=bp(e,n),i=[];break;case"select":s=rt({},s,{value:void 0}),n=rt({},n,{value:void 0}),i=[];break;case"textarea":s=Np(e,s),n=Np(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=jd)}_p(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ro.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var d=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&d!==l&&(d!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(i||(i=[]),i.push(c,r)),r=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&He("scroll",e),i||l===d||(i=[])):(i=i||[]).push(c,d))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Q2=function(e,t,r,n){r!==n&&(t.flags|=4)};function oo(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function o3(e,t,r){var n=t.pendingProps;switch(Kh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return xr(t.type)&&wd(),Vt(t),null;case 3:return n=t.stateNode,gi(),qe(pr),qe(Zt),Jh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(hc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,an!==null&&(ix(an),an=null))),Zp(e,t),Vt(t),null;case 5:Zh(t);var s=cs(Xo.current);if(r=t.type,e!==null&&t.stateNode!=null)X2(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ne(166));return Vt(t),null}if(e=cs(Sn.current),hc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Nn]=t,n[Yo]=i,e=(t.mode&1)!==0,r){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(s=0;s<wo.length;s++)He(wo[s],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":sb(n,i),He("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},He("invalid",n);break;case"textarea":ob(n,i),He("invalid",n)}_p(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&xc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&xc(n.textContent,l,e),s=["children",""+l]):Ro.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&He("scroll",n)}switch(r){case"input":oc(n),ib(n,i,!0);break;case"textarea":oc(n),lb(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=jd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Nn]=t,e[Yo]=n,G2(e,t,!1,!1),t.stateNode=e;e:{switch(o=Sp(r,n),r){case"dialog":He("cancel",e),He("close",e),s=n;break;case"iframe":case"object":case"embed":He("load",e),s=n;break;case"video":case"audio":for(s=0;s<wo.length;s++)He(wo[s],e);s=n;break;case"source":He("error",e),s=n;break;case"img":case"image":case"link":He("error",e),He("load",e),s=n;break;case"details":He("toggle",e),s=n;break;case"input":sb(e,n),s=bp(e,n),He("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=rt({},n,{value:void 0}),He("invalid",e);break;case"textarea":ob(e,n),s=Np(e,n),He("invalid",e);break;default:s=n}_p(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="style"?P1(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&S1(e,d)):i==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&zo(e,d):typeof d=="number"&&zo(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ro.hasOwnProperty(i)?d!=null&&i==="onScroll"&&He("scroll",e):d!=null&&Eh(e,i,d,o))}switch(r){case"input":oc(e),ib(e,n,!1);break;case"textarea":oc(e),lb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$a(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ii(e,!!n.multiple,i,!1):n.defaultValue!=null&&ii(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=jd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vt(t),null;case 6:if(e&&t.stateNode!=null)Q2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ne(166));if(r=cs(Xo.current),cs(Sn.current),hc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Nn]=t,(i=n.nodeValue!==r)&&(e=Pr,e!==null))switch(e.tag){case 3:xc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nn]=t,t.stateNode=n}return Vt(t),null;case 13:if(qe(et),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&Sr!==null&&t.mode&1&&!(t.flags&128))x2(),hi(),t.flags|=98560,i=!1;else if(i=hc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ne(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ne(317));i[Nn]=t}else hi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vt(t),i=!1}else an!==null&&(ix(an),an=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?bt===0&&(bt=3):uy())),t.updateQueue!==null&&(t.flags|=4),Vt(t),null);case 4:return gi(),Zp(e,t),e===null&&Vo(t.stateNode.containerInfo),Vt(t),null;case 10:return Yh(t.type._context),Vt(t),null;case 17:return xr(t.type)&&wd(),Vt(t),null;case 19:if(qe(et),i=t.memoizedState,i===null)return Vt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)oo(i,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ed(e),o!==null){for(t.flags|=128,oo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return We(et,et.current&1|2),t.child}e=e.sibling}i.tail!==null&&lt()>bi&&(t.flags|=128,n=!0,oo(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ed(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),oo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xe)return Vt(t),null}else 2*lt()-i.renderingStartTime>bi&&r!==1073741824&&(t.flags|=128,n=!0,oo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=lt(),t.sibling=null,r=et.current,We(et,n?r&1|2:r&1),t):(Vt(t),null);case 22:case 23:return dy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Nr&1073741824&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function l3(e,t){switch(Kh(t),t.tag){case 1:return xr(t.type)&&wd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gi(),qe(pr),qe(Zt),Jh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zh(t),null;case 13:if(qe(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(et),null;case 4:return gi(),null;case 10:return Yh(t.type._context),null;case 22:case 23:return dy(),null;case 24:return null;default:return null}}var vc=!1,Yt=!1,c3=typeof WeakSet=="function"?WeakSet:Set,ue=null;function ri(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){st(e,t,n)}else r.current=null}function Jp(e,t,r){try{r()}catch(n){st(e,t,n)}}var Qb=!1;function d3(e,t){if(Lp=gd,e=r2(),Uh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,d=-1,c=0,u=0,m=e,p=null;t:for(;;){for(var x;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==i||n!==0&&m.nodeType!==3||(d=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(x=m.firstChild)!==null;)p=m,m=x;for(;;){if(m===e)break t;if(p===r&&++c===s&&(l=o),p===i&&++u===n&&(d=o),(x=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=x}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for($p={focusedElem:e,selectionRange:r},gd=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,h=t.stateNode,b=h.getSnapshotBeforeUpdate(t.elementType===t.type?g:rn(t.type,g),v);h.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(k){st(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return y=Qb,Qb=!1,y}function To(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jp(t,r,i)}s=s.next}while(s!==n)}}function Bu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ex(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Z2(e){var t=e.alternate;t!==null&&(e.alternate=null,Z2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nn],delete t[Yo],delete t[Fp],delete t[VA],delete t[qA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function J2(e){return e.tag===5||e.tag===3||e.tag===4}function Zb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||J2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=jd));else if(n!==4&&(e=e.child,e!==null))for(tx(e,t,r),e=e.sibling;e!==null;)tx(e,t,r),e=e.sibling}function rx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(rx(e,t,r),e=e.sibling;e!==null;)rx(e,t,r),e=e.sibling}var zt=null,nn=!1;function pa(e,t,r){for(r=r.child;r!==null;)ek(e,t,r),r=r.sibling}function ek(e,t,r){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Du,r)}catch{}switch(r.tag){case 5:Yt||ri(r,t);case 6:var n=zt,s=nn;zt=null,pa(e,t,r),zt=n,nn=s,zt!==null&&(nn?(e=zt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):zt.removeChild(r.stateNode));break;case 18:zt!==null&&(nn?(e=zt,r=r.stateNode,e.nodeType===8?_f(e.parentNode,r):e.nodeType===1&&_f(e,r),Wo(e)):_f(zt,r.stateNode));break;case 4:n=zt,s=nn,zt=r.stateNode.containerInfo,nn=!0,pa(e,t,r),zt=n,nn=s;break;case 0:case 11:case 14:case 15:if(!Yt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Jp(r,t,o),s=s.next}while(s!==n)}pa(e,t,r);break;case 1:if(!Yt&&(ri(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){st(r,t,l)}pa(e,t,r);break;case 21:pa(e,t,r);break;case 22:r.mode&1?(Yt=(n=Yt)||r.memoizedState!==null,pa(e,t,r),Yt=n):pa(e,t,r);break;default:pa(e,t,r)}}function Jb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new c3),t.forEach(function(n){var s=v3.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function tn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:zt=l.stateNode,nn=!1;break e;case 3:zt=l.stateNode.containerInfo,nn=!0;break e;case 4:zt=l.stateNode.containerInfo,nn=!0;break e}l=l.return}if(zt===null)throw Error(ne(160));ek(i,o,s),zt=null,nn=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(c){st(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tk(t,e),t=t.sibling}function tk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(t,e),gn(e),n&4){try{To(3,e,e.return),Bu(3,e)}catch(g){st(e,e.return,g)}try{To(5,e,e.return)}catch(g){st(e,e.return,g)}}break;case 1:tn(t,e),gn(e),n&512&&r!==null&&ri(r,r.return);break;case 5:if(tn(t,e),gn(e),n&512&&r!==null&&ri(r,r.return),e.flags&32){var s=e.stateNode;try{zo(s,"")}catch(g){st(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&N1(s,i),Sp(l,o);var c=Sp(l,i);for(o=0;o<d.length;o+=2){var u=d[o],m=d[o+1];u==="style"?P1(s,m):u==="dangerouslySetInnerHTML"?S1(s,m):u==="children"?zo(s,m):Eh(s,u,m,c)}switch(l){case"input":jp(s,i);break;case"textarea":k1(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?ii(s,!!i.multiple,x,!1):p!==!!i.multiple&&(i.defaultValue!=null?ii(s,!!i.multiple,i.defaultValue,!0):ii(s,!!i.multiple,i.multiple?[]:"",!1))}s[Yo]=i}catch(g){st(e,e.return,g)}}break;case 6:if(tn(t,e),gn(e),n&4){if(e.stateNode===null)throw Error(ne(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){st(e,e.return,g)}}break;case 3:if(tn(t,e),gn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wo(t.containerInfo)}catch(g){st(e,e.return,g)}break;case 4:tn(t,e),gn(e);break;case 13:tn(t,e),gn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ly=lt())),n&4&&Jb(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Yt=(c=Yt)||u,tn(t,e),Yt=c):tn(t,e),gn(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ue=e,u=e.child;u!==null;){for(m=ue=u;ue!==null;){switch(p=ue,x=p.child,p.tag){case 0:case 11:case 14:case 15:To(4,p,p.return);break;case 1:ri(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){st(n,r,g)}}break;case 5:ri(p,p.return);break;case 22:if(p.memoizedState!==null){t0(m);continue}}x!==null?(x.return=p,ue=x):t0(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,d=m.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=C1("display",o))}catch(g){st(e,e.return,g)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(g){st(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:tn(t,e),gn(e),n&4&&Jb(e);break;case 21:break;default:tn(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(J2(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(zo(s,""),n.flags&=-33);var i=Zb(e);rx(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Zb(e);tx(e,l,o);break;default:throw Error(ne(161))}}catch(d){st(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function u3(e,t,r){ue=e,rk(e)}function rk(e,t,r){for(var n=(e.mode&1)!==0;ue!==null;){var s=ue,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||vc;if(!o){var l=s.alternate,d=l!==null&&l.memoizedState!==null||Yt;l=vc;var c=Yt;if(vc=o,(Yt=d)&&!c)for(ue=s;ue!==null;)o=ue,d=o.child,o.tag===22&&o.memoizedState!==null?r0(s):d!==null?(d.return=o,ue=d):r0(s);for(;i!==null;)ue=i,rk(i),i=i.sibling;ue=s,vc=l,Yt=c}e0(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ue=i):e0(e)}}function e0(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yt||Bu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Yt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:rn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Rb(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Rb(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Wo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Yt||t.flags&512&&ex(t)}catch(p){st(t,t.return,p)}}if(t===e){ue=null;break}if(r=t.sibling,r!==null){r.return=t.return,ue=r;break}ue=t.return}}function t0(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ue=r;break}ue=t.return}}function r0(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bu(4,t)}catch(d){st(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(d){st(t,s,d)}}var i=t.return;try{ex(t)}catch(d){st(t,i,d)}break;case 5:var o=t.return;try{ex(t)}catch(d){st(t,o,d)}}}catch(d){st(t,t.return,d)}if(t===e){ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ue=l;break}ue=t.return}}var m3=Math.ceil,Td=sa.ReactCurrentDispatcher,iy=sa.ReactCurrentOwner,Hr=sa.ReactCurrentBatchConfig,Ae=0,Dt=null,mt=null,Ft=0,Nr=0,ni=qa(0),bt=0,el=null,ks=0,Uu=0,oy=0,Do=null,ur=null,ly=0,bi=1/0,Dn=null,Dd=!1,nx=null,Aa=null,bc=!1,ka=null,Id=0,Io=0,ax=null,Jc=-1,ed=0;function ar(){return Ae&6?lt():Jc!==-1?Jc:Jc=lt()}function Ta(e){return e.mode&1?Ae&2&&Ft!==0?Ft&-Ft:GA.transition!==null?(ed===0&&(ed=F1()),ed):(e=Re,e!==0||(e=window.event,e=e===void 0?16:q1(e.type)),e):1}function dn(e,t,r,n){if(50<Io)throw Io=0,ax=null,Error(ne(185));vl(e,r,n),(!(Ae&2)||e!==Dt)&&(e===Dt&&(!(Ae&2)&&(Uu|=r),bt===4&&ja(e,Ft)),hr(e,n),r===1&&Ae===0&&!(t.mode&1)&&(bi=lt()+500,Ru&&Ya()))}function hr(e,t){var r=e.callbackNode;GO(e,t);var n=yd(e,e===Dt?Ft:0);if(n===0)r!==null&&ub(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ub(r),t===1)e.tag===0?YA(n0.bind(null,e)):m2(n0.bind(null,e)),KA(function(){!(Ae&6)&&Ya()}),r=null;else{switch(B1(n)){case 1:r=Ih;break;case 4:r=R1;break;case 16:r=hd;break;case 536870912:r=z1;break;default:r=hd}r=dk(r,nk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nk(e,t){if(Jc=-1,ed=0,Ae&6)throw Error(ne(327));var r=e.callbackNode;if(ui()&&e.callbackNode!==r)return null;var n=yd(e,e===Dt?Ft:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Md(e,n);else{t=n;var s=Ae;Ae|=2;var i=sk();(Dt!==e||Ft!==t)&&(Dn=null,bi=lt()+500,ps(e,t));do try{x3();break}catch(l){ak(e,l)}while(!0);qh(),Td.current=i,Ae=s,mt!==null?t=0:(Dt=null,Ft=0,t=bt)}if(t!==0){if(t===2&&(s=Ap(e),s!==0&&(n=s,t=sx(e,s))),t===1)throw r=el,ps(e,0),ja(e,n),hr(e,lt()),r;if(t===6)ja(e,n);else{if(s=e.current.alternate,!(n&30)&&!f3(s)&&(t=Md(e,n),t===2&&(i=Ap(e),i!==0&&(n=i,t=sx(e,i))),t===1))throw r=el,ps(e,0),ja(e,n),hr(e,lt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ne(345));case 2:ns(e,ur,Dn);break;case 3:if(ja(e,n),(n&130023424)===n&&(t=ly+500-lt(),10<t)){if(yd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ar(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=zp(ns.bind(null,e,ur,Dn),t);break}ns(e,ur,Dn);break;case 4:if(ja(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-cn(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*m3(n/1960))-n,10<n){e.timeoutHandle=zp(ns.bind(null,e,ur,Dn),n);break}ns(e,ur,Dn);break;case 5:ns(e,ur,Dn);break;default:throw Error(ne(329))}}}return hr(e,lt()),e.callbackNode===r?nk.bind(null,e):null}function sx(e,t){var r=Do;return e.current.memoizedState.isDehydrated&&(ps(e,t).flags|=256),e=Md(e,t),e!==2&&(t=ur,ur=r,t!==null&&ix(t)),e}function ix(e){ur===null?ur=e:ur.push.apply(ur,e)}function f3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!mn(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ja(e,t){for(t&=~oy,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-cn(t),n=1<<r;e[r]=-1,t&=~n}}function n0(e){if(Ae&6)throw Error(ne(327));ui();var t=yd(e,0);if(!(t&1))return hr(e,lt()),null;var r=Md(e,t);if(e.tag!==0&&r===2){var n=Ap(e);n!==0&&(t=n,r=sx(e,n))}if(r===1)throw r=el,ps(e,0),ja(e,t),hr(e,lt()),r;if(r===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ns(e,ur,Dn),hr(e,lt()),null}function cy(e,t){var r=Ae;Ae|=1;try{return e(t)}finally{Ae=r,Ae===0&&(bi=lt()+500,Ru&&Ya())}}function _s(e){ka!==null&&ka.tag===0&&!(Ae&6)&&ui();var t=Ae;Ae|=1;var r=Hr.transition,n=Re;try{if(Hr.transition=null,Re=1,e)return e()}finally{Re=n,Hr.transition=r,Ae=t,!(Ae&6)&&Ya()}}function dy(){Nr=ni.current,qe(ni)}function ps(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,WA(r)),mt!==null)for(r=mt.return;r!==null;){var n=r;switch(Kh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wd();break;case 3:gi(),qe(pr),qe(Zt),Jh();break;case 5:Zh(n);break;case 4:gi();break;case 13:qe(et);break;case 19:qe(et);break;case 10:Yh(n.type._context);break;case 22:case 23:dy()}r=r.return}if(Dt=e,mt=e=Da(e.current,null),Ft=Nr=t,bt=0,el=null,oy=Uu=ks=0,ur=Do=null,ls!==null){for(t=0;t<ls.length;t++)if(r=ls[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ls=null}return e}function ak(e,t){do{var r=mt;try{if(qh(),Xc.current=Ad,Od){for(var n=tt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Od=!1}if(Ns=0,At=gt=tt=null,Ao=!1,Qo=0,iy.current=null,r===null||r.return===null){bt=1,el=t,mt=null;break}e:{var i=e,o=r.return,l=r,d=t;if(t=Ft,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=Kb(o);if(x!==null){x.flags&=-257,Hb(x,o,l,i,t),x.mode&1&&Wb(i,c,t),t=x,d=c;var y=t.updateQueue;if(y===null){var g=new Set;g.add(d),t.updateQueue=g}else y.add(d);break e}else{if(!(t&1)){Wb(i,c,t),uy();break e}d=Error(ne(426))}}else if(Xe&&l.mode&1){var v=Kb(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Hb(v,o,l,i,t),Hh(vi(d,l));break e}}i=d=vi(d,l),bt!==4&&(bt=2),Do===null?Do=[i]:Do.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=B2(i,d,t);$b(i,h);break e;case 1:l=d;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Aa===null||!Aa.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=U2(i,l,t);$b(i,k);break e}}i=i.return}while(i!==null)}ok(r)}catch(N){t=N,mt===r&&r!==null&&(mt=r=r.return);continue}break}while(!0)}function sk(){var e=Td.current;return Td.current=Ad,e===null?Ad:e}function uy(){(bt===0||bt===3||bt===2)&&(bt=4),Dt===null||!(ks&268435455)&&!(Uu&268435455)||ja(Dt,Ft)}function Md(e,t){var r=Ae;Ae|=2;var n=sk();(Dt!==e||Ft!==t)&&(Dn=null,ps(e,t));do try{p3();break}catch(s){ak(e,s)}while(!0);if(qh(),Ae=r,Td.current=n,mt!==null)throw Error(ne(261));return Dt=null,Ft=0,bt}function p3(){for(;mt!==null;)ik(mt)}function x3(){for(;mt!==null&&!FO();)ik(mt)}function ik(e){var t=ck(e.alternate,e,Nr);e.memoizedProps=e.pendingProps,t===null?ok(e):mt=t,iy.current=null}function ok(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=l3(r,t),r!==null){r.flags&=32767,mt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,mt=null;return}}else if(r=o3(r,t,Nr),r!==null){mt=r;return}if(t=t.sibling,t!==null){mt=t;return}mt=t=e}while(t!==null);bt===0&&(bt=5)}function ns(e,t,r){var n=Re,s=Hr.transition;try{Hr.transition=null,Re=1,h3(e,t,r,n)}finally{Hr.transition=s,Re=n}return null}function h3(e,t,r,n){do ui();while(ka!==null);if(Ae&6)throw Error(ne(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(XO(e,i),e===Dt&&(mt=Dt=null,Ft=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bc||(bc=!0,dk(hd,function(){return ui(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Hr.transition,Hr.transition=null;var o=Re;Re=1;var l=Ae;Ae|=4,iy.current=null,d3(e,r),tk(r,e),LA($p),gd=!!Lp,$p=Lp=null,e.current=r,u3(r),BO(),Ae=l,Re=o,Hr.transition=i}else e.current=r;if(bc&&(bc=!1,ka=e,Id=s),i=e.pendingLanes,i===0&&(Aa=null),KO(r.stateNode),hr(e,lt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Dd)throw Dd=!1,e=nx,nx=null,e;return Id&1&&e.tag!==0&&ui(),i=e.pendingLanes,i&1?e===ax?Io++:(Io=0,ax=e):Io=0,Ya(),null}function ui(){if(ka!==null){var e=B1(Id),t=Hr.transition,r=Re;try{if(Hr.transition=null,Re=16>e?16:e,ka===null)var n=!1;else{if(e=ka,ka=null,Id=0,Ae&6)throw Error(ne(331));var s=Ae;for(Ae|=4,ue=e.current;ue!==null;){var i=ue,o=i.child;if(ue.flags&16){var l=i.deletions;if(l!==null){for(var d=0;d<l.length;d++){var c=l[d];for(ue=c;ue!==null;){var u=ue;switch(u.tag){case 0:case 11:case 15:To(8,u,i)}var m=u.child;if(m!==null)m.return=u,ue=m;else for(;ue!==null;){u=ue;var p=u.sibling,x=u.return;if(Z2(u),u===c){ue=null;break}if(p!==null){p.return=x,ue=p;break}ue=x}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ue=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ue=o;else e:for(;ue!==null;){if(i=ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:To(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,ue=h;break e}ue=i.return}}var b=e.current;for(ue=b;ue!==null;){o=ue;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,ue=j;else e:for(o=b;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bu(9,l)}}catch(N){st(l,l.return,N)}if(l===o){ue=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ue=k;break e}ue=l.return}}if(Ae=s,Ya(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Du,e)}catch{}n=!0}return n}finally{Re=r,Hr.transition=t}}return!1}function a0(e,t,r){t=vi(r,t),t=B2(e,t,1),e=Oa(e,t,1),t=ar(),e!==null&&(vl(e,1,t),hr(e,t))}function st(e,t,r){if(e.tag===3)a0(e,e,r);else for(;t!==null;){if(t.tag===3){a0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Aa===null||!Aa.has(n))){e=vi(r,e),e=U2(t,e,1),t=Oa(t,e,1),e=ar(),t!==null&&(vl(t,1,e),hr(t,e));break}}t=t.return}}function y3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ar(),e.pingedLanes|=e.suspendedLanes&r,Dt===e&&(Ft&r)===r&&(bt===4||bt===3&&(Ft&130023424)===Ft&&500>lt()-ly?ps(e,0):oy|=r),hr(e,t)}function lk(e,t){t===0&&(e.mode&1?(t=dc,dc<<=1,!(dc&130023424)&&(dc=4194304)):t=1);var r=ar();e=Yn(e,t),e!==null&&(vl(e,t,r),hr(e,r))}function g3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),lk(e,r)}function v3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(t),lk(e,r)}var ck;ck=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||pr.current)mr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return mr=!1,i3(e,t,r);mr=!!(e.flags&131072)}else mr=!1,Xe&&t.flags&1048576&&f2(t,_d,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zc(e,t),e=t.pendingProps;var s=xi(t,Zt.current);di(t,r),s=ty(null,t,n,e,s,r);var i=ry();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xr(n)?(i=!0,Nd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xh(t),s.updater=Fu,t.stateNode=s,s._reactInternals=t,Vp(t,n,e,r),t=Gp(null,t,n,!0,i,r)):(t.tag=0,Xe&&i&&Wh(t),er(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=j3(n),e=rn(n,e),s){case 0:t=Yp(null,t,n,e,r);break e;case 1:t=Yb(null,t,n,e,r);break e;case 11:t=Vb(null,t,n,e,r);break e;case 14:t=qb(null,t,n,rn(n.type,e),r);break e}throw Error(ne(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rn(n,s),Yp(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rn(n,s),Yb(e,t,n,s,r);case 3:e:{if(V2(t),e===null)throw Error(ne(387));n=t.pendingProps,i=t.memoizedState,s=i.element,v2(e,t),Pd(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=vi(Error(ne(423)),t),t=Gb(e,t,n,r,s);break e}else if(n!==s){s=vi(Error(ne(424)),t),t=Gb(e,t,n,r,s);break e}else for(Sr=Ea(t.stateNode.containerInfo.firstChild),Pr=t,Xe=!0,an=null,r=y2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hi(),n===s){t=Gn(e,t,r);break e}er(e,t,n,r)}t=t.child}return t;case 5:return b2(t),e===null&&Wp(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Rp(n,s)?o=null:i!==null&&Rp(n,i)&&(t.flags|=32),H2(e,t),er(e,t,o,r),t.child;case 6:return e===null&&Wp(t),null;case 13:return q2(e,t,r);case 4:return Qh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=yi(t,null,n,r):er(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rn(n,s),Vb(e,t,n,s,r);case 7:return er(e,t,t.pendingProps,r),t.child;case 8:return er(e,t,t.pendingProps.children,r),t.child;case 12:return er(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,We(Sd,n._currentValue),n._currentValue=o,i!==null)if(mn(i.value,o)){if(i.children===s.children&&!pr.current){t=Gn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var d=l.firstContext;d!==null;){if(d.context===n){if(i.tag===1){d=Un(-1,r&-r),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}i.lanes|=r,d=i.alternate,d!==null&&(d.lanes|=r),Kp(i.return,r,t),l.lanes|=r;break}d=d.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ne(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Kp(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}er(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,di(t,r),s=Vr(s),n=n(s),t.flags|=1,er(e,t,n,r),t.child;case 14:return n=t.type,s=rn(n,t.pendingProps),s=rn(n.type,s),qb(e,t,n,s,r);case 15:return W2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rn(n,s),Zc(e,t),t.tag=1,xr(n)?(e=!0,Nd(t)):e=!1,di(t,r),F2(t,n,s),Vp(t,n,s,r),Gp(null,t,n,!0,e,r);case 19:return Y2(e,t,r);case 22:return K2(e,t,r)}throw Error(ne(156,t.tag))};function dk(e,t){return $1(e,t)}function b3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(e,t,r,n){return new b3(e,t,r,n)}function my(e){return e=e.prototype,!(!e||!e.isReactComponent)}function j3(e){if(typeof e=="function")return my(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ah)return 11;if(e===Th)return 14}return 2}function Da(e,t){var r=e.alternate;return r===null?(r=Wr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function td(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")my(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qs:return xs(r.children,s,i,t);case Oh:o=8,s|=8;break;case hp:return e=Wr(12,r,t,s|2),e.elementType=hp,e.lanes=i,e;case yp:return e=Wr(13,r,t,s),e.elementType=yp,e.lanes=i,e;case gp:return e=Wr(19,r,t,s),e.elementType=gp,e.lanes=i,e;case b1:return Wu(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case g1:o=10;break e;case v1:o=9;break e;case Ah:o=11;break e;case Th:o=14;break e;case ha:o=16,n=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=Wr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function xs(e,t,r,n){return e=Wr(7,e,n,t),e.lanes=r,e}function Wu(e,t,r,n){return e=Wr(22,e,n,t),e.elementType=b1,e.lanes=r,e.stateNode={isHidden:!1},e}function Df(e,t,r){return e=Wr(6,e,null,t),e.lanes=r,e}function If(e,t,r){return t=Wr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function w3(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pf(0),this.expirationTimes=pf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fy(e,t,r,n,s,i,o,l,d){return e=new w3(e,t,r,l,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Wr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xh(i),e}function N3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function uk(e){if(!e)return Ra;e=e._reactInternals;e:{if(Ms(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var r=e.type;if(xr(r))return u2(e,r,t)}return t}function mk(e,t,r,n,s,i,o,l,d){return e=fy(r,n,!0,e,s,i,o,l,d),e.context=uk(null),r=e.current,n=ar(),s=Ta(r),i=Un(n,s),i.callback=t??null,Oa(r,i,s),e.current.lanes=s,vl(e,s,n),hr(e,n),e}function Ku(e,t,r,n){var s=t.current,i=ar(),o=Ta(s);return r=uk(r),t.context===null?t.context=r:t.pendingContext=r,t=Un(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Oa(s,t,o),e!==null&&(dn(e,s,o,i),Gc(e,s,o)),o}function Ld(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function s0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function py(e,t){s0(e,t),(e=e.alternate)&&s0(e,t)}function k3(){return null}var fk=typeof reportError=="function"?reportError:function(e){console.error(e)};function xy(e){this._internalRoot=e}Hu.prototype.render=xy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));Ku(e,t,null,null)};Hu.prototype.unmount=xy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_s(function(){Ku(null,e,null,null)}),t[qn]=null}};function Hu(e){this._internalRoot=e}Hu.prototype.unstable_scheduleHydration=function(e){if(e){var t=K1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ba.length&&t!==0&&t<ba[r].priority;r++);ba.splice(r,0,e),r===0&&V1(e)}};function hy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function i0(){}function _3(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Ld(o);i.call(c)}}var o=mk(t,n,e,0,null,!1,!1,"",i0);return e._reactRootContainer=o,e[qn]=o.current,Vo(e.nodeType===8?e.parentNode:e),_s(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=Ld(d);l.call(c)}}var d=fy(e,0,!1,null,null,!1,!1,"",i0);return e._reactRootContainer=d,e[qn]=d.current,Vo(e.nodeType===8?e.parentNode:e),_s(function(){Ku(t,d,r,n)}),d}function qu(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var d=Ld(o);l.call(d)}}Ku(t,o,e,s)}else o=_3(r,t,e,s,n);return Ld(o)}U1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=jo(t.pendingLanes);r!==0&&(Mh(t,r|1),hr(t,lt()),!(Ae&6)&&(bi=lt()+500,Ya()))}break;case 13:_s(function(){var n=Yn(e,1);if(n!==null){var s=ar();dn(n,e,1,s)}}),py(e,1)}};Lh=function(e){if(e.tag===13){var t=Yn(e,134217728);if(t!==null){var r=ar();dn(t,e,134217728,r)}py(e,134217728)}};W1=function(e){if(e.tag===13){var t=Ta(e),r=Yn(e,t);if(r!==null){var n=ar();dn(r,e,t,n)}py(e,t)}};K1=function(){return Re};H1=function(e,t){var r=Re;try{return Re=e,t()}finally{Re=r}};Pp=function(e,t,r){switch(t){case"input":if(jp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=$u(n);if(!s)throw Error(ne(90));w1(n),jp(n,s)}}}break;case"textarea":k1(e,r);break;case"select":t=r.value,t!=null&&ii(e,!!r.multiple,t,!1)}};A1=cy;T1=_s;var S3={usingClientEntryPoint:!1,Events:[jl,Qs,$u,E1,O1,cy]},lo={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C3={bundleType:lo.bundleType,version:lo.version,rendererPackageName:lo.rendererPackageName,rendererConfig:lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=M1(e),e===null?null:e.stateNode},findFiberByHostInstance:lo.findFiberByHostInstance||k3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Du=jc.inject(C3),_n=jc}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S3;Ir.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hy(t))throw Error(ne(200));return N3(e,t,null,r)};Ir.createRoot=function(e,t){if(!hy(e))throw Error(ne(299));var r=!1,n="",s=fk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=fy(e,1,!1,null,null,r,!1,n,s),e[qn]=t.current,Vo(e.nodeType===8?e.parentNode:e),new xy(t)};Ir.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=M1(t),e=e===null?null:e.stateNode,e};Ir.flushSync=function(e){return _s(e)};Ir.hydrate=function(e,t,r){if(!Vu(t))throw Error(ne(200));return qu(null,e,t,!0,r)};Ir.hydrateRoot=function(e,t,r){if(!hy(e))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=fk;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=mk(t,null,e,1,r??null,s,!1,i,o),e[qn]=t.current,Vo(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Hu(t)};Ir.render=function(e,t,r){if(!Vu(t))throw Error(ne(200));return qu(null,e,t,!1,r)};Ir.unmountComponentAtNode=function(e){if(!Vu(e))throw Error(ne(40));return e._reactRootContainer?(_s(function(){qu(null,null,e,!1,function(){e._reactRootContainer=null,e[qn]=null})}),!0):!1};Ir.unstable_batchedUpdates=cy;Ir.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vu(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return qu(e,t,r,!1,n)};Ir.version="18.3.1-next-f1338f8080-20240426";function pk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pk)}catch(e){console.error(e)}}pk(),p1.exports=Ir;var Nl=p1.exports;const P3=An(Nl);var o0=Nl;pp.createRoot=o0.createRoot,pp.hydrateRoot=o0.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tl.apply(this,arguments)}var _a;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_a||(_a={}));const l0="popstate";function E3(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return ox("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:$d(s)}return A3(t,r,null,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function O3(){return Math.random().toString(36).substr(2,8)}function c0(e,t){return{usr:e.state,key:e.key,idx:t}}function ox(e,t,r,n){return r===void 0&&(r=null),tl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ri(t):t,{state:r,key:t&&t.key||n||O3()})}function $d(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ri(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function A3(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=_a.Pop,d=null,c=u();c==null&&(c=0,o.replaceState(tl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=_a.Pop;let v=u(),h=v==null?null:v-c;c=v,d&&d({action:l,location:g.location,delta:h})}function p(v,h){l=_a.Push;let b=ox(g.location,v,h);c=u()+1;let j=c0(b,c),k=g.createHref(b);try{o.pushState(j,"",k)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(k)}i&&d&&d({action:l,location:g.location,delta:1})}function x(v,h){l=_a.Replace;let b=ox(g.location,v,h);c=u();let j=c0(b,c),k=g.createHref(b);o.replaceState(j,"",k),i&&d&&d({action:l,location:g.location,delta:0})}function y(v){let h=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof v=="string"?v:$d(v);return b=b.replace(/ $/,"%20"),ct(h,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,h)}let g={get action(){return l},get location(){return e(s,o)},listen(v){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(l0,m),d=v,()=>{s.removeEventListener(l0,m),d=null}},createHref(v){return t(s,v)},createURL:y,encodeLocation(v){let h=y(v);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:x,go(v){return o.go(v)}};return g}var d0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(d0||(d0={}));function T3(e,t,r){return r===void 0&&(r="/"),D3(e,t,r)}function D3(e,t,r,n){let s=typeof t=="string"?Ri(t):t,i=gy(s.pathname||"/",r);if(i==null)return null;let o=xk(e);I3(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let c=V3(i);l=W3(o[d],c)}return l}function xk(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(ct(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let c=Ia([n,d.relativePath]),u=r.concat(d);i.children&&i.children.length>0&&(ct(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),xk(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:B3(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let d of hk(i.path))s(i,o,d)}),t}function hk(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=hk(n.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),s&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function I3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:U3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const M3=/^:[\w-]+$/,L3=3,$3=2,R3=1,z3=10,F3=-2,u0=e=>e==="*";function B3(e,t){let r=e.split("/"),n=r.length;return r.some(u0)&&(n+=F3),t&&(n+=$3),r.filter(s=>!u0(s)).reduce((s,i)=>s+(M3.test(i)?L3:i===""?R3:z3),n)}function U3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function W3(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let d=n[l],c=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=K3({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),p=d.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Ia([i,m.pathname]),pathnameBase:Q3(Ia([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Ia([i,m.pathnameBase]))}return o}function K3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=H3(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,u,m)=>{let{paramName:p,isOptional:x}=u;if(p==="*"){let g=l[m]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[m];return x&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function H3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),yy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function V3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const q3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y3=e=>q3.test(e);function G3(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ri(e):e,i;if(r)if(Y3(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),yy(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=m0(r.substring(1),"/"):i=m0(r,t)}else i=t;return{pathname:i,search:Z3(n),hash:J3(s)}}function m0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Mf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function X3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vy(e,t){let r=X3(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function by(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ri(e):(s=tl({},e),ct(!s.pathname||!s.pathname.includes("?"),Mf("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),Mf("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),Mf("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}l=m>=0?t[m]:"/"}let d=G3(s,l),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const Ia=e=>e.join("/").replace(/\/\/+/g,"/"),Q3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,J3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function eT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const yk=["post","put","patch","delete"];new Set(yk);const tT=["get",...yk];new Set(tT);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rl.apply(this,arguments)}const jy=f.createContext(null),rT=f.createContext(null),Ga=f.createContext(null),Yu=f.createContext(null),ia=f.createContext({outlet:null,matches:[],isDataRoute:!1}),gk=f.createContext(null);function nT(e,t){let{relative:r}=t===void 0?{}:t;zi()||ct(!1);let{basename:n,navigator:s}=f.useContext(Ga),{hash:i,pathname:o,search:l}=bk(e,{relative:r}),d=o;return n!=="/"&&(d=o==="/"?n:Ia([n,o])),s.createHref({pathname:d,search:l,hash:i})}function zi(){return f.useContext(Yu)!=null}function Xa(){return zi()||ct(!1),f.useContext(Yu).location}function vk(e){f.useContext(Ga).static||f.useLayoutEffect(e)}function Xr(){let{isDataRoute:e}=f.useContext(ia);return e?hT():aT()}function aT(){zi()||ct(!1);let e=f.useContext(jy),{basename:t,future:r,navigator:n}=f.useContext(Ga),{matches:s}=f.useContext(ia),{pathname:i}=Xa(),o=JSON.stringify(vy(s,r.v7_relativeSplatPath)),l=f.useRef(!1);return vk(()=>{l.current=!0}),f.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let m=by(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ia([t,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[t,n,o,i,e])}function Gu(){let{matches:e}=f.useContext(ia),t=e[e.length-1];return t?t.params:{}}function bk(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(Ga),{matches:s}=f.useContext(ia),{pathname:i}=Xa(),o=JSON.stringify(vy(s,n.v7_relativeSplatPath));return f.useMemo(()=>by(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function sT(e,t){return iT(e,t)}function iT(e,t,r,n){zi()||ct(!1);let{navigator:s}=f.useContext(Ga),{matches:i}=f.useContext(ia),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let c=Xa(),u;if(t){var m;let v=typeof t=="string"?Ri(t):t;d==="/"||(m=v.pathname)!=null&&m.startsWith(d)||ct(!1),u=v}else u=c;let p=u.pathname||"/",x=p;if(d!=="/"){let v=d.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=T3(e,{pathname:x}),g=uT(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Ia([d,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:Ia([d,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&g?f.createElement(Yu.Provider,{value:{location:rl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:_a.Pop}},g):g}function oT(){let e=xT(),t=eT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:s},r):null,null)}const lT=f.createElement(oT,null);class cT extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(ia.Provider,{value:this.props.routeContext},f.createElement(gk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dT(e){let{routeContext:t,match:r,children:n}=e,s=f.useContext(jy);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(ia.Provider,{value:t},n)}function uT(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||ct(!1),o=o.slice(0,Math.min(o.length,u+1))}let d=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=u),m.route.id){let{loaderData:p,errors:x}=r,y=m.route.loader&&p[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||y){d=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,m,p)=>{let x,y=!1,g=null,v=null;r&&(x=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||lT,d&&(c<0&&p===0?(yT("route-fallback"),y=!0,v=null):c===p&&(y=!0,v=m.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,p+1)),b=()=>{let j;return x?j=g:y?j=v:m.route.Component?j=f.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=u,f.createElement(dT,{match:m,routeContext:{outlet:u,matches:h,isDataRoute:r!=null},children:j})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?f.createElement(cT,{location:r.location,revalidation:r.revalidation,component:g,error:x,children:b(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):b()},null)}var jk=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jk||{}),wk=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(wk||{});function mT(e){let t=f.useContext(jy);return t||ct(!1),t}function fT(e){let t=f.useContext(rT);return t||ct(!1),t}function pT(e){let t=f.useContext(ia);return t||ct(!1),t}function Nk(e){let t=pT(),r=t.matches[t.matches.length-1];return r.route.id||ct(!1),r.route.id}function xT(){var e;let t=f.useContext(gk),r=fT(),n=Nk();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function hT(){let{router:e}=mT(jk.UseNavigateStable),t=Nk(wk.UseNavigateStable),r=f.useRef(!1);return vk(()=>{r.current=!0}),f.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,rl({fromRouteId:t},i)))},[e,t])}const f0={};function yT(e,t,r){f0[e]||(f0[e]=!0)}function gT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Mo(e){let{to:t,replace:r,state:n,relative:s}=e;zi()||ct(!1);let{future:i,static:o}=f.useContext(Ga),{matches:l}=f.useContext(ia),{pathname:d}=Xa(),c=Xr(),u=by(t,vy(l,i.v7_relativeSplatPath),d,s==="path"),m=JSON.stringify(u);return f.useEffect(()=>c(JSON.parse(m),{replace:r,state:n,relative:s}),[c,m,s,r,n]),null}function Ee(e){ct(!1)}function vT(e){let{basename:t="/",children:r=null,location:n,navigationType:s=_a.Pop,navigator:i,static:o=!1,future:l}=e;zi()&&ct(!1);let d=t.replace(/^\/*/,"/"),c=f.useMemo(()=>({basename:d,navigator:i,static:o,future:rl({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof n=="string"&&(n=Ri(n));let{pathname:u="/",search:m="",hash:p="",state:x=null,key:y="default"}=n,g=f.useMemo(()=>{let v=gy(u,d);return v==null?null:{location:{pathname:v,search:m,hash:p,state:x,key:y},navigationType:s}},[d,u,m,p,x,y,s]);return g==null?null:f.createElement(Ga.Provider,{value:c},f.createElement(Yu.Provider,{children:r,value:g}))}function bT(e){let{children:t,location:r}=e;return sT(lx(t),r)}new Promise(()=>{});function lx(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,s)=>{if(!f.isValidElement(n))return;let i=[...t,s];if(n.type===f.Fragment){r.push.apply(r,lx(n.props.children,i));return}n.type!==Ee&&ct(!1),!n.props.index||!n.props.children||ct(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=lx(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cx.apply(this,arguments)}function jT(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function wT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NT(e,t){return e.button===0&&(!t||t==="_self")&&!wT(e)}const kT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_T="6";try{window.__reactRouterVersion=_T}catch{}const ST="startTransition",p0=m1[ST];function CT(e){let{basename:t,children:r,future:n,window:s}=e,i=f.useRef();i.current==null&&(i.current=E3({window:s,v5Compat:!0}));let o=i.current,[l,d]=f.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=f.useCallback(m=>{c&&p0?p0(()=>d(m)):d(m)},[d,c]);return f.useLayoutEffect(()=>o.listen(u),[o,u]),f.useEffect(()=>gT(n),[n]),f.createElement(vT,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const PT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ET=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rd=f.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:d,to:c,preventScrollReset:u,viewTransition:m}=t,p=jT(t,kT),{basename:x}=f.useContext(Ga),y,g=!1;if(typeof c=="string"&&ET.test(c)&&(y=c,PT))try{let j=new URL(window.location.href),k=c.startsWith("//")?new URL(j.protocol+c):new URL(c),N=gy(k.pathname,x);k.origin===j.origin&&N!=null?c=N+k.search+k.hash:g=!0}catch{}let v=nT(c,{relative:s}),h=OT(c,{replace:o,state:l,target:d,preventScrollReset:u,relative:s,viewTransition:m});function b(j){n&&n(j),j.defaultPrevented||h(j)}return f.createElement("a",cx({},p,{href:y||v,onClick:g||i?n:b,ref:r,target:d}))});var x0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(x0||(x0={}));var h0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(h0||(h0={}));function OT(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,d=Xr(),c=Xa(),u=bk(e,{relative:o});return f.useCallback(m=>{if(NT(m,r)){m.preventDefault();let p=n!==void 0?n:$d(c)===$d(u);d(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[c,d,u,n,s,r,e,i,o,l])}function AT(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const TT=e=>{switch(e){case"success":return MT;case"info":return $T;case"warning":return LT;case"error":return RT;default:return null}},DT=Array(12).fill(0),IT=({visible:e,className:t})=>te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},te.createElement("div",{className:"sonner-spinner"},DT.map((r,n)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),MT=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),LT=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$T=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),RT=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zT=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),FT=()=>{const[e,t]=te.useState(document.hidden);return te.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let dx=1;class BT{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:dx++,o=this.toasts.find(d=>d.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:l,title:n}):d):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const l=s.then(async c=>{if(o=["resolve",c],te.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(WT(c)&&!c.ok){i=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description,y=typeof m=="object"&&!te.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...y})}else if(c instanceof Error){i=!1;const m=typeof r.error=="function"?await r.error(c):r.error,p=typeof r.description=="function"?await r.description(c):r.description,y=typeof m=="object"&&!te.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...y})}else if(r.success!==void 0){i=!1;const m=typeof r.success=="function"?await r.success(c):r.success,p=typeof r.description=="function"?await r.description(c):r.description,y=typeof m=="object"&&!te.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:p,...y})}}).catch(async c=>{if(o=["reject",c],r.error!==void 0){i=!1;const u=typeof r.error=="function"?await r.error(c):r.error,m=typeof r.description=="function"?await r.description(c):r.description,x=typeof u=="object"&&!te.isValidElement(u)?u:{message:u};this.create({id:n,type:"error",description:m,...x})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((c,u)=>l.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||dx++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const cr=new BT,UT=(e,t)=>{const r=(t==null?void 0:t.id)||dx++;return cr.addToast({title:e,...t,id:r}),r},WT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",KT=UT,HT=()=>cr.toasts,VT=()=>cr.getActiveToasts(),Y=Object.assign(KT,{success:cr.success,info:cr.info,warning:cr.warning,error:cr.error,custom:cr.custom,message:cr.message,promise:cr.promise,dismiss:cr.dismiss,loading:cr.loading},{getHistory:HT,getToasts:VT});AT("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function wc(e){return e.label!==void 0}const qT=3,YT="24px",GT="16px",y0=4e3,XT=356,QT=14,ZT=45,JT=200;function vn(...e){return e.filter(Boolean).join(" ")}function eD(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const tD=e=>{var t,r,n,s,i,o,l,d,c;const{invert:u,toast:m,unstyled:p,interacting:x,setHeights:y,visibleToasts:g,heights:v,index:h,toasts:b,expanded:j,removeToast:k,defaultRichColors:N,closeButton:w,style:P,cancelButtonStyle:_,actionButtonStyle:C,className:O="",descriptionClassName:S="",duration:E,position:I,gap:A,expandByDefault:M,classNames:U,icons:W,closeButtonAriaLabel:L="Close toast"}=e,[R,$]=te.useState(null),[X,T]=te.useState(null),[Q,ee]=te.useState(!1),[D,q]=te.useState(!1),[ie,Z]=te.useState(!1),[F,le]=te.useState(!1),[pe,J]=te.useState(!1),[G,se]=te.useState(0),[be,H]=te.useState(0),re=te.useRef(m.duration||E||y0),ce=te.useRef(null),ge=te.useRef(null),z=h===0,ae=h+1<=g,B=m.type,oe=m.dismissible!==!1,de=m.className||"",ke=m.descriptionClassName||"",je=te.useMemo(()=>v.findIndex(Ne=>Ne.toastId===m.id)||0,[v,m.id]),_e=te.useMemo(()=>{var Ne;return(Ne=m.closeButton)!=null?Ne:w},[m.closeButton,w]),Me=te.useMemo(()=>m.duration||E||y0,[m.duration,E]),ye=te.useRef(0),Ce=te.useRef(0),Se=te.useRef(0),Lt=te.useRef(null),[eo,zs]=I.split("-"),Tn=te.useMemo(()=>v.reduce((Ne,Ct,Kt)=>Kt>=je?Ne:Ne+Ct.height,0),[v,je]),Gv=FT(),QE=m.invert||u,of=B==="loading";Ce.current=te.useMemo(()=>je*A+Tn,[je,Tn]),te.useEffect(()=>{re.current=Me},[Me]),te.useEffect(()=>{ee(!0)},[]),te.useEffect(()=>{const Ne=ge.current;if(Ne){const Ct=Ne.getBoundingClientRect().height;return H(Ct),y(Kt=>[{toastId:m.id,height:Ct,position:m.position},...Kt]),()=>y(Kt=>Kt.filter(jr=>jr.toastId!==m.id))}},[y,m.id]),te.useLayoutEffect(()=>{if(!Q)return;const Ne=ge.current,Ct=Ne.style.height;Ne.style.height="auto";const Kt=Ne.getBoundingClientRect().height;Ne.style.height=Ct,H(Kt),y(jr=>jr.find($t=>$t.toastId===m.id)?jr.map($t=>$t.toastId===m.id?{...$t,height:Kt}:$t):[{toastId:m.id,height:Kt,position:m.position},...jr])},[Q,m.title,m.description,y,m.id,m.jsx,m.action,m.cancel]);const fa=te.useCallback(()=>{q(!0),se(Ce.current),y(Ne=>Ne.filter(Ct=>Ct.toastId!==m.id)),setTimeout(()=>{k(m)},JT)},[m,k,y,Ce]);te.useEffect(()=>{if(m.promise&&B==="loading"||m.duration===1/0||m.type==="loading")return;let Ne;return j||x||Gv?(()=>{if(Se.current<ye.current){const jr=new Date().getTime()-ye.current;re.current=re.current-jr}Se.current=new Date().getTime()})():(()=>{re.current!==1/0&&(ye.current=new Date().getTime(),Ne=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),fa()},re.current))})(),()=>clearTimeout(Ne)},[j,x,m,B,Gv,fa]),te.useEffect(()=>{m.delete&&(fa(),m.onDismiss==null||m.onDismiss.call(m,m))},[fa,m.delete]);function ZE(){var Ne;if(W!=null&&W.loading){var Ct;return te.createElement("div",{className:vn(U==null?void 0:U.loader,m==null||(Ct=m.classNames)==null?void 0:Ct.loader,"sonner-loader"),"data-visible":B==="loading"},W.loading)}return te.createElement(IT,{className:vn(U==null?void 0:U.loader,m==null||(Ne=m.classNames)==null?void 0:Ne.loader),visible:B==="loading"})}const JE=m.icon||(W==null?void 0:W[B])||TT(B);var Xv,Qv;return te.createElement("li",{tabIndex:0,ref:ge,className:vn(O,de,U==null?void 0:U.toast,m==null||(t=m.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[B],m==null||(r=m.classNames)==null?void 0:r[B]),"data-sonner-toast":"","data-rich-colors":(Xv=m.richColors)!=null?Xv:N,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":Q,"data-promise":!!m.promise,"data-swiped":pe,"data-removed":D,"data-visible":ae,"data-y-position":eo,"data-x-position":zs,"data-index":h,"data-front":z,"data-swiping":ie,"data-dismissible":oe,"data-type":B,"data-invert":QE,"data-swipe-out":F,"data-swipe-direction":X,"data-expanded":!!(j||M&&Q),"data-testid":m.testId,style:{"--index":h,"--toasts-before":h,"--z-index":b.length-h,"--offset":`${D?G:Ce.current}px`,"--initial-height":M?"auto":`${be}px`,...P,...m.style},onDragEnd:()=>{Z(!1),$(null),Lt.current=null},onPointerDown:Ne=>{Ne.button!==2&&(of||!oe||(ce.current=new Date,se(Ce.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(Z(!0),Lt.current={x:Ne.clientX,y:Ne.clientY})))},onPointerUp:()=>{var Ne,Ct,Kt;if(F||!oe)return;Lt.current=null;const jr=Number(((Ne=ge.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),nc=Number(((Ct=ge.current)==null?void 0:Ct.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$t=new Date().getTime()-((Kt=ce.current)==null?void 0:Kt.getTime()),Lr=R==="x"?jr:nc,ac=Math.abs(Lr)/$t;if(Math.abs(Lr)>=ZT||ac>.11){se(Ce.current),m.onDismiss==null||m.onDismiss.call(m,m),T(R==="x"?jr>0?"right":"left":nc>0?"down":"up"),fa(),le(!0);return}else{var Jr,en;(Jr=ge.current)==null||Jr.style.setProperty("--swipe-amount-x","0px"),(en=ge.current)==null||en.style.setProperty("--swipe-amount-y","0px")}J(!1),Z(!1),$(null)},onPointerMove:Ne=>{var Ct,Kt,jr;if(!Lt.current||!oe||((Ct=window.getSelection())==null?void 0:Ct.toString().length)>0)return;const $t=Ne.clientY-Lt.current.y,Lr=Ne.clientX-Lt.current.x;var ac;const Jr=(ac=e.swipeDirections)!=null?ac:eD(I);!R&&(Math.abs(Lr)>1||Math.abs($t)>1)&&$(Math.abs(Lr)>Math.abs($t)?"x":"y");let en={x:0,y:0};const Zv=ts=>1/(1.5+Math.abs(ts)/20);if(R==="y"){if(Jr.includes("top")||Jr.includes("bottom"))if(Jr.includes("top")&&$t<0||Jr.includes("bottom")&&$t>0)en.y=$t;else{const ts=$t*Zv($t);en.y=Math.abs(ts)<Math.abs($t)?ts:$t}}else if(R==="x"&&(Jr.includes("left")||Jr.includes("right")))if(Jr.includes("left")&&Lr<0||Jr.includes("right")&&Lr>0)en.x=Lr;else{const ts=Lr*Zv(Lr);en.x=Math.abs(ts)<Math.abs(Lr)?ts:Lr}(Math.abs(en.x)>0||Math.abs(en.y)>0)&&J(!0),(Kt=ge.current)==null||Kt.style.setProperty("--swipe-amount-x",`${en.x}px`),(jr=ge.current)==null||jr.style.setProperty("--swipe-amount-y",`${en.y}px`)}},_e&&!m.jsx&&B!=="loading"?te.createElement("button",{"aria-label":L,"data-disabled":of,"data-close-button":!0,onClick:of||!oe?()=>{}:()=>{fa(),m.onDismiss==null||m.onDismiss.call(m,m)},className:vn(U==null?void 0:U.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(Qv=W==null?void 0:W.close)!=null?Qv:zT):null,(B||m.icon||m.promise)&&m.icon!==null&&((W==null?void 0:W[B])!==null||m.icon)?te.createElement("div",{"data-icon":"",className:vn(U==null?void 0:U.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ZE():null,m.type!=="loading"?JE:null):null,te.createElement("div",{"data-content":"",className:vn(U==null?void 0:U.content,m==null||(i=m.classNames)==null?void 0:i.content)},te.createElement("div",{"data-title":"",className:vn(U==null?void 0:U.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?te.createElement("div",{"data-description":"",className:vn(S,ke,U==null?void 0:U.description,m==null||(l=m.classNames)==null?void 0:l.description)},typeof m.description=="function"?m.description():m.description):null),te.isValidElement(m.cancel)?m.cancel:m.cancel&&wc(m.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||_,onClick:Ne=>{wc(m.cancel)&&oe&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Ne),fa())},className:vn(U==null?void 0:U.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,te.isValidElement(m.action)?m.action:m.action&&wc(m.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||C,onClick:Ne=>{wc(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Ne),!Ne.defaultPrevented&&fa())},className:vn(U==null?void 0:U.actionButton,m==null||(c=m.classNames)==null?void 0:c.actionButton)},m.action.label):null)};function g0(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function rD(e,t){const r={};return[e,t].forEach((n,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",l=i?GT:YT;function d(c){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=l:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):d(l)}),r}const nD=te.forwardRef(function(t,r){const{id:n,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:d,className:c,offset:u,mobileOffset:m,theme:p="light",richColors:x,duration:y,style:g,visibleToasts:v=qT,toastOptions:h,dir:b=g0(),gap:j=QT,icons:k,containerAriaLabel:N="Notifications"}=t,[w,P]=te.useState([]),_=te.useMemo(()=>n?w.filter(Q=>Q.toasterId===n):w.filter(Q=>!Q.toasterId),[w,n]),C=te.useMemo(()=>Array.from(new Set([i].concat(_.filter(Q=>Q.position).map(Q=>Q.position)))),[_,i]),[O,S]=te.useState([]),[E,I]=te.useState(!1),[A,M]=te.useState(!1),[U,W]=te.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=te.useRef(null),R=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=te.useRef(null),X=te.useRef(!1),T=te.useCallback(Q=>{P(ee=>{var D;return(D=ee.find(q=>q.id===Q.id))!=null&&D.delete||cr.dismiss(Q.id),ee.filter(({id:q})=>q!==Q.id)})},[]);return te.useEffect(()=>cr.subscribe(Q=>{if(Q.dismiss){requestAnimationFrame(()=>{P(ee=>ee.map(D=>D.id===Q.id?{...D,delete:!0}:D))});return}setTimeout(()=>{P3.flushSync(()=>{P(ee=>{const D=ee.findIndex(q=>q.id===Q.id);return D!==-1?[...ee.slice(0,D),{...ee[D],...Q},...ee.slice(D+1)]:[Q,...ee]})})})}),[w]),te.useEffect(()=>{if(p!=="system"){W(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;const Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:ee})=>{W(ee?"dark":"light")})}catch{Q.addListener(({matches:D})=>{try{W(D?"dark":"light")}catch(q){console.error(q)}})}},[p]),te.useEffect(()=>{w.length<=1&&I(!1)},[w]),te.useEffect(()=>{const Q=ee=>{var D;if(o.every(Z=>ee[Z]||ee.code===Z)){var ie;I(!0),(ie=L.current)==null||ie.focus()}ee.code==="Escape"&&(document.activeElement===L.current||(D=L.current)!=null&&D.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[o]),te.useEffect(()=>{if(L.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,X.current=!1)}},[L.current]),te.createElement("section",{ref:r,"aria-label":`${N} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((Q,ee)=>{var D;const[q,ie]=Q.split("-");return _.length?te.createElement("ol",{key:Q,dir:b==="auto"?g0():b,tabIndex:-1,ref:L,className:c,"data-sonner-toaster":!0,"data-sonner-theme":U,"data-y-position":q,"data-x-position":ie,style:{"--front-toast-height":`${((D=O[0])==null?void 0:D.height)||0}px`,"--width":`${XT}px`,"--gap":`${j}px`,...g,...rD(u,m)},onBlur:Z=>{X.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(X.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||X.current||(X.current=!0,$.current=Z.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{A||I(!1)},onDragEnd:()=>I(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},_.filter(Z=>!Z.position&&ee===0||Z.position===Q).map((Z,F)=>{var le,pe;return te.createElement(tD,{key:Z.id,icons:k,index:F,toast:Z,defaultRichColors:x,duration:(le=h==null?void 0:h.duration)!=null?le:y,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:s,visibleToasts:v,closeButton:(pe=h==null?void 0:h.closeButton)!=null?pe:d,interacting:A,position:Q,style:h==null?void 0:h.style,unstyled:h==null?void 0:h.unstyled,classNames:h==null?void 0:h.classNames,cancelButtonStyle:h==null?void 0:h.cancelButtonStyle,actionButtonStyle:h==null?void 0:h.actionButtonStyle,closeButtonAriaLabel:h==null?void 0:h.closeButtonAriaLabel,removeToast:T,toasts:_.filter(J=>J.position==Z.position),heights:O.filter(J=>J.position==Z.position),setHeights:S,expandByDefault:l,gap:j,expanded:E,swipeDirections:t.swipeDirections})})):null}))});function kk(e,t){return function(){return e.apply(t,arguments)}}const{toString:aD}=Object.prototype,{getPrototypeOf:wy}=Object,{iterator:Xu,toStringTag:_k}=Symbol,Qu=(e=>t=>{const r=aD.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),xn=e=>(e=e.toLowerCase(),t=>Qu(t)===e),Zu=e=>t=>typeof t===e,{isArray:Fi}=Array,ji=Zu("undefined");function kl(e){return e!==null&&!ji(e)&&e.constructor!==null&&!ji(e.constructor)&&yr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Sk=xn("ArrayBuffer");function sD(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Sk(e.buffer),t}const iD=Zu("string"),yr=Zu("function"),Ck=Zu("number"),_l=e=>e!==null&&typeof e=="object",oD=e=>e===!0||e===!1,nd=e=>{if(Qu(e)!=="object")return!1;const t=wy(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(_k in e)&&!(Xu in e)},lD=e=>{if(!_l(e)||kl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},cD=xn("Date"),dD=xn("File"),uD=xn("Blob"),mD=xn("FileList"),fD=e=>_l(e)&&yr(e.pipe),pD=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||yr(e.append)&&((t=Qu(e))==="formdata"||t==="object"&&yr(e.toString)&&e.toString()==="[object FormData]"))},xD=xn("URLSearchParams"),[hD,yD,gD,vD]=["ReadableStream","Request","Response","Headers"].map(xn),bD=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sl(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Fi(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(kl(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function Pk(e,t){if(kl(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const ds=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ek=e=>!ji(e)&&e!==ds;function ux(){const{caseless:e,skipUndefined:t}=Ek(this)&&this||{},r={},n=(s,i)=>{const o=e&&Pk(r,i)||i;nd(r[o])&&nd(s)?r[o]=ux(r[o],s):nd(s)?r[o]=ux({},s):Fi(s)?r[o]=s.slice():(!t||!ji(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Sl(arguments[s],n);return r}const jD=(e,t,r,{allOwnKeys:n}={})=>(Sl(t,(s,i)=>{r&&yr(s)?e[i]=kk(s,r):e[i]=s},{allOwnKeys:n}),e),wD=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ND=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},kD=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&wy(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},_D=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},SD=e=>{if(!e)return null;if(Fi(e))return e;let t=e.length;if(!Ck(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},CD=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&wy(Uint8Array)),PD=(e,t)=>{const n=(e&&e[Xu]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},ED=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},OD=xn("HTMLFormElement"),AD=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),v0=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),TD=xn("RegExp"),Ok=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Sl(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},DD=e=>{Ok(e,(t,r)=>{if(yr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(yr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ID=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Fi(e)?n(e):n(String(e).split(t)),r},MD=()=>{},LD=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function $D(e){return!!(e&&yr(e.append)&&e[_k]==="FormData"&&e[Xu])}const RD=e=>{const t=new Array(10),r=(n,s)=>{if(_l(n)){if(t.indexOf(n)>=0)return;if(kl(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Fi(n)?[]:{};return Sl(n,(o,l)=>{const d=r(o,s+1);!ji(d)&&(i[l]=d)}),t[s]=void 0,i}}return n};return r(e,0)},zD=xn("AsyncFunction"),FD=e=>e&&(_l(e)||yr(e))&&yr(e.then)&&yr(e.catch),Ak=((e,t)=>e?setImmediate:t?((r,n)=>(ds.addEventListener("message",({source:s,data:i})=>{s===ds&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),ds.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",yr(ds.postMessage)),BD=typeof queueMicrotask<"u"?queueMicrotask.bind(ds):typeof process<"u"&&process.nextTick||Ak,UD=e=>e!=null&&yr(e[Xu]),V={isArray:Fi,isArrayBuffer:Sk,isBuffer:kl,isFormData:pD,isArrayBufferView:sD,isString:iD,isNumber:Ck,isBoolean:oD,isObject:_l,isPlainObject:nd,isEmptyObject:lD,isReadableStream:hD,isRequest:yD,isResponse:gD,isHeaders:vD,isUndefined:ji,isDate:cD,isFile:dD,isBlob:uD,isRegExp:TD,isFunction:yr,isStream:fD,isURLSearchParams:xD,isTypedArray:CD,isFileList:mD,forEach:Sl,merge:ux,extend:jD,trim:bD,stripBOM:wD,inherits:ND,toFlatObject:kD,kindOf:Qu,kindOfTest:xn,endsWith:_D,toArray:SD,forEachEntry:PD,matchAll:ED,isHTMLForm:OD,hasOwnProperty:v0,hasOwnProp:v0,reduceDescriptors:Ok,freezeMethods:DD,toObjectSet:ID,toCamelCase:AD,noop:MD,toFiniteNumber:LD,findKey:Pk,global:ds,isContextDefined:Ek,isSpecCompliantForm:$D,toJSONObject:RD,isAsyncFn:zD,isThenable:FD,setImmediate:Ak,asap:BD,isIterable:UD};function we(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}V.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Tk=we.prototype,Dk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Dk[e]={value:e}});Object.defineProperties(we,Dk);Object.defineProperty(Tk,"isAxiosError",{value:!0});we.from=(e,t,r,n,s,i)=>{const o=Object.create(Tk);V.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return we.call(o,l,d,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const WD=null;function mx(e){return V.isPlainObject(e)||V.isArray(e)}function Ik(e){return V.endsWith(e,"[]")?e.slice(0,-2):e}function b0(e,t,r){return e?e.concat(t).map(function(s,i){return s=Ik(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function KD(e){return V.isArray(e)&&!e.some(mx)}const HD=V.toFlatObject(V,{},null,function(t){return/^is[A-Z]/.test(t)});function Ju(e,t,r){if(!V.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=V.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!V.isUndefined(v[g])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(t);if(!V.isFunction(s))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(V.isDate(y))return y.toISOString();if(V.isBoolean(y))return y.toString();if(!d&&V.isBlob(y))throw new we("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(y)||V.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,g,v){let h=y;if(y&&!v&&typeof y=="object"){if(V.endsWith(g,"{}"))g=n?g:g.slice(0,-2),y=JSON.stringify(y);else if(V.isArray(y)&&KD(y)||(V.isFileList(y)||V.endsWith(g,"[]"))&&(h=V.toArray(y)))return g=Ik(g),h.forEach(function(j,k){!(V.isUndefined(j)||j===null)&&t.append(o===!0?b0([g],k,i):o===null?g:g+"[]",c(j))}),!1}return mx(y)?!0:(t.append(b0(v,g,i),c(y)),!1)}const m=[],p=Object.assign(HD,{defaultVisitor:u,convertValue:c,isVisitable:mx});function x(y,g){if(!V.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+g.join("."));m.push(y),V.forEach(y,function(h,b){(!(V.isUndefined(h)||h===null)&&s.call(t,h,V.isString(b)?b.trim():b,g,p))===!0&&x(h,g?g.concat(b):[b])}),m.pop()}}if(!V.isObject(e))throw new TypeError("data must be an object");return x(e),t}function j0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Ny(e,t){this._pairs=[],e&&Ju(e,this,t)}const Mk=Ny.prototype;Mk.append=function(t,r){this._pairs.push([t,r])};Mk.toString=function(t){const r=t?function(n){return t.call(this,n,j0)}:j0;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function VD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Lk(e,t,r){if(!t)return e;const n=r&&r.encode||VD;V.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=V.isURLSearchParams(t)?t.toString():new Ny(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class w0{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){V.forEach(this.handlers,function(n){n!==null&&t(n)})}}const $k={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qD=typeof URLSearchParams<"u"?URLSearchParams:Ny,YD=typeof FormData<"u"?FormData:null,GD=typeof Blob<"u"?Blob:null,XD={isBrowser:!0,classes:{URLSearchParams:qD,FormData:YD,Blob:GD},protocols:["http","https","file","blob","url","data"]},ky=typeof window<"u"&&typeof document<"u",fx=typeof navigator=="object"&&navigator||void 0,QD=ky&&(!fx||["ReactNative","NativeScript","NS"].indexOf(fx.product)<0),ZD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",JD=ky&&window.location.href||"http://localhost",eI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ky,hasStandardBrowserEnv:QD,hasStandardBrowserWebWorkerEnv:ZD,navigator:fx,origin:JD},Symbol.toStringTag,{value:"Module"})),Xt={...eI,...XD};function tI(e,t){return Ju(e,new Xt.classes.URLSearchParams,{visitor:function(r,n,s,i){return Xt.isNode&&V.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function rI(e){return V.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nI(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function Rk(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=r.length;return o=!o&&V.isArray(s)?s.length:o,d?(V.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!V.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&V.isArray(s[o])&&(s[o]=nI(s[o])),!l)}if(V.isFormData(e)&&V.isFunction(e.entries)){const r={};return V.forEachEntry(e,(n,s)=>{t(rI(n),s,r,0)}),r}return null}function aI(e,t,r){if(V.isString(e))try{return(t||JSON.parse)(e),V.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Cl={transitional:$k,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=V.isObject(t);if(i&&V.isHTMLForm(t)&&(t=new FormData(t)),V.isFormData(t))return s?JSON.stringify(Rk(t)):t;if(V.isArrayBuffer(t)||V.isBuffer(t)||V.isStream(t)||V.isFile(t)||V.isBlob(t)||V.isReadableStream(t))return t;if(V.isArrayBufferView(t))return t.buffer;if(V.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tI(t,this.formSerializer).toString();if((l=V.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ju(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),aI(t)):t}],transformResponse:[function(t){const r=this.transitional||Cl.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(V.isResponse(t)||V.isReadableStream(t))return t;if(t&&V.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?we.from(l,we.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],e=>{Cl.headers[e]={}});const sI=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iI=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&sI[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},N0=Symbol("internals");function co(e){return e&&String(e).trim().toLowerCase()}function ad(e){return e===!1||e==null?e:V.isArray(e)?e.map(ad):String(e)}function oI(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const lI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Lf(e,t,r,n,s){if(V.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!V.isString(t)){if(V.isString(n))return t.indexOf(n)!==-1;if(V.isRegExp(n))return n.test(t)}}function cI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function dI(e,t){const r=V.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let gr=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,d,c){const u=co(d);if(!u)throw new Error("header name must be a non-empty string");const m=V.findKey(s,u);(!m||s[m]===void 0||c===!0||c===void 0&&s[m]!==!1)&&(s[m||d]=ad(l))}const o=(l,d)=>V.forEach(l,(c,u)=>i(c,u,d));if(V.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(V.isString(t)&&(t=t.trim())&&!lI(t))o(iI(t),r);else if(V.isObject(t)&&V.isIterable(t)){let l={},d,c;for(const u of t){if(!V.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(d=l[c])?V.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=co(t),t){const n=V.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return oI(s);if(V.isFunction(r))return r.call(this,s,n);if(V.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=co(t),t){const n=V.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Lf(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=co(o),o){const l=V.findKey(n,o);l&&(!r||Lf(n,n[l],l,r))&&(delete n[l],s=!0)}}return V.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Lf(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return V.forEach(this,(s,i)=>{const o=V.findKey(n,i);if(o){r[o]=ad(s),delete r[i];return}const l=t?cI(i):String(i).trim();l!==i&&delete r[i],r[l]=ad(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return V.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&V.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[N0]=this[N0]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=co(o);n[l]||(dI(s,o),n[l]=!0)}return V.isArray(t)?t.forEach(i):i(t),this}};gr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(gr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});V.freezeMethods(gr);function $f(e,t){const r=this||Cl,n=t||r,s=gr.from(n.headers);let i=n.data;return V.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function zk(e){return!!(e&&e.__CANCEL__)}function Bi(e,t,r){we.call(this,e??"canceled",we.ERR_CANCELED,t,r),this.name="CanceledError"}V.inherits(Bi,we,{__CANCEL__:!0});function Fk(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new we("Request failed with status code "+r.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function uI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mI(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),u=n[i];o||(o=c),r[s]=d,n[s]=c;let m=i,p=0;for(;m!==s;)p+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const x=u&&c-u;return x?Math.round(p*1e3/x):void 0}}function fI(e,t){let r=0,n=1e3/t,s,i;const o=(c,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),m=u-r;m>=n?o(c,u):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},n-m)))},()=>s&&o(s)]}const Rd=(e,t,r=3)=>{let n=0;const s=mI(50,250);return fI(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-n,c=s(d),u=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-o)/c:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},k0=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},_0=e=>(...t)=>V.asap(()=>e(...t)),pI=Xt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Xt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,xI=Xt.hasStandardBrowserEnv?{write(e,t,r,n,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];V.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),V.isString(n)&&l.push(`path=${n}`),V.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),V.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function hI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Bk(e,t,r){let n=!hI(t);return e&&(n||r==!1)?yI(e,t):t}const S0=e=>e instanceof gr?{...e}:e;function Ss(e,t){t=t||{};const r={};function n(c,u,m,p){return V.isPlainObject(c)&&V.isPlainObject(u)?V.merge.call({caseless:p},c,u):V.isPlainObject(u)?V.merge({},u):V.isArray(u)?u.slice():u}function s(c,u,m,p){if(V.isUndefined(u)){if(!V.isUndefined(c))return n(void 0,c,m,p)}else return n(c,u,m,p)}function i(c,u){if(!V.isUndefined(u))return n(void 0,u)}function o(c,u){if(V.isUndefined(u)){if(!V.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function l(c,u,m){if(m in t)return n(c,u);if(m in e)return n(void 0,c)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,u,m)=>s(S0(c),S0(u),m,!0)};return V.forEach(Object.keys({...e,...t}),function(u){const m=d[u]||s,p=m(e[u],t[u],u);V.isUndefined(p)&&m!==l||(r[u]=p)}),r}const Uk=e=>{const t=Ss({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=gr.from(o),t.url=Lk(Bk(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),V.isFormData(r)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(V.isFunction(r.getHeaders)){const d=r.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,m])=>{c.includes(u.toLowerCase())&&o.set(u,m)})}}if(Xt.hasStandardBrowserEnv&&(n&&V.isFunction(n)&&(n=n(t)),n||n!==!1&&pI(t.url))){const d=s&&i&&xI.read(i);d&&o.set(s,d)}return t},gI=typeof XMLHttpRequest<"u",vI=gI&&function(e){return new Promise(function(r,n){const s=Uk(e);let i=s.data;const o=gr.from(s.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=s,u,m,p,x,y;function g(){x&&x(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function h(){if(!v)return;const j=gr.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:j,config:e,request:v};Fk(function(P){r(P),g()},function(P){n(P),g()},N),v=null}"onloadend"in v?v.onloadend=h:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(h)},v.onabort=function(){v&&(n(new we("Request aborted",we.ECONNABORTED,e,v)),v=null)},v.onerror=function(k){const N=k&&k.message?k.message:"Network Error",w=new we(N,we.ERR_NETWORK,e,v);w.event=k||null,n(w),v=null},v.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||$k;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new we(k,N.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&V.forEach(o.toJSON(),function(k,N){v.setRequestHeader(N,k)}),V.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),c&&([p,y]=Rd(c,!0),v.addEventListener("progress",p)),d&&v.upload&&([m,x]=Rd(d),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(u=j=>{v&&(n(!j||j.type?new Bi(null,e,v):j),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const b=uI(s.url);if(b&&Xt.protocols.indexOf(b)===-1){n(new we("Unsupported protocol "+b+":",we.ERR_BAD_REQUEST,e));return}v.send(i||null)})},bI=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(c){if(!s){s=!0,l();const u=c instanceof Error?c:this.reason;n.abort(u instanceof we?u:new Bi(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new we(`timeout ${t} of ms exceeded`,we.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>V.asap(l),d}},jI=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},wI=async function*(e,t){for await(const r of NI(e))yield*jI(r,t)},NI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},C0=(e,t,r,n)=>{const s=wI(e,t);let i=0,o,l=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await s.next();if(c){l(),d.close();return}let m=u.byteLength;if(r){let p=i+=m;r(p)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),s.return()}},{highWaterMark:2})},P0=64*1024,{isFunction:Nc}=V,kI=(({Request:e,Response:t})=>({Request:e,Response:t}))(V.global),{ReadableStream:E0,TextEncoder:O0}=V.global,A0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_I=e=>{e=V.merge.call({skipUndefined:!0},kI,e);const{fetch:t,Request:r,Response:n}=e,s=t?Nc(t):typeof fetch=="function",i=Nc(r),o=Nc(n);if(!s)return!1;const l=s&&Nc(E0),d=s&&(typeof O0=="function"?(y=>g=>y.encode(g))(new O0):async y=>new Uint8Array(await new r(y).arrayBuffer())),c=i&&l&&A0(()=>{let y=!1;const g=new r(Xt.origin,{body:new E0,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!g}),u=o&&l&&A0(()=>V.isReadableStream(new n("").body)),m={stream:u&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!m[y]&&(m[y]=(g,v)=>{let h=g&&g[y];if(h)return h.call(g);throw new we(`Response type '${y}' is not supported`,we.ERR_NOT_SUPPORT,v)})});const p=async y=>{if(y==null)return 0;if(V.isBlob(y))return y.size;if(V.isSpecCompliantForm(y))return(await new r(Xt.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(V.isArrayBufferView(y)||V.isArrayBuffer(y))return y.byteLength;if(V.isURLSearchParams(y)&&(y=y+""),V.isString(y))return(await d(y)).byteLength},x=async(y,g)=>{const v=V.toFiniteNumber(y.getContentLength());return v??p(g)};return async y=>{let{url:g,method:v,data:h,signal:b,cancelToken:j,timeout:k,onDownloadProgress:N,onUploadProgress:w,responseType:P,headers:_,withCredentials:C="same-origin",fetchOptions:O}=Uk(y),S=t||fetch;P=P?(P+"").toLowerCase():"text";let E=bI([b,j&&j.toAbortSignal()],k),I=null;const A=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let M;try{if(w&&c&&v!=="get"&&v!=="head"&&(M=await x(_,h))!==0){let X=new r(g,{method:"POST",body:h,duplex:"half"}),T;if(V.isFormData(h)&&(T=X.headers.get("content-type"))&&_.setContentType(T),X.body){const[Q,ee]=k0(M,Rd(_0(w)));h=C0(X.body,P0,Q,ee)}}V.isString(C)||(C=C?"include":"omit");const U=i&&"credentials"in r.prototype,W={...O,signal:E,method:v.toUpperCase(),headers:_.normalize().toJSON(),body:h,duplex:"half",credentials:U?C:void 0};I=i&&new r(g,W);let L=await(i?S(I,O):S(g,W));const R=u&&(P==="stream"||P==="response");if(u&&(N||R&&A)){const X={};["status","statusText","headers"].forEach(D=>{X[D]=L[D]});const T=V.toFiniteNumber(L.headers.get("content-length")),[Q,ee]=N&&k0(T,Rd(_0(N),!0))||[];L=new n(C0(L.body,P0,Q,()=>{ee&&ee(),A&&A()}),X)}P=P||"text";let $=await m[V.findKey(m,P)||"text"](L,y);return!R&&A&&A(),await new Promise((X,T)=>{Fk(X,T,{data:$,headers:gr.from(L.headers),status:L.status,statusText:L.statusText,config:y,request:I})})}catch(U){throw A&&A(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,y,I),{cause:U.cause||U}):we.from(U,U&&U.code,y,I)}}},SI=new Map,Wk=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,d,c,u=SI;for(;l--;)d=i[l],c=u.get(d),c===void 0&&u.set(d,c=l?new Map:_I(t)),u=c;return c};Wk();const _y={http:WD,xhr:vI,fetch:{get:Wk}};V.forEach(_y,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const T0=e=>`- ${e}`,CI=e=>V.isFunction(e)||e===null||e===!1;function PI(e,t){e=V.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!CI(n)&&(s=_y[(l=String(n)).toLowerCase()],s===void 0))throw new we(`Unknown adapter '${l}'`);if(s&&(V.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(T0).join(`
`):" "+T0(o[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const Kk={getAdapter:PI,adapters:_y};function Rf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Bi(null,e)}function D0(e){return Rf(e),e.headers=gr.from(e.headers),e.data=$f.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Kk.getAdapter(e.adapter||Cl.adapter,e)(e).then(function(n){return Rf(e),n.data=$f.call(e,e.transformResponse,n),n.headers=gr.from(n.headers),n},function(n){return zk(n)||(Rf(e),n&&n.response&&(n.response.data=$f.call(e,e.transformResponse,n.response),n.response.headers=gr.from(n.response.headers))),Promise.reject(n)})}const Hk="1.13.2",em={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{em[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const I0={};em.transitional=function(t,r,n){function s(i,o){return"[Axios v"+Hk+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new we(s(o," has been removed"+(r?" in "+r:"")),we.ERR_DEPRECATED);return r&&!I0[o]&&(I0[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};em.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function EI(e,t,r){if(typeof e!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new we("option "+i+" must be "+d,we.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new we("Unknown option "+i,we.ERR_BAD_OPTION)}}const sd={assertOptions:EI,validators:em},bn=sd.validators;let hs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new w0,response:new w0}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ss(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&sd.assertOptions(n,{silentJSONParsing:bn.transitional(bn.boolean),forcedJSONParsing:bn.transitional(bn.boolean),clarifyTimeoutError:bn.transitional(bn.boolean)},!1),s!=null&&(V.isFunction(s)?r.paramsSerializer={serialize:s}:sd.assertOptions(s,{encode:bn.function,serialize:bn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),sd.assertOptions(r,{baseUrl:bn.spelling("baseURL"),withXsrfToken:bn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&V.merge(i.common,i[r.method]);i&&V.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=gr.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(d=d&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,m=0,p;if(!d){const y=[D0.bind(this),void 0];for(y.unshift(...l),y.push(...c),p=y.length,u=Promise.resolve(r);m<p;)u=u.then(y[m++],y[m++]);return u}p=l.length;let x=r;for(;m<p;){const y=l[m++],g=l[m++];try{x=y(x)}catch(v){g.call(this,v);break}}try{u=D0.call(this,x)}catch(y){return Promise.reject(y)}for(m=0,p=c.length;m<p;)u=u.then(c[m++],c[m++]);return u}getUri(t){t=Ss(this.defaults,t);const r=Bk(t.baseURL,t.url,t.allowAbsoluteUrls);return Lk(r,t.params,t.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(t){hs.prototype[t]=function(r,n){return this.request(Ss(n||{},{method:t,url:r,data:(n||{}).data}))}});V.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(Ss(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}hs.prototype[t]=r(),hs.prototype[t+"Form"]=r(!0)});let OI=class Vk{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Bi(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Vk(function(s){t=s}),cancel:t}}};function AI(e){return function(r){return e.apply(null,r)}}function TI(e){return V.isObject(e)&&e.isAxiosError===!0}const px={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(px).forEach(([e,t])=>{px[t]=e});function qk(e){const t=new hs(e),r=kk(hs.prototype.request,t);return V.extend(r,hs.prototype,t,{allOwnKeys:!0}),V.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return qk(Ss(e,s))},r}const nt=qk(Cl);nt.Axios=hs;nt.CanceledError=Bi;nt.CancelToken=OI;nt.isCancel=zk;nt.VERSION=Hk;nt.toFormData=Ju;nt.AxiosError=we;nt.Cancel=nt.CanceledError;nt.all=function(t){return Promise.all(t)};nt.spread=AI;nt.isAxiosError=TI;nt.mergeConfig=Ss;nt.AxiosHeaders=gr;nt.formToJSON=e=>Rk(V.isHTMLForm(e)?new FormData(e):e);nt.getAdapter=Kk.getAdapter;nt.HttpStatusCode=px;nt.default=nt;const{Axios:UG,AxiosError:WG,CanceledError:KG,isCancel:HG,CancelToken:VG,VERSION:qG,all:YG,Cancel:GG,isAxiosError:XG,spread:QG,toFormData:ZG,AxiosHeaders:JG,HttpStatusCode:eX,formToJSON:tX,getAdapter:rX,mergeConfig:nX}=nt,Yk=f.createContext(),DI=()=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:8001":"",Sy=DI();console.log(" Backend URL:",Sy,"| Hostname:",window.location.hostname);const No=nt.create({baseURL:Sy,headers:{"Content-Type":"application/json"}});No.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const ve=()=>{const e=f.useContext(Yk);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},II=({children:e})=>{const[t,r]=f.useState(null),[n,s]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{if(localStorage.getItem("token"))try{const u=await No.get("/api/auth/me");r(u.data)}catch{localStorage.removeItem("token"),localStorage.removeItem("user")}s(!1)},o=async(c,u)=>{var m,p;try{console.log("Attempting login to:",`${Sy}/api/auth/login`);const x=await No.post("/api/auth/login",{email:c,password:u}),{access_token:y,user:g}=x.data;return localStorage.setItem("token",y),localStorage.setItem("user",JSON.stringify(g)),r(g),{success:!0}}catch(x){return console.error("Login error:",x),{success:!1,error:((p=(m=x.response)==null?void 0:m.data)==null?void 0:p.detail)||x.message||"Login failed - Network error"}}},l=async c=>{var u,m;try{return{success:!0,message:(await No.post("/api/auth/register",c)).data.message}}catch(p){return{success:!1,error:((m=(u=p.response)==null?void 0:u.data)==null?void 0:m.detail)||"Registration failed"}}},d=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)};return a.jsx(Yk.Provider,{value:{user:t,loading:n,login:o,register:l,logout:d,api:No},children:e})},Gk=f.createContext(),Cy=()=>{const e=f.useContext(Gk);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},MI=({children:e})=>{const[t,r]=f.useState(()=>localStorage.getItem("theme")||"dark"),[n,s]=f.useState(()=>localStorage.getItem("language")||"ru");f.useEffect(()=>{localStorage.setItem("theme",t),t==="light"?document.documentElement.classList.add("light-theme"):document.documentElement.classList.remove("light-theme")},[t]),f.useEffect(()=>{localStorage.setItem("language",n)},[n]);const i=()=>{r(l=>l==="dark"?"light":"dark")},o=l=>{s(l)};return a.jsx(Gk.Provider,{value:{theme:t,language:n,toggleTheme:i,changeLanguage:o},children:e})},M0={ru:{loading:"// ...",save:"",cancel:"",delete:"",edit:"",create:"",view:"",search:"",filter:"",actions:"",status:"",login:"",register:"",logout:"",email:"Email",password:"",fullName:" ",companyName:" ",inn:"",adminPanel:"",sellerPanel:"",overview:"",users:"",analytics:"",products:"",orders:"",inventory:"",apiKeys:"API ",finance:"",balance:"",promocodes:"",questions:"",reviews:"",dashboard:"",sellers:"",payouts:"",categories:"",addProduct:"+  ",editProduct:" ",createProduct:" ",productList:"",sku:"",name:"",price:"",description:"",tags:"",images:"",quality:"",variant:"",orderList:"",orderNumber:" ",customer:"",source:"",total:"",date:"",inventoryManagement:" ",fbs:"FBS ( )",fbo:"FBO ( )",history:" ",quantity:"",reserved:"",available:"",adjust:"",settings:"",theme:"",language:"",currency:"",dark:"",light:"",noDistractionsJustResults:"//  ,  ",enterCredentials:"//   ",manageProducts:"//   ",trackOrders:"//  ",warehouseManagement:"//   "},en:{loading:"// LOADING...",save:"SAVE",cancel:"CANCEL",delete:"DELETE",edit:"EDIT",create:"CREATE",view:"VIEW",search:"Search",filter:"Filter",actions:"Actions",status:"Status",login:"LOGIN",register:"REGISTER",logout:"LOGOUT",email:"Email",password:"Password",fullName:"Full Name",companyName:"Company Name",inn:"Tax ID",adminPanel:"ADMIN",sellerPanel:"SELLER",overview:"Overview",users:"Users",analytics:"Analytics",products:"Products",orders:"Orders",inventory:"Inventory",apiKeys:"API Keys",finance:"Finance",balance:"Balance",promocodes:"Promocodes",questions:"Questions",reviews:"Reviews",dashboard:"Dashboard",sellers:"Sellers",payouts:"Payouts",categories:"Categories",addProduct:"+ ADD PRODUCT",editProduct:"EDIT PRODUCT",createProduct:"CREATE PRODUCT",productList:"PRODUCTS",sku:"SKU",name:"Name",price:"Price",description:"Description",tags:"Tags",images:"Images",quality:"Quality",variant:"Variant",orderList:"ORDERS",orderNumber:"Order #",customer:"Customer",source:"Source",total:"Total",date:"Date",inventoryManagement:"INVENTORY",fbs:"FBS (Own Warehouse)",fbo:"FBO (Marketplace Warehouses)",history:"Movement History",quantity:"Quantity",reserved:"Reserved",available:"Available",adjust:"ADJUST",settings:"SETTINGS",theme:"THEME",language:"LANGUAGE",currency:"CURRENCY",dark:"Dark",light:"Light",noDistractionsJustResults:"// No distractions, Just results",enterCredentials:"// Enter your credentials",manageProducts:"// Manage your product catalog",trackOrders:"// Track your sales",warehouseManagement:"// Manage warehouse and stock levels"}},LI=e=>({t:r=>{var n;return((n=M0[e])==null?void 0:n[r])||M0.en[r]||r}});function $I(){const e=Xr(),{login:t}=ve(),{language:r}=Cy(),{t:n}=LI(r),[s,i]=f.useState({email:"",password:""}),[o,l]=f.useState(""),[d,c]=f.useState(!1),u=async p=>{p.preventDefault(),l(""),c(!0);const x=await t(s.email,s.password);x.success?e("/"):l(x.error),c(!1)},m=p=>{i({...s,[p.target.name]:p.target.value})};return a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-5xl font-bold mb-4 text-mm-text",children:["MINIMAL",a.jsx("span",{className:"text-mm-purple",children:"MOD"})]}),a.jsx("p",{className:"comment",children:n("noDistractionsJustResults")})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan",children:n("login")}),a.jsx("p",{className:"comment mb-8",children:n("enterCredentials")}),o&&a.jsx("div",{className:"mb-6 p-4 border border-mm-red bg-mm-red/10 text-mm-red text-sm font-mono",children:o}),a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase tracking-wider",children:n("email")}),a.jsx("input",{type:"email",name:"email",value:s.email,onChange:m,className:"input-neon w-full",placeholder:"admin@minimalmod.com",required:!0,"data-testid":"login-email-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase tracking-wider",children:n("password")}),a.jsx("input",{type:"password",name:"password",value:s.password,onChange:m,className:"input-neon w-full",placeholder:"",required:!0,"data-testid":"login-password-input"})]}),a.jsx("button",{type:"submit",disabled:d,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"login-submit-button",children:d?n("loading"):`// ${n("login")}`})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-mm-border",children:a.jsxs("p",{className:"text-mm-text-secondary text-sm text-center",children:[a.jsx("span",{className:"comment",children:"// New seller?"})," ",a.jsx(rd,{to:"/register",className:"text-mm-cyan hover:text-mm-cyan/80 transition-colors",children:"Register here"})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-mm-darker border border-mm-border",children:[a.jsx("p",{className:"comment text-xs mb-2",children:"// Demo credentials:"}),a.jsx("p",{className:"text-xs text-mm-text-secondary",children:"Admin: admin@minimalmod.com / admin123"})]})]})]})})}var Xk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},L0=te.createContext&&te.createContext(Xk),Ma=function(){return Ma=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ma.apply(this,arguments)},RI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function Qk(e){return e&&e.map(function(t,r){return te.createElement(t.tag,Ma({key:r},t.attr),Qk(t.child))})}function he(e){return function(t){return te.createElement(zI,Ma({attr:Ma({},e.attr)},t),Qk(e.child))}}function zI(e){var t=function(r){var n=e.attr,s=e.size,i=e.title,o=RI(e,["attr","size","title"]),l=s||r.size||"1em",d;return r.className&&(d=r.className),e.className&&(d=(d?d+" ":"")+e.className),te.createElement("svg",Ma({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:d,style:Ma(Ma({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&te.createElement("title",null,i),e.children)};return L0!==void 0?te.createElement(L0.Consumer,null,function(r){return t(r)}):t(Xk)}function Zk(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(e)}function Wn(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}function FI(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(e)}function Jk(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(e)}function BI(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"}},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"}}]})(e)}function xx(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function zd(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"}}]})(e)}function UI(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"}},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}}]})(e)}function Bt(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function Ui(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function Py(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"}}]})(e)}function Xn(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}function za(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(e)}function Wt(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(e)}function Ey(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(e)}function Fa(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function tm(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(e)}function e_(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"}},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"}},{tag:"polyline",attr:{points:"10 9 9 9 8 9"}}]})(e)}function Oy(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(e)}function $0(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}}]})(e)}function t_(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(e)}function hx(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"}},{tag:"polyline",attr:{points:"21 15 16 10 5 21"}}]})(e)}function R0(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"}}]})(e)}function r_(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}}]})(e)}function WI(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"}},{tag:"polyline",attr:{points:"2 17 12 22 22 17"}},{tag:"polyline",attr:{points:"2 12 12 17 22 12"}}]})(e)}function Lo(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}}]})(e)}function KI(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"}}]})(e)}function z0(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"}},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"}},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"}},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"}},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}}]})(e)}function HI(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}}]})(e)}function wt(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function F0(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"}},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"}},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"}}]})(e)}function Ay(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"}}]})(e)}function Ar(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function n_(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"}},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"}}]})(e)}function jt(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"polyline",attr:{points:"1 20 1 14 7 14"}},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}}]})(e)}function wi(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(e)}function Qn(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function a_(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function VI(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"}}]})(e)}function yx(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"}},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"}},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}}]})(e)}function qI(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}}]})(e)}function kc(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(e)}function YI(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"}},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"}},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}}]})(e)}function s_(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"}}]})(e)}function hn(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function Pl(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"}},{tag:"polyline",attr:{points:"17 18 23 18 23 12"}}]})(e)}function Ls(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(e)}function i_(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"}},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"}},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"}},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"}}]})(e)}function rr(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(e)}function Ni(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function GI(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function Ty(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"}}]})(e)}function xt(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}function o_(){const[e,t]=f.useState(!1),r=f.useRef(null),{theme:n,language:s,toggleTheme:i,changeLanguage:o}=Cy();return f.useEffect(()=>{const l=d=>{r.current&&!r.current.contains(d.target)&&t(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),a.jsxs("div",{className:"relative",ref:r,children:[a.jsx("button",{onClick:()=>t(!e),className:"p-2 border-2 border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":"settings-button",children:a.jsx(a_,{size:20,className:e?"animate-spin":""})}),e&&a.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-mm-dark border-2 border-mm-cyan shadow-neon-cyan z-50","data-testid":"settings-dropdown",children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"THEME"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>{n!=="dark"&&i()},className:`p-4 border-2 transition-all ${n==="dark"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"theme-dark",children:[a.jsx(HI,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"Dark"})]}),a.jsxs("button",{onClick:()=>{n!=="light"&&i()},className:`p-4 border-2 transition-all ${n==="light"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"theme-light",children:[a.jsx(YI,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"Light"})]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"LANGUAGE"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>o("ru"),className:`p-4 border-2 transition-all ${s==="ru"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"lang-ru",children:[a.jsx($0,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"RU"})]}),a.jsxs("button",{onClick:()=>o("en"),className:`p-4 border-2 transition-all ${s==="en"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"lang-en",children:[a.jsx($0,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"EN"})]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"CURRENCY"}),a.jsxs("select",{className:"input-neon w-full",defaultValue:"RUB",children:[a.jsx("option",{value:"RUB",children:"RUB "}),a.jsx("option",{value:"USD",children:"USD $"}),a.jsx("option",{value:"EUR",children:"EUR "})]})]}),a.jsx("div",{className:"pt-4 border-t border-mm-border",children:a.jsx("p",{className:"comment text-xs text-center",children:"// Settings saved automatically"})})]})})]})}function ki(e){return he({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2l-2.218-.887zm3.564 1.426L5.596 5 8 5.961 14.154 3.5l-2.404-.961zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"}}]})(e)}const l_=()=>{const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,d]=f.useState(""),[c,u]=f.useState({name:"",client_id:"",api_key:"",auto_sync_stock:!0,auto_update_prices:!1,auto_get_orders:!0}),[m,p]=f.useState(!1),[x,y]=f.useState(!1),g=[{id:"ozon",name:"Ozon",logo:"",description:"  Ozon    ,  FBS  ",helpText:"        : Admin, Product, Posting, Finance, Analytics, Warehouse, Orders",requiredPermissions:["Admin","Product","Posting","Finance","Analytics","Warehouse","Orders"],docsLink:"https://seller.ozon.ru/app/settings/api-keys?currentTab=sellerApi",fields:[{name:"name",label:" ",type:"text",placeholder:":   OZON"},{name:"client_id",label:"Client ID",type:"text",placeholder:" Client ID"},{name:"api_key",label:"API Key",type:"password",placeholder:" API ",helpText:"   "}]},{id:"wb",name:"Wildberries",logo:"",description:"  Wildberries    ,  FBS  ",fields:[{name:"name",label:" ",type:"text",placeholder:":   WB"},{name:"api_key",label:"API Token",type:"password",placeholder:" API "}]},{id:"yandex",name:"Yandex.Market",logo:"",description:"  .    ,  FBS  ",fields:[{name:"name",label:" ",type:"text",placeholder:":   "},{name:"client_id",label:"Campaign ID",type:"text",placeholder:" Campaign ID"},{name:"api_key",label:"OAuth Token",type:"password",placeholder:" OAuth "}]}];f.useEffect(()=>{v()},[]);const v=async()=>{try{const C=await e.get("/api/seller/api-keys");r(C.data)}catch(C){console.error("Error loading API keys:",C)}finally{s(!1)}},h=C=>{d(C),u({name:"",client_id:"",api_key:"",auto_sync_stock:!0,auto_update_prices:!1,auto_get_orders:!0}),o(!0)},b=async()=>{var C,O;p(!0);try{const S=await e.post("/api/seller/api-keys/test",{marketplace:l,client_id:c.client_id,api_key:c.api_key});S.data.success,alert(S.data.message)}catch(S){alert(" : "+(((O=(C=S.response)==null?void 0:C.data)==null?void 0:O.detail)||S.message))}finally{p(!1)}},j=async()=>{var C,O;if(!c.api_key||!c.api_key.trim()){alert("API  ");return}y(!0);try{await e.post("/api/seller/api-keys",{marketplace:l,name:c.name,client_id:c.client_id,api_key:c.api_key}),alert("   !"),o(!1),v()}catch(S){alert(": "+(((O=(C=S.response)==null?void 0:C.data)==null?void 0:O.detail)||S.message))}finally{y(!1)}},k=async(C,O)=>{var S,E;if(confirm(`  ${O.toUpperCase()}?`))try{await e.delete(`/api/seller/api-keys/${C}`),alert("  "),v()}catch(I){alert(": "+(((E=(S=I.response)==null?void 0:S.data)==null?void 0:E.detail)||I.message))}},N=async(C,O,S)=>{var E,I;try{await e.put(`/api/seller/api-keys/${C}`,{[O]:!S}),v()}catch(A){alert(" : "+(((I=(E=A.response)==null?void 0:E.data)==null?void 0:I.detail)||A.message))}},w=C=>{const O=g.find(S=>S.id===C);return O?O.logo:""},P=C=>{const O=g.find(S=>S.id===C);return O?O.name:C};if(n)return a.jsx("div",{className:"p-8",children:a.jsx("div",{className:"text-mm-cyan",children:"..."})});const _=g.find(C=>C.id===l);return a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan mb-2",children:""}),a.jsx("p",{className:"text-gray-400",children:"    "})]}),t.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(C=>a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 hover:border-mm-cyan transition",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-4xl",children:w(C.marketplace)}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-white",children:C.name||P(C.marketplace)}),a.jsx("p",{className:"text-xs text-gray-500",children:P(C.marketplace)})]})]}),a.jsx("button",{onClick:()=>k(C.id,C.marketplace),className:"p-2 text-red-500 hover:bg-red-500/10 rounded transition",title:"",children:a.jsx(hn,{})})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Client ID:"}),a.jsx("span",{className:"text-gray-300",children:C.client_id||""})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"API Key:"}),a.jsx("span",{className:"text-gray-300",children:C.api_key_masked})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:":"}),a.jsx("span",{className:"text-gray-300",children:new Date(C.created_at).toLocaleDateString("ru-RU")})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-800 space-y-2",children:[a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[a.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),a.jsx("input",{type:"checkbox",checked:C.auto_sync_stock!==!1,onChange:()=>N(C.id,"auto_sync_stock",C.auto_sync_stock!==!1),className:"w-4 h-4 rounded"})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[a.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),a.jsx("input",{type:"checkbox",checked:C.auto_update_prices===!0,onChange:()=>N(C.id,"auto_update_prices",C.auto_update_prices===!0),className:"w-4 h-4 rounded"})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[a.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),a.jsx("input",{type:"checkbox",checked:C.auto_get_orders!==!1,onChange:()=>N(C.id,"auto_get_orders",C.auto_get_orders!==!1),className:"w-4 h-4 rounded"})]})]})]},C.id))})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(C=>{const O=t.some(S=>S.marketplace===C.id);return a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 hover:border-mm-cyan transition",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"text-6xl mb-3",children:C.logo}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:C.name}),a.jsx("p",{className:"text-sm text-gray-400",children:C.description})]}),a.jsxs("button",{onClick:()=>h(C.id),className:"w-full px-4 py-3 bg-mm-purple hover:bg-purple-600 rounded-lg transition font-medium flex items-center justify-center space-x-2",children:[a.jsx(Ar,{}),a.jsx("span",{children:O?" ":""})]})]},C.id)})})]}),i&&_&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-3xl",children:_.logo}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-cyan",children:_.name}),a.jsx("p",{className:"text-sm text-gray-400",children:_.description})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition",children:a.jsx(xt,{size:24})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[_.helpText&&a.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-yellow-200 mb-3 font-semibold",children:_.helpText}),_.requiredPermissions&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-xs text-yellow-300/80 mb-2",children:"  :"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:_.requiredPermissions.map(C=>a.jsxs("span",{className:"px-2 py-1 bg-yellow-600/20 text-yellow-200 text-xs rounded border border-yellow-600/30",children:[" ",C]},C))})]}),_.docsLink&&a.jsx("a",{href:_.docsLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-xs text-cyan-400 hover:text-cyan-300 underline",children:"    Ozon Seller (  !)"})]}),_.fields.map(C=>a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:[C.label,C.name!=="name"&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"}),C.helpText&&a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",C.helpText,")"]})]}),a.jsx("input",{type:C.type,value:c[C.name],onChange:O=>u({...c,[C.name]:O.target.value}),placeholder:C.placeholder,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan text-white"})]},C.name)),a.jsxs("div",{className:"pt-4 border-t border-gray-800",children:[a.jsx("p",{className:"text-sm font-medium mb-3 text-gray-300",children:" :"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.auto_sync_stock,onChange:C=>u({...c,auto_sync_stock:C.target.checked}),className:"w-5 h-5 rounded"}),a.jsx("span",{className:"text-sm text-gray-400",children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.auto_update_prices,onChange:C=>u({...c,auto_update_prices:C.target.checked}),className:"w-5 h-5 rounded"}),a.jsx("span",{className:"text-sm text-gray-400",children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.auto_get_orders,onChange:C=>u({...c,auto_get_orders:C.target.checked}),className:"w-5 h-5 rounded"}),a.jsx("span",{className:"text-sm text-gray-400",children:"  "})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-800 flex justify-end space-x-3",children:[a.jsx("button",{onClick:b,disabled:m||!c.api_key,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:cursor-not-allowed rounded-lg transition font-medium",children:m?"...":" "}),a.jsx("button",{onClick:j,disabled:x||!c.api_key,className:"px-6 py-3 bg-mm-cyan hover:bg-cyan-400 text-black disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed rounded-lg transition font-bold",children:x?"...":""})]})]})})]})};function XI(){const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState({status:"",source:""});f.useEffect(()=>{l()},[i]);const l=async()=>{try{const u=new URLSearchParams;i.status&&u.append("status",i.status),i.source&&u.append("source",i.source);const m=await e.get(`/api/orders?${u.toString()}`);r(m.data)}catch(u){console.error("Failed to load orders:",u)}s(!1)},d=u=>{switch(u){case"new":return a.jsx(Xn,{className:"inline text-mm-blue"});case"awaiting_shipment":return a.jsx(wt,{className:"inline text-mm-yellow"});case"shipped":return a.jsx(i_,{className:"inline text-mm-cyan"});case"delivered":return a.jsx(zd,{className:"inline text-mm-green"});case"cancelled":return a.jsx(Ty,{className:"inline text-mm-red"});default:return a.jsx(Xn,{className:"inline"})}},c=u=>({minimalmod:"border-mm-purple text-mm-purple",ozon:"border-mm-blue text-mm-blue",wildberries:"border-mm-purple text-mm-purple",yandex_market:"border-mm-yellow text-mm-yellow"})[u]||"border-mm-cyan text-mm-cyan";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"Orders"}),a.jsx("p",{className:"comment",children:"// Manage all your orders"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("select",{value:i.status,onChange:u=>o({...i,status:u.target.value}),className:"input-neon",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"new",children:"New"}),a.jsx("option",{value:"awaiting_shipment",children:"Awaiting Shipment"}),a.jsx("option",{value:"shipped",children:"Shipped"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:i.source,onChange:u=>o({...i,source:u.target.value}),className:"input-neon",children:[a.jsx("option",{value:"",children:"All Sources"}),a.jsx("option",{value:"minimalmod",children:"MinimalMod"}),a.jsx("option",{value:"ozon",children:"Ozon"}),a.jsx("option",{value:"wildberries",children:"Wildberries"}),a.jsx("option",{value:"yandex_market",children:"Yandex.Market"})]})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(wt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No orders found"}),a.jsx("p",{className:"comment",children:"// Orders will appear here once created"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Order #"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Customer"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Source"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Total"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Status"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),a.jsx("tbody",{children:t.map(u=>{var m,p,x,y;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:u.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date((m=u.dates)==null?void 0:m.created_at).toLocaleDateString()}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:((p=u.customer)==null?void 0:p.name)||"N/A"}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${c(u.source)}`,children:u.source})}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:["",((y=(x=u.totals)==null?void 0:x.total)==null?void 0:y.toLocaleString())||0]}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("span",{className:"flex items-center space-x-2",children:[d(u.status),a.jsx("span",{className:"text-sm font-mono uppercase",children:u.status})]})}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsx("button",{onClick:()=>window.location.href=`/orders/${u.id}`,className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors text-xs uppercase font-mono","data-testid":`view-order-${u.id}`,children:"View"})})]},u.id)})})]})})})]})}function c_(){const{api:e}=ve(),{language:t}=Cy(),[r,n]=f.useState({revenue:0,costs:0,cogs:0,gross_profit:0,net_profit:0,margin:0,transactions_count:0}),[s,i]=f.useState(!0);f.useEffect(()=>{o()},[]);const o=async()=>{try{const l=await e.get("/api/finance/dashboard");n(l.data)}catch(l){console.error("Failed to load finance dashboard:",l)}i(!1)};return s?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"FINANCIAL DASHBOARD"}),a.jsx("p",{className:"comment",children:"// Your financial overview"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Revenue"}),a.jsxs("p",{className:"text-4xl font-bold text-mm-green flex items-center",children:[a.jsx(Ls,{className:"mr-2"}),"",r.revenue.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Costs"}),a.jsxs("p",{className:"text-4xl font-bold text-mm-red flex items-center",children:[a.jsx(Pl,{className:"mr-2"}),"",r.costs.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Net Profit"}),a.jsxs("p",{className:`text-4xl font-bold flex items-center ${r.net_profit>=0?"text-mm-green":"text-mm-red"}`,children:[a.jsx(za,{className:"mr-2"}),"",r.net_profit.toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// COGS (Cost of Goods)"}),a.jsxs("p",{className:"text-2xl font-bold text-mm-yellow",children:["",r.cogs.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Gross Profit"}),a.jsxs("p",{className:"text-2xl font-bold text-mm-cyan",children:["",r.gross_profit.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Margin"}),a.jsxs("p",{className:"text-2xl font-bold text-mm-purple",children:[r.margin,"%"]})]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:"PROFIT BREAKDOWN"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[a.jsx("span",{className:"font-mono text-mm-text-secondary",children:"Revenue"}),a.jsxs("span",{className:"font-mono text-mm-green",children:["+ ",r.revenue.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[a.jsx("span",{className:"font-mono text-mm-text-secondary",children:"COGS"}),a.jsxs("span",{className:"font-mono text-mm-red",children:["- ",r.cogs.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border font-bold",children:[a.jsx("span",{className:"font-mono",children:"Gross Profit"}),a.jsxs("span",{className:"font-mono text-mm-cyan",children:["",r.gross_profit.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[a.jsx("span",{className:"font-mono text-mm-text-secondary",children:"Operating Costs"}),a.jsxs("span",{className:"font-mono text-mm-red",children:["- ",r.costs.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 font-bold text-lg",children:[a.jsx("span",{className:"font-mono",children:"Net Profit"}),a.jsxs("span",{className:`font-mono ${r.net_profit>=0?"text-mm-green":"text-mm-red"}`,children:["",r.net_profit.toLocaleString()]})]})]})]}),a.jsx("div",{className:"card-neon",children:a.jsxs("p",{className:"comment",children:["// Transactions processed: ",r.transactions_count]})})]})}function d_({isAdmin:e=!1}){const{api:t}=ve(),[r,n]=f.useState([]),[s,i]=f.useState(!0),[o,l]=f.useState(!1),[d,c]=f.useState("");f.useEffect(()=>{u()},[]);const u=async()=>{try{const v=await t.get("/api/payouts");n(v.data)}catch(v){console.error("Failed to load payouts:",v)}i(!1)},m=async v=>{v.preventDefault();try{await t.post("/api/payouts/request",null,{params:{amount:parseFloat(d)}}),l(!1),c(""),u(),alert("Payout request submitted!")}catch{alert("Failed to request payout")}},p=async v=>{try{await t.put(`/api/admin/payouts/${v}/approve`),u()}catch(h){console.error("Failed to approve:",h)}},x=async v=>{try{await t.put(`/api/admin/payouts/${v}/paid`),u()}catch(h){console.error("Failed to mark paid:",h)}},y=async v=>{try{await t.put(`/api/admin/payouts/${v}/reject`),u()}catch(h){console.error("Failed to reject:",h)}},g=v=>{const h={pending:{class:"status-pending",icon:Xn,text:"PENDING"},approved:{class:"status-new",icon:zd,text:"APPROVED"},paid:{class:"status-active",icon:zd,text:"PAID"},rejected:{class:"status-error",icon:Ty,text:"REJECTED"}};return h[v]||h.pending};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:e?"PAYOUT REQUESTS":"BALANCE & PAYOUTS"}),a.jsx("p",{className:"comment",children:e?"// Manage seller payout requests":"// Request withdrawals"})]}),!e&&a.jsx("button",{onClick:()=>l(!0),className:"btn-primary","data-testid":"request-payout-button",children:" REQUEST PAYOUT"})]}),s?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):r.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(za,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No payout requests"}),a.jsxs("p",{className:"comment",children:["// ",e?"Requests will appear here":'Click "REQUEST PAYOUT" to withdraw funds']})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),e&&a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Seller"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Amount"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Status"}),e&&a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),a.jsx("tbody",{children:r.map(v=>{const h=g(v.status),b=h.icon;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(v.created_at).toLocaleDateString()}),e&&a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[v.seller_id.substring(0,8),"..."]}),a.jsxs("td",{className:"py-4 px-4 font-mono text-lg text-mm-green",children:["",v.amount.toLocaleString()]}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("span",{className:h.class,children:[a.jsx(b,{className:"inline mr-1"}),h.text]})}),e&&a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[v.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>p(v.id),className:"px-3 py-1 border border-mm-green text-mm-green hover:bg-mm-green/10 text-xs uppercase font-mono",children:"APPROVE"}),a.jsx("button",{onClick:()=>y(v.id),className:"px-3 py-1 border border-mm-red text-mm-red hover:bg-mm-red/10 text-xs uppercase font-mono",children:"REJECT"})]}),v.status==="approved"&&a.jsx("button",{onClick:()=>x(v.id),className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 text-xs uppercase font-mono",children:"MARK AS PAID"})]})]},v.id)})})]})})}),o&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"card-neon max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan",children:"REQUEST PAYOUT"}),a.jsx("button",{onClick:()=>l(!1),className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:""})]}),a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Amount"}),a.jsx("input",{type:"number",step:"0.01",value:d,onChange:v=>c(v.target.value),className:"input-neon w-full",placeholder:"10000.00",required:!0}),a.jsx("p",{className:"comment text-xs mt-1",children:"// Enter amount in RUB"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"REQUEST"}),a.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})})]})}function u_(){const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,d]=f.useState(null);f.useEffect(()=>{c()},[]);const c=async()=>{s(!0);try{const m=await e.get("/api/warehouses");r(m.data)}catch(m){Y.error("  "),console.error(m)}s(!1)},u=async m=>{var p,x;if(confirm(`  "${m.name}"?`))try{await e.delete(`/api/warehouses/${m.id}`),Y.success(" "),c()}catch(y){Y.error(((x=(p=y.response)==null?void 0:p.data)==null?void 0:x.detail)||" ")}};return a.jsx("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan uppercase mb-2","data-testid":"warehouses-title",children:""}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"//    "})]}),a.jsxs("button",{onClick:()=>{d(null),o(!0)},className:"btn-primary flex items-center space-x-2","data-testid":"create-warehouse-btn",children:[a.jsx(Ar,{}),a.jsx("span",{children:" "})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16","data-testid":"empty-state",children:[a.jsx(ki,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-6",children:"//      "}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[a.jsx(Ar,{className:"inline mr-2"})," "]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(m=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`warehouse-row-${m.id}`,children:[a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ki,{className:"text-mm-cyan",size:20}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:m.name}),m.address&&a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:m.address})]})]})}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:`px-3 py-1 text-xs font-mono uppercase rounded ${m.type==="main"?"bg-mm-cyan/20 text-mm-cyan border border-mm-cyan":m.type==="marketplace"?"bg-mm-purple/20 text-mm-purple border border-mm-purple":"bg-mm-yellow/20 text-mm-yellow border border-mm-yellow"}`,children:m.type})}),a.jsx("td",{className:"py-4 px-4 text-center",children:a.jsx("span",{className:"text-mm-cyan font-mono font-bold",children:m.priority||1})}),a.jsx("td",{className:"py-4 px-4 text-center",children:m.transfer_stock?a.jsx(Bt,{className:"inline text-mm-green",size:20}):a.jsx(xt,{className:"inline text-mm-red",size:20})}),a.jsx("td",{className:"py-4 px-4 text-center",children:m.use_for_orders?a.jsx(Bt,{className:"inline text-mm-green",size:20}):a.jsx(xt,{className:"inline text-mm-red",size:20})}),a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[a.jsx("button",{onClick:()=>{d(m),o(!0)},className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":`edit-warehouse-${m.id}`,children:a.jsx(Fa,{size:16})}),m.type!=="main"&&a.jsx("button",{onClick:()=>u(m),className:"px-3 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors","data-testid":`delete-warehouse-${m.id}`,children:a.jsx(hn,{size:16})})]})]},m.id))})]})}),i&&a.jsx(QI,{warehouse:l,onClose:()=>{o(!1),d(null)},onSuccess:()=>{o(!1),d(null),c()}})]})})}function QI({warehouse:e,onClose:t,onSuccess:r}){const{api:n}=ve(),[s,i]=f.useState({name:"",type:"main",address:"",comment:"",transfer_stock:!0,load_orders:!0,use_for_orders:!0,priority:1,fbo_accounting:!1,return_on_cancel:!0}),[o,l]=f.useState([]),[d,c]=f.useState([]),[u,m]=f.useState(""),[p,x]=f.useState([]),[y,g]=f.useState(!1);f.useEffect(()=>{e&&(i({name:e.name||"",type:e.type||"main",address:e.address||"",comment:e.comment||"",transfer_stock:e.transfer_stock!==!1,load_orders:e.load_orders!==!1,use_for_orders:e.use_for_orders!==!1,priority:e.priority||1,fbo_accounting:e.fbo_accounting||!1,return_on_cancel:e.return_on_cancel!==void 0?e.return_on_cancel:!0}),v(),h())},[e]);const v=async()=>{if(e)try{const w=await n.get(`/api/warehouse-links/${e.id}/links`);l(w.data)}catch(w){console.error("Failed to load links:",w)}},h=async()=>{try{const w=await n.get("/api/seller/api-keys");c(w.data)}catch(w){console.error("Failed to load integrations:",w)}},b=async()=>{var w,P,_;if(!u){Y.error(" ");return}g(!0);try{const C=await n.get(`/api/marketplace/${u}/warehouses`);x(C.data.warehouses||[]),((w=C.data.warehouses)==null?void 0:w.length)===0?Y.error("  FBS   "):Y.success(` ${C.data.warehouses.length} `)}catch(C){Y.error(((_=(P=C.response)==null?void 0:P.data)==null?void 0:_.detail)||"  "),x([])}g(!1)},j=async w=>{var P,_;if(e)try{const C=d.find(O=>O.marketplace===u);await n.post(`/api/warehouse-links/${e.id}/links`,{integration_id:C.id,marketplace_name:u,marketplace_warehouse_id:w.id,marketplace_warehouse_name:w.name}),Y.success(" "),v(),x([]),m("")}catch(C){Y.error(((_=(P=C.response)==null?void 0:P.data)==null?void 0:_.detail)||"  ")}},k=async w=>{if(confirm(" ?"))try{await n.delete(`/api/warehouse-links/${e.id}/links/${w}`),Y.success(" "),v()}catch{Y.error("  ")}},N=async w=>{var P,_;w.preventDefault();try{e?(await n.put(`/api/warehouses/${e.id}`,s),Y.success(" ")):(await n.post("/api/warehouses",s),Y.success(" ")),r()}catch(C){Y.error(((_=(P=C.response)==null?void 0:P.data)==null?void 0:_.detail)||" ")}};return a.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 z-50","data-testid":"warehouse-modal",children:a.jsxs("div",{className:"card-neon max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:e?" ":" "}),a.jsx("button",{onClick:t,className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:a.jsx(xt,{size:24})})]}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsx("input",{type:"text",value:s.name,onChange:w=>i({...s,name:w.target.value}),className:"input-neon w-full",placeholder:"  ",required:!0,"data-testid":"warehouse-name-input"})]}),!e&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsxs("select",{value:s.type,onChange:w=>i({...s,type:w.target.value}),className:"input-neon w-full","data-testid":"warehouse-type-select",children:[a.jsx("option",{value:"main",children:""}),a.jsx("option",{value:"marketplace",children:""}),a.jsx("option",{value:"transit",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"text",value:s.address,onChange:w=>i({...s,address:w.target.value}),className:"input-neon w-full",placeholder:". , . , 10","data-testid":"warehouse-address-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("textarea",{value:s.comment,onChange:w=>i({...s,comment:w.target.value}),className:"input-neon w-full",rows:"3",placeholder:" ","data-testid":"warehouse-comment-input"})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsx("h4",{className:"text-mm-cyan uppercase text-sm mb-4",children:"//  "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:"   "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"  "})]}),a.jsx("input",{type:"checkbox",checked:s.transfer_stock,onChange:w=>i({...s,transfer_stock:w.target.checked}),className:"toggle-switch","data-testid":"transfer-stock-toggle"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:" "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"   "})]}),a.jsx("input",{type:"checkbox",checked:s.load_orders,onChange:w=>i({...s,load_orders:w.target.checked}),className:"toggle-switch","data-testid":"load-orders-toggle"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:"  "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"   "})]}),a.jsx("input",{type:"checkbox",checked:s.use_for_orders,onChange:w=>i({...s,use_for_orders:w.target.checked}),className:"toggle-switch","data-testid":"use-for-orders-toggle"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" "}),a.jsx("input",{type:"number",min:"1",max:"10",value:s.priority,onChange:w=>i({...s,priority:parseInt(w.target.value)||1}),className:"input-neon w-32","data-testid":"priority-input"}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-1",children:"//  =   (1, 2, 3...)"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:" FBO"}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"   FBO (FIFO)"})]}),a.jsx("input",{type:"checkbox",checked:s.fbo_accounting,onChange:w=>i({...s,fbo_accounting:w.target.checked}),className:"toggle-switch","data-testid":"fbo-accounting-toggle"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:"  "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"      "})]}),a.jsx("input",{type:"checkbox",checked:s.return_on_cancel!==void 0?s.return_on_cancel:!0,onChange:w=>i({...s,return_on_cancel:w.target.checked}),className:"toggle-switch","data-testid":"return-on-cancel-toggle"})]})]})]}),e&&a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsx("h4",{className:"text-mm-cyan uppercase text-sm mb-4",children:"//    "}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mb-4",children:"  FBS  ,    "}),o.length>0&&a.jsx("div",{className:"mb-4 space-y-2",children:o.map(w=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-mm-darker border border-mm-border",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-semibold text-sm",children:[a.jsx("span",{className:"text-mm-purple uppercase",children:w.marketplace_name}),"  ",w.marketplace_warehouse_name]}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:["ID: ",w.marketplace_warehouse_id]})]}),a.jsx("button",{type:"button",onClick:()=>k(w.id),className:"px-3 py-1 border border-mm-red text-mm-red hover:bg-mm-red/10 text-xs",children:""})]},w.id))}),a.jsxs("div",{className:"space-y-3 p-4 bg-mm-darker border border-mm-border",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 text-mm-text-tertiary uppercase",children:" 1: "}),a.jsxs("select",{value:u,onChange:w=>{m(w.target.value),x([])},className:"input-neon w-full text-sm","data-testid":"marketplace-select",children:[a.jsx("option",{value:"",children:"..."}),d.map(w=>a.jsx("option",{value:w.marketplace,children:w.name||w.marketplace.toUpperCase()},w.id))]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:b,disabled:!u||y,className:"btn-secondary w-full text-xs disabled:opacity-50","data-testid":"load-mp-warehouses-btn",children:y?"...":" 2:  "})})]}),p.length>0&&a.jsx("div",{className:"mt-3 max-h-48 overflow-y-auto border border-mm-border",children:p.map(w=>a.jsxs("button",{type:"button",onClick:()=>j(w),className:"w-full text-left px-3 py-2 hover:bg-mm-gray transition-colors border-b border-mm-border last:border-b-0","data-testid":`add-link-${w.id}`,children:[a.jsx("div",{className:"text-sm font-semibold",children:w.name}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary",children:[": ",w.type," | ID: ",w.id]})]},w.id))})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1","data-testid":"cancel-btn",children:""}),a.jsx("button",{type:"submit",className:"btn-primary flex-1","data-testid":"submit-btn",children:e?"":""})]})]})]})})}function ZI(){const{api:e}=ve(),[t,r]=f.useState("fbs"),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,d]=f.useState([]),[c,u]=f.useState(!0),[m,p]=f.useState(!1),[x,y]=f.useState(!1),[g,v]=f.useState({product_id:"",quantity_change:"",reason:""}),[h,b]=f.useState({marketplace:"ozon",warehouse:"",products:[]}),[j,k]=f.useState([]);f.useEffect(()=>{w(),N()},[t]);const N=async()=>{try{const _=await e.get("/api/products");k(_.data)}catch(_){console.error("Failed to load products:",_)}},w=async()=>{u(!0);try{if(t==="fbs"){const _=await e.get("/api/inventory");s(_.data)}else if(t==="fbo"){const _=await e.get("/api/inventory/fbo");o(_.data)}else if(t==="history"){const _=await e.get("/api/inventory/history");d(_.data)}}catch(_){console.error("Failed to load data:",_)}u(!1)},P=async _=>{var C,O;_.preventDefault();try{await e.post(`/api/inventory/${g.product_id}/adjust`,{quantity_change:parseInt(g.quantity_change),reason:g.reason}),p(!1),v({product_id:"",quantity_change:"",reason:""}),w(),alert("Inventory adjusted successfully!")}catch(S){console.error("Failed to adjust inventory:",S),alert("Failed to adjust: "+(((O=(C=S.response)==null?void 0:C.data)==null?void 0:O.detail)||S.message))}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"Inventory & Stock"}),a.jsx("p",{className:"comment",children:"// Manage warehouse and stock levels"})]}),t==="fbs"&&a.jsx("button",{onClick:()=>y(!0),className:"btn-primary","data-testid":"create-fbo-shipment-button",children:"+ CREATE FBO SHIPMENT"})]}),a.jsxs("div",{className:"flex space-x-4 border-b border-mm-border",children:[a.jsx("button",{onClick:()=>r("fbs"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="fbs"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"FBS (Own Warehouse)"}),a.jsx("button",{onClick:()=>r("fbo"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="fbo"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"FBO (Marketplace Warehouses)"}),a.jsx("button",{onClick:()=>r("history"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="history"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"Movement History"})]}),t==="fbs"&&a.jsx("div",{children:c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):n.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(wt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No inventory records"}),a.jsx("p",{className:"comment",children:"// Add products first, then manage stock"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Total"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Reserved"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Available"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Alert"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),a.jsx("tbody",{children:n.map(_=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:_.sku}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:_.product_name||"N/A"}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:_.quantity}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-yellow",children:_.reserved}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:a.jsx("span",{className:_.available<=(_.alert_threshold||0)?"text-mm-red":"text-mm-green",children:_.available})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:_.alert_threshold||10}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsx("button",{onClick:()=>{v({...g,product_id:_.product_id}),p(!0)},className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors text-xs uppercase font-mono",children:"Adjust"})})]},_.id))})]})})})}),t==="fbo"&&a.jsx("div",{children:c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):i.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(wt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No FBO inventory"}),a.jsx("p",{className:"comment",children:"// FBO stock will appear here"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Marketplace"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Warehouse"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Quantity"})]})}),a.jsx("tbody",{children:i.map(_=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:_.sku}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:_.product_name||"N/A"}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-mono border border-mm-purple text-mm-purple",children:_.marketplace})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:_.warehouse_name}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-green",children:_.quantity})]},_.id))})]})})})}),t==="history"&&a.jsx("div",{children:c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):l.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No movement history"}),a.jsx("p",{className:"comment",children:"// All stock movements will be logged here"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Operation"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Change"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Reason"})]})}),a.jsx("tbody",{children:l.map(_=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(_.created_at).toLocaleString()}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:_.sku}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:_.product_name||"N/A"}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-mono border border-mm-cyan text-mm-cyan",children:_.operation_type})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:a.jsxs("span",{className:`flex items-center space-x-1 ${_.quantity_change>0?"text-mm-green":"text-mm-red"}`,children:[_.quantity_change>0?a.jsx(Ls,{}):a.jsx(Pl,{}),a.jsxs("span",{children:[_.quantity_change>0?"+":"",_.quantity_change]})]})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:_.reason})]},_.id))})]})})})}),m&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"card-neon max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan",children:"ADJUST INVENTORY"}),a.jsx("button",{onClick:()=>p(!1),className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:""})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Quantity Change"}),a.jsx("input",{type:"number",value:g.quantity_change,onChange:_=>v({...g,quantity_change:_.target.value}),className:"input-neon w-full",placeholder:"+100 or -50",required:!0}),a.jsx("p",{className:"comment text-xs mt-1",children:"// Use + for adding, - for removing"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Reason"}),a.jsx("textarea",{value:g.reason,onChange:_=>v({...g,reason:_.target.value}),className:"input-neon w-full",rows:"3",placeholder:"Reason for adjustment...",required:!0})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"ADJUST STOCK"}),a.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})}),x&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"card-neon max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan",children:"CREATE FBO SHIPMENT"}),a.jsx("button",{onClick:()=>y(!1),className:"text-mm-text-secondary hover:text-mm-red",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card-neon bg-mm-darker",children:[a.jsx("p",{className:"comment mb-3",children:"// Step 1: Select Warehouse"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Marketplace"}),a.jsxs("select",{value:h.marketplace,onChange:_=>b({...h,marketplace:_.target.value}),className:"input-neon w-full",children:[a.jsx("option",{value:"ozon",children:"Ozon"}),a.jsx("option",{value:"wb",children:"Wildberries"}),a.jsx("option",{value:"yandex",children:"Yandex.Market"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Warehouse"}),a.jsxs("select",{value:h.warehouse,onChange:_=>b({...h,warehouse:_.target.value}),className:"input-neon w-full",children:[a.jsx("option",{value:"",children:"Select warehouse"}),a.jsx("option",{value:"moscow",children:"Moscow - Khoruzhino"}),a.jsx("option",{value:"spb",children:"Saint Petersburg"}),a.jsx("option",{value:"kazan",children:"Kazan"}),a.jsx("option",{value:"ekb",children:"Ekaterinburg"})]})]})]})]}),a.jsxs("div",{className:"card-neon bg-mm-darker",children:[a.jsx("p",{className:"comment mb-3",children:"// Step 2: Add Products to Shipment"}),a.jsx("div",{className:"space-y-2 mb-4",children:h.products.map((_,C)=>a.jsxs("div",{className:"flex items-center space-x-2 bg-mm-black p-2 border border-mm-border",children:[a.jsx("span",{className:"flex-1 font-mono text-sm",children:_.name}),a.jsx("span",{className:"text-mm-text-secondary",children:"Qty:"}),a.jsx("input",{type:"number",value:_.quantity,onChange:O=>{const S=[...h.products];S[C].quantity=parseInt(O.target.value)||0,b({...h,products:S})},className:"input-neon w-20",min:"1"}),a.jsx("button",{onClick:()=>{b({...h,products:h.products.filter((O,S)=>S!==C)})},className:"text-mm-red",children:""})]},C))}),a.jsxs("select",{onChange:_=>{const C=j.find(O=>O.id===_.target.value);C&&!h.products.find(O=>O.id===C.id)&&b({...h,products:[...h.products,{id:C.id,name:C.minimalmod.name,sku:C.sku,quantity:1}]}),_.target.value=""},className:"input-neon w-full",children:[a.jsx("option",{value:"",children:"+ Add product to shipment"}),j.map(_=>a.jsxs("option",{value:_.id,children:[_.sku," - ",_.minimalmod.name]},_.id))]})]}),h.products.length>0&&a.jsxs("div",{className:"card-neon bg-mm-darker",children:[a.jsx("p",{className:"comment mb-3",children:"// Step 3: Confirm Shipment"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"Total Items:"}),a.jsx("span",{className:"font-bold",children:h.products.reduce((_,C)=>_+C.quantity,0)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"Products:"}),a.jsx("span",{className:"font-bold",children:h.products.length})]})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:async()=>{var _,C;if(!h.warehouse){alert("Please select warehouse");return}if(h.products.length===0){alert("Please add products");return}try{const O=await e.post("/api/inventory/fbo-shipment",h);alert(O.data.message),y(!1),b({marketplace:"ozon",warehouse:"",products:[]}),w()}catch(O){alert("Failed to create shipment: "+(((C=(_=O.response)==null?void 0:_.data)==null?void 0:C.detail)||O.message))}},className:"btn-primary flex-1",disabled:!h.warehouse||h.products.length===0,children:"CREATE SHIPMENT"}),a.jsx("button",{onClick:()=>{y(!1),b({marketplace:"ozon",warehouse:"",products:[]})},className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})})]})}function m_(){const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState([]),[i,o]=f.useState(null),[l,d]=f.useState(!0),[c,u]=f.useState(!1),[m,p]=f.useState(null),[x,y]=f.useState(""),[g,v]=f.useState(""),[h,b]=f.useState("all"),[j,k]=f.useState({field:"sku",direction:"asc"}),[N,w]=f.useState(!1),[P,_]=f.useState(!1),[C,O]=f.useState(!1),[S,E]=f.useState([]),[I,A]=f.useState(null),[M,U]=f.useState([]),[W,L]=f.useState(null),[R,$]=f.useState(!1),X=f.useMemo(()=>{let H=[...t];if(g.trim()){const re=g.toLowerCase();H=H.filter(ce=>ce.sku.toLowerCase().includes(re)||ce.product_name&&ce.product_name.toLowerCase().includes(re))}return h==="in_stock"?H=H.filter(re=>re.quantity>0):h==="out_of_stock"&&(H=H.filter(re=>re.quantity===0)),N&&(H=H.filter(re=>re.quantity<re.alert_threshold)),P&&(H=H.filter(re=>re.reserved>0)),H.sort((re,ce)=>{let ge,z;return j.field==="name"?(ge=re.product_name||"",z=ce.product_name||""):j.field==="sku"?(ge=re.sku||"",z=ce.sku||""):j.field==="quantity"&&(ge=re.quantity||0,z=ce.quantity||0),j.direction==="asc"?ge>z?1:-1:ge<z?1:-1}),H},[t,g,h,j,N,P]),T=()=>{v(""),b("all"),k({field:"sku",direction:"asc"}),w(!1),_(!1)},Q=H=>{k(re=>({field:H,direction:re.field===H&&re.direction==="asc"?"desc":"asc"}))};f.useEffect(()=>{(async()=>{await ee(),await q(),i&&await D()})()},[]),f.useEffect(()=>{i&&D()},[i]);const ee=async()=>{try{const re=(await e.get("/api/warehouses")).data;s(re);const ce=localStorage.getItem("selectedWarehouseId");if(ce){const ge=re.find(z=>z.id===ce);ge?o(ge):re.length>0&&o(re[0])}else re.length>0&&o(re[0])}catch(H){Y.error("  "),console.error(H)}},D=async()=>{d(!0);try{const H=await e.get("/api/inventory/fbs");r(H.data)}catch(H){Y.error("  "),console.error(H)}d(!1)},q=async()=>{try{const H=await e.post("/api/inventory/sync-catalog");return console.log("Inventory synced:",H.data),H.data}catch(H){return console.error("Failed to sync inventory:",H),null}},ie=H=>{const re=n.find(ce=>ce.id===H);re&&(o(re),localStorage.setItem("selectedWarehouseId",H))},Z=H=>{p(H.id),y(H.quantity.toString())},F=()=>{p(null),y("")},le=async H=>{var ge,z,ae,B;const re=parseInt(x,10);if(console.log("[SAVE STOCK]  :",{stock_id:H.id,product_id:H.product_id,sku:H.sku,editValue:x,parsedQuantity:re,selectedWarehouse:i}),isNaN(re)||re<0){console.error("[SAVE STOCK]   :",re),Y.error(" ");return}if(!i){console.error("[SAVE STOCK]    "),Y.error(" ");return}const ce={product_id:H.product_id,article:H.sku,new_quantity:re,warehouse_id:i.id};console.log("[SAVE STOCK]     /api/inventory/update-stock:",ce);try{const oe=await e.put("/api/inventory/update-stock",ce);console.log("[SAVE STOCK]     :",oe.data),Y.success(oe.data.message||" "),r(t.map(de=>de.id===H.id?{...de,quantity:re,available:re-de.reserved}:de)),F()}catch(oe){console.error("[SAVE STOCK]   :",{message:oe.message,response:(ge=oe.response)==null?void 0:ge.data,status:(z=oe.response)==null?void 0:z.status}),Y.error(((B=(ae=oe.response)==null?void 0:ae.data)==null?void 0:B.detail)||"  "),console.error(oe)}},pe=async()=>{d(!0);try{const H=await q();H&&H.created>0?Y.success(` ${H.created}    `):Y.success(" "),await D()}catch(H){Y.error("  "),console.error(H)}d(!1)},J=async()=>{var H,re;if(!i){Y.error("   ");return}if(confirm(`     "${i.name}"?`)){u(!0);try{const ce=await e.post("/api/inventory/sync-all-stocks",{warehouse_id:i.id});Y.success(ce.data.message||" ")}catch(ce){Y.error(((re=(H=ce.response)==null?void 0:H.data)==null?void 0:re.detail)||" "),console.error(ce)}u(!1)}},G=async()=>{try{const H=await e.get("/api/seller/api-keys");E(H.data),O(!0)}catch(H){Y.error("  "),console.error(H)}},se=async H=>{if(A(H),L(null),U([]),!!H)try{const re=await e.get(`/api/inventory/marketplace-warehouses/${H}`);U(re.data.warehouses||[])}catch(re){Y.error("   "),console.error(re)}},be=async()=>{var H,re;if(!I||!W){Y.error("   ");return}$(!0);try{const ce=await e.post("/api/inventory/import-stocks-from-marketplace",{integration_id:I,marketplace_warehouse_id:W});Y.success(ce.data.message||" "),O(!1),await D()}catch(ce){Y.error(((re=(H=ce.response)==null?void 0:H.data)==null?void 0:re.detail)||"  "),console.error(ce)}$(!1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl text-mm-cyan uppercase mb-2","data-testid":"stocks-title",children:"  "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"      "})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:G,className:"btn-secondary flex items-center space-x-2 text-sm","data-testid":"import-stocks-btn",children:[a.jsx(Wt,{}),a.jsx("span",{children:"  "})]}),a.jsxs("button",{onClick:pe,disabled:l,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50","data-testid":"sync-catalog-btn",children:[a.jsx(jt,{className:l?"animate-spin":""}),a.jsx("span",{children:" "})]}),a.jsxs("button",{onClick:J,disabled:!i||c,className:"btn-primary flex items-center space-x-2 disabled:opacity-50","data-testid":"sync-all-btn",children:[a.jsx(rr,{}),a.jsx("span",{children:c?"...":"   "})]}),a.jsxs("button",{onClick:D,disabled:l,className:"btn-secondary flex items-center space-x-2","data-testid":"refresh-btn",children:[a.jsx(jt,{className:l?"animate-spin":""}),a.jsx("span",{children:""})]})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsxs("select",{value:(i==null?void 0:i.id)||"",onChange:H=>ie(H.target.value),className:"input-neon w-full max-w-md","data-testid":"warehouse-select",children:[a.jsx("option",{value:"",children:" ..."}),n.map(H=>a.jsxs("option",{value:H.id,children:[H.name," ",H.sends_stock?"( )":""]},H.id))]}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-2",children:i?` : ${i.name}.      .`:"     "})]}),i&&t.length>0&&a.jsxs("div",{className:"card-neon p-4 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsxs("div",{className:"flex-1 min-w-[250px]",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary uppercase mb-2",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(Qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-mm-text-tertiary"}),a.jsx("input",{type:"text",placeholder:"    ...",value:g,onChange:H=>v(H.target.value),className:"input-neon w-full pl-10","data-testid":"search-input"})]})]}),a.jsxs("div",{className:"min-w-[200px]",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary uppercase mb-2",children:""}),a.jsxs("select",{value:h,onChange:H=>b(H.target.value),className:"input-neon w-full","data-testid":"availability-filter",children:[a.jsx("option",{value:"all",children:" "}),a.jsx("option",{value:"in_stock",children:" "}),a.jsx("option",{value:"out_of_stock",children:"  "})]})]}),a.jsxs("div",{className:"min-w-[200px]",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary uppercase mb-2",children:""}),a.jsxs("select",{value:j.field,onChange:H=>Q(H.target.value),className:"input-neon w-full","data-testid":"sort-select",children:[a.jsx("option",{value:"sku",children:" "}),a.jsx("option",{value:"name",children:" "}),a.jsx("option",{value:"quantity",children:" "})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer","data-testid":"critical-filter",children:[a.jsx("input",{type:"checkbox",checked:N,onChange:H=>w(H.target.checked),className:"w-4 h-4 bg-mm-dark border-mm-border rounded text-mm-cyan focus:ring-mm-cyan focus:ring-offset-0"}),a.jsx("span",{className:"text-sm text-mm-text-secondary",children:" "})]}),a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer","data-testid":"reserved-filter",children:[a.jsx("input",{type:"checkbox",checked:P,onChange:H=>_(H.target.checked),className:"w-4 h-4 bg-mm-dark border-mm-border rounded text-mm-cyan focus:ring-mm-cyan focus:ring-offset-0"}),a.jsx("span",{className:"text-sm text-mm-text-secondary",children:" "})]}),(g||h!=="all"||N||P||j.field!=="sku")&&a.jsxs("button",{onClick:T,className:"text-sm text-mm-cyan hover:text-mm-green transition-colors flex items-center space-x-1","data-testid":"reset-filters-btn",children:[a.jsx(xt,{size:16}),a.jsx("span",{children:" "})]}),a.jsxs("div",{className:"ml-auto text-sm text-mm-text-tertiary",children:[": ",a.jsx("span",{className:"text-mm-cyan font-mono",children:X.length}),"  ",t.length]})]})]}),i?l?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16",children:[a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary",children:"     "})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:X.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:"7",className:"py-12 text-center",children:[a.jsx("p",{className:"text-mm-text-secondary",children:" ,  "}),a.jsx("button",{onClick:T,className:"mt-2 text-sm text-mm-cyan hover:underline",children:" "})]})}):X.map(H=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsxs("td",{className:"py-4 px-4",children:[H.product_image?a.jsx("img",{src:H.product_image,alt:H.product_name||H.sku,className:"w-12 h-12 object-cover rounded bg-mm-dark",onError:re=>{re.target.style.display="none",re.target.nextSibling.style.display="flex"}}):null,a.jsx("div",{className:"w-12 h-12 bg-mm-dark rounded flex items-center justify-center text-mm-text-secondary text-xs",style:{display:H.product_image?"none":"flex"},children:" "})]}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:H.sku}),a.jsx("td",{className:"py-4 px-4 text-sm",children:H.product_name||""}),a.jsx("td",{className:"py-4 px-4 text-center",children:m===H.id?a.jsx("input",{type:"number",value:x,onChange:re=>y(re.target.value),className:"input-neon w-24 text-center",autoFocus:!0,"data-testid":`edit-input-${H.sku}`}):a.jsx("span",{className:"font-mono font-bold",children:H.quantity})}),a.jsx("td",{className:"py-4 px-4 text-center font-mono text-mm-yellow",children:H.reserved}),a.jsx("td",{className:"py-4 px-4 text-center font-mono font-bold text-mm-green",children:H.available}),a.jsx("td",{className:"py-4 px-4 text-center",children:m===H.id?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("button",{onClick:()=>le(H),className:"text-mm-green hover:text-mm-cyan transition-colors","data-testid":`save-btn-${H.sku}`,children:a.jsx(Bt,{size:20})}),a.jsx("button",{onClick:F,className:"text-mm-red hover:text-mm-text-secondary transition-colors","data-testid":`cancel-btn-${H.sku}`,children:a.jsx(xt,{size:20})})]}):a.jsx("button",{onClick:()=>Z(H),className:"text-mm-cyan hover:text-mm-green transition-colors","data-testid":`edit-btn-${H.sku}`,children:a.jsx(Ey,{size:18})})})]},H.id))})]})}):a.jsx("div",{className:"card-neon text-center py-16",children:a.jsx("p",{className:"text-mm-text-secondary text-lg",children:"     "})}),a.jsx("div",{className:"card-neon p-4 bg-mm-dark-secondary/30",children:a.jsxs("p",{className:"text-sm text-mm-text-secondary",children:[a.jsx("span",{className:"text-mm-cyan font-bold",children:" :"}),"       15 .    ,      ."]})}),C&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"card-neon max-w-md w-full p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase font-mono",children:"   "}),a.jsx("button",{onClick:()=>O(!1),className:"text-mm-text-secondary hover:text-mm-cyan transition-colors",children:a.jsx(xt,{size:24})})]}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:"      "}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsxs("select",{value:I||"",onChange:H=>se(H.target.value),className:"input-neon w-full",children:[a.jsx("option",{value:"",children:" ..."}),S.map(H=>a.jsxs("option",{value:H.id,children:[H.marketplace.toUpperCase()," - ",H.name||H.client_id]},H.id))]})]}),I&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsxs("select",{value:W||"",onChange:H=>L(H.target.value),className:"input-neon w-full",disabled:M.length===0,children:[a.jsx("option",{value:"",children:" ..."}),M.map(H=>a.jsx("option",{value:H.id,children:H.name},H.id))]}),M.length===0&&a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-2",children:" ..."})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>O(!1),className:"btn-secondary flex-1",disabled:R,children:""}),a.jsx("button",{onClick:be,disabled:!I||!W||R,className:"btn-primary flex-1 disabled:opacity-50",children:R?"...":""})]}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary space-y-1",children:[a.jsx("p",{children:"       "}),a.jsx("p",{children:"    "}),a.jsx("p",{children:"      "})]})]})})]})}function f_(){const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,d]=f.useState(null);f.useEffect(()=>{c()},[]);const c=async()=>{s(!0);try{const m=await e.get("/api/suppliers");r(m.data)}catch(m){Y.error("  "),console.error(m)}s(!1)},u=async m=>{var p,x;if(confirm(`  "${m.name}"?`))try{await e.delete(`/api/suppliers/${m.id}`),Y.success(" "),c()}catch(y){Y.error(((x=(p=y.response)==null?void 0:p.data)==null?void 0:x.detail)||" ")}};return a.jsx("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan uppercase mb-2","data-testid":"suppliers-title",children:""}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"//  "})]}),a.jsxs("button",{onClick:()=>{d(null),o(!0)},className:"btn-primary flex items-center space-x-2","data-testid":"create-supplier-btn",children:[a.jsx(Ar,{}),a.jsx("span",{children:" "})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16","data-testid":"empty-state",children:[a.jsx(Ni,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-6",children:"//   "}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[a.jsx(Ar,{className:"inline mr-2"})," "]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(m=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`supplier-row-${m.id}`,children:[a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ni,{className:"text-mm-cyan",size:20}),a.jsx("div",{className:"font-semibold",children:m.name})]})}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary",children:m.contact_person||""}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary font-mono",children:m.phone||""}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary font-mono",children:m.inn||""}),a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[a.jsx("button",{onClick:()=>{d(m),o(!0)},className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":`edit-supplier-${m.id}`,children:a.jsx(Fa,{size:16})}),a.jsx("button",{onClick:()=>u(m),className:"px-3 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors","data-testid":`delete-supplier-${m.id}`,children:a.jsx(hn,{size:16})})]})]},m.id))})]})}),i&&a.jsx(JI,{supplier:l,onClose:()=>{o(!1),d(null)},onSuccess:()=>{o(!1),d(null),c()}})]})})}function JI({supplier:e,onClose:t,onSuccess:r}){const{api:n}=ve(),[s,i]=f.useState({name:"",contact_person:"",phone:"",email:"",inn:"",address:"",comment:""});f.useEffect(()=>{e&&i({name:e.name||"",contact_person:e.contact_person||"",phone:e.phone||"",email:e.email||"",inn:e.inn||"",address:e.address||"",comment:e.comment||""})},[e]);const o=async l=>{var d,c;l.preventDefault();try{e?(await n.put(`/api/suppliers/${e.id}`,s),Y.success(" ")):(await n.post("/api/suppliers",s),Y.success(" ")),r()}catch(u){Y.error(((c=(d=u.response)==null?void 0:d.data)==null?void 0:c.detail)||" ")}};return a.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 z-50","data-testid":"supplier-modal",children:a.jsxs("div",{className:"card-neon max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:e?" ":" "}),a.jsx("button",{onClick:t,className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:a.jsx(xt,{size:24})})]}),a.jsxs("form",{onSubmit:o,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsx("input",{type:"text",value:s.name,onChange:l=>i({...s,name:l.target.value}),className:"input-neon w-full",placeholder:" ",required:!0,"data-testid":"supplier-name-input"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" "}),a.jsx("input",{type:"text",value:s.contact_person,onChange:l=>i({...s,contact_person:l.target.value}),className:"input-neon w-full",placeholder:" ","data-testid":"contact-person-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"tel",value:s.phone,onChange:l=>i({...s,phone:l.target.value}),className:"input-neon w-full",placeholder:"+7 (900) 123-45-67","data-testid":"phone-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Email"}),a.jsx("input",{type:"email",value:s.email,onChange:l=>i({...s,email:l.target.value}),className:"input-neon w-full",placeholder:"supplier@example.com","data-testid":"email-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"text",value:s.inn,onChange:l=>i({...s,inn:l.target.value}),className:"input-neon w-full",placeholder:"1234567890","data-testid":"inn-input"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"text",value:s.address,onChange:l=>i({...s,address:l.target.value}),className:"input-neon w-full",placeholder:". , . , 5","data-testid":"address-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("textarea",{value:s.comment,onChange:l=>i({...s,comment:l.target.value}),className:"input-neon w-full",rows:"3",placeholder:" ","data-testid":"comment-input"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1","data-testid":"cancel-btn",children:""}),a.jsx("button",{type:"submit",className:"btn-primary flex-1","data-testid":"submit-btn",children:e?"":""})]})]})]})})}function p_(){const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState("all");f.useEffect(()=>{l()},[i]);const l=async()=>{s(!0);try{const u=i!=="all"?`?status=${i}`:"",m=await e.get(`/api/income-orders${u}`);r(m.data)}catch(u){Y.error(" "),console.error(u)}s(!1)},d=u=>u?new Date(u).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"",c=u=>u==="draft"?a.jsx("span",{className:"px-3 py-1 text-xs font-mono uppercase bg-mm-yellow/20 text-mm-yellow border border-mm-yellow",children:""}):u==="accepted"?a.jsx("span",{className:"px-3 py-1 text-xs font-mono uppercase bg-mm-green/20 text-mm-green border border-mm-green",children:""}):a.jsx("span",{className:"px-3 py-1 text-xs font-mono uppercase bg-mm-text-tertiary/20 text-mm-text-tertiary",children:u});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl text-mm-cyan uppercase mb-2","data-testid":"title",children:"  "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:" "})]}),a.jsxs(rd,{to:"/income-orders/new",className:"btn-primary flex items-center space-x-2","data-testid":"create-btn",children:[a.jsx(Ar,{}),a.jsx("span",{children:" "})]})]}),a.jsx("div",{className:"card-neon",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm text-mm-text-secondary uppercase",children:":"}),a.jsx("div",{className:"flex space-x-2",children:["all","draft","accepted"].map(u=>a.jsx("button",{onClick:()=>o(u),className:`px-4 py-2 text-xs font-mono uppercase border transition-colors ${i===u?"border-mm-cyan text-mm-cyan bg-mm-cyan/10":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":`filter-${u}`,children:u==="all"?"":u==="draft"?"":""},u))})]})}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16","data-testid":"empty-state",children:[a.jsx(wt,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-6",children:"   "}),a.jsxs(rd,{to:"/income-orders/new",className:"btn-primary inline-flex items-center space-x-2",children:[a.jsx(Ar,{}),a.jsx("span",{children:" "})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"-"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(u=>{var m;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${u.id}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:u.id.substring(0,8)}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary",children:d(u.created_at)}),a.jsx("td",{className:"py-4 px-4 text-sm",children:u.supplier_name||""}),a.jsx("td",{className:"py-4 px-4 text-sm",children:u.warehouse_name||""}),a.jsx("td",{className:"py-4 px-4 text-center font-mono text-sm",children:((m=u.items)==null?void 0:m.length)||0}),a.jsx("td",{className:"py-4 px-4 text-center font-mono text-sm text-mm-cyan font-bold",children:u.total_quantity||0}),a.jsx("td",{className:"py-4 px-4",children:c(u.status)}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsx(rd,{to:`/income-orders/${u.id}/edit`,className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors inline-flex items-center","data-testid":`edit-order-${u.id}`,children:a.jsx(Fa,{size:16})})})]},u.id)})})]})})]})}function x_(){const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState({marketplace:"",status:""});f.useEffect(()=>{l()},[i]);const l=async()=>{s(!0);try{const c=new URLSearchParams;i.marketplace&&c.append("marketplace",i.marketplace),i.status&&c.append("status",i.status);const u=await e.get(`/api/stock-sync/history?${c}`);r(u.data)}catch(c){Y.error("  "),console.error(c)}s(!1)},d=c=>c?new Date(c).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl text-mm-cyan uppercase mb-2",children:"  "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"    "})]}),a.jsxs("button",{onClick:l,className:"btn-secondary flex items-center space-x-2","data-testid":"refresh-btn",children:[a.jsx(jt,{}),a.jsx("span",{children:""})]})]}),a.jsx("div",{className:"card-neon",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Oy,{className:"text-mm-cyan"}),a.jsxs("select",{value:i.marketplace,onChange:c=>o({...i,marketplace:c.target.value}),className:"input-neon text-sm",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"ozon",children:"Ozon"}),a.jsx("option",{value:"wb",children:"Wildberries"}),a.jsx("option",{value:"yandex",children:"Yandex"})]}),a.jsxs("select",{value:i.status,onChange:c=>o({...i,status:c.target.value}),className:"input-neon text-sm",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"success",children:""}),a.jsx("option",{value:"failed",children:""})]})]})}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16",children:[a.jsx(jt,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary",children:"    "})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:" "}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-center py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(c=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-3 px-3 font-mono text-xs text-mm-text-secondary",children:d(c.synced_at)}),a.jsx("td",{className:"py-3 px-3",children:a.jsx("span",{className:"px-2 py-1 text-xs font-mono uppercase bg-mm-purple/20 text-mm-purple border border-mm-purple",children:c.marketplace})}),a.jsx("td",{className:"py-3 px-3 font-mono text-xs text-mm-text-secondary",children:c.marketplace_warehouse_id}),a.jsx("td",{className:"py-3 px-3 font-mono text-xs text-mm-cyan",children:c.product_article}),a.jsx("td",{className:"py-3 px-3 text-center font-mono font-bold text-mm-green",children:c.quantity_sent}),a.jsx("td",{className:"py-3 px-3",children:c.status==="success"?a.jsxs("span",{className:"flex items-center text-mm-green text-xs",children:[a.jsx(Bt,{className:"mr-1"}),""]}):a.jsxs("span",{className:"flex items-center text-mm-red text-xs",children:[a.jsx(xt,{className:"mr-1"}),""]})}),a.jsx("td",{className:"py-3 px-3 text-xs text-mm-red",children:c.error_message||""})]},c.id))})]})})]})}function eM(){const[e,t]=f.useState("warehouses");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex space-x-4 border-b border-mm-border overflow-x-auto",children:[a.jsxs("button",{onClick:()=>t("warehouses"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="warehouses"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-warehouses",children:[a.jsx(ki,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("suppliers"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="suppliers"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-suppliers",children:[a.jsx(Ni,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("income"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="income"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-income",children:[a.jsx(Wt,{className:"inline mr-2"}),"  "]}),a.jsxs("button",{onClick:()=>t("stock"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="stock"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-stock",children:[a.jsx(xx,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("inventory"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="inventory"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-inventory",children:[a.jsx(WI,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("sync"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="sync"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-sync",children:[a.jsx(Zk,{className:"inline mr-2"}),""]})]}),a.jsxs("div",{children:[e==="warehouses"&&a.jsx(u_,{}),e==="suppliers"&&a.jsx(f_,{}),e==="income"&&a.jsx(p_,{}),e==="stock"&&a.jsx(m_,{}),e==="inventory"&&a.jsx(ZI,{}),e==="sync"&&a.jsx(x_,{})]})]})}function tM(){const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState("all");f.useEffect(()=>{l()},[i]);const l=async()=>{try{s(!0);const u=await e.get("/api/sync/logs",{params:{status:i!=="all"?i:void 0}});r(u.data.logs||[])}catch(u){console.error("Failed to load sync logs:",u),r([])}finally{s(!1)}},d=u=>{switch(u){case"success":return a.jsx(Bt,{className:"w-5 h-5 text-green-400"});case"error":return a.jsx(xt,{className:"w-5 h-5 text-red-400"});case"pending":return a.jsx(Xn,{className:"w-5 h-5 text-yellow-400"});default:return a.jsx(Wn,{className:"w-5 h-5 text-gray-400"})}},c=u=>{const m={success:"bg-green-500/20 text-green-400 border-green-500/30",error:"bg-red-500/20 text-red-400 border-red-500/30",pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"};return a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${m[u]||"bg-gray-500/20 text-gray-400"}`,children:u==="success"?"":u==="error"?"":" "})};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(jt,{className:"w-8 h-8 animate-spin text-mm-cyan"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"      "})]}),a.jsxs("button",{onClick:l,className:"px-4 py-2 bg-mm-secondary text-mm-text border border-mm-border rounded hover:border-mm-cyan transition-colors flex items-center gap-2",children:[a.jsx(jt,{className:"w-4 h-4"}),""]})]}),a.jsx("div",{className:"flex gap-2",children:["all","success","error"].map(u=>a.jsx("button",{onClick:()=>o(u),className:`px-4 py-2 rounded transition-colors ${i===u?"bg-mm-cyan text-mm-dark font-medium":"bg-mm-secondary text-mm-text hover:border-mm-cyan border border-mm-border"}`,children:u==="all"?"":u==="success"?"":""},u))}),a.jsx("div",{className:"bg-mm-secondary rounded-lg border border-mm-border overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-mm-dark",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:"/"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""})]})}),a.jsx("tbody",{children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"px-4 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(Xn,{className:"w-12 h-12 text-mm-text-secondary opacity-50"}),a.jsx("p",{className:"text-mm-text-secondary",children:"   "}),a.jsx("p",{className:"text-sm text-mm-text-secondary opacity-70",children:"        "})]})})}):t.map((u,m)=>a.jsxs("tr",{className:"border-t border-mm-border hover:bg-mm-dark/30 transition-colors",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:new Date(u.timestamp).toLocaleString("ru-RU")}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsx("span",{className:"px-2 py-1 bg-mm-dark rounded text-xs text-mm-cyan",children:u.type==="product"?"":u.type==="price"?"":u.type})}),a.jsxs("td",{className:"px-4 py-3 text-sm",children:[u.marketplace==="ozon"&&a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"O"}),a.jsx("span",{className:"text-mm-text",children:"Ozon"})]}),u.marketplace==="wb"&&a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"w-6 h-6 bg-purple-600 text-white rounded flex items-center justify-center text-xs font-bold",children:"WB"}),a.jsx("span",{className:"text-mm-text",children:"Wildberries"})]})]}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-sm text-mm-text font-mono",children:u.product_article}),a.jsx("div",{className:"text-xs text-mm-text-secondary truncate max-w-xs",children:u.product_name})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[d(u.status),c(u.status)]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text-secondary max-w-md truncate",children:u.message||u.error||""})]},m))})]})}),a.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Wn,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-blue-300",children:[a.jsx("p",{className:"font-medium mb-1",children:"  "}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-300/80",children:[a.jsx("li",{children:"      "}),a.jsx("li",{children:"       "}),a.jsx("li",{children:"     "})]})]})]})})]})}const B0=e=>{const t=["bg-blue-500/20 text-blue-300 border-blue-500/30","bg-purple-500/20 text-purple-300 border-purple-500/30","bg-green-500/20 text-green-300 border-green-500/30","bg-yellow-500/20 text-yellow-300 border-yellow-500/30","bg-pink-500/20 text-pink-300 border-pink-500/30","bg-cyan-500/20 text-cyan-300 border-cyan-500/30","bg-orange-500/20 text-orange-300 border-orange-500/30","bg-red-500/20 text-red-300 border-red-500/30"],r=e.split("").reduce((n,s)=>n+s.charCodeAt(0),0);return t[r%t.length]};function h_(){const{api:e}=ve(),[t,r]=f.useState("products"),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,d]=f.useState([]),[c,u]=f.useState(!0),[m,p]=f.useState(""),[x,y]=f.useState(""),[g,v]=f.useState(""),[h,b]=f.useState(""),[j,k]=f.useState(!1),[N,w]=f.useState(1),[P,_]=f.useState("created_at"),[C,O]=f.useState(!1),[S,E]=f.useState([]),[I,A]=f.useState([]),[M,U]=f.useState(!1),[W,L]=f.useState(""),[R,$]=f.useState("");f.useEffect(()=>{X(),T(),ee()},[m,x,g,h,N,P,C]);const X=async()=>{try{const G=await e.get("/api/catalog/categories");d(G.data)}catch(G){console.error("Failed to load categories:",G)}},T=async()=>{try{u(!0);const G={page:N,limit:50,sort_by:P,ascending:C};m&&(G.search=m),x&&(G.category_id=x),g&&(G.brand=g),h&&(G.status=h);const be=(await e.get("/api/catalog/products",{params:G})).data;s(be);const H=await Promise.all(be.map(async re=>{try{const ge=(await e.get(`/api/catalog/products/${re.id}/photos`)).data;return{...re,firstPhoto:ge.length>0?ge[0].url:null}}catch(ce){return console.error(`Failed to load photos for product ${re.id}:`,ce),{...re,firstPhoto:null}}}));o(H)}catch(G){console.error("Failed to load products:",G)}finally{u(!1)}},Q=async G=>{if(window.confirm(" ,      ?    ."))try{await e.delete(`/api/catalog/products/${G}`),T()}catch(se){alert("   : "+se.message)}},ee=async()=>{try{const G=await e.get("/api/products/tags");E(G.data.tags||[])}catch(G){console.error("Error fetching tags:",G)}},D=async()=>{var G,se;if(!W.trim()){alert("  ");return}try{await e.post(`/api/products/tags?tag_name=${encodeURIComponent(W.trim())}`),E([...S,W.trim()]),L(""),alert(` "${W.trim()}" `)}catch(be){alert(((se=(G=be.response)==null?void 0:G.data)==null?void 0:se.detail)||"  ")}},q=async G=>{if(confirm(`  "${G}"   ?`))try{await e.delete(`/api/products/tags/${encodeURIComponent(G)}`),E(S.filter(se=>se!==G)),await T(),alert(` "${G}" `)}catch{alert("  ")}},ie=async()=>{if(!R){alert(" ");return}try{await e.post("/api/products/bulk-assign-tags",{product_ids:I,tag:R}),await T(),await ee(),A([]),$(""),alert(` "${R}"   `)}catch{alert("  ")}},Z=async()=>{if(!R){alert("   ");return}try{await e.post("/api/products/bulk-remove-tags",{product_ids:I,tag:R}),await T(),await ee(),A([]),$(""),alert(` "${R}"    `)}catch{alert("  ")}},F=async(G,se)=>{try{await e.post("/api/products/bulk-remove-tags",{product_ids:[G],tag:se}),await T(),await ee()}catch{alert("  ")}},le=G=>{I.includes(G)?A(I.filter(se=>se!==G)):A([...I,G])},pe=G=>{A(G?i.map(se=>se.id):[])},J=G=>{const se={active:a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-green-500/20 text-green-400",children:""}),draft:a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-yellow-500/20 text-yellow-400",children:""}),archived:a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-gray-500/20 text-gray-400",children:""})};return se[G]||se.draft};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:""}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:" "})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:()=>window.location.href="/catalog/products/new",className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center gap-2",children:[a.jsx(Ar,{}),"  "]})})]}),a.jsx("div",{className:"border-b border-mm-border mb-6",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{onClick:()=>r("products"),className:`px-6 py-3 font-medium transition-colors relative ${t==="products"?"text-mm-cyan":"text-mm-text-secondary hover:text-mm-text"}`,children:[" ",t==="products"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-mm-cyan"})]}),a.jsxs("button",{onClick:()=>r("sync"),className:`px-6 py-3 font-medium transition-colors relative ${t==="sync"?"text-mm-cyan":"text-mm-text-secondary hover:text-mm-text"}`,children:["",t==="sync"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-mm-cyan"})]})]})}),t==="sync"?a.jsx(tM,{}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-mm-text-secondary"}),a.jsx("input",{type:"text",placeholder:"  , , -...",value:m,onChange:G=>p(G.target.value),className:"w-full pl-10 pr-4 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("button",{onClick:()=>k(!j),className:`px-4 py-2 rounded flex items-center gap-2 ${j?"bg-mm-cyan text-mm-dark":"bg-mm-dark text-mm-text hover:bg-mm-dark/80"}`,children:[a.jsx(Oy,{})," "]})]}),j&&a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsxs("select",{value:x,onChange:G=>y(G.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[a.jsx("option",{value:"",children:" "}),l.map(G=>a.jsx("option",{value:G.id,children:G.name},G.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsx("input",{type:"text",value:g,onChange:G=>v(G.target.value),placeholder:"  ",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsxs("select",{value:h,onChange:G=>b(G.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"draft",children:""}),a.jsx("option",{value:"archived",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsxs("select",{value:P,onChange:G=>_(G.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[a.jsx("option",{value:"created_at",children:"  "}),a.jsx("option",{value:"name",children:" "}),a.jsx("option",{value:"article",children:" "})]})]})]})]}),a.jsx("div",{className:"flex justify-start",children:a.jsxs("button",{onClick:()=>U(!0),className:"px-4 py-2 bg-purple-500/20 border border-purple-500/30 text-purple-300 rounded hover:bg-purple-500/30 flex items-center gap-2 transition",children:[a.jsx(s_,{}),"  "]})}),I.length>0&&a.jsx("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-mm-text font-mono",children:[" : ",a.jsx("span",{className:"text-purple-300 font-bold",children:I.length})]}),a.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[a.jsxs("select",{value:R,onChange:G=>$(G.target.value),className:"px-3 py-2 bg-mm-dark border border-mm-border text-mm-text rounded",children:[a.jsx("option",{value:"",children:"--   --"}),S.map(G=>a.jsx("option",{value:G,children:G},G))]}),a.jsx("button",{onClick:ie,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition",children:" "}),a.jsx("button",{onClick:Z,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:" "})]}),a.jsx("button",{onClick:()=>A([]),className:"px-3 py-2 bg-mm-dark border border-mm-border text-mm-text-secondary rounded hover:bg-mm-gray transition",children:" "})]})}),c?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-mm-cyan"}),a.jsx("p",{className:"text-mm-text-secondary mt-4",children:" ..."})]}):i.length===0?a.jsxs("div",{className:"text-center py-12 bg-mm-secondary rounded-lg",children:[a.jsx(wt,{className:"mx-auto text-6xl text-mm-text-secondary mb-4"}),a.jsx("p",{className:"text-mm-text-secondary text-lg",children:" "}),a.jsx("p",{className:"text-mm-text-secondary text-sm mt-2",children:"     "}),a.jsx("button",{onClick:()=>window.location.href="/catalog/products/new",className:"mt-4 px-6 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded",children:" "})]}):a.jsx("div",{className:"bg-mm-secondary rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-mm-dark border-b border-mm-border",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsx("input",{type:"checkbox",checked:I.length===i.length&&i.length>0,onChange:G=>pe(G.target.checked),className:"w-4 h-4"})}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-mm-border",children:i.map(G=>a.jsxs("tr",{className:"hover:bg-mm-dark/50 transition",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"checkbox",checked:I.includes(G.id),onChange:()=>le(G.id),className:"w-4 h-4"})}),a.jsxs("td",{className:"px-4 py-3",children:[G.firstPhoto?a.jsx("img",{src:G.firstPhoto,alt:G.name,className:"w-12 h-12 object-cover rounded bg-mm-dark",onError:se=>{se.target.style.display="none",se.target.nextSibling.style.display="flex"}}):null,a.jsx("div",{className:"w-12 h-12 bg-mm-dark rounded flex items-center justify-center",style:{display:G.firstPhoto?"none":"flex"},children:a.jsx(wt,{className:"text-mm-text-secondary"})})]}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text font-mono",children:G.article}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-sm text-mm-text",children:G.name}),G.description&&a.jsx("div",{className:"text-xs text-mm-text-secondary mt-1 truncate max-w-xs",children:G.description})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex flex-wrap gap-1 max-w-xs",children:G.tags&&G.tags.length>0?G.tags.map(se=>a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs border ${B0(se)}`,children:[se,a.jsx("button",{onClick:()=>F(G.id,se),className:"hover:opacity-70",title:" ",children:a.jsx(xt,{size:12})})]},se)):a.jsx("span",{className:"text-mm-text-secondary text-xs",children:""})})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex items-center gap-1",children:(()=>{var H,re,ce,ge,z,ae,B,oe;const se=G.marketplace_specific_data||G.marketplace_data||{},be=[];return((H=se.ozon)!=null&&H.product_id||(re=se.ozon)!=null&&re.offer_id||(ce=se.ozon)!=null&&ce.id)&&be.push(a.jsx("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-[10px] font-bold",title:"Ozon ()",children:"O"},"ozon")),((ge=se.wb)!=null&&ge.nm_id||(z=se.wb)!=null&&z.id||(ae=se.wb)!=null&&ae.vendor_code)&&be.push(a.jsx("div",{className:"w-6 h-6 bg-purple-600 text-white rounded flex items-center justify-center text-[9px] font-bold",title:"Wildberries ()",children:"WB"},"wb")),((B=se.yandex)!=null&&B.offer_id||(oe=se.yandex)!=null&&oe.shop_sku)&&be.push(a.jsx("div",{className:"w-6 h-6 bg-red-500 text-white rounded flex items-center justify-center text-[10px] font-bold",title:". ()",children:""},"yandex")),be.length>0?be:a.jsx("span",{className:"text-xs text-mm-text-secondary",children:""})})()})}),a.jsx("td",{className:"px-4 py-3",children:G.price_discounted?a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-mm-cyan font-bold text-base",children:[(G.price_discounted/100).toFixed(2)," "]}),a.jsxs("span",{className:"text-mm-text-secondary text-xs line-through",children:[(G.price/100).toFixed(2)," "]})]}):G.price>0?a.jsxs("span",{className:"text-mm-text text-sm",children:[(G.price/100).toFixed(2)," "]}):a.jsx("span",{className:"text-mm-text-secondary text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:G.brand||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:G.category_name||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-mm-cyan",children:G.variants_count}),G.is_grouped&&a.jsx("span",{className:"text-xs text-mm-text-secondary",children:"(.)"})]})}),a.jsx("td",{className:"px-4 py-3",children:J(G.status)}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>window.location.href=`/catalog/products/${G.id}/edit`,className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded transition",title:"",children:a.jsx(Fa,{})}),a.jsx("button",{onClick:()=>Q(G.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded transition",title:" ",children:a.jsx(hn,{})})]})})]},G.id))})]})}),i.length>0&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-mm-text-secondary",children:[" : ",i.length]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>w(Math.max(1,N-1)),disabled:N===1,className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:""}),a.jsxs("span",{className:"px-4 py-2 bg-mm-dark rounded text-mm-text",children:[" ",N]}),a.jsx("button",{onClick:()=>w(N+1),disabled:i.length<50,className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]}),M&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:()=>U(!1),children:a.jsxs("div",{className:"bg-mm-dark border-2 border-purple-500 rounded-lg p-6 w-full max-w-2xl",onClick:G=>G.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-mono text-purple-300",children:"//  "}),a.jsx("button",{onClick:()=>U(!1),className:"text-mm-text-secondary hover:text-mm-text",children:a.jsx(xt,{size:24})})]}),a.jsxs("div",{className:"mb-6 p-4 bg-mm-gray rounded border border-mm-border",children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2",children:"  "}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:W,onChange:G=>L(G.target.value),placeholder:" ...",className:"flex-1 px-3 py-2 bg-mm-dark border border-mm-border text-mm-text rounded focus:border-mm-cyan focus:outline-none",onKeyDown:G=>{G.key==="Enter"&&D()}}),a.jsx("button",{onClick:D,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition",children:""})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-mm-text mb-2 font-mono",children:" :"}),S.length===0?a.jsx("p",{className:"text-mm-text-secondary text-sm",children:" .    ."}):a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:S.map(G=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-mm-gray rounded border border-mm-border hover:border-purple-500 transition",children:[a.jsx("span",{className:`px-3 py-1 rounded border ${B0(G)}`,children:G}),a.jsx("button",{onClick:()=>q(G),className:"px-3 py-1 bg-red-600/20 text-red-400 border border-red-600/30 rounded hover:bg-red-600/30 transition",children:""})]},G))})]})]})})]})]})}function rM(){const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{try{const d=await e.get("/api/admin/users");r(d.data)}catch(d){console.error("Failed to load users:",d)}s(!1)},o=async d=>{try{await e.put(`/api/admin/users/${d}/approve`),i()}catch(c){console.error("Failed to approve:",c)}},l=async d=>{try{await e.put(`/api/admin/users/${d}/block`),i()}catch(c){console.error("Failed to block:",c)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl mb-4 text-mm-cyan",children:" "}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Email"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Name"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Role"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Status"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Actions"})]})}),a.jsx("tbody",{children:t.map(d=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:d.email}),a.jsx("td",{className:"py-4 px-4",children:d.full_name}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:d.role==="admin"?"status-active":"status-new",children:d.role})}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:d.is_active?"status-active":"status-pending",children:d.is_active?"ACTIVE":"PENDING"})}),a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[!d.is_active&&d.role==="seller"&&a.jsx("button",{onClick:()=>o(d.id),className:"px-3 py-1 border border-mm-green text-mm-green text-xs",children:"APPROVE"}),d.is_active&&d.role==="seller"&&a.jsx("button",{onClick:()=>l(d.id),className:"px-3 py-1 border border-mm-red text-mm-red text-xs",children:"BLOCK"})]})]},d.id))})]})})]})}function nM(){const{user:e,logout:t}=ve(),[r,n]=f.useState("sellers");return a.jsxs("div",{className:"min-h-screen bg-mm-black",children:[a.jsx("header",{className:"border-b border-mm-border bg-mm-darker",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h1",{className:"text-2xl font-bold",children:["MINIMAL",a.jsx("span",{className:"text-mm-purple",children:"MOD"})," ",a.jsx("span",{className:"status-active",children:"ADMIN"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-mm-text-secondary",children:e==null?void 0:e.email}),a.jsx(o_,{}),a.jsx("button",{onClick:t,className:"btn-primary",children:"LOGOUT"})]})]})})}),a.jsx("nav",{className:"border-b border-mm-border bg-mm-dark",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsxs("div",{className:"flex space-x-6 h-12 overflow-x-auto",children:[a.jsxs("button",{onClick:()=>n("sellers"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="sellers"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-sellers",children:[a.jsx(GI,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("api-keys"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="api-keys"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-integrations",children:[a.jsx(r_,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("warehouses"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="warehouses"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-warehouses",children:[a.jsx(ki,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("products"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="products"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-products",children:[a.jsx(wt,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("orders"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="orders"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-orders",children:[a.jsx(yx,{className:"inline mr-2"}),"ORDERS"]}),a.jsxs("button",{onClick:()=>n("finance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="finance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-finance",children:[a.jsx(Ay,{className:"inline mr-2"}),"FINANCE"]}),a.jsxs("button",{onClick:()=>n("balance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="balance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-balance",children:[a.jsx(za,{className:"inline mr-2"}),"BALANCE"]})]})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[r==="sellers"&&a.jsx(rM,{}),r==="api-keys"&&a.jsx(l_,{}),r==="warehouses"&&a.jsx(eM,{}),r==="products"&&a.jsx(h_,{}),r==="orders"&&a.jsx(XI,{}),r==="finance"&&a.jsx(c_,{}),r==="balance"&&a.jsx(d_,{})]})]})}function aM(){const{api:e}=ve(),[t,r]=f.useState({}),[n,s]=f.useState({}),[i,o]=f.useState(null);f.useEffect(()=>{l()},[]);const l=async()=>{try{const m=await e.get("/api/admin/categories/preload/status");s(m.data)}catch(m){console.error("Failed to load status:",m),o("  ")}},d=async m=>{var p,x;r({...t,[m]:!0}),o(null);try{const y=await e.post(`/api/admin/categories/preload?marketplace=${m}`);alert(` ${y.data.message}`),setTimeout(()=>{l()},3e3)}catch(y){console.error(`Failed to preload ${m}:`,y);const g=((x=(p=y.response)==null?void 0:p.data)==null?void 0:x.detail)||y.message;alert(`   ${m}: ${g}`),o(g)}finally{r({...t,[m]:!1})}},c=[{id:"ozon",name:"Ozon",color:"blue",description:"   Ozon"},{id:"wb",name:"Wildberries",color:"purple",description:"   WB"},{id:"yandex",name:" ",color:"yellow",description:"  "}],u=m=>m?new Date(m).toLocaleString("ru-RU"):"";return a.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),a.jsx("p",{className:"text-gray-600",children:"          "})]}),i&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-start gap-3",children:[a.jsx(Wn,{className:"text-red-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-800 font-medium",children:""}),a.jsx("p",{className:"text-red-600 text-sm",children:i})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"   ?"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"       "}),a.jsx("li",{children:"        "}),a.jsx("li",{children:"          "}),a.jsx("li",{children:"   1-3     "})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.map(m=>{const p=n[m.id]||{},x=p.total_categories>0,y=p.last_updated;return a.jsxs("div",{className:`bg-white border-2 border-${m.color}-200 rounded-lg p-6 shadow-sm`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`text-lg font-bold text-${m.color}-700`,children:m.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description})]}),x&&a.jsx(Bt,{className:"text-green-600 text-xl flex-shrink-0"})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:" :"}),a.jsx("span",{className:"font-bold text-gray-900",children:p.total_categories||0})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:" :"}),a.jsx("span",{className:"font-medium text-gray-700 text-xs",children:u(y)})]})]}),a.jsx("button",{onClick:()=>d(m.id),disabled:t[m.id],className:`w-full py-2 px-4 rounded-lg font-medium text-white transition-colors flex items-center justify-center gap-2 ${t[m.id]?`bg-${m.color}-300 cursor-not-allowed`:`bg-${m.color}-600 hover:bg-${m.color}-700`}`,children:t[m.id]?a.jsxs(a.Fragment,{children:[a.jsx(jt,{className:"animate-spin"}),"..."]}):x?a.jsxs(a.Fragment,{children:[a.jsx(jt,{})," "]}):a.jsxs(a.Fragment,{children:[a.jsx(Wt,{})," "]})})]},m.id)})}),a.jsxs("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-yellow-900 mb-2",children:" "}),a.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[a.jsx("li",{children:"      API  "}),a.jsx("li",{children:' ,       ""'}),a.jsx("li",{children:"    ,      "})]})]})]})}function sM(){const{id:e}=Gu(),t=Xr(),{api:r}=ve(),[n,s]=f.useState(!0),[i,o]=f.useState([]),[l,d]=f.useState(null),[c,u]=f.useState({sku:"",price:"",cogs:"",status:"draft",category_id:"",visibility:{show_on_minimalmod:!0,show_in_search:!0,is_featured:!1},seo:{meta_title:"",meta_description:"",url_slug:""},minimalmod:{name:"",variant_name:"",description:"",tags:[],images:[],attributes:{}},marketplaces:{images:[],ozon:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}},wildberries:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}},yandex_market:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}}}});f.useEffect(()=>{m(),e!=="new"?p():s(!1)},[e]);const m=async()=>{try{const h=await r.get("/api/admin/categories");o(h.data)}catch(h){console.error("Failed to load categories:",h)}},p=async()=>{try{const h=await r.get(`/api/products/${e}`);if(u(h.data),h.data.category_id){const b=i.find(j=>j.id===h.data.category_id);d(b)}}catch(h){console.error("Failed to load product:",h)}s(!1)},x=h=>{const b=i.find(j=>j.id===h);if(d(b),b&&b.attributes){const j={};b.attributes.forEach(k=>{j[k]=c.minimalmod.attributes[k]||""}),u({...c,category_id:h,minimalmod:{...c.minimalmod,attributes:j}})}else u({...c,category_id:h})},y=()=>{if(!l)return;const h=l.marketplace_mapping||{};if(c.marketplaces.ozon.enabled&&h.ozon){const b={};Object.entries(c.minimalmod.attributes).forEach(([j,k])=>{var w;const N=(w=h.ozon.attribute_mapping)==null?void 0:w[j];N&&k&&(b[N]=k)}),u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,attributes:b}}})}alert("    !")},g=async()=>{var h,b;try{const j={...c,visibility:{...c.visibility,show_on_minimalmod:!0},status:"active"};e==="new"?await r.post("/api/products",j):await r.put(`/api/products/${e}`,j),alert("    MinimalMod!"),t(-1)}catch(j){alert(": "+(((b=(h=j.response)==null?void 0:h.data)==null?void 0:b.detail)||j.message))}},v=async()=>{var b,j;const h=[];if(c.marketplaces.ozon.enabled&&h.push("Ozon"),c.marketplaces.wildberries.enabled&&h.push("Wildberries"),c.marketplaces.yandex_market.enabled&&h.push("."),h.length===0){alert("    !");return}try{y(),e==="new"?await r.post("/api/products",c):await r.put(`/api/products/${e}`,c),alert(`  : ${h.join(", ")}!

      API  .`),t(-1)}catch(k){alert(": "+(((j=(b=k.response)==null?void 0:b.data)==null?void 0:j.detail)||k.message))}};return n?a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):a.jsxs("div",{className:"min-h-screen bg-mm-black",children:[a.jsx("header",{className:"border-b border-mm-border bg-mm-darker sticky top-0 z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold text-mm-cyan uppercase",children:e==="new"?" ":" "}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:g,className:"btn-primary",children:[a.jsx(rr,{className:"inline mr-2"}),"  "]}),a.jsxs("button",{onClick:v,className:"btn-secondary border-mm-green text-mm-green",children:[a.jsx(rr,{className:"inline mr-2"}),"  "]}),a.jsxs("button",{onClick:()=>t(-1),className:"btn-secondary",children:[a.jsx(xt,{className:"inline mr-2"}),""]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"card-neon mb-6",children:[a.jsx("p",{className:"comment mb-3",children:"//      :"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center space-x-2 p-4 border-2 border-mm-border hover:border-mm-cyan transition-all cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:!0,disabled:!0,className:"w-5 h-5"}),a.jsx("span",{className:"font-mono text-mm-cyan",children:"  ()"})]}),a.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${c.marketplaces.ozon.enabled?"border-mm-blue bg-mm-blue/10":"border-mm-border hover:border-mm-blue"}`,children:[a.jsx("input",{type:"checkbox",checked:c.marketplaces.ozon.enabled,onChange:h=>u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,enabled:h.target.checked}}}),className:"w-5 h-5"}),a.jsx("span",{className:`font-mono ${c.marketplaces.ozon.enabled?"text-mm-blue":"text-mm-text-secondary"}`,children:" OZON"})]}),a.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${c.marketplaces.wildberries.enabled?"border-mm-purple bg-mm-purple/10":"border-mm-border hover:border-mm-purple"}`,children:[a.jsx("input",{type:"checkbox",checked:c.marketplaces.wildberries.enabled,onChange:h=>u({...c,marketplaces:{...c.marketplaces,wildberries:{...c.marketplaces.wildberries,enabled:h.target.checked}}}),className:"w-5 h-5"}),a.jsx("span",{className:`font-mono ${c.marketplaces.wildberries.enabled?"text-mm-purple":"text-mm-text-secondary"}`,children:" WILDBERRIES"})]}),a.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${c.marketplaces.yandex_market.enabled?"border-mm-yellow bg-mm-yellow/10":"border-mm-border hover:border-mm-yellow"}`,children:[a.jsx("input",{type:"checkbox",checked:c.marketplaces.yandex_market.enabled,onChange:h=>u({...c,marketplaces:{...c.marketplaces,yandex_market:{...c.marketplaces.yandex_market,enabled:h.target.checked}}}),className:"w-5 h-5"}),a.jsx("span",{className:`font-mono ${c.marketplaces.yandex_market.enabled?"text-mm-yellow":"text-mm-text-secondary"}`,children:" ."})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:" "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"SKU *"}),a.jsx("input",{type:"text",value:c.sku,onChange:h=>u({...c,sku:h.target.value}),className:"input-neon w-full",placeholder:"PRODUCT-123"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsx("input",{type:"number",step:"0.01",value:c.price,onChange:h=>u({...c,price:h.target.value}),className:"input-neon w-full"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsx("input",{type:"text",value:c.minimalmod.name,onChange:h=>u({...c,minimalmod:{...c.minimalmod,name:h.target.value}}),className:"input-neon w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsxs("select",{value:c.category_id||"",onChange:h=>x(h.target.value),className:"input-neon w-full",children:[a.jsx("option",{value:"",children:" "}),i.map(h=>a.jsx("option",{value:h.id,children:h.name},h.id))]}),a.jsx("p",{className:"comment text-xs mt-1",children:"//     "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("textarea",{value:c.minimalmod.description,onChange:h=>u({...c,minimalmod:{...c.minimalmod,description:h.target.value}}),className:"input-neon w-full",rows:"6"})]})]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsxs("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:[a.jsx(hx,{className:"inline mr-2"}),"   ( 8 )"]}),a.jsxs("div",{className:"space-y-2",children:[c.minimalmod.images.map((h,b)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[h&&a.jsx("img",{src:h,alt:"",className:"w-16 h-16 object-cover border border-mm-border"}),a.jsx("input",{type:"text",value:h,onChange:j=>{const k=[...c.minimalmod.images];k[b]=j.target.value,u({...c,minimalmod:{...c.minimalmod,images:k}})},className:"input-neon flex-1",placeholder:"https://example.com/image.jpg"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`file-mm-${b}`,onChange:j=>{const k=j.target.files[0];if(k){const N=new FileReader;N.onload=w=>{const P=[...c.minimalmod.images];P[b]=w.target.result,u({...c,minimalmod:{...c.minimalmod,images:P}})},N.readAsDataURL(k)}}}),a.jsx("label",{htmlFor:`file-mm-${b}`,className:"btn-secondary px-3 py-2 cursor-pointer",children:""}),a.jsx("button",{onClick:()=>{u({...c,minimalmod:{...c.minimalmod,images:c.minimalmod.images.filter((j,k)=>k!==b)}})},className:"text-mm-red hover:text-mm-red/80 text-xl",children:""})]},b)),c.minimalmod.images.length<8&&a.jsx("button",{onClick:()=>u({...c,minimalmod:{...c.minimalmod,images:[...c.minimalmod.images,""]}}),className:"btn-secondary w-full",children:"+  "})]})]}),a.jsxs("div",{className:"card-neon border-2 border-mm-purple",children:[a.jsxs("h3",{className:"text-xl mb-4 text-mm-purple uppercase",children:[a.jsx(hx,{className:"inline mr-2"}),"   ( 10 ,  3:4)"]}),a.jsx("p",{className:"comment mb-3",children:"//     Ozon, Wildberries, ."}),a.jsxs("div",{className:"space-y-2",children:[c.marketplaces.images.map((h,b)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[h&&a.jsx("img",{src:h,alt:"",className:"w-16 h-16 object-cover border border-mm-border"}),a.jsx("input",{type:"text",value:h,onChange:j=>{const k=[...c.marketplaces.images];k[b]=j.target.value,u({...c,marketplaces:{...c.marketplaces,images:k}})},className:"input-neon flex-1",placeholder:"https://example.com/marketplace-image.jpg"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`file-mp-${b}`,onChange:j=>{const k=j.target.files[0];if(k){const N=new FileReader;N.onload=w=>{const P=[...c.marketplaces.images];P[b]=w.target.result,u({...c,marketplaces:{...c.marketplaces,images:P}})},N.readAsDataURL(k)}}}),a.jsx("label",{htmlFor:`file-mp-${b}`,className:"btn-secondary px-3 py-2 cursor-pointer",children:""}),a.jsx("button",{onClick:()=>u({...c,marketplaces:{...c.marketplaces,images:c.marketplaces.images.filter((j,k)=>k!==b)}}),className:"text-mm-red hover:text-mm-red/80 text-xl",children:""})]},b)),c.marketplaces.images.length<10&&a.jsx("button",{onClick:()=>u({...c,marketplaces:{...c.marketplaces,images:[...c.marketplaces.images,""]}}),className:"btn-secondary w-full",children:"+  "})]}),a.jsx("p",{className:"comment text-xs mt-3",children:"//  : 3:4 (, 900x1200px)"})]}),l&&l.attributes&&a.jsxs("div",{className:"card-neon",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:""}),a.jsxs("button",{onClick:y,className:"btn-secondary text-xs",children:[a.jsx(Bt,{className:"inline mr-1"}),"  "]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.attributes.map(h=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:h}),a.jsx("input",{type:"text",value:c.minimalmod.attributes[h]||"",onChange:b=>u({...c,minimalmod:{...c.minimalmod,attributes:{...c.minimalmod.attributes,[h]:b.target.value}}}),className:"input-neon w-full",placeholder:` ${h}`})]},h))}),a.jsx("p",{className:"comment text-xs mt-3",children:'//   ,   ""     '})]}),c.marketplaces.ozon.enabled&&a.jsxs("div",{className:"card-neon border-2 border-mm-blue",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-blue uppercase",children:" OZON "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  Ozon"}),a.jsx("input",{type:"number",step:"0.01",value:c.marketplaces.ozon.price,onChange:h=>u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,price:h.target.value}}}),className:"input-neon w-full",placeholder:"   Ozon"}),a.jsx("p",{className:"comment text-xs mt-1",children:"//  ,    "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  Ozon"}),a.jsx("textarea",{value:c.marketplaces.ozon.description,onChange:h=>u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,description:h.target.value}}}),className:"input-neon w-full",rows:"4",placeholder:"  Ozon (   )"}),a.jsx("p",{className:"comment text-xs mt-1",children:"//  ,    "})]})]})]}),c.marketplaces.wildberries.enabled&&a.jsxs("div",{className:"card-neon border-2 border-mm-purple",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-purple uppercase",children:" WILDBERRIES "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  WB"}),a.jsx("input",{type:"number",step:"0.01",value:c.marketplaces.wildberries.price,onChange:h=>u({...c,marketplaces:{...c.marketplaces,wildberries:{...c.marketplaces.wildberries,price:h.target.value}}}),className:"input-neon w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  WB"}),a.jsx("textarea",{value:c.marketplaces.wildberries.description,onChange:h=>u({...c,marketplaces:{...c.marketplaces,wildberries:{...c.marketplaces.wildberries,description:h.target.value}}}),className:"input-neon w-full",rows:"4"})]})]})]}),c.marketplaces.yandex_market.enabled&&a.jsxs("div",{className:"card-neon border-2 border-mm-yellow",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-yellow uppercase",children:" . "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsx("input",{type:"number",step:"0.01",value:c.marketplaces.yandex_market.price,onChange:h=>u({...c,marketplaces:{...c.marketplaces,yandex_market:{...c.marketplaces.yandex_market,price:h.target.value}}}),className:"input-neon w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsx("textarea",{value:c.marketplaces.yandex_market.description,onChange:h=>u({...c,marketplaces:{...c.marketplaces,yandex_market:{...c.marketplaces.yandex_market,description:h.target.value}}}),className:"input-neon w-full",rows:"4"})]})]})]})]}),a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-lg mb-4 text-mm-cyan uppercase",children:""}),a.jsxs("select",{value:c.status,onChange:h=>u({...c,status:h.target.value}),className:"input-neon w-full",children:[a.jsx("option",{value:"draft",children:""}),a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"out_of_stock",children:"  "}),a.jsx("option",{value:"archived",children:""})]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-lg mb-4 text-mm-cyan uppercase",children:""}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:c.visibility.show_on_minimalmod,onChange:h=>u({...c,visibility:{...c.visibility,show_on_minimalmod:h.target.checked}}),className:"w-4 h-4"}),a.jsx("span",{className:"text-mm-text-secondary",children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:c.visibility.is_featured,onChange:h=>u({...c,visibility:{...c.visibility,is_featured:h.target.checked}}),className:"w-4 h-4"}),a.jsx("span",{className:"text-mm-text-secondary",children:""})]})]})]}),a.jsxs("div",{className:"card-neon bg-mm-blue/5 border-mm-blue",children:[a.jsx("p",{className:"text-mm-blue font-bold text-sm mb-2",children:"   :"}),a.jsxs("ul",{className:"text-xs text-mm-text-secondary space-y-1",children:[a.jsx("li",{children:"1.   "}),a.jsx("li",{children:"2.  "}),a.jsx("li",{children:"3.  "}),a.jsx("li",{children:"4.   ( )"}),a.jsx("li",{children:"5.    "}),a.jsx("li",{children:'6.  "  "'})]})]})]})]})]})]})}const iM="http://localhost:8001",oM=()=>{const e=Xr(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(""),[l,d]=f.useState("Wildberries"),[c,u]=f.useState([]),[m,p]=f.useState(!1),[x,y]=f.useState(2);f.useEffect(()=>{g()},[]);const g=async()=>{try{const C=localStorage.getItem("token"),O=await nt.get(`${iM}/api/products`,{headers:{Authorization:`Bearer ${C}`}});r(O.data),s(!1)}catch(C){console.error("Error fetching products:",C),s(!1)}},v=()=>{e("/products/new")},h=()=>{e("/orders/new")},b=()=>{if(c.length===0){alert("   ");return}alert("  -  ")},j=()=>{alert(" -  ")},k=()=>{if(c.length===0){alert("   ");return}confirm(` ${c.length}   ?`)&&alert(" -  ")},N=()=>{if(c.length===0){alert("   ");return}confirm(` ${c.length} ?`)&&alert(" -  ")},w=()=>{alert("  -  ")},P=C=>{c.includes(C)?u(c.filter(O=>O!==C)):u([...c,C])},_=t.filter(C=>C.name.toLowerCase().includes(i.toLowerCase())||C.sku&&C.sku.toLowerCase().includes(i.toLowerCase())||C.barcode&&C.barcode.toLowerCase().includes(i.toLowerCase()));return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:v,className:"px-6 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:" "}),a.jsx("button",{onClick:h,className:"px-6 py-2 bg-yellow-500 text-white font-semibold rounded-lg hover:bg-yellow-600",children:" "})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:" "}),a.jsx("button",{onClick:j,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:""}),a.jsx("button",{onClick:k,className:"p-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",title:"  ",children:""}),a.jsx("button",{onClick:N,className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200",title:"",children:""})]})]}),a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx("button",{onClick:()=>p(!m),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-semibold",children:""}),a.jsx("input",{type:"text",value:i,onChange:C=>o(C.target.value),placeholder:"  , -, , ",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.jsxs("select",{value:l,onChange:C=>d(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:"Wildberries"}),a.jsx("option",{children:"Ozon"}),a.jsx("option",{children:"."})]}),a.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:"   "}),a.jsx("option",{children:" "})]}),a.jsx("button",{onClick:w,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold",children:""})]})]}),m&&a.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:a.jsx("option",{children:" "})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:a.jsx("option",{children:" "})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:a.jsx("option",{children:" "})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:" "}),a.jsx("option",{children:""}),a.jsx("option",{children:" "})]})]})]})}),a.jsxs("div",{className:"bg-white px-6 py-3 flex justify-between items-center border-b",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:" "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:"  "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" "}),a.jsx("input",{type:"range",min:"1",max:"3",value:x,onChange:C=>y(parseInt(C.target.value)),className:"w-24"})]})]}),a.jsxs("div",{className:"bg-white",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsx("input",{type:"checkbox",onChange:C=>{C.target.checked?u(_.map(O=>O.id)):u([])},className:"w-4 h-4"})}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"-"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""})]})}),a.jsx("tbody",{children:n?a.jsx("tr",{children:a.jsx("td",{colSpan:"12",className:"px-4 py-8 text-center text-gray-500",children:"..."})}):_.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"12",className:"px-4 py-8 text-center text-gray-500",children:"  "})}):_.map(C=>a.jsxs("tr",{className:`border-b hover:bg-gray-50 ${x===1?"h-12":x===2?"h-16":"h-24"}`,children:[a.jsx("td",{className:"px-4",children:a.jsx("input",{type:"checkbox",checked:c.includes(C.id),onChange:()=>P(C.id),className:"w-4 h-4"})}),a.jsx("td",{className:"px-4",children:a.jsx("div",{className:`bg-gray-200 rounded flex items-center justify-center text-gray-400 ${x===1?"w-10 h-10":x===2?"w-12 h-12":"w-16 h-16"}`,children:""})}),a.jsx("td",{className:"px-4",children:a.jsx("button",{onClick:()=>e(`/products/${C.id}`),className:"text-blue-600 hover:underline font-medium",children:C.name})}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:C.size||"-"}),a.jsx("td",{className:"px-4",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:C.brand||"-"}),a.jsx("td",{className:"px-4",children:a.jsx("button",{className:"text-yellow-500 hover:text-yellow-600",children:""})}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:C.barcode||"-"}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:C.sku||"-"}),a.jsx("td",{className:"px-4 text-sm font-semibold text-gray-800",children:C.price?`${C.price} `:"-"}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:C.stock_quantity||0}),a.jsx("td",{className:"px-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>e(`/products/${C.id}/edit`),className:"text-blue-600 hover:underline text-sm",children:""}),a.jsx("button",{className:"text-red-600 hover:underline text-sm",children:""})]})})]},C.id))})]})}),a.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-t",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[a.jsx("option",{children:"50"}),a.jsx("option",{children:"100"}),a.jsx("option",{children:"200"})]}),a.jsx("span",{className:"text-sm text-gray-600",children:"  "})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[" 1  1 |  : ",c.length]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""})]})]})]}),a.jsx("div",{className:"fixed left-0 top-16 w-64 bg-gray-800 text-white h-full overflow-y-auto hidden",children:a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:""}),a.jsxs("ul",{className:"space-y-1 text-sm",children:[a.jsx("li",{children:a.jsx("a",{href:"/products",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/import",className:"block px-3 py-2 rounded hover:bg-gray-700",children:" "})}),a.jsx("li",{children:a.jsx("a",{href:"/products/merge",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/photos",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/categories",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/brands",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/manufacturers",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/parameters",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})})]})]})})]})},lM="http://localhost:8001",cM=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState("MAin"),[o,l]=f.useState(!0),[d,c]=f.useState(!0),[u,m]=f.useState(!1),[p,x]=f.useState(!1),[y,g]=f.useState(""),[v,h]=f.useState([]);f.useEffect(()=>{b()},[]);const b=async()=>{try{const k=localStorage.getItem("token"),N=await nt.get(`${lM}/api/stock`,{headers:{Authorization:`Bearer ${k}`}});t(N.data),n(!1)}catch(k){console.error("Error fetching stock:",k),n(!1)}},j=e.filter(k=>{var N,w,P;return((N=k.product_name)==null?void 0:N.toLowerCase().includes(y.toLowerCase()))||((w=k.sku)==null?void 0:w.toLowerCase().includes(y.toLowerCase()))||((P=k.barcode)==null?void 0:P.toLowerCase().includes(y.toLowerCase()))});return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"bg-white border-b px-6 py-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"   "}),a.jsxs("div",{className:"flex gap-4 items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:""}),a.jsxs("select",{value:s,onChange:k=>i(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{value:"MAin",children:"MAin"}),a.jsx("option",{value:"all",children:" "})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:o,onChange:k=>l(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:k=>c(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"  "})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:u,onChange:k=>m(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:k=>x(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:'  ""'})]})]})]}),a.jsxs("div",{className:"flex gap-3 items-center",children:[a.jsx("input",{type:"text",value:y,onChange:k=>g(k.target.value),placeholder:"  , -, , ",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:""})]})]}),a.jsx("div",{className:"bg-white border-b px-6",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"px-6 py-3 bg-blue-500 text-white font-semibold border-b-2 border-blue-600",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:" "}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""})]})}),a.jsxs("div",{className:"bg-white px-6 py-3 flex justify-between items-center border-b",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:" "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:"  "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" "}),a.jsx("input",{type:"range",min:"1",max:"3",className:"w-24"})]})]}),a.jsxs("div",{className:"bg-white",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"  ..."}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:" "}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"-"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"  / "}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"SKU"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"ID"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:" "}),p&&a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""})]})}),a.jsx("tbody",{children:r?a.jsx("tr",{children:a.jsx("td",{colSpan:"20",className:"px-4 py-8 text-center text-gray-500",children:"..."})}):j.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"20",className:"px-4 py-8 text-center text-gray-500",children:"  "})}):j.map((k,N)=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),a.jsx("td",{className:"px-4 py-3",children:k.error&&a.jsx("span",{className:"text-red-600",children:""})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center text-gray-400",children:""})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-blue-600 hover:underline cursor-pointer font-medium",children:k.product_name||" "})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.size||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-800",children:k.quantity||0}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.reserved||0}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.location||"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.barcode||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.size||"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.brand||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.color||"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:""}),a.jsx("button",{className:"text-red-600 hover:text-red-800",children:""})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.sku||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.id||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.seller_sku||"-"}),p&&a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})})]},N))})]})}),a.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-t",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[a.jsx("option",{children:"200"}),a.jsx("option",{children:"50"}),a.jsx("option",{children:"100"})]}),a.jsx("span",{className:"text-sm text-gray-600",children:"  "})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"0 - 0  0.  1  1"}),a.jsx("div",{className:"flex gap-1",children:a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:" : 0"})})]})]})]})},dM=()=>{const{id:e}=Gu(),t=Xr(),{api:r}=ve(),[n,s]=f.useState(null),[i,o]=f.useState(!0),[l,d]=f.useState(!1),[c,u]=f.useState(!1),[m,p]=f.useState(!1),[x,y]=f.useState(""),[g,v]=f.useState([]),[h,b]=f.useState(""),[j,k]=f.useState(!1),[N,w]=f.useState([]),[P,_]=f.useState(""),[C,O]=f.useState(""),[S,E]=f.useState({name:"",is_fbo:!1,send_stock:!0,load_orders:!0,use_for_orders:!0,priority:0,default_cell:"",description:"",longitude:null,latitude:null,address:"",brand:"",working_hours:"",assembly_hours:0,storage_days:0,online_payment:!1,cash_payment:!1,card_payment:!1,show_on_goods:!1});f.useEffect(()=>{I(),A()},[e]);const I=async()=>{try{const T=await r.get(`/api/warehouses/${e}`);s(T.data),E({name:T.data.name||"",is_fbo:T.data.is_fbo||!1,send_stock:T.data.send_stock!==!1,load_orders:T.data.load_orders!==!1,use_for_orders:T.data.use_for_orders!==!1,priority:T.data.priority||0,default_cell:T.data.default_cell||"",description:T.data.description||"",longitude:T.data.longitude,latitude:T.data.latitude,address:T.data.address||"",brand:T.data.brand||"",working_hours:T.data.working_hours||"",assembly_hours:T.data.assembly_hours||0,storage_days:T.data.storage_days||0,online_payment:T.data.online_payment||!1,cash_payment:T.data.cash_payment||!1,card_payment:T.data.card_payment||!1,show_on_goods:T.data.show_on_goods||!1}),o(!1)}catch(T){console.error("Error fetching warehouse:",T),o(!1)}},A=async()=>{try{const T=await r.get(`/api/warehouses/${e}/links`);w(T.data||[])}catch(T){console.error("Error fetching warehouse links:",T)}},M=async T=>{var Q,ee;if(!T){v([]);return}k(!0);try{const D=await r.get(`/api/marketplaces/${T}/all-warehouses`);v(D.data.warehouses||[]),D.data.warehouses.length===0&&D.data.message&&alert(D.data.message)}catch(D){console.error("Error loading MP warehouses:",D),alert("  : "+(((ee=(Q=D.response)==null?void 0:Q.data)==null?void 0:ee.detail)||D.message))}finally{k(!1)}},U=T=>{y(T),b(""),v([]),_(""),O(""),T&&T!=="yandex"&&M(T)},W=async()=>{var T,Q;if(!x){alert(" ");return}if(x==="yandex"){if(!P||!C){alert(" ID     .");return}}else if(!h){alert("   ");return}try{let ee;if(x==="yandex"){const q=(await r.get("/api/seller/api-keys")).data.find(ie=>ie.marketplace==="yandex");if(!q){alert("   .   ");return}ee={integration_id:q.id,marketplace_name:"yandex",marketplace_warehouse_id:P,marketplace_warehouse_name:C}}else{const D=g.find(q=>q.id===h);ee={integration_id:D.integration_id,marketplace_name:x,marketplace_warehouse_id:D.id,marketplace_warehouse_name:D.name}}await r.post(`/api/warehouses/${e}/links`,ee),await A(),y(""),b(""),v([]),_(""),O(""),alert(`    ${x.toUpperCase()} !`)}catch(ee){console.error("Error adding link:",ee),alert(": "+(((Q=(T=ee.response)==null?void 0:T.data)==null?void 0:Q.detail)||ee.message))}},L=async T=>{var Q,ee;if(confirm(" ?"))try{await r.delete(`/api/warehouses/${e}/links/${T}`),alert("  "),A()}catch(D){console.error("Error deleting link:",D),alert(": "+(((ee=(Q=D.response)==null?void 0:Q.data)==null?void 0:ee.detail)||D.message))}},R=(T,Q)=>{E(ee=>({...ee,[T]:Q}))},$=async()=>{d(!0);try{await r.put(`/api/warehouses/${e}`,S),alert("  "),t(-1)}catch(T){console.error("Error saving warehouse:",T),alert("   ")}finally{d(!1)}},X=async()=>{if(confirm(" ,     ?"))try{await r.delete(`/api/warehouses/${e}`),alert(" "),t(-1)}catch(T){console.error("Error deleting warehouse:",T),alert("   ")}};return i?a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:a.jsx("p",{className:"text-mm-cyan",children:"..."})}):a.jsx("div",{className:"min-h-screen bg-mm-black text-gray-100 p-8",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("button",{onClick:()=>t(-1),className:"text-mm-cyan hover:text-cyan-400 mb-4",children:" "}),a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "})]}),a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),a.jsx("input",{type:"text",value:S.name,onChange:T=>R("name",T.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:S.is_fbo,onChange:T=>R("is_fbo",T.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"    FBO"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"  FIFO   FBO"})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:S.send_stock,onChange:T=>R("send_stock",T.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:" "}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"SelSup      .   ."})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:S.load_orders,onChange:T=>R("load_orders",T.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:" "}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"    .   ."})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:S.use_for_orders,onChange:T=>R("use_for_orders",T.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"  "}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"    .    ."})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"  "}),a.jsx("input",{type:"number",value:S.priority,onChange:T=>R("priority",parseInt(T.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-3 text-mm-cyan",children:"   "}),a.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 mb-4",children:a.jsxs("p",{className:"text-xs text-blue-300",children:[" ",a.jsx("strong",{children:":"}),'   SelSup ,        .  " "     ,      .']})}),a.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg mb-4 space-y-3",children:[a.jsx("p",{className:"text-xs text-mm-cyan mb-3",children:"   FBS     "}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 font-mono",children:"1  "}),a.jsxs("select",{value:x,onChange:T=>U(T.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm",children:[a.jsx("option",{value:"",children:"--   --"}),a.jsx("option",{value:"ozon",children:"OZON"}),a.jsx("option",{value:"wb",children:"WILDBERRIES"}),a.jsx("option",{value:"yandex",children:"YANDEX.MARKET"})]})]}),x&&x!=="yandex"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs mb-1 font-mono",children:["2   FBS",j&&a.jsx("span",{className:"ml-2 text-mm-cyan animate-pulse",children:"..."})]}),a.jsxs("select",{value:h,onChange:T=>b(T.target.value),disabled:j,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm disabled:opacity-50",children:[a.jsx("option",{value:"",children:"--   --"}),g.map(T=>a.jsxs("option",{value:T.id,children:[T.name," (ID: ",T.id,") ",T.integration_name?`[${T.integration_name}]`:""]},T.id))]}),g.length===0&&!j&&a.jsxs("p",{className:"text-xs text-yellow-400 mt-1",children:["   .  :",a.jsx("br",{}),"      ",x.toUpperCase(),"   ",a.jsx("br",{}),"  FBS     ",x.toUpperCase()]})]}),x==="yandex"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded p-2",children:a.jsxs("p",{className:"text-xs text-yellow-300",children:[" ",a.jsx("strong",{children:".:"})," ID     API.     .    "]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 font-mono",children:"2 ID  ."}),a.jsx("input",{type:"text",value:P,onChange:T=>_(T.target.value),placeholder:" ID    ",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 font-mono",children:" "}),a.jsx("input",{type:"text",value:C,onChange:T=>O(T.target.value),placeholder:"  ",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm"})]})]}),a.jsxs("button",{onClick:W,disabled:!x||x==="yandex"&&(!P||!C)||x!=="yandex"&&!h,className:"w-full px-4 py-2 bg-mm-purple hover:bg-purple-600 rounded transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[a.jsx(Ar,{}),a.jsx("span",{children:" "})]})]}),N.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:" :"}),N.map((T,Q)=>{var ee;return a.jsxs("div",{className:"bg-gray-800 px-4 py-3 rounded flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm font-medium",children:[(ee=T.marketplace_name)==null?void 0:ee.toUpperCase()," - ",T.marketplace_warehouse_name]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",T.marketplace_warehouse_id]})]}),a.jsx("button",{onClick:()=>L(T.id),className:"px-3 py-2 text-red-400 hover:bg-red-400/10 rounded transition",children:a.jsx(hn,{})})]},Q)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"    "}),a.jsx("input",{type:"text",value:S.default_cell,onChange:T=>R("default_cell",T.target.value),placeholder:" ",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[a.jsxs("button",{onClick:()=>u(!c),className:"flex items-center space-x-2 text-mm-cyan hover:text-cyan-400 transition",children:[a.jsx("span",{className:"text-xl",children:c?"":""}),a.jsx("span",{className:"font-medium",children:"  "})]}),c&&a.jsxs("div",{className:"mt-4 space-y-4 pl-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:""}),a.jsx("textarea",{value:S.description,onChange:T=>R("description",T.target.value),rows:3,className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:""}),a.jsx("input",{type:"number",step:"0.000001",value:S.longitude||"",onChange:T=>R("longitude",parseFloat(T.target.value)||null),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:""}),a.jsx("input",{type:"number",step:"0.000001",value:S.latitude||"",onChange:T=>R("latitude",parseFloat(T.target.value)||null),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:"  "}),a.jsx("input",{type:"text",value:S.address,onChange:T=>R("address",T.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:",    "}),a.jsx("input",{type:"text",value:S.brand,onChange:T=>R("brand",T.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:" "}),a.jsx("input",{type:"text",value:S.working_hours,onChange:T=>R("working_hours",T.target.value),placeholder:": - 9:00-18:00",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:"-    "}),a.jsx("input",{type:"number",value:S.assembly_hours,onChange:T=>R("assembly_hours",parseInt(T.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:"-   "}),a.jsx("input",{type:"number",value:S.storage_days,onChange:T=>R("storage_days",parseInt(T.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:" :"}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:S.online_payment,onChange:T=>R("online_payment",T.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:" "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:S.cash_payment,onChange:T=>R("cash_payment",T.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:S.card_payment,onChange:T=>R("card_payment",T.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:"  "})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:S.show_on_goods,onChange:T=>R("show_on_goods",T.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:"   Goods"})]})]})]}),a.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-700",children:[a.jsx("button",{onClick:X,disabled:(n==null?void 0:n.type)==="main",className:"px-6 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:""}),a.jsx("button",{onClick:$,disabled:l,className:"px-8 py-2 bg-mm-cyan hover:bg-cyan-400 text-black font-bold rounded-lg transition disabled:opacity-50",children:l?"...":""})]})]})]})})},Dy=()=>{const[e,t]=f.useState(!1),r=f.useRef(null),n=Xr(),s=Xa(),i=[{label:"",path:"/catalog/products",icon:t_},{label:"",path:"/catalog/categories",icon:wt},{label:"",path:"/catalog/pricing",icon:za},{label:"",path:"/catalog/matching",icon:Lo},{label:" ",path:"/catalog/import",icon:rr}],o=i.find(c=>s.pathname===c.path),l=o?o.label:"";f.useEffect(()=>{const c=u=>{r.current&&!r.current.contains(u.target)&&t(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const d=c=>{t(!1),n(c)};return a.jsxs("div",{className:"relative inline-block",ref:r,children:[a.jsxs("button",{onClick:()=>t(!e),className:"px-4 py-2 bg-mm-secondary text-mm-cyan hover:bg-mm-secondary/80 rounded flex items-center gap-2 font-mono uppercase text-sm",children:[a.jsx(wt,{className:"w-4 h-4"}),l,a.jsx(Ui,{className:`w-4 h-4 transition-transform ${e?"rotate-180":""}`})]}),e&&a.jsx("div",{className:"absolute left-0 mt-2 bg-white rounded-lg shadow-2xl border-2 border-gray-300 py-2 z-[9999] min-w-[220px]",children:i.map((c,u)=>{const m=c.icon,p=s.pathname===c.path;return a.jsxs("button",{onClick:()=>d(c.path),className:`w-full text-left px-4 py-3 hover:bg-gray-100 flex items-center gap-3 text-sm transition-colors font-medium ${p?"bg-blue-50 text-blue-600":"text-gray-700 hover:text-blue-600"}`,children:[a.jsx(m,{className:"w-4 h-4"}),c.label,p&&a.jsx("span",{className:"ml-auto text-xs text-blue-500",children:""})]},u)})})]})};function uM(){const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState({});f.useEffect(()=>{l()},[]);const l=async()=>{s(!0);try{const p=(await e.get("/api/categories/mappings")).data||[];r(p),await d(p)}catch(m){console.error("Failed to load mappings:",m)}finally{s(!1)}},d=async m=>{try{const x=(await e.get("/api/catalog/products?limit=1000")).data.products||[],y={};m.forEach(g=>{const v=x.filter(h=>h.category_mapping_id===g.id).length;y[g.id]=v}),o(y)}catch(p){console.error("Failed to load product counts:",p)}},c=async(m,p)=>{var g,v;const x=i[m]||0;let y=`      "${p}"?`;if(x>0&&(y+=`

 : ${x}    !
      .`),y+=`

   .`,!!confirm(y))try{await e.delete(`/api/categories/mappings/${m}`),alert("  !"),l()}catch(h){alert("  : "+(((v=(g=h.response)==null?void 0:g.data)==null?void 0:v.detail)||h.message))}},u=m=>{var g,v,h;const p=!!((g=m.marketplace_categories)!=null&&g.ozon),x=!!((v=m.marketplace_categories)!=null&&v.wildberries),y=!!((h=m.marketplace_categories)!=null&&h.yandex);return{hasOzon:p,hasWB:x,hasYandex:y}};return a.jsxs("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto mb-6",children:[a.jsxs("button",{onClick:()=>window.location.href="/dashboard",className:"text-mm-cyan hover:underline mb-4 flex items-center gap-2",children:[a.jsx(Jk,{}),"   "]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Dy,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan mb-2",children:""}),a.jsx("p",{className:"text-gray-400 text-sm",children:"   "})]})]}),a.jsxs("button",{onClick:l,disabled:n,className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded font-semibold flex items-center gap-2 disabled:opacity-50",children:[a.jsx(jt,{className:n?"animate-spin":""}),""]})]})]}),a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-mm-cyan",children:t.length}),a.jsx("div",{className:"text-sm text-gray-400",children:" "})]}),a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:t.filter(m=>{var p;return(p=m.marketplace_categories)==null?void 0:p.wildberries}).length}),a.jsx("div",{className:"text-sm text-gray-400",children:" Wildberries"})]}),a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:t.filter(m=>{var p;return(p=m.marketplace_categories)==null?void 0:p.ozon}).length}),a.jsx("div",{className:"text-sm text-gray-400",children:" Ozon"})]})]}),a.jsx("div",{className:"bg-cyan-900/20 border border-cyan-600/30 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{className:"flex-1 text-sm text-cyan-200",children:[a.jsx("p",{className:"font-semibold mb-1",children:"  "}),a.jsx("p",{className:"text-cyan-300/80",children:"                .           ."})]})]})}),n?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-mm-cyan border-t-transparent"}),a.jsx("p",{className:"mt-4 text-gray-400",children:"..."})]}):t.length===0?a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-12 text-center",children:[a.jsx(wt,{className:"mx-auto text-6xl text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400 mb-2",children:" "}),a.jsx("p",{className:"text-sm text-gray-500",children:"       "})]}):a.jsx("div",{className:"bg-mm-secondary border border-mm-border rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border bg-mm-dark",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-semibold",children:" "}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:" Ozon"}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:" WB"}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:" Yandex"}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-semibold",children:""})]})}),a.jsx("tbody",{children:t.map(m=>{const{hasOzon:p,hasWB:x,hasYandex:y}=u(m),g=i[m.id]||0;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition",children:[a.jsxs("td",{className:"py-4 px-4",children:[a.jsx("div",{className:"font-medium text-white",children:m.internal_name}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["ID: ",m.id]})]}),a.jsx("td",{className:"py-4 px-3 text-center",children:p?a.jsxs("div",{children:[a.jsx("span",{className:"inline-block px-2 py-1 bg-blue-600/20 text-blue-300 rounded text-xs border border-blue-600/30",children:""}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m.marketplace_categories.ozon})]}):a.jsx("span",{className:"text-gray-600",children:""})}),a.jsx("td",{className:"py-4 px-3 text-center",children:x?a.jsxs("div",{children:[a.jsx("span",{className:"inline-block px-2 py-1 bg-purple-600/20 text-purple-300 rounded text-xs border border-purple-600/30",children:""}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m.marketplace_categories.wildberries})]}):a.jsx("span",{className:"text-gray-600",children:""})}),a.jsx("td",{className:"py-4 px-3 text-center",children:y?a.jsxs("div",{children:[a.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-600/20 text-yellow-300 rounded text-xs border border-yellow-600/30",children:""}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m.marketplace_categories.yandex})]}):a.jsx("span",{className:"text-gray-600",children:""})}),a.jsx("td",{className:"py-4 px-3 text-center",children:a.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 bg-cyan-600/20 text-cyan-300 rounded border border-cyan-600/30",children:[a.jsx(wt,{size:12}),a.jsx("span",{className:"font-semibold",children:g})]})}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{onClick:()=>c(m.id,m.internal_name),className:"px-3 py-2 border border-red-500 text-red-500 hover:bg-red-500/10 rounded transition inline-flex items-center gap-2",title:" ",children:[a.jsx(hn,{size:14}),""]})})]},m.id)})})]})})]})]})}function mM({productName:e="",selectedMarketplaces:t=[],initialCategoryMappingId:r=null,onCategorySelected:n,onAttributesLoaded:s}){const{api:i}=ve(),[o,l]=f.useState(""),[d,c]=f.useState([]),[u,m]=f.useState(null),[p,x]=f.useState({}),[y,g]=f.useState({}),[v,h]=f.useState(!1),[b,j]=f.useState(!1),[k,N]=f.useState(null),w={ozon:{border:"border-blue-500",bg:"bg-blue-50",text:"text-blue-700",badge:"bg-blue-100 text-blue-700"},wb:{border:"border-purple-500",bg:"bg-purple-50",text:"text-purple-700",badge:"bg-purple-100 text-purple-700"},yandex:{border:"border-yellow-500",bg:"bg-yellow-50",text:"text-yellow-700",badge:"bg-yellow-100 text-yellow-700"}},P={ozon:"Ozon",wb:"Wildberries",yandex:""};f.useEffect(()=>{(async()=>{if(!(!r||u)){j(!0);try{console.log("[UnifiedCategory] Loading initial category:",r);const U=(await i.get(`/api/categories/mappings/${r}`)).data;console.log("[UnifiedCategory] Initial category loaded:",U),m(U),n&&n(U)}catch(M){console.error("[UnifiedCategory] Failed to load initial category:",M)}finally{j(!1)}}})()},[r]),f.useEffect(()=>{e&&e.length>3&&!u&&(console.log(`[UnifiedCategory] Auto-suggesting for: "${e}"`),l(e))},[e,u]),f.useEffect(()=>{if(!o||o.length<2){c([]);return}const A=setTimeout(()=>{_()},500);return()=>clearTimeout(A)},[o]);const _=async()=>{h(!0),N(null);try{const M=(await i.get(`/api/categories/mappings/search?query=${encodeURIComponent(o)}`)).data.mappings||[];console.log(`[UnifiedCategory] Found ${M.length} category mappings`),c(M)}catch(A){console.error("Search error:",A),N("  ")}finally{h(!1)}},C=async A=>{console.log("[UnifiedCategory] Selected mapping:",A),m(A),l(""),c([]),n(A),await O(A)},O=async A=>{var W,L,R;h(!0);const M={},U={ozon:"ozon",wb:"wildberries",yandex:"yandex"};for(const $ of t){const X=U[$]||$,T=(W=A.marketplace_categories)==null?void 0:W[X];if(!T){console.log(`[UnifiedCategory] No category mapped for ${$} (dbKey: ${X})`);continue}try{let Q=`/api/categories/marketplace/${$}/${T}/attributes`;$==="ozon"&&((L=A.marketplace_type_ids)!=null&&L[X])&&(Q+=`?type_id=${A.marketplace_type_ids[X]}`);const D=(await i.get(Q)).data.attributes||[];console.log(`[UnifiedCategory] Loaded ${D.length} attributes for ${$}`),M[$]=D;for(const q of D)if(q.dictionary_id>0||q.type==="Dictionary"){const ie=q.attribute_id||q.id,Z=$==="ozon"?(R=A.marketplace_type_ids)==null?void 0:R.ozon:null;await S($,T,ie,Z)}}catch(Q){console.error(`Failed to load attributes for ${$}:`,Q)}}x(M),s(M),h(!1)},S=async(A,M,U,W=null)=>{try{let L=`/api/categories/marketplace/${A}/${M}/attribute-values?attribute_id=${U}`;W&&(L+=`&type_id=${W}`);const $=(await i.get(L)).data.values||[];g(X=>({...X,[`${A}_${U}`]:$}))}catch(L){console.error(`Failed to load values for ${A} attribute ${U}:`,L)}},I=(()=>{const A=new Map;for(const M of t){const U=p[M]||[];for(const W of U){const L=W.name||W.attribute_name||"";if(W.attribute_id||W.id,A.has(L)){const R=A.get(L);R.marketplaces.includes(M)||R.marketplaces.push(M),W.is_required&&R.required_for.push(M)}else A.set(L,{...W,original_mp:M,marketplaces:[M],required_for:W.is_required?[M]:[]})}}return Array.from(A.values())})();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[" ",a.jsx("span",{className:"text-red-400",children:"*"})]}),u?a.jsx("div",{className:"bg-green-900/20 border-2 border-green-500/50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:a.jsx(Bt,{className:"text-white",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400",children:" :"}),a.jsx("p",{className:"text-lg font-bold text-green-300",children:u.internal_name})]})]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"  :"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.entries(u.marketplace_categories||{}).map(([A,M])=>{const U=w[A];return a.jsxs("div",{className:`rounded p-2 ${M?"bg-gray-700":"bg-gray-800 border border-gray-700 border-dashed"}`,children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${(U==null?void 0:U.badge)||"bg-gray-600 text-gray-400"}`,children:P[A]})}),M?a.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",M]}):a.jsx("p",{className:"text-xs text-gray-500 italic",children:" "})]},A)})})]})]}),a.jsx("button",{onClick:()=>{m(null),x({})},className:"p-2 text-gray-400 hover:text-white transition flex-shrink-0",title:" ",children:a.jsx(Fa,{size:18})})]})}):a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-3 mb-3",children:a.jsxs("p",{className:"text-xs text-blue-300",children:[" ",a.jsx("strong",{children:":"}),'        ! : " WB", " Ozon", "".          .']})}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:o,onChange:A=>l(A.target.value),placeholder:"    WB, Ozon, ... (. 2 )",className:"w-full px-4 py-3 pl-10 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-mm-cyan focus:ring-2 focus:ring-mm-cyan/50 outline-none",autoComplete:"off"}),a.jsx(Qn,{className:"absolute left-3 top-3.5 text-gray-500"}),o.length>0&&o.length<2&&a.jsx("div",{className:"absolute right-3 top-3.5",children:a.jsxs("span",{className:"text-xs text-gray-500",children:[o.length,"/2"]})})]}),o.length>=2&&a.jsx("div",{className:"absolute z-50 mt-2 w-full bg-gray-800 border-2 border-mm-cyan rounded-lg shadow-2xl max-h-80 overflow-hidden",children:v?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(jt,{className:"animate-spin inline text-2xl text-mm-cyan mb-2"}),a.jsx("p",{className:"text-sm text-gray-400",children:" ..."})]}):k?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Wn,{className:"inline text-2xl text-red-400 mb-2"}),a.jsx("p",{className:"text-sm text-red-400",children:k})]}):d.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-gray-900 px-4 py-2 border-b border-gray-700",children:a.jsxs("p",{className:"text-xs text-mm-cyan font-medium",children:[" : ",d.length]})}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:d.map((A,M)=>a.jsxs("button",{onClick:()=>C(A),className:"w-full px-4 py-3 text-left hover:bg-mm-cyan/20 border-b border-gray-700 last:border-b-0 transition-colors focus:bg-mm-cyan/30 focus:outline-none",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("p",{className:"font-medium text-white",children:A.internal_name}),A.matched_category_name&&a.jsxs("span",{className:"text-xs text-gray-400 italic",children:["(",A.matched_category_name,")"]})]}),a.jsx("div",{className:"flex gap-2 mt-1 flex-wrap",children:Object.entries(A.marketplace_categories||{}).map(([U,W])=>{if(!W)return null;const L=w[U];return a.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${(L==null?void 0:L.badge)||"bg-gray-700 text-gray-300"}`,children:P[U]},U)})})]},M))})]}):a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Qn,{className:"inline text-3xl text-gray-600 mb-2"}),a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"  "}),a.jsx("p",{className:"text-xs text-gray-500",children:"      "})]})})]})]}),u&&I.length>0&&a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsxs("h3",{className:"font-bold text-mm-cyan mb-4",children:[" (",I.length,")"]}),a.jsx("div",{className:"space-y-3",children:I.map((A,M)=>{const U=A.attribute_id||A.id,W=A.name||A.attribute_name||"",L=A.original_mp,R=w[L],$=A.required_for.length>0,X=`${L}_${U}`,T=y[X]||[];return a.jsxs("div",{className:`p-3 rounded border-l-4 ${R.border} ${R.bg}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("label",{className:`block text-sm font-medium ${R.text}`,children:[W,$&&a.jsx("span",{className:"text-red-600 ml-1 text-lg",children:"*"})]}),a.jsx("div",{className:"flex gap-1",children:A.marketplaces.map(Q=>{const ee=w[Q],D=A.required_for.includes(Q);return a.jsxs("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${ee.badge}`,title:D?`  ${P[Q]}`:P[Q],children:[P[Q],D&&" *"]},Q)})})]}),T.length>0?a.jsxs("select",{className:`w-full px-3 py-2 border rounded focus:ring-2 outline-none ${$?"border-red-300 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-blue-500 bg-white"}`,required:$,children:[a.jsx("option",{value:"",children:$?"  ":" "}),T.map(Q=>a.jsx("option",{value:Q.id,children:Q.value},Q.id))]}):a.jsx("input",{type:"text",placeholder:$?"  ":" ",className:`w-full px-3 py-2 border rounded focus:ring-2 outline-none ${$?"border-red-300 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-blue-500 bg-white"}`,required:$}),A.description&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:A.description})]},M)})}),a.jsxs("div",{className:"border-t border-mm-border pt-3 mt-4",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary mb-2",children:":"}),a.jsxs("div",{className:"flex gap-3 text-xs text-mm-text-secondary",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 border-2 border-blue-500 rounded"}),a.jsx("span",{children:"Ozon"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 border-2 border-purple-500 rounded"}),a.jsx("span",{children:"Wildberries"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 border-2 border-yellow-500 rounded"}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-red-600 font-bold",children:"*"}),a.jsx("span",{children:""})]})]})]})]})]})}function fM({marketplace:e,currentMappingId:t,currentCategoryName:r="",onCategorySelected:n,onSkip:s}){const{api:i}=ve(),[o,l]=f.useState([]),[d,c]=f.useState(!0),[u,m]=f.useState(""),[p,x]=f.useState(!1),[y,g]=f.useState(!1),v={ozon:{name:"Ozon",color:"blue",icon:"",borderClass:"border-blue-500",bgClass:"bg-blue-900/20",textClass:"text-blue-400"},wb:{name:"Wildberries",color:"purple",icon:"",borderClass:"border-purple-500",bgClass:"bg-purple-900/20",textClass:"text-purple-400"},yandex:{name:" ",color:"yellow",icon:"",borderClass:"border-yellow-500",bgClass:"bg-yellow-900/20",textClass:"text-yellow-400"}},h=v[e]||v.ozon;f.useEffect(()=>{r?b(r):c(!1)},[r,e]);const b=async N=>{c(!0);try{const P=(await i.get(`/api/categories/marketplace/${e}/search?query=${encodeURIComponent(N)}&limit=5`)).data.categories||[];console.log(`[QuickMatcher] Found ${P.length} similar ${e} categories for "${N}"`),l(P)}catch(w){console.error("[QuickMatcher] Search error:",w),l([])}finally{c(!1)}},j=async()=>{if(!(!u||u.length<2)){c(!0);try{const w=(await i.get(`/api/categories/marketplace/${e}/search?query=${encodeURIComponent(u)}&limit=10`)).data.categories||[];l(w)}catch(N){console.error("[QuickMatcher] Manual search error:",N)}finally{c(!1)}}},k=async N=>{var w,P;g(!0);try{const _=String(N.category_id||N.id),C=N.category_name||N.name,O=N.type_id||null;console.log(`[QuickMatcher] Selecting ${e} category:`,_,C);const S={mapping_id:t,marketplace:e,category_id:_,category_name:C};O&&e==="ozon"&&(S.type_id=O);const E=await i.post("/api/categories/mappings/quick-update",S);console.log("[QuickMatcher] Mapping updated:",E.data),n&&n(e,_,C,O)}catch(_){console.error("[QuickMatcher] Selection error:",_),alert(`: ${((P=(w=_.response)==null?void 0:w.data)==null?void 0:P.detail)||_.message}`)}finally{g(!1)}};return d?a.jsx("div",{className:`${h.bgClass} border ${h.borderClass} border-opacity-30 rounded-lg p-4`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(z0,{className:`animate-spin ${h.textClass}`,size:20}),a.jsxs("p",{className:"text-sm text-gray-300",children:["   ",h.name,"..."]})]})}):a.jsxs("div",{className:`${h.bgClass} border ${h.borderClass} border-opacity-30 rounded-lg p-4`,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(Wn,{className:`${h.textClass} flex-shrink-0 mt-0.5`,size:20}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:`font-semibold ${h.textClass} mb-1`,children:[h.icon,"  ",h.name,"  "]}),a.jsxs("p",{className:"text-sm text-gray-400",children:[" : ",a.jsxs("span",{className:"text-white font-medium",children:['"',r,'"']})]})]})]}),!p&&o.length>0&&a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase font-semibold",children:" :"}),o.slice(0,3).map((N,w)=>{const P=N.category_id||N.id,_=N.category_name||N.name;return a.jsx("button",{onClick:()=>k(N),disabled:y,className:`w-full text-left p-3 rounded border ${h.borderClass} border-opacity-40 hover:border-opacity-100 bg-gray-800/50 hover:bg-gray-700/50 transition-all group disabled:opacity-50`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[w===0&&a.jsx("span",{className:"text-yellow-400 mr-2",children:""}),a.jsx("span",{className:"text-white font-medium",children:_}),a.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["ID: ",P]})]}),a.jsx("span",{className:`px-3 py-1 rounded text-xs font-semibold ${h.textClass} border ${h.borderClass} border-opacity-50 group-hover:border-opacity-100 transition-all`,children:y?"...":" "})]})},P)}),o.length>3&&a.jsxs("button",{onClick:()=>x(!0),className:"text-sm text-gray-400 hover:text-gray-200 transition",children:["  ",o.length-3,"..."]})]}),p&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:16}),a.jsx("input",{type:"text",value:u,onChange:N=>m(N.target.value),onKeyDown:N=>N.key==="Enter"&&j(),placeholder:`  ${h.name}...`,className:"w-full pl-10 pr-3 py-2 bg-gray-900 border border-gray-700 rounded text-white placeholder-gray-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/50 outline-none"})]}),a.jsx("button",{onClick:j,disabled:!u||d,className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded font-semibold disabled:opacity-50 transition",children:d?a.jsx(z0,{className:"animate-spin"}):""})]}),o.length>0&&a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:o.map(N=>{const w=N.category_id||N.id,P=N.category_name||N.name;return a.jsx("button",{onClick:()=>k(N),disabled:y,className:"w-full text-left p-2 rounded border border-gray-700 hover:border-gray-500 bg-gray-800/50 hover:bg-gray-700/50 transition group disabled:opacity-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"text-white text-sm",children:P}),a.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["ID: ",w]})]}),a.jsx("span",{className:"text-xs text-cyan-400 group-hover:text-cyan-300",children:y?"...":""})]})},w)})})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[!p&&a.jsx("button",{onClick:()=>x(!0),className:"px-4 py-2 text-sm border border-gray-600 text-gray-300 hover:border-gray-400 hover:text-white rounded transition",children:"  "}),p&&a.jsx("button",{onClick:()=>{x(!1),b(r)},className:"px-4 py-2 text-sm border border-gray-600 text-gray-300 hover:border-gray-400 hover:text-white rounded transition",children:"   "}),a.jsx("button",{onClick:s,className:"px-4 py-2 text-sm text-gray-500 hover:text-gray-300 transition ml-auto",children:""})]}),o.length===0&&!d&&a.jsx("div",{className:"mt-3 text-sm text-gray-400 text-center py-4",children:"  .   ."})]})}function pM({marketplace:e,categoryId:t,typeId:r,attributeId:n,attributeName:s,value:i,onChange:o,placeholder:l=" ..."}){const{api:d}=ve(),[c,u]=f.useState(""),[m,p]=f.useState([]),[x,y]=f.useState([]),[g,v]=f.useState(!1),[h,b]=f.useState(!1),[j,k]=f.useState(null),N=f.useRef(null);f.useEffect(()=>{t&&n&&w()},[t,n,r]),f.useEffect(()=>{if(!c)y(m.slice(0,50));else{const O=m.filter(S=>(S.value||"").toLowerCase().includes(c.toLowerCase()));y(O.slice(0,50))}},[c,m]),f.useEffect(()=>{const O=S=>{N.current&&!N.current.contains(S.target)&&b(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),f.useEffect(()=>{if(i&&m.length>0){const O=m.find(S=>S.id===i||S.value===i);O&&(k(O),u(O.value))}},[i,m]);const w=async()=>{v(!0);try{const O=new URLSearchParams({attribute_id:n});r&&O.append("type_id",r);const E=(await d.get(`/api/categories/marketplace/${e}/${t}/attribute-values?${O}`)).data.values||[];p(E),y(E.slice(0,50)),console.log(`[DictionaryAutocomplete] Loaded ${E.length} values for ${s}`)}catch(O){console.error("Failed to load dictionary values:",O),p([])}v(!1)},P=O=>{k(O),u(O.value),b(!1),o({value_id:O.id,value:O.value})},_=O=>{const S=O.target.value;u(S),b(!0),h||b(!0)},C=()=>{b(!0)};return a.jsxs("div",{ref:N,className:"relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:c,onChange:_,onFocus:C,placeholder:l,className:"w-full px-3 py-2 bg-[#0F172A] border border-[#334155] rounded text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none pr-10",disabled:g}),a.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[g&&a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-[#22D3EE] border-t-transparent rounded-full"}),a.jsx(Ui,{className:`text-gray-400 transition-transform ${h?"rotate-180":""}`})]})]}),h&&!g&&x.length>0&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-[#1E293B] border border-[#334155] rounded-lg shadow-xl max-h-60 overflow-y-auto",children:[x.map((O,S)=>a.jsxs("button",{type:"button",onClick:()=>P(O),className:"w-full text-left px-3 py-2 hover:bg-[#22D3EE]/10 text-white text-sm border-b border-[#334155] last:border-b-0 transition-colors",children:[O.value,O.info&&a.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",O.info,")"]})]},O.id||S)),m.length>50&&a.jsxs("div",{className:"px-3 py-2 text-xs text-gray-400 bg-[#0F172A] border-t border-[#334155]",children:[" ",x.length,"  ",m.length,".     ."]})]}),h&&!g&&c&&x.length===0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-[#1E293B] border border-[#334155] rounded-lg shadow-xl p-3",children:a.jsx("p",{className:"text-sm text-gray-400",children:"  "})}),m.length>0&&!h&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",m.length," .    ."]})]})}function xM({selectedMarketplaces:e={},characteristicsByMarketplace:t={},valuesByMarketplace:r={},onChange:n,loading:s={},baseCharacteristics:i={},currentMappingId:o=null,currentCategoryName:l="",onMappingUpdated:d,onBaseCharacteristicChange:c,categoryMappings:u={}}){const m={wb:{name:"Wildberries",shortName:"WB",icon:"",color:{bg:"bg-purple-600",text:"text-purple-400",border:"border-purple-500",badge:"bg-purple-600/20 text-purple-300 border-purple-500/30"}},ozon:{name:"Ozon",shortName:"Ozon",icon:"",color:{bg:"bg-blue-600",text:"text-blue-400",border:"border-blue-500",badge:"bg-blue-600/20 text-blue-300 border-blue-500/30"}},yandex:{name:" ",shortName:"YM",icon:"",color:{bg:"bg-yellow-600",text:"text-yellow-400",border:"border-yellow-500",badge:"bg-yellow-600/20 text-yellow-300 border-yellow-500/30"}},base:{name:"",shortName:"",icon:"",color:{badge:"bg-gray-600/20 text-gray-300 border-gray-500/30"}}},p=f.useMemo(()=>Object.keys(e).filter(w=>e[w]),[e]),x=f.useMemo(()=>{const w=new Map;Object.keys(i||{}).forEach(_=>{!_||!_.trim()||w.set(_,{name:_,sources:["base"],requiredIn:[],isDictionary:!1,mpData:{}})}),p.forEach(_=>{(t[_]||[]).forEach(O=>{const S=O.name||O.attribute_name||O.charcName,E=O.id||O.attribute_id||O.charcID,I=O.is_required||O.required,A=O.dictionary_id>0||O.type==="Dictionary";w.has(S)||w.set(S,{name:S,sources:[],requiredIn:[],isDictionary:!1,mpData:{}});const M=w.get(S);M.sources.includes(_)||M.sources.push(_),A&&(M.isDictionary=!0),M.mpData[_]={id:E,isRequired:I,originalChar:O},I&&M.requiredIn.push(_)})});const P=Array.from(w.values());return P.sort((_,C)=>{const O=_.requiredIn.length>0,S=C.requiredIn.length>0;return O&&!S?-1:!O&&S?1:0}),P},[p,t,i]),y=(w,P,_)=>{console.log(`[Unified] Changing "${w}" = "${P}" for sources:`,_),_.forEach(C=>{var O;if(C==="base")c&&c(w,P);else if(n){const S=x.find(A=>A.name===w),E=(O=S==null?void 0:S.mpData)==null?void 0:O[C],I=(E==null?void 0:E.id)||w;n(C,I,w,P)}})},g=(w,P)=>{var _;if(P.includes("base")&&i[w])return i[w];for(const C of P){if(C==="base")continue;const O=(_=r[C])==null?void 0:_[w];if(O)return O}return""},v=w=>{var I,A,M,U;const{name:P,sources:_,requiredIn:C,isDictionary:O}=w,S=g(P,_),E=C.length>0;return a.jsxs("div",{className:"bg-[#1F2937] border border-[#334155] rounded-lg p-3",children:[a.jsx("label",{className:"block text-sm font-medium text-[#E5E7EB] mb-2",children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[E&&a.jsx(kc,{className:"text-red-500 flex-shrink-0",size:12}),a.jsx("span",{children:P}),a.jsx("div",{className:"flex items-center gap-1 ml-auto flex-wrap",children:_.map(W=>{var X;if(W==="base"){const T=m.base;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs border rounded ${T.color.badge}`,title:" ",children:[T.icon," ",T.shortName]},W)}const L=m[W],R=(X=w.mpData)==null?void 0:X[W],$=R==null?void 0:R.isRequired;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs border rounded ${L.color.badge}`,title:$?`  ${L.name}`:` ${L.name}`,children:[L.icon," ",L.shortName,$&&a.jsx(kc,{size:8,className:"text-red-400"})]},W)})})]})}),O?a.jsx(pM,{marketplace:_.find(W=>W!=="base")||"ozon",categoryId:(I=u[_.find(W=>W!=="base")])==null?void 0:I.category_id,typeId:(A=u[_.find(W=>W!=="base")])==null?void 0:A.type_id,attributeId:(U=(M=w.mpData)==null?void 0:M[_.find(W=>W!=="base")])==null?void 0:U.id,attributeName:P,value:S,onChange:W=>{y(P,W.value,_)},placeholder:" ..."}):a.jsx("input",{type:"text",value:S,onChange:W=>y(P,W.target.value,_),className:"w-full px-3 py-2 bg-[#0F172A] border border-[#334155] rounded text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:E?" ":" "})]},P)};if(Object.values(s).some(w=>w))return a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-current border-t-transparent rounded-full text-[#22D3EE]",role:"status",children:a.jsx("span",{className:"sr-only",children:"..."})}),a.jsx("p",{className:"mt-2 text-gray-400",children:"  ..."})]});if(p.length===0)return a.jsx("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-blue-300 flex items-center gap-2",children:[a.jsx(Wn,{}),'     (" :"),   ']})});const b=p.filter(w=>(t[w]||[]).length===0),j=p.filter(w=>(t[w]||[]).length>0),k=x.filter(w=>w.requiredIn.length>0),N=x.filter(w=>w.requiredIn.length===0);return a.jsxs("div",{className:"space-y-6",children:[b.map(w=>a.jsx(fM,{marketplace:w,currentMappingId:o,currentCategoryName:l,onCategorySelected:(P,_,C,O)=>{console.log(`[UnifiedCharacteristics] Category selected for ${P}:`,_),d&&d(P,_,C,O)},onSkip:()=>{console.log(`[UnifiedCharacteristics] Skipped ${w} category selection`)}},`matcher-${w}`)),j.map(w=>{const P=m[w],_=u[w]||{};return a.jsx("div",{className:`${P.color.bg} border ${P.color.border} border-opacity-30 rounded-lg p-4`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 ${P.color.bg} text-white rounded flex items-center justify-center text-xs font-bold`,children:P.shortName}),a.jsxs("div",{children:[a.jsxs("p",{className:`text-sm font-semibold ${P.color.text}`,children:[P.name,": ",l]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",_.category_id," ",_.type_id?`| Type: ${_.type_id}`:""]})]})]}),a.jsxs("button",{type:"button",onClick:()=>{confirm(`  ${P.name}?

  .`)&&d&&d(w,null,null,null)},className:`px-3 py-1.5 ${P.color.bg} bg-opacity-80 hover:bg-opacity-100 text-white text-xs font-semibold rounded flex items-center gap-1.5 transition`,children:[a.jsx(Wn,{size:14}),"  "]})]})},`info-${w}`)}),x.length>0&&a.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-cyan-600/30 rounded-lg p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-cyan-600/30 mb-5",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500"}),a.jsx("h3",{className:"text-xl font-bold text-cyan-400",children:"   "}),a.jsxs("span",{className:"text-sm text-gray-400",children:["(",x.length," )"]}),k.length>0&&a.jsxs("span",{className:"ml-auto text-xs text-red-400 flex items-center gap-1",children:[a.jsx(kc,{size:10}),k.length," "]})]}),k.length>0&&a.jsxs("div",{className:"mb-5",children:[a.jsxs("h4",{className:"text-sm font-semibold text-red-400 mb-3 flex items-center gap-2",children:[a.jsx(kc,{size:12}),"  (",k.length,")"]}),a.jsx("div",{className:"space-y-3",children:k.map(w=>v(w))})]}),N.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3",children:["  (",N.length,")"]}),a.jsx("div",{className:"space-y-3",children:N.map(w=>v(w))})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-2",children:[a.jsx(Wn,{size:12}),"        "]})})]})]})}function U0(){var se,be,H,re,ce,ge;const{api:e}=ve(),{id:t}=Gu(),r=Xr(),[n,s]=f.useState(!1),[i,o]=f.useState("card"),[l,d]=f.useState(!1),[c,u]=f.useState([]),[m,p]=f.useState({wb:!1,ozon:!1,yandex:!1,honest_sign:!1}),[x,y]=f.useState({wb:{name:"",description:"",characteristics:{}},ozon:{name:"",description:"",characteristics:{}},yandex:{name:"",description:"",characteristics:{}}}),[g,v]=f.useState({ozon:{category_id:null,category_name:"",type_id:null},wb:{category_id:null,category_name:""},yandex:{category_id:null,category_name:""}}),[h,b]=f.useState({ozon:{},wb:{},yandex:{}}),[j,k]=f.useState({wb:[],ozon:[],yandex:[]}),[N,w]=f.useState({wb:!1,ozon:!1,yandex:!1}),[P,_]=f.useState({wb:!1,ozon:!1,yandex:!1}),[C,O]=f.useState(null),[S,E]=f.useState({article:"",name:"",brand:"",category_id:"",description:"",status:"active",manufacturer:"",country_of_origin:"",label_name:"",price_with_discount:0,price_without_discount:0,price_coefficient:1,purchase_price:0,additional_expenses:0,cost_price:0,vat:0,weight:0,dimensions:{length:0,width:0,height:0},gender:"",season:"",composition:"",care_instructions:"",additional_info:"",website_link:"",characteristics:{}}),[I,A]=f.useState([]),[M,U]=f.useState([]),[W,L]=f.useState("");f.useEffect(()=>{R(),t&&($(),X(),T())},[t]),f.useEffect(()=>{const z=S.purchase_price+S.additional_expenses;z!==S.cost_price&&E(ae=>({...ae,cost_price:z}))},[S.purchase_price,S.additional_expenses]),f.useEffect(()=>{let z=!1;const ae={};Object.keys(m).forEach(B=>{var oe;m[B]&&!((oe=x[B])!=null&&oe.name)&&(z=!0,ae[B]={name:S.name,description:S.description,characteristics:S.characteristics})}),z&&y(B=>({...B,...ae}))},[m.ozon,m.wb,m.yandex,m.honest_sign]);const R=async()=>{try{const z=await e.get("/api/catalog/categories");u(z.data)}catch(z){console.error("Failed to load categories:",z)}},$=async()=>{try{s(!0);const ae=(await e.get(`/api/catalog/products/${t}`)).data;E({...ae,dimensions:ae.dimensions||{length:0,width:0,height:0},manufacturer:ae.manufacturer||"",country_of_origin:ae.country_of_origin||"",label_name:ae.label_name||ae.name||"",price_with_discount:ae.price_with_discount||ae.price||0,price_without_discount:ae.price_without_discount||ae.price||0,price_coefficient:ae.price_coefficient||1,purchase_price:ae.purchase_price||0,additional_expenses:ae.additional_expenses||0,cost_price:ae.cost_price||0,vat:ae.vat||0,gender:ae.gender||"",season:ae.season||"",composition:ae.composition||"",care_instructions:ae.care_instructions||"",additional_info:ae.additional_info||"",website_link:ae.website_link||"",characteristics:ae.characteristics||{}}),ae.marketplace_specific_data&&y(ae.marketplace_specific_data)}catch(z){alert("  : "+z.message),r("/dashboard")}finally{s(!1)}},X=async()=>{try{const z=await e.get(`/api/catalog/products/${t}/variants`);A(z.data)}catch(z){console.error("Failed to load variants:",z)}},T=async()=>{try{const z=await e.get(`/api/catalog/products/${t}/photos`);U(z.data)}catch(z){console.error("Failed to load photos:",z)}},Q=async()=>{var z,ae;s(!0);try{const B={...S,price:S.price_with_discount,price_discounted:S.price_with_discount<S.price_without_discount?S.price_with_discount:null};if(Object.values(m).some(de=>de)&&t){const de=await e.post(`/api/catalog/products/${t}/save-with-marketplaces`,{product:B,marketplaces:m,marketplace_data:x,category_mappings:g,required_attributes:h});let ke=de.data.message+`

`;const je=de.data.marketplace_results||{};Object.keys(je).forEach(_e=>{const Me=je[_e];Me.success?ke+=` ${_e.toUpperCase()}: ${Me.message}
`:ke+=` ${_e.toUpperCase()}: ${Me.error}
`}),alert(ke),$()}else if(t)await e.put(`/api/catalog/products/${t}`,B),alert("  !"),$();else{const de=await e.post("/api/catalog/products",B);alert("  !"),r(`/catalog/products/${de.data.id}/edit`)}}catch(B){alert(" : "+(((ae=(z=B.response)==null?void 0:z.data)==null?void 0:ae.detail)||B.message))}finally{s(!1)}},ee=async z=>{var B,oe;if(!t){alert("  ");return}const ae=prompt(` ID   ${z.toUpperCase()}:`);if(ae){s(!0);try{const de=await e.post(`/api/catalog/products/${t}/update-from-marketplace`,{marketplace:z,marketplace_product_id:ae});alert(` ${de.data.message}

: ${de.data.details.name}
: ${de.data.details.description_length} 
: ${de.data.details.characteristics_count}
 : ${de.data.details.photos_added}`),$(),T()}catch(de){alert(" : "+(((oe=(B=de.response)==null?void 0:B.data)==null?void 0:oe.detail)||de.message))}finally{s(!1)}}},D=async z=>{var ae,B;if(!t){alert("  ");return}if(confirm(`   ${z.toUpperCase()}?`)){s(!0);try{const oe=await e.post(`/api/catalog/products/${t}/upload-media/${z}`);alert(` ${oe.data.message}`)}catch(oe){alert(" : "+(((B=(ae=oe.response)==null?void 0:ae.data)==null?void 0:B.detail)||oe.message))}finally{s(!1)}}},q=()=>{if(M.length===0){alert("   ");return}alert(`  ${M.length} 

     `)},ie=()=>{if(!t){alert("  ");return}alert(`   

    (  )`)},Z=()=>{alert(`   

       ( )`)},F=(z,ae)=>{E(B=>({...B,[z]:ae}))},le=async(z,ae)=>{var B,oe,de,ke;if(!ae){alert("   ");return}w(je=>({...je,[z]:!0})),_(je=>({...je,[z]:!0}));try{const _e={ozon:"ozon",wb:"wildberries",yandex:"yandex"}[z]||z,ye=(await e.get(`/api/categories/mappings/${ae}`)).data;console.log("[loadMarketplaceCharacteristics] Mapping:",ye),console.log("[loadMarketplaceCharacteristics] Looking for key:",_e);const Ce=(B=ye.marketplace_categories)==null?void 0:B[_e],Se=(oe=ye.marketplace_type_ids)==null?void 0:oe[_e];if(console.log("[loadMarketplaceCharacteristics] Found categoryId:",Ce,"typeId:",Se),!Ce){console.warn(`Category not mapped to ${z}`),k(Tn=>({...Tn,[z]:[]}));return}let Lt=`/api/categories/marketplace/${z}/${Ce}/attributes`;Se&&z==="ozon"&&(Lt+=`?type_id=${Se}`),console.log("[loadMarketplaceCharacteristics]  LOADING FROM:",Lt),console.log("[loadMarketplaceCharacteristics]  CATEGORY ID:",Ce),console.log("[loadMarketplaceCharacteristics]  TYPE ID:",Se);const zs=(await e.get(Lt)).data.attributes||[];console.log(`[loadMarketplaceCharacteristics]  RECEIVED ${zs.length} CHARACTERISTICS`),console.log("[loadMarketplaceCharacteristics]  FIRST 3 CHARS:",zs.slice(0,3).map(Tn=>Tn.name||Tn.attribute_name)),k(Tn=>({...Tn,[z]:zs})),console.log(`  ${zs.length}   ${z}`)}catch(je){console.error(`Failed to load ${z} characteristics:`,je),alert(`   ${z}: ${((ke=(de=je.response)==null?void 0:de.data)==null?void 0:ke.detail)||je.message}`)}finally{w(je=>({...je,[z]:!1}))}};f.useEffect(()=>{(async()=>{if(console.log("[ProductForm] Loading characteristics, category_mapping_id:",S.category_mapping_id),console.log("[ProductForm] Selected marketplaces:",m),!S.category_mapping_id){console.log("[ProductForm] No category_mapping_id, skipping");return}for(const ae of["ozon","wb","yandex"])m[ae]&&!N[ae]&&(console.log(`[ProductForm] Loading characteristics for ${ae} (category: ${S.category_mapping_id})`),await le(ae,S.category_mapping_id))})()},[m.ozon,m.wb,m.yandex,S.category_mapping_id]),f.useEffect(()=>{if(!S.marketplace_data||pe.length<2)return;const ae=setTimeout(()=>{const B=new Set,oe={};pe.forEach(_e=>{const Me=j[_e]||[];oe[_e]=Me.map(ye=>ye.name||ye.attribute_name||ye.charcName),Me.forEach(ye=>{const Ce=ye.name||ye.attribute_name||ye.charcName;B.add(Ce)})});const de=Array.from(B).filter(_e=>pe.filter(ye=>{var Ce;return(Ce=oe[ye])==null?void 0:Ce.includes(_e)}).length>1);if(de.length===0)return;let ke=!1;const je={...S.marketplace_data};de.forEach(_e=>{const Me=pe.find(ye=>{var Ce,Se;return(Se=(Ce=je[ye])==null?void 0:Ce.characteristics)==null?void 0:Se[_e]});if(Me){const ye=je[Me].characteristics[_e];pe.forEach(Ce=>{var Se,Lt,eo;Ce!==Me&&((Se=oe[Ce])!=null&&Se.includes(_e))&&((eo=(Lt=je[Ce])==null?void 0:Lt.characteristics)!=null&&eo[_e]||(je[Ce]||(je[Ce]={characteristics:{}}),je[Ce].characteristics||(je[Ce].characteristics={}),je[Ce].characteristics[_e]=ye,ke=!0))})}}),ke&&(console.log("[Migration] Migrated common characteristics values between marketplaces"),E(_e=>({..._e,marketplace_data:je})))},500);return()=>clearTimeout(ae)},[j,m]);const pe=Object.keys(m).filter(z=>m[z]),J=async()=>{const z=prompt(" URL :");if(z)try{const ae=await e.post(`/api/catalog/products/${t}/photos`,{url:z,order:M.length+1,marketplaces:{wb:!0,ozon:!0,yandex:!0}});U([...M,ae.data])}catch(ae){alert(": "+ae.message)}},G=async z=>{try{await e.delete(`/api/catalog/products/${t}/photos/${z}`),U(M.filter(ae=>ae.id!==z))}catch(ae){alert(": "+ae.message)}};return n&&t?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-mm-cyan"}),a.jsx("p",{className:"text-mm-text-secondary mt-4",children:"..."})]}):a.jsxs("div",{className:"min-h-screen bg-mm-dark pb-32",children:[a.jsxs("div",{className:"bg-mm-secondary border-b border-mm-border p-4",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[a.jsx("button",{onClick:()=>r("/dashboard"),className:"p-2 text-mm-text hover:text-mm-cyan transition",children:a.jsx(Jk,{size:20})}),a.jsx("h1",{className:"text-2xl font-bold text-mm-text",children:t?` : ${S.article}`:" "})]}),t&&a.jsxs("div",{className:"flex items-center gap-1 p-2 bg-cyan-500 rounded relative",children:[a.jsx("button",{type:"button",onClick:Q,title:"",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(wi,{size:18})}),a.jsx("button",{type:"button",title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(rr,{size:18})}),a.jsx("button",{type:"button",onClick:Q,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(Bt,{size:18})}),a.jsx("button",{type:"button",title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition text-lg",children:""}),a.jsx("button",{type:"button",onClick:Z,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(Xn,{size:18})}),a.jsx("button",{type:"button",onClick:ie,title:"",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(tm,{size:18})}),a.jsx("button",{type:"button",title:"  ",className:"p-2 text-white hover:bg-white/20 rounded transition text-lg",children:""}),a.jsx("button",{type:"button",onClick:()=>D("wb"),title:" Wildberries",className:"w-8 h-8 bg-purple-600 text-white rounded flex items-center justify-center hover:bg-purple-700 transition text-xs font-bold",children:"WB"}),a.jsx("button",{type:"button",onClick:()=>D("ozon"),title:" Ozon",className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition text-xs font-bold",children:"O"}),a.jsx("button",{type:"button",onClick:q,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(Wt,{size:18})}),a.jsx("button",{type:"button",onClick:async()=>{if(confirm("  ?"))try{await e.delete(`/api/catalog/products/${t}`),alert("  "),r("/dashboard")}catch(z){alert(": "+z.message)}},title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(hn,{size:18})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{type:"button",onClick:()=>d(!l),title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(a_,{size:18})}),l&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)}),a.jsx("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50",children:a.jsxs("div",{className:"py-2",children:[a.jsx("button",{onClick:()=>{alert(`    

    `),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    "}),a.jsx("button",{onClick:()=>{const z=prompt("   ? (wb, ozon, yandex)");z&&ee(z),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"  ,   "}),a.jsx("button",{onClick:()=>{const z=prompt("   ? (wb, ozon, yandex)");z&&ee(z),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"  "}),a.jsx("button",{onClick:()=>{q(),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    "}),a.jsx("button",{onClick:()=>{D("ozon"),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    Ozon"}),a.jsx("hr",{className:"my-2"}),a.jsx("button",{onClick:()=>{alert(`   

    `),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"   "})]})})]})]})]}),t&&a.jsx("div",{className:"flex gap-1 mt-3 border-b border-mm-border overflow-x-auto",children:["card","keywords","analytics","prices","mass_edit","hypotheses","suppliers","stock","documents","duplicates"].map(z=>{const ae={card:"",keywords:" ",analytics:"",prices:"",mass_edit:" ",hypotheses:"",suppliers:"",stock:"",documents:"",duplicates:""};return a.jsxs("button",{onClick:()=>o(z),className:`px-4 py-2 font-medium transition whitespace-nowrap relative ${i===z?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-text"}`,children:[ae[z],z==="hypotheses"&&a.jsx("span",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 text-[10px] bg-orange-500 text-white rounded font-bold",children:"NEW"})]},z)})})]}),a.jsx("div",{className:"max-w-[1600px] mx-auto px-6 py-6",children:a.jsxs("form",{onSubmit:z=>{z.preventDefault(),Q()},children:[i==="card"&&a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-3",children:a.jsxs("div",{className:"bg-mm-secondary p-4 rounded-lg sticky top-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-mm-text mb-3",children:""}),a.jsx("div",{className:"space-y-2",children:M.length===0?a.jsxs("div",{className:"border-2 border-dashed border-mm-border rounded-lg p-8 text-center",children:[a.jsx(hx,{className:"mx-auto text-4xl text-mm-text-secondary mb-2"}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:" "})]}):a.jsx("div",{className:"grid grid-cols-2 gap-2",children:M.map(z=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:z.url,alt:"Product",className:"w-full h-24 object-cover rounded bg-mm-dark"}),a.jsx("button",{type:"button",onClick:()=>G(z.id),className:"absolute top-1 right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition text-xs font-bold",children:""})]},z.id))})}),t&&a.jsx("button",{type:"button",onClick:J,className:"w-full mt-3 px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded text-sm font-medium",children:"+  "})]})}),a.jsxs("div",{className:"col-span-9 space-y-6",children:[t&&a.jsx("div",{className:"bg-mm-secondary p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-mm-text",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsxs("span",{className:"ml-2 font-semibold",children:[I.length,"  ",I.length]})]}),a.jsx("button",{type:"button",onClick:async()=>{const z=prompt(":"),ae=prompt(":");if(!(!z||!ae))try{const B=await e.post(`/api/catalog/products/${t}/variants`,{color:z,size:ae,sku:`${S.article}-${z.slice(0,3).toUpperCase()}-${ae}`});A([...I,B.data])}catch(B){alert(": "+B.message)}},className:"px-4 py-2 bg-orange-500 text-white hover:bg-orange-600 rounded text-sm font-semibold",children:""})]})}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsx(mM,{productName:S.name,initialCategoryMappingId:S.category_mapping_id,selectedMarketplaces:Object.keys(m).filter(z=>m[z]),onCategorySelected:z=>{var ae,B,oe,de;console.log("[ProductForm] Category selected:",z),z?(O(z),v({ozon:{category_id:(ae=z.marketplace_categories)==null?void 0:ae.ozon,category_name:z.internal_name,type_id:(B=z.marketplace_type_ids)==null?void 0:B.ozon},wb:{category_id:(oe=z.marketplace_categories)==null?void 0:oe.wildberries,category_name:z.internal_name},yandex:{category_id:(de=z.marketplace_categories)==null?void 0:de.yandex,category_name:z.internal_name}}),_({wb:!1,ozon:!1,yandex:!1}),k({wb:[],ozon:[],yandex:[]}),E(ke=>{var je,_e,Me;return{...ke,category_mapping_id:z.id,marketplace_data:{wb:{...((je=ke.marketplace_data)==null?void 0:je.wb)||{},characteristics:{}},ozon:{...((_e=ke.marketplace_data)==null?void 0:_e.ozon)||{},characteristics:{}},yandex:{...((Me=ke.marketplace_data)==null?void 0:Me.yandex)||{},characteristics:{}}}}})):(E(ke=>({...ke,category_mapping_id:null})),O(null),v({ozon:{},wb:{},yandex:{}}))},onAttributesLoaded:z=>{console.log("[ProductForm] Attributes loaded:",z),y(ae=>{const B={...ae};return Object.keys(z).forEach(oe=>{B[oe]||(B[oe]={}),B[oe].attributes=z[oe]}),B})}}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["      ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",value:S.article,onChange:z=>F("article",z.target.value),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",value:S.name,onChange:z=>F("name",z.target.value),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:[" ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:S.brand,onChange:z=>F("brand",z.target.value),required:!0,className:"flex-1 px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"}),a.jsx("button",{type:"button",className:"px-4 py-2 bg-cyan-500 text-white hover:bg-cyan-600 rounded text-sm font-semibold",children:""}),a.jsx("button",{type:"button",className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded",children:a.jsx(Fa,{size:18})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:S.manufacturer,onChange:z=>F("manufacturer",z.target.value),className:"flex-1 px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"}),a.jsx("button",{type:"button",className:"px-4 py-2 bg-cyan-500 text-white hover:bg-cyan-600 rounded text-sm font-semibold",children:""}),a.jsx("button",{type:"button",className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded",children:a.jsx(Fa,{size:18})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),a.jsx("input",{type:"text",value:S.country_of_origin,onChange:z=>F("country_of_origin",z.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:"  "}),a.jsx("input",{type:"text",value:S.label_name,onChange:z=>F("label_name",z.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:""}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["    ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.price_with_discount/100,onChange:z=>F("price_with_discount",Math.round(parseFloat(z.target.value||0)*100)),step:"0.01",required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["    ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.price_without_discount/100,onChange:z=>F("price_without_discount",Math.round(parseFloat(z.target.value||0)*100)),step:"0.01",required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),a.jsx("input",{type:"number",value:S.purchase_price/100,onChange:z=>F("purchase_price",Math.round(parseFloat(z.target.value||0)*100)),step:"0.01",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:".  "}),a.jsx("input",{type:"number",value:S.additional_expenses/100,onChange:z=>F("additional_expenses",Math.round(parseFloat(z.target.value||0)*100)),step:"0.01",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),a.jsx("input",{type:"number",value:S.cost_price/100,readOnly:!0,className:"w-full px-3 py-2 bg-mm-dark/50 border border-mm-border rounded text-mm-text-secondary cursor-not-allowed"})]})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:""}),a.jsxs("span",{className:"text-xs text-mm-text-secondary",children:[S.description.length," / 2000"]})]}),a.jsx("textarea",{value:S.description,onChange:z=>F("description",z.target.value),rows:"5",maxLength:2e3,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none resize-none"})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase mb-3",children:"    "}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.dimensions.length,onChange:z=>F("dimensions",{...S.dimensions,length:parseInt(z.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.dimensions.width,onChange:z=>F("dimensions",{...S.dimensions,width:parseInt(z.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.dimensions.height,onChange:z=>F("dimensions",{...S.dimensions,height:parseInt(z.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.weight,onChange:z=>F("weight",parseInt(z.target.value)||0),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]})]}),(m.ozon||m.wb)&&a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:"  "}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.ozon&&a.jsxs("div",{className:"p-4 bg-mm-dark rounded border border-blue-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"O"}),a.jsx("span",{className:"text-sm font-semibold text-blue-400",children:"Ozon"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"   "}),a.jsx("input",{type:"number",value:S.ozon_price||"",onChange:z=>E({...S,ozon_price:parseFloat(z.target.value)||0}),placeholder:"1990",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-blue-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"   "}),a.jsx("input",{type:"number",value:S.ozon_old_price||"",onChange:z=>E({...S,ozon_old_price:parseFloat(z.target.value)||0}),placeholder:"2490",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-blue-500 outline-none"})]}),S.ozon_price&&S.ozon_old_price&&a.jsxs("p",{className:"text-xs text-green-400 font-medium",children:[": ",Math.round((S.ozon_old_price-S.ozon_price)/S.ozon_old_price*100),"%"]})]})]}),m.wb&&a.jsxs("div",{className:"p-4 bg-mm-dark rounded border border-purple-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"w-6 h-6 bg-purple-600 text-white rounded flex items-center justify-center text-xs font-bold",children:"WB"}),a.jsx("span",{className:"text-sm font-semibold text-purple-400",children:"Wildberries"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"  "}),a.jsx("input",{type:"number",value:S.wb_regular_price||"",onChange:z=>E({...S,wb_regular_price:parseFloat(z.target.value)||0}),placeholder:"2490",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-purple-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"   "}),a.jsx("input",{type:"number",value:S.wb_discount_price||"",onChange:z=>E({...S,wb_discount_price:parseFloat(z.target.value)||0}),placeholder:"1990",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-purple-500 outline-none"})]}),S.wb_regular_price&&S.wb_discount_price&&a.jsxs("p",{className:"text-xs text-green-400 font-medium",children:[": ",Math.round((S.wb_regular_price-S.wb_discount_price)/S.wb_regular_price*100),"%"]})]})]})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-6",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase mb-4",children:" "}),a.jsx(xM,{selectedMarketplaces:m,characteristicsByMarketplace:j,valuesByMarketplace:{wb:((be=(se=S.marketplace_data)==null?void 0:se.wb)==null?void 0:be.characteristics)||{},ozon:((re=(H=S.marketplace_data)==null?void 0:H.ozon)==null?void 0:re.characteristics)||{},yandex:((ge=(ce=S.marketplace_data)==null?void 0:ce.yandex)==null?void 0:ge.characteristics)||{}},baseCharacteristics:S.characteristics||{},currentMappingId:S.category_mapping_id,currentCategoryName:(C==null?void 0:C.internal_name)||"",categoryMappings:g,onMappingUpdated:async(z,ae,B,oe)=>{if(console.log(`[ProductForm] Mapping updated for ${z}:`,ae),ae===null){console.log(`[ProductForm] Resetting mapping for ${z}`),_(de=>({...de,[z]:!1})),k(de=>({...de,[z]:[]})),v(de=>({...de,[z]:{}})),E(de=>{var ke;return{...de,marketplace_data:{...de.marketplace_data,[z]:{...((ke=de.marketplace_data)==null?void 0:ke[z])||{},characteristics:{}}}}});return}v(de=>({...de,[z]:{category_id:ae,category_name:B,type_id:oe}})),_(de=>({...de,[z]:!1})),await le(z,S.category_mapping_id)},onBaseCharacteristicChange:(z,ae)=>{E(B=>({...B,characteristics:{...B.characteristics,[z]:ae}}))},onChange:(z,ae,B,oe)=>{E(de=>{var ke,je,_e;return{...de,marketplace_data:{...de.marketplace_data,[z]:{...(ke=de.marketplace_data)==null?void 0:ke[z],characteristics:{...(_e=(je=de.marketplace_data)==null?void 0:je[z])==null?void 0:_e.characteristics,[B]:oe}}}}})},loading:N})]})]})]}),i==="prices"&&a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[a.jsx("h2",{className:"text-xl font-bold text-mm-text mb-6",children:""}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:"  "}),a.jsxs("p",{className:"text-2xl font-bold text-mm-cyan",children:[(S.price_with_discount/100).toFixed(2)," "]})]}),a.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:"  "}),a.jsxs("p",{className:"text-2xl font-bold text-mm-text",children:[(S.price_without_discount/100).toFixed(2)," "]})]}),a.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:""}),a.jsxs("p",{className:"text-2xl font-bold text-mm-text",children:[(S.cost_price/100).toFixed(2)," "]})]})]})]}),i!=="card"&&i!=="prices"&&a.jsx("div",{className:"bg-mm-secondary p-6 rounded-lg text-center py-12",children:a.jsxs("p",{className:"text-mm-text-secondary",children:[' "',i,'"  ']})})]})}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 shadow-lg z-30",children:a.jsxs("div",{className:"max-w-[1600px] mx-auto flex justify-between items-center",children:[a.jsx("button",{type:"button",onClick:Q,disabled:n,className:"px-8 py-3 bg-cyan-500 text-white hover:bg-cyan-600 rounded font-bold disabled:opacity-50",children:""}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-gray-700 font-medium",children:" :"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.honest_sign,onChange:z=>p({...m,honest_sign:z.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.ozon,onChange:z=>p({...m,ozon:z.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"w-7 h-7 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"O"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.wb,onChange:z=>p({...m,wb:z.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"w-7 h-7 bg-purple-600 text-white rounded flex items-center justify-center text-xs font-bold",children:"WB"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.yandex,onChange:z=>p({...m,yandex:z.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"w-7 h-7 bg-red-500 text-white rounded flex items-center justify-center text-xs font-bold",children:""})]})]})]})})]})}function hM(){const{api:e}=ve(),t=Xr(),[r,n]=f.useState(1),[s,i]=f.useState(""),[o,l]=f.useState(""),[d,c]=f.useState(null),[u,m]=f.useState(!1),[p,x]=f.useState(null),y=b=>{const j=b.target.files[0];if(j){if(!j.name.endsWith(".xlsx")&&!j.name.endsWith(".xls")){alert(",  Excel  (.xlsx  .xls)");return}c(j)}},g=()=>{alert("  Excel     ")},v=async()=>{var b,j;if(!o){alert(" ");return}m(!0);try{const k=await e.post("/api/catalog/import/marketplace",null,{params:{marketplace:o}});x(k.data),n(3)}catch(k){alert(" : "+(((j=(b=k.response)==null?void 0:b.data)==null?void 0:j.detail)||k.message))}finally{m(!1)}},h=async()=>{if(!d){alert(" ");return}m(!0);try{new FormData().append("file",d),alert("  Excel     ")}catch(b){alert(" : "+b.message)}finally{m(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Dy,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"       Excel"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:`flex items-center gap-2 ${r>=1?"text-mm-cyan":"text-mm-text-secondary"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=1?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"1"}),a.jsx("span",{className:"text-sm",children:" "})]}),a.jsx("div",{className:"flex-1 h-px bg-mm-border"}),a.jsxs("div",{className:`flex items-center gap-2 ${r>=2?"text-mm-cyan":"text-mm-text-secondary"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=2?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"2"}),a.jsx("span",{className:"text-sm",children:" "})]}),a.jsx("div",{className:"flex-1 h-px bg-mm-border"}),a.jsxs("div",{className:`flex items-center gap-2 ${r>=3?"text-mm-cyan":"text-mm-text-secondary"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=3?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"3"}),a.jsx("span",{className:"text-sm",children:""})]})]}),r===1&&a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsx("div",{onClick:()=>{i("marketplace"),n(2)},className:`p-8 rounded-lg cursor-pointer transition border-2 ${s==="marketplace"?"border-mm-cyan bg-mm-cyan/10":"border-mm-border bg-mm-secondary hover:border-mm-cyan/50"}`,children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-mm-cyan/20 rounded-full flex items-center justify-center",children:a.jsx(Wt,{className:"text-3xl text-mm-cyan"})}),a.jsx("h3",{className:"text-xl font-bold text-mm-text",children:"  "}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:"    Wildberries, Ozon  .  API"}),a.jsxs("ul",{className:"text-xs text-mm-text-secondary text-left space-y-2",children:[a.jsx("li",{children:"    "}),a.jsx("li",{children:" , , "}),a.jsx("li",{children:"  "})]})]})}),a.jsx("div",{onClick:()=>{i("excel"),n(2)},className:`p-8 rounded-lg cursor-pointer transition border-2 ${s==="excel"?"border-mm-cyan bg-mm-cyan/10":"border-mm-border bg-mm-secondary hover:border-mm-cyan/50"}`,children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-mm-cyan/20 rounded-full flex items-center justify-center",children:a.jsx(rr,{className:"text-3xl text-mm-cyan"})}),a.jsx("h3",{className:"text-xl font-bold text-mm-text",children:"  Excel"}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:"    Excel-  "}),a.jsxs("ul",{className:"text-xs text-mm-text-secondary text-left space-y-2",children:[a.jsx("li",{children:"   "}),a.jsx("li",{children:"   Excel"}),a.jsx("li",{children:"  "})]})]})})]}),r===2&&s==="marketplace"&&a.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" "}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:["ozon","wb","yandex"].map(b=>{const j={ozon:"Ozon",wb:"Wildberries",yandex:"."},k={ozon:"blue",wb:"purple",yandex:"red"};return a.jsx("div",{onClick:()=>l(b),className:`p-6 rounded-lg cursor-pointer transition border-2 text-center ${o===b?`border-${k[b]}-500 bg-${k[b]}-500/10`:"border-mm-border hover:border-mm-cyan/50"}`,children:a.jsx("h3",{className:"text-lg font-bold text-mm-text",children:j[b]})},b)})}),a.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-4",children:a.jsxs("p",{className:"text-blue-300 text-sm",children:[" ",a.jsx("strong",{children:":"}),' ,           "".']})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>n(1),className:"px-6 py-3 bg-mm-dark text-mm-text hover:bg-mm-dark/80 rounded",children:""}),a.jsx("button",{onClick:v,disabled:!o||u,className:"flex-1 px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:u?"...":" "})]})]}),r===2&&s==="excel"&&a.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" Excel "}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-bold text-mm-text mb-2",children:" 1:  "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mb-4",children:"  Excel,        "}),a.jsxs("button",{onClick:g,className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center gap-2",children:[a.jsx(Wt,{}),"   Excel"]})]}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-bold text-mm-text mb-2",children:" 2:  "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mb-4",children:"  Excel   "}),a.jsxs("div",{className:"border-2 border-dashed border-mm-border rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:y,className:"hidden",id:"file-upload"}),a.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer inline-block",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(rr,{className:"mx-auto text-4xl text-mm-cyan"}),a.jsx("p",{className:"text-mm-text",children:d?d.name:"     "}),a.jsx("p",{className:"text-xs text-mm-text-secondary",children:" : .xlsx, .xls"})]})})]})]}),a.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded p-4",children:a.jsxs("p",{className:"text-yellow-300 text-sm",children:[" ",a.jsx("strong",{children:":"}),"          .    ."]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>n(1),className:"px-6 py-3 bg-mm-dark text-mm-text hover:bg-mm-dark/80 rounded",children:""}),a.jsx("button",{onClick:h,disabled:!d||u,className:"flex-1 px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:u?"...":" "})]})]}),r===3&&p&&a.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-green-500/20 rounded-full flex items-center justify-center mb-4",children:a.jsx(Bt,{className:"text-4xl text-green-400"})}),a.jsx("h2",{className:"text-2xl font-bold text-mm-text mb-2",children:" !"}),a.jsx("p",{className:"text-mm-text-secondary",children:"    "})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold text-green-400",children:p.created||0}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-400",children:p.updated||0}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold text-red-400",children:p.errors||0}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]})]}),a.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded",children:"  "})]})]})}function yM(){const{api:e}=ve(),[t,r]=f.useState("ozon"),[n,s]=f.useState(""),[i,o]=f.useState([]),[l,d]=f.useState(!1),[c,u]=f.useState([]),[m,p]=f.useState([]),[x,y]=f.useState([]),[g,v]=f.useState([]),[h,b]=f.useState(""),[j,k]=f.useState(!1);f.useEffect(()=>{N(),w()},[]);const N=async()=>{try{const M=(await e.get("/api/seller/api-keys")).data||[];if(o(M),M.length>0){const U=M[M.length-1];s(U.id),r(U.marketplace)}}catch(A){console.error("Failed to load integrations:",A)}},w=async()=>{try{const A=await e.get("/api/catalog/products",{params:{limit:1e3}});p(A.data)}catch(A){console.error("Failed to load local products:",A)}},P=async()=>{var A,M;if(!n){alert(" ");return}d(!0);try{const W=(await e.get(`/api/marketplaces/${t}/products`,{params:{integration_id:n}})).data;console.log(` Loaded ${W.length} products from ${t} (integration: ${n})`),u(W),_(W,m)}catch(U){alert("  : "+(((M=(A=U.response)==null?void 0:A.data)==null?void 0:M.detail)||U.message))}finally{d(!1)}},_=(A,M)=>{const U=[],W=[];console.log(` Matching ${A.length} MP products with ${M.length} local products`),console.log(` Selected marketplace: ${t}`),A.forEach(L=>{const R=M.find($=>{const T=($.marketplace_specific_data||$.marketplace_data||{})[t];if(console.log(`  Checking ${$.article}: mpInfo =`,T),t==="ozon"){const Q=(T==null?void 0:T.id)===L.id||(T==null?void 0:T.offer_id)===L.sku;return Q&&console.log(`     Matched Ozon: ${T.id} === ${L.id}`),Q}else if(t==="wb"){const Q=(T==null?void 0:T.nm_id)===L.id||(T==null?void 0:T.id)===L.id||(T==null?void 0:T.vendor_code)===L.sku;return Q&&console.log(`     Matched WB: ${T.nm_id||T.id} === ${L.id}`),Q}else if(t==="yandex"){const Q=(T==null?void 0:T.offer_id)===L.sku;return Q&&console.log(`     Matched Yandex: ${T.offer_id} === ${L.sku}`),Q}return!1});if(R)console.log(`   Found link: ${L.sku}  ${R.article}`),U.push({mpProduct:L,localProduct:R,matchType:"linked"});else{const $=M.filter(X=>X.article.toLowerCase().includes(L.sku.toLowerCase())||L.sku.toLowerCase().includes(X.article.toLowerCase()));W.push({mpProduct:L,suggestions:$.slice(0,3),matchType:"unmatched"})}}),y(U),v(W),console.log(` Matched: ${U.length}, Unmatched: ${W.length}`),(U.length>0||W.length>0)&&Y.success(` !

 : ${U.length}
  : ${W.length}`,{duration:5e3})},C=async(A,M)=>{var U,W,L;try{console.log(" Linking:",A.sku,"",M.article),console.log("MP Product:",A),console.log("Local Product:",M);const R={product:A,duplicate_action:"link_only"};console.log("Sending payload:",R);const $=await e.post("/api/products/import-from-marketplace",R);if(console.log("Response:",$.data),$.data.status==="duplicate_found"){alert("   .     .");return}alert(`  !

${A.name} (${t.toUpperCase()})   ${M.name}`);const T=(await e.get("/api/catalog/products",{params:{limit:1e3}})).data;p(T),_(c,T)}catch(R){console.error("Link error:",R),console.error("Error response:",(U=R.response)==null?void 0:U.data),alert(" : "+(((L=(W=R.response)==null?void 0:W.data)==null?void 0:L.detail)||R.message))}},O=async A=>{var M,U;if(confirm("   ?"))try{const W=m.find(X=>X.id===A);if(!W){alert("  ");return}const L={...W.marketplace_data||{}};delete L[t],await e.put(`/api/catalog/products/${A}`,{marketplace_data:L}),alert("  ");const $=(await e.get("/api/catalog/products",{params:{limit:1e3}})).data;p($),_(c,$)}catch(W){console.error("Unlink error:",W),alert(": "+(((U=(M=W.response)==null?void 0:M.data)==null?void 0:U.detail)||W.message))}},S=()=>{let A=g;return h&&(A=A.filter(M=>M.mpProduct.sku.toLowerCase().includes(h.toLowerCase())||M.mpProduct.name.toLowerCase().includes(h.toLowerCase()))),j&&(A=A.filter(M=>M.suggestions.length>0)),A},E={ozon:{icon:"O",color:"bg-blue-500",name:"Ozon"},wb:{icon:"WB",color:"bg-purple-600",name:"Wildberries"},yandex:{icon:"",color:"bg-red-500",name:"."}},I=E[t]||E.ozon;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Dy,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"       "})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-4 rounded-lg space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 uppercase",children:""}),a.jsx("select",{value:n,onChange:A=>{s(A.target.value);const M=i.find(U=>U.id===A.target.value);M&&r(M.marketplace)},className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:i.filter(A=>["ozon","wb","yandex"].includes(A.marketplace)).map(A=>a.jsxs("option",{value:A.id,children:[A.marketplace.toUpperCase(),": ",A.name||A.client_id||"API"]},A.id))})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:P,disabled:l,className:"w-full px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center justify-center gap-2 disabled:opacity-50",children:[a.jsx(jt,{className:l?"animate-spin":""}),l?"...":" "]})}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:()=>_(c,m),disabled:c.length===0,className:"w-full px-4 py-2 bg-green-600 text-white hover:bg-green-700 rounded flex items-center justify-center gap-2 disabled:opacity-50",children:[a.jsx(Lo,{}),""]})})]}),c.length>0&&a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-mm-dark p-3 rounded",children:[a.jsxs("p",{className:"text-xs text-mm-text-secondary",children:["  ",I.name]}),a.jsx("p",{className:"text-2xl font-bold text-mm-cyan",children:c.length})]}),a.jsxs("div",{className:"bg-mm-dark p-3 rounded",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:""}),a.jsx("p",{className:"text-2xl font-bold text-green-400",children:x.length})]}),a.jsxs("div",{className:"bg-mm-dark p-3 rounded",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:" "}),a.jsx("p",{className:"text-2xl font-bold text-orange-400",children:g.length})]})]})]}),c.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-mm-secondary rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-mm-dark p-4 border-b border-mm-border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-lg font-bold text-orange-400 flex items-center gap-2",children:[a.jsx(xt,{className:"text-orange-400"}),"  (",g.length,")"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-mm-text-secondary"}),a.jsx("input",{type:"text",placeholder:"...",value:h,onChange:A=>b(A.target.value),className:"pl-10 pr-4 py-2 bg-mm-dark border border-mm-border rounded text-mm-text text-sm focus:border-mm-cyan outline-none w-64"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-mm-text cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:j,onChange:A=>k(A.target.checked),className:"w-4 h-4"}),a.jsx(Oy,{className:"text-mm-cyan"}),"  "]})]})]})}),a.jsxs("div",{className:"divide-y divide-mm-border max-h-[500px] overflow-y-auto",children:[S().map((A,M)=>a.jsx("div",{className:"p-4 hover:bg-mm-dark/50 transition",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 items-start",children:[a.jsx("div",{className:"col-span-5",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-10 h-10 ${I.color} text-white rounded flex items-center justify-center text-xs font-bold flex-shrink-0`,children:I.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-mm-text truncate",children:A.mpProduct.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",A.mpProduct.sku]}),A.mpProduct.barcode&&a.jsxs("p",{className:"text-xs text-mm-text-secondary",children:[": ",A.mpProduct.barcode]})]})]})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("div",{className:"text-2xl text-mm-text-secondary",children:""})}),a.jsx("div",{className:"col-span-5",children:A.suggestions.length>0?a.jsx("div",{className:"space-y-2",children:A.suggestions.map(U=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-mm-dark rounded border border-green-500/30",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-mm-text truncate",children:U.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",U.article]})]}),a.jsxs("button",{onClick:()=>C(A.mpProduct,U),className:"ml-2 px-3 py-1 bg-green-600 text-white hover:bg-green-700 rounded text-xs font-medium flex items-center gap-1",children:[a.jsx(Lo,{size:12}),""]})]},U.id))}):a.jsx("div",{className:"text-sm text-mm-text-secondary italic",children:"  "})})]})},M)),S().length===0&&a.jsx("div",{className:"p-8 text-center text-mm-text-secondary",children:h||j?"   ":"  "})]})]}),a.jsxs("div",{className:"bg-mm-secondary rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-mm-dark p-4 border-b border-mm-border",children:a.jsxs("h2",{className:"text-lg font-bold text-green-400 flex items-center gap-2",children:[a.jsx(Bt,{className:"text-green-400"}),"  (",x.length,")"]})}),a.jsxs("div",{className:"divide-y divide-mm-border max-h-[400px] overflow-y-auto",children:[x.map((A,M)=>a.jsx("div",{className:"p-4 hover:bg-mm-dark/50 transition",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[a.jsx("div",{className:"col-span-5",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-10 h-10 ${I.color} text-white rounded flex items-center justify-center text-xs font-bold flex-shrink-0`,children:I.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-mm-text truncate",children:A.mpProduct.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",A.mpProduct.sku]})]})]})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center gap-1 text-green-400",children:[a.jsx(Lo,{}),a.jsx("span",{className:"text-xs",children:""})]})}),a.jsx("div",{className:"col-span-4",children:a.jsx("div",{className:"flex items-start gap-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-mm-text truncate",children:A.localProduct.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",A.localProduct.article]})]})})}),a.jsx("div",{className:"col-span-1 flex justify-end",children:a.jsx("button",{onClick:()=>O(A.localProduct.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded transition",title:" ",children:a.jsx(xt,{})})})]})},M)),x.length===0&&a.jsx("div",{className:"p-8 text-center text-mm-text-secondary",children:"  "})]})]})]}),c.length===0&&a.jsxs("div",{className:"bg-mm-secondary p-12 rounded-lg text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("p",{className:"text-mm-text-secondary text-lg",children:'    " "'})]})]})}const xa=({value:e,onChange:t,suffix:r=""})=>{const[n,s]=f.useState(!1),[i,o]=f.useState(e||"");f.useEffect(()=>{o(e||"")},[e]);const l=()=>{s(!1),i!==e&&t(i)},d=c=>{c.key==="Enter"&&l(),c.key==="Escape"&&(o(e||""),s(!1))};return n?a.jsx("input",{type:"number",value:i,onChange:c=>o(c.target.value),onBlur:l,onKeyDown:d,autoFocus:!0,className:"w-[70px] px-2 py-1 bg-mm-dark border-2 border-mm-cyan rounded text-mm-cyan text-sm focus:outline-none text-center"}):a.jsx("div",{onClick:()=>s(!0),className:"cursor-pointer px-1 py-1 rounded transition-all min-w-[70px] text-center bg-mm-dark border border-dashed border-mm-border hover:border-mm-cyan hover:bg-mm-dark/80",children:e?a.jsxs("span",{className:"text-mm-cyan font-medium text-sm",children:[e,r]}):a.jsx("span",{className:"text-mm-text-secondary/40 text-xs",children:""})})},Bs=({value:e,suffix:t=""})=>a.jsx("div",{className:"text-mm-text text-center px-1 py-1 min-w-[70px] font-medium text-sm",children:e?`${e}${t}`:""}),gM=({fbo:e,fbs:t})=>!e&&!t?a.jsx("span",{className:"text-mm-text-secondary text-xs",children:""}):a.jsx("div",{className:"text-xs text-center",children:a.jsxs("span",{className:"text-orange-400",children:[e||t,"%"]})}),vM=()=>{const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState([]),[i,o]=f.useState(!0),[l,d]=f.useState(!1),[c,u]=f.useState(!1),[m,p]=f.useState(""),[x,y]=f.useState(null),[g,v]=f.useState(new Set),[h,b]=f.useState({ozon:!0,wb:!0}),[j,k]=f.useState({});f.useEffect(()=>{N()},[]),f.useEffect(()=>{_()},[t,m]);const N=async()=>{try{o(!0);const D=await e.get("/api/catalog/pricing");r(D.data.products||[]),k({}),v(new Set)}catch(D){console.error("Error fetching products:",D),Y.error("  ")}finally{o(!1)}},w=async()=>{d(!0);try{const D=await e.get("/api/catalog/pricing/sync-from-mp");D.data.success?(Y.success(` ${D.data.message}`),await N()):Y.error(D.data.message||" ")}catch(D){console.error("Sync error:",D),Y.error("   ")}finally{d(!1)}},P=async()=>{var q,ie,Z,F,le,pe,J,G,se,be;const D=n.filter(H=>{if(!g.has(H.product_id))return!1;const re=j[H.product_id];return re?re["ozon.price"]||re["ozon.old_price"]||re["ozon.min_price"]||re["wb.regular_price"]||re["wb.discount_price"]||re["wb.discount"]:!1});if(D.length===0){Y.error("      ");return}u(!0);try{const H={};for(const ce of D){const ge=j[ce.product_id]||{};H[ce.product_id]={ozon:ce.ozon_linked?{price:parseFloat(ge["ozon.price"])||((q=ce.ozon)==null?void 0:q.price)||0,old_price:parseFloat(ge["ozon.old_price"])||((ie=ce.ozon)==null?void 0:ie.old_price)||0,min_price:parseFloat(ge["ozon.min_price"])||((Z=ce.ozon)==null?void 0:Z.min_price)||0}:null,wb:ce.wb_linked?{regular_price:parseFloat(ge["wb.regular_price"])||((F=ce.wb)==null?void 0:F.regular_price)||0,discount_price:parseFloat(ge["wb.discount_price"])||((le=ce.wb)==null?void 0:le.discount_price)||0,discount:parseFloat(ge["wb.discount"])||((pe=ce.wb)==null?void 0:pe.discount)||0}:null}}const re=await e.post("/api/catalog/pricing/push-to-mp",{product_ids:D.map(ce=>ce.product_id),prices:H});if(console.log("Push to MP response:",re.data),re.data.success){const{results:ce}=re.data,ge=[];ce.ozon.success>0&&ge.push(`Ozon: ${ce.ozon.success} `),ce.wb.success>0&&ge.push(`WB: ${ce.wb.success} `),ge.length>0?Y.success(`   : ${ge.join(", ")}`,{duration:5e3}):Y.warning("  ,    .    ."),((J=ce.ozon.errors)==null?void 0:J.length)>0&&Y.error(`Ozon : ${ce.ozon.errors.join(", ")}`,{duration:7e3}),((G=ce.wb.errors)==null?void 0:G.length)>0&&Y.error(`WB : ${ce.wb.errors.join(", ")}`,{duration:7e3}),await N()}else Y.error(re.data.message||" ")}catch(H){console.error("Push error:",H),Y.error(` : ${((be=(se=H.response)==null?void 0:se.data)==null?void 0:be.detail)||H.message}`)}finally{u(!1)}},_=()=>{let D=[...t];if(m){const q=m.toLowerCase();D=D.filter(ie=>{var Z,F;return((Z=ie.article)==null?void 0:Z.toLowerCase().includes(q))||((F=ie.name)==null?void 0:F.toLowerCase().includes(q))})}s(D)},C=D=>{b(q=>({...q,[D]:!q[D]}))},O=D=>{v(q=>{const ie=new Set(q);return ie.has(D)?ie.delete(D):ie.add(D),ie})},S=()=>{const D=n.filter(q=>M(q.product_id));v(new Set(D.map(q=>q.product_id)))},E=(D,q,ie)=>{k(Z=>({...Z,[D]:{...Z[D],[q]:ie}}))},I=(D,q)=>{var ie;return((ie=j[D.product_id])==null?void 0:ie[q])!==void 0?j[D.product_id][q]:""},A=(D,q)=>{const ie=q.split(".");let Z=D;for(const F of ie)Z=Z==null?void 0:Z[F];return Z||""},M=D=>j[D]&&Object.keys(j[D]).length>0,U=async D=>{var ie,Z,F,le,pe,J;const q=j[D.product_id];if(q){y(D.product_id);try{const G={};q.min_allowed_price&&(G.min_allowed_price=parseFloat(q.min_allowed_price)||0),q.cost_price&&(G.cost_price=parseFloat(q.cost_price)||0),D.ozon_linked&&(q["ozon.price"]||q["ozon.old_price"]||q["ozon.min_price"])&&(G.ozon={price:parseFloat(q["ozon.price"])||((ie=D.ozon)==null?void 0:ie.price)||0,old_price:parseFloat(q["ozon.old_price"])||((Z=D.ozon)==null?void 0:Z.old_price)||0,min_price:parseFloat(q["ozon.min_price"])||((F=D.ozon)==null?void 0:F.min_price)||0}),D.wb_linked&&(q["wb.regular_price"]||q["wb.discount_price"]||q["wb.discount"])&&(G.wb={regular_price:parseFloat(q["wb.regular_price"])||((le=D.wb)==null?void 0:le.regular_price)||0,discount_price:parseFloat(q["wb.discount_price"])||((pe=D.wb)==null?void 0:pe.discount_price)||0,discount:parseFloat(q["wb.discount"])||((J=D.wb)==null?void 0:J.discount)||0}),await e.put(`/api/catalog/pricing/${D.product_id}`,G),Y.success(` : ${D.article}`),k(se=>{const be={...se};return delete be[D.product_id],be}),N()}catch(G){console.error("Save error:",G),Y.error(" ")}finally{y(null)}}},W=t.filter(D=>D.ozon_linked).length,L=t.filter(D=>D.wb_linked).length,R=Object.keys(j).length,$=g.size,X=R>0,Q=n.filter(D=>{if(!g.has(D.product_id))return!1;const q=j[D.product_id];return q?q["ozon.price"]||q["ozon.old_price"]||q["ozon.min_price"]||q["wb.regular_price"]||q["wb.discount_price"]||q["wb.discount"]||q.cost_price||q.min_allowed_price:!1}).length>0,ee=async()=>{const D=n.filter(Z=>M(Z.product_id));if(D.length===0){Y.error("   ");return}let q=0,ie=0;for(const Z of D)try{await U(Z),q++}catch{ie++}q>0&&Y.success(`  : ${q}`),ie>0&&Y.error(`   : ${ie}`)};return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(jt,{className:"w-8 h-8 animate-spin text-mm-cyan"})}):a.jsxs("div",{className:"space-y-6","data-testid":"pricing-page",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:""}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"   "})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:w,disabled:l,className:"px-4 py-2 bg-mm-secondary text-mm-text border border-mm-border rounded hover:border-mm-cyan transition-colors flex items-center gap-2 disabled:opacity-50",children:[l?a.jsx(jt,{className:"w-4 h-4 animate-spin"}):a.jsx(Wt,{className:"w-4 h-4"}),"  "]}),a.jsxs("button",{onClick:ee,disabled:!X||x!==null,className:`px-4 py-2 font-medium rounded transition-colors flex items-center gap-2 ${X&&x===null?"bg-green-600 text-white hover:bg-green-700 cursor-pointer":"bg-mm-secondary text-mm-text-secondary cursor-not-allowed opacity-50"}`,children:[x!==null?a.jsx(jt,{className:"w-4 h-4 animate-spin"}):a.jsx(wi,{className:"w-4 h-4"})," ",R>0&&a.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${X?"bg-white/20":"bg-mm-border"}`,children:R})]}),a.jsxs("button",{onClick:P,disabled:c||!Q,className:`px-4 py-2 font-medium rounded transition-colors flex items-center gap-2 ${Q&&!c?"bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 cursor-pointer":"bg-mm-secondary text-mm-text-secondary cursor-not-allowed opacity-50"}`,children:[c?a.jsx(jt,{className:"w-4 h-4 animate-spin"}):a.jsx(rr,{className:"w-4 h-4"}),"  ",$>0&&a.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${Q?"bg-mm-dark/20":"bg-mm-border"}`,children:$})]})]})]}),a.jsx("div",{className:"bg-mm-secondary p-4 rounded-lg border border-mm-border",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsx("span",{className:"text-sm text-mm-text-secondary",children:":"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:h.ozon,onChange:()=>C("ozon"),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${h.ozon?"bg-blue-500 border-blue-500":"bg-mm-dark border-mm-border group-hover:border-blue-500"}`,children:h.ozon&&a.jsx(Bt,{className:"w-3 h-3 text-white"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"O"}),a.jsx("span",{className:"text-mm-text",children:"Ozon"}),a.jsxs("span",{className:"text-xs text-mm-text-secondary",children:["(",W,")"]})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:h.wb,onChange:()=>C("wb"),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${h.wb?"bg-purple-500 border-purple-500":"bg-mm-dark border-mm-border group-hover:border-purple-500"}`,children:h.wb&&a.jsx(Bt,{className:"w-3 h-3 text-white"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"W"}),a.jsx("span",{className:"text-mm-text",children:"Wildberries"}),a.jsxs("span",{className:"text-xs text-mm-text-secondary",children:["(",L,")"]})]})]}),R>0&&a.jsxs("button",{onClick:S,className:"text-sm text-mm-cyan hover:underline",children:["    (",R,")"]}),a.jsx("div",{className:"flex-1 min-w-[200px] ml-auto",children:a.jsxs("div",{className:"relative",children:[a.jsx(Qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-mm-text-secondary"}),a.jsx("input",{type:"text",placeholder:"  ...",value:m,onChange:D=>p(D.target.value),className:"w-full pl-10 pr-4 py-2 bg-mm-dark border border-mm-border rounded text-mm-text text-sm focus:border-mm-cyan outline-none"})]})})]})}),a.jsx("div",{className:"bg-mm-secondary rounded-lg border border-mm-border overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsxs("thead",{className:"bg-mm-dark",children:[a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"p-2 w-[30px]",rowSpan:"2"}),a.jsx("th",{className:"text-left p-2 font-medium text-mm-text-secondary uppercase text-xs w-[50px]",rowSpan:"2",children:""}),a.jsx("th",{className:"text-left p-2 font-medium text-mm-text-secondary uppercase text-xs min-w-[130px]",rowSpan:"2",children:""}),a.jsx("th",{className:"text-center p-2 font-medium text-green-400 uppercase text-xs w-[80px]",rowSpan:"2",children:"."}),h.ozon&&a.jsx("th",{className:"text-center p-2 font-medium text-blue-400 uppercase text-xs border-l border-mm-border",colSpan:"7",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"O"}),"Ozon"]})}),h.wb&&a.jsx("th",{className:"text-center p-2 font-medium text-purple-400 uppercase text-xs border-l border-mm-border",colSpan:"6",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-purple-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"W"}),"Wildberries"]})}),a.jsxs("th",{className:"text-center p-2 font-medium text-mm-text-secondary uppercase text-xs border-l border-mm-border w-[80px]",rowSpan:"2",children:[".",a.jsx("br",{}),""]})]}),a.jsxs("tr",{className:"border-b border-mm-border bg-mm-dark/70 text-[11px]",children:[h.ozon&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"p-1 text-center text-blue-300/70 font-normal border-l border-mm-border",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-blue-300/70 font-normal",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-blue-300/70 font-normal",children:"."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-orange-400/70 font-normal",children:a.jsx(F0,{className:"inline w-3 h-3"})})]}),h.wb&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"p-1 text-center text-purple-300/70 font-normal border-l border-mm-border",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-purple-300/70 font-normal",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-purple-300/70 font-normal",children:""}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""})]})]})]}),a.jsx("tbody",{children:n.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"20",className:"text-center p-8 text-mm-text-secondary",children:"  "})}):n.map(D=>a.jsxs("tr",{className:`border-b border-mm-border hover:bg-mm-dark/30 transition-colors ${M(D.product_id)?"bg-yellow-500/5":""} ${g.has(D.product_id)?"bg-mm-cyan/5":""}`,children:[a.jsx("td",{className:"p-2 text-center",children:a.jsx("button",{onClick:()=>O(D.product_id),className:"text-mm-text-secondary hover:text-mm-cyan",children:g.has(D.product_id)?a.jsx(UI,{className:"w-4 h-4 text-mm-cyan"}):a.jsx(qI,{className:"w-4 h-4"})})}),a.jsx("td",{className:"p-2",children:D.photo?a.jsx("img",{src:D.photo,alt:"",className:"w-10 h-10 object-cover rounded"}):a.jsx("div",{className:"w-10 h-10 bg-mm-dark rounded flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-mm-text-secondary",children:""})})}),a.jsxs("td",{className:"p-2",children:[a.jsx("div",{className:"font-mono text-sm text-mm-cyan",children:D.article}),a.jsx("div",{className:"text-xs text-mm-text-secondary truncate max-w-[120px]",children:D.name})]}),a.jsx("td",{className:"p-1",children:a.jsx(xa,{value:I(D,"cost_price")||A(D,"cost_price"),onChange:q=>E(D.product_id,"cost_price",q)})}),h.ozon&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-1 border-l border-mm-border",children:D.ozon_linked?a.jsx(Bs,{value:A(D,"ozon.price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.ozon_linked?a.jsx(xa,{value:I(D,"ozon.price"),onChange:q=>E(D.product_id,"ozon.price",q)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:D.ozon_linked?a.jsx(Bs,{value:A(D,"ozon.old_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.ozon_linked?a.jsx(xa,{value:I(D,"ozon.old_price"),onChange:q=>E(D.product_id,"ozon.old_price",q)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:D.ozon_linked?a.jsx(Bs,{value:A(D,"ozon.min_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.ozon_linked?a.jsx(xa,{value:I(D,"ozon.min_price"),onChange:q=>E(D.product_id,"ozon.min_price",q)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:D.ozon_linked?a.jsx(gM,{fbo:A(D,"ozon.fbo_commission"),fbs:A(D,"ozon.fbs_commission")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})})]}),h.wb&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-1 border-l border-mm-border",children:D.wb_linked?a.jsx(Bs,{value:A(D,"wb.regular_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.wb_linked?a.jsx(xa,{value:I(D,"wb.regular_price"),onChange:q=>E(D.product_id,"wb.regular_price",q)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:D.wb_linked?a.jsx(Bs,{value:A(D,"wb.discount_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.wb_linked?a.jsx(xa,{value:I(D,"wb.discount_price"),onChange:q=>E(D.product_id,"wb.discount_price",q)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:D.wb_linked?a.jsx(Bs,{value:A(D,"wb.discount"),suffix:"%"}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.wb_linked?a.jsx(xa,{value:I(D,"wb.discount"),onChange:q=>E(D.product_id,"wb.discount",q),suffix:"%"}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})})]}),a.jsx("td",{className:"p-1 border-l border-mm-border",children:a.jsx(xa,{value:I(D,"min_allowed_price")||A(D,"min_allowed_price"),onChange:q=>E(D.product_id,"min_allowed_price",q)})})]},D.product_id))})]})})}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-mm-text-secondary",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-14 h-5 bg-mm-secondary rounded border border-mm-border"}),a.jsx("span",{children:" "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-14 h-5 bg-mm-dark rounded border border-dashed border-mm-border"}),a.jsx("span",{children:"  "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(F0,{className:"w-4 h-4 text-orange-400"}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wi,{className:"w-4 h-4 text-mm-cyan"}),a.jsx("span",{children:"  "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rr,{className:"w-4 h-4 text-mm-cyan"}),a.jsx("span",{children:"  "})]})]})]})};function bM(){const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState(!1),[l,d]=f.useState(null),[c,u]=f.useState(""),[m,p]=f.useState({internal_name:"",slug:"",site_visibility:!0,default_channels:["site"],ozon_category_id:"",ozon_type_id:"",wb_category_id:"",yandex_category_id:"",internal_attributes:[]}),[x,y]=f.useState({ozon:"",wb:"",yandex:""}),[g,v]=f.useState({ozon:[],wb:[],yandex:[]}),[h,b]=f.useState({});f.useEffect(()=>{j()},[]);const j=async()=>{s(!0);try{const S=await e.get("/api/internal-categories?limit=100");r(S.data.categories||[])}catch(S){console.error("Failed to load categories:",S),alert("  ")}finally{s(!1)}},k=()=>{d(null),p({internal_name:"",slug:"",site_visibility:!0,default_channels:["site"],ozon_category_id:"",ozon_type_id:"",wb_category_id:"",yandex_category_id:"",internal_attributes:[]}),y({ozon:"",wb:"",yandex:""}),v({ozon:[],wb:[],yandex:[]}),o(!0)},N=S=>{var E,I,A,M,U,W,L,R;d(S.id),p({internal_name:S.internal_name,slug:S.slug||"",site_visibility:S.site_visibility??!0,default_channels:S.default_channels||["site"],ozon_category_id:((I=(E=S.marketplace_mappings)==null?void 0:E.ozon)==null?void 0:I.category_id)||"",ozon_type_id:((M=(A=S.marketplace_mappings)==null?void 0:A.ozon)==null?void 0:M.type_id)||"",wb_category_id:((W=(U=S.marketplace_mappings)==null?void 0:U.wb)==null?void 0:W.category_id)||"",yandex_category_id:((R=(L=S.marketplace_mappings)==null?void 0:L.yandex)==null?void 0:R.category_id)||"",internal_attributes:S.internal_attributes||[]}),y({ozon:"",wb:"",yandex:""}),v({ozon:[],wb:[],yandex:[]}),o(!0)},w=async(S,E)=>{var I,A;if(confirm(`  "${E}"?`))try{await e.delete(`/api/internal-categories/${S}`),alert("  "),j()}catch(M){alert(" : "+(((A=(I=M.response)==null?void 0:I.data)==null?void 0:A.detail)||M.message))}},P=async()=>{var S,E;if(!m.internal_name){alert("  ");return}try{l?(await e.put(`/api/internal-categories/${l}`,m),alert("  ")):(await e.post("/api/internal-categories",m),alert("  ")),o(!1),j()}catch(I){alert(" : "+(((E=(S=I.response)==null?void 0:S.data)==null?void 0:E.detail)||I.message))}},_=async S=>{var I,A;const E=x[S];if(!(!E||E.length<2)){b(M=>({...M,[S]:!0}));try{const M=await e.get(`/api/categories/marketplace/${S}/search?query=${encodeURIComponent(E)}`);v(U=>({...U,[S]:M.data.categories||[]}))}catch(M){console.error(`Failed to search ${S}:`,M),alert(`  ${S}: ${((A=(I=M.response)==null?void 0:I.data)==null?void 0:A.detail)||M.message}`)}finally{b(M=>({...M,[S]:!1}))}}},C=(S,E)=>{S==="ozon"?p(I=>({...I,ozon_category_id:E.category_id||E.id,ozon_type_id:E.type_id||""})):S==="wb"?p(I=>({...I,wb_category_id:E.category_id||E.id})):S==="yandex"&&p(I=>({...I,yandex_category_id:E.category_id||E.id})),v(I=>({...I,[S]:[]})),y(I=>({...I,[S]:""}))},O=t.filter(S=>S.internal_name.toLowerCase().includes(c.toLowerCase()));return a.jsx("div",{className:"min-h-screen bg-[#0F172A] text-[#E5E7EB] p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold text-[#06B6D4] mb-2",children:" "}),a.jsx("p",{className:"text-[#A7AFB8]",children:"        "})]}),a.jsxs("button",{onClick:k,className:"px-6 py-3 bg-[#06B6D4] text-[#0B1220] rounded-lg font-bold hover:bg-cyan-400 transition-colors flex items-center gap-2","data-testid":"create-category-button",children:[a.jsx(Ar,{}),"  "]})]}),a.jsxs("div",{className:"mb-6 relative",children:[a.jsx(Qn,{className:"absolute left-4 top-3.5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:" ...",value:c,onChange:S=>u(S.target.value),className:"w-full pl-12 pr-4 py-3 bg-[#111827] border border-[#334155] rounded-lg text-white placeholder-gray-500 focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none","data-testid":"category-search-input"})]}),n?a.jsx("div",{className:"text-center py-12 text-gray-400",children:"..."}):O.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-400 mb-4",children:"  "}),a.jsx("button",{onClick:k,className:"px-6 py-2 bg-[#06B6D4] text-[#0B1220] rounded-lg hover:bg-cyan-400",children:"  "})]}):a.jsx("div",{className:"bg-[#111827] border border-[#334155] rounded-xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-[#0F172A] border-b border-[#334155]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:"Slug"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-[#A7AFB8]",children:""})]})}),a.jsx("tbody",{children:O.map(S=>{var E,I,A,M,U,W,L;return a.jsxs("tr",{className:"border-b border-[#334155] hover:bg-slate-800/60 transition-colors","data-testid":`category-row-${S.id}`,children:[a.jsx("td",{className:"px-6 py-4 font-medium",children:S.internal_name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:S.slug||"-"}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-2",children:[((I=(E=S.marketplace_mappings)==null?void 0:E.ozon)==null?void 0:I.category_id)&&a.jsx("span",{className:"px-2 py-1 bg-blue-500 text-white text-xs rounded",children:"Ozon"}),((M=(A=S.marketplace_mappings)==null?void 0:A.wb)==null?void 0:M.category_id)&&a.jsx("span",{className:"px-2 py-1 bg-purple-500 text-white text-xs rounded",children:"WB"}),((W=(U=S.marketplace_mappings)==null?void 0:U.yandex)==null?void 0:W.category_id)&&a.jsx("span",{className:"px-2 py-1 bg-yellow-500 text-black text-xs rounded",children:""})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:((L=S.internal_attributes)==null?void 0:L.length)||0}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>N(S),className:"p-2 text-blue-400 hover:bg-blue-500/20 rounded transition-colors","data-testid":`edit-category-${S.id}`,children:a.jsx(Ey,{})}),a.jsx("button",{onClick:()=>w(S.id,S.internal_name),className:"p-2 text-red-400 hover:bg-red-500/20 rounded transition-colors","data-testid":`delete-category-${S.id}`,children:a.jsx(hn,{})})]})})]},S.id)})})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-start justify-center z-50 p-6 overflow-y-auto",children:a.jsxs("div",{className:"bg-[#111827] border border-[#334155] rounded-xl w-full max-w-4xl my-8",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-[#334155] flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-[#06B6D4]",children:l?" ":" "}),a.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(xt,{size:24})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-[#A7AFB8] mb-2",children:[" ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:m.internal_name,onChange:S=>p(E=>({...E,internal_name:S.target.value})),className:"w-full px-4 py-2 bg-[#1F2937] border border-[#334155] rounded-lg text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:":  ","data-testid":"category-name-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#A7AFB8] mb-2",children:"Slug"}),a.jsx("input",{type:"text",value:m.slug,onChange:S=>p(E=>({...E,slug:S.target.value})),className:"w-full px-4 py-2 bg-[#1F2937] border border-[#334155] rounded-lg text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:"computer-mice"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"  "}),a.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4 mb-4",children:a.jsxs("p",{className:"text-yellow-200 text-sm flex items-start gap-2",children:[a.jsx(Wn,{className:"mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("strong",{children:":"}),"        .       ."]})]})}),a.jsxs("div",{className:"mb-4 p-4 bg-[#1F2937] border-l-4 border-blue-500 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h4",{className:"font-bold text-blue-400",children:"Ozon"}),m.ozon_category_id&&a.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[a.jsx(Bt,{size:12})," : ",m.ozon_category_id]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:x.ozon,onChange:S=>y(E=>({...E,ozon:S.target.value})),onKeyDown:S=>S.key==="Enter"&&_("ozon"),placeholder:"  Ozon ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 outline-none"}),a.jsx("button",{onClick:()=>_("ozon"),disabled:h.ozon||x.ozon.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:h.ozon?"...":""})]}),g.ozon.length>0&&a.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:g.ozon.map((S,E)=>a.jsxs("button",{onClick:()=>C("ozon",S),className:"w-full px-4 py-2 text-left hover:bg-blue-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[a.jsx("div",{className:"font-medium text-white",children:S.category_name||S.name}),a.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",S.category_id||S.id,S.type_id&&` | Type: ${S.type_id}`]})]},E))})]}),a.jsxs("div",{className:"mb-4 p-4 bg-[#1F2937] border-l-4 border-purple-500 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h4",{className:"font-bold text-purple-400",children:"Wildberries"}),m.wb_category_id&&a.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[a.jsx(Bt,{size:12})," : ",m.wb_category_id]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:x.wb,onChange:S=>y(E=>({...E,wb:S.target.value})),onKeyDown:S=>S.key==="Enter"&&_("wb"),placeholder:"  Wildberries ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 outline-none"}),a.jsx("button",{onClick:()=>_("wb"),disabled:h.wb||x.wb.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-purple-500 text-white rounded text-sm hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed",children:h.wb?"...":""})]}),g.wb.length>0&&a.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:g.wb.map((S,E)=>a.jsxs("button",{onClick:()=>C("wb",S),className:"w-full px-4 py-2 text-left hover:bg-purple-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[a.jsx("div",{className:"font-medium text-white",children:S.category_name||S.name}),a.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",S.category_id||S.id]})]},E))})]}),a.jsxs("div",{className:"p-4 bg-[#1F2937] border-l-4 border-yellow-500 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h4",{className:"font-bold text-yellow-400",children:" "}),m.yandex_category_id&&a.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[a.jsx(Bt,{size:12})," : ",m.yandex_category_id]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:x.yandex,onChange:S=>y(E=>({...E,yandex:S.target.value})),onKeyDown:S=>S.key==="Enter"&&_("yandex"),placeholder:"    ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-yellow-500 focus:ring-2 focus:ring-yellow-500/50 outline-none"}),a.jsx("button",{onClick:()=>_("yandex"),disabled:h.yandex||x.yandex.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-yellow-500 text-black rounded text-sm hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed",children:h.yandex?"...":""})]}),g.yandex.length>0&&a.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:g.yandex.map((S,E)=>a.jsxs("button",{onClick:()=>C("yandex",S),className:"w-full px-4 py-2 text-left hover:bg-yellow-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[a.jsx("div",{className:"font-medium text-white",children:S.category_name||S.name}),a.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",S.category_id||S.id]})]},E))})]})]})]}),a.jsxs("div",{className:"px-6 py-4 border-t border-[#334155] flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>o(!1),className:"px-6 py-2 bg-[#374151] text-white rounded-lg hover:bg-[#4B5563] transition-colors",children:""}),a.jsxs("button",{onClick:P,className:"px-6 py-2 bg-[#06B6D4] text-[#0B1220] rounded-lg font-bold hover:bg-cyan-400 transition-colors flex items-center gap-2","data-testid":"save-category-button",children:[a.jsx(wi,{})," "]})]})]})})]})})}function W0(){const{api:e}=ve(),{id:t}=Gu(),r=Xr(),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,d]=f.useState([]),[c,u]=f.useState({warehouse_id:"",supplier_id:"",items:[]}),[m,p]=f.useState(""),[x,y]=f.useState(!1),[g,v]=f.useState(null);f.useEffect(()=>{h(),t&&b()},[t]);const h=async()=>{try{const[E,I,A]=await Promise.all([e.get("/api/warehouses"),e.get("/api/suppliers"),e.get("/api/catalog/products?limit=500")]);s(E.data),o(I.data),d(A.data)}catch(E){Y.error("  "),console.error(E)}},b=async()=>{try{const E=await e.get(`/api/income-orders/${t}`);v(E.data),u({warehouse_id:E.data.warehouse_id||"",supplier_id:E.data.supplier_id||"",items:E.data.items||[]})}catch(E){Y.error("  "),console.error(E)}},j=E=>{const I=c.items.find(A=>A.article===E.article);u(I?{...c,items:c.items.map(A=>A.article===E.article?{...A,quantity:A.quantity+1}:A)}:{...c,items:[...c.items,{article:E.article,name:E.name,quantity:1,purchase_price:0,additional_expenses:0,total:0}]}),p("")},k=(E,I,A)=>{const M=[...c.items];if(M[E][I]=A,I==="quantity"||I==="purchase_price"||I==="additional_expenses"){const U=M[E];U.total=(U.purchase_price+U.additional_expenses)*U.quantity}u({...c,items:M})},N=E=>{u({...c,items:c.items.filter((I,A)=>A!==E)})},w=async()=>{var E,I;if(!c.warehouse_id||!c.supplier_id){Y.error("   ");return}y(!0);try{if(t)await e.put(`/api/income-orders/${t}`,c),Y.success(" ");else{const A=await e.post("/api/income-orders",c);Y.success(" "),r(`/income-orders/${A.data.order.id}/edit`)}}catch(A){Y.error(((I=(E=A.response)==null?void 0:E.data)==null?void 0:I.detail)||" ")}y(!1)},P=async()=>{var E,I;if(!t){Y.error("  ");return}if(confirm(" ?   !")){y(!0);try{await e.post(`/api/income-orders/${t}/accept`),Y.success(" !  ."),r("/income-orders")}catch(A){Y.error(((I=(E=A.response)==null?void 0:E.data)==null?void 0:I.detail)||" ")}y(!1)}},_=async()=>{var E,I;if(confirm(" ?   !")){y(!0);try{await e.post(`/api/income-orders/${t}/cancel`),Y.success(" "),b()}catch(A){Y.error(((I=(E=A.response)==null?void 0:E.data)==null?void 0:I.detail)||" ")}y(!1)}},C=l.filter(E=>{var I,A;return((I=E.article)==null?void 0:I.toLowerCase().includes(m.toLowerCase()))||((A=E.name)==null?void 0:A.toLowerCase().includes(m.toLowerCase()))}),O=c.items.reduce((E,I)=>({quantity:E.quantity+(I.quantity||0),amount:E.amount+(I.total||0)}),{quantity:0,amount:0}),S=(g==null?void 0:g.status)==="accepted";return a.jsx("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan uppercase mb-2","data-testid":"form-title",children:t?` #${t.substring(0,8)}`:" "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:S?"// ":"// "})]}),a.jsx("div",{className:"flex items-center space-x-2",children:S?a.jsxs("span",{className:"px-4 py-2 bg-mm-green/20 text-mm-green border border-mm-green uppercase text-sm font-mono",children:[a.jsx(FiCheck,{className:"inline mr-2"}),""]}):a.jsx("span",{className:"px-4 py-2 bg-mm-yellow/20 text-mm-yellow border border-mm-yellow uppercase text-sm font-mono",children:""})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card-neon","data-testid":"warehouse-supplier-section",children:[a.jsx("h3",{className:"text-mm-cyan uppercase text-sm mb-4",children:" "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsxs("select",{value:c.warehouse_id,onChange:E=>u({...c,warehouse_id:E.target.value}),className:"input-neon w-full",disabled:S,"data-testid":"warehouse-select",required:!0,children:[a.jsx("option",{value:"",children:" ..."}),n.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsxs("select",{value:c.supplier_id,onChange:E=>u({...c,supplier_id:E.target.value}),className:"input-neon w-full",disabled:S,"data-testid":"supplier-select",required:!0,children:[a.jsx("option",{value:"",children:" ..."}),i.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]})]})]}),a.jsxs("div",{className:"card-neon bg-mm-darker","data-testid":"totals-section",children:[a.jsx("h3",{className:"text-mm-cyan uppercase text-sm mb-4",children:""}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsx("span",{className:"text-2xl font-mono font-bold text-mm-text",children:c.items.length})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" :"}),a.jsx("span",{className:"text-2xl font-mono font-bold text-mm-cyan",children:O.quantity})]}),a.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsxs("span",{className:"text-2xl font-mono font-bold text-mm-green",children:[(O.amount/100).toFixed(2)," "]})]})]})]})]}),!S&&a.jsxs("div",{className:"card-neon","data-testid":"add-products-section",children:[a.jsx("h3",{className:"text-mm-cyan uppercase text-sm mb-4",children:" "}),a.jsxs("div",{className:"relative",children:[a.jsx(Qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-mm-text-tertiary"}),a.jsx("input",{type:"text",value:m,onChange:E=>p(E.target.value),className:"input-neon w-full pl-10",placeholder:"    ...","data-testid":"product-search-input"})]}),m&&C.length>0&&a.jsx("div",{className:"mt-2 max-h-60 overflow-y-auto border border-mm-border bg-mm-darker",children:C.slice(0,10).map(E=>a.jsxs("button",{onClick:()=>j(E),className:"w-full text-left px-4 py-3 hover:bg-mm-gray transition-colors border-b border-mm-border last:border-b-0","data-testid":`add-product-${E.article}`,children:[a.jsx("div",{className:"font-mono text-sm text-mm-cyan",children:E.article}),a.jsx("div",{className:"text-sm text-mm-text-secondary",children:E.name})]},E.article))})]}),c.items.length>0&&a.jsx("div",{className:"card-neon overflow-hidden","data-testid":"items-table",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" ()"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" ()"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" ()"}),!S&&a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:c.items.map((E,I)=>a.jsxs("tr",{className:"border-b border-mm-border","data-testid":`item-row-${I}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:E.article}),a.jsx("td",{className:"py-4 px-4 text-sm",children:E.name}),a.jsx("td",{className:"py-4 px-4",children:S?a.jsx("div",{className:"text-center font-mono font-bold",children:E.quantity}):a.jsx("input",{type:"number",min:"1",value:E.quantity,onChange:A=>k(I,"quantity",parseInt(A.target.value)||0),className:"input-neon w-24 text-center font-mono","data-testid":`quantity-${I}`})}),a.jsx("td",{className:"py-4 px-4",children:S?a.jsx("div",{className:"text-right font-mono",children:(E.purchase_price/100).toFixed(2)}):a.jsx("input",{type:"number",min:"0",step:"0.01",value:(E.purchase_price/100).toFixed(2),onChange:A=>k(I,"purchase_price",Math.round(parseFloat(A.target.value||0)*100)),className:"input-neon w-32 text-right font-mono","data-testid":`purchase-price-${I}`})}),a.jsx("td",{className:"py-4 px-4",children:S?a.jsx("div",{className:"text-right font-mono",children:(E.additional_expenses/100).toFixed(2)}):a.jsx("input",{type:"number",min:"0",step:"0.01",value:(E.additional_expenses/100).toFixed(2),onChange:A=>k(I,"additional_expenses",Math.round(parseFloat(A.target.value||0)*100)),className:"input-neon w-32 text-right font-mono","data-testid":`expenses-${I}`})}),a.jsx("td",{className:"py-4 px-4 text-right font-mono font-bold text-mm-green",children:(E.total/100).toFixed(2)}),!S&&a.jsx("td",{className:"py-4 px-4 text-center",children:a.jsx("button",{onClick:()=>N(I),className:"px-2 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors","data-testid":`remove-item-${I}`,children:a.jsx(hn,{size:16})})})]},I))})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>r("/income-orders"),className:"btn-secondary","data-testid":"back-btn",children:"   "}),a.jsxs("div",{className:"flex items-center space-x-3",children:[!S&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:w,disabled:x||!c.warehouse_id||!c.supplier_id,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50","data-testid":"save-draft-btn",children:[a.jsx(wi,{}),a.jsx("span",{children:" "})]}),a.jsxs("button",{onClick:P,disabled:x||!t||c.items.length===0,className:"btn-primary flex items-center space-x-2 disabled:opacity-50 bg-mm-green border-mm-green hover:bg-mm-green/20","data-testid":"accept-btn",children:[a.jsx(zd,{}),a.jsx("span",{children:""})]})]}),S&&a.jsxs("button",{onClick:_,disabled:x,className:"btn-secondary flex items-center space-x-2 border-mm-red text-mm-red hover:bg-mm-red/10","data-testid":"cancel-btn",children:[a.jsx(Ty,{}),a.jsx("span",{children:" "})]})]})]})]})})}function y_({type:e="fbs",onClose:t,onSuccess:r}){const{api:n}=ve(),[s,i]=f.useState(!1),[o,l]=f.useState([]),[d,c]=f.useState(!0),[u,m]=f.useState({integration_id:"",date_from:new Date(Date.now()-180*24*60*60*1e3).toISOString().split("T")[0],date_to:new Date().toISOString().split("T")[0],update_stock:!0});f.useEffect(()=>{p()},[]);const p=async()=>{try{c(!0);const v=(await n.get("/api/seller/api-keys")).data||[],h=e==="fbo"?v.filter(b=>b.marketplace==="ozon"):v;if(l(h),h.length>0){const b=h[h.length-1];m(j=>({...j,integration_id:b.id}))}}catch(g){console.error("Failed to load integrations:",g),Y.error("  ")}finally{c(!1)}},x=async()=>{var g,v;if(!u.integration_id){Y.error(" ");return}if(!u.date_from||!u.date_to){Y.error(" ");return}try{i(!0);const h=e==="fbs"?"/api/orders/fbs/import":"/api/orders/fbo/import",b=e==="fbs"?{...u}:{integration_id:u.integration_id,date_from:u.date_from,date_to:u.date_to},j=await n.post(h,b),k=e==="fbs"&&u.update_stock?` ${j.data.imported} ,  ${j.data.stock_updated} `:` ${j.data.imported}  (  )`;Y.success(k),r(),t()}catch(h){console.error("Failed to import orders:",h),Y.error(((v=(g=h.response)==null?void 0:g.data)==null?void 0:v.detail)||"  ")}finally{i(!1)}},y=g=>{const h={ozon:"Ozon",wb:"Wildberries",yandex:"Yandex Market"}[g.marketplace]||g.marketplace;return g.name||`${h} (${g.client_id||"API"})`};return d?a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-mm-darker border border-mm-cyan rounded-lg p-6",children:a.jsx("p",{className:"text-mm-cyan font-mono",children:" ..."})})}):o.length===0?a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:t,children:a.jsxs("div",{className:"bg-mm-darker border border-mm-red rounded-lg p-6 max-w-md",onClick:g=>g.stopPropagation(),children:[a.jsx("h3",{className:"text-xl font-mono text-mm-red mb-4",children:"   "}),a.jsx("p",{className:"text-mm-text-secondary mb-4",children:e==="fbo"?"  FBO    Ozon.":"      ."}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-4",children:'   ""   API .'}),a.jsx("button",{onClick:t,className:"btn-neon w-full",children:""})]})}):a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:t,children:a.jsxs("div",{className:"bg-mm-darker border border-mm-cyan rounded-lg p-6 max-w-2xl w-full mx-4",onClick:g=>g.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-mono text-mm-cyan uppercase",children:["  ",e==="fbs"?"FBS":"FBO"]}),a.jsx("button",{onClick:t,className:"text-mm-text-secondary hover:text-mm-cyan transition-colors",children:a.jsx(xt,{size:24})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" *"}),a.jsx("select",{className:"input-neon w-full",value:u.integration_id,onChange:g=>m({...u,integration_id:g.target.value}),children:o.map(g=>a.jsx("option",{value:g.id,children:y(g)},g.id))}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-1",children:'//      ""'})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:"  *"}),a.jsx("input",{type:"date",className:"input-neon w-full",value:u.date_from,onChange:g=>m({...u,date_from:g.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:"  *"}),a.jsx("input",{type:"date",className:"input-neon w-full",value:u.date_to,onChange:g=>m({...u,date_to:g.target.value})})]})]}),e==="fbs"&&a.jsxs("label",{className:"flex items-center space-x-3 border border-mm-border p-4 rounded hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:u.update_stock,onChange:g=>m({...u,update_stock:g.target.checked}),className:"toggle-switch"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:" "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"     "})]})]}),e==="fbo"&&a.jsx("div",{className:"bg-mm-purple/10 border border-mm-purple p-4 rounded",children:a.jsx("p",{className:"text-sm text-mm-text-secondary font-mono",children:" FBO      (  )"})}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx("button",{onClick:t,className:"btn-neon-outline",disabled:s,children:""}),a.jsxs("button",{onClick:x,disabled:s,className:"btn-neon flex items-center space-x-2",children:[a.jsx(Wt,{}),a.jsx("span",{children:s?"...":" "})]})]})]})]})})}function jM({order:e,onStatusUpdate:t}){var d,c,u,m,p,x;const{api:r}=ve(),[n,s]=f.useState(!1),i=y=>{const v={new:{color:"bg-mm-blue/20 text-mm-blue border-mm-blue",label:""},awaiting_shipment:{color:"bg-mm-yellow/20 text-mm-yellow border-mm-yellow",label:" "},delivering:{color:"bg-mm-cyan/20 text-mm-cyan border-mm-cyan",label:""},delivered:{color:"bg-mm-green/20 text-mm-green border-mm-green",label:""},cancelled:{color:"bg-mm-red/20 text-mm-red border-mm-red",label:""},imported:{color:"bg-mm-blue/20 text-mm-blue border-mm-blue",label:""}}[y]||{color:"bg-mm-gray text-mm-text-secondary border-mm-border",label:y};return a.jsx("span",{className:`px-3 py-1 text-sm font-mono border rounded ${v.color}`,children:v.label})},o=async()=>{var y,g;try{s(!0);const v=await r.get(`/api/orders/fbs/${e.id}/label`);v.data.label_url?(window.open(v.data.label_url,"_blank"),Y.success(" ")):Y.error(" ")}catch(v){console.error("Failed to print label:",v),Y.error("  : "+(((g=(y=v.response)==null?void 0:y.data)==null?void 0:g.detail)||v.message))}finally{s(!1)}},l=async()=>{try{s(!0),await r.post(`/api/orders/fbs/${e.id}/label/refresh`),Y.success(" ")}catch(y){console.error("Failed to refresh label:",y),Y.error("  ")}finally{s(!1)}};return a.jsxs("div",{className:"space-y-6","data-testid":"order-info-tab",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"//  "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.order_number})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-cyan font-mono uppercase",children:e.marketplace})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),i(e.status)]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"//  "}),a.jsx("p",{className:"text-mm-text font-mono",children:new Date(e.created_at).toLocaleString("ru-RU")})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// External ID"}),a.jsx("p",{className:"text-mm-text font-mono",children:e.external_order_id})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.warehouse_id})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"//  "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.stock_updated?"":""})]})]})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsxs("h3",{className:"flex items-center space-x-2 text-sm uppercase font-mono text-mm-cyan mb-4",children:[a.jsx(Ni,{}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:((d=e.customer)==null?void 0:d.full_name)||" "})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:((c=e.customer)==null?void 0:c.phone)||" "})]}),((u=e.customer)==null?void 0:u.address)&&a.jsxs("div",{className:"col-span-2",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.customer.address})]})]})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsxs("h3",{className:"flex items-center space-x-2 text-sm uppercase font-mono text-mm-cyan mb-4",children:[a.jsx(wt,{}),a.jsx("span",{children:" "})]}),a.jsx("div",{className:"border border-mm-border rounded overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-mm-border/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:"-"}),a.jsx("th",{className:"text-right py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""})]})}),a.jsx("tbody",{children:(m=e.items)==null?void 0:m.map((y,g)=>a.jsxs("tr",{className:"border-t border-mm-border",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text",children:y.article}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text",children:y.name}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text text-right",children:y.quantity}),a.jsxs("td",{className:"py-3 px-4 font-mono text-sm text-mm-text text-right",children:[y.price.toFixed(2)," "]}),a.jsxs("td",{className:"py-3 px-4 font-mono text-sm text-mm-cyan text-right",children:[y.total.toFixed(2)," "]})]},g))}),a.jsx("tfoot",{className:"bg-mm-border/30 border-t border-mm-border",children:a.jsxs("tr",{children:[a.jsx("td",{colSpan:"4",className:"py-3 px-4 text-sm font-mono text-mm-text-secondary text-right uppercase",children:":"}),a.jsxs("td",{className:"py-3 px-4 font-mono text-lg text-mm-cyan text-right font-bold",children:[((x=(p=e.totals)==null?void 0:p.total)==null?void 0:x.toFixed(2))||"0.00"," "]})]})})]})})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsx("h3",{className:"text-sm uppercase font-mono text-mm-cyan mb-4",children:"//   "}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("button",{onClick:o,disabled:n,className:"btn-neon flex items-center space-x-2","data-testid":"print-label-btn",children:[a.jsx(n_,{}),a.jsx("span",{children:n?"...":" "})]}),a.jsxs("button",{onClick:l,disabled:n,className:"px-4 py-2 font-mono text-sm border border-mm-border rounded hover:bg-mm-border transition-colors flex items-center space-x-2","data-testid":"refresh-label-btn",children:[a.jsx(jt,{className:n?"animate-spin":""}),a.jsx("span",{children:""})]})]})]})]})}function wM({order:e,onSplit:t}){const[r,n]=f.useState([{box_number:1,items:e.items.map(u=>({...u}))}]),s=()=>{n([...r,{box_number:r.length+1,items:[]}]),Y.success(" ")},i=u=>{if(r.length===1){Y.error("   ");return}const m=r.filter((p,x)=>x!==u);n(m),Y.success(" ")},o=(u,m,p)=>{const x=[...r];x[u].items[m].quantity=parseInt(p)||0,n(x)},l=(u,m,p)=>{const x=[...r],y=x[u].items[m];x[u].items.splice(m,1),x[p].items.push({...y}),n(x),Y.success(" ")},d=async()=>{const u={};e.items.forEach(x=>{u[x.article]=x.quantity});const m={};r.forEach(x=>{x.items.forEach(y=>{m[y.article]=(m[y.article]||0)+y.quantity})});for(const x in u)if(!m[x]||m[x]!==u[x]){Y.error(`    ${x}. : ${u[x]}, : ${m[x]||0}`);return}if(r.some(x=>x.items.length===0)){Y.error("  ");return}const p={boxes:r.map(x=>({box_number:x.box_number,items:x.items.map(y=>({article:y.article,quantity:y.quantity}))}))};await t(p)},c=e.marketplace!=="wb"&&r.length>1;return e.marketplace==="wb"?a.jsxs("div",{className:"text-center py-12","data-testid":"order-split-tab",children:[a.jsx(wt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary font-mono mb-2",children:"//      Wildberries"}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono",children:"Wildberries    "})]}):a.jsxs("div",{className:"space-y-6","data-testid":"order-split-tab",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm uppercase font-mono text-mm-cyan",children:"//   "}),a.jsx("p",{className:"text-xs text-mm-text-secondary font-mono mt-1",children:"   .    ."})]}),a.jsxs("button",{onClick:s,className:"btn-neon flex items-center space-x-2","data-testid":"add-box-btn",children:[a.jsx(Ar,{}),a.jsx("span",{children:" "})]})]}),a.jsx("div",{className:"space-y-4",children:r.map((u,m)=>a.jsxs("div",{className:"border border-mm-border rounded-lg p-4","data-testid":`box-${m}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h4",{className:"font-mono text-mm-cyan uppercase",children:[" #",u.box_number]}),r.length>1&&a.jsx("button",{onClick:()=>i(m),className:"p-2 text-mm-red hover:bg-mm-red/10 rounded transition-colors","data-testid":`remove-box-${m}`,children:a.jsx(hn,{size:16})})]}),u.items.length===0?a.jsx("p",{className:"text-sm text-mm-text-secondary font-mono text-center py-4",children:"//  .      ."}):a.jsx("div",{className:"space-y-2",children:u.items.map((p,x)=>a.jsxs("div",{className:"flex items-center justify-between bg-mm-border/20 p-3 rounded",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-mono text-mm-text",children:p.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",p.article]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary uppercase font-mono block mb-1",children:"-:"}),a.jsx("input",{type:"number",min:"0",max:p.quantity,value:p.quantity,onChange:y=>o(m,x,y.target.value),className:"w-20 px-2 py-1 bg-mm-dark border border-mm-border rounded text-mm-text font-mono text-center focus:border-mm-cyan outline-none","data-testid":`item-quantity-${m}-${x}`})]}),r.length>1&&a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary uppercase font-mono block mb-1",children:" :"}),a.jsx("select",{onChange:y=>{const g=parseInt(y.target.value);g!==m&&l(m,x,g)},value:m,className:"px-2 py-1 bg-mm-dark border border-mm-border rounded text-mm-text font-mono focus:border-mm-cyan outline-none",children:r.map((y,g)=>a.jsxs("option",{value:g,children:["#",g+1]},g))})]})]})]},x))})]},m))}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-mm-border",children:a.jsx("button",{onClick:d,disabled:!c,className:"btn-neon disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"save-split-btn",children:" "})}),r.length===1&&a.jsx("p",{className:"text-xs text-mm-text-tertiary font-mono text-center",children:"//       "})]})}function NM({history:e}){const t=r=>({status_changed:" ",split:" ",label_printed:" ",label_refreshed:" ",note_added:" ",created:""})[r]||r;return!e||e.length===0?a.jsxs("div",{className:"text-center py-12","data-testid":"order-history-tab",children:[a.jsx(Xn,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary font-mono mb-2",children:"//   "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono",children:"     "})]}):a.jsxs("div",{className:"space-y-4","data-testid":"order-history-tab",children:[a.jsx("h3",{className:"text-sm uppercase font-mono text-mm-cyan mb-4",children:"//  "}),a.jsx("div",{className:"space-y-3",children:e.map((r,n)=>a.jsxs("div",{className:"border border-mm-border rounded-lg p-4 hover:bg-mm-border/10 transition-colors","data-testid":`history-entry-${n}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-mm-cyan/10 rounded",children:a.jsx(Xn,{className:"text-mm-cyan",size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-mono text-mm-text",children:t(r.action||"status_changed")}),a.jsx("p",{className:"text-xs text-mm-text-secondary font-mono",children:new Date(r.changed_at||r.timestamp).toLocaleString("ru-RU")})]})]}),r.changed_by&&a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-mm-text-secondary font-mono",children:[a.jsx(Ni,{size:12}),a.jsx("span",{children:r.changed_by})]})]}),r.status&&a.jsxs("div",{className:"mt-3 pl-11",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-1",children:"// "}),a.jsx("p",{className:"text-sm font-mono text-mm-cyan",children:r.status})]}),r.comment&&a.jsxs("div",{className:"mt-3 pl-11",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-1",children:"// "}),a.jsx("p",{className:"text-sm font-mono text-mm-text",children:r.comment})]}),r.details&&a.jsxs("div",{className:"mt-3 pl-11",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-1",children:"// "}),a.jsx("pre",{className:"text-xs font-mono text-mm-text-tertiary bg-mm-dark p-2 rounded overflow-x-auto",children:JSON.stringify(r.details,null,2)})]})]},n))})]})}function kM({order:e,isOpen:t,onClose:r,onUpdate:n}){const{api:s}=ve(),[i,o]=f.useState("info"),[l,d]=f.useState(e),[c,u]=f.useState(!1);f.useEffect(()=>{e&&t&&m()},[e,t]);const m=async()=>{try{u(!0);const g=await s.get(`/api/orders/fbs/${e.id}`);d(g.data)}catch(g){console.error("Failed to load order details:",g),Y.error("   ")}finally{u(!1)}},p=async g=>{var v,h;try{await s.post(`/api/orders/fbs/${e.id}/split`,g),Y.success("  "),await m(),n&&n()}catch(b){console.error("Failed to split order:",b),Y.error("  : "+(((h=(v=b.response)==null?void 0:v.data)==null?void 0:h.detail)||b.message))}},x=async(g,v)=>{try{await s.put(`/api/orders/fbs/${e.id}/status`,{status:g,comment:v}),Y.success("  "),await m(),n&&n()}catch(h){console.error("Failed to update status:",h),Y.error("  ")}};if(!t||!l)return null;const y=[{id:"info",label:" ",icon:e_},{id:"split",label:" ",icon:wt},{id:"history",label:" ",icon:Xn}];return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-mm-dark/80 backdrop-blur-sm","data-testid":"order-detail-modal",children:a.jsxs("div",{className:"card-neon w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-mm-border p-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-mono text-mm-cyan uppercase mb-1",children:[" ",l.order_number]}),a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:["// ",l.marketplace.toUpperCase()," | ",new Date(l.created_at).toLocaleString("ru-RU")]})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-mm-border rounded transition-colors","data-testid":"close-modal",children:a.jsx(xt,{size:24,className:"text-mm-text-secondary"})})]}),a.jsx("div",{className:"flex border-b border-mm-border px-6",children:y.map(g=>a.jsxs("button",{onClick:()=>o(g.id),className:`flex items-center space-x-2 px-4 py-3 font-mono text-sm transition-colors border-b-2 ${i===g.id?"border-mm-cyan text-mm-cyan":"border-transparent text-mm-text-secondary hover:text-mm-text"}`,"data-testid":`tab-${g.id}`,children:[a.jsx(g.icon,{size:16}),a.jsx("span",{children:g.label})]},g.id))}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:c?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):a.jsxs(a.Fragment,{children:[i==="info"&&a.jsx(jM,{order:l,onStatusUpdate:x}),i==="split"&&a.jsx(wM,{order:l,onSplit:p}),i==="history"&&a.jsx(NM,{history:l.status_history||[]})]})}),a.jsx("div",{className:"border-t border-mm-border p-6 flex justify-end space-x-4",children:a.jsx("button",{onClick:r,className:"px-6 py-2 font-mono text-mm-text-secondary border border-mm-border rounded hover:bg-mm-border transition-colors",children:""})})]})})}function _M({activeStatus:e,onStatusChange:t,stats:r}){const n=[{key:"all",label:"",color:"text-mm-text"},{key:"new",label:"",color:"text-mm-blue"},{key:"imported",label:"",color:"text-mm-blue"},{key:"awaiting_shipment",label:" ",color:"text-mm-yellow"},{key:"delivering",label:" ",color:"text-mm-cyan"},{key:"delivered",label:"",color:"text-mm-green"},{key:"cancelled",label:"",color:"text-mm-red"}],s=i=>i==="all"?r.total||0:r[i]||0;return a.jsx("div",{className:"flex flex-wrap gap-2 mb-6","data-testid":"status-filters",children:n.map(i=>a.jsxs("button",{onClick:()=>t(i.key),className:`px-4 py-2 rounded border font-mono text-sm transition-all ${e===i.key?`${i.color} border-current bg-current/10`:"text-mm-text-secondary border-mm-border hover:border-mm-text-secondary"}`,"data-testid":`status-filter-${i.key}`,children:[i.label,a.jsx("span",{className:"ml-2 opacity-70",children:s(i.key)})]},i.key))})}function SM({selectedCount:e,onPrintLabels:t,onExportExcel:r,onChangeStatus:n,onClearSelection:s}){return e===0?null:a.jsxs("div",{className:"fixed bottom-8 right-8 card-neon p-6 shadow-2xl z-40 min-w-96","data-testid":"bulk-actions-panel",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-mm-text-secondary uppercase font-mono",children:"// "}),a.jsx("p",{className:"text-2xl text-mm-cyan font-mono font-bold",children:e})]}),a.jsx("button",{onClick:s,className:"p-2 hover:bg-mm-border rounded transition-colors","data-testid":"clear-selection",children:a.jsx(xt,{size:20,className:"text-mm-text-secondary"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:t,className:"w-full btn-neon flex items-center justify-center space-x-2","data-testid":"bulk-print-labels",children:[a.jsx(n_,{}),a.jsx("span",{children:" "})]}),a.jsxs("button",{onClick:r,className:"w-full px-4 py-2 bg-mm-green/20 text-mm-green border border-mm-green rounded hover:bg-mm-green/30 transition-colors font-mono text-sm flex items-center justify-center space-x-2","data-testid":"bulk-export-excel",children:[a.jsx(Wt,{}),a.jsx("span",{children:"  EXCEL"})]}),a.jsxs("button",{onClick:n,className:"w-full px-4 py-2 bg-mm-border/50 text-mm-text border border-mm-border rounded hover:bg-mm-border transition-colors font-mono text-sm flex items-center justify-center space-x-2","data-testid":"bulk-change-status",children:[a.jsx(Fa,{}),a.jsx("span",{children:" "})]})]})]})}function CM(){const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState([]),[i,o]=f.useState(!1),[l,d]=f.useState(!1),[c,u]=f.useState(null),[m,p]=f.useState(!1),[x,y]=f.useState("all"),[g,v]=f.useState([]),[h,b]=f.useState({}),[j,k]=f.useState(!1),[N,w]=f.useState("");f.useEffect(()=>{P()},[]),f.useEffect(()=>{C()},[t,x,N]);const P=async()=>{try{o(!0);const $=await e.get("/api/orders/fbs");r($.data),_($.data)}catch($){console.error("Failed to load FBS orders:",$)}finally{o(!1)}},_=$=>{const X={total:$.length,new:0,imported:0,awaiting_shipment:0,delivering:0,delivered:0,cancelled:0};$.forEach(T=>{X.hasOwnProperty(T.status)&&X[T.status]++}),b(X)},C=()=>{let $=t;if(x!=="all"&&($=$.filter(X=>X.status===x)),N.trim()){const X=N.toLowerCase().trim();$=$.filter(T=>{var D,q;const Q=(D=T.items)==null?void 0:D.some(ie=>{var Z,F;return((Z=ie.article)==null?void 0:Z.toLowerCase().includes(X))||((F=ie.name)==null?void 0:F.toLowerCase().includes(X))}),ee=(q=T.order_number)==null?void 0:q.toLowerCase().includes(X);return Q||ee})}s($)},O=$=>{u($),p(!0)},S=()=>{p(!1),u(null)},E=()=>{P()},I=$=>{v(X=>X.includes($)?X.filter(T=>T!==$):[...X,$])},A=()=>{g.length===n.length?v([]):v(n.map($=>$.id))},M=async()=>{try{Y.loading(" ...");const $=await e.post("/api/orders/fbs/labels/bulk",{order_ids:g});$.data.labels.forEach((X,T)=>{setTimeout(()=>{window.open(X.label_url,"_blank")},T*500)}),Y.dismiss(),Y.success(` ${$.data.labels.length} `),$.data.errors.length>0&&Y.warning(`: ${$.data.errors.length}`)}catch{Y.dismiss(),Y.error("  ")}},U=async()=>{try{Y.loading(" ...");const $=n.filter(q=>g.includes(q.id)),X=["ID ",""," ","","","",""," "],T=$.map(q=>{var ie,Z,F;return[q.order_number,q.marketplace.toUpperCase(),new Date(q.created_at).toLocaleString("ru-RU"),q.status,((ie=q.customer)==null?void 0:ie.full_name)||"",(Z=q.items)==null?void 0:Z.map(le=>`${le.article} (${le.quantity})`).join("; "),((F=q.totals)==null?void 0:F.total)||0,q.stock_updated?"":""]}),Q=[X.join(","),...T.map(q=>q.map(ie=>`"${ie}"`).join(","))].join(`
`),ee=new Blob(["\uFEFF"+Q],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a");D.href=URL.createObjectURL(ee),D.download=`orders_fbs_${new Date().toISOString().split("T")[0]}.csv`,D.click(),Y.dismiss(),Y.success(" ")}catch{Y.dismiss(),Y.error(" ")}},W=()=>{Y.info("  ")},L=async()=>{var $,X;try{k(!0),Y.loading("   ...");const T=await e.post("/api/orders/fbs/refresh-statuses",{});Y.dismiss(),Y.success(` : ${T.data.updated}`),await P()}catch(T){Y.dismiss(),Y.error("  : "+(((X=($=T.response)==null?void 0:$.data)==null?void 0:X.detail)||T.message))}finally{k(!1)}},R=$=>{const T={new:{color:"text-mm-blue border-mm-blue",label:""},awaiting_shipment:{color:"text-mm-yellow border-mm-yellow",label:" "},delivering:{color:"text-mm-cyan border-mm-cyan",label:""},delivered:{color:"text-mm-green border-mm-green",label:""},cancelled:{color:"text-mm-red border-mm-red",label:""},imported:{color:"text-mm-blue border-mm-blue",label:""}}[$]||{color:"text-mm-text-secondary border-mm-border",label:$};return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${T.color} rounded`,children:T.label})};return a.jsxs("div",{className:"space-y-4","data-testid":"fbs-orders-list",children:[a.jsx(_M,{activeStatus:x,onStatusChange:y,stats:h}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(wt,{className:"text-mm-cyan"}),a.jsx("input",{type:"text",placeholder:"  ,     ...",value:N,onChange:$=>w($.target.value),className:"input-neon flex-1","data-testid":"search-input"}),N&&a.jsx("button",{onClick:()=>w(""),className:"text-mm-text-secondary hover:text-mm-cyan transition-colors",children:""})]}),N&&a.jsxs("p",{className:"text-xs text-mm-text-tertiary mt-2 font-mono",children:[" : ",n.length]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[" : ",a.jsx("span",{className:"text-mm-cyan",children:n.length}),g.length>0&&a.jsxs("span",{className:"ml-4",children:[": ",a.jsx("span",{className:"text-mm-cyan",children:g.length})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:L,disabled:j,className:"px-4 py-2 border border-mm-cyan text-mm-cyan rounded hover:bg-mm-cyan/10 transition-colors font-mono text-sm flex items-center space-x-2 disabled:opacity-50","data-testid":"refresh-statuses-btn",children:[a.jsx(jt,{className:j?"animate-spin":""}),a.jsx("span",{children:j?"...":" "})]}),a.jsxs("button",{onClick:()=>d(!0),className:"btn-neon flex items-center space-x-2","data-testid":"open-import-modal",children:[a.jsx(Wt,{}),a.jsx("span",{children:" "})]})]})]}),i?a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):n.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(wt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2 font-mono",children:x==="all"?" FBS  ":`    "${x}"`}),a.jsxs("p",{className:"text-sm text-mm-text-tertiary font-mono mb-4",children:["// ",x==="all"?' " "  ':"    "]}),x==="all"&&a.jsxs("button",{onClick:()=>d(!0),className:"btn-neon inline-flex items-center space-x-2",children:[a.jsx(Wt,{}),a.jsx("span",{children:" "})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"py-4 px-4",children:a.jsx("input",{type:"checkbox",checked:g.length===n.length&&n.length>0,onChange:A,className:"w-4 h-4 bg-mm-dark border-mm-border rounded cursor-pointer","data-testid":"select-all-checkbox"})}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:" "}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:n.map($=>{var X,T,Q;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${$.id}`,children:[a.jsx("td",{className:"py-4 px-4",children:a.jsx("input",{type:"checkbox",checked:g.includes($.id),onChange:()=>I($.id),className:"w-4 h-4 bg-mm-dark border-mm-border rounded cursor-pointer","data-testid":`select-order-${$.id}`})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:$.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm uppercase",children:$.marketplace}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date($.created_at).toLocaleDateString("ru-RU")}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:((X=$.items)==null?void 0:X.length)>0?a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"text-mm-cyan text-xs mb-1",children:$.items.map(ee=>ee.article).join(", ")}),a.jsxs("div",{className:"text-mm-text-tertiary text-xs",children:[$.items.length," ",$.items.length===1?"":$.items.length<5?"":""]})]}):a.jsx("span",{className:"text-mm-text-tertiary",children:""})}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[(Q=(T=$.totals)==null?void 0:T.total)==null?void 0:Q.toLocaleString("ru-RU"),""]}),a.jsx("td",{className:"py-4 px-4",children:R($.status)}),a.jsx("td",{className:"py-4 px-4 text-center",children:$.stock_updated?a.jsx("span",{className:"text-mm-green",children:""}):a.jsx("span",{className:"text-mm-text-tertiary",children:"-"})}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{onClick:()=>O($),className:"btn-neon-sm flex items-center space-x-1 ml-auto","data-testid":`view-order-${$.id}`,children:[a.jsx(tm,{size:14}),a.jsx("span",{children:""})]})})]},$.id)})})]})})}),l&&a.jsx(y_,{type:"fbs",onClose:()=>d(!1),onSuccess:P}),m&&c&&a.jsx(kM,{order:c,isOpen:m,onClose:S,onUpdate:E}),a.jsx(SM,{selectedCount:g.length,onPrintLabels:M,onExportExcel:U,onChangeStatus:W,onClearSelection:()=>v([])})]})}function PM(){const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState(!1);f.useEffect(()=>{l()},[]);const l=async()=>{try{s(!0);const c=await e.get("/api/orders/fbo");r(c.data)}catch(c){console.error("Failed to load FBO orders:",c)}finally{s(!1)}},d=c=>{const m={processing:{color:"text-mm-blue border-mm-blue",label:""},shipped:{color:"text-mm-cyan border-mm-cyan",label:""},delivered:{color:"text-mm-green border-mm-green",label:""},cancelled:{color:"text-mm-red border-mm-red",label:""},imported:{color:"text-mm-blue border-mm-blue",label:""}}[c]||{color:"text-mm-text-secondary border-mm-border",label:c};return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${m.color} rounded`,children:m.label})};return a.jsxs("div",{className:"space-y-4","data-testid":"fbo-orders-list",children:[a.jsx("div",{className:"bg-mm-purple/10 border border-mm-purple p-4 rounded",children:a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[a.jsx("span",{className:"text-mm-purple font-bold",children:" FBO :"}),"    .    ,      ."]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[" : ",a.jsx("span",{className:"text-mm-purple",children:t.length})]}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon flex items-center space-x-2","data-testid":"open-import-modal",children:[a.jsx(Wt,{}),a.jsx("span",{children:"  FBO"})]})]}),n?a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(i_,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2 font-mono",children:" FBO  "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono mb-4",children:'//  "  FBO"  '}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon inline-flex items-center space-x-2",children:[a.jsx(Wt,{}),a.jsx("span",{children:"  FBO"})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:" "}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(c=>{var u,m,p;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${c.id}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-purple",children:c.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm uppercase",children:c.marketplace}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:c.warehouse_name}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(c.created_at).toLocaleDateString("ru-RU")}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[((u=c.items)==null?void 0:u.length)||0," "]}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[(p=(m=c.totals)==null?void 0:m.total)==null?void 0:p.toLocaleString("ru-RU"),""]}),a.jsx("td",{className:"py-4 px-4",children:d(c.status)}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{className:"btn-neon-sm flex items-center space-x-1 ml-auto","data-testid":`view-order-${c.id}`,children:[a.jsx(tm,{size:14}),a.jsx("span",{children:""})]})})]},c.id)})})]})})}),i&&a.jsx(y_,{type:"fbo",onClose:()=>o(!1),onSuccess:l})]})}function EM({onCancel:e,onSuccess:t}){const{api:r}=ve(),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,d]=f.useState(!1),[c,u]=f.useState({warehouse_id:"",order_date:new Date().toISOString().split("T")[0],customer:{full_name:"",phone:"",email:"",address:""},items:[],payment_method:"cash",notes:""}),[m,p]=f.useState(""),[x,y]=f.useState([]);f.useEffect(()=>{g(),v()},[]);const g=async()=>{try{const _=await r.get("/api/warehouses");s(_.data)}catch(_){console.error("Failed to load warehouses:",_),Y.error("  ")}},v=async()=>{try{const _=await r.get("/api/catalog/products?limit=1000"),C=Array.isArray(_.data)?_.data:_.data.products||[];o(C),console.log(`Loaded ${C.length} products for search`)}catch(_){console.error("Failed to load products:",_),Y.error("  ")}},h=_=>{if(p(_),!_){y([]);return}const C=i.filter(O=>{var S,E;return((S=O.article)==null?void 0:S.toLowerCase().includes(_.toLowerCase()))||((E=O.name)==null?void 0:E.toLowerCase().includes(_.toLowerCase()))});y(C.slice(0,10))},b=_=>{var O;if(c.items.find(S=>S.article===_.article)){Y.warning("  ");return}const C={product_id:_.id,article:_.article,name:_.name,image:((O=_.images)==null?void 0:O[0])||null,price:_.price_with_discount/100||0,quantity:1,total:_.price_with_discount/100||0};u({...c,items:[...c.items,C]}),p(""),y([])},j=_=>{const C=c.items.filter((O,S)=>S!==_);u({...c,items:C})},k=(_,C)=>{const O=[...c.items];O[_].quantity=parseInt(C)||1,O[_].total=O[_].price*O[_].quantity,u({...c,items:O})},N=(_,C)=>{const O=[...c.items];O[_].price=parseFloat(C)||0,O[_].total=O[_].price*O[_].quantity,u({...c,items:O})},w=()=>c.items.reduce((_,C)=>_+C.total,0),P=async _=>{var C,O;if(_.preventDefault(),!c.warehouse_id){Y.error(" ");return}if(c.items.length===0){Y.error("    ");return}if(!c.customer.full_name||!c.customer.phone){Y.error("  ");return}try{d(!0),await r.post("/api/orders/retail",c),t()}catch(S){console.error("Failed to create retail order:",S),Y.error(((O=(C=S.response)==null?void 0:C.data)==null?void 0:O.detail)||"  ")}finally{d(!1)}};return a.jsxs("div",{className:"space-y-6","data-testid":"retail-order-form",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-mono text-mm-green uppercase",children:"  "}),a.jsx("button",{onClick:e,className:"btn-neon-sm","data-testid":"cancel-form",children:a.jsx(xt,{})})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("h4",{className:"text-sm font-mono text-mm-text-secondary mb-4 uppercase",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:"  *"}),a.jsx("input",{type:"date",className:"input-neon w-full",value:c.order_date,onChange:_=>u({...c,order_date:_.target.value}),required:!0,"data-testid":"order-date"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" *"}),a.jsxs("select",{className:"input-neon w-full",value:c.warehouse_id,onChange:_=>u({...c,warehouse_id:_.target.value}),required:!0,"data-testid":"select-warehouse",children:[a.jsx("option",{value:"",children:" "}),n.map(_=>a.jsx("option",{value:_.id,children:_.name},_.id))]})]})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("h4",{className:"text-sm font-mono text-mm-text-secondary mb-4 uppercase",children:""}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("input",{type:"text",placeholder:"  *",className:"input-neon",value:c.customer.full_name,onChange:_=>u({...c,customer:{...c.customer,full_name:_.target.value}}),required:!0,"data-testid":"customer-name"}),a.jsx("input",{type:"tel",placeholder:" *",className:"input-neon",value:c.customer.phone,onChange:_=>u({...c,customer:{...c.customer,phone:_.target.value}}),required:!0,"data-testid":"customer-phone"}),a.jsx("input",{type:"email",placeholder:"Email",className:"input-neon",value:c.customer.email,onChange:_=>u({...c,customer:{...c.customer,email:_.target.value}}),"data-testid":"customer-email"}),a.jsx("input",{type:"text",placeholder:"",className:"input-neon",value:c.customer.address,onChange:_=>u({...c,customer:{...c.customer,address:_.target.value}}),"data-testid":"customer-address"})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("h4",{className:"text-sm font-mono text-mm-text-secondary mb-4 uppercase",children:""}),a.jsxs("div",{className:"mb-4 relative",children:[a.jsx("input",{type:"text",placeholder:"     ...",className:"input-neon w-full",value:m,onChange:_=>h(_.target.value),"data-testid":"product-search"}),x.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-2 bg-mm-gray border border-mm-border rounded max-h-60 overflow-y-auto",children:x.map(_=>a.jsxs("div",{className:"p-3 hover:bg-mm-cyan/10 cursor-pointer border-b border-mm-border last:border-b-0",onClick:()=>b(_),"data-testid":`search-result-${_.id}`,children:[a.jsx("p",{className:"font-mono text-sm text-mm-cyan",children:_.article}),a.jsx("p",{className:"font-mono text-xs text-mm-text-secondary",children:_.name}),a.jsxs("p",{className:"font-mono text-xs text-mm-text-tertiary",children:[(_.price_with_discount/100).toFixed(2),""]})]},_.id))})]}),c.items.length===0?a.jsx("p",{className:"text-center text-mm-text-tertiary font-mono text-sm py-4",children:"//    "}):a.jsxs("div",{className:"space-y-2",children:[c.items.map((_,C)=>a.jsxs("div",{className:"flex items-center space-x-4 border border-mm-border rounded p-3","data-testid":`item-${C}`,children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-mono text-sm text-mm-cyan",children:_.article}),a.jsx("p",{className:"font-mono text-xs text-mm-text-secondary",children:_.name})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary block mb-1",children:"-"}),a.jsx("input",{type:"number",min:"1",className:"input-neon w-20 text-center",value:_.quantity,onChange:O=>k(C,O.target.value),"data-testid":`quantity-${C}`})]}),a.jsx("span",{className:"font-mono text-sm text-mm-text-secondary pt-5",children:""}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary block mb-1",children:", "}),a.jsx("input",{type:"number",min:"0",step:"0.01",className:"input-neon w-32 text-right",value:_.price,onChange:O=>N(C,O.target.value),"data-testid":`price-${C}`})]}),a.jsx("div",{className:"pt-5",children:a.jsx("span",{className:"font-mono text-sm text-mm-text-secondary",children:"="})}),a.jsx("div",{className:"pt-5",children:a.jsxs("span",{className:"font-mono text-sm text-mm-green w-32 text-right block font-bold",children:[_.total.toFixed(2),""]})}),a.jsx("button",{type:"button",onClick:()=>j(C),className:"text-mm-red hover:text-mm-red/80 pt-5","data-testid":`remove-${C}`,children:a.jsx(hn,{})})]})]},C)),a.jsx("div",{className:"border-t border-mm-border pt-4 mt-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-mono text-sm text-mm-text-secondary uppercase",children:":"}),a.jsxs("span",{className:"font-mono text-xl text-mm-green",children:[w().toFixed(2),""]})]})})]})]}),a.jsx("div",{className:"card-neon p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" "}),a.jsxs("select",{className:"input-neon w-full",value:c.payment_method,onChange:_=>u({...c,payment_method:_.target.value}),"data-testid":"payment-method",children:[a.jsx("option",{value:"cash",children:""}),a.jsx("option",{value:"card",children:""}),a.jsx("option",{value:"transfer",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:""}),a.jsx("input",{type:"text",className:"input-neon w-full",value:c.notes,onChange:_=>u({...c,notes:_.target.value}),placeholder:" ","data-testid":"notes"})]})]})}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:e,className:"btn-neon-outline",disabled:l,children:""}),a.jsx("button",{type:"submit",className:"btn-neon",disabled:l||c.items.length===0,"data-testid":"submit-order",children:l?"...":" "})]})]})]})}function OM(){const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,d]=f.useState({status:"",date_from:"",date_to:""});f.useEffect(()=>{c()},[l]);const c=async()=>{try{s(!0);const x=new URLSearchParams;l.status&&x.append("status",l.status),l.date_from&&x.append("date_from",l.date_from),l.date_to&&x.append("date_to",l.date_to);const y=await e.get(`/api/orders/retail?${x.toString()}`);r(y.data)}catch(x){console.error("Failed to load retail orders:",x),Y.error("   ")}finally{s(!1)}},u=()=>{o(!1),c(),Y.success("   !")},m=x=>{const g={new:{color:"text-mm-blue border-mm-blue",label:""},processing:{color:"text-mm-yellow border-mm-yellow",label:""},completed:{color:"text-mm-green border-mm-green",label:""},cancelled:{color:"text-mm-red border-mm-red",label:""}}[x]||{color:"text-mm-text-secondary border-mm-border",label:x};return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${g.color} rounded`,children:g.label})},p=x=>{const y={reserved:{color:"text-mm-yellow border-mm-yellow",label:""},deducted:{color:"text-mm-green border-mm-green",label:""},returned:{color:"text-mm-blue border-mm-blue",label:""},none:{color:"text-mm-text-tertiary border-mm-border",label:"-"}},g=y[x]||y.none;return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${g.color} rounded`,children:g.label})};return i?a.jsx(EM,{onCancel:()=>o(!1),onSuccess:u}):a.jsxs("div",{className:"space-y-4","data-testid":"retail-orders-list",children:[a.jsx("div",{className:"card-neon p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:""}),a.jsxs("select",{className:"input-neon w-full",value:l.status,onChange:x=>d({...l,status:x.target.value}),"data-testid":"filter-status",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"new",children:""}),a.jsx("option",{value:"processing",children:""}),a.jsx("option",{value:"completed",children:""}),a.jsx("option",{value:"cancelled",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" "}),a.jsx("input",{type:"date",className:"input-neon w-full",value:l.date_from,onChange:x=>d({...l,date_from:x.target.value}),"data-testid":"filter-date-from"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" "}),a.jsx("input",{type:"date",className:"input-neon w-full",value:l.date_to,onChange:x=>d({...l,date_to:x.target.value}),"data-testid":"filter-date-to"})]})]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[" : ",a.jsx("span",{className:"text-mm-green",children:t.length})]}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon flex items-center space-x-2","data-testid":"create-retail-order",children:[a.jsx(Ar,{}),a.jsx("span",{children:" "})]})]}),n?a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(VI,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2 font-mono",children:"   "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono mb-4",children:"//   "}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon inline-flex items-center space-x-2",children:[a.jsx(Ar,{}),a.jsx("span",{children:" "})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(x=>{var y,g,v,h;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${x.id}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-green",children:x.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(x.created_at).toLocaleDateString("ru-RU")}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:((y=x.customer)==null?void 0:y.full_name)||"-"}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[((g=x.items)==null?void 0:g.length)||0," "]}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[(h=(v=x.totals)==null?void 0:v.total)==null?void 0:h.toLocaleString("ru-RU"),""]}),a.jsx("td",{className:"py-4 px-4",children:m(x.status)}),a.jsx("td",{className:"py-4 px-4",children:p(x.reserve_status)}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{className:"btn-neon-sm flex items-center space-x-1 ml-auto","data-testid":`view-order-${x.id}`,children:[a.jsx(tm,{size:14}),a.jsx("span",{children:""})]})})]},x.id)})})]})})})]})}function _c({section:e}){const t=Xa(),r=e||(t.pathname.includes("/fbs")?"fbs":t.pathname.includes("/fbo")?"fbo":t.pathname.includes("/retail")?"retail":"fbs"),n=()=>{switch(r){case"fbs":return"FBS (  )";case"fbo":return"FBO (  )";case"retail":return" ";default:return""}};return a.jsxs("div",{className:"space-y-6","data-testid":"orders-page",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase font-mono",children:n()}),a.jsx("p",{className:"text-sm text-mm-text-secondary font-mono",children:"//  "})]})}),a.jsxs("div",{children:[r==="fbs"&&a.jsx(CM,{}),r==="fbo"&&a.jsx(PM,{}),r==="retail"&&a.jsx(OM,{})]})]})}const g_=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},AM=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);return g_(t)},TM=()=>g_(new Date);function DM(){var b,j,k,N,w,P,_,C,O,S,E,I,A,M,U,W,L,R,$,X,T,Q,ee,D,q,ie,Z,F,le,pe,J,G,se,be,H,re,ce,ge,z,ae,B,oe,de,ke,je,_e,Me;const{api:e}=ve(),[t,r]=f.useState(!1),[n,s]=f.useState(!1),[i,o]=f.useState(null),[l,d]=f.useState(null),[c,u]=f.useState(AM()),[m,p]=f.useState(TM()),x=async()=>{var ye,Ce;s(!0),d(null);try{const Se=await e.post("/api/profit-analytics/sync-ozon-data",null,{params:{date_from:c,date_to:m}});alert(`  !

 : ${Se.data.statistics.total_transactions}
: ${Se.data.statistics.saved}
: ${Se.data.statistics.updated}`),await y()}catch(Se){console.error("Sync failed:",Se);const Lt=((Ce=(ye=Se.response)==null?void 0:ye.data)==null?void 0:Ce.detail)||Se.message||" ";d(` : ${Lt}`)}s(!1)},y=async()=>{var ye,Ce;r(!0),d(null);try{const Se=await e.get("/api/profit-analytics/profit-report",{params:{date_from:c,date_to:m}});console.log("Report response:",Se.data),Se.data&&Se.data.revenue&&Se.data.expenses&&Se.data.profit?o(Se.data):(d("    "),o(null))}catch(Se){console.error("Failed to load report:",Se);const Lt=((Ce=(ye=Se.response)==null?void 0:ye.data)==null?void 0:Ce.detail)||Se.message||" ";d(`  : ${Lt}`),o(null)}r(!1)},g=async()=>{try{const ye=await e.get("/api/profit-analytics/export-profit-report",{params:{date_from:c,date_to:m},responseType:"blob"}),Ce=window.URL.createObjectURL(new Blob([ye.data])),Se=document.createElement("a");Se.href=Ce,Se.setAttribute("download",`profit_report_${c}_${m}.xlsx`),document.body.appendChild(Se),Se.click(),Se.remove(),alert("  !")}catch(ye){console.error("Export failed:",ye),alert("  ")}},v=ye=>((ye==null||isNaN(ye))&&(ye=0),new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2}).format(ye)),h=ye=>((ye==null||isNaN(ye))&&(ye=0),`${ye.toFixed(2)}%`);return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"   "}),a.jsx("p",{className:"comment",children:"//     "})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsx("input",{type:"date",value:c,onChange:ye=>u(ye.target.value),className:"input-mono w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsx("input",{type:"date",value:m,onChange:ye=>p(ye.target.value),className:"input-mono w-full"})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:x,disabled:n,className:"btn-primary w-full flex items-center justify-center gap-2",children:[a.jsx(jt,{className:n?"animate-spin":""}),n?"...":""]})}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:y,disabled:t,className:"btn-primary w-full",children:t?"...":" "})})]}),i&&a.jsx("div",{className:"mt-4 pt-4 border-t border-mm-border flex justify-end",children:a.jsxs("button",{onClick:g,className:"btn-secondary flex items-center gap-2",children:[a.jsx(Wt,{}),"  EXCEL"]})})]}),l&&a.jsx("div",{className:"card-neon p-6 border-mm-red border-2",children:a.jsx("p",{className:"text-mm-red",children:l})}),t?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"//  ..."})}):i?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono",children:""}),a.jsx(za,{className:"text-mm-cyan",size:24})]}),a.jsx("div",{className:"text-3xl font-mono text-mm-cyan mb-2",children:v((b=i==null?void 0:i.revenue)==null?void 0:b.net_sales)}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:[": ",v((j=i==null?void 0:i.revenue)==null?void 0:j.gross_sales)]})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono",children:""}),a.jsx(Pl,{className:"text-mm-red",size:24})]}),a.jsx("div",{className:"text-3xl font-mono text-mm-red mb-2",children:v((k=i==null?void 0:i.expenses)==null?void 0:k.total_expenses)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:" "})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono",children:" "}),a.jsx(Ls,{className:(((N=i==null?void 0:i.profit)==null?void 0:N.net_profit)??0)>=0?"text-mm-green":"text-mm-red",size:24})]}),a.jsx("div",{className:`text-3xl font-mono mb-2 ${(((w=i==null?void 0:i.profit)==null?void 0:w.net_profit)??0)>=0?"text-mm-green":"text-mm-red"}`,children:v((P=i==null?void 0:i.profit)==null?void 0:P.net_profit)}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:[": ",h((_=i==null?void 0:i.profit)==null?void 0:_.net_margin_pct)]})]})]}),a.jsxs("div",{className:"card-neon overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-mm-border",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase",children:"     (P&L)"}),a.jsxs("p",{className:"comment mt-1",children:["// : ",c," - ",m]}),(i==null?void 0:i.statistics)&&a.jsxs("p",{className:"comment",children:["// : ",i.statistics.total_transactions||0]})]}),a.jsxs("div",{className:"p-6 space-y-6 font-mono",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-cyan"}),a.jsx("h4",{className:"text-mm-cyan uppercase",children:""})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" "}),a.jsx("span",{children:v((C=i==null?void 0:i.revenue)==null?void 0:C.gross_sales)})]}),a.jsxs("div",{className:"flex justify-between text-mm-red",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:v((O=i==null?void 0:i.revenue)==null?void 0:O.returns)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-mm-cyan",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((S=i==null?void 0:i.revenue)==null?void 0:S.net_sales)})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-text-secondary"}),a.jsx("h4",{className:"text-mm-text-secondary uppercase",children:"  (COGS)"})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"   "}),a.jsx("span",{className:"text-mm-text-secondary",children:v((E=i==null?void 0:i.cogs)==null?void 0:E.total)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-lg",children:[a.jsx("span",{className:"text-mm-green",children:"  "}),a.jsx("span",{className:"text-mm-green",children:v((I=i==null?void 0:i.profit)==null?void 0:I.gross_profit)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{className:"text-mm-text-tertiary",children:h((A=i==null?void 0:i.profit)==null?void 0:A.gross_margin_pct)})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-red"}),a.jsx("h4",{className:"text-mm-red uppercase",children:""})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"1  "}),a.jsxs("div",{className:"pl-4 space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsx("span",{children:v((U=(M=i==null?void 0:i.expenses)==null?void 0:M.commissions)==null?void 0:U.marketplace_base)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"    (9%)"}),a.jsx("span",{children:v((L=(W=i==null?void 0:i.expenses)==null?void 0:W.commissions)==null?void 0:L.bonus_commission)})]}),a.jsxs("div",{className:"flex justify-between font-bold pt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v(($=(R=i==null?void 0:i.expenses)==null?void 0:R.commissions)==null?void 0:$.total)})]})]})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"2 "}),a.jsxs("div",{className:"pl-4 space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"   "}),a.jsx("span",{children:v((T=(X=i==null?void 0:i.expenses)==null?void 0:X.logistics)==null?void 0:T.delivery_to_customer)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsx("span",{children:v((ee=(Q=i==null?void 0:i.expenses)==null?void 0:Q.logistics)==null?void 0:ee.last_mile)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsx("span",{children:v((q=(D=i==null?void 0:i.expenses)==null?void 0:D.logistics)==null?void 0:q.returns)})]}),a.jsxs("div",{className:"flex justify-between font-bold pt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((Z=(ie=i==null?void 0:i.expenses)==null?void 0:ie.logistics)==null?void 0:Z.total)})]})]})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"3  "}),a.jsxs("div",{className:"pl-4 space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{children:v((le=(F=i==null?void 0:i.expenses)==null?void 0:F.services)==null?void 0:le.storage)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{children:v((J=(pe=i==null?void 0:i.expenses)==null?void 0:pe.services)==null?void 0:J.acquiring)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"   "}),a.jsx("span",{children:v((se=(G=i==null?void 0:i.expenses)==null?void 0:G.services)==null?void 0:se.pvz_fees)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{children:v((H=(be=i==null?void 0:i.expenses)==null?void 0:be.services)==null?void 0:H.packaging)})]}),a.jsxs("div",{className:"flex justify-between font-bold pt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((ce=(re=i==null?void 0:i.expenses)==null?void 0:re.services)==null?void 0:ce.total)})]})]})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"4 "}),a.jsx("div",{className:"pl-4 space-y-1",children:a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((z=(ge=i==null?void 0:i.expenses)==null?void 0:ge.penalties)==null?void 0:z.total)})]})})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"5  "}),a.jsx("div",{className:"pl-4 space-y-1",children:a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((B=(ae=i==null?void 0:i.expenses)==null?void 0:ae.other_expenses)==null?void 0:B.total)})]})})]}),a.jsx("div",{className:"pl-6 pt-4 border-t border-mm-border",children:a.jsxs("div",{className:"flex justify-between font-bold text-lg text-mm-red",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((oe=i==null?void 0:i.expenses)==null?void 0:oe.total_expenses)})]})})]}),a.jsxs("div",{className:"pt-4 border-t-2 border-mm-cyan",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-green"}),a.jsx("h4",{className:"text-mm-green uppercase",children:" "})]}),a.jsxs("div",{className:"pl-6 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-lg font-bold text-mm-green",children:[a.jsx("span",{children:"  "}),a.jsx("span",{children:v((de=i==null?void 0:i.profit)==null?void 0:de.operating_profit)})]}),a.jsxs("div",{className:"flex justify-between text-sm text-mm-text-secondary",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:h((ke=i==null?void 0:i.profit)==null?void 0:ke.operating_margin_pct)})]}),a.jsxs("div",{className:"pt-3 mt-3 border-t border-mm-border",children:[a.jsxs("div",{className:`flex justify-between text-2xl font-bold ${(((je=i==null?void 0:i.profit)==null?void 0:je.net_profit)??0)>=0?"text-mm-green":"text-mm-red"}`,children:[a.jsx("span",{children:"  "}),a.jsx("span",{children:v((_e=i==null?void 0:i.profit)==null?void 0:_e.net_profit)})]}),a.jsxs("div",{className:"flex justify-between text-sm text-mm-text-secondary mt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:h((Me=i==null?void 0:i.profit)==null?void 0:Me.net_margin_pct)})]}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-2 italic",children:"//      "})]})]})]})]})]})]}):!t&&!l?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx("p",{className:"text-mm-text-secondary mb-2",children:'    " "'}),a.jsx("p",{className:"comment",children:"//      "})]}):null]})}const v_=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},IM=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);return v_(t)},MM=()=>v_(new Date);function LM(){const{api:e}=ve(),[t,r]=f.useState(!1),[n,s]=f.useState([]),[i,o]=f.useState(0),[l,d]=f.useState(IM()),[c,u]=f.useState(MM()),[m]=f.useState(50),[p,x]=f.useState(0),[y,g]=f.useState(null),v=async()=>{var w,P;r(!0);try{const _=await e.get("/api/profit-analytics/transactions",{params:{date_from:l,date_to:c,limit:m,offset:p}});s(_.data.transactions||[]),o(_.data.total_count||0)}catch(_){console.error("Failed to load transactions:",_),alert(" : "+(((P=(w=_.response)==null?void 0:w.data)==null?void 0:P.detail)||_.message))}r(!1)};f.useEffect(()=>{v()},[p]);const h=w=>((w==null||isNaN(w))&&(w=0),new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2}).format(w)),b=w=>w?new Date(w).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",j=w=>{g(y===w?null:w)},k=()=>{p+m<i&&x(p+m)},N=()=>{p>0&&x(Math.max(0,p-m))};return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:""}),a.jsx("p",{className:"comment",children:"//    "})]}),a.jsx("div",{className:"card-neon p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsx("input",{type:"date",value:l,onChange:w=>d(w.target.value),className:"input-mono w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsx("input",{type:"date",value:c,onChange:w=>u(w.target.value),className:"input-mono w-full"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{x(0),v()},disabled:t,className:"btn-primary w-full",children:t?"...":""})})]})}),t?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// ..."})}):n.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx("p",{className:"text-mm-text-secondary mb-2",children:" "}),a.jsx("p",{className:"comment",children:"//   "})]}):a.jsxs("div",{className:"card-neon overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" "}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:n.map(w=>{var O,S,E,I,A,M,U,W,L,R,$,X,T,Q,ee,D,q,ie;const P=(((S=(O=w.breakdown)==null?void 0:O.commission)==null?void 0:S.total)||0)+(((I=(E=w.breakdown)==null?void 0:E.logistics)==null?void 0:I.total)||0)+(((M=(A=w.breakdown)==null?void 0:A.services)==null?void 0:M.total)||0)+(((W=(U=w.breakdown)==null?void 0:U.penalties)==null?void 0:W.total)||0),_=w.amount-P,C=y===w._id;return a.jsxs(te.Fragment,{children:[a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:b(w.operation_date)}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:w.order_id||"-"}),a.jsxs("td",{className:"py-4 px-4 text-sm",children:[((L=w.items)==null?void 0:L.length)||0," "]}),a.jsx("td",{className:"py-4 px-4 text-right font-mono text-sm",children:h(w.amount)}),a.jsx("td",{className:"py-4 px-4 text-right font-mono text-sm text-mm-red",children:h(P)}),a.jsx("td",{className:`py-4 px-4 text-right font-mono text-sm font-bold ${_>=0?"text-mm-green":"text-mm-red"}`,children:h(_)}),a.jsx("td",{className:"py-4 px-4 text-center",children:a.jsx("button",{onClick:()=>j(w._id),className:"text-mm-cyan hover:text-mm-text transition-colors",children:C?a.jsx(Py,{size:20}):a.jsx(Ui,{size:20})})})]}),C&&a.jsx("tr",{className:"bg-mm-gray border-b border-mm-border",children:a.jsx("td",{colSpan:"7",className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 font-mono text-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-cyan uppercase mb-3",children:""}),a.jsx("div",{className:"space-y-2",children:((R=w.items)==null?void 0:R.map((Z,F)=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:Z.name||Z.sku}),a.jsxs("span",{children:[h(Z.price),"  ",Z.quantity]})]},F)))||a.jsx("p",{className:"text-mm-text-tertiary",children:" "})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-red uppercase mb-3",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" "}),a.jsx("span",{children:h((X=($=w.breakdown)==null?void 0:$.commission)==null?void 0:X.total)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:h((Q=(T=w.breakdown)==null?void 0:T.logistics)==null?void 0:Q.total)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:h((D=(ee=w.breakdown)==null?void 0:ee.services)==null?void 0:D.total)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:h((ie=(q=w.breakdown)==null?void 0:q.penalties)==null?void 0:ie.total)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-mm-red",children:[a.jsx("span",{children:""}),a.jsx("span",{children:h(P)})]})]})]})]})})})]},w._id)})})]})}),a.jsxs("div",{className:"p-4 border-t border-mm-border flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-mm-text-secondary font-mono",children:[" ",p+1,"-",Math.min(p+m,i),"  ",i]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:N,disabled:p===0,className:"btn-secondary text-sm",children:" "}),a.jsx("button",{onClick:k,disabled:p+m>=i,className:"btn-secondary text-sm",children:" "})]})]})]})]})}function b_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=b_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=b_(e))&&(n&&(n+=" "),n+=t);return n}var $M=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Iy(e){if(typeof e!="string")return!1;var t=$M;return t.includes(e)}var RM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zM=new Set(RM);function j_(e){return typeof e!="string"?!1:zM.has(e)}function w_(e){return typeof e=="string"&&e.startsWith("data-")}function Tr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(j_(r)||w_(r))&&(t[r]=e[r]);return t}function Cs(e){if(e==null)return null;if(f.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Tr(t)}return typeof e=="object"&&!Array.isArray(e)?Tr(e):null}function sr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(j_(r)||w_(r)||Iy(r))&&(t[r]=e[r]);return t}function FM(e){return e==null?null:f.isValidElement(e)?sr(e.props):typeof e=="object"&&!Array.isArray(e)?sr(e):null}var BM=["children","width","height","viewBox","className","style","title","desc"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(null,arguments)}function UM(e,t){if(e==null)return{};var r,n,s=WM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function WM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var My=f.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:l,title:d,desc:c}=e,u=UM(e,BM),m=i||{width:n,height:s,x:0,y:0},p=De("recharts-surface",o);return f.createElement("svg",gx({},sr(u),{className:p,width:n,height:s,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),f.createElement("title",null,d),f.createElement("desc",null,c),r)}),KM=["children","className"];function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(null,arguments)}function HM(e,t){if(e==null)return{};var r,n,s=VM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function VM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var It=f.forwardRef((e,t)=>{var{children:r,className:n}=e,s=HM(e,KM),i=De("recharts-layer",n);return f.createElement("g",vx({className:i},sr(s),{ref:t}),r)}),N_=f.createContext(null),qM=()=>f.useContext(N_);function Ue(e){return function(){return e}}const k_=Math.cos,Fd=Math.sin,yn=Math.sqrt,Bd=Math.PI,rm=2*Bd,bx=Math.PI,jx=2*bx,as=1e-6,YM=jx-as;function __(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function GM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return __;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class XM{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?__:GM(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,d=n-t,c=s-r,u=o-t,m=l-r,p=u*u+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>as)if(!(Math.abs(m*d-c*u)>as)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-o,y=s-l,g=d*d+c*c,v=x*x+y*y,h=Math.sqrt(g),b=Math.sqrt(p),j=i*Math.tan((bx-Math.acos((g+p-v)/(2*h*b)))/2),k=j/b,N=j/h;Math.abs(k-1)>as&&this._append`L${t+k*u},${r+k*m}`,this._append`A${i},${i},0,0,${+(m*x>u*y)},${this._x1=t+N*d},${this._y1=r+N*c}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),d=n*Math.sin(s),c=t+l,u=r+d,m=1^o,p=o?s-i:i-s;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>as||Math.abs(this._y1-u)>as)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%jx+jx),p>YM?this._append`A${n},${n},0,1,${m},${t-l},${r-d}A${n},${n},0,1,${m},${this._x1=c},${this._y1=u}`:p>as&&this._append`A${n},${n},0,${+(p>=bx)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Ly(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new XM(t)}function $y(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function S_(e){this._context=e}S_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function nm(e){return new S_(e)}function C_(e){return e[0]}function P_(e){return e[1]}function E_(e,t){var r=Ue(!0),n=null,s=nm,i=null,o=Ly(l);e=typeof e=="function"?e:e===void 0?C_:Ue(e),t=typeof t=="function"?t:t===void 0?P_:Ue(t);function l(d){var c,u=(d=$y(d)).length,m,p=!1,x;for(n==null&&(i=s(x=o())),c=0;c<=u;++c)!(c<u&&r(m=d[c],c,d))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(m,c,d),+t(m,c,d));if(x)return i=null,x+""||null}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ue(+d),l):e},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ue(+d),l):t},l.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Ue(!!d),l):r},l.curve=function(d){return arguments.length?(s=d,n!=null&&(i=s(n)),l):s},l.context=function(d){return arguments.length?(d==null?n=i=null:i=s(n=d),l):n},l}function Sc(e,t,r){var n=null,s=Ue(!0),i=null,o=nm,l=null,d=Ly(c);e=typeof e=="function"?e:e===void 0?C_:Ue(+e),t=typeof t=="function"?t:Ue(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?P_:Ue(+r);function c(m){var p,x,y,g=(m=$y(m)).length,v,h=!1,b,j=new Array(g),k=new Array(g);for(i==null&&(l=o(b=d())),p=0;p<=g;++p){if(!(p<g&&s(v=m[p],p,m))===h)if(h=!h)x=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=p-1;y>=x;--y)l.point(j[y],k[y]);l.lineEnd(),l.areaEnd()}h&&(j[p]=+e(v,p,m),k[p]=+t(v,p,m),l.point(n?+n(v,p,m):j[p],r?+r(v,p,m):k[p]))}if(b)return l=null,b+""||null}function u(){return E_().defined(s).curve(o).context(i)}return c.x=function(m){return arguments.length?(e=typeof m=="function"?m:Ue(+m),n=null,c):e},c.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Ue(+m),c):e},c.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ue(+m),c):n},c.y=function(m){return arguments.length?(t=typeof m=="function"?m:Ue(+m),r=null,c):t},c.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Ue(+m),c):t},c.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ue(+m),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(m){return arguments.length?(s=typeof m=="function"?m:Ue(!!m),c):s},c.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),c):o},c.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),c):i},c}class O_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function QM(e){return new O_(e,!0)}function ZM(e){return new O_(e,!1)}const Ry={draw(e,t){const r=yn(t/Bd);e.moveTo(r,0),e.arc(0,0,r,0,rm)}},JM={draw(e,t){const r=yn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},A_=yn(1/3),eL=A_*2,tL={draw(e,t){const r=yn(t/eL),n=r*A_;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},rL={draw(e,t){const r=yn(t),n=-r/2;e.rect(n,n,r,r)}},nL=.8908130915292852,T_=Fd(Bd/10)/Fd(7*Bd/10),aL=Fd(rm/10)*T_,sL=-k_(rm/10)*T_,iL={draw(e,t){const r=yn(t*nL),n=aL*r,s=sL*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=rm*i/5,l=k_(o),d=Fd(o);e.lineTo(d*r,-l*r),e.lineTo(l*n-d*s,d*n+l*s)}e.closePath()}},zf=yn(3),oL={draw(e,t){const r=-yn(t/(zf*3));e.moveTo(0,r*2),e.lineTo(-zf*r,-r),e.lineTo(zf*r,-r),e.closePath()}},$r=-.5,Rr=yn(3)/2,wx=1/yn(12),lL=(wx/2+1)*3,cL={draw(e,t){const r=yn(t/lL),n=r/2,s=r*wx,i=n,o=r*wx+r,l=-i,d=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,d),e.lineTo($r*n-Rr*s,Rr*n+$r*s),e.lineTo($r*i-Rr*o,Rr*i+$r*o),e.lineTo($r*l-Rr*d,Rr*l+$r*d),e.lineTo($r*n+Rr*s,$r*s-Rr*n),e.lineTo($r*i+Rr*o,$r*o-Rr*i),e.lineTo($r*l+Rr*d,$r*d-Rr*l),e.closePath()}};function dL(e,t){let r=null,n=Ly(s);e=typeof e=="function"?e:Ue(e||Ry),t=typeof t=="function"?t:Ue(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ue(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ue(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Ud(){}function Wd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function D_(e){this._context=e}D_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uL(e){return new D_(e)}function I_(e){this._context=e}I_.prototype={areaStart:Ud,areaEnd:Ud,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mL(e){return new I_(e)}function M_(e){this._context=e}M_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Wd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fL(e){return new M_(e)}function L_(e){this._context=e}L_.prototype={areaStart:Ud,areaEnd:Ud,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function pL(e){return new L_(e)}function K0(e){return e<0?-1:1}function H0(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(K0(i)+K0(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function V0(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ff(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Kd(e){this._context=e}Kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ff(this,this._t0,V0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ff(this,V0(this,r=H0(this,e,t)),r);break;default:Ff(this,this._t0,r=H0(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $_(e){this._context=new R_(e)}($_.prototype=Object.create(Kd.prototype)).point=function(e,t){Kd.prototype.point.call(this,t,e)};function R_(e){this._context=e}R_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function xL(e){return new Kd(e)}function hL(e){return new $_(e)}function z_(e){this._context=e}z_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=q0(e),s=q0(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function q0(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function yL(e){return new z_(e)}function am(e,t){this._context=e,this._t=t}am.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function gL(e){return new am(e,.5)}function vL(e){return new am(e,0)}function bL(e){return new am(e,1)}function _i(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Nx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function jL(e,t){return e[t]}function wL(e){const t=[];return t.key=e,t}function NL(){var e=Ue([]),t=Nx,r=_i,n=jL;function s(i){var o=Array.from(e.apply(this,arguments),wL),l,d=o.length,c=-1,u;for(const m of i)for(l=0,++c;l<d;++l)(o[l][c]=[0,+n(m,o[l].key,c,i)]).data=m;for(l=0,u=$y(t(o));l<d;++l)o[u[l]].index=l;return r(o,u),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ue(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ue(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Nx:typeof i=="function"?i:Ue(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??_i,s):r},s}function kL(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}_i(e,t)}}function _L(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}_i(e,t)}}function SL(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,d=0,c=0;l<o;++l){for(var u=e[t[l]],m=u[n][1]||0,p=u[n-1][1]||0,x=(m-p)/2,y=0;y<l;++y){var g=e[t[y]],v=g[n][1]||0,h=g[n-1][1]||0;x+=v-h}d+=m,c+=x*m}s[n-1][1]+=s[n-1][0]=r,d&&(r-=c/d)}s[n-1][1]+=s[n-1][0]=r,_i(e,t)}}var sm={},F_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(F_);var zy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(zy);var im={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(im);var om={},B_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(B_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B_,r=im;function n(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const i=[],o=s.length;if(o===0)return i;let l=0,d="",c="",u=!1;for(s.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const m=s[l];c?m==="\\"&&l+1<o?(l++,d+=s[l]):m===c?c="":d+=m:u?m==='"'||m==="'"?c=m:m==="]"?(u=!1,i.push(d),d=""):d+=m:m==="["?(u=!0,d&&(i.push(d),d="")):m==="."?d&&(i.push(d),d=""):d+=m,l++}return d&&i.push(d),i}e.toPath=n})(om);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F_,r=zy,n=im,s=om;function i(l,d,c){if(l==null)return c;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return c;const u=l[d];return u===void 0?r.isDeepKey(d)?i(l,s.toPath(d),c):c:u}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const u=l[d];return u===void 0?c:u}default:{if(Array.isArray(d))return o(l,d,c);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return c;const u=l[d];return u===void 0?c:u}}}function o(l,d,c){if(d.length===0)return c;let u=l;for(let m=0;m<d.length;m++){if(u==null||t.isUnsafeProperty(d[m]))return c;u=u[d[m]]}return u===void 0?c:u}e.get=i})(sm);var CL=sm.get;const Ps=An(CL);var Tt=e=>e===0?0:e>0?1:-1,fn=e=>typeof e=="number"&&e!=+e,Zn=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,xe=e=>(typeof e=="number"||e instanceof Number)&&!fn(e),Pn=e=>xe(e)||typeof e=="string",PL=0,nl=e=>{var t=++PL;return"".concat(e||"").concat(t)},Qt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(t)&&typeof t!="string")return n;var i;if(Zn(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return fn(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},U_=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ge(e,t,r){return xe(e)&&xe(t)?e+r*(t-e):t}function W_(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ps(n,t))===r)}var Ze=e=>e===null||typeof e>"u",El=e=>Ze(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function EL(e){return e!=null}function Ol(){}var OL=["type","size","sizeType"];function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kx.apply(null,arguments)}function Y0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function G0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y0(Object(r),!0).forEach(function(n){AL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AL(e,t,r){return(t=TL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TL(e){var t=DL(e,"string");return typeof t=="symbol"?t:t+""}function DL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IL(e,t){if(e==null)return{};var r,n,s=ML(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ML(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var K_={symbolCircle:Ry,symbolCross:JM,symbolDiamond:tL,symbolSquare:rL,symbolStar:iL,symbolTriangle:oL,symbolWye:cL},LL=Math.PI/180,$L=e=>{var t="symbol".concat(El(e));return K_[t]||Ry},RL=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*LL;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zL=(e,t)=>{K_["symbol".concat(El(e))]=t},Fy=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=IL(e,OL),i=G0(G0({},s),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var p=$L(o),x=dL().type(p).size(RL(r,n,o)),y=x();if(y!==null)return y},{className:d,cx:c,cy:u}=i,m=sr(i);return xe(c)&&xe(u)&&xe(r)?f.createElement("path",kx({},m,{className:De("recharts-symbols",d),transform:"translate(".concat(c,", ").concat(u,")"),d:l()})):null};Fy.registerSymbol=zL;var H_=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,By=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(f.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{Iy(s)&&(n[s]=i=>r[s](r,i))}),n},FL=(e,t,r)=>n=>(e(t,r,n),null),Al=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];Iy(s)&&typeof i=="function"&&(n||(n={}),n[s]=FL(i,t,r))}),n};function X0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function BL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X0(Object(r),!0).forEach(function(n){UL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UL(e,t,r){return(t=WL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WL(e){var t=KL(e,"string");return typeof t=="symbol"?t:t+""}function KL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yt(e,t){var r=BL({},e),n=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hd.apply(null,arguments)}function Q0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q0(Object(r),!0).forEach(function(n){VL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VL(e,t,r){return(t=qL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qL(e){var t=YL(e,"string");return typeof t=="symbol"?t:t+""}function YL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fr=32,GL={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function XL(e){var{data:t,iconType:r,inactiveColor:n}=e,s=Fr/2,i=Fr/6,o=Fr/3,l=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline"){var c;return f.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:s,x2:Fr,y2:s,className:"recharts-legend-icon"})}if(d==="line")return f.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Fr,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(d==="rect")return f.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Fr/8,"h").concat(Fr,"v").concat(Fr*3/4,"h").concat(-Fr,"z"),className:"recharts-legend-icon"});if(f.isValidElement(t.legendIcon)){var u=HL({},t);return delete u.legendIcon,f.cloneElement(t.legendIcon,u)}return f.createElement(Fy,{fill:l,cx:s,cy:s,size:Fr,sizeType:"diameter",type:d})}function QL(e){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:i,iconType:o}=e,l={x:0,y:0,width:Fr,height:Fr},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,m)=>{var p=u.formatter||s,x=De({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:u.inactive});if(u.type==="none")return null;var y=u.inactive?i:u.color,g=p?p(u.value,u,m):u.value;return f.createElement("li",Hd({className:x,style:d,key:"legend-item-".concat(m)},Al(e,u,m)),f.createElement(My,{width:r,height:r,viewBox:l,style:c,"aria-label":"".concat(g," legend icon")},f.createElement(XL,{data:u,iconType:o,inactiveColor:i})),f.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g))})}var ZL=e=>{var t=yt(e,GL),{payload:r,layout:n,align:s}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?s:"left"};return f.createElement("ul",{className:"recharts-default-legend",style:i},f.createElement(QL,Hd({},t,{payload:r})))},V_={},q_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t})(q_);var Uy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Uy);var Y_={},lm={},G_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(G_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G_;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(lm);var X_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(X_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lm,r=X_;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(Y_);var Q_={},Z_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sm;function r(n){return function(s){return t.get(s,n)}}e.property=r})(Z_);var J_={},Wy={},eS={},Ky={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Ky);var Hy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Hy);var Vy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Vy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky,r=Hy,n=Vy;function s(u,m,p){return typeof p!="function"?s(u,m,()=>{}):i(u,m,function x(y,g,v,h,b,j){const k=p(y,g,v,h,b,j);return k!==void 0?!!k:i(y,g,x,j)},new Map)}function i(u,m,p,x){if(m===u)return!0;switch(typeof m){case"object":return o(u,m,p,x);case"function":return Object.keys(m).length>0?i(u,{...m},p,x):n.eq(u,m);default:return t.isObject(u)?typeof m=="string"?m==="":!0:n.eq(u,m)}}function o(u,m,p,x){if(m==null)return!0;if(Array.isArray(m))return d(u,m,p,x);if(m instanceof Map)return l(u,m,p,x);if(m instanceof Set)return c(u,m,p,x);const y=Object.keys(m);if(u==null)return y.length===0;if(y.length===0)return!0;if(x!=null&&x.has(m))return x.get(m)===u;x==null||x.set(m,u);try{for(let g=0;g<y.length;g++){const v=y[g];if(!r.isPrimitive(u)&&!(v in u)||m[v]===void 0&&u[v]!==void 0||m[v]===null&&u[v]!==null||!p(u[v],m[v],v,u,m,x))return!1}return!0}finally{x==null||x.delete(m)}}function l(u,m,p,x){if(m.size===0)return!0;if(!(u instanceof Map))return!1;for(const[y,g]of m.entries()){const v=u.get(y);if(p(v,g,y,u,m,x)===!1)return!1}return!0}function d(u,m,p,x){if(m.length===0)return!0;if(!Array.isArray(u))return!1;const y=new Set;for(let g=0;g<m.length;g++){const v=m[g];let h=!1;for(let b=0;b<u.length;b++){if(y.has(b))continue;const j=u[b];let k=!1;if(p(j,v,g,u,m,x)&&(k=!0),k){y.add(b),h=!0;break}}if(!h)return!1}return!0}function c(u,m,p,x){return m.size===0?!0:u instanceof Set?d([...u],[...m],p,x):!1}e.isMatchWith=s,e.isSetMatch=c})(eS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eS;function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})(Wy);var tS={},qy={},rS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(rS);var Yy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Yy);var Gy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",d="[object Map]",c="[object Set]",u="[object Array]",m="[object Function]",p="[object ArrayBuffer]",x="[object Object]",y="[object Error]",g="[object DataView]",v="[object Uint8Array]",h="[object Uint8ClampedArray]",b="[object Uint16Array]",j="[object Uint32Array]",k="[object BigUint64Array]",N="[object Int8Array]",w="[object Int16Array]",P="[object Int32Array]",_="[object BigInt64Array]",C="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=u,e.bigInt64ArrayTag=_,e.bigUint64ArrayTag=k,e.booleanTag=s,e.dataViewTag=g,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=C,e.float64ArrayTag=O,e.functionTag=m,e.int16ArrayTag=w,e.int32ArrayTag=P,e.int8ArrayTag=N,e.mapTag=d,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=j,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=h})(Gy);var nS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(nS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rS,r=Yy,n=Gy,s=Hy,i=nS;function o(u,m){return l(u,void 0,u,new Map,m)}function l(u,m,p,x=new Map,y=void 0){const g=y==null?void 0:y(u,m,p,x);if(g!==void 0)return g;if(s.isPrimitive(u))return u;if(x.has(u))return x.get(u);if(Array.isArray(u)){const v=new Array(u.length);x.set(u,v);for(let h=0;h<u.length;h++)v[h]=l(u[h],h,p,x,y);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;x.set(u,v);for(const[h,b]of u)v.set(h,l(b,h,p,x,y));return v}if(u instanceof Set){const v=new Set;x.set(u,v);for(const h of u)v.add(l(h,void 0,p,x,y));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);x.set(u,v);for(let h=0;h<u.length;h++)v[h]=l(u[h],h,p,x,y);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return x.set(u,v),d(v,u,p,x,y),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return x.set(u,v),d(v,u,p,x,y),v}if(typeof Blob<"u"&&u instanceof Blob){const v=new Blob([u],{type:u.type});return x.set(u,v),d(v,u,p,x,y),v}if(u instanceof Error){const v=new u.constructor;return x.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,d(v,u,p,x,y),v}if(u instanceof Boolean){const v=new Boolean(u.valueOf());return x.set(u,v),d(v,u,p,x,y),v}if(u instanceof Number){const v=new Number(u.valueOf());return x.set(u,v),d(v,u,p,x,y),v}if(u instanceof String){const v=new String(u.valueOf());return x.set(u,v),d(v,u,p,x,y),v}if(typeof u=="object"&&c(u)){const v=Object.create(Object.getPrototypeOf(u));return x.set(u,v),d(v,u,p,x,y),v}return u}function d(u,m,p=u,x,y){const g=[...Object.keys(m),...t.getSymbols(m)];for(let v=0;v<g.length;v++){const h=g[v],b=Object.getOwnPropertyDescriptor(u,h);(b==null||b.writable)&&(u[h]=l(m[h],h,p,x,y))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=d})(qy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qy;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(tS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wy,r=tS;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(J_);var aS={},sS={},iS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qy,r=Gy;function n(s,i){return t.cloneDeepWith(s,(o,l,d,c)=>{const u=i==null?void 0:i(o,l,d,c);if(u!==void 0)return u;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(m,s),m}case r.argumentsTag:{const m={};return t.copyProperties(m,s),m.length=s.length,m[Symbol.iterator]=s[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(iS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iS;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(sS);var oS={},Xy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Xy);var lS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yy;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(lS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zy,r=Xy,n=lS,s=om;function i(o,l){let d;if(Array.isArray(l)?d=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?d=s.toPath(l):d=[l],d.length===0)return!1;let c=o;for(let u=0;u<d.length;u++){const m=d[u];if((c==null||!Object.hasOwn(c,m))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(m)&&m<c.length))return!1;c=c[m]}return!0}e.has=i})(oS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wy,r=im,n=sS,s=sm,i=oS;function o(l,d){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return d=n.cloneDeep(d),function(c){const u=s.get(c,l);return u===void 0?i.has(c,l):d===void 0?u===void 0:t.isMatch(u,d)}}e.matchesProperty=o})(aS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uy,r=Z_,n=J_,s=aS;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(Q_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q_,r=Uy,n=Y_,s=Q_;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i})(V_);var JL=V_.uniqBy;const Z0=An(JL);function cS(e,t,r){return t===!0?Z0(e,r):typeof t=="function"?Z0(e,t):e}var dS={exports:{}},uS={},mS={exports:{}},fS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=f;function e$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var t$=typeof Object.is=="function"?Object.is:e$,r$=Si.useState,n$=Si.useEffect,a$=Si.useLayoutEffect,s$=Si.useDebugValue;function i$(e,t){var r=t(),n=r$({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return a$(function(){s.value=r,s.getSnapshot=t,Bf(s)&&i({inst:s})},[e,r,t]),n$(function(){return Bf(s)&&i({inst:s}),e(function(){Bf(s)&&i({inst:s})})},[e]),s$(r),r}function Bf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!t$(e,r)}catch{return!0}}function o$(e,t){return t()}var l$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o$:i$;fS.useSyncExternalStore=Si.useSyncExternalStore!==void 0?Si.useSyncExternalStore:l$;mS.exports=fS;var c$=mS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm=f,d$=c$;function u$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var m$=typeof Object.is=="function"?Object.is:u$,f$=d$.useSyncExternalStore,p$=cm.useRef,x$=cm.useEffect,h$=cm.useMemo,y$=cm.useDebugValue;uS.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=p$(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=h$(function(){function d(x){if(!c){if(c=!0,u=x,x=n(x),s!==void 0&&o.hasValue){var y=o.value;if(s(y,x))return m=y}return m=x}if(y=m,m$(u,x))return y;var g=n(x);return s!==void 0&&s(y,g)?(u=x,y):(u=x,m=g)}var c=!1,u,m,p=r===void 0?null:r;return[function(){return d(t())},p===null?void 0:function(){return d(p())}]},[t,r,n,s]);var l=f$(e,i[0],i[1]);return x$(function(){o.hasValue=!0,o.value=l},[l]),y$(l),l};dS.exports=uS;var g$=dS.exports,Qy=f.createContext(null),v$=e=>e,Ke=()=>{var e=f.useContext(Qy);return e?e.store.dispatch:v$},id=()=>{},b$=()=>id,j$=(e,t)=>e===t;function me(e){var t=f.useContext(Qy);return g$.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:b$,t?t.store.getState:id,t?t.store.getState:id,t?e:id,j$)}function w$(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function N$(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function k$(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var J0=e=>Array.isArray(e)?e:[e];function _$(e){const t=Array.isArray(e[0])?e[0]:e;return k$(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function S$(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var C$=class{constructor(e){this.value=e}deref(){return this.value}},P$=typeof WeakRef<"u"?WeakRef:C$,E$=0,ej=1;function Cc(){return{s:E$,v:void 0,o:null,p:null}}function pS(e,t={}){let r=Cc();const{resultEqualityCheck:n}=t;let s,i=0;function o(){var m;let l=r;const{length:d}=arguments;for(let p=0,x=d;p<x;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const v=g.get(y);v===void 0?(l=Cc(),g.set(y,l)):l=v}else{let g=l.p;g===null&&(l.p=g=new Map);const v=g.get(y);v===void 0?(l=Cc(),g.set(y,l)):l=v}}const c=l;let u;if(l.s===ej)u=l.v;else if(u=e.apply(null,arguments),i++,n){const p=((m=s==null?void 0:s.deref)==null?void 0:m.call(s))??s;p!=null&&n(p,u)&&(u=p,i!==0&&i--),s=typeof u=="object"&&u!==null||typeof u=="function"?new P$(u):u}return c.s=ej,c.v=u,u}return o.clearCache=()=>{r=Cc(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function O$(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,l,d={},c=s.pop();typeof c=="object"&&(d=c,c=s.pop()),w$(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...d},{memoize:m,memoizeOptions:p=[],argsMemoize:x=pS,argsMemoizeOptions:y=[]}=u,g=J0(p),v=J0(y),h=_$(s),b=m(function(){return i++,c.apply(null,arguments)},...g),j=x(function(){o++;const N=S$(h,arguments);return l=b.apply(null,N),l},...v);return Object.assign(j,{resultFunc:c,memoizedResultFunc:b,dependencies:h,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var K=O$(pS),A$=Object.assign((e,t=K)=>{N$(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,d)=>(o[r[d]]=l,o),{}))},{withTypes:()=>A$}),xS={},hS={},yS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),l=t(s);if(o===l&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(yS);var gS={},Zy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Zy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zy,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(gS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yS,r=gS,n=om;function s(i,o,l,d){if(i==null)return[];l=d?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(x=>String(x));const c=(x,y)=>{let g=x;for(let v=0;v<y.length&&g!=null;++v)g=g[y[v]];return g},u=(x,y)=>y==null||x==null?y:typeof x=="object"&&"key"in x?Object.hasOwn(y,x.key)?y[x.key]:c(y,x.path):typeof x=="function"?x(y):Array.isArray(x)?c(y,x):typeof y=="object"?y[x]:y,m=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return i.map(x=>({original:x,criteria:m.map(y=>u(y,x))})).slice().sort((x,y)=>{for(let g=0;g<m.length;g++){const v=t.compareValues(x.criteria[g],y.criteria[g],l[g]);if(v!==0)return v}return 0}).map(x=>x.original)}e.orderBy=s})(hS);var vS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(l,d)=>{for(let c=0;c<l.length;c++){const u=l[c];Array.isArray(u)&&d<i?o(u,d+1):s.push(u)}};return o(r,0),s}e.flatten=t})(vS);var Jy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xy,r=lm,n=Ky,s=Vy;function i(o,l,d){return n.isObject(d)&&(typeof l=="number"&&r.isArrayLike(d)&&t.isIndex(l)&&l<d.length||typeof l=="string"&&l in d)?s.eq(d[l],o):!1}e.isIterateeCall=i})(Jy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hS,r=vS,n=Jy;function s(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(xS);var T$=xS.sortBy;const dm=An(T$);var bS=e=>e.legend.settings,D$=e=>e.legend.size,I$=e=>e.legend.payload,M$=K([I$,bS],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?dm(n,r):n});function L$(){return me(M$)}var Pc=1;function jS(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=f.useState({height:0,left:0,top:0,width:0}),n=f.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Pc||Math.abs(o.left-t.left)>Pc||Math.abs(o.top-t.top)>Pc||Math.abs(o.width-t.width)>Pc)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Rt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $$=typeof Symbol=="function"&&Symbol.observable||"@@observable",tj=$$,Uf=()=>Math.random().toString(36).substring(7).split("").join("."),R$={INIT:`@@redux/INIT${Uf()}`,REPLACE:`@@redux/REPLACE${Uf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Uf()}`},Vd=R$;function eg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function wS(e,t,r){if(typeof e!="function")throw new Error(Rt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Rt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Rt(1));return r(wS)(e,t)}let n=e,s=t,i=new Map,o=i,l=0,d=!1;function c(){o===i&&(o=new Map,i.forEach((v,h)=>{o.set(h,v)}))}function u(){if(d)throw new Error(Rt(3));return s}function m(v){if(typeof v!="function")throw new Error(Rt(4));if(d)throw new Error(Rt(5));let h=!0;c();const b=l++;return o.set(b,v),function(){if(h){if(d)throw new Error(Rt(6));h=!1,c(),o.delete(b),i=null}}}function p(v){if(!eg(v))throw new Error(Rt(7));if(typeof v.type>"u")throw new Error(Rt(8));if(typeof v.type!="string")throw new Error(Rt(17));if(d)throw new Error(Rt(9));try{d=!0,s=n(s,v)}finally{d=!1}return(i=o).forEach(b=>{b()}),v}function x(v){if(typeof v!="function")throw new Error(Rt(10));n=v,p({type:Vd.REPLACE})}function y(){const v=m;return{subscribe(h){if(typeof h!="object"||h===null)throw new Error(Rt(11));function b(){const k=h;k.next&&k.next(u())}return b(),{unsubscribe:v(b)}},[tj](){return this}}}return p({type:Vd.INIT}),{dispatch:p,subscribe:m,getState:u,replaceReducer:x,[tj]:y}}function z$(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Vd.INIT})>"u")throw new Error(Rt(12));if(typeof r(void 0,{type:Vd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rt(13))})}function NS(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{z$(r)}catch(i){s=i}return function(o={},l){if(s)throw s;let d=!1;const c={};for(let u=0;u<n.length;u++){const m=n[u],p=r[m],x=o[m],y=p(x,l);if(typeof y>"u")throw l&&l.type,new Error(Rt(14));c[m]=y,d=d||y!==x}return d=d||n.length!==Object.keys(o).length,d?c:o}}function qd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function F$(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(Rt(15))};const o={getState:s.getState,dispatch:(d,...c)=>i(d,...c)},l=e.map(d=>d(o));return i=qd(...l)(s.dispatch),{...s,dispatch:i}}}function kS(e){return eg(e)&&"type"in e&&typeof e.type=="string"}var _S=Symbol.for("immer-nothing"),rj=Symbol.for("immer-draftable"),ir=Symbol.for("immer-state");function sn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cr=Object,Ci=Cr.getPrototypeOf,Yd="constructor",um="prototype",_x="configurable",Gd="enumerable",od="writable",al="value",Jn=e=>!!e&&!!e[ir];function pn(e){var t;return e?SS(e)||mm(e)||!!e[rj]||!!((t=e[Yd])!=null&&t[rj])||fm(e)||pm(e):!1}var B$=Cr[um][Yd].toString(),nj=new WeakMap;function SS(e){if(!e||!tg(e))return!1;const t=Ci(e);if(t===null||t===Cr[um])return!0;const r=Cr.hasOwnProperty.call(t,Yd)&&t[Yd];if(r===Object)return!0;if(!Hs(r))return!1;let n=nj.get(r);return n===void 0&&(n=Function.toString.call(r),nj.set(r,n)),n===B$}function Tl(e,t,r=!0){Dl(e)===0?(r?Reflect.ownKeys(e):Cr.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function Dl(e){const t=e[ir];return t?t.type_:mm(e)?1:fm(e)?2:pm(e)?3:0}var aj=(e,t,r=Dl(e))=>r===2?e.has(t):Cr[um].hasOwnProperty.call(e,t),Sx=(e,t,r=Dl(e))=>r===2?e.get(t):e[t],Xd=(e,t,r,n=Dl(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function U$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var mm=Array.isArray,fm=e=>e instanceof Map,pm=e=>e instanceof Set,tg=e=>typeof e=="object",Hs=e=>typeof e=="function",Wf=e=>typeof e=="boolean",Mn=e=>e.copy_||e.base_,rg=e=>e.modified_?e.copy_:e.base_;function Cx(e,t){if(fm(e))return new Map(e);if(pm(e))return new Set(e);if(mm(e))return Array[um].slice.call(e);const r=SS(e);if(t===!0||t==="class_only"&&!r){const n=Cr.getOwnPropertyDescriptors(e);delete n[ir];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l[od]===!1&&(l[od]=!0,l[_x]=!0),(l.get||l.set)&&(n[o]={[_x]:!0,[od]:!0,[Gd]:l[Gd],[al]:e[o]})}return Cr.create(Ci(e),n)}else{const n=Ci(e);if(n!==null&&r)return{...e};const s=Cr.create(n);return Cr.assign(s,e)}}function ng(e,t=!1){return xm(e)||Jn(e)||!pn(e)||(Dl(e)>1&&Cr.defineProperties(e,{set:Ec,add:Ec,clear:Ec,delete:Ec}),Cr.freeze(e),t&&Tl(e,(r,n)=>{ng(n,!0)},!1)),e}function W$(){sn(2)}var Ec={[al]:W$};function xm(e){return e===null||!tg(e)?!0:Cr.isFrozen(e)}var Qd="MapSet",Px="Patches",CS={};function Pi(e){const t=CS[e];return t||sn(0,e),t}var K$=e=>!!CS[e],sl,PS=()=>sl,H$=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:K$(Qd)?Pi(Qd):void 0});function sj(e,t){t&&(e.patchPlugin_=Pi(Px),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ex(e){Ox(e),e.drafts_.forEach(V$),e.drafts_=null}function Ox(e){e===sl&&(sl=e.parent_)}var ij=e=>sl=H$(sl,e);function V$(e){const t=e[ir];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function oj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ir].modified_&&(Ex(t),sn(4)),pn(e)&&(e=lj(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[ir].base_,e,t)}else e=lj(t,r);return q$(t,e,!0),Ex(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_S?e:void 0}function lj(e,t){if(xm(t))return t;const r=t[ir];if(!r)return ag(t,e.handledSet_,e);if(!hm(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);AS(r,e)}return r.copy_}function q$(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ng(t,r)}function ES(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var hm=(e,t)=>e.scope_===t,Y$=[];function OS(e,t,r,n){const s=Mn(e),i=e.type_;if(n!==void 0&&Sx(s,n,i)===t){Xd(s,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Tl(s,(d,c)=>{if(Jn(c)){const u=l.get(c)||[];u.push(d),l.set(c,u)}})}const o=e.draftLocations_.get(t)??Y$;for(const l of o)Xd(s,l,r,i)}function G$(e,t,r){e.callbacks_.push(function(s){var l;const i=t;if(!i||!hm(i,s))return;(l=s.mapSetPlugin_)==null||l.fixSetContents(i);const o=rg(i);OS(e,i.draft_??i,o,r),AS(i,s)})}function AS(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:s}=t;if(s){const i=s.getPath(e);i&&s.generatePatches_(e,i,t)}ES(e)}}function X$(e,t,r){const{scope_:n}=e;if(Jn(r)){const s=r[ir];hm(s,n)&&s.callbacks_.push(function(){ld(e);const o=rg(s);OS(e,r,o,t)})}else pn(r)&&e.callbacks_.push(function(){const i=Mn(e);Sx(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&ag(Sx(e.copy_,t,e.type_),n.handledSet_,n)})}function ag(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Jn(e)||t.has(e)||!pn(e)||xm(e)||(t.add(e),Tl(e,(n,s)=>{if(Jn(s)){const i=s[ir];if(hm(i,r)){const o=rg(i);Xd(e,n,o,e.type_),ES(i)}}else pn(s)&&ag(s,t,r)})),e}function Q$(e,t){const r=mm(e),n={type_:r?1:0,scope_:t?t.scope_:PS(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=n,i=sg;r&&(s=[n],i=il);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,[l,n]}var sg={get(e,t){if(t===ir)return e;const r=Mn(e);if(!aj(r,t,e.type_))return Z$(e,r,t);const n=r[t];if(e.finalized_||!pn(n))return n;if(n===Kf(e.base_,t)){ld(e);const s=e.type_===1?+t:t,i=Tx(e.scope_,n,e,s);return e.copy_[s]=i}return n},has(e,t){return t in Mn(e)},ownKeys(e){return Reflect.ownKeys(Mn(e))},set(e,t,r){const n=TS(Mn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Kf(Mn(e),t),i=s==null?void 0:s[ir];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(U$(r,s)&&(r!==void 0||aj(e.base_,t,e.type_)))return!0;ld(e),Ax(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),X$(e,t,r)),!0},deleteProperty(e,t){return ld(e),Kf(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ax(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Mn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[od]:!0,[_x]:e.type_!==1||t!=="length",[Gd]:n[Gd],[al]:r[t]}},defineProperty(){sn(11)},getPrototypeOf(e){return Ci(e.base_)},setPrototypeOf(){sn(12)}},il={};Tl(sg,(e,t)=>{il[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});il.deleteProperty=function(e,t){return il.set.call(this,e,t,void 0)};il.set=function(e,t,r){return sg.set.call(this,e[0],t,r,e[0])};function Kf(e,t){const r=e[ir];return(r?Mn(r):e)[t]}function Z$(e,t,r){var s;const n=TS(t,r);return n?al in n?n[al]:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function TS(e,t){if(!(t in e))return;let r=Ci(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ci(r)}}function Ax(e){e.modified_||(e.modified_=!0,e.parent_&&Ax(e.parent_))}function ld(e){e.copy_||(e.assigned_=new Map,e.copy_=Cx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var J$=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,s)=>{if(Hs(r)&&!Hs(n)){const o=n;n=r;const l=this;return function(c=o,...u){return l.produce(c,m=>n.call(this,m,...u))}}Hs(n)||sn(6),s!==void 0&&!Hs(s)&&sn(7);let i;if(pn(r)){const o=ij(this),l=Tx(o,r,void 0);let d=!0;try{i=n(l),d=!1}finally{d?Ex(o):Ox(o)}return sj(o,s),oj(i,o)}else if(!r||!tg(r)){if(i=n(r),i===void 0&&(i=r),i===_S&&(i=void 0),this.autoFreeze_&&ng(i,!0),s){const o=[],l=[];Pi(Px).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:l}),s(o,l)}return i}else sn(1,r)},this.produceWithPatches=(r,n)=>{if(Hs(r))return(l,...d)=>this.produceWithPatches(l,c=>r(c,...d));let s,i;return[this.produce(r,n,(l,d)=>{s=l,i=d}),s,i]},Wf(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Wf(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Wf(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){pn(t)||sn(8),Jn(t)&&(t=un(t));const r=ij(this),n=Tx(r,t,void 0);return n[ir].isManual_=!0,Ox(r),n}finishDraft(t,r){const n=t&&t[ir];(!n||!n.isManual_)&&sn(9);const{scope_:s}=n;return sj(s,r),oj(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const s=Pi(Px).applyPatches_;return Jn(t)?s(t,r):this.produce(t,i=>s(i,r))}};function Tx(e,t,r,n){const[s,i]=fm(t)?Pi(Qd).proxyMap_(t,r):pm(t)?Pi(Qd).proxySet_(t,r):Q$(t,r);return((r==null?void 0:r.scope_)??PS()).drafts_.push(s),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?G$(r,i,n):i.callbacks_.push(function(d){var u;(u=d.mapSetPlugin_)==null||u.fixSetContents(i);const{patchPlugin_:c}=d;i.modified_&&c&&c.generatePatches_(i,[],d)}),s}function un(e){return Jn(e)||sn(10,e),DS(e)}function DS(e){if(!pn(e)||xm(e))return e;const t=e[ir];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Cx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Cx(e,!0);return Tl(r,(s,i)=>{Xd(r,s,DS(i))},n),t&&(t.finalized_=!1),r}var e5=new J$,IS=e5.produce;function MS(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var t5=MS(),r5=MS,n5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qd:qd.apply(null,arguments)};function Yr(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Er(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>kS(n)&&n.type===e,r}var LS=class ko extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ko.prototype)}static get[Symbol.species](){return ko}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ko(...t[0].concat(this)):new ko(...t.concat(this))}};function cj(e){return pn(e)?IS(e,()=>{}):e}function Oc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function a5(e){return typeof e=="boolean"}var s5=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new LS;return r&&(a5(r)?o.push(t5):o.push(r5(r.extraArgument))),o},$S="RTK_autoBatch",Ye=()=>e=>({payload:e,meta:{[$S]:!0}}),dj=e=>t=>{setTimeout(t,e)},RS=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const l=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dj(10):e.type==="callback"?e.queueNotification:dj(e.timeout),c=()=>{o=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const m=()=>s&&u(),p=n.subscribe(m);return l.add(u),()=>{p(),l.delete(u)}},dispatch(u){var m;try{return s=!((m=u==null?void 0:u.meta)!=null&&m[$S]),i=!s,i&&(o||(o=!0,d(c))),n.dispatch(u)}finally{s=!0}}})},i5=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new LS(e);return n&&s.push(RS(typeof n=="object"?n:void 0)),s};function o5(e){const t=s5(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(eg(r))l=NS(r);else throw new Error(Er(1));let d;typeof n=="function"?d=n(t):d=t();let c=qd;s&&(c=n5({trace:!1,...typeof s=="object"&&s}));const u=F$(...d),m=i5(u);let p=typeof o=="function"?o(m):m();const x=c(...p);return wS(l,i,x)}function zS(e){const t={},r=[];let n;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Er(28));if(l in t)throw new Error(Er(29));return t[l]=o,s},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function l5(e){return typeof e=="function"}function c5(e,t){let[r,n,s]=zS(t),i;if(l5(e))i=()=>cj(e());else{const l=cj(e);i=()=>l}function o(l=i(),d){let c=[r[d.type],...n.filter(({matcher:u})=>u(d)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[s]),c.reduce((u,m)=>{if(m)if(Jn(u)){const x=m(u,d);return x===void 0?u:x}else{if(pn(u))return IS(u,p=>m(p,d));{const p=m(u,d);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},l)}return o.getInitialState=i,o}var d5="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",u5=(e=21)=>{let t="",r=e;for(;r--;)t+=d5[Math.random()*64|0];return t},m5=Symbol.for("rtk-slice-createasyncthunk");function f5(e,t){return`${e}/${t}`}function p5({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[m5];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(Er(11));const l=(typeof s.reducers=="function"?s.reducers(h5()):s.reducers)||{},d=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(k,N){const w=typeof k=="string"?k:k.type;if(!w)throw new Error(Er(12));if(w in c.sliceCaseReducersByType)throw new Error(Er(13));return c.sliceCaseReducersByType[w]=N,u},addMatcher(k,N){return c.sliceMatchers.push({matcher:k,reducer:N}),u},exposeAction(k,N){return c.actionCreators[k]=N,u},exposeCaseReducer(k,N){return c.sliceCaseReducersByName[k]=N,u}};d.forEach(k=>{const N=l[k],w={reducerName:k,type:f5(i,k),createNotation:typeof s.reducers=="function"};g5(N)?b5(w,N,u,t):y5(w,N,u)});function m(){const[k={},N=[],w=void 0]=typeof s.extraReducers=="function"?zS(s.extraReducers):[s.extraReducers],P={...k,...c.sliceCaseReducersByType};return c5(s.initialState,_=>{for(let C in P)_.addCase(C,P[C]);for(let C of c.sliceMatchers)_.addMatcher(C.matcher,C.reducer);for(let C of N)_.addMatcher(C.matcher,C.reducer);w&&_.addDefaultCase(w)})}const p=k=>k,x=new Map,y=new WeakMap;let g;function v(k,N){return g||(g=m()),g(k,N)}function h(){return g||(g=m()),g.getInitialState()}function b(k,N=!1){function w(_){let C=_[k];return typeof C>"u"&&N&&(C=Oc(y,w,h)),C}function P(_=p){const C=Oc(x,N,()=>new WeakMap);return Oc(C,_,()=>{const O={};for(const[S,E]of Object.entries(s.selectors??{}))O[S]=x5(E,_,()=>Oc(y,_,h),N);return O})}return{reducerPath:k,getSelectors:P,get selectors(){return P(w)},selectSlice:w}}const j={name:i,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:h,...b(o),injectInto(k,{reducerPath:N,...w}={}){const P=N??o;return k.inject({reducerPath:P,reducer:v},w),{...j,...b(P,!0)}}};return j}}function x5(e,t,r,n){function s(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return s.unwrapped=e,s}var vr=p5();function h5(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function y5({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!v5(n))throw new Error(Er(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Yr(e,o):Yr(e))}function g5(e){return e._reducerDefinitionType==="asyncThunk"}function v5(e){return e._reducerDefinitionType==="reducerWithPrepare"}function b5({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Er(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:d,settled:c,options:u}=r,m=s(e,i,u);n.exposeAction(t,m),o&&n.addCase(m.fulfilled,o),l&&n.addCase(m.pending,l),d&&n.addCase(m.rejected,d),c&&n.addMatcher(m.settled,c),n.exposeCaseReducer(t,{fulfilled:o||Ac,pending:l||Ac,rejected:d||Ac,settled:c||Ac})}function Ac(){}var j5="task",FS="listener",BS="completed",ig="cancelled",w5=`task-${ig}`,N5=`task-${BS}`,Dx=`${FS}-${ig}`,k5=`${FS}-${BS}`,ym=class{constructor(e){lf(this,"name","TaskAbortError");lf(this,"message");this.code=e,this.message=`${j5} ${ig} (reason: ${e})`}},og=(e,t)=>{if(typeof e!="function")throw new TypeError(Er(32))},Zd=()=>{},US=(e,t=Zd)=>(e.catch(t),e),WS=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ys=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},gs=e=>{if(e.aborted){const{reason:t}=e;throw new ym(t)}};function KS(e,t){let r=Zd;return new Promise((n,s)=>{const i=()=>s(new ym(e.reason));if(e.aborted){i();return}r=WS(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=Zd})}var _5=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ym?"cancelled":"rejected",error:r}}finally{t==null||t()}},Jd=e=>t=>US(KS(e,t).then(r=>(gs(e),r))),HS=e=>{const t=Jd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:mi}=Object,uj={},gm="listenerMiddleware",S5=(e,t)=>{const r=n=>WS(e,()=>ys(n,e.reason));return(n,s)=>{og(n);const i=new AbortController;r(i);const o=_5(async()=>{gs(e),gs(i.signal);const l=await n({pause:Jd(i.signal),delay:HS(i.signal),signal:i.signal});return gs(i.signal),l},()=>ys(i,N5));return s!=null&&s.autoJoin&&t.push(o.catch(Zd)),{result:Jd(e)(o),cancel(){ys(i,w5)}}}},C5=(e,t)=>{const r=async(n,s)=>{gs(t);let i=()=>{};const l=[new Promise((d,c)=>{let u=e({predicate:n,effect:(m,p)=>{p.unsubscribe(),d([m,p.getState(),p.getOriginalState()])}});i=()=>{u(),c()}})];s!=null&&l.push(new Promise(d=>setTimeout(d,s,null)));try{const d=await KS(t,Promise.race(l));return gs(t),d}finally{i()}};return(n,s)=>US(r(n,s))},VS=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=Yr(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Er(21));return og(i),{predicate:s,type:t,effect:i}},qS=mi(e=>{const{type:t,predicate:r,effect:n}=VS(e);return{id:u5(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Er(22))}}},{withTypes:()=>qS}),mj=(e,t)=>{const{type:r,effect:n,predicate:s}=VS(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},Ix=e=>{e.pending.forEach(t=>{ys(t,Dx)})},P5=(e,t)=>()=>{for(const r of t.keys())Ix(r);e.clear()},fj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},YS=mi(Yr(`${gm}/add`),{withTypes:()=>YS}),E5=Yr(`${gm}/removeAll`),GS=mi(Yr(`${gm}/remove`),{withTypes:()=>GS}),O5=(...e)=>{console.error(`${gm}/error`,...e)},Il=(e={})=>{const t=new Map,r=new Map,n=x=>{const y=r.get(x)??0;r.set(x,y+1)},s=x=>{const y=r.get(x)??1;y===1?r.delete(x):r.set(x,y-1)},{extra:i,onError:o=O5}=e;og(o);const l=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),y=>{x.unsubscribe(),y!=null&&y.cancelActive&&Ix(x)}),d=x=>{const y=mj(t,x)??qS(x);return l(y)};mi(d,{withTypes:()=>d});const c=x=>{const y=mj(t,x);return y&&(y.unsubscribe(),x.cancelActive&&Ix(y)),!!y};mi(c,{withTypes:()=>c});const u=async(x,y,g,v)=>{const h=new AbortController,b=C5(d,h.signal),j=[];try{x.pending.add(h),n(x),await Promise.resolve(x.effect(y,mi({},g,{getOriginalState:v,condition:(k,N)=>b(k,N).then(Boolean),take:b,delay:HS(h.signal),pause:Jd(h.signal),extra:i,signal:h.signal,fork:S5(h.signal,j),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((k,N,w)=>{k!==h&&(ys(k,Dx),w.delete(k))})},cancel:()=>{ys(h,Dx),x.pending.delete(h)},throwIfCancelled:()=>{gs(h.signal)}})))}catch(k){k instanceof ym||fj(o,k,{raisedBy:"effect"})}finally{await Promise.all(j),ys(h,k5),s(x),x.pending.delete(h)}},m=P5(t,r);return{middleware:x=>y=>g=>{if(!kS(g))return y(g);if(YS.match(g))return d(g.payload);if(E5.match(g)){m();return}if(GS.match(g))return c(g.payload);let v=x.getState();const h=()=>{if(v===uj)throw new Error(Er(23));return v};let b;try{if(b=y(g),t.size>0){const j=x.getState(),k=Array.from(t.values());for(const N of k){let w=!1;try{w=N.predicate(g,j,v)}catch(P){w=!1,fj(o,P,{raisedBy:"predicate"})}w&&u(N,g,x,h)}}}finally{v=uj}return b},startListening:d,stopListening:c,clearListeners:m}};function Er(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var A5={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},XS=vr({name:"chartLayout",initialState:A5,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:T5,setLayout:D5,setChartSize:I5,setScale:M5}=XS.actions,L5=XS.reducer;function QS(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){$5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $5(e,t,r){return(t=R5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R5(e){var t=z5(e,"string");return typeof t=="symbol"?t:t+""}function z5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ze(e,t,r){return Ze(e)||Ze(t)?r:Pn(t)?Ps(e,t,r):typeof t=="function"?t(e):r}var F5=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&xe(e[i]))return ai(ai({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&xe(e[o]))return ai(ai({},e),{},{[o]:e[o]+(s||0)})}return e},Qa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ZS=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(r),o},JS=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:l,isCategorical:d,categoricalDomain:c,tickCount:u,ticks:m,niceTicks:p,axisType:x}=e;if(!o)return null;var y=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=s==="category"&&o.bandwidth?o.bandwidth()/y:0;if(g=x==="angleAxis"&&i&&i.length>=2?Tt(i[0]-i[1])*2*g:g,m||p){var v=(m||p||[]).map((h,b)=>{var j=n?n.indexOf(h):h;return{coordinate:o(j)+g,value:h,offset:g,index:b}});return v.filter(h=>!fn(h.coordinate))}return d&&c?c.map((h,b)=>({coordinate:o(h)+g,value:h,index:b,offset:g})):o.ticks&&u!=null?o.ticks(u).map((h,b)=>({coordinate:o(h)+g,value:h,offset:g,index:b})):o.domain().map((h,b)=>({coordinate:o(h)+g,value:n?n[h]:h,index:b,offset:g}))},xj=1e-4,B5=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-xj,i=Math.max(n[0],n[1])+xj,o=e(t[0]),l=e(t[r-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},U5=(e,t)=>{if(!t||t.length!==2||!xe(t[0])||!xe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!xe(e[0])||e[0]<r)&&(s[0]=r),(!xe(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},W5=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var l=fn(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},K5=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=fn(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},H5={sign:W5,expand:kL,none:_i,silhouette:_L,wiggle:SL,positive:K5},V5=(e,t,r)=>{var n=H5[r],s=NL().keys(t).value((i,o)=>Number(ze(i,o,0))).order(Nx).offset(n);return s(e)};function q5(e){return e==null?void 0:String(e)}function hj(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ze(s[t.dataKey])){var l=W_(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=ze(s,Ze(o)?t.dataKey:o);return Ze(d)?null:t.scale(d)}var yj=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=ze(i,t.dataKey,t.scale.domain()[o]);return Ze(l)?null:t.scale(l)-s/2+n},Y5=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},G5=e=>{var t=e.flat(2).filter(xe);return[Math.min(...t),Math.max(...t)]},X5=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Q5=(e,t,r)=>{if(e!=null)return X5(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((d,c)=>{var u=QS(c,t,r),m=G5(u);return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},gj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ei=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=dm(t,u=>u.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var d=s[o],c=s[o-1];i=Math.min((d.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function bj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return ai(ai({},t),{},{dataKey:r,payload:n,value:s,name:i})}function Wi(e,t){if(e)return String(e);if(typeof t=="string")return t}var Z5=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},J5=(e,t)=>t==="centric"?e.angle:e.radius,oa=e=>e.layout.width,la=e=>e.layout.height,eR=e=>e.layout.scale,eC=e=>e.layout.margin,vm=K(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),bm=K(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),tC="data-recharts-item-index",rC="data-recharts-item-data-key",Ml=60;function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){tR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tR(e,t,r){return(t=rR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rR(e){var t=nR(e,"string");return typeof t=="symbol"?t:t+""}function nR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aR=e=>e.brush.height;function sR(e){var t=bm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Ml;return r+s}return r},0)}function iR(e){var t=bm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Ml;return r+s}return r},0)}function oR(e){var t=vm(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function lR(e){var t=vm(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Nt=K([oa,la,eC,aR,sR,iR,oR,lR,bS,D$],(e,t,r,n,s,i,o,l,d,c)=>{var u={left:(r.left||0)+s,right:(r.right||0)+i},m={top:(r.top||0)+o,bottom:(r.bottom||0)+l},p=Tc(Tc({},m),u),x=p.bottom;p.bottom+=n,p=F5(p,d,c);var y=e-p.left-p.right,g=t-p.top-p.bottom;return Tc(Tc({brushBottom:x},p),{},{width:Math.max(y,0),height:Math.max(g,0)})}),cR=K(Nt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),lg=K(oa,la,(e,t)=>({x:0,y:0,width:e,height:t})),dR=f.createContext(null),Jt=()=>f.useContext(dR)!=null,jm=e=>e.brush,wm=K([jm,Nt,eC],(e,t,r)=>({height:e.height,x:xe(e.x)?e.x:t.left,y:xe(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:xe(e.width)?e.width:t.width})),nC={},aC={},sC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,l=null;const d=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),u=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},m=()=>{c&&u(),g()};let p=null;const x=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,m()},n)},y=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{y(),o=void 0,l=null},v=()=>{u()},h=function(...b){if(s!=null&&s.aborted)return;o=this,l=b;const j=p==null;x(),d&&j&&u()};return h.schedule=x,h.cancel=g,h.flush=v,s==null||s.addEventListener("abort",g,{once:!0}),h}e.debounce=t})(sC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sC;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:d}=i,c=Array(2);o&&(c[0]="leading"),l&&(c[1]="trailing");let u,m=null;const p=t.debounce(function(...g){u=n.apply(this,g),m=null},s,{edges:c}),x=function(...g){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(u=n.apply(this,g),m=Date.now(),p.cancel(),p.schedule(),u):(p.apply(this,g),u)},y=()=>(p.flush(),u);return x.cancel=p.cancel,x.flush=y,x}e.debounce=r})(aC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aC;function r(n,s=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:o,maxWait:s,trailing:l})}e.throttle=r})(nC);var uR=nC.throttle;const mR=An(uR);var eu=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>s[o++]))}},iC=(e,t,r)=>{var{width:n="100%",height:s="100%",aspect:i,maxHeight:o}=r,l=Zn(n)?e:Number(n),d=Zn(s)?t:Number(s);return i&&i>0&&(l?d=l/i:d&&(l=d*i),o&&d!=null&&d>o&&(d=o)),{calculatedWidth:l,calculatedHeight:d}},fR={width:0,height:0,overflow:"visible"},pR={width:0,overflowX:"visible"},xR={height:0,overflowY:"visible"},hR={},yR=e=>{var{width:t,height:r}=e,n=Zn(t),s=Zn(r);return n&&s?fR:n?pR:s?xR:hR};function gR(e){var{width:t,height:r,aspect:n}=e,s=t,i=r;return s===void 0&&i===void 0?(s="100%",i="100%"):s===void 0?s=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:s,height:i}}function dt(e){return Number.isFinite(e)}function En(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mx.apply(null,arguments)}function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){vR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vR(e,t,r){return(t=bR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bR(e){var t=jR(e,"string");return typeof t=="symbol"?t:t+""}function jR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oC=f.createContext({width:-1,height:-1});function wR(e){return En(e.width)&&En(e.height)}function lC(e){var{children:t,width:r,height:n}=e,s=f.useMemo(()=>({width:r,height:n}),[r,n]);return wR(s)?f.createElement(oC.Provider,{value:s},t):null}var cg=()=>f.useContext(oC),NR=f.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s,height:i,minWidth:o=0,minHeight:l,maxHeight:d,children:c,debounce:u=0,id:m,className:p,onResize:x,style:y={}}=e,g=f.useRef(null),v=f.useRef();v.current=x,f.useImperativeHandle(t,()=>g.current);var[h,b]=f.useState({containerWidth:n.width,containerHeight:n.height}),j=f.useCallback((_,C)=>{b(O=>{var S=Math.round(_),E=Math.round(C);return O.containerWidth===S&&O.containerHeight===E?O:{containerWidth:S,containerHeight:E}})},[]);f.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return Ol;var _=E=>{var I,{width:A,height:M}=E[0].contentRect;j(A,M),(I=v.current)===null||I===void 0||I.call(v,A,M)};u>0&&(_=mR(_,u,{trailing:!0,leading:!1}));var C=new ResizeObserver(_),{width:O,height:S}=g.current.getBoundingClientRect();return j(O,S),C.observe(g.current),()=>{C.disconnect()}},[j,u]);var{containerWidth:k,containerHeight:N}=h;eu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:w,calculatedHeight:P}=iC(k,N,{width:s,height:i,aspect:r,maxHeight:d});return eu(w!=null&&w>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,w,P,s,i,o,l,r),f.createElement("div",{id:m?"".concat(m):void 0,className:De("recharts-responsive-container",p),style:Nj(Nj({},y),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:d}),ref:g},f.createElement("div",{style:yR({width:s,height:i})},f.createElement(lC,{width:w,height:P},c)))}),cd=f.forwardRef((e,t)=>{var r=cg();if(En(r.width)&&En(r.height))return e.children;var{width:n,height:s}=gR({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=iC(void 0,void 0,{width:n,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return xe(i)&&xe(o)?f.createElement(lC,{width:i,height:o},e.children):f.createElement(NR,Mx({},e,{width:n,height:s,ref:t}))});function cC(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Nm=()=>{var e,t=Jt(),r=me(cR),n=me(wm),s=(e=me(jm))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},kR={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},dC=()=>{var e;return(e=me(Nt))!==null&&e!==void 0?e:kR},dg=()=>me(oa),ug=()=>me(la),_R=()=>me(e=>e.layout.margin),Oe=e=>e.layout.layoutType,Ll=()=>me(Oe),SR=()=>{var e=Ll();return e!==void 0},km=e=>{var t=Ke(),r=Jt(),{width:n,height:s}=e,i=cg(),o=n,l=s;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:s),f.useEffect(()=>{!r&&En(o)&&En(l)&&t(I5({width:o,height:l}))},[t,r,o,l]),null},uC=Symbol.for("immer-nothing"),kj=Symbol.for("immer-draftable"),Dr=Symbol.for("immer-state");function on(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ol=Object.getPrototypeOf;function Oi(e){return!!e&&!!e[Dr]}function Es(e){var t;return e?mC(e)||Array.isArray(e)||!!e[kj]||!!((t=e.constructor)!=null&&t[kj])||$l(e)||Sm(e):!1}var CR=Object.prototype.constructor.toString(),_j=new WeakMap;function mC(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=_j.get(r);return n===void 0&&(n=Function.toString.call(r),_j.set(r,n)),n===CR}function tu(e,t,r=!0){_m(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function _m(e){const t=e[Dr];return t?t.type_:Array.isArray(e)?1:$l(e)?2:Sm(e)?3:0}function Lx(e,t){return _m(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function fC(e,t,r){const n=_m(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function PR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function $l(e){return e instanceof Map}function Sm(e){return e instanceof Set}function ss(e){return e.copy_||e.base_}function $x(e,t){if($l(e))return new Map(e);if(Sm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=mC(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Dr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(ol(e),n)}else{const n=ol(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function mg(e,t=!1){return Cm(e)||Oi(e)||!Es(e)||(_m(e)>1&&Object.defineProperties(e,{set:Dc,add:Dc,clear:Dc,delete:Dc}),Object.freeze(e),t&&Object.values(e).forEach(r=>mg(r,!0))),e}function ER(){on(2)}var Dc={value:ER};function Cm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var OR={};function Os(e){const t=OR[e];return t||on(0,e),t}var ll;function pC(){return ll}function AR(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Sj(e,t){t&&(Os("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Rx(e){zx(e),e.drafts_.forEach(TR),e.drafts_=null}function zx(e){e===ll&&(ll=e.parent_)}function Cj(e){return ll=AR(ll,e)}function TR(e){const t=e[Dr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Pj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Dr].modified_&&(Rx(t),on(4)),Es(e)&&(e=ru(t,e),t.parent_||nu(t,e)),t.patches_&&Os("Patches").generateReplacementPatches_(r[Dr].base_,e,t.patches_,t.inversePatches_)):e=ru(t,r,[]),Rx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==uC?e:void 0}function ru(e,t,r){if(Cm(t))return t;const n=e.immer_.shouldUseStrictIteration(),s=t[Dr];if(!s)return tu(t,(i,o)=>Ej(e,s,t,i,o,r),n),t;if(s.scope_!==e)return t;if(!s.modified_)return nu(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let o=i,l=!1;s.type_===3&&(o=new Set(i),i.clear(),l=!0),tu(o,(d,c)=>Ej(e,s,i,d,c,r,l),n),nu(e,i,!1),r&&e.patches_&&Os("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function Ej(e,t,r,n,s,i,o){if(s==null||typeof s!="object"&&!o)return;const l=Cm(s);if(!(l&&!o)){if(Oi(s)){const d=i&&t&&t.type_!==3&&!Lx(t.assigned_,n)?i.concat(n):void 0,c=ru(e,s,d);if(fC(r,n,c),Oi(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Es(s)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===s&&l)return;ru(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&($l(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&nu(e,s)}}}function nu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mg(t,r)}function DR(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:pC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=fg;r&&(s=[n],i=cl);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,l}var fg={get(e,t){if(t===Dr)return e;const r=ss(e);if(!Lx(r,t))return IR(e,r,t);const n=r[t];return e.finalized_||!Es(n)?n:n===Hf(e.base_,t)?(Vf(e),e.copy_[t]=Bx(n,e)):n},has(e,t){return t in ss(e)},ownKeys(e){return Reflect.ownKeys(ss(e))},set(e,t,r){const n=xC(ss(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Hf(ss(e),t),i=s==null?void 0:s[Dr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(PR(r,s)&&(r!==void 0||Lx(e.base_,t)))return!0;Vf(e),Fx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Hf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Vf(e),Fx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ss(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){on(11)},getPrototypeOf(e){return ol(e.base_)},setPrototypeOf(){on(12)}},cl={};tu(fg,(e,t)=>{cl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});cl.deleteProperty=function(e,t){return cl.set.call(this,e,t,void 0)};cl.set=function(e,t,r){return fg.set.call(this,e[0],t,r,e[0])};function Hf(e,t){const r=e[Dr];return(r?ss(r):e)[t]}function IR(e,t,r){var s;const n=xC(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function xC(e,t){if(!(t in e))return;let r=ol(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ol(r)}}function Fx(e){e.modified_||(e.modified_=!0,e.parent_&&Fx(e.parent_))}function Vf(e){e.copy_||(e.copy_=$x(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var MR=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(d=i,...c){return o.produce(d,u=>r.call(this,u,...c))}}typeof r!="function"&&on(6),n!==void 0&&typeof n!="function"&&on(7);let s;if(Es(t)){const i=Cj(this),o=Bx(t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?Rx(i):zx(i)}return Sj(i,n),Pj(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===uC&&(s=void 0),this.autoFreeze_&&mg(s,!0),n){const i=[],o=[];Os("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else on(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,d=>t(d,...l));let n,s;return[this.produce(t,r,(o,l)=>{n=o,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Es(e)||on(8),Oi(e)&&(e=LR(e));const t=Cj(this),r=Bx(e,void 0);return r[Dr].isManual_=!0,zx(t),r}finishDraft(e,t){const r=e&&e[Dr];(!r||!r.isManual_)&&on(9);const{scope_:n}=r;return Sj(n,t),Pj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=Os("Patches").applyPatches_;return Oi(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Bx(e,t){const r=$l(e)?Os("MapSet").proxyMap_(e,t):Sm(e)?Os("MapSet").proxySet_(e,t):DR(e,t);return(t?t.scope_:pC()).drafts_.push(r),r}function LR(e){return Oi(e)||on(10,e),hC(e)}function hC(e){if(!Es(e)||Cm(e))return e;const t=e[Dr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=$x(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=$x(e,!0);return tu(r,(s,i)=>{fC(r,s,hC(i))},n),t&&(t.finalized_=!1),r}var $R=new MR;$R.produce;var RR={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},yC=vr({name:"legend",initialState:RR,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ye()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,s=un(e).payload.indexOf(r);s>-1&&(e.payload[s]=n)},prepare:Ye()},removeLegendPayload:{reducer(e,t){var r=un(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ye()}}}),{setLegendSize:Oj,setLegendSettings:zR,addLegendPayload:gC,replaceLegendPayload:vC,removeLegendPayload:bC}=yC.actions,FR=yC.reducer,BR=["contextPayload"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(null,arguments)}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){UR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UR(e,t,r){return(t=WR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WR(e){var t=KR(e,"string");return typeof t=="symbol"?t:t+""}function KR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HR(e,t){if(e==null)return{};var r,n,s=VR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function VR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qR(e){return e.value}function YR(e){var{contextPayload:t}=e,r=HR(e,BR),n=cS(t,e.payloadUniqBy,qR),s=Ai(Ai({},r),{},{payload:n});return f.isValidElement(e.content)?f.cloneElement(e.content,s):typeof e.content=="function"?f.createElement(e.content,s):f.createElement(ZL,s)}function GR(e,t,r,n,s,i){var{layout:o,align:l,verticalAlign:d}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?c={left:((n||0)-i.width)/2}:c=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?u={top:((s||0)-i.height)/2}:u=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ai(Ai({},c),u)}function XR(e){var t=Ke();return f.useEffect(()=>{t(zR(e))},[t,e]),null}function QR(e){var t=Ke();return f.useEffect(()=>(t(Oj(e)),()=>{t(Oj({width:0,height:0}))}),[t,e]),null}function ZR(e,t,r,n){return e==="vertical"&&xe(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var JR={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function jC(e){var t=yt(e,JR),r=L$(),n=qM(),s=_R(),{width:i,height:o,wrapperStyle:l,portal:d}=t,[c,u]=jS([r]),m=dg(),p=ug();if(m==null||p==null)return null;var x=m-((s==null?void 0:s.left)||0)-((s==null?void 0:s.right)||0),y=ZR(t.layout,o,i,x),g=d?l:Ai(Ai({position:"absolute",width:(y==null?void 0:y.width)||i||"auto",height:(y==null?void 0:y.height)||o||"auto"},GR(l,t,s,m,p,c)),l),v=d??n;if(v==null||r==null)return null;var h=f.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},f.createElement(XR,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&f.createElement(QR,{width:c.width,height:c.height}),f.createElement(YR,Ux({},t,y,{margin:s,chartWidth:m,chartHeight:p,contextPayload:r})));return Nl.createPortal(h,v)}jC.displayName="Legend";function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wx.apply(null,arguments)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){ez(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ez(e,t,r){return(t=tz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tz(e){var t=rz(e,"string");return typeof t=="symbol"?t:t+""}function rz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nz(e){return Array.isArray(e)&&Pn(e[0])&&Pn(e[1])?e.join(" ~ "):e}var az=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:d,labelClassName:c,label:u,labelFormatter:m,accessibilityLayer:p=!1}=e,x=()=>{if(i&&i.length){var N={padding:0,margin:0},w=(l?dm(i,l):i).map((P,_)=>{if(P.type==="none")return null;var C=P.formatter||o||nz,{value:O,name:S}=P,E=O,I=S;if(C){var A=C(O,S,P,_,i);if(Array.isArray(A))[E,I]=A;else if(A!=null)E=A;else return null}var M=qf({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return f.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:M},Pn(I)?f.createElement("span",{className:"recharts-tooltip-item-name"},I):null,Pn(I)?f.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,f.createElement("span",{className:"recharts-tooltip-item-value"},E),f.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return f.createElement("ul",{className:"recharts-tooltip-item-list",style:N},w)}return null},y=qf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=qf({margin:0},s),v=!Ze(u),h=v?u:"",b=De("recharts-default-tooltip",d),j=De("recharts-tooltip-label",c);v&&m&&i!==void 0&&i!==null&&(h=m(u,i));var k=p?{role:"status","aria-live":"assertive"}:{};return f.createElement("div",Wx({className:b,style:y},k),f.createElement("p",{className:j,style:g},f.isValidElement(h)?h:"".concat(h)),x())},uo="recharts-tooltip-wrapper",sz={visibility:"hidden"};function iz(e){var{coordinate:t,translateX:r,translateY:n}=e;return De(uo,{["".concat(uo,"-right")]:xe(r)&&t&&xe(t.x)&&r>=t.x,["".concat(uo,"-left")]:xe(r)&&t&&xe(t.x)&&r<t.x,["".concat(uo,"-bottom")]:xe(n)&&t&&xe(t.y)&&n>=t.y,["".concat(uo,"-top")]:xe(n)&&t&&xe(t.y)&&n<t.y})}function Dj(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:d,viewBoxDimension:c}=e;if(i&&xe(i[n]))return i[n];var u=r[n]-l-(s>0?s:0),m=r[n]+s;if(t[n])return o[n]?u:m;var p=d[n];if(p==null)return 0;if(o[n]){var x=u,y=p;return x<y?Math.max(m,p):Math.max(u,p)}if(c==null)return 0;var g=m+l,v=p+c;return g>v?Math.max(u,p):Math.max(m,p)}function oz(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function lz(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:d}=e,c,u,m;return o.height>0&&o.width>0&&r?(u=Dj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),m=Dj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),c=oz({translateX:u,translateY:m,useTranslate3d:l})):c=sz,{cssProperties:c,cssClasses:iz({translateX:u,translateY:m,coordinate:r})}}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){Kx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kx(e,t,r){return(t=cz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cz(e){var t=dz(e,"string");return typeof t=="symbol"?t:t+""}function dz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uz extends f.PureComponent{constructor(){super(...arguments),Kx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Kx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:d,offset:c,position:u,reverseDirection:m,useTranslate3d:p,viewBox:x,wrapperStyle:y,lastBoundingBox:g,innerRef:v,hasPortalFromProps:h}=this.props,{cssClasses:b,cssProperties:j}=lz({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:m,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:x}),k=h?{}:Ic(Ic({transition:d&&t?"transform ".concat(n,"ms ").concat(s):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=Ic(Ic({},k),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return f.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:N,ref:v},i)}}var wC=()=>{var e;return(e=me(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(null,arguments)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){mz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mz(e,t,r){return(t=fz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fz(e){var t=pz(e,"string");return typeof t=="symbol"?t:t+""}function pz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $j={curveBasisClosed:mL,curveBasisOpen:fL,curveBasis:uL,curveBumpX:QM,curveBumpY:ZM,curveLinearClosed:pL,curveLinear:nm,curveMonotoneX:xL,curveMonotoneY:hL,curveNatural:yL,curveStep:gL,curveStepAfter:bL,curveStepBefore:vL},au=e=>dt(e.x)&&dt(e.y),Rj=e=>e.base!=null&&au(e.base)&&au(e),mo=e=>e.x,fo=e=>e.y,xz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(El(e));return(r==="curveMonotone"||r==="curveBump")&&t?$j["".concat(r).concat(t==="vertical"?"Y":"X")]:$j[r]||nm},hz=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=xz(t,s),l=i?r.filter(au):r,d;if(Array.isArray(n)){var c=r.map((x,y)=>Lj(Lj({},x),{},{base:n[y]}));s==="vertical"?d=Sc().y(fo).x1(mo).x0(x=>x.base.x):d=Sc().x(mo).y1(fo).y0(x=>x.base.y);var u=d.defined(Rj).curve(o),m=i?c.filter(Rj):c;return u(m)}s==="vertical"&&xe(n)?d=Sc().y(fo).x1(mo).x0(n):xe(n)?d=Sc().x(mo).y1(fo).y0(n):d=E_().x(mo).y(fo);var p=d.defined(au).curve(o);return p(l)},pg=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?hz(e):n;return f.createElement("path",Hx({},Tr(e),By(e),{className:De("recharts-curve",t),d:i===null?void 0:i,ref:s}))},yz=["x","y","top","left","width","height","className"];function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vx.apply(null,arguments)}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){vz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vz(e,t,r){return(t=bz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bz(e){var t=jz(e,"string");return typeof t=="symbol"?t:t+""}function jz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wz(e,t){if(e==null)return{};var r,n,s=Nz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Nz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kz=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),_z=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,d=wz(e,yz),c=gz({x:t,y:r,top:n,left:s,width:i,height:o},d);return!xe(t)||!xe(r)||!xe(i)||!xe(o)||!xe(n)||!xe(s)?null:f.createElement("path",Vx({},sr(c),{className:De("recharts-cross",l),d:kz(t,r,i,o,n,s)}))};function Sz(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){Cz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cz(e,t,r){return(t=Pz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pz(e){var t=Ez(e,"string");return typeof t=="symbol"?t:t+""}function Ez(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oz=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),NC=(e,t,r)=>e.map(n=>"".concat(Oz(n)," ").concat(t,"ms ").concat(r)).join(","),Az=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),dl=(e,t)=>Object.keys(t).reduce((r,n)=>Bj(Bj({},r),{},{[n]:e(n,t[n])}),{});function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){Tz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tz(e,t,r){return(t=Dz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dz(e){var t=Iz(e,"string");return typeof t=="symbol"?t:t+""}function Iz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var su=(e,t,r)=>e+(t-e)*r,qx=e=>{var{from:t,to:r}=e;return t!==r},kC=(e,t,r)=>{var n=dl((s,i)=>{if(qx(i)){var[o,l]=e(i.from,i.to,i.velocity);return vt(vt({},i),{},{from:o,velocity:l})}return i},t);return r<1?dl((s,i)=>qx(i)?vt(vt({},i),{},{velocity:su(i.velocity,n[s].velocity,r),from:su(i.from,n[s].from,r)}):i,t):kC(e,n,r-1)};function Mz(e,t,r,n,s,i){var o,l=n.reduce((p,x)=>vt(vt({},p),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),d=()=>dl((p,x)=>x.from,l),c=()=>!Object.values(l).filter(qx).length,u=null,m=p=>{o||(o=p);var x=p-o,y=x/r.dt;l=kC(r,l,y),s(vt(vt(vt({},e),t),d())),o=p,c()||(u=i.setTimeout(m))};return()=>(u=i.setTimeout(m),()=>{var p;(p=u)===null||p===void 0||p()})}function Lz(e,t,r,n,s,i,o){var l=null,d=s.reduce((m,p)=>vt(vt({},m),{},{[p]:[e[p],t[p]]}),{}),c,u=m=>{c||(c=m);var p=(m-c)/n,x=dl((g,v)=>su(...v,r(p)),d);if(i(vt(vt(vt({},e),t),x)),p<1)l=o.setTimeout(u);else{var y=dl((g,v)=>su(...v,r(1)),d);i(vt(vt(vt({},e),t),y))}};return()=>(l=o.setTimeout(u),()=>{var m;(m=l)===null||m===void 0||m()})}const $z=(e,t,r,n,s,i)=>{var o=Az(e,t);return r==null?()=>(s(vt(vt({},e),t)),()=>{}):r.isStepper===!0?Mz(e,t,r,o,s,i):Lz(e,t,r,n,o,s,i)};var iu=1e-4,_C=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],SC=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Wj=(e,t)=>r=>{var n=_C(e,t);return SC(n,r)},Rz=(e,t)=>r=>{var n=_C(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return SC(s,r)},zz=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,i=r[0].split("(");if(i[0]==="cubic-bezier"&&((s=i[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var o=i[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},Fz=(e,t,r,n)=>{var s=Wj(e,r),i=Wj(t,n),o=Rz(e,r),l=c=>c>1?1:c<0?0:c,d=c=>{for(var u=c>1?1:c,m=u,p=0;p<8;++p){var x=s(m)-u,y=o(m);if(Math.abs(x-u)<iu||y<iu)return i(m);m=l(m-x/y)}return i(m)};return d.isStepper=!1,d},Kj=function(){return Fz(...zz(...arguments))},Bz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,l,d)=>{var c=-(o-l)*r,u=d*n,m=d+(c-u)*s/1e3,p=d*s/1e3+o;return Math.abs(p-l)<iu&&Math.abs(m)<iu?[l,0]:[p,m]};return i.isStepper=!0,i.dt=s,i},Uz=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Kj(e);case"spring":return Bz();default:if(e.split("(")[0]==="cubic-bezier")return Kj(e)}return typeof e=="function"?e:null};function Wz(e){var t,r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[d,...c]=l;if(typeof d=="number"){s=e.setTimeout(i.bind(null,c),d);return}i(d),s=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Kz{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{s!=null&&cancelAnimationFrame(s)}}}function Hz(){return Wz(new Kz)}var Vz=f.createContext(Hz);function qz(e,t){var r=f.useContext(Vz);return f.useMemo(()=>t??r(e),[e,t,r])}var Yz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rl={devToolsEnabled:!1,isSsr:Yz()},Gz={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Hj={t:0},Yf={t:1};function zl(e){var t=yt(e,Gz),{isActive:r,canBegin:n,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:d,children:c}=t,u=r==="auto"?!Rl.isSsr:r,m=qz(t.animationId,t.animationManager),[p,x]=f.useState(u?Hj:Yf),y=f.useRef(null);return f.useEffect(()=>{u||x(Yf)},[u]),f.useEffect(()=>{if(!u||!n)return Ol;var g=$z(Hj,Yf,Uz(i),s,x,m.getTimeoutController()),v=()=>{y.current=g()};return m.start([d,o,v,s,l]),()=>{m.stop(),y.current&&y.current(),l()}},[u,n,s,i,o,d,l,m]),c(p.t)}function Fl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=f.useRef(nl(t)),n=f.useRef(e);return n.current!==e&&(r.current=nl(t),n.current=e),r.current}var Xz=["radius"],Qz=["radius"];function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){Zz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zz(e,t,r){return(t=Jz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jz(e){var t=e6(e,"string");return typeof t=="symbol"?t:t+""}function e6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ou.apply(null,arguments)}function Yj(e,t){if(e==null)return{};var r,n,s=t6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function t6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Gj=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,c;if(i>0&&s instanceof Array){for(var u=[0,0,0,0],m=0,p=4;m<p;m++)u[m]=s[m]>i?i:s[m];c="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(d,",").concat(e+l*u[0],",").concat(t)),c+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+o*u[1])),c+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(d,`,
        `).concat(e+r-l*u[2],",").concat(t+n)),c+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-o*u[3])),c+="Z"}else if(i>0&&s===+s&&s>0){var x=Math.min(i,s);c="M ".concat(e,",").concat(t+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+l*x,",").concat(t,`
            L `).concat(e+r-l*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+r,",").concat(t+o*x,`
            L `).concat(e+r,",").concat(t+n-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+r-l*x,",").concat(t+n,`
            L `).concat(e+l*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(t+n-o*x," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},Xj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CC=e=>{var t=yt(e,Xj),r=f.useRef(null),[n,s]=f.useState(-1);f.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var W=r.current.getTotalLength();W&&s(W)}catch{}},[]);var{x:i,y:o,width:l,height:d,radius:c,className:u}=t,{animationEasing:m,animationDuration:p,animationBegin:x,isAnimationActive:y,isUpdateAnimationActive:g}=t,v=f.useRef(l),h=f.useRef(d),b=f.useRef(i),j=f.useRef(o),k=f.useMemo(()=>({x:i,y:o,width:l,height:d,radius:c}),[i,o,l,d,c]),N=Fl(k,"rectangle-");if(i!==+i||o!==+o||l!==+l||d!==+d||l===0||d===0)return null;var w=De("recharts-rectangle",u);if(!g){var P=sr(t),{radius:_}=P,C=Yj(P,Xz);return f.createElement("path",ou({},C,{radius:typeof c=="number"?c:void 0,className:w,d:Gj(i,o,l,d,c)}))}var O=v.current,S=h.current,E=b.current,I=j.current,A="0px ".concat(n===-1?1:n,"px"),M="".concat(n,"px 0px"),U=NC(["strokeDasharray"],p,typeof m=="string"?m:Xj.animationEasing);return f.createElement(zl,{animationId:N,key:N,canBegin:n>0,duration:p,easing:m,isActive:g,begin:x},W=>{var L=Ge(O,l,W),R=Ge(S,d,W),$=Ge(E,i,W),X=Ge(I,o,W);r.current&&(v.current=L,h.current=R,b.current=$,j.current=X);var T;y?W>0?T={transition:U,strokeDasharray:M}:T={strokeDasharray:A}:T={strokeDasharray:M};var Q=sr(t),{radius:ee}=Q,D=Yj(Q,Qz);return f.createElement("path",ou({},D,{radius:typeof c=="number"?c:void 0,className:w,d:Gj($,X,L,R,c),ref:r,style:qj(qj({},T),t.style)}))})};function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){r6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r6(e,t,r){return(t=n6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n6(e){var t=a6(e,"string");return typeof t=="symbol"?t:t+""}function a6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lu=Math.PI/180,s6=e=>e*180/Math.PI,ft=(e,t,r,n)=>({x:e+Math.cos(-lu*n)*r,y:t+Math.sin(-lu*n)*r}),PC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},i6=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},o6=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=i6({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-s)/o,d=Math.acos(l);return n>i&&(d=2*Math.PI-d),{radius:o,angle:s6(d),angleInRadian:d}},l6=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},c6=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},d6=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:s,angle:i}=o6({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:d,endAngle:c}=l6(t),u=i,m;if(d<=c){for(;u>c;)u-=360;for(;u<d;)u+=360;m=u>=d&&u<=c}else{for(;u>d;)u-=360;for(;u<c;)u+=360;m=u>=c&&u<=d}return m?Zj(Zj({},t),{},{radius:s,angle:c6(u,t)}):null};function EC(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=ft(t,r,n,s),l=ft(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yx.apply(null,arguments)}var u6=(e,t)=>{var r=Tt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Mc=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:d}=e,c=l*(o?1:-1)+n,u=Math.asin(l/c)/lu,m=d?s:s+i*u,p=ft(t,r,c,m),x=ft(t,r,n,m),y=d?s-i*u:s,g=ft(t,r,c*Math.cos(u*lu),y);return{center:p,circleTangency:x,lineTangency:g,theta:u}},OC=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,l=u6(i,o),d=i+l,c=ft(t,r,s,i),u=ft(t,r,s,d),m="M ".concat(c.x,",").concat(c.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>d),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var p=ft(t,r,n,i),x=ft(t,r,n,d);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},m6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:d,endAngle:c}=e,u=Tt(c-d),{circleTangency:m,lineTangency:p,theta:x}=Mc({cx:t,cy:r,radius:s,angle:d,sign:u,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:g,theta:v}=Mc({cx:t,cy:r,radius:s,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:l}),h=l?Math.abs(d-c):Math.abs(d-c)-x-v;if(h<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):OC({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:d,endAngle:c});var b="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(h>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:k,theta:N}=Mc({cx:t,cy:r,radius:n,angle:d,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:w,lineTangency:P,theta:_}=Mc({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),C=l?Math.abs(d-c):Math.abs(d-c)-N-_;if(C<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},f6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AC=e=>{var t=yt(e,f6),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:d,startAngle:c,endAngle:u,className:m}=t;if(i<s||c===u)return null;var p=De("recharts-sector",m),x=i-s,y=Qt(o,x,0,!0),g;return y>0&&Math.abs(c-u)<360?g=m6({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(y,x/2),forceCornerRadius:l,cornerIsExternal:d,startAngle:c,endAngle:u}):g=OC({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:c,endAngle:u}),f.createElement("path",Yx({},sr(t),{className:p,d:g}))};function p6(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(H_(t)){if(e==="centric"){var{cx:n,cy:s,innerRadius:i,outerRadius:o,angle:l}=t,d=ft(n,s,i,l),c=ft(n,s,o,l);return[{x:d.x,y:d.y},{x:c.x,y:c.y}]}return EC(t)}}var TC={},DC={},IC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zy;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(IC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IC;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(DC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jy,r=DC;function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),d=new Array(l);for(let c=0;c<l;c++)d[c]=s,s+=o;return d}e.range=n})(TC);var x6=TC.range;const MC=An(x6);function La(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xg(e){let t,r,n;e.length!==2?(t=La,r=(l,d)=>La(e(l),d),n=(l,d)=>e(l)-d):(t=e===La||e===h6?e:y6,r=e,n=e);function s(l,d,c=0,u=l.length){if(c<u){if(t(d,d)!==0)return u;do{const m=c+u>>>1;r(l[m],d)<0?c=m+1:u=m}while(c<u)}return c}function i(l,d,c=0,u=l.length){if(c<u){if(t(d,d)!==0)return u;do{const m=c+u>>>1;r(l[m],d)<=0?c=m+1:u=m}while(c<u)}return c}function o(l,d,c=0,u=l.length){const m=s(l,d,c,u-1);return m>c&&n(l[m-1],d)>-n(l[m],d)?m-1:m}return{left:s,center:o,right:i}}function y6(){return 0}function LC(e){return e===null?NaN:+e}function*g6(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const v6=xg(La),Bl=v6.right;xg(LC).center;class Jj extends Map{constructor(t,r=w6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(ew(this,t))}has(t){return super.has(ew(this,t))}set(t,r){return super.set(b6(this,t),r)}delete(t){return super.delete(j6(this,t))}}function ew({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function b6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function j6({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function w6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function N6(e=La){if(e===La)return $C;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function $C(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const k6=Math.sqrt(50),_6=Math.sqrt(10),S6=Math.sqrt(2);function cu(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=k6?10:i>=_6?5:i>=S6?2:1;let l,d,c;return s<0?(c=Math.pow(10,-s)/o,l=Math.round(e*c),d=Math.round(t*c),l/c<e&&++l,d/c>t&&--d,c=-c):(c=Math.pow(10,s)*o,l=Math.round(e/c),d=Math.round(t/c),l*c<e&&++l,d*c>t&&--d),d<l&&.5<=r&&r<2?cu(e,t,r*2):[l,d,c]}function Gx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?cu(t,e,r):cu(e,t,r);if(!(i>=s))return[];const l=i-s+1,d=new Array(l);if(n)if(o<0)for(let c=0;c<l;++c)d[c]=(i-c)/-o;else for(let c=0;c<l;++c)d[c]=(i-c)*o;else if(o<0)for(let c=0;c<l;++c)d[c]=(s+c)/-o;else for(let c=0;c<l;++c)d[c]=(s+c)*o;return d}function Xx(e,t,r){return t=+t,e=+e,r=+r,cu(e,t,r)[2]}function Qx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Xx(t,e,r):Xx(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function tw(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function rw(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function RC(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?$C:N6(s);n>r;){if(n-r>600){const d=n-r+1,c=t-r+1,u=Math.log(d),m=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*m*(d-m)/d)*(c-d/2<0?-1:1),x=Math.max(r,Math.floor(t-c*m/d+p)),y=Math.min(n,Math.floor(t+(d-c)*m/d+p));RC(e,t,x,y,s)}const i=e[t];let o=r,l=n;for(po(e,r,t),s(e[n],i)>0&&po(e,r,n);o<l;){for(po(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?po(e,r,l):(++l,po(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function po(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function C6(e,t,r){if(e=Float64Array.from(g6(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return rw(e);if(t>=1)return tw(e);var n,s=(n-1)*t,i=Math.floor(s),o=tw(RC(e,i).subarray(0,i+1)),l=rw(e.subarray(i+1));return o+(l-o)*(s-i)}}function P6(e,t,r=LC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function E6(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Qr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ca(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Zx=Symbol("implicit");function hg(){var e=new Jj,t=[],r=[],n=Zx;function s(i){let o=e.get(i);if(o===void 0){if(n!==Zx)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Jj;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return hg(t,r).unknown(n)},Qr.apply(s,arguments),s}function yg(){var e=hg().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,d=0,c=0,u=.5;delete e.unknown;function m(){var p=t().length,x=s<n,y=x?s:n,g=x?n:s;i=(g-y)/Math.max(1,p-d+c*2),l&&(i=Math.floor(i)),y+=(g-y-i*(p-d))*u,o=i*(1-d),l&&(y=Math.round(y),o=Math.round(o));var v=E6(p).map(function(h){return y+i*h});return r(x?v.reverse():v)}return e.domain=function(p){return arguments.length?(t(p),m()):t()},e.range=function(p){return arguments.length?([n,s]=p,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(p){return[n,s]=p,n=+n,s=+s,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,m()):l},e.padding=function(p){return arguments.length?(d=Math.min(1,c=+p),m()):d},e.paddingInner=function(p){return arguments.length?(d=Math.min(1,p),m()):d},e.paddingOuter=function(p){return arguments.length?(c=+p,m()):c},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),m()):u},e.copy=function(){return yg(t(),[n,s]).round(l).paddingInner(d).paddingOuter(c).align(u)},Qr.apply(m(),arguments)}function zC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zC(t())},e}function O6(){return zC(yg.apply(null,arguments).paddingInner(1))}function gg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function FC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ul(){}var ul=.7,du=1/ul,fi="\\s*([+-]?\\d+)\\s*",ml="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A6=/^#([0-9a-f]{3,8})$/,T6=new RegExp(`^rgb\\(${fi},${fi},${fi}\\)$`),D6=new RegExp(`^rgb\\(${Cn},${Cn},${Cn}\\)$`),I6=new RegExp(`^rgba\\(${fi},${fi},${fi},${ml}\\)$`),M6=new RegExp(`^rgba\\(${Cn},${Cn},${Cn},${ml}\\)$`),L6=new RegExp(`^hsl\\(${ml},${Cn},${Cn}\\)$`),$6=new RegExp(`^hsla\\(${ml},${Cn},${Cn},${ml}\\)$`),nw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gg(Ul,fl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:aw,formatHex:aw,formatHex8:R6,formatHsl:z6,formatRgb:sw,toString:sw});function aw(){return this.rgb().formatHex()}function R6(){return this.rgb().formatHex8()}function z6(){return BC(this).formatHsl()}function sw(){return this.rgb().formatRgb()}function fl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=A6.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?iw(t):r===3?new fr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Lc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Lc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=T6.exec(e))?new fr(t[1],t[2],t[3],1):(t=D6.exec(e))?new fr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=I6.exec(e))?Lc(t[1],t[2],t[3],t[4]):(t=M6.exec(e))?Lc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=L6.exec(e))?cw(t[1],t[2]/100,t[3]/100,1):(t=$6.exec(e))?cw(t[1],t[2]/100,t[3]/100,t[4]):nw.hasOwnProperty(e)?iw(nw[e]):e==="transparent"?new fr(NaN,NaN,NaN,0):null}function iw(e){return new fr(e>>16&255,e>>8&255,e&255,1)}function Lc(e,t,r,n){return n<=0&&(e=t=r=NaN),new fr(e,t,r,n)}function F6(e){return e instanceof Ul||(e=fl(e)),e?(e=e.rgb(),new fr(e.r,e.g,e.b,e.opacity)):new fr}function Jx(e,t,r,n){return arguments.length===1?F6(e):new fr(e,t,r,n??1)}function fr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}gg(fr,Jx,FC(Ul,{brighter(e){return e=e==null?du:Math.pow(du,e),new fr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ul:Math.pow(ul,e),new fr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fr(vs(this.r),vs(this.g),vs(this.b),uu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ow,formatHex:ow,formatHex8:B6,formatRgb:lw,toString:lw}));function ow(){return`#${us(this.r)}${us(this.g)}${us(this.b)}`}function B6(){return`#${us(this.r)}${us(this.g)}${us(this.b)}${us((isNaN(this.opacity)?1:this.opacity)*255)}`}function lw(){const e=uu(this.opacity);return`${e===1?"rgb(":"rgba("}${vs(this.r)}, ${vs(this.g)}, ${vs(this.b)}${e===1?")":`, ${e})`}`}function uu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function us(e){return e=vs(e),(e<16?"0":"")+e.toString(16)}function cw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ln(e,t,r,n)}function BC(e){if(e instanceof ln)return new ln(e.h,e.s,e.l,e.opacity);if(e instanceof Ul||(e=fl(e)),!e)return new ln;if(e instanceof ln)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,d=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=d<.5?i+s:2-i-s,o*=60):l=d>0&&d<1?0:o,new ln(o,l,d,e.opacity)}function U6(e,t,r,n){return arguments.length===1?BC(e):new ln(e,t,r,n??1)}function ln(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}gg(ln,U6,FC(Ul,{brighter(e){return e=e==null?du:Math.pow(du,e),new ln(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ul:Math.pow(ul,e),new ln(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new fr(Gf(e>=240?e-240:e+120,s,n),Gf(e,s,n),Gf(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new ln(dw(this.h),$c(this.s),$c(this.l),uu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=uu(this.opacity);return`${e===1?"hsl(":"hsla("}${dw(this.h)}, ${$c(this.s)*100}%, ${$c(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dw(e){return e=(e||0)%360,e<0?e+360:e}function $c(e){return Math.max(0,Math.min(1,e||0))}function Gf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const vg=e=>()=>e;function W6(e,t){return function(r){return e+r*t}}function K6(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function H6(e){return(e=+e)==1?UC:function(t,r){return r-t?K6(t,r,e):vg(isNaN(t)?r:t)}}function UC(e,t){var r=t-e;return r?W6(e,r):vg(isNaN(e)?t:e)}const uw=function e(t){var r=H6(t);function n(s,i){var o=r((s=Jx(s)).r,(i=Jx(i)).r),l=r(s.g,i.g),d=r(s.b,i.b),c=UC(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=d(u),s.opacity=c(u),s+""}}return n.gamma=e,n}(1);function V6(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function q6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Y6(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Ki(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function G6(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function mu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function X6(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Ki(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var eh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xf=new RegExp(eh.source,"g");function Q6(e){return function(){return e}}function Z6(e){return function(t){return e(t)+""}}function J6(e,t){var r=eh.lastIndex=Xf.lastIndex=0,n,s,i,o=-1,l=[],d=[];for(e=e+"",t=t+"";(n=eh.exec(e))&&(s=Xf.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,d.push({i:o,x:mu(n,s)})),r=Xf.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?d[0]?Z6(d[0].x):Q6(t):(t=d.length,function(c){for(var u=0,m;u<t;++u)l[(m=d[u]).i]=m.x(c);return l.join("")})}function Ki(e,t){var r=typeof t,n;return t==null||r==="boolean"?vg(t):(r==="number"?mu:r==="string"?(n=fl(t))?(t=n,uw):J6:t instanceof fl?uw:t instanceof Date?G6:q6(t)?V6:Array.isArray(t)?Y6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?X6:mu)(e,t)}function bg(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function eF(e,t){t===void 0&&(t=e,e=Ki);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function tF(e){return function(){return e}}function fu(e){return+e}var mw=[0,1];function nr(e){return e}function th(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:tF(isNaN(t)?NaN:.5)}function rF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function nF(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=th(s,n),i=r(o,i)):(n=th(n,s),i=r(i,o)),function(l){return i(n(l))}}function aF(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=th(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var d=Bl(e,l,1,n)-1;return i[d](s[d](l))}}function Wl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pm(){var e=mw,t=mw,r=Ki,n,s,i,o=nr,l,d,c;function u(){var p=Math.min(e.length,t.length);return o!==nr&&(o=rF(e[0],e[p-1])),l=p>2?aF:nF,d=c=null,m}function m(p){return p==null||isNaN(p=+p)?i:(d||(d=l(e.map(n),t,r)))(n(o(p)))}return m.invert=function(p){return o(s((c||(c=l(t,e.map(n),mu)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,fu),u()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),r=bg,u()},m.clamp=function(p){return arguments.length?(o=p?!0:nr,u()):o!==nr},m.interpolate=function(p){return arguments.length?(r=p,u()):r},m.unknown=function(p){return arguments.length?(i=p,m):i},function(p,x){return n=p,s=x,u()}}function jg(){return Pm()(nr,nr)}function sF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ti(e){return e=pu(Math.abs(e)),e?e[1]:NaN}function iF(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],d=0;s>0&&l>0&&(d+l+1>n&&(l=Math.max(1,n-d)),i.push(r.substring(s-=l,s+l)),!((d+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function oF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var lF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pl(e){if(!(t=lF.exec(e)))throw new Error("invalid format: "+e);var t;return new wg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pl.prototype=wg.prototype;function wg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}wg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cF(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var WC;function dF(e,t){var r=pu(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(WC=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+pu(e,Math.max(0,t+i-1))[0]}function fw(e,t){var r=pu(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const pw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>fw(e*100,t),r:fw,s:dF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xw(e){return e}var hw=Array.prototype.map,yw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uF(e){var t=e.grouping===void 0||e.thousands===void 0?xw:iF(hw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?xw:oF(hw.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function c(m){m=pl(m);var p=m.fill,x=m.align,y=m.sign,g=m.symbol,v=m.zero,h=m.width,b=m.comma,j=m.precision,k=m.trim,N=m.type;N==="n"?(b=!0,N="g"):pw[N]||(j===void 0&&(j=12),k=!0,N="g"),(v||p==="0"&&x==="=")&&(v=!0,p="0",x="=");var w=g==="$"?r:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=g==="$"?n:/[%p]/.test(N)?o:"",_=pw[N],C=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function O(S){var E=w,I=P,A,M,U;if(N==="c")I=_(S)+I,S="";else{S=+S;var W=S<0||1/S<0;if(S=isNaN(S)?d:_(Math.abs(S),j),k&&(S=cF(S)),W&&+S==0&&y!=="+"&&(W=!1),E=(W?y==="("?y:l:y==="-"||y==="("?"":y)+E,I=(N==="s"?yw[8+WC/3]:"")+I+(W&&y==="("?")":""),C){for(A=-1,M=S.length;++A<M;)if(U=S.charCodeAt(A),48>U||U>57){I=(U===46?s+S.slice(A+1):S.slice(A))+I,S=S.slice(0,A);break}}}b&&!v&&(S=t(S,1/0));var L=E.length+S.length+I.length,R=L<h?new Array(h-L+1).join(p):"";switch(b&&v&&(S=t(R+S,R.length?h-I.length:1/0),R=""),x){case"<":S=E+S+I+R;break;case"=":S=E+R+S+I;break;case"^":S=R.slice(0,L=R.length>>1)+E+S+I+R.slice(L);break;default:S=R+E+S+I;break}return i(S)}return O.toString=function(){return m+""},O}function u(m,p){var x=c((m=pl(m),m.type="f",m)),y=Math.max(-8,Math.min(8,Math.floor(Ti(p)/3)))*3,g=Math.pow(10,-y),v=yw[8+y/3];return function(h){return x(g*h)+v}}return{format:c,formatPrefix:u}}var Rc,Ng,KC;mF({thousands:",",grouping:[3],currency:["$",""]});function mF(e){return Rc=uF(e),Ng=Rc.format,KC=Rc.formatPrefix,Rc}function fF(e){return Math.max(0,-Ti(Math.abs(e)))}function pF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ti(t)/3)))*3-Ti(Math.abs(e)))}function xF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ti(t)-Ti(e))+1}function HC(e,t,r,n){var s=Qx(e,t,r),i;switch(n=pl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=pF(s,o))&&(n.precision=i),KC(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=xF(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=fF(s))&&(n.precision=i-(n.type==="%")*2);break}}return Ng(n)}function Za(e){var t=e.domain;return e.ticks=function(r){var n=t();return Gx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return HC(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],d,c,u=10;for(l<o&&(c=o,o=l,l=c,c=s,s=i,i=c);u-- >0;){if(c=Xx(o,l,r),c===d)return n[s]=o,n[i]=l,t(n);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;d=c}return e},e}function VC(){var e=jg();return e.copy=function(){return Wl(e,VC())},Qr.apply(e,arguments),Za(e)}function qC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,fu),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return qC(e).unknown(t)},e=arguments.length?Array.from(e,fu):[0,1],Za(r)}function YC(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function gw(e){return Math.log(e)}function vw(e){return Math.exp(e)}function hF(e){return-Math.log(-e)}function yF(e){return-Math.exp(-e)}function gF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vF(e){return e===10?gF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function bF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bw(e){return(t,r)=>-e(-t,r)}function kg(e){const t=e(gw,vw),r=t.domain;let n=10,s,i;function o(){return s=bF(n),i=vF(n),r()[0]<0?(s=bw(s),i=bw(i),e(hF,yF)):e(gw,vw),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const d=r();let c=d[0],u=d[d.length-1];const m=u<c;m&&([c,u]=[u,c]);let p=s(c),x=s(u),y,g;const v=l==null?10:+l;let h=[];if(!(n%1)&&x-p<v){if(p=Math.floor(p),x=Math.ceil(x),c>0){for(;p<=x;++p)for(y=1;y<n;++y)if(g=p<0?y/i(-p):y*i(p),!(g<c)){if(g>u)break;h.push(g)}}else for(;p<=x;++p)for(y=n-1;y>=1;--y)if(g=p>0?y/i(-p):y*i(p),!(g<c)){if(g>u)break;h.push(g)}h.length*2<v&&(h=Gx(c,u,v))}else h=Gx(p,x,Math.min(x-p,v)).map(i);return m?h.reverse():h},t.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=pl(d)).precision==null&&(d.trim=!0),d=Ng(d)),l===1/0)return d;const c=Math.max(1,n*l/t.ticks().length);return u=>{let m=u/i(Math.round(s(u)));return m*n<n-.5&&(m*=n),m<=c?d(u):""}},t.nice=()=>r(YC(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function GC(){const e=kg(Pm()).domain([1,10]);return e.copy=()=>Wl(e,GC()).base(e.base()),Qr.apply(e,arguments),e}function jw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ww(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _g(e){var t=1,r=e(jw(t),ww(t));return r.constant=function(n){return arguments.length?e(jw(t=+n),ww(t)):t},Za(r)}function XC(){var e=_g(Pm());return e.copy=function(){return Wl(e,XC()).constant(e.constant())},Qr.apply(e,arguments)}function Nw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wF(e){return e<0?-e*e:e*e}function Sg(e){var t=e(nr,nr),r=1;function n(){return r===1?e(nr,nr):r===.5?e(jF,wF):e(Nw(r),Nw(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Za(t)}function Cg(){var e=Sg(Pm());return e.copy=function(){return Wl(e,Cg()).exponent(e.exponent())},Qr.apply(e,arguments),e}function NF(){return Cg.apply(null,arguments).exponent(.5)}function kw(e){return Math.sign(e)*e*e}function kF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function QC(){var e=jg(),t=[0,1],r=!1,n;function s(i){var o=kF(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(kw(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,fu)).map(kw)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return QC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Qr.apply(s,arguments),Za(s)}function ZC(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=P6(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Bl(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(La),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return ZC().domain(e).range(t).unknown(n)},Qr.apply(i,arguments)}function JC(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(d){return d!=null&&d<=d?s[Bl(n,d,0,r)]:i}function l(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,l()):[e,t]},o.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,l()):s.slice()},o.invertExtent=function(d){var c=s.indexOf(d);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return JC().domain([e,t]).range(s).unknown(i)},Qr.apply(Za(o),arguments)}function eP(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Bl(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return eP().domain(e).range(t).unknown(r)},Qr.apply(s,arguments)}const Qf=new Date,Zf=new Date;function kt(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const d=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return d;let c;do d.push(c=new Date(+i)),t(i,l),e(i);while(c<i&&i<o);return d},s.filter=i=>kt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(Qf.setTime(+i),Zf.setTime(+o),e(Qf),e(Zf),Math.floor(r(Qf,Zf))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const xu=kt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):xu);xu.range;const Fn=1e3,Kr=Fn*60,Bn=Kr*60,ea=Bn*24,Pg=ea*7,_w=ea*30,Jf=ea*365,ms=kt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCSeconds());ms.range;const Eg=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fn)},(e,t)=>{e.setTime(+e+t*Kr)},(e,t)=>(t-e)/Kr,e=>e.getMinutes());Eg.range;const Og=kt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Kr)},(e,t)=>(t-e)/Kr,e=>e.getUTCMinutes());Og.range;const Ag=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fn-e.getMinutes()*Kr)},(e,t)=>{e.setTime(+e+t*Bn)},(e,t)=>(t-e)/Bn,e=>e.getHours());Ag.range;const Tg=kt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Bn)},(e,t)=>(t-e)/Bn,e=>e.getUTCHours());Tg.range;const Kl=kt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Kr)/ea,e=>e.getDate()-1);Kl.range;const Em=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ea,e=>e.getUTCDate()-1);Em.range;const tP=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ea,e=>Math.floor(e/ea));tP.range;function $s(e){return kt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Kr)/Pg)}const Om=$s(0),hu=$s(1),_F=$s(2),SF=$s(3),Di=$s(4),CF=$s(5),PF=$s(6);Om.range;hu.range;_F.range;SF.range;Di.range;CF.range;PF.range;function Rs(e){return kt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Pg)}const Am=Rs(0),yu=Rs(1),EF=Rs(2),OF=Rs(3),Ii=Rs(4),AF=Rs(5),TF=Rs(6);Am.range;yu.range;EF.range;OF.range;Ii.range;AF.range;TF.range;const Dg=kt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Dg.range;const Ig=kt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ig.range;const ta=kt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ta.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ta.range;const ra=kt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ra.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ra.range;function rP(e,t,r,n,s,i){const o=[[ms,1,Fn],[ms,5,5*Fn],[ms,15,15*Fn],[ms,30,30*Fn],[i,1,Kr],[i,5,5*Kr],[i,15,15*Kr],[i,30,30*Kr],[s,1,Bn],[s,3,3*Bn],[s,6,6*Bn],[s,12,12*Bn],[n,1,ea],[n,2,2*ea],[r,1,Pg],[t,1,_w],[t,3,3*_w],[e,1,Jf]];function l(c,u,m){const p=u<c;p&&([c,u]=[u,c]);const x=m&&typeof m.range=="function"?m:d(c,u,m),y=x?x.range(c,+u+1):[];return p?y.reverse():y}function d(c,u,m){const p=Math.abs(u-c)/m,x=xg(([,,v])=>v).right(o,p);if(x===o.length)return e.every(Qx(c/Jf,u/Jf,m));if(x===0)return xu.every(Math.max(Qx(c,u,m),1));const[y,g]=o[p/o[x-1][2]<o[x][2]/p?x-1:x];return y.every(g)}return[l,d]}const[DF,IF]=rP(ra,Ig,Am,tP,Tg,Og),[MF,LF]=rP(ta,Dg,Om,Kl,Ag,Eg);function ep(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function $F(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,d=e.shortMonths,c=ho(s),u=yo(s),m=ho(i),p=yo(i),x=ho(o),y=yo(o),g=ho(l),v=yo(l),h=ho(d),b=yo(d),j={a:W,A:L,b:R,B:$,c:null,d:Aw,e:Aw,f:iB,g:hB,G:gB,H:nB,I:aB,j:sB,L:nP,m:oB,M:lB,p:X,q:T,Q:Iw,s:Mw,S:cB,u:dB,U:uB,V:mB,w:fB,W:pB,x:null,X:null,y:xB,Y:yB,Z:vB,"%":Dw},k={a:Q,A:ee,b:D,B:q,c:null,d:Tw,e:Tw,f:NB,g:DB,G:MB,H:bB,I:jB,j:wB,L:sP,m:kB,M:_B,p:ie,q:Z,Q:Iw,s:Mw,S:SB,u:CB,U:PB,V:EB,w:OB,W:AB,x:null,X:null,y:TB,Y:IB,Z:LB,"%":Dw},N={a:O,A:S,b:E,B:I,c:A,d:Ew,e:Ew,f:JF,g:Pw,G:Cw,H:Ow,I:Ow,j:GF,L:ZF,m:YF,M:XF,p:C,q:qF,Q:tB,s:rB,S:QF,u:UF,U:WF,V:KF,w:BF,W:HF,x:M,X:U,y:Pw,Y:Cw,Z:VF,"%":eB};j.x=w(r,j),j.X=w(n,j),j.c=w(t,j),k.x=w(r,k),k.X=w(n,k),k.c=w(t,k);function w(F,le){return function(pe){var J=[],G=-1,se=0,be=F.length,H,re,ce;for(pe instanceof Date||(pe=new Date(+pe));++G<be;)F.charCodeAt(G)===37&&(J.push(F.slice(se,G)),(re=Sw[H=F.charAt(++G)])!=null?H=F.charAt(++G):re=H==="e"?" ":"0",(ce=le[H])&&(H=ce(pe,re)),J.push(H),se=G+1);return J.push(F.slice(se,G)),J.join("")}}function P(F,le){return function(pe){var J=xo(1900,void 0,1),G=_(J,F,pe+="",0),se,be;if(G!=pe.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(le&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(se=tp(xo(J.y,0,1)),be=se.getUTCDay(),se=be>4||be===0?yu.ceil(se):yu(se),se=Em.offset(se,(J.V-1)*7),J.y=se.getUTCFullYear(),J.m=se.getUTCMonth(),J.d=se.getUTCDate()+(J.w+6)%7):(se=ep(xo(J.y,0,1)),be=se.getDay(),se=be>4||be===0?hu.ceil(se):hu(se),se=Kl.offset(se,(J.V-1)*7),J.y=se.getFullYear(),J.m=se.getMonth(),J.d=se.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),be="Z"in J?tp(xo(J.y,0,1)).getUTCDay():ep(xo(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(be+5)%7:J.w+J.U*7-(be+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,tp(J)):ep(J)}}function _(F,le,pe,J){for(var G=0,se=le.length,be=pe.length,H,re;G<se;){if(J>=be)return-1;if(H=le.charCodeAt(G++),H===37){if(H=le.charAt(G++),re=N[H in Sw?le.charAt(G++):H],!re||(J=re(F,pe,J))<0)return-1}else if(H!=pe.charCodeAt(J++))return-1}return J}function C(F,le,pe){var J=c.exec(le.slice(pe));return J?(F.p=u.get(J[0].toLowerCase()),pe+J[0].length):-1}function O(F,le,pe){var J=x.exec(le.slice(pe));return J?(F.w=y.get(J[0].toLowerCase()),pe+J[0].length):-1}function S(F,le,pe){var J=m.exec(le.slice(pe));return J?(F.w=p.get(J[0].toLowerCase()),pe+J[0].length):-1}function E(F,le,pe){var J=h.exec(le.slice(pe));return J?(F.m=b.get(J[0].toLowerCase()),pe+J[0].length):-1}function I(F,le,pe){var J=g.exec(le.slice(pe));return J?(F.m=v.get(J[0].toLowerCase()),pe+J[0].length):-1}function A(F,le,pe){return _(F,t,le,pe)}function M(F,le,pe){return _(F,r,le,pe)}function U(F,le,pe){return _(F,n,le,pe)}function W(F){return o[F.getDay()]}function L(F){return i[F.getDay()]}function R(F){return d[F.getMonth()]}function $(F){return l[F.getMonth()]}function X(F){return s[+(F.getHours()>=12)]}function T(F){return 1+~~(F.getMonth()/3)}function Q(F){return o[F.getUTCDay()]}function ee(F){return i[F.getUTCDay()]}function D(F){return d[F.getUTCMonth()]}function q(F){return l[F.getUTCMonth()]}function ie(F){return s[+(F.getUTCHours()>=12)]}function Z(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var le=w(F+="",j);return le.toString=function(){return F},le},parse:function(F){var le=P(F+="",!1);return le.toString=function(){return F},le},utcFormat:function(F){var le=w(F+="",k);return le.toString=function(){return F},le},utcParse:function(F){var le=P(F+="",!0);return le.toString=function(){return F},le}}}var Sw={"-":"",_:" ",0:"0"},Mt=/^\s*\d+/,RF=/^%/,zF=/[\\^$*+?|[\]().{}]/g;function Ie(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function FF(e){return e.replace(zF,"\\$&")}function ho(e){return new RegExp("^(?:"+e.map(FF).join("|")+")","i")}function yo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function BF(e,t,r){var n=Mt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function UF(e,t,r){var n=Mt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function WF(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function KF(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function HF(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Cw(e,t,r){var n=Mt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Pw(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function VF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qF(e,t,r){var n=Mt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function YF(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Ew(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function GF(e,t,r){var n=Mt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Ow(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function XF(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function QF(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ZF(e,t,r){var n=Mt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function JF(e,t,r){var n=Mt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function eB(e,t,r){var n=RF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function tB(e,t,r){var n=Mt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function rB(e,t,r){var n=Mt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Aw(e,t){return Ie(e.getDate(),t,2)}function nB(e,t){return Ie(e.getHours(),t,2)}function aB(e,t){return Ie(e.getHours()%12||12,t,2)}function sB(e,t){return Ie(1+Kl.count(ta(e),e),t,3)}function nP(e,t){return Ie(e.getMilliseconds(),t,3)}function iB(e,t){return nP(e,t)+"000"}function oB(e,t){return Ie(e.getMonth()+1,t,2)}function lB(e,t){return Ie(e.getMinutes(),t,2)}function cB(e,t){return Ie(e.getSeconds(),t,2)}function dB(e){var t=e.getDay();return t===0?7:t}function uB(e,t){return Ie(Om.count(ta(e)-1,e),t,2)}function aP(e){var t=e.getDay();return t>=4||t===0?Di(e):Di.ceil(e)}function mB(e,t){return e=aP(e),Ie(Di.count(ta(e),e)+(ta(e).getDay()===4),t,2)}function fB(e){return e.getDay()}function pB(e,t){return Ie(hu.count(ta(e)-1,e),t,2)}function xB(e,t){return Ie(e.getFullYear()%100,t,2)}function hB(e,t){return e=aP(e),Ie(e.getFullYear()%100,t,2)}function yB(e,t){return Ie(e.getFullYear()%1e4,t,4)}function gB(e,t){var r=e.getDay();return e=r>=4||r===0?Di(e):Di.ceil(e),Ie(e.getFullYear()%1e4,t,4)}function vB(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ie(t/60|0,"0",2)+Ie(t%60,"0",2)}function Tw(e,t){return Ie(e.getUTCDate(),t,2)}function bB(e,t){return Ie(e.getUTCHours(),t,2)}function jB(e,t){return Ie(e.getUTCHours()%12||12,t,2)}function wB(e,t){return Ie(1+Em.count(ra(e),e),t,3)}function sP(e,t){return Ie(e.getUTCMilliseconds(),t,3)}function NB(e,t){return sP(e,t)+"000"}function kB(e,t){return Ie(e.getUTCMonth()+1,t,2)}function _B(e,t){return Ie(e.getUTCMinutes(),t,2)}function SB(e,t){return Ie(e.getUTCSeconds(),t,2)}function CB(e){var t=e.getUTCDay();return t===0?7:t}function PB(e,t){return Ie(Am.count(ra(e)-1,e),t,2)}function iP(e){var t=e.getUTCDay();return t>=4||t===0?Ii(e):Ii.ceil(e)}function EB(e,t){return e=iP(e),Ie(Ii.count(ra(e),e)+(ra(e).getUTCDay()===4),t,2)}function OB(e){return e.getUTCDay()}function AB(e,t){return Ie(yu.count(ra(e)-1,e),t,2)}function TB(e,t){return Ie(e.getUTCFullYear()%100,t,2)}function DB(e,t){return e=iP(e),Ie(e.getUTCFullYear()%100,t,2)}function IB(e,t){return Ie(e.getUTCFullYear()%1e4,t,4)}function MB(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ii(e):Ii.ceil(e),Ie(e.getUTCFullYear()%1e4,t,4)}function LB(){return"+0000"}function Dw(){return"%"}function Iw(e){return+e}function Mw(e){return Math.floor(+e/1e3)}var Us,oP,lP;$B({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $B(e){return Us=$F(e),oP=Us.format,Us.parse,lP=Us.utcFormat,Us.utcParse,Us}function RB(e){return new Date(e)}function zB(e){return e instanceof Date?+e:+new Date(+e)}function Mg(e,t,r,n,s,i,o,l,d,c){var u=jg(),m=u.invert,p=u.domain,x=c(".%L"),y=c(":%S"),g=c("%I:%M"),v=c("%I %p"),h=c("%a %d"),b=c("%b %d"),j=c("%B"),k=c("%Y");function N(w){return(d(w)<w?x:l(w)<w?y:o(w)<w?g:i(w)<w?v:n(w)<w?s(w)<w?h:b:r(w)<w?j:k)(w)}return u.invert=function(w){return new Date(m(w))},u.domain=function(w){return arguments.length?p(Array.from(w,zB)):p().map(RB)},u.ticks=function(w){var P=p();return e(P[0],P[P.length-1],w??10)},u.tickFormat=function(w,P){return P==null?N:c(P)},u.nice=function(w){var P=p();return(!w||typeof w.range!="function")&&(w=t(P[0],P[P.length-1],w??10)),w?p(YC(P,w)):u},u.copy=function(){return Wl(u,Mg(e,t,r,n,s,i,o,l,d,c))},u}function FB(){return Qr.apply(Mg(MF,LF,ta,Dg,Om,Kl,Ag,Eg,ms,oP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BB(){return Qr.apply(Mg(DF,IF,ra,Ig,Am,Em,Tg,Og,ms,lP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tm(){var e=0,t=1,r,n,s,i,o=nr,l=!1,d;function c(m){return m==null||isNaN(m=+m)?d:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}c.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(m){return arguments.length?(l=!!m,c):l},c.interpolator=function(m){return arguments.length?(o=m,c):o};function u(m){return function(p){var x,y;return arguments.length?([x,y]=p,o=m(x,y),c):[o(0),o(1)]}}return c.range=u(Ki),c.rangeRound=u(bg),c.unknown=function(m){return arguments.length?(d=m,c):d},function(m){return i=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),c}}function Ja(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cP(){var e=Za(Tm()(nr));return e.copy=function(){return Ja(e,cP())},ca.apply(e,arguments)}function dP(){var e=kg(Tm()).domain([1,10]);return e.copy=function(){return Ja(e,dP()).base(e.base())},ca.apply(e,arguments)}function uP(){var e=_g(Tm());return e.copy=function(){return Ja(e,uP()).constant(e.constant())},ca.apply(e,arguments)}function Lg(){var e=Sg(Tm());return e.copy=function(){return Ja(e,Lg()).exponent(e.exponent())},ca.apply(e,arguments)}function UB(){return Lg.apply(null,arguments).exponent(.5)}function mP(){var e=[],t=nr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Bl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(La),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>C6(e,i/n))},r.copy=function(){return mP(t).domain(e)},ca.apply(r,arguments)}function Dm(){var e=0,t=.5,r=1,n=1,s,i,o,l,d,c=nr,u,m=!1,p;function x(g){return isNaN(g=+g)?p:(g=.5+((g=+u(g))-i)*(n*g<n*i?l:d),c(m?Math.max(0,Math.min(1,g)):g))}x.domain=function(g){return arguments.length?([e,t,r]=g,s=u(e=+e),i=u(t=+t),o=u(r=+r),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),n=i<s?-1:1,x):[e,t,r]},x.clamp=function(g){return arguments.length?(m=!!g,x):m},x.interpolator=function(g){return arguments.length?(c=g,x):c};function y(g){return function(v){var h,b,j;return arguments.length?([h,b,j]=v,c=eF(g,[h,b,j]),x):[c(0),c(.5),c(1)]}}return x.range=y(Ki),x.rangeRound=y(bg),x.unknown=function(g){return arguments.length?(p=g,x):p},function(g){return u=g,s=g(e),i=g(t),o=g(r),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),n=i<s?-1:1,x}}function fP(){var e=Za(Dm()(nr));return e.copy=function(){return Ja(e,fP())},ca.apply(e,arguments)}function pP(){var e=kg(Dm()).domain([.1,1,10]);return e.copy=function(){return Ja(e,pP()).base(e.base())},ca.apply(e,arguments)}function xP(){var e=_g(Dm());return e.copy=function(){return Ja(e,xP()).constant(e.constant())},ca.apply(e,arguments)}function $g(){var e=Sg(Dm());return e.copy=function(){return Ja(e,$g()).exponent(e.exponent())},ca.apply(e,arguments)}function WB(){return $g.apply(null,arguments).exponent(.5)}const _o=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yg,scaleDiverging:fP,scaleDivergingLog:pP,scaleDivergingPow:$g,scaleDivergingSqrt:WB,scaleDivergingSymlog:xP,scaleIdentity:qC,scaleImplicit:Zx,scaleLinear:VC,scaleLog:GC,scaleOrdinal:hg,scalePoint:O6,scalePow:Cg,scaleQuantile:ZC,scaleQuantize:JC,scaleRadial:QC,scaleSequential:cP,scaleSequentialLog:dP,scaleSequentialPow:Lg,scaleSequentialQuantile:mP,scaleSequentialSqrt:UB,scaleSequentialSymlog:uP,scaleSqrt:NF,scaleSymlog:XC,scaleThreshold:eP,scaleTime:FB,scaleUtc:BB,tickFormat:HC},Symbol.toStringTag,{value:"Module"}));var es=e=>e.chartData,Rg=K([es],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Im=(e,t,r,n)=>n?Rg(e):es(e);function Ba(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(dt(t)&&dt(r))return!0}return!1}function Lw(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function hP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(dt(r))s=r;else if(typeof r=="function")return;if(dt(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(Ba(o))return o}}function KB(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ba(n))return Lw(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if(xe(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&gj.test(s)){var d=gj.exec(s);if(d==null||t==null)o=void 0;else{var c=+d[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(xe(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&vj.test(i)){var u=vj.exec(i);if(u==null||t==null)l=void 0;else{var m=+u[1];l=t[1]+m}}else l=t==null?void 0:t[1];var p=[o,l];if(Ba(p))return t==null?p:Lw(p,t,r)}}}var Hi=1e9,HB={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Fg,Qe=!0,Gr="[DecimalError] ",bs=Gr+"Invalid argument: ",zg=Gr+"Exponent out of range: ",Vi=Math.floor,is=Math.pow,VB=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_r,Ot=1e7,Ve=7,yP=9007199254740991,gu=Vi(yP/Ve),fe={};fe.absoluteValue=fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};fe.comparedTo=fe.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ve;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};fe.dividedBy=fe.div=function(e){return Kn(this,new this.constructor(e))};fe.dividedToIntegerBy=fe.idiv=function(e){var t=this,r=t.constructor;return Fe(Kn(t,new r(e),0,1),r.precision)};fe.equals=fe.eq=function(e){return!this.cmp(e)};fe.exponent=function(){return ht(this)};fe.greaterThan=fe.gt=function(e){return this.cmp(e)>0};fe.greaterThanOrEqualTo=fe.gte=function(e){return this.cmp(e)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(e){return this.cmp(e)<0};fe.lessThanOrEqualTo=fe.lte=function(e){return this.cmp(e)<1};fe.logarithm=fe.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(_r))throw Error(Gr+"NaN");if(r.s<1)throw Error(Gr+(r.s?"NaN":"-Infinity"));return r.eq(_r)?new n(0):(Qe=!1,t=Kn(xl(r,i),xl(e,i),i),Qe=!0,Fe(t,s))};fe.minus=fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bP(t,e):gP(t,(e.s=-e.s,e))};fe.modulo=fe.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Gr+"NaN");return r.s?(Qe=!1,t=Kn(r,e,0,1).times(e),Qe=!0,r.minus(t)):Fe(new n(r),s)};fe.naturalExponential=fe.exp=function(){return vP(this)};fe.naturalLogarithm=fe.ln=function(){return xl(this)};fe.negated=fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};fe.plus=fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gP(t,e):bP(t,(e.s=-e.s,e))};fe.precision=fe.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(bs+e);if(t=ht(s)+1,n=s.d.length-1,r=n*Ve+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};fe.squareRoot=fe.sqrt=function(){var e,t,r,n,s,i,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(Gr+"NaN")}for(e=ht(l),Qe=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=kn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Vi((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(s.toString()),r=d.precision,s=o=r+3;;)if(i=n,n=i.plus(Kn(l,i,o+2)).times(.5),kn(i.d).slice(0,o)===(t=kn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Fe(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Qe=!0,Fe(n,r)};fe.times=fe.mul=function(e){var t,r,n,s,i,o,l,d,c,u=this,m=u.constructor,p=u.d,x=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,r=u.e+e.e,d=p.length,c=x.length,d<c&&(i=p,p=x,x=i,o=d,d=c,c=o),i=[],o=d+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,s=d+n;s>n;)l=i[s]+x[n]*p[s-n-1]+t,i[s--]=l%Ot|0,t=l/Ot|0;i[s]=(i[s]+t)%Ot|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Qe?Fe(e,m.precision):e};fe.toDecimalPlaces=fe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(On(e,0,Hi),t===void 0?t=n.rounding:On(t,0,8),Fe(r,e+ht(r)+1,t))};fe.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=As(n,!0):(On(e,0,Hi),t===void 0?t=s.rounding:On(t,0,8),n=Fe(new s(n),e+1,t),r=As(n,!0,e+1)),r};fe.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?As(s):(On(e,0,Hi),t===void 0?t=i.rounding:On(t,0,8),n=Fe(new i(s),e+ht(s)+1,t),r=As(n.abs(),!1,e+ht(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};fe.toInteger=fe.toint=function(){var e=this,t=e.constructor;return Fe(new t(e),ht(e)+1,t.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(e){var t,r,n,s,i,o,l=this,d=l.constructor,c=12,u=+(e=new d(e));if(!e.s)return new d(_r);if(l=new d(l),!l.s){if(e.s<1)throw Error(Gr+"Infinity");return l}if(l.eq(_r))return l;if(n=d.precision,e.eq(_r))return Fe(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=yP){for(s=new d(_r),t=Math.ceil(n/Ve+4),Qe=!1;r%2&&(s=s.times(l),Rw(s.d,t)),r=Vi(r/2),r!==0;)l=l.times(l),Rw(l.d,t);return Qe=!0,e.s<0?new d(_r).div(s):Fe(s,n)}}else if(i<0)throw Error(Gr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Qe=!1,s=e.times(xl(l,n+c)),Qe=!0,s=vP(s),s.s=i,s};fe.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=ht(s),n=As(s,r<=i.toExpNeg||r>=i.toExpPos)):(On(e,1,Hi),t===void 0?t=i.rounding:On(t,0,8),s=Fe(new i(s),e,t),r=ht(s),n=As(s,e<=r||r<=i.toExpNeg,e)),n};fe.toSignificantDigits=fe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(On(e,1,Hi),t===void 0?t=n.rounding:On(t,0,8)),Fe(new n(r),e,t)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ht(e),r=e.constructor;return As(e,t<=r.toExpNeg||t>=r.toExpPos)};function gP(e,t){var r,n,s,i,o,l,d,c,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Qe?Fe(t,m):t;if(d=e.d,c=t.d,o=e.e,s=t.e,d=d.slice(),i=o-s,i){for(i<0?(n=d,i=-i,l=c.length):(n=c,s=o,l=d.length),o=Math.ceil(m/Ve),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=d.length,i=c.length,l-i<0&&(i=l,n=c,c=d,d=n),r=0;i;)r=(d[--i]=d[i]+c[i]+r)/Ot|0,d[i]%=Ot;for(r&&(d.unshift(r),++s),l=d.length;d[--l]==0;)d.pop();return t.d=d,t.e=s,Qe?Fe(t,m):t}function On(e,t,r){if(e!==~~e||e<t||e>r)throw Error(bs+e)}function kn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Ve-n.length,r&&(i+=ga(r)),i+=n;o=e[t],n=o+"",r=Ve-n.length,r&&(i+=ga(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Kn=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Ot|0,o=i/Ot|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,d;if(i!=o)d=i>o?1:-1;else for(l=d=0;l<i;l++)if(n[l]!=s[l]){d=n[l]>s[l]?1:-1;break}return d}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Ot+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,d,c,u,m,p,x,y,g,v,h,b,j,k,N,w,P,_,C=n.constructor,O=n.s==s.s?1:-1,S=n.d,E=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(Gr+"Division by zero");for(d=n.e-s.e,P=E.length,N=S.length,x=new C(O),y=x.d=[],c=0;E[c]==(S[c]||0);)++c;if(E[c]>(S[c]||0)&&--d,i==null?b=i=C.precision:o?b=i+(ht(n)-ht(s))+1:b=i,b<0)return new C(0);if(b=b/Ve+2|0,c=0,P==1)for(u=0,E=E[0],b++;(c<N||u)&&b--;c++)j=u*Ot+(S[c]||0),y[c]=j/E|0,u=j%E|0;else{for(u=Ot/(E[0]+1)|0,u>1&&(E=e(E,u),S=e(S,u),P=E.length,N=S.length),k=P,g=S.slice(0,P),v=g.length;v<P;)g[v++]=0;_=E.slice(),_.unshift(0),w=E[0],E[1]>=Ot/2&&++w;do u=0,l=t(E,g,P,v),l<0?(h=g[0],P!=v&&(h=h*Ot+(g[1]||0)),u=h/w|0,u>1?(u>=Ot&&(u=Ot-1),m=e(E,u),p=m.length,v=g.length,l=t(m,g,p,v),l==1&&(u--,r(m,P<p?_:E,p))):(u==0&&(l=u=1),m=E.slice()),p=m.length,p<v&&m.unshift(0),r(g,m,v),l==-1&&(v=g.length,l=t(E,g,P,v),l<1&&(u++,r(g,P<v?_:E,v))),v=g.length):l===0&&(u++,g=[0]),y[c++]=u,l&&g[0]?g[v++]=S[k]||0:(g=[S[k]],v=1);while((k++<N||g[0]!==void 0)&&b--)}return y[0]||y.shift(),x.e=d,Fe(x,o?i+ht(x)+1:i)}}();function vP(e,t){var r,n,s,i,o,l,d=0,c=0,u=e.constructor,m=u.precision;if(ht(e)>16)throw Error(zg+ht(e));if(!e.s)return new u(_r);for(Qe=!1,l=m,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(is(2,c))/Math.LN10*2+5|0,l+=n,r=s=i=new u(_r),u.precision=l;;){if(s=Fe(s.times(e),l),r=r.times(++d),o=i.plus(Kn(s,r,l)),kn(o.d).slice(0,l)===kn(i.d).slice(0,l)){for(;c--;)i=Fe(i.times(i),l);return u.precision=m,t==null?(Qe=!0,Fe(i,m)):i}i=o}}function ht(e){for(var t=e.e*Ve,r=e.d[0];r>=10;r/=10)t++;return t}function rp(e,t,r){if(t>e.LN10.sd())throw Qe=!0,r&&(e.precision=r),Error(Gr+"LN10 precision limit exceeded");return Fe(new e(e.LN10),t)}function ga(e){for(var t="";e--;)t+="0";return t}function xl(e,t){var r,n,s,i,o,l,d,c,u,m=1,p=10,x=e,y=x.d,g=x.constructor,v=g.precision;if(x.s<1)throw Error(Gr+(x.s?"NaN":"-Infinity"));if(x.eq(_r))return new g(0);if(t==null?(Qe=!1,c=v):c=t,x.eq(10))return t==null&&(Qe=!0),rp(g,c);if(c+=p,g.precision=c,r=kn(y),n=r.charAt(0),i=ht(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=kn(x.d),n=r.charAt(0),m++;i=ht(x),n>1?(x=new g("0."+r),i++):x=new g(n+"."+r.slice(1))}else return d=rp(g,c+2,v).times(i+""),x=xl(new g(n+"."+r.slice(1)),c-p).plus(d),g.precision=v,t==null?(Qe=!0,Fe(x,v)):x;for(l=o=x=Kn(x.minus(_r),x.plus(_r),c),u=Fe(x.times(x),c),s=3;;){if(o=Fe(o.times(u),c),d=l.plus(Kn(o,new g(s),c)),kn(d.d).slice(0,c)===kn(l.d).slice(0,c))return l=l.times(2),i!==0&&(l=l.plus(rp(g,c+2,v).times(i+""))),l=Kn(l,new g(m),c),g.precision=v,t==null?(Qe=!0,Fe(l,v)):l;l=d,s+=2}}function $w(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Vi(r/Ve),e.d=[],n=(r+1)%Ve,r<0&&(n+=Ve),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Ve;n<s;)e.d.push(+t.slice(n,n+=Ve));t=t.slice(n),n=Ve-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Qe&&(e.e>gu||e.e<-gu))throw Error(zg+r)}else e.s=0,e.e=0,e.d=[0];return e}function Fe(e,t,r){var n,s,i,o,l,d,c,u,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ve,s=t,c=m[u=0];else{if(u=Math.ceil((n+1)/Ve),i=m.length,u>=i)return e;for(c=i=m[u],o=1;i>=10;i/=10)o++;n%=Ve,s=n-Ve+o}if(r!==void 0&&(i=is(10,o-s-1),l=c/i%10|0,d=t<0||m[u+1]!==void 0||c%i,d=r<4?(l||d)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||d||r==6&&(n>0?s>0?c/is(10,o-s):0:m[u-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(i=ht(e),m.length=1,t=t-i-1,m[0]=is(10,(Ve-t%Ve)%Ve),e.e=Vi(-t/Ve)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=u,i=1,u--):(m.length=u+1,i=is(10,Ve-n),m[u]=s>0?(c/is(10,o-s)%is(10,s)|0)*i:0),d)for(;;)if(u==0){(m[0]+=i)==Ot&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=Ot)break;m[u--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Qe&&(e.e>gu||e.e<-gu))throw Error(zg+ht(e));return e}function bP(e,t){var r,n,s,i,o,l,d,c,u,m,p=e.constructor,x=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Qe?Fe(t,x):t;if(d=e.d,m=t.d,n=t.e,c=e.e,d=d.slice(),o=c-n,o){for(u=o<0,u?(r=d,o=-o,l=m.length):(r=m,n=c,l=d.length),s=Math.max(Math.ceil(x/Ve),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=d.length,l=m.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(d[s]!=m[s]){u=d[s]<m[s];break}o=0}for(u&&(r=d,d=m,m=r,t.s=-t.s),l=d.length,s=m.length-l;s>0;--s)d[l++]=0;for(s=m.length;s>o;){if(d[--s]<m[s]){for(i=s;i&&d[--i]===0;)d[i]=Ot-1;--d[i],d[s]+=Ot}d[s]-=m[s]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Qe?Fe(t,x):t):new p(0)}function As(e,t,r){var n,s=ht(e),i=kn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ga(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+ga(-s-1)+i,r&&(n=r-o)>0&&(i+=ga(n))):s>=o?(i+=ga(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+ga(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=ga(n))),e.s<0?"-"+i:i}function Rw(e,t){if(e.length>t)return e.length=t,!0}function jP(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(bs+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return $w(o,i.toString())}else if(typeof i!="string")throw Error(bs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,VB.test(i))$w(o,i);else throw Error(bs+i)}if(s.prototype=fe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=jP,s.config=s.set=qB,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function qB(e){if(!e||typeof e!="object")throw Error(Gr+"Object expected");var t,r,n,s=["precision",1,Hi,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Vi(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(bs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(bs+r+": "+n);return this}var Fg=jP(HB);_r=new Fg(1);const $e=Fg;var YB=e=>e,wP={},NP=e=>e===wP,zw=e=>function t(){return arguments.length===0||arguments.length===1&&NP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},kP=(e,t)=>e===1?t:zw(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==wP).length;return i>=e?t(...n):kP(e-i,zw(function(){for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];var c=n.map(u=>NP(u)?l.shift():u);return t(...c,...l)}))}),GB=e=>kP(e.length,e),rh=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},XB=GB((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),QB=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return YB;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,d)=>d(l),i(...arguments))}},nh=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function _P(e){var t;return e===0?t=1:t=Math.floor(new $e(e).abs().log(10).toNumber())+1,t}function SP(e,t,r){for(var n=new $e(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var CP=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},PP=(e,t,r)=>{if(e.lte(0))return new $e(0);var n=_P(e.toNumber()),s=new $e(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new $e(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=l.mul(s);return t?new $e(d.toNumber()):new $e(Math.ceil(d.toNumber()))},ZB=(e,t,r)=>{var n=new $e(1),s=new $e(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new $e(10).pow(_P(e)-1),s=new $e(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new $e(Math.floor(e)))}else e===0?s=new $e(Math.floor((t-1)/2)):r||(s=new $e(Math.floor(e)));var o=Math.floor((t-1)/2),l=QB(XB(d=>s.add(new $e(d-o).mul(n)).toNumber()),rh);return l(0,t)},EP=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new $e(0),tickMin:new $e(0),tickMax:new $e(0)};var o=PP(new $e(r).sub(t).div(n-1),s,i),l;t<=0&&r>=0?l=new $e(0):(l=new $e(t).add(r).div(2),l=l.sub(new $e(l).mod(o)));var d=Math.ceil(l.sub(t).div(o).toNumber()),c=Math.ceil(new $e(r).sub(l).div(o).toNumber()),u=d+c+1;return u>n?EP(t,r,n,s,i+1):(u<n&&(c=r>0?c+(n-u):c,d=r>0?d:d+(n-u)),{step:o,tickMin:l.sub(new $e(d).mul(o)),tickMax:l.add(new $e(c).mul(o))})},JB=function(t){var[r,n]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),[l,d]=CP([r,n]);if(l===-1/0||d===1/0){var c=d===1/0?[l,...rh(0,s-1).map(()=>1/0)]:[...rh(0,s-1).map(()=>-1/0),d];return r>n?nh(c):c}if(l===d)return ZB(l,s,i);var{step:u,tickMin:m,tickMax:p}=EP(l,d,o,i,0),x=SP(m,p.add(new $e(.1).mul(u)),u);return r>n?nh(x):x},e8=function(t,r){var[n,s]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=CP([n,s]);if(o===-1/0||l===1/0)return[n,s];if(o===l)return[o];var d=Math.max(r,2),c=PP(new $e(l).sub(o).div(d-1),i,0),u=[...SP(new $e(o),new $e(l),c),l];return i===!1&&(u=u.map(m=>Math.round(m))),n>s?nh(u):u},OP=e=>e.rootProps.maxBarSize,t8=e=>e.rootProps.barGap,AP=e=>e.rootProps.barCategoryGap,r8=e=>e.rootProps.barSize,Hl=e=>e.rootProps.stackOffset,TP=e=>e.rootProps.reverseStackOrder,Bg=e=>e.options.chartName,Ug=e=>e.rootProps.syncId,DP=e=>e.rootProps.syncMethod,Wg=e=>e.options.eventEmitter,pt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ln={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},kr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Mm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},n8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ln.angleAxisId,includeHidden:!1,name:void 0,reversed:Ln.reversed,scale:Ln.scale,tick:Ln.tick,tickCount:void 0,ticks:void 0,type:Ln.type,unit:void 0},a8={allowDataOverflow:kr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:kr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:kr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:kr.scale,tick:kr.tick,tickCount:kr.tickCount,ticks:void 0,type:kr.type,unit:void 0},s8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ln.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ln.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ln.scale,tick:Ln.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},i8={allowDataOverflow:kr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:kr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:kr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:kr.scale,tick:kr.tick,tickCount:kr.tickCount,ticks:void 0,type:"category",unit:void 0},Kg=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?s8:n8,Hg=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?i8:a8,Lm=e=>e.polarOptions,Vg=K([oa,la,Nt],PC),IP=K([Lm,Vg],(e,t)=>{if(e!=null)return Qt(e.innerRadius,t,0)}),MP=K([Lm,Vg],(e,t)=>{if(e!=null)return Qt(e.outerRadius,t,t*.8)}),o8=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},LP=K([Lm],o8);K([Kg,LP],Mm);var $P=K([Vg,IP,MP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});K([Hg,$P],Mm);var RP=K([Oe,Lm,IP,MP,oa,la],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:d,endAngle:c}=t;return{cx:Qt(o,s,s/2),cy:Qt(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:c,clockWise:!1}}}),Je=(e,t)=>t,Vl=(e,t,r)=>r;function qg(e){return e==null?void 0:e.id}function zP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,o=new Map;return e.forEach(l=>{var d,c=(d=l.data)!==null&&d!==void 0?d:n;if(!(c==null||c.length===0)){var u=qg(l);c.forEach((m,p)=>{var x=i==null||s?p:String(ze(m,i,null)),y=ze(m,l.dataKey,0),g;o.has(x)?g=o.get(x):g={},Object.assign(g,{[u]:y}),o.set(x,g)})}}),Array.from(o.values())}function $m(e){return e.stackId!=null&&e.dataKey!=null}var Rm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function zm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function l8(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var _t=e=>{var t=Oe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},qi=e=>e.tooltip.settings.axisId;function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){c8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c8(e,t,r){return(t=d8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d8(e){var t=u8(e,"string");return typeof t=="symbol"?t:t+""}function u8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ah=[0,"auto"],Pt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},FP=(e,t)=>e.cartesianAxis.xAxis[t],da=(e,t)=>{var r=FP(e,t);return r??Pt},Et={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ah,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ml},BP=(e,t)=>e.cartesianAxis.yAxis[t],ua=(e,t)=>{var r=BP(e,t);return r??Et},m8={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Yg=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??m8},at=(e,t,r)=>{switch(t){case"xAxis":return da(e,r);case"yAxis":return ua(e,r);case"zAxis":return Yg(e,r);case"angleAxis":return Kg(e,r);case"radiusAxis":return Hg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},f8=(e,t,r)=>{switch(t){case"xAxis":return da(e,r);case"yAxis":return ua(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ql=(e,t,r)=>{switch(t){case"xAxis":return da(e,r);case"yAxis":return ua(e,r);case"angleAxis":return Kg(e,r);case"radiusAxis":return Hg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},UP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Gg(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Fm=e=>e.graphicalItems.cartesianItems,p8=K([Je,Vl],Gg),Xg=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Yl=K([Fm,at,p8],Xg,{memoizeOptions:{resultEqualityCheck:zm}}),WP=K([Yl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter($m)),KP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),x8=K([Yl],KP),Qg=e=>e.map(t=>t.data).filter(Boolean).flat(1),h8=K([Yl],Qg,{memoizeOptions:{resultEqualityCheck:zm}}),Zg=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},Jg=K([h8,Im],Zg),ev=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ze(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:ze(s,n)}))):e.map(n=>({value:n})),Bm=K([Jg,at,Yl],ev);function HP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function dd(e){if(Pn(e)||e instanceof Date){var t=Number(e);if(dt(t))return t}}function Bw(e){if(Array.isArray(e)){var t=[dd(e[0]),dd(e[1])];return Ba(t)?t:void 0}var r=dd(e);if(r!=null)return[r,r]}function na(e){return e.map(dd).filter(EL)}function y8(e,t,r){return!r||typeof t!="number"||fn(t)?[]:r.length?na(r.flatMap(n=>{var s=ze(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!dt(i)||!dt(o)))return[t-i,t+o]})):[]}var St=e=>{var t=_t(e),r=qi(e);return ql(e,t,r)},Gl=K([St],e=>e==null?void 0:e.dataKey),g8=K([WP,Im,St],zP),VP=(e,t,r,n)=>{var s={},i=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),s);return Object.fromEntries(Object.entries(i).map(o=>{var[l,d]=o,c=n?[...d].reverse():d,u=c.map(qg);return[l,{stackedData:V5(e,u,r),graphicalItems:c}]}))},sh=K([g8,WP,Hl,TP],VP),qP=(e,t,r,n)=>{var{dataStartIndex:s,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=Q5(e,s,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},v8=K([at],e=>e.allowDataOverflow),tv=e=>{var t;if(e==null||!("domain"in e))return ah;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=na(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ah},rv=K([at],tv),nv=K([rv,v8],hP),b8=K([sh,es,Je,nv],qP,{memoizeOptions:{resultEqualityCheck:Rm}}),Um=e=>e.errorBars,j8=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>HP(r,n)),bu=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},av=(e,t,r,n,s)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(d=>{var c,u,m=(c=n[d.id])===null||c===void 0?void 0:c.filter(h=>HP(s,h)),p=ze(l,(u=t.dataKey)!==null&&u!==void 0?u:d.dataKey),x=y8(l,p,m);if(x.length>=2){var y=Math.min(...x),g=Math.max(...x);(i==null||y<i)&&(i=y),(o==null||g>o)&&(o=g)}var v=Bw(p);v!=null&&(i=i==null?v[0]:Math.min(i,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var d=Bw(ze(l,t.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),o=o==null?d[1]:Math.max(o,d[1]))}),dt(i)&&dt(o))return[i,o]},w8=K([Jg,at,x8,Um,Je],av,{memoizeOptions:{resultEqualityCheck:Rm}});function N8(e){var{value:t}=e;if(Pn(t)||t instanceof Date)return t}var k8=(e,t,r)=>{var n=e.map(N8).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&U_(n))?MC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},YP=e=>e.referenceElements.dots,Yi=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),_8=K([YP,Je,Vl],Yi),GP=e=>e.referenceElements.areas,S8=K([GP,Je,Vl],Yi),XP=e=>e.referenceElements.lines,C8=K([XP,Je,Vl],Yi),QP=(e,t)=>{var r=na(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},P8=K(_8,Je,QP),ZP=(e,t)=>{var r=na(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},E8=K([S8,Je],ZP);function O8(e){var t;if(e.x!=null)return na([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:na(r)}function A8(e){var t;if(e.y!=null)return na([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:na(r)}var JP=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?O8(n):A8(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},T8=K([C8,Je],JP),D8=K(P8,T8,E8,(e,t,r)=>bu(e,r,t)),sv=(e,t,r,n,s,i,o,l)=>{if(r!=null)return r;var d=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",c=d?bu(n,i,s):bu(i,s);return KB(t,c,e.allowDataOverflow)},I8=K([at,rv,nv,b8,w8,D8,Oe,Je],sv,{memoizeOptions:{resultEqualityCheck:Rm}}),M8=[0,1],iv=(e,t,r,n,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:d}=e,c=Qa(t,i);if(c&&l==null){var u;return MC(0,(u=r==null?void 0:r.length)!==null&&u!==void 0?u:0)}return d==="category"?k8(n,e,c):s==="expand"?M8:o}},ov=K([at,Oe,Jg,Bm,Hl,Je,I8],iv),e4=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(El(i));return l in _o?l:"point"}}},Gi=K([at,Oe,UP,Bg,Je],e4);function L8(e){if(e!=null){if(e in _o)return _o[e]();var t="scale".concat(El(e));if(t in _o)return _o[t]()}}function lv(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=L8(t);if(s!=null){var i=s.domain(r).range(n);return B5(i),i}}}var cv=(e,t,r)=>{var n=tv(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ba(e))return JB(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ba(e))return e8(e,t.tickCount,t.allowDecimals)}},dv=K([ov,ql,Gi],cv),uv=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ba(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},$8=K([at,ov,dv,Je],uv),R8=K(Bm,at,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(na(e.map(l=>l.value))).sort((l,d)=>l-d);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),t4=K(R8,Oe,AP,Nt,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!dt(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=Qt(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),z8=(e,t)=>{var r=da(e,t);return r==null||typeof r.padding!="string"?0:t4(e,"xAxis",t,r.padding)},F8=(e,t)=>{var r=ua(e,t);return r==null||typeof r.padding!="string"?0:t4(e,"yAxis",t,r.padding)},B8=K(da,z8,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),U8=K(ua,F8,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),W8=K([Nt,B8,wm,jm,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),K8=K([Nt,Oe,U8,wm,jm,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Xl=(e,t,r,n)=>{var s;switch(t){case"xAxis":return W8(e,r,n);case"yAxis":return K8(e,r,n);case"zAxis":return(s=Yg(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return LP(e);case"radiusAxis":return $P(e,r);default:return}},r4=K([at,Xl],Mm),Xi=K([at,Gi,$8,r4],lv);K([Yl,Um,Je],j8);function n4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Wm=(e,t)=>t,Km=(e,t,r)=>r,H8=K(vm,Wm,Km,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(n4)),V8=K(bm,Wm,Km,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(n4)),a4=(e,t)=>({width:e.width,height:t.height}),q8=(e,t)=>{var r=typeof t.width=="number"?t.width:Ml;return{width:r,height:e.height}},s4=K(Nt,da,a4),Y8=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},G8=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},X8=K(la,Nt,H8,Wm,Km,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var d=a4(t,l);o==null&&(o=Y8(t,n,e));var c=n==="top"&&!s||n==="bottom"&&s;i[l.id]=o-Number(c)*d.height,o+=(c?-1:1)*d.height}),i}),Q8=K(oa,Nt,V8,Wm,Km,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var d=q8(t,l);o==null&&(o=G8(t,n,e));var c=n==="left"&&!s||n==="right"&&s;i[l.id]=o-Number(c)*d.width,o+=(c?-1:1)*d.width}),i}),Z8=(e,t)=>{var r=da(e,t);if(r!=null)return X8(e,r.orientation,r.mirror)},J8=K([Nt,da,Z8,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),e7=(e,t)=>{var r=ua(e,t);if(r!=null)return Q8(e,r.orientation,r.mirror)},t7=K([Nt,ua,e7,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),i4=K(Nt,ua,(e,t)=>{var r=typeof t.width=="number"?t.width:Ml;return{width:r,height:e.height}}),Uw=(e,t,r)=>{switch(t){case"xAxis":return s4(e,r).width;case"yAxis":return i4(e,r).height;default:return}},o4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,l=Qa(e,n),d=t.map(c=>c.value);if(o&&l&&i==="category"&&s&&U_(d))return d}},mv=K([Oe,Bm,at,Je],o4),l4=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=Qa(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},fv=K([Oe,Bm,ql,Je],l4),Ww=K([Oe,f8,Gi,Xi,mv,fv,Xl,dv,Je],(e,t,r,n,s,i,o,l,d)=>{if(t!=null){var c=Qa(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:s,isCategorical:c,niceTicks:l,range:o,realScaleType:r,scale:n}}}),r7=(e,t,r,n,s,i,o,l,d)=>{if(!(t==null||n==null)){var c=Qa(e,d),{type:u,ticks:m,tickCount:p}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=u==="category"&&n.bandwidth?n.bandwidth()/x:0;y=d==="angleAxis"&&i!=null&&i.length>=2?Tt(i[0]-i[1])*2*y:y;var g=m||s;if(g){var v=g.map((h,b)=>{var j=o?o.indexOf(h):h;return{index:b,coordinate:n(j)+y,value:h,offset:y}});return v.filter(h=>dt(h.coordinate))}return c&&l?l.map((h,b)=>({coordinate:n(h)+y,value:h,index:b,offset:y})).filter(h=>dt(h.coordinate)):n.ticks?n.ticks(p).map(h=>({coordinate:n(h)+y,value:h,offset:y})):n.domain().map((h,b)=>({coordinate:n(h)+y,value:o?o[h]:h,index:b,offset:y}))}},c4=K([Oe,ql,Gi,Xi,dv,Xl,mv,fv,Je],r7),n7=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Qa(e,o),{tickCount:d}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Tt(n[0]-n[1])*2*c:c,l&&i?i.map((u,m)=>({coordinate:r(u)+c,value:u,index:m,offset:c})):r.ticks?r.ticks(d).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,m)=>({coordinate:r(u)+c,value:s?s[u]:u,index:m,offset:c}))}},Ua=K([Oe,ql,Xi,Xl,mv,fv,Je],n7),Wa=K(at,Xi,(e,t)=>{if(!(e==null||t==null))return vu(vu({},e),{},{scale:t})}),a7=K([at,Gi,ov,r4],lv);K((e,t,r)=>Yg(e,r),a7,(e,t)=>{if(!(e==null||t==null))return vu(vu({},e),{},{scale:t})});var s7=K([Oe,vm,bm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),d4=e=>e.options.defaultTooltipEventType,u4=e=>e.options.validateTooltipEventTypes;function m4(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function pv(e,t){var r=d4(e),n=u4(e);return m4(t,r,n)}function i7(e){return me(t=>pv(t,e))}var f4=(e,t)=>{var r,n=Number(t);if(!(fn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},o7=e=>e.tooltip.settings,wa={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},l7={itemInteraction:{click:wa,hover:wa},axisInteraction:{click:wa,hover:wa},keyboardInteraction:wa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},p4=vr({name:"tooltip",initialState:l7,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ye()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,s=un(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=n)},prepare:Ye()},removeTooltipEntrySettings:{reducer(e,t){var r=un(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ye()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:c7,replaceTooltipEntrySettings:d7,removeTooltipEntrySettings:u7,setTooltipSettingsState:m7,setActiveMouseOverItemIndex:x4,mouseLeaveItem:f7,mouseLeaveChart:h4,setActiveClickItemIndex:p7,setMouseOverAxisIndex:y4,setMouseClickAxisIndex:x7,setSyncInteraction:ih,setKeyboardInteraction:oh}=p4.actions,h7=p4.reducer;function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){y7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y7(e,t,r){return(t=g7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g7(e){var t=v7(e,"string");return typeof t=="symbol"?t:t+""}function v7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b7(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function j7(e){return e.index!=null}var g4=(e,t,r,n)=>{if(t==null)return wa;var s=b7(e,t,r);if(s==null)return wa;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(j7(s)){if(i)return zc(zc({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return zc(zc({},wa),{},{coordinate:s.coordinate})};function w7(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function N7(e,t){var r=w7(e),n=t[0],s=t[1];if(r===void 0)return!1;var i=Math.min(n,s),o=Math.max(n,s);return r>=i&&r<=o}function k7(e,t,r){if(r==null||t==null)return!0;var n=ze(e,t);return n==null||!Ba(r)?!0:N7(n,r)}var xv=(e,t,r,n)=>{var s=e==null?void 0:e.index;if(s==null)return null;var i=Number(s);if(!dt(i))return s;var o=0,l=1/0;t.length>0&&(l=t.length-1);var d=Math.max(o,Math.min(i,l)),c=t[d];return c==null||k7(c,r,n)?String(d):null},v4=(e,t,r,n,s,i,o,l)=>{if(!(i==null||l==null)){var d=o[0],c=d==null?void 0:l(d.positions,i);if(c!=null)return c;var u=s==null?void 0:s[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},b4=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},Ql=e=>e.options.tooltipPayloadSearcher,Qi=e=>e.tooltip;function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){_7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _7(e,t,r){return(t=S7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S7(e){var t=C7(e,"string");return typeof t=="symbol"?t:t+""}function C7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P7(e,t){return e??t}var j4=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:d,dataStartIndex:c,dataEndIndex:u}=r,m=[];return e.reduce((p,x)=>{var y,{dataDefinedOnItem:g,settings:v}=x,h=P7(g,l),b=Array.isArray(h)?QS(h,c,u):h,j=(y=v==null?void 0:v.dataKey)!==null&&y!==void 0?y:n,k=v==null?void 0:v.nameKey,N;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?N=W_(b,n,s):N=i(b,t,d,k),Array.isArray(N))N.forEach(P=>{var _=Vw(Vw({},v),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});p.push(bj({tooltipEntrySettings:_,dataKey:P.dataKey,payload:P.payload,value:ze(P.payload,P.dataKey),name:P.name}))});else{var w;p.push(bj({tooltipEntrySettings:v,dataKey:j,payload:N,value:ze(N,j),name:(w=ze(N,k))!==null&&w!==void 0?w:v==null?void 0:v.name}))}return p},m)}},hv=K([St,Oe,UP,Bg,_t],e4),E7=K([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),O7=K([_t,qi],Gg),Zl=K([E7,St,O7],Xg,{memoizeOptions:{resultEqualityCheck:zm}}),A7=K([Zl],e=>e.filter($m)),T7=K([Zl],Qg,{memoizeOptions:{resultEqualityCheck:zm}}),Zi=K([T7,es],Zg),D7=K([A7,es,St],zP),yv=K([Zi,St,Zl],ev),w4=K([St],tv),I7=K([St],e=>e.allowDataOverflow),N4=K([w4,I7],hP),M7=K([Zl],e=>e.filter($m)),L7=K([D7,M7,Hl,TP],VP),$7=K([L7,es,_t,N4],qP),R7=K([Zl],KP),z7=K([Zi,St,R7,Um,_t],av,{memoizeOptions:{resultEqualityCheck:Rm}}),F7=K([YP,_t,qi],Yi),B7=K([F7,_t],QP),U7=K([GP,_t,qi],Yi),W7=K([U7,_t],ZP),K7=K([XP,_t,qi],Yi),H7=K([K7,_t],JP),V7=K([B7,H7,W7],bu),q7=K([St,w4,N4,$7,z7,V7,Oe,_t],sv),Jl=K([St,Oe,Zi,yv,Hl,_t,q7],iv),Y7=K([Jl,St,hv],cv),G7=K([St,Jl,Y7,_t],uv),k4=e=>{var t=_t(e),r=qi(e),n=!1;return Xl(e,t,r,n)},_4=K([St,k4],Mm),S4=K([St,hv,G7,_4],lv),X7=K([Oe,yv,St,_t],o4),Q7=K([Oe,yv,St,_t],l4),Z7=(e,t,r,n,s,i,o,l)=>{if(t){var{type:d}=t,c=Qa(e,l);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=d==="category"&&n.bandwidth?n.bandwidth()/u:0;return m=l==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Tt(s[0]-s[1])*2*m:m,c&&o?o.map((p,x)=>({coordinate:n(p)+m,value:p,index:x,offset:m})):n.domain().map((p,x)=>({coordinate:n(p)+m,value:i?i[p]:p,index:x,offset:m}))}}},ma=K([Oe,St,hv,S4,k4,X7,Q7,_t],Z7),gv=K([d4,u4,o7],(e,t,r)=>m4(r.shared,e,t)),C4=e=>e.tooltip.settings.trigger,vv=e=>e.tooltip.settings.defaultIndex,ec=K([Qi,gv,C4,vv],g4),Ka=K([ec,Zi,Gl,Jl],xv),P4=K([ma,Ka],f4),bv=K([ec],e=>{if(e)return e.dataKey}),J7=K([ec],e=>{if(e)return e.graphicalItemId}),E4=K([Qi,gv,C4,vv],b4),eU=K([oa,la,Oe,Nt,ma,vv,E4,Ql],v4),tU=K([ec,eU],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),rU=K([ec],e=>e.active),nU=K([E4,Ka,es,Gl,P4,Ql,gv],j4),aU=K([nU],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){sU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sU(e,t,r){return(t=iU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iU(e){var t=oU(e,"string");return typeof t=="symbol"?t:t+""}function oU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lU=()=>me(St),cU=()=>{var e=lU(),t=me(ma),r=me(S4);return Ei(!e||!r?void 0:Yw(Yw({},e),{},{scale:r}),t)};function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){dU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dU(e,t,r){return(t=uU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uU(e){var t=mU(e,"string");return typeof t=="symbol"?t:t+""}function mU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fU=(e,t,r,n)=>{var s=t.find(i=>i&&i.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:s.coordinate}}return{x:0,y:0}},pU=(e,t,r,n)=>{var s=t.find(c=>c&&c.index===r);if(s){if(e==="centric"){var i=s.coordinate,{radius:o}=n;return Ws(Ws(Ws({},n),ft(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:d}=n;return Ws(Ws(Ws({},n),ft(n.cx,n.cy,l,d)),{},{angle:d,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function xU(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var O4=(e,t,r,n,s)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var d=0;d<l;d++){var c=d>0?r[d-1].coordinate:r[l-1].coordinate,u=r[d].coordinate,m=d>=l-1?r[0].coordinate:r[d+1].coordinate,p=void 0;if(Tt(u-c)!==Tt(m-u)){var x=[];if(Tt(m-u)===Tt(s[1]-s[0])){p=m;var y=u+s[1]-s[0];x[0]=Math.min(y,(y+c)/2),x[1]=Math.max(y,(y+c)/2)}else{p=c;var g=m+s[1]-s[0];x[0]=Math.min(u,(g+u)/2),x[1]=Math.max(u,(g+u)/2)}var v=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>v[0]&&e<=v[1]||e>=x[0]&&e<=x[1]){({index:o}=r[d]);break}}else{var h=Math.min(c,m),b=Math.max(c,m);if(e>(h+u)/2&&e<=(b+u)/2){({index:o}=r[d]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},hU=()=>me(Bg),jv=(e,t)=>t,A4=(e,t,r)=>r,wv=(e,t,r,n)=>n,yU=K(ma,e=>dm(e,t=>t.coordinate)),Nv=K([Qi,jv,A4,wv],g4),kv=K([Nv,Zi,Gl,Jl],xv),gU=(e,t,r)=>{if(t!=null){var n=Qi(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},T4=K([Qi,jv,A4,wv],b4),ju=K([oa,la,Oe,Nt,ma,wv,T4,Ql],v4),vU=K([Nv,ju],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),D4=K([ma,kv],f4),bU=K([T4,kv,es,Gl,D4,Ql,jv],j4),jU=K([Nv,kv],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),wU=(e,t,r,n,s,i,o)=>{if(!(!e||!r||!n||!s)&&xU(e,o)){var l=Z5(e,t),d=O4(l,i,s,r,n),c=fU(t,s,d,e);return{activeIndex:String(d),activeCoordinate:c}}},NU=(e,t,r,n,s,i,o)=>{if(!(!e||!n||!s||!i||!r)){var l=d6(e,r);if(l){var d=J5(l,t),c=O4(d,o,i,n,s),u=pU(t,i,c,l);return{activeIndex:String(c),activeCoordinate:u}}}},kU=(e,t,r,n,s,i,o,l)=>{if(!(!e||!t||!n||!s||!i))return t==="horizontal"||t==="vertical"?wU(e,t,n,s,i,o,l):NU(e,t,r,n,s,i,o)},_U=K(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),SU=K(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(pt)),r=Array.from(new Set(t));return r.sort((n,s)=>n-s)},{memoizeOptions:{resultEqualityCheck:l8}});function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){CU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CU(e,t,r){return(t=PU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PU(e){var t=EU(e,"string");return typeof t=="symbol"?t:t+""}function EU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OU={},AU={zIndexMap:Object.values(pt).reduce((e,t)=>Qw(Qw({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),OU)},TU=new Set(Object.values(pt));function DU(e){return TU.has(e)}var I4=vr({name:"zIndex",initialState:AU,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ye()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!DU(r)&&delete e.zIndexMap[r])},prepare:Ye()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:s?void 0:n,panoramaElementId:s?n:void 0}},prepare:Ye()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ye()}}}),{registerZIndexPortal:IU,unregisterZIndexPortal:MU,registerZIndexPortalId:LU,unregisterZIndexPortalId:$U}=I4.actions,RU=I4.reducer;function br(e){var{zIndex:t,children:r}=e,n=SR(),s=n&&t!==void 0&&t!==0,i=Jt(),o=Ke();f.useLayoutEffect(()=>s?(o(IU({zIndex:t})),()=>{o(MU({zIndex:t}))}):Ol,[o,t,s]);var l=me(c=>_U(c,t,i));if(!s)return r;if(!l)return null;var d=document.getElementById(l);return d?Nl.createPortal(r,d):null}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(null,arguments)}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){zU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zU(e,t,r){return(t=FU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FU(e){var t=BU(e,"string");return typeof t=="symbol"?t:t+""}function BU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UU(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return f.isValidElement(t)?f.cloneElement(t,n):f.createElement(r,n)}function WU(e){var t,{coordinate:r,payload:n,index:s,offset:i,tooltipAxisBandSize:o,layout:l,cursor:d,tooltipEventType:c,chartName:u}=e,m=r,p=n,x=s;if(!d||!m||u!=="ScatterChart"&&c!=="axis")return null;var y,g,v;if(u==="ScatterChart")y=m,g=_z,v=pt.cursorLine;else if(u==="BarChart")y=Sz(l,m,i,o),g=CC,v=pt.cursorRectangle;else if(l==="radial"&&H_(m)){var{cx:h,cy:b,radius:j,startAngle:k,endAngle:N}=EC(m);y={cx:h,cy:b,startAngle:k,endAngle:N,innerRadius:j,outerRadius:j},g=AC,v=pt.cursorLine}else y={points:p6(l,m,i)},g=pg,v=pt.cursorLine;var w=typeof d=="object"&&"className"in d?d.className:void 0,P=Fc(Fc(Fc(Fc({stroke:"#ccc",pointerEvents:"none"},i),y),Cs(d)),{},{payload:p,payloadIndex:x,className:De("recharts-tooltip-cursor",w)});return f.createElement(br,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},f.createElement(UU,{cursor:d,cursorComp:g,cursorProps:P}))}function KU(e){var t=cU(),r=dC(),n=Ll(),s=hU();return t==null||r==null||n==null||s==null?null:f.createElement(WU,lh({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var M4=f.createContext(null),HU=()=>f.useContext(M4),L4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(d,c,u){this.fn=d,this.context=c,this.once=u||!1}function i(d,c,u,m,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var x=new s(u,m||d,p),y=r?r+c:c;return d._events[y]?d._events[y].fn?d._events[y]=[d._events[y],x]:d._events[y].push(x):(d._events[y]=x,d._eventsCount++),d}function o(d,c){--d._eventsCount===0?d._events=new n:delete d._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],u,m;if(this._eventsCount===0)return c;for(m in u=this._events)t.call(u,m)&&c.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},l.prototype.listeners=function(c){var u=r?r+c:c,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,x=m.length,y=new Array(x);p<x;p++)y[p]=m[p].fn;return y},l.prototype.listenerCount=function(c){var u=r?r+c:c,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(c,u,m,p,x,y){var g=r?r+c:c;if(!this._events[g])return!1;var v=this._events[g],h=arguments.length,b,j;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),h){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,m),!0;case 4:return v.fn.call(v.context,u,m,p),!0;case 5:return v.fn.call(v.context,u,m,p,x),!0;case 6:return v.fn.call(v.context,u,m,p,x,y),!0}for(j=1,b=new Array(h-1);j<h;j++)b[j-1]=arguments[j];v.fn.apply(v.context,b)}else{var k=v.length,N;for(j=0;j<k;j++)switch(v[j].once&&this.removeListener(c,v[j].fn,void 0,!0),h){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,u);break;case 3:v[j].fn.call(v[j].context,u,m);break;case 4:v[j].fn.call(v[j].context,u,m,p);break;default:if(!b)for(N=1,b=new Array(h-1);N<h;N++)b[N-1]=arguments[N];v[j].fn.apply(v[j].context,b)}}return!0},l.prototype.on=function(c,u,m){return i(this,c,u,m,!1)},l.prototype.once=function(c,u,m){return i(this,c,u,m,!0)},l.prototype.removeListener=function(c,u,m,p){var x=r?r+c:c;if(!this._events[x])return this;if(!u)return o(this,x),this;var y=this._events[x];if(y.fn)y.fn===u&&(!p||y.once)&&(!m||y.context===m)&&o(this,x);else{for(var g=0,v=[],h=y.length;g<h;g++)(y[g].fn!==u||p&&!y[g].once||m&&y[g].context!==m)&&v.push(y[g]);v.length?this._events[x]=v.length===1?v[0]:v:o(this,x)}return this},l.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(L4);var VU=L4.exports;const qU=An(VU);var hl=new qU,ch="recharts.syncEvent.tooltip",Jw="recharts.syncEvent.brush";function _v(e,t){if(t){var r=Number.parseInt(t,10);if(!fn(r))return e==null?void 0:e[r]}}var YU={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},$4=vr({name:"options",initialState:YU,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),GU=$4.reducer,{createEventEmitter:XU}=$4.actions;function QU(e){return e.tooltip.syncInteraction}var ZU={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},R4=vr({name:"chartData",initialState:ZU,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:eN,setDataStartEndIndexes:JU,setComputedData:sX}=R4.actions,eW=R4.reducer,tW=["x","y"];function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){rW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rW(e,t,r){return(t=nW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nW(e){var t=aW(e,"string");return typeof t=="symbol"?t:t+""}function aW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sW(e,t){if(e==null)return{};var r,n,s=iW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function iW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oW(){var e=me(Ug),t=me(Wg),r=Ke(),n=me(DP),s=me(ma),i=Ll(),o=Nm(),l=me(d=>d.rootProps.className);f.useEffect(()=>{if(e==null)return Ol;var d=(c,u,m)=>{if(t!==m&&e===c){if(n==="index"){var p;if(o&&u!==null&&u!==void 0&&(p=u.payload)!==null&&p!==void 0&&p.coordinate&&u.payload.sourceViewBox){var x=u.payload.coordinate,{x:y,y:g}=x,v=sW(x,tW),{x:h,y:b,width:j,height:k}=u.payload.sourceViewBox,N=Ks(Ks({},v),{},{x:o.x+(j?(y-h)/j:0)*o.width,y:o.y+(k?(g-b)/k:0)*o.height});r(Ks(Ks({},u),{},{payload:Ks(Ks({},u.payload),{},{coordinate:N})}))}else r(u);return}if(s!=null){var w;if(typeof n=="function"){var P={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},_=n(s,P);w=s[_]}else n==="value"&&(w=s.find(U=>String(U.value)===u.payload.label));var{coordinate:C}=u.payload;if(w==null||u.payload.active===!1||C==null||o==null){r(ih({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:O,y:S}=C,E=Math.min(O,o.x+o.width),I=Math.min(S,o.y+o.height),A={x:i==="horizontal"?w.coordinate:E,y:i==="horizontal"?I:w.coordinate},M=ih({active:u.payload.active,coordinate:A,dataKey:u.payload.dataKey,index:String(w.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox,graphicalItemId:u.payload.graphicalItemId});r(M)}}};return hl.on(ch,d),()=>{hl.off(ch,d)}},[l,r,t,e,n,s,i,o])}function lW(){var e=me(Ug),t=me(Wg),r=Ke();f.useEffect(()=>{if(e==null)return Ol;var n=(s,i,o)=>{t!==o&&e===s&&r(JU(i))};return hl.on(Jw,n),()=>{hl.off(Jw,n)}},[r,t,e])}function cW(){var e=Ke();f.useEffect(()=>{e(XU())},[e]),oW(),lW()}function dW(e,t,r,n,s,i){var o=me(x=>gU(x,e,t)),l=me(Wg),d=me(Ug),c=me(DP),u=me(QU),m=u==null?void 0:u.active,p=Nm();f.useEffect(()=>{if(!m&&d!=null&&l!=null){var x=ih({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});hl.emit(ch,d,x,l)}},[m,r,o,s,n,l,d,c,i,p])}function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){uW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uW(e,t,r){return(t=mW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mW(e){var t=fW(e,"string");return typeof t=="symbol"?t:t+""}function fW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pW(e){return e.dataKey}function xW(e,t){return f.isValidElement(e)?f.cloneElement(e,t):typeof e=="function"?f.createElement(e,t):f.createElement(az,t)}var aN=[],hW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ud(e){var t,r,n=yt(e,hW),{active:s,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:d,filterNull:c,isAnimationActive:u,offset:m,payloadUniqBy:p,position:x,reverseDirection:y,useTranslate3d:g,wrapperStyle:v,cursor:h,shared:b,trigger:j,defaultIndex:k,portal:N,axisId:w}=n,P=Ke(),_=typeof k=="number"?String(k):k;f.useEffect(()=>{P(m7({shared:b,trigger:j,axisId:w,active:s,defaultIndex:_}))},[P,b,j,w,s,_]);var C=Nm(),O=wC(),S=i7(b),{activeIndex:E,isActive:I}=(t=me(ie=>jU(ie,S,j,_)))!==null&&t!==void 0?t:{},A=me(ie=>bU(ie,S,j,_)),M=me(ie=>D4(ie,S,j,_)),U=me(ie=>vU(ie,S,j,_)),W=A,L=HU(),R=(r=s??I)!==null&&r!==void 0?r:!1,[$,X]=jS([W,R]),T=S==="axis"?M:void 0;dW(S,j,U,T,E,R);var Q=N??L;if(Q==null||C==null||S==null)return null;var ee=W??aN;R||(ee=aN),c&&ee.length&&(ee=cS(ee.filter(ie=>ie.value!=null&&(ie.hide!==!0||n.includeHidden)),p,pW));var D=ee.length>0,q=f.createElement(uz,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:u,active:R,coordinate:U,hasPayload:D,offset:m,position:x,reverseDirection:y,useTranslate3d:g,viewBox:C,wrapperStyle:v,lastBoundingBox:$,innerRef:X,hasPortalFromProps:!!N},xW(d,nN(nN({},n),{},{payload:ee,label:T,active:R,activeIndex:E,coordinate:U,accessibilityLayer:O})));return f.createElement(f.Fragment,null,Nl.createPortal(q,Q),R&&f.createElement(KU,{cursor:h,tooltipEventType:S,coordinate:U,payload:ee,index:E}))}var Ji=e=>null;Ji.displayName="Cell";function yW(e,t,r){return(t=gW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e){var t=vW(e,"string");return typeof t=="symbol"?t:t+""}function vW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bW{constructor(t){yW(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){wW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wW(e,t,r){return(t=NW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NW(e){var t=kW(e,"string");return typeof t=="symbol"?t:t+""}function kW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _W={cacheSize:2e3,enableCache:!0},z4=jW({},_W),iN=new bW(z4.cacheSize),SW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oN="recharts_measurement_span";function CW(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(l)}var lN=(e,t)=>{try{var r=document.getElementById(oN);r||(r=document.createElement("span"),r.setAttribute("id",oN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,SW,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},$o=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Rl.isSsr)return{width:0,height:0};if(!z4.enableCache)return lN(t,r);var n=CW(t,r),s=iN.get(n);if(s)return s;var i=lN(t,r);return iN.set(n,i),i},cN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,EW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,F4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OW=Object.keys(F4),si="NaN";function AW(e,t){return e*F4[t]}class dr{static parse(t){var r,[,n,s]=(r=EW.exec(t))!==null&&r!==void 0?r:[];return new dr(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,fn(t)&&(this.unit=""),r!==""&&!PW.test(r)&&(this.num=NaN,this.unit=""),OW.includes(r)&&(this.num=AW(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new dr(NaN,""):new dr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new dr(NaN,""):new dr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dr(NaN,""):new dr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dr(NaN,""):new dr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return fn(this.num)}}function B4(e){if(e.includes(si))return si;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=cN.exec(t))!==null&&r!==void 0?r:[],o=dr.parse(n??""),l=dr.parse(i??""),d=s==="*"?o.multiply(l):o.divide(l);if(d.isNaN())return si;t=t.replace(cN,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,m,p]=(c=dN.exec(t))!==null&&c!==void 0?c:[],x=dr.parse(u??""),y=dr.parse(p??""),g=m==="+"?x.add(y):x.subtract(y);if(g.isNaN())return si;t=t.replace(dN,g.toString())}return t}var uN=/\(([^()]*)\)/;function TW(e){for(var t=e,r;(r=uN.exec(t))!=null;){var[,n]=r;t=t.replace(uN,B4(n))}return t}function DW(e){var t=e.replace(/\s+/g,"");return t=TW(t),t=B4(t),t}function IW(e){try{return DW(e)}catch{return si}}function np(e){var t=IW(e.slice(5,-1));return t===si?"":t}var MW=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],LW=["dx","dy","angle","className","breakAll"];function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dh.apply(null,arguments)}function mN(e,t){if(e==null)return{};var r,n,s=$W(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $W(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var U4=/[ \f\n\r\t\v\u2028\u2029]+/,W4=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];Ze(t)||(r?s=t.toString().split(""):s=t.toString().split(U4));var i=s.map(l=>({word:l,width:$o(l,n).width})),o=r?0:$o("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function RW(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var K4=(e,t,r,n)=>e.reduce((s,i)=>{var{word:o,width:l}=i,d=s[s.length-1];if(d&&l!=null&&(t==null||n||d.width+l+r<Number(t)))d.words.push(o),d.width+=l+r;else{var c={words:[o],width:l};s.push(c)}return s},[]),H4=e=>e.reduce((t,r)=>t.width>r.width?t:r),zW="",fN=(e,t,r,n,s,i,o,l)=>{var d=e.slice(0,t),c=W4({breakAll:r,style:n,children:d+zW});if(!c)return[!1,[]];var u=K4(c.wordsWithComputedWidth,i,o,l),m=u.length>s||H4(u).width>Number(i);return[m,u]},FW=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:l,breakAll:d}=e,c=xe(i),u=String(o),m=K4(t,n,r,s);if(!c||s)return m;var p=m.length>i||H4(m).width>Number(n);if(!p)return m;for(var x=0,y=u.length-1,g=0,v;x<=y&&g<=u.length-1;){var h=Math.floor((x+y)/2),b=h-1,[j,k]=fN(u,b,d,l,i,n,r,s),[N]=fN(u,h,d,l,i,n,r,s);if(!j&&!N&&(x=h+1),j&&N&&(y=h-1),!j&&N){v=k;break}g++}return v||m},pN=e=>{var t=Ze(e)?[]:e.toString().split(U4);return[{words:t,width:void 0}]},BW=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!Rl.isSsr){var l,d,c=W4({breakAll:i,children:n,style:s});if(c){var{wordsWithComputedWidth:u,spaceWidth:m}=c;l=u,d=m}else return pN(n);return FW({breakAll:i,children:n,maxLines:o,style:s},l,d,t,!!r)}return pN(n)},V4="#808080",UW={angle:0,breakAll:!1,capHeight:"0.71em",fill:V4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Hm=f.forwardRef((e,t)=>{var r=yt(e,UW),{x:n,y:s,lineHeight:i,capHeight:o,fill:l,scaleToFit:d,textAnchor:c,verticalAnchor:u}=r,m=mN(r,MW),p=f.useMemo(()=>BW({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:x,dy:y,angle:g,className:v,breakAll:h}=m,b=mN(m,LW);if(!Pn(n)||!Pn(s)||p.length===0)return null;var j=Number(n)+(xe(x)?x:0),k=Number(s)+(xe(y)?y:0);if(!dt(j)||!dt(k))return null;var N;switch(u){case"start":N=np("calc(".concat(o,")"));break;case"middle":N=np("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:N=np("calc(".concat(p.length-1," * -").concat(i,")"));break}var w=[];if(d){var P=p[0].width,{width:_}=m;w.push("scale(".concat(xe(_)&&xe(P)?_/P:1,")"))}return g&&w.push("rotate(".concat(g,", ").concat(j,", ").concat(k,")")),w.length&&(b.transform=w.join(" ")),f.createElement("text",dh({},sr(b),{ref:t,x:j,y:k,className:De("recharts-text",v),textAnchor:c,fill:l.includes("url")?V4:l}),p.map((C,O)=>{var S=C.words.join(h?"":" ");return f.createElement("tspan",{x:j,dy:O===0?N:i,key:"".concat(S,"-").concat(O)},S)}))});Hm.displayName="Text";var WW=["labelRef"];function KW(e,t){if(e==null)return{};var r,n,s=HW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function HW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){VW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VW(e,t,r){return(t=qW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=YW(e,"string");return typeof t=="symbol"?t:t+""}function YW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $n(){return $n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$n.apply(null,arguments)}var q4=f.createContext(null),GW=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:s,width:i,height:o,children:l}=e,d=f.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:s,width:i,height:o}),[t,r,n,s,i,o]);return f.createElement(q4.Provider,{value:d},l)},Y4=()=>{var e=f.useContext(q4),t=Nm();return e||cC(t)},XW=f.createContext(null),QW=()=>{var e=f.useContext(XW),t=me(RP);return e||t},ZW=e=>{var{value:t,formatter:r}=e,n=Ze(e.children)?t:e.children;return typeof r=="function"?r(n):n},Sv=e=>e!=null&&typeof e=="function",JW=(e,t)=>{var r=Tt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},e9=(e,t,r,n,s)=>{var{offset:i,className:o}=e,{cx:l,cy:d,innerRadius:c,outerRadius:u,startAngle:m,endAngle:p,clockWise:x}=s,y=(c+u)/2,g=JW(m,p),v=g>=0?1:-1,h,b;switch(t){case"insideStart":h=m+v*i,b=x;break;case"insideEnd":h=p-v*i,b=!x;break;case"end":h=p+v*i,b=x;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var j=ft(l,d,y,h),k=ft(l,d,y,h+(b?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(b?0:1,`,
    `).concat(k.x,",").concat(k.y),w=Ze(e.id)?nl("recharts-radial-line-"):e.id;return f.createElement("text",$n({},n,{dominantBaseline:"central",className:De("recharts-radial-bar-label",o)}),f.createElement("defs",null,f.createElement("path",{id:w,d:N})),f.createElement("textPath",{xlinkHref:"#".concat(w)},r))},t9=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:l,endAngle:d}=e,c=(l+d)/2;if(r==="outside"){var{x:u,y:m}=ft(n,s,o+t,c);return{x:u,y:m,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x,y}=ft(n,s,p,c);return{x,y,textAnchor:"middle",verticalAnchor:"middle"}},uh=e=>"cx"in e&&xe(e.cx),r9=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,i;r!=null&&!uh(r)&&(i=r);var{x:o,y:l,upperWidth:d,lowerWidth:c,height:u}=t,m=o,p=o+(d-c)/2,x=(m+p)/2,y=(d+c)/2,g=m+d/2,v=u>=0?1:-1,h=v*n,b=v>0?"end":"start",j=v>0?"start":"end",k=d>=0?1:-1,N=k*n,w=k>0?"end":"start",P=k>0?"start":"end";if(s==="top"){var _={x:m+d/2,y:l-h,textAnchor:"middle",verticalAnchor:b};return ot(ot({},_),i?{height:Math.max(l-i.y,0),width:d}:{})}if(s==="bottom"){var C={x:p+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:j};return ot(ot({},C),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(s==="left"){var O={x:x-N,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return ot(ot({},O),i?{width:Math.max(O.x-i.x,0),height:u}:{})}if(s==="right"){var S={x:x+y+N,y:l+u/2,textAnchor:P,verticalAnchor:"middle"};return ot(ot({},S),i?{width:Math.max(i.x+i.width-S.x,0),height:u}:{})}var E=i?{width:y,height:u}:{};return s==="insideLeft"?ot({x:x+N,y:l+u/2,textAnchor:P,verticalAnchor:"middle"},E):s==="insideRight"?ot({x:x+y-N,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},E):s==="insideTop"?ot({x:m+d/2,y:l+h,textAnchor:"middle",verticalAnchor:j},E):s==="insideBottom"?ot({x:p+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:b},E):s==="insideTopLeft"?ot({x:m+N,y:l+h,textAnchor:P,verticalAnchor:j},E):s==="insideTopRight"?ot({x:m+d-N,y:l+h,textAnchor:w,verticalAnchor:j},E):s==="insideBottomLeft"?ot({x:p+N,y:l+u-h,textAnchor:P,verticalAnchor:b},E):s==="insideBottomRight"?ot({x:p+c-N,y:l+u-h,textAnchor:w,verticalAnchor:b},E):s&&typeof s=="object"&&(xe(s.x)||Zn(s.x))&&(xe(s.y)||Zn(s.y))?ot({x:o+Qt(s.x,y),y:l+Qt(s.y,u),textAnchor:"end",verticalAnchor:"end"},E):ot({x:g,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},n9={angle:0,offset:5,zIndex:pt.label,position:"middle",textBreakAll:!1};function va(e){var t=yt(e,n9),{viewBox:r,position:n,value:s,children:i,content:o,className:l="",textBreakAll:d,labelRef:c}=t,u=QW(),m=Y4(),p=n==="center"?m:u??m,x,y,g;if(r==null?x=p:uh(r)?x=r:x=cC(r),!x||Ze(s)&&Ze(i)&&!f.isValidElement(o)&&typeof o!="function")return null;var v=ot(ot({},t),{},{viewBox:x});if(f.isValidElement(o)){var{labelRef:h}=v,b=KW(v,WW);return f.cloneElement(o,b)}if(typeof o=="function"){if(y=f.createElement(o,v),f.isValidElement(y))return y}else y=ZW(t);var j=sr(t);if(uh(x)){if(n==="insideStart"||n==="insideEnd"||n==="end")return e9(t,n,y,j,x);g=t9(x,t.offset,t.position)}else g=r9(t,x);return f.createElement(br,{zIndex:t.zIndex},f.createElement(Hm,$n({ref:c,className:De("recharts-label",l)},j,g,{textAnchor:RW(j.textAnchor)?j.textAnchor:g.textAnchor,breakAll:d}),y))}va.displayName="Label";var a9=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?f.createElement(va,$n({key:"label-implicit"},n)):Pn(e)?f.createElement(va,$n({key:"label-implicit",value:e},n)):f.isValidElement(e)?e.type===va?f.cloneElement(e,ot({key:"label-implicit"},n)):f.createElement(va,$n({key:"label-implicit",content:e},n)):Sv(e)?f.createElement(va,$n({key:"label-implicit",content:e},n)):e&&typeof e=="object"?f.createElement(va,$n({},e,{key:"label-implicit"},n)):null};function s9(e){var{label:t,labelRef:r}=e,n=Y4();return a9(t,n,r)||null}var G4={},X4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(X4);var Q4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Q4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X4,r=Q4,n=lm;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(G4);var i9=G4.last;const o9=An(i9);var l9=["valueAccessor"],c9=["dataKey","clockWise","id","textBreakAll","zIndex"];function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wu.apply(null,arguments)}function hN(e,t){if(e==null)return{};var r,n,s=d9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function d9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var u9=e=>Array.isArray(e.value)?o9(e.value):e.value,Z4=f.createContext(void 0),J4=Z4.Provider,eE=f.createContext(void 0),m9=eE.Provider;function f9(){return f.useContext(Z4)}function p9(){return f.useContext(eE)}function md(e){var{valueAccessor:t=u9}=e,r=hN(e,l9),{dataKey:n,clockWise:s,id:i,textBreakAll:o,zIndex:l}=r,d=hN(r,c9),c=f9(),u=p9(),m=c||u;return!m||!m.length?null:f.createElement(br,{zIndex:l??pt.label},f.createElement(It,{className:"recharts-label-list"},m.map((p,x)=>{var y,g=Ze(n)?t(p,x):ze(p&&p.payload,n),v=Ze(i)?{}:{id:"".concat(i,"-").concat(x)};return f.createElement(va,wu({key:"label-".concat(x)},sr(p),d,v,{fill:(y=r.fill)!==null&&y!==void 0?y:p.fill,parentViewBox:p.parentViewBox,value:g,textBreakAll:o,viewBox:p.viewBox,index:x,zIndex:0}))})))}md.displayName="LabelList";function Cv(e){var{label:t}=e;return t?t===!0?f.createElement(md,{key:"labelList-implicit"}):f.isValidElement(t)||Sv(t)?f.createElement(md,{key:"labelList-implicit",content:t}):typeof t=="object"?f.createElement(md,wu({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(null,arguments)}var tE=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=De("recharts-dot",s);return xe(t)&&xe(r)&&xe(n)?f.createElement("circle",mh({},Tr(e),By(e),{className:i,cx:t,cy:r,r:n})):null},rE=e=>e.graphicalItems.polarItems,x9=K([Je,Vl],Gg),Vm=K([rE,at,x9],Xg),h9=K([Vm],Qg),qm=K([h9,Rg],Zg),y9=K([qm,at,Vm],ev);K([qm,at,Vm],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,o=ze(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ze(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var yN=()=>{},g9=K([qm,at,Vm,Um,Je],av),v9=K([at,rv,nv,yN,g9,yN,Oe,Je],sv),nE=K([at,Oe,qm,y9,Hl,Je,v9],iv),b9=K([nE,at,Gi],cv);K([at,nE,b9,Je],uv);var j9={radiusAxis:{},angleAxis:{}},aE=vr({name:"polarAxis",initialState:j9,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:iX,removeRadiusAxis:oX,addAngleAxis:lX,removeAngleAxis:cX}=aE.actions,w9=aE.reducer;function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){N9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N9(e,t,r){return(t=k9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k9(e){var t=_9(e,"string");return typeof t=="symbol"?t:t+""}function _9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S9=(e,t)=>t,Pv=K([rE,S9],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),C9=[],Ev=(e,t,r)=>(r==null?void 0:r.length)===0?C9:r,sE=K([Rg,Pv,Ev],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>vN(vN({},t.presentationProps),i.props))),s!=null)return s}}),P9=K([sE,Pv,Ev],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,o=ze(n,t.nameKey,t.name),l;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Wi(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),E9=K([sE,Pv,Ev,Nt],(e,t,r,n)=>{if(!(t==null||e==null))return PK({offset:n,pieSettings:t,displayedData:e,cells:r})}),iE={exports:{}},Be={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov=Symbol.for("react.transitional.element"),Av=Symbol.for("react.portal"),Ym=Symbol.for("react.fragment"),Gm=Symbol.for("react.strict_mode"),Xm=Symbol.for("react.profiler"),Qm=Symbol.for("react.consumer"),Zm=Symbol.for("react.context"),Jm=Symbol.for("react.forward_ref"),ef=Symbol.for("react.suspense"),tf=Symbol.for("react.suspense_list"),rf=Symbol.for("react.memo"),nf=Symbol.for("react.lazy"),O9=Symbol.for("react.view_transition"),A9=Symbol.for("react.client.reference");function Zr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ov:switch(e=e.type,e){case Ym:case Xm:case Gm:case ef:case tf:case O9:return e;default:switch(e=e&&e.$$typeof,e){case Zm:case Jm:case nf:case rf:return e;case Qm:return e;default:return t}}case Av:return t}}}Be.ContextConsumer=Qm;Be.ContextProvider=Zm;Be.Element=Ov;Be.ForwardRef=Jm;Be.Fragment=Ym;Be.Lazy=nf;Be.Memo=rf;Be.Portal=Av;Be.Profiler=Xm;Be.StrictMode=Gm;Be.Suspense=ef;Be.SuspenseList=tf;Be.isContextConsumer=function(e){return Zr(e)===Qm};Be.isContextProvider=function(e){return Zr(e)===Zm};Be.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ov};Be.isForwardRef=function(e){return Zr(e)===Jm};Be.isFragment=function(e){return Zr(e)===Ym};Be.isLazy=function(e){return Zr(e)===nf};Be.isMemo=function(e){return Zr(e)===rf};Be.isPortal=function(e){return Zr(e)===Av};Be.isProfiler=function(e){return Zr(e)===Xm};Be.isStrictMode=function(e){return Zr(e)===Gm};Be.isSuspense=function(e){return Zr(e)===ef};Be.isSuspenseList=function(e){return Zr(e)===tf};Be.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ym||e===Xm||e===Gm||e===ef||e===tf||typeof e=="object"&&e!==null&&(e.$$typeof===nf||e.$$typeof===rf||e.$$typeof===Zm||e.$$typeof===Qm||e.$$typeof===Jm||e.$$typeof===A9||e.getModuleId!==void 0)};Be.typeOf=Zr;iE.exports=Be;var T9=iE.exports,bN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",jN=null,ap=null,oE=e=>{if(e===jN&&Array.isArray(ap))return ap;var t=[];return f.Children.forEach(e,r=>{Ze(r)||(T9.isFragment(r)?t=t.concat(oE(r.props.children)):t.push(r))}),ap=t,jN=e,t};function Tv(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>bN(s)):n=[bN(t)],oE(e).forEach(s=>{var i=Ps(s,"type.displayName")||Ps(s,"type.name");i&&n.indexOf(i)!==-1&&r.push(s)}),r}var lE=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,cE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(cE);var D9=cE.isPlainObject;const I9=An(D9);function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function NN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){M9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M9(e,t,r){return(t=L9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L9(e){var t=$9(e,"string");return typeof t=="symbol"?t:t+""}function $9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nu.apply(null,arguments)}var kN=(e,t,r,n,s)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},R9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},z9=e=>{var t=yt(e,R9),{x:r,y:n,upperWidth:s,lowerWidth:i,height:o,className:l}=t,{animationEasing:d,animationDuration:c,animationBegin:u,isUpdateAnimationActive:m}=t,p=f.useRef(null),[x,y]=f.useState(-1),g=f.useRef(s),v=f.useRef(i),h=f.useRef(o),b=f.useRef(r),j=f.useRef(n),k=Fl(e,"trapezoid-");if(f.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var A=p.current.getTotalLength();A&&y(A)}catch{}},[]),r!==+r||n!==+n||s!==+s||i!==+i||o!==+o||s===0&&i===0||o===0)return null;var N=De("recharts-trapezoid",l);if(!m)return f.createElement("g",null,f.createElement("path",Nu({},sr(t),{className:N,d:kN(r,n,s,i,o)})));var w=g.current,P=v.current,_=h.current,C=b.current,O=j.current,S="0px ".concat(x===-1?1:x,"px"),E="".concat(x,"px 0px"),I=NC(["strokeDasharray"],c,d);return f.createElement(zl,{animationId:k,key:k,canBegin:x>0,duration:c,easing:d,isActive:m,begin:u},A=>{var M=Ge(w,s,A),U=Ge(P,i,A),W=Ge(_,o,A),L=Ge(C,r,A),R=Ge(O,n,A);p.current&&(g.current=M,v.current=U,h.current=W,b.current=L,j.current=R);var $=A>0?{transition:I,strokeDasharray:E}:{strokeDasharray:S};return f.createElement("path",Nu({},sr(t),{className:N,d:kN(L,R,M,U,W),ref:p,style:NN(NN({},$),t.style)}))})},F9=["option","shapeType","propTransformer","activeClassName"];function B9(e,t){if(e==null)return{};var r,n,s=U9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function U9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){W9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W9(e,t,r){return(t=K9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K9(e){var t=H9(e,"string");return typeof t=="symbol"?t:t+""}function H9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V9(e,t){return ku(ku({},t),e)}function q9(e,t){return e==="symbols"}function SN(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return f.createElement(CC,r);case"trapezoid":return f.createElement(z9,r);case"sector":return f.createElement(AC,r);case"symbols":if(q9(t))return f.createElement(Fy,r);break;case"curve":return f.createElement(pg,r);default:return null}}function Y9(e){return f.isValidElement(e)?e.props:e}function Dv(e){var{option:t,shapeType:r,propTransformer:n=V9,activeClassName:s="recharts-active-shape"}=e,i=B9(e,F9),o;if(f.isValidElement(t))o=f.cloneElement(t,ku(ku({},i),Y9(t)));else if(typeof t=="function")o=t(i,i.index);else if(I9(t)&&typeof t!="boolean"){var l=n(t,i);o=f.createElement(SN,{shapeType:r,elementProps:l})}else{var d=i;o=f.createElement(SN,{shapeType:r,elementProps:d})}return i.isActive?f.createElement(It,{className:s},o):o}var Iv=(e,t,r)=>{var n=Ke();return(s,i)=>o=>{e==null||e(s,i,o),n(x4({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}},Mv=e=>{var t=Ke();return(r,n)=>s=>{e==null||e(r,n,s),t(f7())}},Lv=(e,t,r)=>{var n=Ke();return(s,i)=>o=>{e==null||e(s,i,o),n(p7({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}};function $v(e){var{tooltipEntrySettings:t}=e,r=Ke(),n=Jt(),s=f.useRef(null);return f.useLayoutEffect(()=>{n||(s.current===null?r(c7(t)):s.current!==t&&r(d7({prev:s.current,next:t})),s.current=t)},[t,r,n]),f.useLayoutEffect(()=>()=>{s.current&&(r(u7(s.current)),s.current=null)},[r]),null}function dE(e){var{legendPayload:t}=e,r=Ke(),n=Jt(),s=f.useRef(null);return f.useLayoutEffect(()=>{n||(s.current===null?r(gC(t)):s.current!==t&&r(vC({prev:s.current,next:t})),s.current=t)},[r,n,t]),f.useLayoutEffect(()=>()=>{s.current&&(r(bC(s.current)),s.current=null)},[r]),null}function G9(e){var{legendPayload:t}=e,r=Ke(),n=me(Oe),s=f.useRef(null);return f.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(s.current===null?r(gC(t)):s.current!==t&&r(vC({prev:s.current,next:t})),s.current=t)},[r,n,t]),f.useLayoutEffect(()=>()=>{s.current&&(r(bC(s.current)),s.current=null)},[r]),null}var sp,X9=()=>{var[e]=f.useState(()=>nl("uid-"));return e},Q9=(sp=m1.useId)!==null&&sp!==void 0?sp:X9;function uE(e,t){var r=Q9();return t||(e?"".concat(e,"-").concat(r):r)}var Z9=f.createContext(void 0),Rv=e=>{var{id:t,type:r,children:n}=e,s=uE("recharts-".concat(r),t);return f.createElement(Z9.Provider,{value:s},n(s))},J9={cartesianItems:[],polarItems:[]},mE=vr({name:"graphicalItems",initialState:J9,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ye()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,s=un(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},prepare:Ye()},removeCartesianGraphicalItem:{reducer(e,t){var r=un(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ye()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ye()},removePolarGraphicalItem:{reducer(e,t){var r=un(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ye()}}}),{addCartesianGraphicalItem:eK,replaceCartesianGraphicalItem:tK,removeCartesianGraphicalItem:rK,addPolarGraphicalItem:nK,removePolarGraphicalItem:aK}=mE.actions,sK=mE.reducer,iK=e=>{var t=Ke(),r=f.useRef(null);return f.useLayoutEffect(()=>{r.current===null?t(eK(e)):r.current!==e&&t(tK({prev:r.current,next:e})),r.current=e},[t,e]),f.useLayoutEffect(()=>()=>{r.current&&(t(rK(r.current)),r.current=null)},[t]),null},fE=f.memo(iK);function oK(e){var t=Ke();return f.useLayoutEffect(()=>(t(nK(e)),()=>{t(aK(e))}),[t,e]),null}var lK=["key"],cK=["onMouseEnter","onClick","onMouseLeave"],dK=["id"],uK=["id"];function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){mK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mK(e,t,r){return(t=fK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fK(e){var t=pK(e,"string");return typeof t=="symbol"?t:t+""}function pK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ha.apply(null,arguments)}function af(e,t){if(e==null)return{};var r,n,s=xK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hK(e){var t=f.useMemo(()=>Tv(e.children,Ji),[e.children]),r=me(n=>P9(n,e.id,t));return r==null?null:f.createElement(G9,{legendPayload:r})}var yK=f.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:o,name:l,hide:d,tooltipType:c}=e,u={dataDefinedOnItem:n.map(m=>m.tooltipPayload),positions:n.map(m=>m.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Wi(l,t),hide:d,type:c,color:o,unit:""}};return f.createElement($v,{tooltipEntrySettings:u})}),gK=(e,t)=>e>t?"start":e<t?"end":"middle",vK=(e,t,r)=>Qt(typeof t=="function"?t(e):t,r,r*.8),bK=(e,t,r)=>{var{top:n,left:s,width:i,height:o}=t,l=PC(i,o),d=s+Qt(e.cx,i,i/2),c=n+Qt(e.cy,o,o/2),u=Qt(e.innerRadius,l,0),m=vK(r,e.outerRadius,l),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:d,cy:c,innerRadius:u,outerRadius:m,maxRadius:p}},jK=(e,t)=>{var r=Tt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function wK(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var NK=(e,t)=>{if(f.isValidElement(e))return f.cloneElement(e,t);if(typeof e=="function")return e(t);var r=De("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,s=af(t,lK);return f.createElement(pg,Ha({},s,{type:"linear",className:r}))},kK=(e,t,r)=>{if(f.isValidElement(e))return f.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),f.isValidElement(n)))return n;var s=De("recharts-pie-label-text",wK(e));return f.createElement(Hm,Ha({},t,{alignmentBaseline:"middle",className:s}),n)};function _K(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=r;if(!n||!s||!t)return null;var l=Tr(r),d=Cs(s),c=Cs(i),u=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,m=t.map((p,x)=>{var y=(p.startAngle+p.endAngle)/2,g=ft(p.cx,p.cy,p.outerRadius+u,y),v=it(it(it(it({},l),p),{},{stroke:"none"},d),{},{index:x,textAnchor:gK(g.x,p.cx)},g),h=it(it(it(it({},l),p),{},{fill:"none",stroke:p.fill},c),{},{index:x,points:[ft(p.cx,p.cy,p.outerRadius,y),g],key:"line"});return f.createElement(br,{zIndex:pt.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(x)},f.createElement(It,null,i&&NK(i,h),kK(s,v,ze(p,o))))});return f.createElement(It,{className:"recharts-pie-labels"},m)}function SK(e){var{sectors:t,props:r,showLabels:n}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?f.createElement(Cv,{label:s}):f.createElement(_K,{sectors:t,props:r,showLabels:n})}function CK(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s,shape:i,id:o}=e,l=me(Ka),d=me(bv),c=me(J7),{onMouseEnter:u,onClick:m,onMouseLeave:p}=s,x=af(s,cK),y=Iv(u,s.dataKey,o),g=Mv(p),v=Lv(m,s.dataKey,o);return t==null||t.length===0?null:f.createElement(f.Fragment,null,t.map((h,b)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&t.length!==1)return null;var j=c==null||c===o,k=String(b)===l&&(d==null||s.dataKey===d)&&j,N=l?n:null,w=r&&k?r:N,P=it(it({},h),{},{stroke:h.stroke,tabIndex:-1,[tC]:b,[rC]:s.dataKey});return f.createElement(It,Ha({key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Al(x,h,b),{onMouseEnter:y(h,b),onMouseLeave:g(h,b),onClick:v(h,b)}),f.createElement(Dv,Ha({option:i??w,index:b,shapeType:"sector",isActive:k},P)))}))}function PK(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:d,dataKey:c,nameKey:u,tooltipType:m}=r,p=Math.abs(r.minAngle),x=jK(l,d),y=Math.abs(x),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(w=>ze(w,c,0)!==0).length,h=(y>=360?v:v-1)*g,b=y-v*p-h,j=n.reduce((w,P)=>{var _=ze(P,c,0);return w+(xe(_)?_:0)},0),k;if(j>0){var N;k=n.map((w,P)=>{var _=ze(w,c,0),C=ze(w,u,P),O=bK(r,i,w),S=(xe(_)?_:0)/j,E,I=it(it({},w),s&&s[P]&&s[P].props);P?E=N.endAngle+Tt(x)*g*(_!==0?1:0):E=l;var A=E+Tt(x)*((_!==0?p:0)+S*b),M=(E+A)/2,U=(O.innerRadius+O.outerRadius)/2,W=[{name:C,value:_,payload:I,dataKey:c,type:m}],L=ft(O.cx,O.cy,U,M);return N=it(it(it(it({},r.presentationProps),{},{percent:S,cornerRadius:typeof o=="string"?parseFloat(o):o,name:C,tooltipPayload:W,midAngle:M,middleRadius:U,tooltipPosition:L},I),O),{},{value:_,dataKey:c,startAngle:E,endAngle:A,payload:I,paddingAngle:Tt(x)*g}),N})}return k}function EK(e){var{showLabels:t,sectors:r,children:n}=e,s=f.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return f.createElement(m9,{value:t?s:void 0},n)}function OK(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:d,activeShape:c,inactiveShape:u,onAnimationStart:m,onAnimationEnd:p}=t,x=Fl(t,"recharts-pie-"),y=r.current,[g,v]=f.useState(!1),h=f.useCallback(()=>{typeof p=="function"&&p(),v(!1)},[p]),b=f.useCallback(()=>{typeof m=="function"&&m(),v(!0)},[m]);return f.createElement(EK,{showLabels:!g,sectors:s},f.createElement(zl,{animationId:x,begin:o,duration:l,isActive:i,easing:d,onAnimationStart:b,onAnimationEnd:h,key:x},j=>{var k=[],N=s&&s[0],w=N==null?void 0:N.startAngle;return s==null||s.forEach((P,_)=>{var C=y&&y[_],O=_>0?Ps(P,"paddingAngle",0):0;if(C){var S=Ge(C.endAngle-C.startAngle,P.endAngle-P.startAngle,j),E=it(it({},P),{},{startAngle:w+O,endAngle:w+S+O});k.push(E),w=E.endAngle}else{var{endAngle:I,startAngle:A}=P,M=Ge(0,I-A,j),U=it(it({},P),{},{startAngle:w+O,endAngle:w+M+O});k.push(U),w=U.endAngle}}),r.current=k,f.createElement(It,null,f.createElement(CK,{sectors:k,activeShape:c,inactiveShape:u,allOtherPieProps:t,shape:t.shape,id:n}))}),f.createElement(SK,{showLabels:!g,sectors:s,props:t}),t.children)}var AK={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:pt.area};function TK(e){var{id:t}=e,r=af(e,dK),{hide:n,className:s,rootTabIndex:i}=e,o=f.useMemo(()=>Tv(e.children,Ji),[e.children]),l=me(u=>E9(u,t,o)),d=f.useRef(null),c=De("recharts-pie",s);return n||l==null?(d.current=null,f.createElement(It,{tabIndex:i,className:c})):f.createElement(br,{zIndex:e.zIndex},f.createElement(yK,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),f.createElement(It,{tabIndex:i,className:c},f.createElement(OK,{props:it(it({},r),{},{sectors:l}),previousSectorsRef:d,id:t})))}function zv(e){var t=yt(e,AK),{id:r}=t,n=af(t,uK),s=Tr(n);return f.createElement(Rv,{id:r,type:"pie"},i=>f.createElement(f.Fragment,null,f.createElement(oK,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),f.createElement(hK,Ha({},n,{id:i})),f.createElement(TK,Ha({},n,{id:i}))))}zv.displayName="Pie";var DK=["points"];function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ip(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){IK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IK(e,t,r){return(t=MK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=LK(e,"string");return typeof t=="symbol"?t:t+""}function LK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_u.apply(null,arguments)}function $K(e,t){if(e==null)return{};var r,n,s=RK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function RK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zK(e){var{option:t,dotProps:r,className:n}=e;if(f.isValidElement(t))return f.cloneElement(t,r);if(typeof t=="function")return t(r);var s=De(n,typeof t!="boolean"?t.className:""),i=r??{},{points:o}=i,l=$K(i,DK);return f.createElement(tE,_u({},l,{className:s}))}function FK(e,t){return e==null?!1:t?!0:e.length===1}function BK(e){var{points:t,dot:r,className:n,dotClassName:s,dataKey:i,baseProps:o,needClip:l,clipPathId:d,zIndex:c=pt.scatter}=e;if(!FK(t,r))return null;var u=lE(r),m=FM(r),p=t.map((y,g)=>{var v,h,b=ip(ip(ip({r:3},o),m),{},{index:g,cx:(v=y.x)!==null&&v!==void 0?v:void 0,cy:(h=y.y)!==null&&h!==void 0?h:void 0,dataKey:i,value:y.value,payload:y.payload,points:t});return f.createElement(zK,{key:"dot-".concat(g),option:r,dotProps:b,className:s})}),x={};return l&&d!=null&&(x.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(d,")")),f.createElement(br,{zIndex:c},f.createElement(It,_u({className:n},x),p))}function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ON(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){UK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UK(e,t,r){return(t=WK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WK(e){var t=KK(e,"string");return typeof t=="symbol"?t:t+""}function KK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HK={xAxis:{},yAxis:{},zAxis:{}},pE=vr({name:"cartesianAxis",initialState:HK,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ye()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ye()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ye()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ye()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ye()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ye()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ye()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ye()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ye()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,s=e.yAxis[r];if(s){var i=s.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==s.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=ON(ON({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:VK,replaceXAxis:qK,removeXAxis:YK,addYAxis:GK,replaceYAxis:XK,removeYAxis:QK,addZAxis:dX,replaceZAxis:uX,removeZAxis:mX,updateYAxisWidth:ZK}=pE.actions,JK=pE.reducer,eH=K([Nt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),tH=K([eH,oa,la],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Fv=()=>me(tH),rH=()=>me(aU);function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){nH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nH(e,t,r){return(t=aH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aH(e){var t=sH(e,"string");return typeof t=="symbol"?t:t+""}function sH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iH=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i,clipPath:o}=e;if(s===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=op(op(op({},l),Cs(s)),By(s)),c;return f.isValidElement(s)?c=f.cloneElement(s,d):typeof s=="function"?c=s(d):c=f.createElement(tE,d),f.createElement(It,{className:"recharts-active-dot",clipPath:o},c)};function oH(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s,clipPath:i,zIndex:o=pt.activeDot}=e,l=me(Ka),d=rH();if(t==null||d==null)return null;var c=t.find(u=>d.includes(u.payload));return Ze(c)?null:f.createElement(br,{zIndex:o},f.createElement(iH,{point:c,childIndex:Number(l),mainColor:r,dataKey:s,activeDot:n,clipPath:i}))}var lH="Invariant failed";function cH(e,t){throw new Error(lH)}var dH=["x","y"];function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(null,arguments)}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){uH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uH(e,t,r){return(t=mH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mH(e){var t=fH(e,"string");return typeof t=="symbol"?t:t+""}function fH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pH(e,t){if(e==null)return{};var r,n,s=xH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hH(e,t){var{x:r,y:n}=e,s=pH(e,dH),i="".concat(r),o=parseInt(i,10),l="".concat(n),d=parseInt(l,10),c="".concat(t.height||s.height),u=parseInt(c,10),m="".concat(t.width||s.width),p=parseInt(m,10);return go(go(go(go(go({},t),s),o?{x:o}:{}),d?{y:d}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function Su(e){return f.createElement(Dv,fh({shapeType:"rectangle",propTransformer:hH,activeClassName:"recharts-active-bar"},e))}var yH=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(xe(t))return t;var i=xe(n)||Ze(n);return i?t(n,s):(i||cH(),r)}},gH={},xE=vr({name:"errorBars",initialState:gH,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:fX,replaceErrorBar:pX,removeErrorBar:xX}=xE.actions,vH=xE.reducer,bH=["children"];function jH(e,t){if(e==null)return{};var r,n,s=wH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function wH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NH={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},kH=f.createContext(NH);function hE(e){var{children:t}=e,r=jH(e,bH);return f.createElement(kH.Provider,{value:r},t)}function Bv(e,t){var r,n,s=me(c=>da(c,e)),i=me(c=>ua(c,t)),o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Pt.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Et.allowDataOverflow,d=o||l;return{needClip:d,needClipX:o,needClipY:l}}function yE(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=Fv(),{needClipX:i,needClipY:o,needClip:l}=Bv(t,r);if(!l||!s)return null;var{x:d,y:c,width:u,height:m}=s;return f.createElement("clipPath",{id:"clipPath-".concat(n)},f.createElement("rect",{x:i?d:d-u/2,y:o?c:c-m/2,width:i?u:u*2,height:o?m:m*2}))}function _H(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&dt(e.zIndex)?e.zIndex:t}var SH={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc=f;function CH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PH=typeof Object.is=="function"?Object.is:CH,EH=tc.useSyncExternalStore,OH=tc.useRef,AH=tc.useEffect,TH=tc.useMemo,DH=tc.useDebugValue;SH.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=OH(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=TH(function(){function d(x){if(!c){if(c=!0,u=x,x=n(x),s!==void 0&&o.hasValue){var y=o.value;if(s(y,x))return m=y}return m=x}if(y=m,PH(u,x))return y;var g=n(x);return s!==void 0&&s(y,g)?(u=x,y):(u=x,m=g)}var c=!1,u,m,p=r===void 0?null:r;return[function(){return d(t())},p===null?void 0:function(){return d(p())}]},[t,r,n,s]);var l=EH(e,i[0],i[1]);return AH(function(){o.hasValue=!0,o.value=l},[l]),DH(l),l};function IH(e){e()}function MH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){IH(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var DN={notify(){},get:()=>[]};function LH(e,t){let r,n=DN,s=0,i=!1;function o(g){u();const v=n.subscribe(g);let h=!1;return()=>{h||(h=!0,v(),m())}}function l(){n.notify()}function d(){y.onStateChange&&y.onStateChange()}function c(){return i}function u(){s++,r||(r=e.subscribe(d),n=MH())}function m(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=DN)}function p(){i||(i=!0,u())}function x(){i&&(i=!1,m())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:d,isSubscribed:c,trySubscribe:p,tryUnsubscribe:x,getListeners:()=>n};return y}var $H=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RH=$H(),zH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",FH=zH(),BH=()=>RH||FH?f.useLayoutEffect:f.useEffect,UH=BH();function IN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function WH(e,t){if(IN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!IN(e[r[s]],t[r[s]]))return!1;return!0}var lp=Symbol.for("react-redux-context"),cp=typeof globalThis<"u"?globalThis:{};function KH(){if(!f.createContext)return{};const e=cp[lp]??(cp[lp]=new Map);let t=e.get(f.createContext);return t||(t=f.createContext(null),e.set(f.createContext,t)),t}var HH=KH();function VH(e){const{children:t,context:r,serverState:n,store:s}=e,i=f.useMemo(()=>{const d=LH(s);return{store:s,subscription:d,getServerState:n?()=>n:void 0}},[s,n]),o=f.useMemo(()=>s.getState(),[s]);UH(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const l=r||HH;return f.createElement(l.Provider,{value:i},t)}var qH=VH,YH=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function GH(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function sf(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(YH.has(n)){if(e[n]==null&&t[n]==null)continue;if(!WH(e[n],t[n]))return!1}else if(!GH(e[n],t[n]))return!1;return!0}var XH=["onMouseEnter","onMouseLeave","onClick"],QH=["value","background","tooltipPosition"],ZH=["id"],JH=["onMouseEnter","onClick","onMouseLeave"];function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aa.apply(null,arguments)}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){eV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eV(e,t,r){return(t=tV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tV(e){var t=rV(e,"string");return typeof t=="symbol"?t:t+""}function rV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cu(e,t){if(e==null)return{};var r,n,s=nV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aV=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Wi(r,t),payload:e}]},sV=f.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:o,unit:l,tooltipType:d}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:Wi(i,t),hide:o,type:d,color:s,unit:l}};return f.createElement($v,{tooltipEntrySettings:c})});function iV(e){var t=me(Ka),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:d}=i,c=Cu(i,XH),u=Iv(o,n),m=Mv(l),p=Lv(d,n);if(!s||r==null)return null;var x=Cs(s);return f.createElement(br,{zIndex:_H(s,pt.barBackground)},r.map((y,g)=>{var{value:v,background:h,tooltipPosition:b}=y,j=Cu(y,QH);if(!h)return null;var k=u(y,g),N=m(y,g),w=p(y,g),P=tr(tr(tr(tr(tr({option:s,isActive:String(g)===t},j),{},{fill:"#eee"},h),x),Al(c,y,g)),{},{onMouseEnter:k,onMouseLeave:N,onClick:w,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return f.createElement(Su,aa({key:"background-bar-".concat(g)},P))}))}function oV(e){var{showLabels:t,children:r,rects:n}=e,s=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return tr(tr({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return f.createElement(J4,{value:t?s:void 0},r)}function lV(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:i,dataKey:o}=e,l=me(Ka),d=me(bv),c=r&&String(i)===l&&(d==null||o===d),u=c?r:t;return c?f.createElement(br,{zIndex:pt.activeBar},f.createElement(Su,aa({},n,{name:String(n.name)},s,{isActive:c,option:u,index:i,dataKey:o}))):f.createElement(Su,aa({},n,{name:String(n.name)},s,{isActive:c,option:u,index:i,dataKey:o}))}function cV(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:i}=e;return f.createElement(Su,aa({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:s,dataKey:i}))}function dV(e){var t,{data:r,props:n}=e,s=(t=Tr(n))!==null&&t!==void 0?t:{},{id:i}=s,o=Cu(s,ZH),{shape:l,dataKey:d,activeBar:c}=n,{onMouseEnter:u,onClick:m,onMouseLeave:p}=n,x=Cu(n,JH),y=Iv(u,d),g=Mv(p),v=Lv(m,d);return r?f.createElement(f.Fragment,null,r.map((h,b)=>f.createElement(It,aa({key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(b),className:"recharts-bar-rectangle"},Al(x,h,b),{onMouseEnter:y(h,b),onMouseLeave:g(h,b),onClick:v(h,b)}),c?f.createElement(lV,{shape:l,activeBar:c,baseProps:o,entry:h,index:b,dataKey:d}):f.createElement(cV,{shape:l,baseProps:o,entry:h,index:b,dataKey:d})))):null}function uV(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:d,onAnimationEnd:c,onAnimationStart:u}=t,m=r.current,p=Fl(t,"recharts-bar-"),[x,y]=f.useState(!1),g=!x,v=f.useCallback(()=>{typeof c=="function"&&c(),y(!1)},[c]),h=f.useCallback(()=>{typeof u=="function"&&u(),y(!0)},[u]);return f.createElement(oV,{showLabels:g,rects:n},f.createElement(zl,{animationId:p,begin:o,duration:l,isActive:i,easing:d,onAnimationEnd:v,onAnimationStart:h,key:p},b=>{var j=b===1?n:n==null?void 0:n.map((k,N)=>{var w=m&&m[N];if(w)return tr(tr({},k),{},{x:Ge(w.x,k.x,b),y:Ge(w.y,k.y,b),width:Ge(w.width,k.width,b),height:Ge(w.height,k.height,b)});if(s==="horizontal"){var P=Ge(0,k.height,b),_=Ge(k.stackedBarStart,k.y,b);return tr(tr({},k),{},{y:_,height:P})}var C=Ge(0,k.width,b),O=Ge(k.stackedBarStart,k.x,b);return tr(tr({},k),{},{width:C,x:O})});return b>0&&(r.current=j??null),j==null?null:f.createElement(It,null,f.createElement(dV,{props:t,data:j}))}),f.createElement(Cv,{label:t.label}),t.children)}function mV(e){var t=f.useRef(null);return f.createElement(uV,{previousRectanglesRef:t,props:e})}var gE=0,fV=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:ze(e,t)}};class pV extends f.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:o,needClip:l,background:d,id:c}=this.props;if(t||r==null)return null;var u=De("recharts-bar",s),m=c;return f.createElement(It,{className:u,id:c},l&&f.createElement("defs",null,f.createElement(yE,{clipPathId:m,xAxisId:i,yAxisId:o})),f.createElement(It,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(m,")"):void 0},f.createElement(iV,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),f.createElement(mV,this.props)))}}var xV={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:gE,xAxisId:0,yAxisId:0,zIndex:pt.bar};function hV(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:c,isAnimationActive:u}=e,{needClip:m}=Bv(t,r),p=Ll(),x=Jt(),y=Tv(e.children,Ji),g=me(b=>KV(b,t,r,x,e.id,y));if(p!=="vertical"&&p!=="horizontal")return null;var v,h=g==null?void 0:g[0];return h==null||h.height==null||h.width==null?v=0:v=p==="vertical"?h.height/2:h.width/2,f.createElement(hE,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:fV,errorBarOffset:v},f.createElement(pV,aa({},e,{layout:p,needClip:m,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:c,isAnimationActive:u})))}function yV(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:d,yAxisTicks:c,stackedData:u,displayedData:m,offset:p,cells:x,parentViewBox:y,dataStartIndex:g}=e,v=t==="horizontal"?l:o,h=u?v.scale.domain():null,b=Y5({numericAxis:v}),j=v.scale(b);return m.map((k,N)=>{var w,P,_,C,O,S;u?w=U5(u[N+g],h):(w=ze(k,r),Array.isArray(w)||(w=[b,w]));var E=yH(n,gE)(w[1],N);if(t==="horizontal"){var I,[A,M]=[l.scale(w[0]),l.scale(w[1])];P=yj({axis:o,ticks:d,bandSize:i,offset:s.offset,entry:k,index:N}),_=(I=M??A)!==null&&I!==void 0?I:void 0,C=s.size;var U=A-M;if(O=fn(U)?0:U,S={x:P,y:p.top,width:C,height:p.height},Math.abs(E)>0&&Math.abs(O)<Math.abs(E)){var W=Tt(O||E)*(Math.abs(E)-Math.abs(O));_-=W,O+=W}}else{var[L,R]=[o.scale(w[0]),o.scale(w[1])];if(P=L,_=yj({axis:l,ticks:c,bandSize:i,offset:s.offset,entry:k,index:N}),C=R-L,O=s.size,S={x:p.left,y:_,width:p.width,height:O},Math.abs(E)>0&&Math.abs(C)<Math.abs(E)){var $=Tt(C||E)*(Math.abs(E)-Math.abs(C));C+=$}}if(P==null||_==null||C==null||O==null)return null;var X=tr(tr({},k),{},{stackedBarStart:j,x:P,y:_,width:C,height:O,value:u?w:w[1],payload:k,background:S,tooltipPosition:{x:P+C/2,y:_+O/2},parentViewBox:y},x&&x[N]&&x[N].props);return X}).filter(Boolean)}function gV(e){var t=yt(e,xV),r=Jt();return f.createElement(Rv,{id:t.id,type:"bar"},n=>f.createElement(f.Fragment,null,f.createElement(dE,{legendPayload:aV(t)}),f.createElement(sV,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),f.createElement(fE,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:q5(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),f.createElement(br,{zIndex:t.zIndex},f.createElement(hV,aa({},t,{id:n})))))}var vE=f.memo(gV,sf);vE.displayName="Bar";function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){vV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vV(e,t,r){return(t=bV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bV(e){var t=jV(e,"string");return typeof t=="symbol"?t:t+""}function jV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wV=(e,t)=>t,NV=(e,t,r)=>r,kV=(e,t,r,n)=>n,_V=(e,t,r,n,s)=>s,rc=K([Fm,_V],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),SV=K([rc],e=>e==null?void 0:e.maxBarSize),CV=(e,t,r,n,s,i)=>i,$N=(e,t,r)=>{var n=r??e;if(!Ze(n))return Qt(n,t,0)},PV=K([Oe,Fm,wV,NV,kV],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),EV=(e,t,r,n)=>{var s=Oe(e);return s==="horizontal"?sh(e,"yAxis",r,n):sh(e,"xAxis",t,n)},OV=(e,t,r)=>{var n=Oe(e);return n==="horizontal"?Uw(e,"xAxis",t):Uw(e,"yAxis",r)},AV=(e,t,r)=>{var n={},s=e.filter($m),i=e.filter(c=>c.stackId==null),o=s.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),l=Object.entries(o).map(c=>{var[u,m]=c,p=m.map(y=>y.dataKey),x=$N(t,r,m[0].barSize);return{stackId:u,dataKeys:p,barSize:x}}),d=i.map(c=>{var u=[c.dataKey].filter(p=>p!=null),m=$N(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:m}});return[...l,...d]},TV=K([PV,r8,OV],AV),DV=(e,t,r,n,s)=>{var i,o,l=rc(e,t,r,n,s);if(l!=null){var d=Oe(e),c=OP(e),{maxBarSize:u}=l,m=Ze(u)?c:u,p,x;return d==="horizontal"?(p=Wa(e,"xAxis",t,n),x=Ua(e,"xAxis",t,n)):(p=Wa(e,"yAxis",r,n),x=Ua(e,"yAxis",r,n)),(i=(o=Ei(p,x,!0))!==null&&o!==void 0?o:m)!==null&&i!==void 0?i:0}},bE=(e,t,r,n)=>{var s=Oe(e),i,o;return s==="horizontal"?(i=Wa(e,"xAxis",t,n),o=Ua(e,"xAxis",t,n)):(i=Wa(e,"yAxis",r,n),o=Ua(e,"yAxis",r,n)),Ei(i,o)};function IV(e,t,r,n,s){var i=n.length;if(!(i<1)){var o=Qt(e,r,0,!0),l,d=[];if(dt(n[0].barSize)){var c=!1,u=r/i,m=n.reduce((h,b)=>h+(b.barSize||0),0);m+=(i-1)*o,m>=r&&(m-=(i-1)*o,o=0),m>=r&&u>0&&(c=!0,u*=.9,m=i*u);var p=(r-m)/2>>0,x={offset:p-o,size:0};l=n.reduce((h,b)=>{var j,k={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:x.offset+x.size+o,size:c?u:(j=b.barSize)!==null&&j!==void 0?j:0}},N=[...h,k];return x=N[N.length-1].position,N},d)}else{var y=Qt(t,r,0,!0);r-2*y-(i-1)*o<=0&&(o=0);var g=(r-2*y-(i-1)*o)/i;g>1&&(g>>=0);var v=dt(s)?Math.min(g,s):g;l=n.reduce((h,b,j)=>[...h,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:y+(g+o)*j+(g-v)/2,size:v}}],d)}return l}}var MV=(e,t,r,n,s,i,o)=>{var l=Ze(o)?t:o,d=IV(r,n,s!==i?s:i,e,l);return s!==i&&d!=null&&(d=d.map(c=>Bc(Bc({},c),{},{position:Bc(Bc({},c.position),{},{offset:c.position.offset-s/2})}))),d},LV=K([TV,OP,t8,AP,DV,bE,SV],MV),$V=(e,t,r,n)=>Wa(e,"xAxis",t,n),RV=(e,t,r,n)=>Wa(e,"yAxis",r,n),zV=(e,t,r,n)=>Ua(e,"xAxis",t,n),FV=(e,t,r,n)=>Ua(e,"yAxis",r,n),BV=K([LV,rc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),UV=(e,t)=>{var r=qg(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===r)}}}},WV=K([EV,rc],UV),KV=K([Nt,lg,$V,RV,zV,FV,BV,Oe,Im,bE,WV,rc,CV],(e,t,r,n,s,i,o,l,d,c,u,m,p)=>{var{chartData:x,dataStartIndex:y,dataEndIndex:g}=d;if(!(m==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||s==null||i==null||c==null)){var{data:v}=m,h;if(v!=null&&v.length>0?h=v:h=x==null?void 0:x.slice(y,g+1),h!=null)return yV({layout:l,barSettings:m,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,stackedData:u,displayedData:h,offset:e,cells:p,dataStartIndex:y})}}),jE=e=>{var{chartData:t}=e,r=Ke(),n=Jt();return f.useEffect(()=>n?()=>{}:(r(eN(t)),()=>{r(eN(void 0))}),[t,r,n]),null},RN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},wE=vr({name:"brush",initialState:RN,reducers:{setBrushSettings(e,t){return t.payload==null?RN:t.payload}}}),{setBrushSettings:hX}=wE.actions,HV=wE.reducer;function VV(e,t,r){return(t=qV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qV(e){var t=YV(e,"string");return typeof t=="symbol"?t:t+""}function YV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Uv{static create(t){return new Uv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}VV(Uv,"EPS",1e-4);function GV(e){return(e%180+180)%180}var XV=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=GV(s),o=i*Math.PI/180,l=Math.atan(n/r),d=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},QV={dots:[],areas:[],lines:[]},NE=vr({name:"referenceElements",initialState:QV,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=un(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=un(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=un(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:yX,removeDot:gX,addArea:vX,removeArea:bX,addLine:jX,removeLine:wX}=NE.actions,ZV=NE.reducer,JV=f.createContext(void 0),eq=e=>{var{children:t}=e,[r]=f.useState("".concat(nl("recharts"),"-clip")),n=Fv();if(n==null)return null;var{x:s,y:i,width:o,height:l}=n;return f.createElement(JV.Provider,{value:r},f.createElement("defs",null,f.createElement("clipPath",{id:r},f.createElement("rect",{x:s,y:i,height:l,width:o}))),t)};function kE(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function tq(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return XV(n,r)}function rq(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Pu(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function nq(e,t){return kE(e,t+1)}function aq(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:l}=t,d=0,c=1,u=o,m=function(){var y=n==null?void 0:n[d];if(y===void 0)return{v:kE(n,c)};var g=d,v,h=()=>(v===void 0&&(v=r(y,g)),v),b=y.coordinate,j=d===0||Pu(e,b,h,u,l);j||(d=0,u=o,c+=1),j&&(u=b+e*(h()/2+s),d+=c)},p;c<=i.length;)if(p=m(),p)return p.v;return[]}function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){sq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sq(e,t,r){return(t=iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iq(e){var t=oq(e,"string");return typeof t=="symbol"?t:t+""}function oq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lq(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:d}=t,c=function(p){var x=i[p],y,g=()=>(y===void 0&&(y=r(x,p)),y);if(p===o-1){var v=e*(x.coordinate+e*g()/2-d);i[p]=x=qt(qt({},x),{},{tickCoord:v>0?x.coordinate-v*e:x.coordinate})}else i[p]=x=qt(qt({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var h=Pu(e,x.tickCoord,g,l,d);h&&(d=x.tickCoord-e*(g()/2+s),i[p]=qt(qt({},x),{},{isShow:!0}))}},u=o-1;u>=0;u--)c(u);return i}function cq(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,{start:d,end:c}=t;if(i){var u=n[l-1],m=r(u,l-1),p=e*(u.coordinate+e*m/2-c);if(o[l-1]=u=qt(qt({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate}),u.tickCoord!=null){var x=Pu(e,u.tickCoord,()=>m,d,c);x&&(c=u.tickCoord-e*(m/2+s),o[l-1]=qt(qt({},u),{},{isShow:!0}))}}for(var y=i?l-1:l,g=function(b){var j=o[b],k,N=()=>(k===void 0&&(k=r(j,b)),k);if(b===0){var w=e*(j.coordinate-e*N()/2-d);o[b]=j=qt(qt({},j),{},{tickCoord:w<0?j.coordinate-w*e:j.coordinate})}else o[b]=j=qt(qt({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var P=Pu(e,j.tickCoord,N,d,c);P&&(d=j.tickCoord+e*(N()/2+s),o[b]=qt(qt({},j),{},{isShow:!0}))}},v=0;v<y;v++)g(v);return o}function Wv(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:d,tickFormatter:c,unit:u,angle:m}=e;if(!s||!s.length||!n)return[];if(xe(d)||Rl.isSsr){var p;return(p=nq(s,xe(d)?d:0))!==null&&p!==void 0?p:[]}var x=[],y=l==="top"||l==="bottom"?"width":"height",g=u&&y==="width"?$o(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(j,k)=>{var N=typeof c=="function"?c(j.value,k):j.value;return y==="width"?tq($o(N,{fontSize:t,letterSpacing:r}),g,m):$o(N,{fontSize:t,letterSpacing:r})[y]},h=s.length>=2?Tt(s[1].coordinate-s[0].coordinate):1,b=rq(i,h,y);return d==="equidistantPreserveStart"?aq(h,b,v,s,o):(d==="preserveStart"||d==="preserveStartEnd"?x=cq(h,b,v,s,o,d==="preserveStartEnd"):x=lq(h,b,v,s,o),x.filter(j=>j.isShow))}var dq=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(u=>{if(u){var m=u.getBoundingClientRect();m.width>o&&(o=m.width)}});var l=r?r.getBoundingClientRect().width:0,d=s+i,c=o+d+l+(r?n:0);return Math.round(c)}return 0},uq=["axisLine","width","height","className","hide","ticks","axisType"];function mq(e,t){if(e==null)return{};var r,n,s=fq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function fq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ts.apply(null,arguments)}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pq(e,t,r){return(t=xq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xq(e){var t=hq(e,"string");return typeof t=="symbol"?t:t+""}function hq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:pt.axis};function yq(e){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:l,otherSvgProps:d}=e;if(!l)return null;var c=ut(ut(ut({},d),Tr(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);c=ut(ut({},c),{},{x1:t,y1:r+u*s,x2:t+n,y2:r+u*s})}else{var m=+(i==="left"&&!o||i==="right"&&o);c=ut(ut({},c),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+s})}return f.createElement("line",Ts({},c,{className:De("recharts-cartesian-axis-line",Ps(l,"className"))}))}function gq(e,t,r,n,s,i,o,l,d){var c,u,m,p,x,y,g=l?-1:1,v=e.tickSize||o,h=xe(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=u=e.coordinate,p=r+ +!l*s,m=p-g*v,y=m-g*d,x=h;break;case"left":m=p=e.coordinate,u=t+ +!l*n,c=u-g*v,x=c-g*d,y=h;break;case"right":m=p=e.coordinate,u=t+ +l*n,c=u+g*v,x=c+g*d,y=h;break;default:c=u=e.coordinate,p=r+ +l*s,m=p+g*v,y=m+g*d,x=h;break}return{line:{x1:c,y1:m,x2:u,y2:p},tick:{x,y}}}function vq(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function bq(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function jq(e){var{option:t,tickProps:r,value:n}=e,s,i=De(r.className,"recharts-cartesian-axis-tick-value");if(f.isValidElement(t))s=f.cloneElement(t,ut(ut({},r),{},{className:i}));else if(typeof t=="function")s=t(ut(ut({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=De(o,t==null?void 0:t.className)),s=f.createElement(Hm,Ts({},r,{className:o}),n)}return s}var wq=f.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:s,stroke:i,tickFormatter:o,unit:l,padding:d,tickTextProps:c,orientation:u,mirror:m,x:p,y:x,width:y,height:g,tickSize:v,tickMargin:h,fontSize:b,letterSpacing:j,getTicksConfig:k,events:N,axisType:w}=e,P=Wv(ut(ut({},k),{},{ticks:r}),b,j),_=vq(u,m),C=bq(u,m),O=Tr(k),S=Cs(n),E={};typeof s=="object"&&(E=s);var I=ut(ut({},O),{},{fill:"none"},E),A=P.map(W=>ut({entry:W},gq(W,p,x,y,g,u,v,m,h))),M=A.map(W=>{var{entry:L,line:R}=W;return f.createElement(It,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},s&&f.createElement("line",Ts({},I,R,{className:De("recharts-cartesian-axis-tick-line",Ps(s,"className"))})))}),U=A.map((W,L)=>{var{entry:R,tick:$}=W,X=ut(ut(ut(ut({textAnchor:_,verticalAnchor:C},O),{},{stroke:"none",fill:i},S),$),{},{index:L,payload:R,visibleTicksCount:P.length,tickFormatter:o,padding:d},c);return f.createElement(It,Ts({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},Al(N,R,L)),n&&f.createElement(jq,{option:n,tickProps:X,value:"".concat(typeof o=="function"?o(R.value,L):R.value).concat(l||"")}))});return f.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(w,"-ticks")},U.length>0&&f.createElement(br,{zIndex:pt.label},f.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(w,"-tick-labels"),ref:t},U)),M.length>0&&f.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(w,"-tick-lines")},M))}),Nq=f.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:i,hide:o,ticks:l,axisType:d}=e,c=mq(e,uq),[u,m]=f.useState(""),[p,x]=f.useState(""),y=f.useRef(null);f.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return dq({ticks:y.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=f.useCallback(v=>{if(v){var h=v.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=h;var b=h[0];if(b){var j=window.getComputedStyle(b),k=j.fontSize,N=j.letterSpacing;(k!==u||N!==p)&&(m(k),x(N))}}},[u,p]);return o||n!=null&&n<=0||s!=null&&s<=0?null:f.createElement(br,{zIndex:e.zIndex},f.createElement(It,{className:De("recharts-cartesian-axis",i)},f.createElement(yq,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Tr(e)}),f.createElement(wq,{ref:g,axisType:d,events:c,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),f.createElement(GW,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},f.createElement(s9,{label:e.label,labelRef:e.labelRef}),e.children)))}),Kv=f.forwardRef((e,t)=>{var r=yt(e,Hn);return f.createElement(Nq,Ts({},r,{ref:t}))});Kv.displayName="CartesianAxis";var kq=["x1","y1","x2","y2","key"],_q=["offset"],Sq=["xAxisId","yAxisId"],Cq=["xAxisId","yAxisId"];function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){Pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pq(e,t,r){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=Oq(e,"string");return typeof t=="symbol"?t:t+""}function Oq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(null,arguments)}function Eu(e,t){if(e==null)return{};var r,n,s=Aq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Aq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tq=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:l}=e;return f.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _E(e){var{option:t,lineItemProps:r}=e,n;if(f.isValidElement(t))n=f.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var s,{x1:i,y1:o,x2:l,y2:d,key:c}=r,u=Eu(r,kq),m=(s=Tr(u))!==null&&s!==void 0?s:{},{offset:p}=m,x=Eu(m,_q);n=f.createElement("line",fs({},x,{x1:i,y1:o,x2:l,y2:d,fill:"none",key:c}))}return n}function Dq(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Eu(e,Sq),d=s.map((c,u)=>{var m=Gt(Gt({},l),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return f.createElement(_E,{key:"line-".concat(u),option:n,lineItemProps:m})});return f.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Iq(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Eu(e,Cq),d=s.map((c,u)=>{var m=Gt(Gt({},l),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return f.createElement(_E,{option:n,lineItemProps:m,key:"line-".concat(u)})});return f.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Mq(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:d=!0}=e;if(!d||!t||!t.length||l==null)return null;var c=l.map(m=>Math.round(m+s-s)).sort((m,p)=>m-p);s!==c[0]&&c.unshift(0);var u=c.map((m,p)=>{var x=!c[p+1],y=x?s+o-m:c[p+1]-m;if(y<=0)return null;var g=p%t.length;return f.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:y,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Lq(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var c=d.map(m=>Math.round(m+s-s)).sort((m,p)=>m-p);s!==c[0]&&c.unshift(0);var u=c.map((m,p)=>{var x=!c[p+1],y=x?s+o-m:c[p+1]-m;if(y<=0)return null;var g=p%r.length;return f.createElement("rect",{key:"react-".concat(p),x:m,y:i,width:y,height:l,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var $q=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return ZS(Wv(Gt(Gt(Gt({},Hn),r),{},{ticks:JS(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},Rq=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return ZS(Wv(Gt(Gt(Gt({},Hn),r),{},{ticks:JS(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},zq={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:pt.grid};function ph(e){var t=dg(),r=ug(),n=dC(),s=Gt(Gt({},yt(e,zq)),{},{x:xe(e.x)?e.x:n.left,y:xe(e.y)?e.y:n.top,width:xe(e.width)?e.width:n.width,height:xe(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:d,width:c,height:u,syncWithTicks:m,horizontalValues:p,verticalValues:x}=s,y=Jt(),g=me(C=>Ww(C,"xAxis",i,y)),v=me(C=>Ww(C,"yAxis",o,y));if(!En(c)||!En(u)||!xe(l)||!xe(d))return null;var h=s.verticalCoordinatesGenerator||$q,b=s.horizontalCoordinatesGenerator||Rq,{horizontalPoints:j,verticalPoints:k}=s;if((!j||!j.length)&&typeof b=="function"){var N=p&&p.length,w=b({yAxis:v?Gt(Gt({},v),{},{ticks:N?p:v.ticks}):void 0,width:t??c,height:r??u,offset:n},N?!0:m);eu(Array.isArray(w),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof w,"]")),Array.isArray(w)&&(j=w)}if((!k||!k.length)&&typeof h=="function"){var P=x&&x.length,_=h({xAxis:g?Gt(Gt({},g),{},{ticks:P?x:g.ticks}):void 0,width:t??c,height:r??u,offset:n},P?!0:m);eu(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(k=_)}return f.createElement(br,{zIndex:s.zIndex},f.createElement("g",{className:"recharts-cartesian-grid"},f.createElement(Tq,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),f.createElement(Mq,fs({},s,{horizontalPoints:j})),f.createElement(Lq,fs({},s,{verticalPoints:k})),f.createElement(Dq,fs({},s,{offset:n,horizontalPoints:j,xAxis:g,yAxis:v})),f.createElement(Iq,fs({},s,{offset:n,verticalPoints:k,xAxis:g,yAxis:v}))))}ph.displayName="CartesianGrid";var SE=(e,t,r,n)=>Wa(e,"xAxis",t,n),CE=(e,t,r,n)=>Ua(e,"xAxis",t,n),PE=(e,t,r,n)=>Wa(e,"yAxis",r,n),EE=(e,t,r,n)=>Ua(e,"yAxis",r,n),Fq=K([Oe,SE,PE,CE,EE],(e,t,r,n,s)=>Qa(e,"xAxis")?Ei(t,n,!1):Ei(r,s,!1)),Bq=(e,t,r,n,s)=>s;function Uq(e){return e.type==="line"}var Wq=K([Fm,Bq],(e,t)=>e.filter(Uq).find(r=>r.id===t)),Kq=K([Oe,SE,PE,CE,EE,Wq,Fq,Im],(e,t,r,n,s,i,o,l)=>{var{chartData:d,dataStartIndex:c,dataEndIndex:u}=l;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:p}=i,x;if(p!=null&&p.length>0?x=p:x=d==null?void 0:d.slice(c,u+1),x!=null)return uY({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:m,bandSize:o,displayedData:x})}});function Hq(e){var t=Cs(e),r=3,n=2;if(t!=null){var{r:s,strokeWidth:i}=t,o=Number(s),l=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var Vq=["id"],qq=["type","layout","connectNulls","needClip","shape"],Yq=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yl.apply(null,arguments)}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){Gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gq(e,t,r){return(t=Xq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e){var t=Qq(e,"string");return typeof t=="symbol"?t:t+""}function Qq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hv(e,t){if(e==null)return{};var r,n,s=Zq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Zq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jq=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Wi(r,t),payload:e}]},eY=f.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:d,tooltipType:c}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Wi(o,t),hide:l,type:c,color:n,unit:d}};return f.createElement($v,{tooltipEntrySettings:u})}),OE=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function tY(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var rY=(e,t,r)=>{var n=r.reduce((m,p)=>m+p);if(!n)return OE(t,e);for(var s=Math.floor(e/n),i=e%n,o=t-e,l=[],d=0,c=0;d<r.length;c+=r[d],++d)if(c+r[d]>i){l=[...r.slice(0,d),i-c];break}var u=l.length%2===0?[0,o]:[o];return[...tY(r,s),...l,...u].map(m=>"".concat(m,"px")).join(", ")};function nY(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:o}=n,{id:l}=n,d=Hv(n,Vq),c=Tr(d);return f.createElement(BK,{points:r,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:c,needClip:o,clipPathId:t})}function aY(e){var{showLabels:t,children:r,points:n}=e,s=f.useMemo(()=>n==null?void 0:n.map(i=>{var o,l,d={x:(o=i.x)!==null&&o!==void 0?o:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return wn(wn({},d),{},{value:i.value,payload:i.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[n]);return f.createElement(J4,{value:t?s:void 0},r)}function WN(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i}=e,{type:o,layout:l,connectNulls:d,needClip:c,shape:u}=i,m=Hv(i,qq),p=wn(wn({},sr(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:d,strokeDasharray:s??i.strokeDasharray});return f.createElement(f.Fragment,null,(n==null?void 0:n.length)>1&&f.createElement(Dv,yl({shapeType:"curve",option:u},p,{pathRef:r})),f.createElement(nY,{points:n,clipPathId:t,props:i}))}function sY(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function iY(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:d,animationBegin:c,animationDuration:u,animationEasing:m,animateNewValues:p,width:x,height:y,onAnimationEnd:g,onAnimationStart:v}=r,h=s.current,b=Fl(o,"recharts-line-"),j=f.useRef(b),[k,N]=f.useState(!1),w=!k,P=f.useCallback(()=>{typeof g=="function"&&g(),N(!1)},[g]),_=f.useCallback(()=>{typeof v=="function"&&v(),N(!0)},[v]),C=sY(n.current),O=f.useRef(0);j.current!==b&&(O.current=i.current,j.current=b);var S=O.current;return f.createElement(aY,{points:o,showLabels:w},r.children,f.createElement(zl,{animationId:b,begin:c,duration:u,isActive:d,easing:m,onAnimationEnd:P,onAnimationStart:_,key:b},E=>{var I=Ge(S,C+S,E),A=Math.min(I,C),M;if(d)if(l){var U="".concat(l).split(/[,\s]+/gim).map(R=>parseFloat(R));M=rY(A,C,U)}else M=OE(C,A);else M=l==null?void 0:String(l);if(E>0&&C>0&&(s.current=o,i.current=Math.max(i.current,A)),h){var W=h.length/o.length,L=E===1?o:o.map((R,$)=>{var X=Math.floor($*W);if(h[X]){var T=h[X];return wn(wn({},R),{},{x:Ge(T.x,R.x,E),y:Ge(T.y,R.y,E)})}return p?wn(wn({},R),{},{x:Ge(x*2,R.x,E),y:Ge(y/2,R.y,E)}):wn(wn({},R),{},{x:R.x,y:R.y})});return s.current=L,f.createElement(WN,{props:r,points:L,clipPathId:t,pathRef:n,strokeDasharray:M})}return f.createElement(WN,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:M})}),f.createElement(Cv,{label:r.label}))}function oY(e){var{clipPathId:t,props:r}=e,n=f.useRef(null),s=f.useRef(0),i=f.useRef(null);return f.createElement(iY,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:i})}var lY=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:ze(e.payload,t)}};class cY extends f.Component{render(){var{hide:t,dot:r,points:n,className:s,xAxisId:i,yAxisId:o,top:l,left:d,width:c,height:u,id:m,needClip:p,zIndex:x}=this.props;if(t)return null;var y=De("recharts-line",s),g=m,{r:v,strokeWidth:h}=Hq(r),b=lE(r),j=v*2+h,k=p?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return f.createElement(br,{zIndex:x},f.createElement(It,{className:y},p&&f.createElement("defs",null,f.createElement(yE,{clipPathId:g,xAxisId:i,yAxisId:o}),!b&&f.createElement("clipPath",{id:"clipPath-dots-".concat(g)},f.createElement("rect",{x:d-j/2,y:l-j/2,width:c+j,height:u+j}))),f.createElement(hE,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:lY,errorBarOffset:0},f.createElement(oY,{props:this.props,clipPathId:g}))),f.createElement(oH,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var AE={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:pt.line,type:"linear"};function dY(e){var t=yt(e,AE),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:d,hide:c,isAnimationActive:u,label:m,legendType:p,xAxisId:x,yAxisId:y,id:g}=t,v=Hv(t,Yq),{needClip:h}=Bv(x,y),b=Fv(),j=Ll(),k=Jt(),N=me(O=>Kq(O,x,y,k,g));if(j!=="horizontal"&&j!=="vertical"||N==null||b==null)return null;var{height:w,width:P,x:_,y:C}=b;return f.createElement(cY,yl({},v,{id:g,connectNulls:l,dot:d,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:u,hide:c,label:m,legendType:p,xAxisId:x,yAxisId:y,points:N,layout:j,height:w,width:P,left:_,top:C,needClip:h}))}function uY(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:d}=e;return d.map((c,u)=>{var m=ze(c,o);if(t==="horizontal"){var p=hj({axis:r,ticks:s,bandSize:l,entry:c,index:u}),x=Ze(m)?null:n.scale(m);return{x:p,y:x,value:m,payload:c}}var y=Ze(m)?null:r.scale(m),g=hj({axis:n,ticks:i,bandSize:l,entry:c,index:u});return y==null||g==null?null:{x:y,y:g,value:m,payload:c}}).filter(Boolean)}function mY(e){var t=yt(e,AE),r=Jt();return f.createElement(Rv,{id:t.id,type:"line"},n=>f.createElement(f.Fragment,null,f.createElement(dE,{legendPayload:Jq(t)}),f.createElement(eY,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),f.createElement(fE,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),f.createElement(dY,yl({},t,{id:n}))))}var xh=f.memo(mY,sf);xh.displayName="Line";var fY=["domain","range"],pY=["domain","range"];function KN(e,t){if(e==null)return{};var r,n,s=xY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HN(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function TE(e,t){if(e===t)return!0;var{domain:r,range:n}=e,s=KN(e,fY),{domain:i,range:o}=t,l=KN(t,pY);return!HN(r,i)||!HN(n,o)?!1:sf(s,l)}var hY=["dangerouslySetInnerHTML","ticks"],yY=["id"];function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hh.apply(null,arguments)}function VN(e,t){if(e==null)return{};var r,n,s=gY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function gY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vY(e){var t=Ke(),r=f.useRef(null);return f.useLayoutEffect(()=>{r.current===null?t(VK(e)):r.current!==e&&t(qK({prev:r.current,next:e})),r.current=e},[e,t]),f.useLayoutEffect(()=>()=>{r.current&&(t(YK(r.current)),r.current=null)},[t]),null}var bY=e=>{var{xAxisId:t,className:r}=e,n=me(lg),s=Jt(),i="xAxis",o=me(v=>Xi(v,i,t,s)),l=me(v=>c4(v,i,t,s)),d=me(v=>s4(v,t)),c=me(v=>J8(v,t)),u=me(v=>FP(v,t));if(d==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:m,ticks:p}=e,x=VN(e,hY),{id:y}=u,g=VN(u,yY);return f.createElement(Kv,hh({},x,g,{scale:o,x:c.x,y:c.y,width:d.width,height:d.height,className:De("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l,axisType:i}))},jY={allowDataOverflow:Pt.allowDataOverflow,allowDecimals:Pt.allowDecimals,allowDuplicatedCategory:Pt.allowDuplicatedCategory,angle:Pt.angle,axisLine:Hn.axisLine,height:Pt.height,hide:!1,includeHidden:Pt.includeHidden,interval:Pt.interval,minTickGap:Pt.minTickGap,mirror:Pt.mirror,orientation:Pt.orientation,padding:Pt.padding,reversed:Pt.reversed,scale:Pt.scale,tick:Pt.tick,tickCount:Pt.tickCount,tickLine:Hn.tickLine,tickSize:Hn.tickSize,type:Pt.type,xAxisId:0},wY=e=>{var t=yt(e,jY);return f.createElement(f.Fragment,null,f.createElement(vY,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),f.createElement(bY,t))},yh=f.memo(wY,TE);yh.displayName="XAxis";var NY=["dangerouslySetInnerHTML","ticks"],kY=["id"];function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(null,arguments)}function qN(e,t){if(e==null)return{};var r,n,s=_Y(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _Y(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SY(e){var t=Ke(),r=f.useRef(null);return f.useLayoutEffect(()=>{r.current===null?t(GK(e)):r.current!==e&&t(XK({prev:r.current,next:e})),r.current=e},[e,t]),f.useLayoutEffect(()=>()=>{r.current&&(t(QK(r.current)),r.current=null)},[t]),null}var CY=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,i=f.useRef(null),o=f.useRef(null),l=me(lg),d=Jt(),c=Ke(),u="yAxis",m=me(N=>Xi(N,u,t,d)),p=me(N=>i4(N,t)),x=me(N=>t7(N,t)),y=me(N=>c4(N,u,t,d)),g=me(N=>BP(N,t));if(f.useLayoutEffect(()=>{if(!(n!=="auto"||!p||Sv(s)||f.isValidElement(s)||g==null)){var N=i.current;if(N){var w=N.getCalculatedWidth();Math.round(p.width)!==Math.round(w)&&c(ZK({id:t,width:w}))}}},[y,p,c,s,t,n,g]),p==null||x==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:h}=e,b=qN(e,NY),{id:j}=g,k=qN(g,kY);return f.createElement(Kv,gh({},b,k,{ref:i,labelRef:o,scale:m,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:De("recharts-".concat(u," ").concat(u),r),viewBox:l,ticks:y,axisType:u}))},PY={allowDataOverflow:Et.allowDataOverflow,allowDecimals:Et.allowDecimals,allowDuplicatedCategory:Et.allowDuplicatedCategory,angle:Et.angle,axisLine:Hn.axisLine,hide:!1,includeHidden:Et.includeHidden,interval:Et.interval,minTickGap:Et.minTickGap,mirror:Et.mirror,orientation:Et.orientation,padding:Et.padding,reversed:Et.reversed,scale:Et.scale,tick:Et.tick,tickCount:Et.tickCount,tickLine:Hn.tickLine,tickSize:Hn.tickSize,type:Et.type,width:Et.width,yAxisId:0},EY=e=>{var t=yt(e,PY);return f.createElement(f.Fragment,null,f.createElement(SY,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),f.createElement(CY,t))},vh=f.memo(EY,TE);vh.displayName="YAxis";var OY=(e,t)=>t,Vv=K([OY,Oe,RP,_t,_4,ma,yU,Nt],kU),qv=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},DE=Yr("mouseClick"),IE=Il();IE.startListening({actionCreator:DE,effect:(e,t)=>{var r=e.payload,n=Vv(t.getState(),qv(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(x7({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var bh=Yr("mouseMove"),ME=Il(),Uc=null;ME.startListening({actionCreator:bh,effect:(e,t)=>{var r=e.payload;Uc!==null&&cancelAnimationFrame(Uc);var n=qv(r);Uc=requestAnimationFrame(()=>{var s=t.getState(),i=pv(s,s.tooltip.settings.shared);if(i==="axis"){var o=Vv(s,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(y4({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(h4())}Uc=null})}});var YN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},LE=vr({name:"rootProps",initialState:YN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:YN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),AY=LE.reducer,{updateOptions:TY}=LE.actions,$E=vr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:DY}=$E.actions,IY=$E.reducer,RE=Yr("keyDown"),zE=Yr("focus"),Yv=Il();Yv.startListening({actionCreator:RE,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=xv(s,Zi(r),Gl(r),Jl(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var d=ma(r);if(i==="Enter"){var c=ju(r,"axis","hover",String(s.index));t.dispatch(oh({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var u=s7(r),m=u==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,x=l+p*m;if(!(d==null||x>=d.length||x<0)){var y=ju(r,"axis","hover",String(x));t.dispatch(oh({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}}});Yv.startListening({actionCreator:zE,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=ju(r,"axis","hover",String(i));t.dispatch(oh({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var zr=Yr("externalEvent"),FE=Il(),dp=new Map;FE.startListening({actionCreator:zr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var s=n.type,i=dp.get(s);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),d={activeCoordinate:tU(l),activeDataKey:bv(l),activeIndex:Ka(l),activeLabel:P4(l),activeTooltipIndex:Ka(l),isTooltipActive:rU(l)};r(d,n)}finally{dp.delete(s)}});dp.set(s,o)}}});var MY=K([Qi],e=>e.tooltipItemPayloads),LY=K([MY,Ql,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),BE=Yr("touchMove"),UE=Il();UE.startListening({actionCreator:BE,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),s=pv(n,n.tooltip.settings.shared);if(s==="axis"){var i=Vv(n,qv({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(y4({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(l.clientX,l.clientY);if(!d||!d.getAttribute)return;var c=d.getAttribute(tC),u=(o=d.getAttribute(rC))!==null&&o!==void 0?o:void 0,m=LY(t.getState(),c,u);t.dispatch(x4({activeDataKey:u,activeIndex:c,activeCoordinate:m}))}}}});var $Y=NS({brush:HV,cartesianAxis:JK,chartData:eW,errorBars:vH,graphicalItems:sK,layout:L5,legend:FR,options:GU,polarAxis:w9,polarOptions:IY,referenceElements:ZV,rootProps:AY,tooltip:h7,zIndex:RU}),RY=function(t){return o5({reducer:$Y,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([IE.middleware,ME.middleware,Yv.middleware,FE.middleware,UE.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(RS({type:"raf"}))},devTools:Rl.devToolsEnabled})};function WE(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=Jt(),i=f.useRef(null);if(s)return r;i.current==null&&(i.current=RY(t));var o=Qy;return f.createElement(qH,{context:o,store:i.current},r)}function zY(e){var{layout:t,margin:r}=e,n=Ke(),s=Jt();return f.useEffect(()=>{s||(n(D5(t)),n(T5(r)))},[n,s,t,r]),null}var KE=f.memo(zY,sf);function HE(e){var t=Ke();return f.useEffect(()=>{t(TY(e))},[t,e]),null}function GN(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",s=uE("".concat(n).concat(t)),i=Ke();return f.useLayoutEffect(()=>(i(LU({zIndex:t,elementId:s,isPanorama:r})),()=>{i($U({zIndex:t,isPanorama:r}))}),[i,t,s,r]),f.createElement("g",{tabIndex:-1,id:s})}function XN(e){var{children:t,isPanorama:r}=e,n=me(SU);if(!n||n.length===0)return t;var s=n.filter(o=>o<0),i=n.filter(o=>o>0);return f.createElement(f.Fragment,null,s.map(o=>f.createElement(GN,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>f.createElement(GN,{key:o,zIndex:o,isPanorama:r})))}var FY=["children"];function BY(e,t){if(e==null)return{};var r,n,s=UY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function UY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ou.apply(null,arguments)}var WY={width:"100%",height:"100%",display:"block"},KY=f.forwardRef((e,t)=>{var r=dg(),n=ug(),s=wC();if(!En(r)||!En(n))return null;var{children:i,otherAttributes:o,title:l,desc:d}=e,c,u;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=s?0:void 0,typeof o.role=="string"?u=o.role:u=s?"application":void 0),f.createElement(My,Ou({},o,{title:l,desc:d,role:u,tabIndex:c,width:r,height:n,style:WY,ref:t}),i)}),HY=e=>{var{children:t}=e,r=me(wm);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return f.createElement(My,{width:n,height:s,x:o,y:i},t)},QN=f.forwardRef((e,t)=>{var{children:r}=e,n=BY(e,FY),s=Jt();return s?f.createElement(HY,null,f.createElement(XN,{isPanorama:!0},r)):f.createElement(KY,Ou({ref:t},n),f.createElement(XN,{isPanorama:!1},r))});function VY(){var e=Ke(),[t,r]=f.useState(null),n=me(eR);return f.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;dt(i)&&i!==n&&e(M5(i))}},[t,e,n]),r}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){YY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YY(e,t,r){return(t=GY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GY(e){var t=XY(e,"string");return typeof t=="symbol"?t:t+""}function XY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ds.apply(null,arguments)}var QY=()=>(cW(),null);function Au(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var ZY=f.forwardRef((e,t)=>{var r,n,s=f.useRef(null),[i,o]=f.useState({containerWidth:Au((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Au((n=e.style)===null||n===void 0?void 0:n.height)}),l=f.useCallback((c,u)=>{o(m=>{var p=Math.round(c),x=Math.round(u);return m.containerWidth===p&&m.containerHeight===x?m:{containerWidth:p,containerHeight:x}})},[]),d=f.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:m}=c.getBoundingClientRect();l(u,m);var p=y=>{var{width:g,height:v}=y[0].contentRect;l(g,v)},x=new ResizeObserver(p);x.observe(c),s.current=x}},[t,l]);return f.useEffect(()=>()=>{var c=s.current;c!=null&&c.disconnect()},[l]),f.createElement(f.Fragment,null,f.createElement(km,{width:i.containerWidth,height:i.containerHeight}),f.createElement("div",Ds({ref:d},e)))}),JY=f.forwardRef((e,t)=>{var{width:r,height:n}=e,[s,i]=f.useState({containerWidth:Au(r),containerHeight:Au(n)}),o=f.useCallback((d,c)=>{i(u=>{var m=Math.round(d),p=Math.round(c);return u.containerWidth===m&&u.containerHeight===p?u:{containerWidth:m,containerHeight:p}})},[]),l=f.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:c,height:u}=d.getBoundingClientRect();o(c,u)}},[t,o]);return f.createElement(f.Fragment,null,f.createElement(km,{width:s.containerWidth,height:s.containerHeight}),f.createElement("div",Ds({ref:l},e)))}),eG=f.forwardRef((e,t)=>{var{width:r,height:n}=e;return f.createElement(f.Fragment,null,f.createElement(km,{width:r,height:n}),f.createElement("div",Ds({ref:t},e)))}),tG=f.forwardRef((e,t)=>{var{width:r,height:n}=e;return Zn(r)||Zn(n)?f.createElement(JY,Ds({},e,{ref:t})):f.createElement(eG,Ds({},e,{ref:t}))});function rG(e){return e===!0?ZY:tG}var nG=f.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:d,onMouseEnter:c,onMouseLeave:u,onMouseMove:m,onMouseUp:p,onTouchEnd:x,onTouchMove:y,onTouchStart:g,style:v,width:h,responsive:b,dispatchTouchEvents:j=!0}=e,k=f.useRef(null),N=Ke(),[w,P]=f.useState(null),[_,C]=f.useState(null),O=VY(),S=cg(),E=(S==null?void 0:S.width)>0?S.width:h,I=(S==null?void 0:S.height)>0?S.height:s,A=f.useCallback(F=>{O(F),typeof t=="function"&&t(F),P(F),C(F),F!=null&&(k.current=F)},[O,t,P,C]),M=f.useCallback(F=>{N(DE(F)),N(zr({handler:i,reactEvent:F}))},[N,i]),U=f.useCallback(F=>{N(bh(F)),N(zr({handler:c,reactEvent:F}))},[N,c]),W=f.useCallback(F=>{N(h4()),N(zr({handler:u,reactEvent:F}))},[N,u]),L=f.useCallback(F=>{N(bh(F)),N(zr({handler:m,reactEvent:F}))},[N,m]),R=f.useCallback(()=>{N(zE())},[N]),$=f.useCallback(F=>{N(RE(F.key))},[N]),X=f.useCallback(F=>{N(zr({handler:o,reactEvent:F}))},[N,o]),T=f.useCallback(F=>{N(zr({handler:l,reactEvent:F}))},[N,l]),Q=f.useCallback(F=>{N(zr({handler:d,reactEvent:F}))},[N,d]),ee=f.useCallback(F=>{N(zr({handler:p,reactEvent:F}))},[N,p]),D=f.useCallback(F=>{N(zr({handler:g,reactEvent:F}))},[N,g]),q=f.useCallback(F=>{j&&N(BE(F)),N(zr({handler:y,reactEvent:F}))},[N,j,y]),ie=f.useCallback(F=>{N(zr({handler:x,reactEvent:F}))},[N,x]),Z=rG(b);return f.createElement(M4.Provider,{value:w},f.createElement(N_.Provider,{value:_},f.createElement(Z,{width:E??(v==null?void 0:v.width),height:I??(v==null?void 0:v.height),className:De("recharts-wrapper",n),style:qY({position:"relative",cursor:"default",width:E,height:I},v),onClick:M,onContextMenu:X,onDoubleClick:T,onFocus:R,onKeyDown:$,onMouseDown:Q,onMouseEnter:U,onMouseLeave:W,onMouseMove:L,onMouseUp:ee,onTouchEnd:ie,onTouchMove:q,onTouchStart:D,ref:A},f.createElement(QY,null),r)))}),aG=["width","height","responsive","children","className","style","compact","title","desc"];function sG(e,t){if(e==null)return{};var r,n,s=iG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function iG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VE=f.forwardRef((e,t)=>{var{width:r,height:n,responsive:s,children:i,className:o,style:l,compact:d,title:c,desc:u}=e,m=sG(e,aG),p=Tr(m);return d?f.createElement(f.Fragment,null,f.createElement(km,{width:r,height:n}),f.createElement(QN,{otherAttributes:p,title:c,desc:u},i)):f.createElement(nG,{className:o,style:l,width:r,height:n,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},f.createElement(QN,{otherAttributes:p,title:c,desc:u,ref:t},f.createElement(eq,null,i)))});function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jh.apply(null,arguments)}var oG={top:5,right:5,bottom:5,left:5},lG={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:oG,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},qE=f.forwardRef(function(t,r){var n,s=yt(t.categoricalChartProps,lG),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:d,categoricalChartProps:c}=t,u={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:d,eventEmitter:void 0};return f.createElement(WE,{preloadedState:{options:u},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:i},f.createElement(jE,{chartData:c.data}),f.createElement(KE,{layout:s.layout,margin:s.margin}),f.createElement(HE,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),f.createElement(VE,jh({},s,{ref:r})))}),cG=["axis"],dG=f.forwardRef((e,t)=>f.createElement(qE,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:cG,tooltipPayloadSearcher:_v,categoricalChartProps:e,ref:t})),uG=["axis","item"],mG=f.forwardRef((e,t)=>f.createElement(qE,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uG,tooltipPayloadSearcher:_v,categoricalChartProps:e,ref:t}));function fG(e){var t=Ke();return f.useEffect(()=>{t(DY(e))},[t,e]),null}var pG=["layout"];function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wh.apply(null,arguments)}function xG(e,t){if(e==null)return{};var r,n,s=hG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function hG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yG={top:5,right:5,bottom:5,left:5},YE={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:yG,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},gG=f.forwardRef(function(t,r){var n,s=yt(t.categoricalChartProps,YE),{layout:i}=s,o=xG(s,pG),{chartName:l,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=t,m={chartName:l,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return f.createElement(WE,{preloadedState:{options:m},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:l},f.createElement(jE,{chartData:s.data}),f.createElement(KE,{layout:i,margin:s.margin}),f.createElement(HE,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),f.createElement(fG,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),f.createElement(VE,wh({},o,{ref:r})))});function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function e1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(r),!0).forEach(function(n){vG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vG(e,t,r){return(t=bG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=jG(e,"string");return typeof t=="symbol"?t:t+""}function jG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wG=["item"],NG=e1(e1({},YE),{},{layout:"centric",startAngle:0,endAngle:360}),GE=f.forwardRef((e,t)=>{var r=yt(e,NG);return f.createElement(gG,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:wG,tooltipPayloadSearcher:_v,categoricalChartProps:r,ref:t})});const Wc={penalties:"#ef4444",returns:"#f97316",subscription:"#8b5cf6",acquiring:"#3b82f6",client_compensation:"#ec4899",loyalty_points:"#eab308",early_payment:"#06b6d4",logistics:"#22c55e",storage:"#64748b",other:"#9ca3af"},t1={penalties:"",returns:"",subscription:"",acquiring:"",client_compensation:"",loyalty_points:"/",early_payment:" ",logistics:"",storage:"",other:""},wr=e=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),kG=e=>`${e>0?"+":""}${e.toFixed(1)}%`,_G=({value:e,inverted:t=!1})=>{if(e==null)return null;const r=t?e<0:e>0,n=r?Ls:Pl,s=r?"text-green-500":"text-red-500";return a.jsxs("span",{className:`inline-flex items-center gap-1 text-sm ${s}`,children:[a.jsx(n,{size:14}),kG(e)]})},up=({title:e,value:t,change:r,subtitle:n,icon:s,colorClass:i,inverted:o})=>a.jsxs("div",{className:"card-neon p-5","data-testid":`summary-card-${e.toLowerCase().replace(/\s/g,"-")}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("span",{className:"text-mm-text-secondary text-sm font-mono uppercase",children:e}),s&&a.jsx(s,{className:i||"text-mm-cyan",size:20})]}),a.jsx("div",{className:"text-2xl font-bold text-mm-text mb-1",children:t}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary text-xs",children:n}),a.jsx(_G,{value:r,inverted:o})]})]}),SG=({name:e,amount:t,total:r,color:n,expanded:s,onToggle:i})=>{const o=r>0?(t/r*100).toFixed(1):0;return a.jsxs("div",{className:"border-b border-mm-border last:border-0 py-3 cursor-pointer hover:bg-mm-gray/30 px-2 -mx-2 rounded transition-colors",onClick:i,"data-testid":`expense-item-${e}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:n}}),a.jsx("span",{className:"text-mm-text font-mono",children:e})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-mm-text-secondary text-sm",children:[o,"%"]}),a.jsx("span",{className:"text-mm-text font-mono font-bold",children:wr(t)})]})]}),a.jsx("div",{className:"mt-2 h-1.5 bg-mm-gray rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${o}%`,backgroundColor:n}})})]})};function CG({dateFrom:e,dateTo:t,marketplace:r="ozon"}){var N,w,P,_,C,O,S,E,I,A,M,U,W,L,R,$,X,T,Q,ee,D,q,ie;const{api:n}=ve(),[s,i]=f.useState(!1),[o,l]=f.useState(!1),[d,c]=f.useState(null),[u,m]=f.useState(!0),[p,x]=f.useState(!1),[y,g]=f.useState(null),v=async()=>{var Z,F,le;i(!0);try{const pe=await n.get("/api/business-analytics/economics",{params:{date_from:e,date_to:t,compare_previous:u}});c(pe.data)}catch(pe){console.error("Error loading economics:",pe),((Z=pe.response)==null?void 0:Z.status)===404?Y.error("API   .   Ozon   ."):Y.error("  : "+(((le=(F=pe.response)==null?void 0:F.data)==null?void 0:le.detail)||pe.message))}i(!1)},h=async()=>{var Z,F;l(!0);try{const le=await n.post("/api/business-analytics/sync-operations",null,{params:{date_from:e,date_to:t}});Y.success(`: ${le.data.statistics.total_fetched} `),await v()}catch(le){Y.error(" : "+(((F=(Z=le.response)==null?void 0:Z.data)==null?void 0:F.detail)||le.message))}l(!1)},b=async()=>{try{const Z=await n.get("/api/business-analytics/detailed-operations",{params:{date_from:e,date_to:t}});g(Z.data)}catch(Z){console.error("Error loading detailed operations:",Z)}};f.useEffect(()=>{e&&t&&v()},[e,t,u]);const k=d!=null&&d.expense_breakdown?Object.entries(d.expense_breakdown).filter(([Z,F])=>F.amount>0).map(([Z,F])=>({name:t1[Z]||F.name,value:F.amount,color:Wc[Z]||Wc.other})).sort((Z,F)=>F.value-Z.value):[];return s?a.jsxs("div",{className:"flex items-center justify-center py-20",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-mm-cyan"}),a.jsx("span",{className:"ml-4 text-mm-text-secondary",children:"   Ozon API..."})]}):d?a.jsxs("div",{className:"space-y-6","data-testid":"business-economics-tab",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase",children:" "}),a.jsxs("p",{className:"text-mm-text-secondary text-sm",children:[": ",e,"  ",t," (",(N=d.period)==null?void 0:N.days," )  ",d.operations_count," "]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-mm-text-secondary cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:u,onChange:Z=>m(Z.target.checked),className:"rounded border-mm-border bg-mm-gray"}),"   "]}),a.jsxs("button",{onClick:h,disabled:o,className:"btn-secondary text-sm px-4 flex items-center gap-2","data-testid":"sync-operations-btn",children:[a.jsx(jt,{className:o?"animate-spin":"",size:16}),o?"...":""]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(up,{title:"",value:wr(((w=d.summary)==null?void 0:w.gross_income)||0),change:(_=(P=d.comparison)==null?void 0:P.changes)==null?void 0:_.income_change_pct,subtitle:" + ",icon:Ls,colorClass:"text-green-500"}),a.jsx(up,{title:"",value:wr(((C=d.summary)==null?void 0:C.total_expenses)||0),change:(S=(O=d.comparison)==null?void 0:O.changes)==null?void 0:S.expenses_change_pct,subtitle:" ",icon:Pl,colorClass:"text-red-500",inverted:!0}),a.jsx(up,{title:" ",value:wr(((E=d.summary)==null?void 0:E.net_profit)||0),change:(A=(I=d.comparison)==null?void 0:I.changes)==null?void 0:A.profit_change_pct,subtitle:`: ${((U=(M=d.summary)==null?void 0:M.margin_pct)==null?void 0:U.toFixed(1))||0}%`,icon:za,colorClass:((W=d.summary)==null?void 0:W.net_profit)>=0?"text-green-500":"text-red-500"}),d.comparison&&a.jsxs("div",{className:"card-neon p-5 bg-mm-gray/30",children:[a.jsx("div",{className:"text-mm-text-secondary text-sm font-mono uppercase mb-2",children:" "}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsx("span",{className:"text-mm-text",children:wr(((L=d.comparison.changes)==null?void 0:L.prev_income)||0)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsx("span",{className:"text-mm-text",children:wr(((R=d.comparison.changes)==null?void 0:R.prev_expenses)||0)})]}),a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsx("span",{className:"text-mm-text",children:wr((($=d.comparison.changes)==null?void 0:$.prev_profit)||0)})]})]}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-mm-border text-xs text-mm-text-secondary",children:[(X=d.comparison.previous_period)==null?void 0:X.from,"  ",(T=d.comparison.previous_period)==null?void 0:T.to]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"card-neon p-5 bg-green-500/5 border-green-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),a.jsx("span",{className:"text-mm-text-secondary text-sm font-mono uppercase",children:""})]}),a.jsx("div",{className:"text-xl font-bold text-green-500",children:wr(((Q=d.income_breakdown)==null?void 0:Q.sales)||0)})]}),a.jsxs("div",{className:"card-neon p-5 bg-blue-500/5 border-blue-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),a.jsx("span",{className:"text-mm-text-secondary text-sm font-mono uppercase",children:""})]}),a.jsx("div",{className:"text-xl font-bold text-blue-500",children:wr(((ee=d.income_breakdown)==null?void 0:ee.compensations)||0)})]}),a.jsxs("div",{className:"card-neon p-5 bg-gray-500/5 border-gray-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500"}),a.jsx("span",{className:"text-mm-text-secondary text-sm font-mono uppercase",children:""})]}),a.jsx("div",{className:"text-xl font-bold text-gray-400",children:wr(((D=d.income_breakdown)==null?void 0:D.other)||0)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("h4",{className:"text-mm-cyan font-mono uppercase mb-4 flex items-center gap-2",children:[a.jsx(R0,{size:16})," "]}),k.length>0?a.jsx(cd,{width:"100%",height:300,children:a.jsxs(GE,{children:[a.jsx(zv,{data:k,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",label:({name:Z,percent:F})=>`${Z}: ${(F*100).toFixed(0)}%`,labelLine:!1,children:k.map((Z,F)=>a.jsx(Ji,{fill:Z.color},`cell-${F}`))}),a.jsx(ud,{formatter:Z=>wr(Z),contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid #3b3b5c",borderRadius:"8px"}})]})}):a.jsx("div",{className:"flex items-center justify-center h-[300px] text-mm-text-secondary",children:"   "})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h4",{className:"text-mm-cyan font-mono uppercase mb-4",children:" "}),a.jsx("div",{className:"space-y-1",children:Object.entries(d.expense_breakdown||{}).filter(([Z,F])=>F.amount>0).sort((Z,F)=>F[1].amount-Z[1].amount).map(([Z,F])=>{var le;return a.jsx(SG,{name:t1[Z]||F.name,amount:F.amount,total:((le=d.summary)==null?void 0:le.total_expenses)||0,color:Wc[Z]||Wc.other},Z)})}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-mm-border flex justify-between items-center",children:[a.jsx("span",{className:"text-mm-text-secondary font-mono",children:" :"}),a.jsx("span",{className:"text-xl font-bold text-red-500",children:wr(((q=d.summary)==null?void 0:q.total_expenses)||0)})]})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsxs("button",{onClick:()=>{x(!p),!p&&!y&&b()},className:"w-full flex items-center justify-between text-mm-text-secondary hover:text-mm-cyan transition-colors","data-testid":"toggle-details-btn",children:[a.jsx("span",{className:"font-mono uppercase",children:"   "}),p?a.jsx(Py,{size:20}):a.jsx(Ui,{size:20})]}),p&&y&&a.jsx("div",{className:"mt-4 pt-4 border-t border-mm-border",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-mm-text-secondary text-left",children:[a.jsx("th",{className:"pb-2 font-mono",children:" "}),a.jsx("th",{className:"pb-2 font-mono text-center",children:"-"}),a.jsx("th",{className:"pb-2 font-mono text-right",children:""})]})}),a.jsx("tbody",{children:(ie=y.operation_types)==null?void 0:ie.map((Z,F)=>a.jsxs("tr",{className:"border-t border-mm-border/50",children:[a.jsxs("td",{className:"py-2",children:[a.jsx("div",{className:"text-mm-text",children:Z.name||Z.type}),a.jsx("div",{className:"text-xs text-mm-text-secondary",children:Z.type})]}),a.jsx("td",{className:"py-2 text-center text-mm-text-secondary",children:Z.count}),a.jsx("td",{className:`py-2 text-right font-mono ${Z.amount>=0?"text-green-500":"text-red-500"}`,children:wr(Z.amount)})]},F))})]})})})]}),a.jsxs("div",{className:"text-center text-mm-text-secondary text-sm",children:[a.jsx(R0,{className:"inline mr-2"}),"   Ozon.  WB  .  ."]})]}):a.jsxs("div",{className:"card-neon p-8 text-center",children:[a.jsx(FI,{className:"mx-auto text-yellow-500 mb-4",size:48}),a.jsx("h3",{className:"text-lg font-mono text-mm-text mb-2",children:"  "}),a.jsx("p",{className:"text-mm-text-secondary mb-4",children:"      Ozon API"}),a.jsx("button",{onClick:v,className:"btn-primary","data-testid":"load-economics-btn",children:" "})]})}const XE=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},PG=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);return XE(t)},mp=()=>XE(new Date);function EG(){const{api:e}=ve(),[t,r]=f.useState("profit"),[n,s]=f.useState(!1),[i,o]=f.useState(!1),[l,d]=f.useState(null),[c,u]=f.useState(null),[m,p]=f.useState(null),[x,y]=f.useState(null),[g,v]=f.useState(PG()),[h,b]=f.useState(mp()),[j,k]=f.useState(""),[N,w]=f.useState(null),[P,_]=f.useState(!1),[C,O]=f.useState([]),[S,E]=f.useState({expense_date:mp(),expense_type:" ",amount:"",description:"",document_number:""}),[I,A]=f.useState(!1),[M,U]=f.useState({tax_system:null,rate:0}),[W,L]=f.useState(!1),[R,$]=f.useState([]),[X,T]=f.useState(""),[Q,ee]=f.useState([]),[D,q]=f.useState([]),ie=async B=>{var ke,je;const oe=B.target.files[0];if(!oe)return;s(!0);const de=new FormData;de.append("file",oe);try{const _e=await e.post("/api/ozon-reports/upload-order-realization",de,{headers:{"Content-Type":"multipart/form-data"}});Y.success(` ${_e.data.statistics.transactions_parsed} `),F()}catch(_e){Y.error(": "+(((je=(ke=_e.response)==null?void 0:ke.data)==null?void 0:je.detail)||_e.message))}s(!1),B.target.value=""},Z=async(B,oe)=>{var je,_e;const de=B.target.files[0];if(!de)return;s(!0);const ke=new FormData;ke.append("file",de);try{let Me="",ye="";switch(oe){case"loyalty":Me="/api/ozon-reports/upload-loyalty-report",ye="   ";break;case"acquiring":Me="/api/ozon-reports/upload-acquiring-report",ye="   ";break;case"rfbs":Me="/api/ozon-reports/upload-rfbs-logistics",ye="   rFBS ";break;default:throw new Error("  ")}const Ce=await e.post(Me,ke,{headers:{"Content-Type":"multipart/form-data"}});Y.success(ye),F()}catch(Me){Y.error(": "+(((_e=(je=Me.response)==null?void 0:je.data)==null?void 0:_e.detail)||Me.message))}s(!1),B.target.value=""},F=async()=>{o(!0);try{const B={period_start:g,period_end:h};if(j&&(B.tag_filter=j),X&&(B.product_filter=X),t==="profit"){const oe=await e.get("/api/ozon-reports/calculate-profit",{params:B});d(oe.data)}else if(t==="sales"){const oe=await e.get("/api/ozon-reports/sales-report",{params:B});u(oe.data)}else if(t==="trends"){const oe=await e.get("/api/ozon-reports/trends",{params:{period_start:g,period_end:h}});y(oe.data)}else{const oe=await e.get("/api/ozon-reports/transactions-list",{params:{...B,limit:100,offset:0}});p(oe.data)}}catch{Y.error(" ")}o(!1)},le=async()=>{try{const B=await e.get("/api/ozon-reports/expenses",{params:{period_start:g,period_end:h}});O(B.data.expenses||[])}catch(B){console.error("  ",B)}},pe=async()=>{var B,oe;if(!S.amount||parseFloat(S.amount)<=0){Y.error(" ");return}try{await e.post("/api/ozon-reports/add-expense",S),Y.success(" "),E({expense_date:mp(),expense_type:" ",amount:"",description:"",document_number:""}),_(!1),await le(),await F()}catch(de){Y.error(": "+(((oe=(B=de.response)==null?void 0:B.data)==null?void 0:oe.detail)||de.message))}},J=async B=>{if(confirm(" ?"))try{await e.delete(`/api/ozon-reports/expense/${B}`),Y.success(" "),await le(),await F()}catch{Y.error(" ")}},G=async()=>{try{const B=await e.get("/api/ozon-reports/tax-settings");U(B.data)}catch(B){console.error("   ",B)}},se=async B=>{try{await e.post("/api/ozon-reports/tax-settings",{tax_system:B}),Y.success(" "),await G(),await F(),A(!1)}catch{Y.error(" ")}},be=async()=>{try{const B=await e.get("/api/ozon-reports/reports-history");$(B.data.reports||[])}catch(B){console.error("  ",B)}},H=async B=>{if(confirm("     ?"))try{const oe=await e.delete(`/api/ozon-reports/report/${B}`);Y.success(` : ${oe.data.deleted_transactions}`),await be(),await F()}catch{Y.error(" ")}},re=async()=>{try{const B=await e.get("/api/ozon-reports/products-list");ee(B.data.products||[])}catch(B){console.error("  ",B)}},ce=async()=>{try{const B=await e.get("/api/ozon-reports/tags-list");q(B.data.tags||[])}catch(B){console.error("  ",B)}},ge=async()=>{try{const B={period_start:g,period_end:h};j&&(B.tag_filter=j);const oe=await e.get("/api/ozon-reports/export-excel",{params:B,responseType:"blob"}),de=window.URL.createObjectURL(new Blob([oe.data])),ke=document.createElement("a");ke.href=de,ke.setAttribute("download",`ozon_report_${g}_${h}.xlsx`),document.body.appendChild(ke),ke.click(),ke.remove(),Y.success(" !")}catch{Y.error(" ")}};f.useEffect(()=>{G(),be(),re(),ce()},[]),f.useEffect(()=>{(l||c||m||x)&&(F(),le())},[t]);const z=B=>(!B&&B!==0&&(B=0),new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(B)),ae=B=>`${(B||0).toFixed(2)}%`;return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"  "}),a.jsx("p",{className:"comment",children:"//     Ozon"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>A(!I),className:"btn-secondary text-sm px-4",children:" "}),a.jsx("button",{onClick:()=>L(!W),className:"btn-secondary text-sm px-4",children:" "})]})]}),I&&a.jsxs("div",{className:"card-neon p-6 bg-mm-gray bg-opacity-30",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase",children:" "}),a.jsx("button",{onClick:()=>A(!1),className:"text-mm-text-secondary hover:text-mm-cyan",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[a.jsxs("button",{onClick:()=>se("usn_income"),className:`p-4 rounded border-2 transition-colors ${(M==null?void 0:M.tax_system)==="usn_income"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:" "}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"6%  "})]}),a.jsxs("button",{onClick:()=>se("usn_income_expense"),className:`p-4 rounded border-2 transition-colors ${(M==null?void 0:M.tax_system)==="usn_income_expense"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:" -"}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"15%  "})]}),a.jsxs("button",{onClick:()=>se("osn"),className:`p-4 rounded border-2 transition-colors ${(M==null?void 0:M.tax_system)==="osn"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:""}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"20%   "})]}),a.jsxs("button",{onClick:()=>se("patent"),className:`p-4 rounded border-2 transition-colors ${(M==null?void 0:M.tax_system)==="patent"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:""}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"6% "})]}),a.jsxs("button",{onClick:()=>se("eshn"),className:`p-4 rounded border-2 transition-colors ${(M==null?void 0:M.tax_system)==="eshn"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:""}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"6%  /"})]}),a.jsxs("button",{onClick:()=>{U({tax_system:null,rate:0}),se(null)},className:`p-4 rounded border-2 transition-colors ${M!=null&&M.tax_system?"border-mm-border hover:border-mm-cyan":"border-mm-cyan bg-mm-cyan bg-opacity-10"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-text-secondary",children:" "}),a.jsx("div",{className:"text-sm text-mm-text-tertiary mt-1",children:" "})]})]}),(M==null?void 0:M.tax_system)&&a.jsx("div",{className:"mt-4 p-3 bg-mm-black rounded border border-mm-border",children:a.jsxs("div",{className:"text-sm font-mono text-mm-cyan",children:[" : ",M.tax_system==="usn_income"?"  6%":M.tax_system==="usn_income_expense"?" - 15%":M.tax_system==="osn"?" 20%":M.tax_system==="patent"?" 6%":M.tax_system==="eshn"?" 6%":" "]})})]}),W&&a.jsxs("div",{className:"card-neon p-6 bg-mm-gray bg-opacity-30",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase",children:"  "}),a.jsx("button",{onClick:()=>L(!1),className:"text-mm-text-secondary hover:text-mm-cyan",children:""})]}),R.length===0?a.jsx("div",{className:"text-center py-8 text-mm-text-secondary",children:"  "}):a.jsx("div",{className:"space-y-2",children:R.map(B=>{var oe,de;return a.jsxs("div",{className:"flex justify-between items-center bg-mm-black p-4 rounded border border-mm-border",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-mono text-mm-cyan",children:new Date(B.uploaded_at).toLocaleString("ru-RU")}),a.jsx("span",{className:"text-xs bg-mm-border px-2 py-1 rounded",children:B.report_type==="order_realization"?" ":B.report_type})]}),a.jsx("div",{className:"text-sm text-mm-text mt-1",children:B.file_name}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary mt-1",children:[": ",((oe=B.summary)==null?void 0:oe.total_transactions)||0," | : ",z(((de=B.summary)==null?void 0:de.total_revenue)||0)]})]}),a.jsx("button",{onClick:()=>H(B._id),className:"text-mm-red hover:text-mm-text text-sm ml-4",children:""})]},B._id)})})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex gap-2 mb-6",children:[a.jsxs("button",{onClick:()=>r("profit"),className:`px-6 py-3 rounded font-mono text-sm ${t==="profit"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(Ls,{className:"inline mr-2"})," "]}),a.jsxs("button",{onClick:()=>r("sales"),className:`px-6 py-3 rounded font-mono text-sm ${t==="sales"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(e_,{className:"inline mr-2"})," "]}),a.jsxs("button",{onClick:()=>r("transactions"),className:`px-6 py-3 rounded font-mono text-sm ${t==="transactions"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(KI,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>r("trends"),className:`px-6 py-3 rounded font-mono text-sm ${t==="trends"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(BI,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>r("economics"),className:`px-6 py-3 rounded font-mono text-sm ${t==="economics"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,"data-testid":"economics-tab-btn",children:[a.jsx(Ay,{className:"inline mr-2"}),""]})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsx("input",{type:"date",value:g,onChange:B=>v(B.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsx("input",{type:"date",value:h,onChange:B=>b(B.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsxs("select",{value:j,onChange:B=>k(B.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none",children:[a.jsx("option",{value:"",children:" "}),D.map(B=>a.jsx("option",{value:B,children:B},B))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsxs("select",{value:X,onChange:B=>T(B.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none",children:[a.jsx("option",{value:"",children:" "}),Q.map(B=>a.jsxs("option",{value:B.article,children:[B.article," - ",B.name.substring(0,40),"..."]},B.article))]})]}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("button",{onClick:F,disabled:i,className:"btn-primary flex-1",children:i?"...":""}),a.jsx("button",{onClick:ge,className:"btn-secondary px-4",children:a.jsx(Wt,{})})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-mm-border space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(rr,{}),n?"...":" ",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:ie,disabled:n,className:"hidden"})]}),a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(rr,{}),"  ",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:B=>Z(B,"loyalty"),disabled:n,className:"hidden"})]}),a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(rr,{}),"",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:B=>Z(B,"acquiring"),disabled:n,className:"hidden"})]}),a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(rr,{})," rFBS",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:B=>Z(B,"rfbs"),disabled:n,className:"hidden"})]})]}),a.jsx("p",{className:"text-xs text-mm-text-tertiary font-mono",children:"//      Ozon (  )"})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-mm-border",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"text-sm font-mono text-mm-cyan uppercase",children:" "}),a.jsx("button",{onClick:()=>_(!P),className:"btn-secondary text-xs px-3 py-1",children:P?"":"+ "})]}),P&&a.jsxs("div",{className:"bg-mm-gray bg-opacity-10 p-4 rounded border border-mm-border mb-3",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:""}),a.jsx("input",{type:"date",value:S.expense_date,onChange:B=>E({...S,expense_date:B.target.value}),className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:" "}),a.jsxs("select",{value:S.expense_type,onChange:B=>E({...S,expense_type:B.target.value}),className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm",children:[a.jsx("option",{children:" "}),a.jsx("option",{children:" "}),a.jsx("option",{children:""}),a.jsx("option",{children:""}),a.jsx("option",{children:""}),a.jsx("option",{children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:" ()"}),a.jsx("input",{type:"number",value:S.amount,onChange:B=>E({...S,amount:B.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:" "}),a.jsx("input",{type:"text",value:S.document_number,onChange:B=>E({...S,document_number:B.target.value}),placeholder:"",className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:""}),a.jsx("input",{type:"text",value:S.description,onChange:B=>E({...S,description:B.target.value}),placeholder:"",className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]})]}),a.jsx("button",{onClick:pe,className:"btn-primary mt-3",children:" "})]}),C.length>0&&a.jsxs("div",{className:"space-y-2",children:[C.map(B=>a.jsxs("div",{className:"flex justify-between items-center bg-mm-gray bg-opacity-10 p-3 rounded border border-mm-border",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-mono text-mm-cyan",children:new Date(B.expense_date).toLocaleDateString("ru-RU")}),a.jsx("span",{className:"text-xs bg-mm-border px-2 py-1 rounded",children:B.expense_type}),a.jsx("span",{className:"text-sm font-mono text-mm-text",children:z(B.amount)})]}),B.description&&a.jsx("div",{className:"text-xs text-mm-text-secondary mt-1",children:B.description}),B.document_number&&a.jsxs("div",{className:"text-xs text-mm-text-tertiary mt-1",children:[" ",B.document_number]})]}),a.jsx("button",{onClick:()=>J(B._id),className:"text-mm-red hover:text-mm-text text-sm",children:""})]},B._id)),a.jsxs("div",{className:"text-right text-sm font-mono text-mm-cyan pt-2 border-t border-mm-border",children:[": ",z(C.reduce((B,oe)=>B+oe.amount,0))]})]})]})]})]}),t==="economics"?a.jsx(CG,{dateFrom:g,dateTo:h,marketplace:"ozon"}):i?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// ..."})}):t==="profit"&&l?a.jsx(OG,{data:l,fmt:z,pct:ae}):t==="sales"&&c?a.jsx(AG,{data:c,fmt:z}):t==="trends"&&x?a.jsx(DG,{data:x,fmt:z}):t==="transactions"&&m?a.jsx(TG,{data:m,fmt:z,expandedRow:N,setExpandedRow:w}):a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-text-secondary",children:'    ""'})})]})}function OG({data:e,fmt:t,pct:r}){var n,s,i,o,l,d,c,u,m,p,x,y,g,v,h,b,j,k,N,w,P,_,C,O,S,E,I,A,M,U,W,L,R,$,X,T,Q;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:" "}),a.jsx("div",{className:"text-3xl font-mono text-mm-cyan mb-2",children:t((n=e.revenue)==null?void 0:n.net_revenue)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:((i=(s=e.revenue)==null?void 0:s.returns)==null?void 0:i.total_returned)>0?`: ${(l=(o=e.revenue)==null?void 0:o.returns)==null?void 0:l.returned_quantity} .`:`: ${t((d=e.revenue)==null?void 0:d.gross_revenue)}`})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:""}),a.jsx("div",{className:"text-3xl font-mono text-mm-red mb-2",children:t((c=e.cogs)==null?void 0:c.total)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:(u=e.statistics)!=null&&u.cogs_coverage?`: ${e.statistics.cogs_coverage.coverage_pct}%`:`${r((m=e.cogs)==null?void 0:m.percentage)}`})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:""}),a.jsx("div",{className:"text-3xl font-mono text-mm-red mb-2",children:t((p=e.expenses)==null?void 0:p.total)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:" Ozon"})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:" "}),a.jsx("div",{className:"text-3xl font-mono text-mm-green mb-2",children:t((x=e.profit)==null?void 0:x.net_profit)}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:[": ",r((y=e.profit)==null?void 0:y.net_margin_pct)]})]})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:""}),a.jsxs("div",{className:"space-y-3 font-mono text-sm",children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:t((g=e.revenue)==null?void 0:g.realized)})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"+   "}),a.jsxs("span",{className:"text-mm-cyan",children:["+",t((v=e.revenue)==null?void 0:v.loyalty_payments)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"+   "}),a.jsxs("span",{className:"text-mm-cyan",children:["+",t((h=e.revenue)==null?void 0:h.discount_points)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-bold text-mm-cyan",children:[a.jsx("span",{children:"=  "}),a.jsx("span",{children:t((b=e.revenue)==null?void 0:b.gross_revenue)})]}),((j=e.revenue)==null?void 0:j.returns)&&e.revenue.returns.total_returned>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border bg-mm-gray bg-opacity-20",children:[a.jsxs("span",{className:"text-mm-text-secondary",children:["-  (",e.revenue.returns.returned_quantity," .)"]}),a.jsxs("span",{className:"text-mm-red",children:["-",t(e.revenue.returns.total_returned)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t(e.revenue.returns.returned_amount)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t(e.revenue.returns.returned_discounts)]})]}),e.revenue.returns.returned_loyalty>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t(e.revenue.returns.returned_loyalty)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  ()"}),a.jsxs("span",{className:"text-mm-cyan",children:["+",t(e.revenue.returns.returned_commission_back)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-semibold",children:[a.jsx("span",{children:"=  "}),a.jsx("span",{children:t((k=e.revenue)==null?void 0:k.net_revenue)})]})]}),e.cogs&&e.cogs.total>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border bg-mm-gray bg-opacity-20",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-   (COGS)"}),a.jsxs("span",{className:"text-mm-red",children:["-",t(e.cogs.total)]})]}),((N=e.statistics)==null?void 0:N.cogs_coverage)&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsxs("span",{className:"text-mm-text-tertiary",children:[" : ",e.statistics.cogs_coverage.items_with_price,"  ",e.statistics.cogs_coverage.items_with_price+e.statistics.cogs_coverage.items_missing_price,"  (",e.statistics.cogs_coverage.coverage_pct,"%)"]}),a.jsx("span",{className:"text-mm-text-tertiary",children:r(e.cogs.percentage)})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-semibold text-mm-cyan",children:[a.jsx("span",{children:"=  "}),a.jsx("span",{children:t((w=e.profit)==null?void 0:w.gross_profit)})]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-   Ozon"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((P=e.expenses)==null?void 0:P.ozon_base_commission)]})]}),((_=e.expenses)==null?void 0:_.loyalty_programs)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-   ()"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((C=e.expenses)==null?void 0:C.loyalty_programs)]})]}),((O=e.expenses)==null?void 0:O.acquiring)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"- "}),a.jsxs("span",{className:"text-mm-red",children:["-",t((S=e.expenses)==null?void 0:S.acquiring)]})]}),((E=e.expenses)==null?void 0:E.rfbs_logistics)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-  rFBS"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((I=e.expenses)==null?void 0:I.rfbs_logistics)]})]}),((A=e.expenses)==null?void 0:A.fbo_fbs_services)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-  FBO/FBS"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((M=e.expenses)==null?void 0:M.fbo_fbs_services)]})]}),((U=e.expenses)==null?void 0:U.manual_expenses)>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border bg-mm-gray bg-opacity-20",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-  "}),a.jsxs("span",{className:"text-mm-red",children:["-",t((W=e.expenses)==null?void 0:W.manual_expenses)]})]}),((L=e.expenses)==null?void 0:L.manual_by_type)&&Object.keys(e.expenses.manual_by_type).length>0&&Object.entries(e.expenses.manual_by_type).map(([ee,D])=>a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsxs("span",{className:"text-mm-text-tertiary",children:[" ",ee]}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t(D)]})]},ee))]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-bold",children:[a.jsx("span",{className:"text-mm-red",children:"=  "}),a.jsxs("span",{className:"text-mm-red",children:["-",t((R=e.expenses)==null?void 0:R.total)]})]}),(($=e.profit)==null?void 0:$.operating_profit)!==void 0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-semibold text-mm-cyan",children:[a.jsx("span",{children:"=  "}),a.jsxs("span",{children:[t((X=e.profit)==null?void 0:X.operating_profit)," (",r((T=e.profit)==null?void 0:T.operating_margin_pct),")"]})]}),e.taxes&&e.taxes.amount>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsxs("span",{className:"text-mm-text-secondary",children:["-  (",e.taxes.system==="usn_income"?" 6%":e.taxes.system==="usn_income_expense"?" 15%":e.taxes.system==="osn"?" 20%":e.taxes.system==="patent"?" 6%":e.taxes.system==="eshn"?" 6%":e.taxes.rate+"%",")"]}),a.jsxs("span",{className:"text-mm-red",children:["-",t(e.taxes.amount)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-t-2 border-mm-cyan font-bold text-lg",children:[a.jsx("span",{className:"text-mm-green",children:"=  "}),a.jsx("span",{className:"text-mm-green",children:t((Q=e.profit)==null?void 0:Q.net_profit)})]})]})]})]})}function AG({data:e,fmt:t}){return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:"  "}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"-"}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:(e.products||[]).map((r,n)=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-cyan",children:r.article}),a.jsxs("td",{className:"py-3 px-4 text-sm",children:[(r.product_name||"").substring(0,50),"..."]}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:r.quantity}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:t(r.revenue)}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm text-mm-red",children:t(r.commission)})]},n))})]})}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-mm-border font-mono",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" :"}),a.jsx("span",{children:e.total_products||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" :"}),a.jsxs("span",{children:[e.total_quantity||0," "]})]}),a.jsxs("div",{className:"flex justify-between font-bold text-mm-cyan",children:[a.jsx("span",{children:" :"}),a.jsx("span",{children:t(e.total_revenue)})]})]})]})})}function TG({data:e,fmt:t,expandedRow:r,setExpandedRow:n}){return a.jsxs("div",{className:"card-neon",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono"})]})}),a.jsx("tbody",{children:(e.transactions||[]).map(s=>{const i=s.total_to_accrue||0,o=r===s._id;return a.jsxs(te.Fragment,{children:[a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(s.operation_date).toLocaleDateString("ru-RU")}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-cyan",children:s.posting_number}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:s.article}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:t(s.realized_amount)}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm text-mm-red",children:t(s.ozon_base_commission)}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm font-bold text-mm-green",children:t(i)}),a.jsx("td",{className:"py-3 px-4 text-center",children:a.jsx("button",{onClick:()=>n(o?null:s._id),className:"text-mm-cyan hover:text-mm-text",children:o?a.jsx(Py,{size:20}):a.jsx(Ui,{size:20})})})]}),o&&a.jsx("tr",{className:"bg-mm-gray border-b border-mm-border",children:a.jsx("td",{colSpan:"7",className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6 font-mono text-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-cyan uppercase mb-3",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:"SKU:"})," ",s.sku]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"})," ",s.product_name]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"})," ",s.quantity]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"})," ",t(s.price)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-cyan uppercase mb-3",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:":"}),a.jsx("span",{children:t(s.realized_amount)})]}),a.jsxs("div",{className:"flex justify-between text-mm-cyan",children:[a.jsx("span",{children:"+ :"}),a.jsxs("span",{children:["+",t(s.loyalty_payments)]})]}),a.jsxs("div",{className:"flex justify-between text-mm-cyan",children:[a.jsx("span",{children:"+ :"}),a.jsxs("span",{children:["+",t(s.discount_points)]})]}),a.jsxs("div",{className:"flex justify-between text-mm-red",children:[a.jsx("span",{children:"- :"}),a.jsxs("span",{children:["-",t(s.ozon_base_commission)]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-mm-green",children:[a.jsx("span",{children:":"}),a.jsx("span",{children:t(i)})]})]})]})]})})})]},s._id)})})]})}),a.jsxs("div",{className:"p-4 text-sm text-mm-text-secondary font-mono",children:[": ",e.total_count||0," "]})]})}function DG({data:e,fmt:t}){if(!e||!e.trends||e.trends.length===0)return a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-text-secondary",children:"   "})});const r=e.trends;r.reduce((o,l)=>o+l.revenue,0);const n=r.reduce((o,l)=>o+l.returns,0),i=[{name:" Ozon",value:r.reduce((o,l)=>o+l.commission,0),color:"#ff4444"},{name:"",value:n,color:"#ff8844"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:"   "}),a.jsx(cd,{width:"100%",height:300,children:a.jsxs(dG,{data:r,children:[a.jsx(ph,{strokeDasharray:"3 3",stroke:"#333"}),a.jsx(yh,{dataKey:"date",stroke:"#888",style:{fontSize:"12px",fontFamily:"monospace"}}),a.jsx(vh,{stroke:"#888",style:{fontSize:"12px",fontFamily:"monospace"},tickFormatter:o=>`${(o/1e3).toFixed(0)}k`}),a.jsx(ud,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #00ffff",borderRadius:"4px",fontFamily:"monospace",fontSize:"12px"},formatter:o=>t(o)}),a.jsx(jC,{wrapperStyle:{fontFamily:"monospace",fontSize:"12px"}}),a.jsx(xh,{type:"monotone",dataKey:"revenue",stroke:"#00ffff",strokeWidth:2,name:"",dot:{fill:"#00ffff",r:4}}),a.jsx(xh,{type:"monotone",dataKey:"profit",stroke:"#00ff88",strokeWidth:2,name:"",dot:{fill:"#00ff88",r:4}})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:" "}),a.jsx(cd,{width:"100%",height:250,children:a.jsxs(GE,{children:[a.jsx(zv,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o}: ${(l*100).toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:i.map((o,l)=>a.jsx(Ji,{fill:o.color},`cell-${l}`))}),a.jsx(ud,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #00ffff",fontFamily:"monospace"},formatter:o=>t(o)})]})})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:"  "}),a.jsx(cd,{width:"100%",height:250,children:a.jsxs(mG,{data:r,children:[a.jsx(ph,{strokeDasharray:"3 3",stroke:"#333"}),a.jsx(yh,{dataKey:"date",stroke:"#888",style:{fontSize:"10px",fontFamily:"monospace"}}),a.jsx(vh,{stroke:"#888",style:{fontSize:"12px",fontFamily:"monospace"}}),a.jsx(ud,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #00ffff",fontFamily:"monospace"}}),a.jsx(vE,{dataKey:"transactions",fill:"#00ffff",name:""})]})})]})]})]})}function IG(){const{api:e}=ve(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState(!1),[l,d]=f.useState(null),[c,u]=f.useState(""),[m,p]=f.useState({}),[x,y]=f.useState({total:0,with_price:0}),g=async()=>{s(!0);try{const N=await e.get("/api/ozon-reports/products-with-prices");r(N.data.products),y({total:N.data.total,with_price:N.data.with_price})}catch{Y.error("  ")}s(!1)};f.useEffect(()=>{g()},[]);const v=N=>{d(N._id),u(N.purchase_price||"")},h=()=>{const N=t.find(w=>w._id===l);N&&(p({...m,[N.article]:parseFloat(c)||0}),r(t.map(w=>w._id===l?{...w,purchase_price:parseFloat(c)||0}:w))),d(null),u("")},b=async()=>{var N,w;if(Object.keys(m).length===0){Y.info("   ");return}o(!0);try{const P=await e.post("/api/ozon-reports/update-purchase-prices",m);Y.success(` ${P.data.updated} `),p({}),await g()}catch(P){Y.error(" : "+(((w=(N=P.response)==null?void 0:N.data)==null?void 0:w.detail)||P.message))}o(!1)},j=()=>{const N=["article,purchase_price"];t.forEach(C=>{N.push(`${C.article},${C.purchase_price||0}`)});const w=new Blob([N.join(`
`)],{type:"text/csv"}),P=window.URL.createObjectURL(w),_=document.createElement("a");_.href=P,_.setAttribute("download","purchase_prices.csv"),document.body.appendChild(_),_.click(),_.remove(),Y.success(" ")},k=N=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(N||0);return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:" "}),a.jsx("p",{className:"comment",children:"//    (COGS)"})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"border border-mm-border rounded p-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-1",children:" "}),a.jsx("div",{className:"text-2xl font-mono text-mm-cyan",children:x.total})]}),a.jsxs("div",{className:"border border-mm-border rounded p-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-1",children:" "}),a.jsx("div",{className:"text-2xl font-mono text-mm-green",children:x.with_price})]}),a.jsxs("div",{className:"border border-mm-border rounded p-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-1",children:""}),a.jsxs("div",{className:"text-2xl font-mono text-mm-text",children:[x.total>0?(x.with_price/x.total*100).toFixed(1):0,"%"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:b,disabled:i||Object.keys(m).length===0,className:"btn-primary",children:[a.jsx(wi,{className:"inline mr-2"}),i?"...":` (${Object.keys(m).length})`]}),a.jsxs("button",{onClick:j,className:"btn-secondary",children:[a.jsx(Wt,{className:"inline mr-2"})," CSV"]}),a.jsxs("label",{className:"btn-secondary cursor-pointer",children:[a.jsx(rr,{className:"inline mr-2"}),"",a.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:async N=>{const w=N.target.files[0];if(!w)return;const P=new FormData;P.append("file",w);try{const _=await e.post("/api/ozon-reports/import-purchase-prices",P,{headers:{"Content-Type":"multipart/form-data"}});Y.success(` ${_.data.updated} `),await g()}catch{Y.error(" ")}N.target.value=""}})]})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// ..."})}):a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" %"}),a.jsx("th",{className:"text-center py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:t.map((N,w)=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray hover:bg-opacity-10",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:N.article}),a.jsx("td",{className:"py-3 px-4 text-sm",children:N.name}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:N.price>0?k(N.price):"-"}),a.jsx("td",{className:"py-3 px-4 text-right",children:l===N._id?a.jsx("input",{type:"number",value:c,onChange:P=>u(P.target.value),onKeyDown:P=>{P.key==="Enter"&&h(),P.key==="Escape"&&(d(null),u(""))},className:"w-32 px-2 py-1 bg-mm-black border border-mm-cyan rounded font-mono text-sm text-right",autoFocus:!0}):a.jsx("span",{className:`font-mono text-sm ${N.purchase_price>0?"text-mm-cyan":"text-mm-text-tertiary"}`,children:N.purchase_price>0?k(N.purchase_price):" "})}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:N.margin_pct>0?a.jsxs("span",{className:N.margin_pct>30?"text-mm-green":N.margin_pct>15?"text-mm-cyan":"text-mm-red",children:[N.margin_pct.toFixed(1),"%"]}):a.jsx("span",{className:"text-mm-text-tertiary",children:"-"})}),a.jsx("td",{className:"py-3 px-4 text-center",children:l===N._id?a.jsx("button",{onClick:h,className:"text-mm-green hover:text-mm-cyan",children:a.jsx(Bt,{size:18})}):a.jsx("button",{onClick:()=>v(N),className:"text-mm-text-secondary hover:text-mm-cyan",children:a.jsx(Ey,{size:16})})})]},N._id))})]})}),t.length===0&&a.jsx("div",{className:"text-center py-12 text-mm-text-secondary",children:"   "})]})]})}const fp=({title:e,icon:t,items:r,isActive:n})=>{const[s,i]=te.useState(!1),o=te.useRef(null),l=Xr();te.useEffect(()=>{const c=u=>{o.current&&!o.current.contains(u.target)&&i(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const d=c=>{i(!1),l(c)};return a.jsxs("div",{className:"relative",ref:o,children:[a.jsxs("button",{onClick:()=>i(!s),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${n?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(t,{className:"inline"}),e,a.jsx(Ui,{className:`ml-1 transition-transform ${s?"rotate-180":""}`})]}),s&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-mm-darker rounded-lg shadow-2xl border border-mm-border py-2 min-w-[220px]",style:{zIndex:9999},children:r.map((c,u)=>a.jsxs("button",{onClick:()=>d(c.path),className:"w-full text-left px-4 py-3 hover:bg-mm-gray flex items-center gap-3 text-sm text-mm-text hover:text-mm-cyan transition-colors font-medium",children:[c.icon&&a.jsx(c.icon,{className:"w-4 h-4"}),c.label]},u))})]})},MG=({children:e})=>{const{user:t,logout:r}=ve(),n=Xr(),s=Xa(),i=s.pathname.startsWith("/warehouses")||s.pathname.startsWith("/suppliers")||s.pathname.startsWith("/income-orders")||s.pathname.startsWith("/stock"),o=s.pathname.startsWith("/catalog")||s.pathname.startsWith("/products"),l=s.pathname.startsWith("/orders"),d=[{label:"",path:"/warehouses",icon:ki},{label:"",path:"/suppliers",icon:Ni},{label:"  ",path:"/income-orders",icon:Wt},{label:"",path:"/stock",icon:xx},{label:"",path:"/stock/sync",icon:Zk}],c=[{label:"",path:"/catalog/products",icon:t_},{label:"",path:"/catalog/categories",icon:s_},{label:"",path:"/catalog/pricing",icon:za},{label:"",path:"/catalog/matching",icon:Lo},{label:" ",path:"/catalog/import",icon:rr}],u=[{label:"FBS (  )",path:"/orders/fbs",icon:wt},{label:"FBO (  )",path:"/orders/fbo",icon:xx},{label:" ",path:"/orders/retail",icon:yx}];return a.jsxs("div",{className:"min-h-screen bg-mm-black",children:[a.jsx("header",{className:"border-b border-mm-border bg-mm-darker",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h1",{className:"text-2xl font-bold cursor-pointer",onClick:()=>n("/"),children:["MINIMAL",a.jsx("span",{className:"text-mm-purple",children:"MOD"})," ",a.jsx("span",{className:"status-new",children:"SELLER"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-mm-text-secondary",children:t==null?void 0:t.email}),a.jsx(o_,{}),a.jsx("button",{onClick:r,className:"btn-primary",children:"LOGOUT"})]})]})})}),a.jsx("nav",{className:"border-b border-mm-border bg-mm-dark relative",style:{zIndex:100},children:a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsxs("div",{className:"flex space-x-6 h-12",children:[a.jsxs("button",{onClick:()=>n("/integrations"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/integrations"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(r_,{className:"inline"}),""]}),a.jsx(fp,{title:"",icon:ki,items:d,isActive:i}),a.jsx(fp,{title:"",icon:wt,items:c,isActive:o}),a.jsx(fp,{title:"",icon:yx,items:u,isActive:l}),a.jsxs("button",{onClick:()=>n("/finance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/finance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(Ay,{className:"inline"}),""]}),a.jsxs("button",{onClick:()=>n("/analytics-reports"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/analytics-reports"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(Ls,{className:"inline"}),""]}),a.jsxs("button",{onClick:()=>n("/balance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/balance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(za,{className:"inline"}),""]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:e})]})};function Te({children:e,requiredRole:t}){const{user:r,loading:n}=ve();return n?a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):r?t&&r.role!==t?a.jsx(Mo,{to:"/"}):e:a.jsx(Mo,{to:"/login"})}function Le({children:e}){return a.jsx(MG,{children:e})}function LG(){const{user:e}=ve();return a.jsxs(bT,{children:[a.jsx(Ee,{path:"/login",element:e?a.jsx(Mo,{to:"/"}):a.jsx($I,{})}),a.jsx(Ee,{path:"/",element:a.jsx(Te,{children:(e==null?void 0:e.role)==="admin"?a.jsx(nM,{}):a.jsx(Mo,{to:"/catalog/products"})})}),a.jsx(Ee,{path:"/integrations",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(l_,{})})})}),a.jsx(Ee,{path:"/warehouses",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(u_,{})})})}),a.jsx(Ee,{path:"/warehouses/:id",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(dM,{})})})}),a.jsx(Ee,{path:"/suppliers",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(f_,{})})})}),a.jsx(Ee,{path:"/income-orders",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(p_,{})})})}),a.jsx(Ee,{path:"/income-orders/new",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(W0,{})})})}),a.jsx(Ee,{path:"/income-orders/:id/edit",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(W0,{})})})}),a.jsx(Ee,{path:"/stock",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(m_,{})})})}),a.jsx(Ee,{path:"/stock/sync",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(x_,{})})})}),a.jsx(Ee,{path:"/catalog/products",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(h_,{})})})}),a.jsx(Ee,{path:"/catalog/products/new",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(U0,{})})})}),a.jsx(Ee,{path:"/catalog/products/:id/edit",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(U0,{})})})}),a.jsx(Ee,{path:"/catalog/categories",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(uM,{})})})}),a.jsx(Ee,{path:"/catalog/pricing",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(vM,{})})})}),a.jsx(Ee,{path:"/catalog/matching",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(yM,{})})})}),a.jsx(Ee,{path:"/catalog/import",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(hM,{})})})}),a.jsx(Ee,{path:"/orders",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(_c,{})})})}),a.jsx(Ee,{path:"/orders/fbs",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(_c,{section:"fbs"})})})}),a.jsx(Ee,{path:"/orders/fbo",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(_c,{section:"fbo"})})})}),a.jsx(Ee,{path:"/orders/retail",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(_c,{section:"retail"})})})}),a.jsx(Ee,{path:"/finance",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(c_,{})})})}),a.jsx(Ee,{path:"/balance",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(d_,{})})})}),a.jsx(Ee,{path:"/profit-report",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(DM,{})})})}),a.jsx(Ee,{path:"/transactions",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(LM,{})})})}),a.jsx(Ee,{path:"/analytics-reports",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(EG,{})})})}),a.jsx(Ee,{path:"/purchase-prices",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(IG,{})})})}),a.jsx(Ee,{path:"/products/:id/edit",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(sM,{})})})}),a.jsx(Ee,{path:"/products-new",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(oM,{})})})}),a.jsx(Ee,{path:"/stock-balances",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(cM,{})})})}),a.jsx(Ee,{path:"/admin/categories",element:a.jsx(Te,{requiredRole:"admin",children:a.jsx(aM,{})})}),a.jsx(Ee,{path:"/admin/internal-categories",element:a.jsx(Te,{requiredRole:"admin",children:a.jsx(bM,{})})}),a.jsx(Ee,{path:"*",element:a.jsx(Mo,{to:"/catalog/products"})})]})}function $G(){return a.jsx(CT,{children:a.jsx(MI,{children:a.jsxs(II,{children:[a.jsx(nD,{position:"top-right",theme:"dark",toastOptions:{style:{background:"#0a0e27",border:"1px solid #00f0ff",color:"#e0e7ff"}}}),a.jsx(LG,{})]})})})}pp.createRoot(document.getElementById("root")).render(a.jsx(te.StrictMode,{children:a.jsx($G,{})}));
