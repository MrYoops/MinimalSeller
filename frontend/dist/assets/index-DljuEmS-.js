var VO=Object.defineProperty;var qO=(e,t,r)=>t in e?VO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var rf=(e,t,r)=>qO(e,typeof t!="symbol"?t+"":t,r);function YO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function On(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qN={exports:{}},Pd={},YN={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pl=Symbol.for("react.element"),GO=Symbol.for("react.portal"),XO=Symbol.for("react.fragment"),QO=Symbol.for("react.strict_mode"),ZO=Symbol.for("react.profiler"),JO=Symbol.for("react.provider"),e4=Symbol.for("react.context"),t4=Symbol.for("react.forward_ref"),r4=Symbol.for("react.suspense"),n4=Symbol.for("react.memo"),a4=Symbol.for("react.lazy"),qv=Symbol.iterator;function s4(e){return e===null||typeof e!="object"?null:(e=qv&&e[qv]||e["@@iterator"],typeof e=="function"?e:null)}var GN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XN=Object.assign,QN={};function Ii(e,t,r){this.props=e,this.context=t,this.refs=QN,this.updater=r||GN}Ii.prototype.isReactComponent={};Ii.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ii.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ZN(){}ZN.prototype=Ii.prototype;function vx(e,t,r){this.props=e,this.context=t,this.refs=QN,this.updater=r||GN}var bx=vx.prototype=new ZN;bx.constructor=vx;XN(bx,Ii.prototype);bx.isPureReactComponent=!0;var Yv=Array.isArray,JN=Object.prototype.hasOwnProperty,jx={current:null},e1={key:!0,ref:!0,__self:!0,__source:!0};function t1(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)JN.call(t,n)&&!e1.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:pl,type:e,key:i,ref:o,props:s,_owner:jx.current}}function i4(e,t){return{$$typeof:pl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wx(e){return typeof e=="object"&&e!==null&&e.$$typeof===pl}function o4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Gv=/\/+/g;function nf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?o4(""+e.key):t.toString(36)}function Bc(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case pl:case GO:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+nf(o,0):n,Yv(s)?(r="",e!=null&&(r=e.replace(Gv,"$&/")+"/"),Bc(s,t,r,"",function(c){return c})):s!=null&&(wx(s)&&(s=i4(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Gv,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Yv(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+nf(i,l);o+=Bc(i,t,r,u,s)}else if(u=s4(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+nf(i,l++),o+=Bc(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function nc(e,t,r){if(e==null)return e;var n=[],s=0;return Bc(e,n,"","",function(i){return t.call(r,i,s++)}),n}function l4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var or={current:null},Uc={transition:null},c4={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:Uc,ReactCurrentOwner:jx};function r1(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:nc,forEach:function(e,t,r){nc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return nc(e,function(){t++}),t},toArray:function(e){return nc(e,function(t){return t})||[]},only:function(e){if(!wx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pe.Component=Ii;Pe.Fragment=XO;Pe.Profiler=ZO;Pe.PureComponent=vx;Pe.StrictMode=QO;Pe.Suspense=r4;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c4;Pe.act=r1;Pe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=XN({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=jx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)JN.call(t,u)&&!e1.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:pl,type:e.type,key:s,ref:i,props:n,_owner:o}};Pe.createContext=function(e){return e={$$typeof:e4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:JO,_context:e},e.Consumer=e};Pe.createElement=t1;Pe.createFactory=function(e){var t=t1.bind(null,e);return t.type=e,t};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(e){return{$$typeof:t4,render:e}};Pe.isValidElement=wx;Pe.lazy=function(e){return{$$typeof:a4,_payload:{_status:-1,_result:e},_init:l4}};Pe.memo=function(e,t){return{$$typeof:n4,type:e,compare:t===void 0?null:t}};Pe.startTransition=function(e){var t=Uc.transition;Uc.transition={};try{e()}finally{Uc.transition=t}};Pe.unstable_act=r1;Pe.useCallback=function(e,t){return or.current.useCallback(e,t)};Pe.useContext=function(e){return or.current.useContext(e)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(e){return or.current.useDeferredValue(e)};Pe.useEffect=function(e,t){return or.current.useEffect(e,t)};Pe.useId=function(){return or.current.useId()};Pe.useImperativeHandle=function(e,t,r){return or.current.useImperativeHandle(e,t,r)};Pe.useInsertionEffect=function(e,t){return or.current.useInsertionEffect(e,t)};Pe.useLayoutEffect=function(e,t){return or.current.useLayoutEffect(e,t)};Pe.useMemo=function(e,t){return or.current.useMemo(e,t)};Pe.useReducer=function(e,t,r){return or.current.useReducer(e,t,r)};Pe.useRef=function(e){return or.current.useRef(e)};Pe.useState=function(e){return or.current.useState(e)};Pe.useSyncExternalStore=function(e,t,r){return or.current.useSyncExternalStore(e,t,r)};Pe.useTransition=function(){return or.current.useTransition()};Pe.version="18.3.1";YN.exports=Pe;var f=YN.exports;const J=On(f),n1=YO({__proto__:null,default:J},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u4=f,d4=Symbol.for("react.element"),m4=Symbol.for("react.fragment"),f4=Object.prototype.hasOwnProperty,p4=u4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h4={key:!0,ref:!0,__self:!0,__source:!0};function a1(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)f4.call(t,n)&&!h4.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:d4,type:e,key:i,ref:o,props:s,_owner:p4.current}}Pd.Fragment=m4;Pd.jsx=a1;Pd.jsxs=a1;qN.exports=Pd;var a=qN.exports,up={},s1={exports:{}},Ir={},i1={exports:{}},o1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,R){var $=L.length;L.push(R);e:for(;0<$;){var G=$-1>>>1,I=L[G];if(0<s(I,R))L[G]=R,L[$]=I,$=G;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var R=L[0],$=L.pop();if($!==R){L[0]=$;e:for(var G=0,I=L.length,X=I>>>1;G<X;){var Z=2*(G+1)-1,D=L[Z],Y=Z+1,ae=L[Y];if(0>s(D,$))Y<I&&0>s(ae,D)?(L[G]=ae,L[Y]=$,G=Y):(L[G]=D,L[Z]=$,G=Z);else if(Y<I&&0>s(ae,$))L[G]=ae,L[Y]=$,G=Y;else break e}}return R}function s(L,R){var $=L.sortIndex-R.sortIndex;return $!==0?$:L.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,m=null,p=3,h=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(L){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=L)n(c),R.sortIndex=R.expirationTime,t(u,R);else break;R=r(c)}}function k(L){if(g=!1,j(L),!y)if(r(u)!==null)y=!0,F(N);else{var R=r(c);R!==null&&U(k,R.startTime-L)}}function N(L,R){y=!1,g&&(g=!1,x(_),_=-1),h=!0;var $=p;try{for(j(R),m=r(u);m!==null&&(!(m.expirationTime>R)||L&&!S());){var G=m.callback;if(typeof G=="function"){m.callback=null,p=m.priorityLevel;var I=G(m.expirationTime<=R);R=e.unstable_now(),typeof I=="function"?m.callback=I:m===r(u)&&n(u),j(R)}else n(u);m=r(u)}if(m!==null)var X=!0;else{var Z=r(c);Z!==null&&U(k,Z.startTime-R),X=!1}return X}finally{m=null,p=$,h=!1}}var w=!1,C=null,_=-1,P=5,O=-1;function S(){return!(e.unstable_now()-O<P)}function E(){if(C!==null){var L=e.unstable_now();O=L;var R=!0;try{R=C(!0,L)}finally{R?M():(w=!1,C=null)}}else w=!1}var M;if(typeof b=="function")M=function(){b(E)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,T=A.port2;A.port1.onmessage=E,M=function(){T.postMessage(null)}}else M=function(){v(E,0)};function F(L){C=L,w||(w=!0,M())}function U(L,R){_=v(function(){L(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){y||h||(y=!0,F(N))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var $=p;p=R;try{return L()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,R){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=p;p=L;try{return R()}finally{p=$}},e.unstable_scheduleCallback=function(L,R,$){var G=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,L){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=$+I,L={id:d++,callback:R,priorityLevel:L,startTime:$,expirationTime:I,sortIndex:-1},$>G?(L.sortIndex=$,t(c,L),r(u)===null&&L===r(c)&&(g?(x(_),_=-1):g=!0,U(k,$-G))):(L.sortIndex=I,t(u,L),y||h||(y=!0,F(N))),L},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(L){var R=p;return function(){var $=p;p=R;try{return L.apply(this,arguments)}finally{p=$}}}})(o1);i1.exports=o1;var x4=i1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y4=f,Er=x4;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l1=new Set,Do={};function Is(e,t){mi(e,t),mi(e+"Capture",t)}function mi(e,t){for(Do[e]=t,e=0;e<t.length;e++)l1.add(t[e])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dp=Object.prototype.hasOwnProperty,g4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xv={},Qv={};function v4(e){return dp.call(Qv,e)?!0:dp.call(Xv,e)?!1:g4.test(e)?Qv[e]=!0:(Xv[e]=!0,!1)}function b4(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j4(e,t,r,n){if(t===null||typeof t>"u"||b4(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ut[e]=new lr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ut[t]=new lr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ut[e]=new lr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ut[e]=new lr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ut[e]=new lr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ut[e]=new lr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ut[e]=new lr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ut[e]=new lr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ut[e]=new lr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nx=/[\-:]([a-z])/g;function kx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nx,kx);Ut[t]=new lr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nx,kx);Ut[t]=new lr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nx,kx);Ut[t]=new lr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ut[e]=new lr(e,1,!1,e.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ut[e]=new lr(e,1,!1,e.toLowerCase(),null,!0,!0)});function _x(e,t,r,n){var s=Ut.hasOwnProperty(t)?Ut[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(j4(t,r,s,n)&&(r=null),n||s===null?v4(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var aa=y4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ac=Symbol.for("react.element"),Ks=Symbol.for("react.portal"),Hs=Symbol.for("react.fragment"),Sx=Symbol.for("react.strict_mode"),mp=Symbol.for("react.profiler"),c1=Symbol.for("react.provider"),u1=Symbol.for("react.context"),Px=Symbol.for("react.forward_ref"),fp=Symbol.for("react.suspense"),pp=Symbol.for("react.suspense_list"),Cx=Symbol.for("react.memo"),ha=Symbol.for("react.lazy"),d1=Symbol.for("react.offscreen"),Zv=Symbol.iterator;function Qi(e){return e===null||typeof e!="object"?null:(e=Zv&&e[Zv]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,af;function ho(e){if(af===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);af=t&&t[1]||""}return`
`+af+e}var sf=!1;function of(e,t){if(!e||sf)return"";sf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{sf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ho(e):""}function w4(e){switch(e.tag){case 5:return ho(e.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return e=of(e.type,!1),e;case 11:return e=of(e.type.render,!1),e;case 1:return e=of(e.type,!0),e;default:return""}}function hp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hs:return"Fragment";case Ks:return"Portal";case mp:return"Profiler";case Sx:return"StrictMode";case fp:return"Suspense";case pp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case u1:return(e.displayName||"Context")+".Consumer";case c1:return(e._context.displayName||"Context")+".Provider";case Px:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cx:return t=e.displayName||null,t!==null?t:hp(e.type)||"Memo";case ha:t=e._payload,e=e._init;try{return hp(e(t))}catch{}}return null}function N4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hp(t);case 8:return t===Sx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function La(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function m1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function k4(e){var t=m1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sc(e){e._valueTracker||(e._valueTracker=k4(e))}function f1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=m1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function lu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xp(e,t){var r=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Jv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=La(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function p1(e,t){t=t.checked,t!=null&&_x(e,"checked",t,!1)}function yp(e,t){p1(e,t);var r=La(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gp(e,t.type,r):t.hasOwnProperty("defaultValue")&&gp(e,t.type,La(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function gp(e,t,r){(t!=="number"||lu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xo=Array.isArray;function ai(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+La(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function vp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ee(92));if(xo(r)){if(1<r.length)throw Error(ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:La(r)}}function h1(e,t){var r=La(t.value),n=La(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function rb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function x1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?x1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ic,y1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ic=ic||document.createElement("div"),ic.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ic.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_4=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(e){_4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wo[t]=wo[e]})});function g1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wo.hasOwnProperty(e)&&wo[e]?(""+t).trim():t+"px"}function v1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=g1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var S4=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jp(e,t){if(t){if(S4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function wp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Np=null;function Ex(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kp=null,si=null,ii=null;function nb(e){if(e=yl(e)){if(typeof kp!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=Td(t),kp(e.stateNode,e.type,t))}}function b1(e){si?ii?ii.push(e):ii=[e]:si=e}function j1(){if(si){var e=si,t=ii;if(ii=si=null,nb(e),t)for(e=0;e<t.length;e++)nb(t[e])}}function w1(e,t){return e(t)}function N1(){}var lf=!1;function k1(e,t,r){if(lf)return e(t,r);lf=!0;try{return w1(e,t,r)}finally{lf=!1,(si!==null||ii!==null)&&(N1(),j1())}}function Lo(e,t){var r=e.stateNode;if(r===null)return null;var n=Td(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ee(231,t,typeof r));return r}var _p=!1;if(Hn)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){_p=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{_p=!1}function P4(e,t,r,n,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var No=!1,cu=null,uu=!1,Sp=null,C4={onError:function(e){No=!0,cu=e}};function E4(e,t,r,n,s,i,o,l,u){No=!1,cu=null,P4.apply(C4,arguments)}function O4(e,t,r,n,s,i,o,l,u){if(E4.apply(this,arguments),No){if(No){var c=cu;No=!1,cu=null}else throw Error(ee(198));uu||(uu=!0,Sp=c)}}function Ds(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ab(e){if(Ds(e)!==e)throw Error(ee(188))}function A4(e){var t=e.alternate;if(!t){if(t=Ds(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return ab(s),e;if(i===n)return ab(s),t;i=i.sibling}throw Error(ee(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?e:t}function S1(e){return e=A4(e),e!==null?P1(e):null}function P1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=P1(e);if(t!==null)return t;e=e.sibling}return null}var C1=Er.unstable_scheduleCallback,sb=Er.unstable_cancelCallback,T4=Er.unstable_shouldYield,I4=Er.unstable_requestPaint,lt=Er.unstable_now,D4=Er.unstable_getCurrentPriorityLevel,Ox=Er.unstable_ImmediatePriority,E1=Er.unstable_UserBlockingPriority,du=Er.unstable_NormalPriority,M4=Er.unstable_LowPriority,O1=Er.unstable_IdlePriority,Cd=null,kn=null;function L4(e){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Cd,e,void 0,(e.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:z4,$4=Math.log,R4=Math.LN2;function z4(e){return e>>>=0,e===0?32:31-($4(e)/R4|0)|0}var oc=64,lc=4194304;function yo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=yo(l):(i&=o,i!==0&&(n=yo(i)))}else o=r&~s,o!==0?n=yo(o):i!==0&&(n=yo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ln(t),s=1<<r,n|=e[r],t&=~s;return n}function F4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B4(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ln(i),l=1<<o,u=s[o];u===-1?(!(l&r)||l&n)&&(s[o]=F4(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function Pp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function A1(){var e=oc;return oc<<=1,!(oc&4194240)&&(oc=64),e}function cf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ln(t),e[t]=r}function U4(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ln(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Ax(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ln(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Re=0;function T1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var I1,Tx,D1,M1,L1,Cp=!1,cc=[],_a=null,Sa=null,Pa=null,$o=new Map,Ro=new Map,va=[],W4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ib(e,t){switch(e){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":$o.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(t.pointerId)}}function Ji(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=yl(t),t!==null&&Tx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function K4(e,t,r,n,s){switch(t){case"focusin":return _a=Ji(_a,e,t,r,n,s),!0;case"dragenter":return Sa=Ji(Sa,e,t,r,n,s),!0;case"mouseover":return Pa=Ji(Pa,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return $o.set(i,Ji($o.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ro.set(i,Ji(Ro.get(i)||null,e,t,r,n,s)),!0}return!1}function $1(e){var t=ss(e.target);if(t!==null){var r=Ds(t);if(r!==null){if(t=r.tag,t===13){if(t=_1(r),t!==null){e.blockedOn=t,L1(e.priority,function(){D1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ep(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Np=n,r.target.dispatchEvent(n),Np=null}else return t=yl(r),t!==null&&Tx(t),e.blockedOn=r,!1;t.shift()}return!0}function ob(e,t,r){Wc(e)&&r.delete(t)}function H4(){Cp=!1,_a!==null&&Wc(_a)&&(_a=null),Sa!==null&&Wc(Sa)&&(Sa=null),Pa!==null&&Wc(Pa)&&(Pa=null),$o.forEach(ob),Ro.forEach(ob)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,Cp||(Cp=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,H4)))}function zo(e){function t(s){return eo(s,e)}if(0<cc.length){eo(cc[0],e);for(var r=1;r<cc.length;r++){var n=cc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(_a!==null&&eo(_a,e),Sa!==null&&eo(Sa,e),Pa!==null&&eo(Pa,e),$o.forEach(t),Ro.forEach(t),r=0;r<va.length;r++)n=va[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<va.length&&(r=va[0],r.blockedOn===null);)$1(r),r.blockedOn===null&&va.shift()}var oi=aa.ReactCurrentBatchConfig,fu=!0;function V4(e,t,r,n){var s=Re,i=oi.transition;oi.transition=null;try{Re=1,Ix(e,t,r,n)}finally{Re=s,oi.transition=i}}function q4(e,t,r,n){var s=Re,i=oi.transition;oi.transition=null;try{Re=4,Ix(e,t,r,n)}finally{Re=s,oi.transition=i}}function Ix(e,t,r,n){if(fu){var s=Ep(e,t,r,n);if(s===null)vf(e,t,n,pu,r),ib(e,n);else if(K4(s,e,t,r,n))n.stopPropagation();else if(ib(e,n),t&4&&-1<W4.indexOf(e)){for(;s!==null;){var i=yl(s);if(i!==null&&I1(i),i=Ep(e,t,r,n),i===null&&vf(e,t,n,pu,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else vf(e,t,n,null,r)}}var pu=null;function Ep(e,t,r,n){if(pu=null,e=Ex(n),e=ss(e),e!==null)if(t=Ds(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pu=e,null}function R1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D4()){case Ox:return 1;case E1:return 4;case du:case M4:return 16;case O1:return 536870912;default:return 16}default:return 16}}var wa=null,Dx=null,Kc=null;function z1(){if(Kc)return Kc;var e,t=Dx,r=t.length,n,s="value"in wa?wa.value:wa.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Kc=s.slice(e,1<n?1-n:void 0)}function Hc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uc(){return!0}function lb(){return!1}function Dr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?uc:lb,this.isPropagationStopped=lb,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),t}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mx=Dr(Di),xl=rt({},Di,{view:0,detail:0}),Y4=Dr(xl),uf,df,to,Ed=rt({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==to&&(to&&e.type==="mousemove"?(uf=e.screenX-to.screenX,df=e.screenY-to.screenY):df=uf=0,to=e),uf)},movementY:function(e){return"movementY"in e?e.movementY:df}}),cb=Dr(Ed),G4=rt({},Ed,{dataTransfer:0}),X4=Dr(G4),Q4=rt({},xl,{relatedTarget:0}),mf=Dr(Q4),Z4=rt({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),J4=Dr(Z4),eA=rt({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tA=Dr(eA),rA=rt({},Di,{data:0}),ub=Dr(rA),nA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sA[e])?!!t[e]:!1}function Lx(){return iA}var oA=rt({},xl,{key:function(e){if(e.key){var t=nA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lx,charCode:function(e){return e.type==="keypress"?Hc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lA=Dr(oA),cA=rt({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),db=Dr(cA),uA=rt({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lx}),dA=Dr(uA),mA=rt({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),fA=Dr(mA),pA=rt({},Ed,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hA=Dr(pA),xA=[9,13,27,32],$x=Hn&&"CompositionEvent"in window,ko=null;Hn&&"documentMode"in document&&(ko=document.documentMode);var yA=Hn&&"TextEvent"in window&&!ko,F1=Hn&&(!$x||ko&&8<ko&&11>=ko),mb=" ",fb=!1;function B1(e,t){switch(e){case"keyup":return xA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vs=!1;function gA(e,t){switch(e){case"compositionend":return U1(t);case"keypress":return t.which!==32?null:(fb=!0,mb);case"textInput":return e=t.data,e===mb&&fb?null:e;default:return null}}function vA(e,t){if(Vs)return e==="compositionend"||!$x&&B1(e,t)?(e=z1(),Kc=Dx=wa=null,Vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return F1&&t.locale!=="ko"?null:t.data;default:return null}}var bA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bA[e.type]:t==="textarea"}function W1(e,t,r,n){b1(n),t=hu(t,"onChange"),0<t.length&&(r=new Mx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var _o=null,Fo=null;function jA(e){e2(e,0)}function Od(e){var t=Gs(e);if(f1(t))return e}function wA(e,t){if(e==="change")return t}var K1=!1;if(Hn){var ff;if(Hn){var pf="oninput"in document;if(!pf){var hb=document.createElement("div");hb.setAttribute("oninput","return;"),pf=typeof hb.oninput=="function"}ff=pf}else ff=!1;K1=ff&&(!document.documentMode||9<document.documentMode)}function xb(){_o&&(_o.detachEvent("onpropertychange",H1),Fo=_o=null)}function H1(e){if(e.propertyName==="value"&&Od(Fo)){var t=[];W1(t,Fo,e,Ex(e)),k1(jA,t)}}function NA(e,t,r){e==="focusin"?(xb(),_o=t,Fo=r,_o.attachEvent("onpropertychange",H1)):e==="focusout"&&xb()}function kA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Od(Fo)}function _A(e,t){if(e==="click")return Od(t)}function SA(e,t){if(e==="input"||e==="change")return Od(t)}function PA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:PA;function Bo(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!dp.call(t,s)||!dn(e[s],t[s]))return!1}return!0}function yb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gb(e,t){var r=yb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yb(r)}}function V1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?V1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function q1(){for(var e=window,t=lu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=lu(e.document)}return t}function Rx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function CA(e){var t=q1(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&V1(r.ownerDocument.documentElement,r)){if(n!==null&&Rx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=gb(r,i);var o=gb(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var EA=Hn&&"documentMode"in document&&11>=document.documentMode,qs=null,Op=null,So=null,Ap=!1;function vb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ap||qs==null||qs!==lu(n)||(n=qs,"selectionStart"in n&&Rx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),So&&Bo(So,n)||(So=n,n=hu(Op,"onSelect"),0<n.length&&(t=new Mx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=qs)))}function dc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ys={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionend:dc("Transition","TransitionEnd")},hf={},Y1={};Hn&&(Y1=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Ad(e){if(hf[e])return hf[e];if(!Ys[e])return e;var t=Ys[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Y1)return hf[e]=t[r];return e}var G1=Ad("animationend"),X1=Ad("animationiteration"),Q1=Ad("animationstart"),Z1=Ad("transitionend"),J1=new Map,bb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ka(e,t){J1.set(e,t),Is(t,[e])}for(var xf=0;xf<bb.length;xf++){var yf=bb[xf],OA=yf.toLowerCase(),AA=yf[0].toUpperCase()+yf.slice(1);Ka(OA,"on"+AA)}Ka(G1,"onAnimationEnd");Ka(X1,"onAnimationIteration");Ka(Q1,"onAnimationStart");Ka("dblclick","onDoubleClick");Ka("focusin","onFocus");Ka("focusout","onBlur");Ka(Z1,"onTransitionEnd");mi("onMouseEnter",["mouseout","mouseover"]);mi("onMouseLeave",["mouseout","mouseover"]);mi("onPointerEnter",["pointerout","pointerover"]);mi("onPointerLeave",["pointerout","pointerover"]);Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Is("onBeforeInput",["compositionend","keypress","textInput","paste"]);Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function jb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,O4(n,t,void 0,e),e.currentTarget=null}function e2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;jb(s,l,c),i=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;jb(s,l,c),i=u}}}if(uu)throw e=Sp,uu=!1,Sp=null,e}function He(e,t){var r=t[Lp];r===void 0&&(r=t[Lp]=new Set);var n=e+"__bubble";r.has(n)||(t2(t,e,2,!1),r.add(n))}function gf(e,t,r){var n=0;t&&(n|=4),t2(r,e,n,t)}var mc="_reactListening"+Math.random().toString(36).slice(2);function Uo(e){if(!e[mc]){e[mc]=!0,l1.forEach(function(r){r!=="selectionchange"&&(TA.has(r)||gf(r,!1,e),gf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mc]||(t[mc]=!0,gf("selectionchange",!1,t))}}function t2(e,t,r,n){switch(R1(t)){case 1:var s=V4;break;case 4:s=q4;break;default:s=Ix}r=s.bind(null,t,r,e),s=void 0,!_p||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function vf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ss(l),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}l=l.parentNode}}n=n.return}k1(function(){var c=i,d=Ex(r),m=[];e:{var p=J1.get(e);if(p!==void 0){var h=Mx,y=e;switch(e){case"keypress":if(Hc(r)===0)break e;case"keydown":case"keyup":h=lA;break;case"focusin":y="focus",h=mf;break;case"focusout":y="blur",h=mf;break;case"beforeblur":case"afterblur":h=mf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=cb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=X4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=dA;break;case G1:case X1:case Q1:h=J4;break;case Z1:h=fA;break;case"scroll":h=Y4;break;case"wheel":h=hA;break;case"copy":case"cut":case"paste":h=tA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=db}var g=(t&4)!==0,v=!g&&e==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var b=c,j;b!==null;){j=b;var k=j.stateNode;if(j.tag===5&&k!==null&&(j=k,x!==null&&(k=Lo(b,x),k!=null&&g.push(Wo(b,k,j)))),v)break;b=b.return}0<g.length&&(p=new h(p,y,null,r,d),m.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==Np&&(y=r.relatedTarget||r.fromElement)&&(ss(y)||y[Vn]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=c,y=y?ss(y):null,y!==null&&(v=Ds(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=c),h!==y)){if(g=cb,k="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=db,k="onPointerLeave",x="onPointerEnter",b="pointer"),v=h==null?p:Gs(h),j=y==null?p:Gs(y),p=new g(k,b+"leave",h,r,d),p.target=v,p.relatedTarget=j,k=null,ss(d)===c&&(g=new g(x,b+"enter",y,r,d),g.target=j,g.relatedTarget=v,k=g),v=k,h&&y)t:{for(g=h,x=y,b=0,j=g;j;j=Rs(j))b++;for(j=0,k=x;k;k=Rs(k))j++;for(;0<b-j;)g=Rs(g),b--;for(;0<j-b;)x=Rs(x),j--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=Rs(g),x=Rs(x)}g=null}else g=null;h!==null&&wb(m,p,h,g,!1),y!==null&&v!==null&&wb(m,v,y,g,!0)}}e:{if(p=c?Gs(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var N=wA;else if(pb(p))if(K1)N=SA;else{N=kA;var w=NA}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=_A);if(N&&(N=N(e,c))){W1(m,N,r,d);break e}w&&w(e,p,c),e==="focusout"&&(w=p._wrapperState)&&w.controlled&&p.type==="number"&&gp(p,"number",p.value)}switch(w=c?Gs(c):window,e){case"focusin":(pb(w)||w.contentEditable==="true")&&(qs=w,Op=c,So=null);break;case"focusout":So=Op=qs=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,vb(m,r,d);break;case"selectionchange":if(EA)break;case"keydown":case"keyup":vb(m,r,d)}var C;if($x)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vs?B1(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(F1&&r.locale!=="ko"&&(Vs||_!=="onCompositionStart"?_==="onCompositionEnd"&&Vs&&(C=z1()):(wa=d,Dx="value"in wa?wa.value:wa.textContent,Vs=!0)),w=hu(c,_),0<w.length&&(_=new ub(_,e,null,r,d),m.push({event:_,listeners:w}),C?_.data=C:(C=U1(r),C!==null&&(_.data=C)))),(C=yA?gA(e,r):vA(e,r))&&(c=hu(c,"onBeforeInput"),0<c.length&&(d=new ub("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:c}),d.data=C))}e2(m,t)})}function Wo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Lo(e,r),i!=null&&n.unshift(Wo(e,i,s)),i=Lo(e,t),i!=null&&n.push(Wo(e,i,s))),e=e.return}return n}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wb(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=Lo(r,i),u!=null&&o.unshift(Wo(r,u,l))):s||(u=Lo(r,i),u!=null&&o.push(Wo(r,u,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var IA=/\r\n?/g,DA=/\u0000|\uFFFD/g;function Nb(e){return(typeof e=="string"?e:""+e).replace(IA,`
`).replace(DA,"")}function fc(e,t,r){if(t=Nb(t),Nb(e)!==t&&r)throw Error(ee(425))}function xu(){}var Tp=null,Ip=null;function Dp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mp=typeof setTimeout=="function"?setTimeout:void 0,MA=typeof clearTimeout=="function"?clearTimeout:void 0,kb=typeof Promise=="function"?Promise:void 0,LA=typeof queueMicrotask=="function"?queueMicrotask:typeof kb<"u"?function(e){return kb.resolve(null).then(e).catch($A)}:Mp;function $A(e){setTimeout(function(){throw e})}function bf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),zo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);zo(t)}function Ca(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _b(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Mi=Math.random().toString(36).slice(2),wn="__reactFiber$"+Mi,Ko="__reactProps$"+Mi,Vn="__reactContainer$"+Mi,Lp="__reactEvents$"+Mi,RA="__reactListeners$"+Mi,zA="__reactHandles$"+Mi;function ss(e){var t=e[wn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Vn]||r[wn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_b(e);e!==null;){if(r=e[wn])return r;e=_b(e)}return t}e=r,r=e.parentNode}return null}function yl(e){return e=e[wn]||e[Vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function Td(e){return e[Ko]||null}var $p=[],Xs=-1;function Ha(e){return{current:e}}function qe(e){0>Xs||(e.current=$p[Xs],$p[Xs]=null,Xs--)}function We(e,t){Xs++,$p[Xs]=e.current,e.current=t}var $a={},Zt=Ha($a),pr=Ha(!1),vs=$a;function fi(e,t){var r=e.type.contextTypes;if(!r)return $a;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function hr(e){return e=e.childContextTypes,e!=null}function yu(){qe(pr),qe(Zt)}function Sb(e,t,r){if(Zt.current!==$a)throw Error(ee(168));We(Zt,t),We(pr,r)}function r2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ee(108,N4(e)||"Unknown",s));return rt({},r,n)}function gu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$a,vs=Zt.current,We(Zt,e),We(pr,pr.current),!0}function Pb(e,t,r){var n=e.stateNode;if(!n)throw Error(ee(169));r?(e=r2(e,t,vs),n.__reactInternalMemoizedMergedChildContext=e,qe(pr),qe(Zt),We(Zt,e)):qe(pr),We(pr,r)}var In=null,Id=!1,jf=!1;function n2(e){In===null?In=[e]:In.push(e)}function FA(e){Id=!0,n2(e)}function Va(){if(!jf&&In!==null){jf=!0;var e=0,t=Re;try{var r=In;for(Re=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}In=null,Id=!1}catch(s){throw In!==null&&(In=In.slice(e+1)),C1(Ox,Va),s}finally{Re=t,jf=!1}}return null}var Qs=[],Zs=0,vu=null,bu=0,Fr=[],Br=0,bs=null,$n=1,Rn="";function es(e,t){Qs[Zs++]=bu,Qs[Zs++]=vu,vu=e,bu=t}function a2(e,t,r){Fr[Br++]=$n,Fr[Br++]=Rn,Fr[Br++]=bs,bs=e;var n=$n;e=Rn;var s=32-ln(n)-1;n&=~(1<<s),r+=1;var i=32-ln(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,$n=1<<32-ln(t)+s|r<<s|n,Rn=i+e}else $n=1<<i|r<<s|n,Rn=e}function zx(e){e.return!==null&&(es(e,1),a2(e,1,0))}function Fx(e){for(;e===vu;)vu=Qs[--Zs],Qs[Zs]=null,bu=Qs[--Zs],Qs[Zs]=null;for(;e===bs;)bs=Fr[--Br],Fr[Br]=null,Rn=Fr[--Br],Fr[Br]=null,$n=Fr[--Br],Fr[Br]=null}var Pr=null,_r=null,Xe=!1,nn=null;function s2(e,t){var r=Ur(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pr=e,_r=Ca(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pr=e,_r=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bs!==null?{id:$n,overflow:Rn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ur(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Pr=e,_r=null,!0):!1;default:return!1}}function Rp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zp(e){if(Xe){var t=_r;if(t){var r=t;if(!Cb(e,t)){if(Rp(e))throw Error(ee(418));t=Ca(r.nextSibling);var n=Pr;t&&Cb(e,t)?s2(n,r):(e.flags=e.flags&-4097|2,Xe=!1,Pr=e)}}else{if(Rp(e))throw Error(ee(418));e.flags=e.flags&-4097|2,Xe=!1,Pr=e}}}function Eb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pr=e}function pc(e){if(e!==Pr)return!1;if(!Xe)return Eb(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dp(e.type,e.memoizedProps)),t&&(t=_r)){if(Rp(e))throw i2(),Error(ee(418));for(;t;)s2(e,t),t=Ca(t.nextSibling)}if(Eb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_r=Ca(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_r=null}}else _r=Pr?Ca(e.stateNode.nextSibling):null;return!0}function i2(){for(var e=_r;e;)e=Ca(e.nextSibling)}function pi(){_r=Pr=null,Xe=!1}function Bx(e){nn===null?nn=[e]:nn.push(e)}var BA=aa.ReactCurrentBatchConfig;function ro(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,e))}return e}function hc(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ob(e){var t=e._init;return t(e._payload)}function o2(e){function t(x,b){if(e){var j=x.deletions;j===null?(x.deletions=[b],x.flags|=16):j.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=Ta(x,b),x.index=0,x.sibling=null,x}function i(x,b,j){return x.index=j,e?(j=x.alternate,j!==null?(j=j.index,j<b?(x.flags|=2,b):j):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,j,k){return b===null||b.tag!==6?(b=Cf(j,x.mode,k),b.return=x,b):(b=s(b,j),b.return=x,b)}function u(x,b,j,k){var N=j.type;return N===Hs?d(x,b,j.props.children,k,j.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ha&&Ob(N)===b.type)?(k=s(b,j.props),k.ref=ro(x,b,j),k.return=x,k):(k=Zc(j.type,j.key,j.props,null,x.mode,k),k.ref=ro(x,b,j),k.return=x,k)}function c(x,b,j,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=Ef(j,x.mode,k),b.return=x,b):(b=s(b,j.children||[]),b.return=x,b)}function d(x,b,j,k,N){return b===null||b.tag!==7?(b=fs(j,x.mode,k,N),b.return=x,b):(b=s(b,j),b.return=x,b)}function m(x,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Cf(""+b,x.mode,j),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ac:return j=Zc(b.type,b.key,b.props,null,x.mode,j),j.ref=ro(x,null,b),j.return=x,j;case Ks:return b=Ef(b,x.mode,j),b.return=x,b;case ha:var k=b._init;return m(x,k(b._payload),j)}if(xo(b)||Qi(b))return b=fs(b,x.mode,j,null),b.return=x,b;hc(x,b)}return null}function p(x,b,j,k){var N=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:l(x,b,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ac:return j.key===N?u(x,b,j,k):null;case Ks:return j.key===N?c(x,b,j,k):null;case ha:return N=j._init,p(x,b,N(j._payload),k)}if(xo(j)||Qi(j))return N!==null?null:d(x,b,j,k,null);hc(x,j)}return null}function h(x,b,j,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(j)||null,l(b,x,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ac:return x=x.get(k.key===null?j:k.key)||null,u(b,x,k,N);case Ks:return x=x.get(k.key===null?j:k.key)||null,c(b,x,k,N);case ha:var w=k._init;return h(x,b,j,w(k._payload),N)}if(xo(k)||Qi(k))return x=x.get(j)||null,d(b,x,k,N,null);hc(b,k)}return null}function y(x,b,j,k){for(var N=null,w=null,C=b,_=b=0,P=null;C!==null&&_<j.length;_++){C.index>_?(P=C,C=null):P=C.sibling;var O=p(x,C,j[_],k);if(O===null){C===null&&(C=P);break}e&&C&&O.alternate===null&&t(x,C),b=i(O,b,_),w===null?N=O:w.sibling=O,w=O,C=P}if(_===j.length)return r(x,C),Xe&&es(x,_),N;if(C===null){for(;_<j.length;_++)C=m(x,j[_],k),C!==null&&(b=i(C,b,_),w===null?N=C:w.sibling=C,w=C);return Xe&&es(x,_),N}for(C=n(x,C);_<j.length;_++)P=h(C,x,_,j[_],k),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?_:P.key),b=i(P,b,_),w===null?N=P:w.sibling=P,w=P);return e&&C.forEach(function(S){return t(x,S)}),Xe&&es(x,_),N}function g(x,b,j,k){var N=Qi(j);if(typeof N!="function")throw Error(ee(150));if(j=N.call(j),j==null)throw Error(ee(151));for(var w=N=null,C=b,_=b=0,P=null,O=j.next();C!==null&&!O.done;_++,O=j.next()){C.index>_?(P=C,C=null):P=C.sibling;var S=p(x,C,O.value,k);if(S===null){C===null&&(C=P);break}e&&C&&S.alternate===null&&t(x,C),b=i(S,b,_),w===null?N=S:w.sibling=S,w=S,C=P}if(O.done)return r(x,C),Xe&&es(x,_),N;if(C===null){for(;!O.done;_++,O=j.next())O=m(x,O.value,k),O!==null&&(b=i(O,b,_),w===null?N=O:w.sibling=O,w=O);return Xe&&es(x,_),N}for(C=n(x,C);!O.done;_++,O=j.next())O=h(C,x,_,O.value,k),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?_:O.key),b=i(O,b,_),w===null?N=O:w.sibling=O,w=O);return e&&C.forEach(function(E){return t(x,E)}),Xe&&es(x,_),N}function v(x,b,j,k){if(typeof j=="object"&&j!==null&&j.type===Hs&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ac:e:{for(var N=j.key,w=b;w!==null;){if(w.key===N){if(N=j.type,N===Hs){if(w.tag===7){r(x,w.sibling),b=s(w,j.props.children),b.return=x,x=b;break e}}else if(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ha&&Ob(N)===w.type){r(x,w.sibling),b=s(w,j.props),b.ref=ro(x,w,j),b.return=x,x=b;break e}r(x,w);break}else t(x,w);w=w.sibling}j.type===Hs?(b=fs(j.props.children,x.mode,k,j.key),b.return=x,x=b):(k=Zc(j.type,j.key,j.props,null,x.mode,k),k.ref=ro(x,b,j),k.return=x,x=k)}return o(x);case Ks:e:{for(w=j.key;b!==null;){if(b.key===w)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(x,b.sibling),b=s(b,j.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=Ef(j,x.mode,k),b.return=x,x=b}return o(x);case ha:return w=j._init,v(x,b,w(j._payload),k)}if(xo(j))return y(x,b,j,k);if(Qi(j))return g(x,b,j,k);hc(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(x,b.sibling),b=s(b,j),b.return=x,x=b):(r(x,b),b=Cf(j,x.mode,k),b.return=x,x=b),o(x)):r(x,b)}return v}var hi=o2(!0),l2=o2(!1),ju=Ha(null),wu=null,Js=null,Ux=null;function Wx(){Ux=Js=wu=null}function Kx(e){var t=ju.current;qe(ju),e._currentValue=t}function Fp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function li(e,t){wu=e,Ux=Js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mr=!0),e.firstContext=null)}function Hr(e){var t=e._currentValue;if(Ux!==e)if(e={context:e,memoizedValue:t,next:null},Js===null){if(wu===null)throw Error(ee(308));Js=e,wu.dependencies={lanes:0,firstContext:e}}else Js=Js.next=e;return t}var is=null;function Hx(e){is===null?is=[e]:is.push(e)}function c2(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Hx(t)):(r.next=s.next,s.next=r),t.interleaved=r,qn(e,n)}function qn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var xa=!1;function Vx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ea(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Oe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,qn(e,r)}return s=n.interleaved,s===null?(t.next=t,Hx(n)):(t.next=s.next,s.next=t),n.interleaved=t,qn(e,r)}function Vc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ax(e,r)}}function Ab(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Nu(e,t,r,n){var s=e.updateQueue;xa=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var m=s.baseState;o=0,d=c=u=null,l=i;do{var p=l.lane,h=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(p=t,h=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){m=y.call(h,m,p);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(h,m,p):y,p==null)break e;m=rt({},m,p);break e;case 2:xa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=h,u=m):d=d.next=h,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(u=m),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ws|=o,e.lanes=o,e.memoizedState=m}}function Tb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ee(191,s));s.call(n)}}}var gl={},_n=Ha(gl),Ho=Ha(gl),Vo=Ha(gl);function os(e){if(e===gl)throw Error(ee(174));return e}function qx(e,t){switch(We(Vo,t),We(Ho,e),We(_n,gl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bp(t,e)}qe(_n),We(_n,t)}function xi(){qe(_n),qe(Ho),qe(Vo)}function d2(e){os(Vo.current);var t=os(_n.current),r=bp(t,e.type);t!==r&&(We(Ho,e),We(_n,r))}function Yx(e){Ho.current===e&&(qe(_n),qe(Ho))}var et=Ha(0);function ku(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wf=[];function Gx(){for(var e=0;e<wf.length;e++)wf[e]._workInProgressVersionPrimary=null;wf.length=0}var qc=aa.ReactCurrentDispatcher,Nf=aa.ReactCurrentBatchConfig,js=0,tt=null,yt=null,Et=null,_u=!1,Po=!1,qo=0,UA=0;function Ht(){throw Error(ee(321))}function Xx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dn(e[r],t[r]))return!1;return!0}function Qx(e,t,r,n,s,i){if(js=i,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qc.current=e===null||e.memoizedState===null?VA:qA,e=r(n,s),Po){i=0;do{if(Po=!1,qo=0,25<=i)throw Error(ee(301));i+=1,Et=yt=null,t.updateQueue=null,qc.current=YA,e=r(n,s)}while(Po)}if(qc.current=Su,t=yt!==null&&yt.next!==null,js=0,Et=yt=tt=null,_u=!1,t)throw Error(ee(300));return e}function Zx(){var e=qo!==0;return qo=0,e}function bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?tt.memoizedState=Et=e:Et=Et.next=e,Et}function Vr(){if(yt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=Et===null?tt.memoizedState:Et.next;if(t!==null)Et=t,yt=e;else{if(e===null)throw Error(ee(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Et===null?tt.memoizedState=Et=e:Et=Et.next=e}return Et}function Yo(e,t){return typeof t=="function"?t(e):t}function kf(e){var t=Vr(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=yt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((js&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=m,o=n):u=u.next=m,tt.lanes|=d,ws|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=l,dn(n,t.memoizedState)||(mr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,tt.lanes|=i,ws|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _f(e){var t=Vr(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);dn(i,t.memoizedState)||(mr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function m2(){}function f2(e,t){var r=tt,n=Vr(),s=t(),i=!dn(n.memoizedState,s);if(i&&(n.memoizedState=s,mr=!0),n=n.queue,Jx(x2.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Et!==null&&Et.memoizedState.tag&1){if(r.flags|=2048,Go(9,h2.bind(null,r,n,s,t),void 0,null),Tt===null)throw Error(ee(349));js&30||p2(r,t,s)}return s}function p2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function h2(e,t,r,n){t.value=r,t.getSnapshot=n,y2(t)&&g2(e)}function x2(e,t,r){return r(function(){y2(t)&&g2(e)})}function y2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dn(e,r)}catch{return!0}}function g2(e){var t=qn(e,1);t!==null&&cn(t,e,1,-1)}function Ib(e){var t=bn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:e},t.queue=e,e=e.dispatch=HA.bind(null,tt,e),[t.memoizedState,e]}function Go(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function v2(){return Vr().memoizedState}function Yc(e,t,r,n){var s=bn();tt.flags|=e,s.memoizedState=Go(1|t,r,void 0,n===void 0?null:n)}function Dd(e,t,r,n){var s=Vr();n=n===void 0?null:n;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,n!==null&&Xx(n,o.deps)){s.memoizedState=Go(t,r,i,n);return}}tt.flags|=e,s.memoizedState=Go(1|t,r,i,n)}function Db(e,t){return Yc(8390656,8,e,t)}function Jx(e,t){return Dd(2048,8,e,t)}function b2(e,t){return Dd(4,2,e,t)}function j2(e,t){return Dd(4,4,e,t)}function w2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function N2(e,t,r){return r=r!=null?r.concat([e]):null,Dd(4,4,w2.bind(null,t,e),r)}function ey(){}function k2(e,t){var r=Vr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _2(e,t){var r=Vr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function S2(e,t,r){return js&21?(dn(r,t)||(r=A1(),tt.lanes|=r,ws|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mr=!0),e.memoizedState=r)}function WA(e,t){var r=Re;Re=r!==0&&4>r?r:4,e(!0);var n=Nf.transition;Nf.transition={};try{e(!1),t()}finally{Re=r,Nf.transition=n}}function P2(){return Vr().memoizedState}function KA(e,t,r){var n=Aa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},C2(e))E2(t,r);else if(r=c2(e,t,r,n),r!==null){var s=ar();cn(r,e,n,s),O2(r,t,n)}}function HA(e,t,r){var n=Aa(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(C2(e))E2(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,dn(l,o)){var u=t.interleaved;u===null?(s.next=s,Hx(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=c2(e,t,s,n),r!==null&&(s=ar(),cn(r,e,n,s),O2(r,t,n))}}function C2(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function E2(e,t){Po=_u=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function O2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ax(e,r)}}var Su={readContext:Hr,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},VA={readContext:Hr,useCallback:function(e,t){return bn().memoizedState=[e,t===void 0?null:t],e},useContext:Hr,useEffect:Db,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yc(4194308,4,w2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yc(4,2,e,t)},useMemo:function(e,t){var r=bn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=KA.bind(null,tt,e),[n.memoizedState,e]},useRef:function(e){var t=bn();return e={current:e},t.memoizedState=e},useState:Ib,useDebugValue:ey,useDeferredValue:function(e){return bn().memoizedState=e},useTransition:function(){var e=Ib(!1),t=e[0];return e=WA.bind(null,e[1]),bn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=tt,s=bn();if(Xe){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=t(),Tt===null)throw Error(ee(349));js&30||p2(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Db(x2.bind(null,n,i,e),[e]),n.flags|=2048,Go(9,h2.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=bn(),t=Tt.identifierPrefix;if(Xe){var r=Rn,n=$n;r=(n&~(1<<32-ln(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=qo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=UA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qA={readContext:Hr,useCallback:k2,useContext:Hr,useEffect:Jx,useImperativeHandle:N2,useInsertionEffect:b2,useLayoutEffect:j2,useMemo:_2,useReducer:kf,useRef:v2,useState:function(){return kf(Yo)},useDebugValue:ey,useDeferredValue:function(e){var t=Vr();return S2(t,yt.memoizedState,e)},useTransition:function(){var e=kf(Yo)[0],t=Vr().memoizedState;return[e,t]},useMutableSource:m2,useSyncExternalStore:f2,useId:P2,unstable_isNewReconciler:!1},YA={readContext:Hr,useCallback:k2,useContext:Hr,useEffect:Jx,useImperativeHandle:N2,useInsertionEffect:b2,useLayoutEffect:j2,useMemo:_2,useReducer:_f,useRef:v2,useState:function(){return _f(Yo)},useDebugValue:ey,useDeferredValue:function(e){var t=Vr();return yt===null?t.memoizedState=e:S2(t,yt.memoizedState,e)},useTransition:function(){var e=_f(Yo)[0],t=Vr().memoizedState;return[e,t]},useMutableSource:m2,useSyncExternalStore:f2,useId:P2,unstable_isNewReconciler:!1};function tn(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Bp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:rt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Md={isMounted:function(e){return(e=e._reactInternals)?Ds(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ar(),s=Aa(e),i=Bn(n,s);i.payload=t,r!=null&&(i.callback=r),t=Ea(e,i,s),t!==null&&(cn(t,e,s,n),Vc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ar(),s=Aa(e),i=Bn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ea(e,i,s),t!==null&&(cn(t,e,s,n),Vc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ar(),n=Aa(e),s=Bn(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ea(e,s,n),t!==null&&(cn(t,e,n,r),Vc(t,e,n))}};function Mb(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Bo(r,n)||!Bo(s,i):!0}function A2(e,t,r){var n=!1,s=$a,i=t.contextType;return typeof i=="object"&&i!==null?i=Hr(i):(s=hr(t)?vs:Zt.current,n=t.contextTypes,i=(n=n!=null)?fi(e,s):$a),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Md,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Lb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Md.enqueueReplaceState(t,t.state,null)}function Up(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Vx(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Hr(i):(i=hr(t)?vs:Zt.current,s.context=fi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Bp(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Md.enqueueReplaceState(s,s.state,null),Nu(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function yi(e,t){try{var r="",n=t;do r+=w4(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Sf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Wp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var GA=typeof WeakMap=="function"?WeakMap:Map;function T2(e,t,r){r=Bn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Cu||(Cu=!0,Jp=n),Wp(e,t)},r}function I2(e,t,r){r=Bn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Wp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Wp(e,t),typeof n!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function $b(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new GA;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=c3.bind(null,e,t,r),t.then(e,e))}function Rb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zb(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Bn(-1,1),t.tag=2,Ea(r,t,1))),r.lanes|=1),e)}var XA=aa.ReactCurrentOwner,mr=!1;function er(e,t,r,n){t.child=e===null?l2(t,null,r,n):hi(t,e.child,r,n)}function Fb(e,t,r,n,s){r=r.render;var i=t.ref;return li(t,s),n=Qx(e,t,r,n,i,s),r=Zx(),e!==null&&!mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yn(e,t,s)):(Xe&&r&&zx(t),t.flags|=1,er(e,t,n,s),t.child)}function Bb(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ly(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,D2(e,t,i,n,s)):(e=Zc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Bo,r(o,n)&&e.ref===t.ref)return Yn(e,t,s)}return t.flags|=1,e=Ta(i,n),e.ref=t.ref,e.return=t,t.child=e}function D2(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Bo(i,n)&&e.ref===t.ref)if(mr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(mr=!0);else return t.lanes=e.lanes,Yn(e,t,s)}return Kp(e,t,r,n,s)}function M2(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(ti,wr),wr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(ti,wr),wr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,We(ti,wr),wr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,We(ti,wr),wr|=n;return er(e,t,s,r),t.child}function L2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Kp(e,t,r,n,s){var i=hr(r)?vs:Zt.current;return i=fi(t,i),li(t,s),r=Qx(e,t,r,n,i,s),n=Zx(),e!==null&&!mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yn(e,t,s)):(Xe&&n&&zx(t),t.flags|=1,er(e,t,r,s),t.child)}function Ub(e,t,r,n,s){if(hr(r)){var i=!0;gu(t)}else i=!1;if(li(t,s),t.stateNode===null)Gc(e,t),A2(t,r,n),Up(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Hr(c):(c=hr(r)?vs:Zt.current,c=fi(t,c));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==c)&&Lb(t,o,n,c),xa=!1;var p=t.memoizedState;o.state=p,Nu(t,n,o,s),u=t.memoizedState,l!==n||p!==u||pr.current||xa?(typeof d=="function"&&(Bp(t,r,d,n),u=t.memoizedState),(l=xa||Mb(t,r,l,n,p,u,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,u2(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tn(t.type,l),o.props=c,m=t.pendingProps,p=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Hr(u):(u=hr(r)?vs:Zt.current,u=fi(t,u));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==u)&&Lb(t,o,n,u),xa=!1,p=t.memoizedState,o.state=p,Nu(t,n,o,s);var y=t.memoizedState;l!==m||p!==y||pr.current||xa?(typeof h=="function"&&(Bp(t,r,h,n),y=t.memoizedState),(c=xa||Mb(t,r,c,n,p,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Hp(e,t,r,n,i,s)}function Hp(e,t,r,n,s,i){L2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Pb(t,r,!1),Yn(e,t,i);n=t.stateNode,XA.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=hi(t,e.child,null,i),t.child=hi(t,null,l,i)):er(e,t,l,i),t.memoizedState=n.state,s&&Pb(t,r,!0),t.child}function $2(e){var t=e.stateNode;t.pendingContext?Sb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sb(e,t.context,!1),qx(e,t.containerInfo)}function Wb(e,t,r,n,s){return pi(),Bx(s),t.flags|=256,er(e,t,r,n),t.child}var Vp={dehydrated:null,treeContext:null,retryLane:0};function qp(e){return{baseLanes:e,cachePool:null,transitions:null}}function R2(e,t,r){var n=t.pendingProps,s=et.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),We(et,s&1),e===null)return zp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Rd(o,n,0,null),e=fs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=qp(r),t.memoizedState=Vp,e):ty(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return QA(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Ta(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ta(l,i):(i=fs(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?qp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Vp,n}return i=e.child,e=i.sibling,n=Ta(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ty(e,t){return t=Rd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xc(e,t,r,n){return n!==null&&Bx(n),hi(t,e.child,null,r),e=ty(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QA(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Sf(Error(ee(422))),xc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Rd({mode:"visible",children:n.children},s,0,null),i=fs(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&hi(t,e.child,null,o),t.child.memoizedState=qp(o),t.memoizedState=Vp,i);if(!(t.mode&1))return xc(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ee(419)),n=Sf(i,n,void 0),xc(e,t,o,n)}if(l=(o&e.childLanes)!==0,mr||l){if(n=Tt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qn(e,s),cn(n,e,s,-1))}return oy(),n=Sf(Error(ee(421))),xc(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=u3.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,_r=Ca(s.nextSibling),Pr=t,Xe=!0,nn=null,e!==null&&(Fr[Br++]=$n,Fr[Br++]=Rn,Fr[Br++]=bs,$n=e.id,Rn=e.overflow,bs=t),t=ty(t,n.children),t.flags|=4096,t)}function Kb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Fp(e.return,t,r)}function Pf(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function z2(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(er(e,t,n.children,r),n=et.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kb(e,r,t);else if(e.tag===19)Kb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(We(et,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ku(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Pf(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ku(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Pf(t,!0,r,null,i);break;case"together":Pf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ws|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,r=Ta(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ta(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ZA(e,t,r){switch(t.tag){case 3:$2(t),pi();break;case 5:d2(t);break;case 1:hr(t.type)&&gu(t);break;case 4:qx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;We(ju,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(We(et,et.current&1),t.flags|=128,null):r&t.child.childLanes?R2(e,t,r):(We(et,et.current&1),e=Yn(e,t,r),e!==null?e.sibling:null);We(et,et.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return z2(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(et,et.current),n)break;return null;case 22:case 23:return t.lanes=0,M2(e,t,r)}return Yn(e,t,r)}var F2,Yp,B2,U2;F2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Yp=function(){};B2=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,os(_n.current);var i=null;switch(r){case"input":s=xp(e,s),n=xp(e,n),i=[];break;case"select":s=rt({},s,{value:void 0}),n=rt({},n,{value:void 0}),i=[];break;case"textarea":s=vp(e,s),n=vp(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=xu)}jp(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Do.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Do.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&He("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};U2=function(e,t,r,n){r!==n&&(t.flags|=4)};function no(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function JA(e,t,r){var n=t.pendingProps;switch(Fx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return hr(t.type)&&yu(),Vt(t),null;case 3:return n=t.stateNode,xi(),qe(pr),qe(Zt),Gx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nn!==null&&(rh(nn),nn=null))),Yp(e,t),Vt(t),null;case 5:Yx(t);var s=os(Vo.current);if(r=t.type,e!==null&&t.stateNode!=null)B2(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ee(166));return Vt(t),null}if(e=os(_n.current),pc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[wn]=t,n[Ko]=i,e=(t.mode&1)!==0,r){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(s=0;s<go.length;s++)He(go[s],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":Jv(n,i),He("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},He("invalid",n);break;case"textarea":tb(n,i),He("invalid",n)}jp(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&fc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&fc(n.textContent,l,e),s=["children",""+l]):Do.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&He("scroll",n)}switch(r){case"input":sc(n),eb(n,i,!0);break;case"textarea":sc(n),rb(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xu)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=x1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[wn]=t,e[Ko]=n,F2(e,t,!1,!1),t.stateNode=e;e:{switch(o=wp(r,n),r){case"dialog":He("cancel",e),He("close",e),s=n;break;case"iframe":case"object":case"embed":He("load",e),s=n;break;case"video":case"audio":for(s=0;s<go.length;s++)He(go[s],e);s=n;break;case"source":He("error",e),s=n;break;case"img":case"image":case"link":He("error",e),He("load",e),s=n;break;case"details":He("toggle",e),s=n;break;case"input":Jv(e,n),s=xp(e,n),He("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=rt({},n,{value:void 0}),He("invalid",e);break;case"textarea":tb(e,n),s=vp(e,n),He("invalid",e);break;default:s=n}jp(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?v1(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&y1(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Mo(e,u):typeof u=="number"&&Mo(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Do.hasOwnProperty(i)?u!=null&&i==="onScroll"&&He("scroll",e):u!=null&&_x(e,i,u,o))}switch(r){case"input":sc(e),eb(e,n,!1);break;case"textarea":sc(e),rb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+La(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ai(e,!!n.multiple,i,!1):n.defaultValue!=null&&ai(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vt(t),null;case 6:if(e&&t.stateNode!=null)U2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ee(166));if(r=os(Vo.current),os(_n.current),pc(t)){if(n=t.stateNode,r=t.memoizedProps,n[wn]=t,(i=n.nodeValue!==r)&&(e=Pr,e!==null))switch(e.tag){case 3:fc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wn]=t,t.stateNode=n}return Vt(t),null;case 13:if(qe(et),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&_r!==null&&t.mode&1&&!(t.flags&128))i2(),pi(),t.flags|=98560,i=!1;else if(i=pc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ee(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ee(317));i[wn]=t}else pi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vt(t),i=!1}else nn!==null&&(rh(nn),nn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?vt===0&&(vt=3):oy())),t.updateQueue!==null&&(t.flags|=4),Vt(t),null);case 4:return xi(),Yp(e,t),e===null&&Uo(t.stateNode.containerInfo),Vt(t),null;case 10:return Kx(t.type._context),Vt(t),null;case 17:return hr(t.type)&&yu(),Vt(t),null;case 19:if(qe(et),i=t.memoizedState,i===null)return Vt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)no(i,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ku(e),o!==null){for(t.flags|=128,no(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return We(et,et.current&1|2),t.child}e=e.sibling}i.tail!==null&&lt()>gi&&(t.flags|=128,n=!0,no(i,!1),t.lanes=4194304)}else{if(!n)if(e=ku(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),no(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xe)return Vt(t),null}else 2*lt()-i.renderingStartTime>gi&&r!==1073741824&&(t.flags|=128,n=!0,no(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=lt(),t.sibling=null,r=et.current,We(et,n?r&1|2:r&1),t):(Vt(t),null);case 22:case 23:return iy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?wr&1073741824&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function e3(e,t){switch(Fx(t),t.tag){case 1:return hr(t.type)&&yu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xi(),qe(pr),qe(Zt),Gx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yx(t),null;case 13:if(qe(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(et),null;case 4:return xi(),null;case 10:return Kx(t.type._context),null;case 22:case 23:return iy(),null;case 24:return null;default:return null}}var yc=!1,Yt=!1,t3=typeof WeakSet=="function"?WeakSet:Set,oe=null;function ei(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){st(e,t,n)}else r.current=null}function Gp(e,t,r){try{r()}catch(n){st(e,t,n)}}var Hb=!1;function r3(e,t){if(Tp=fu,e=q1(),Rx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,c=0,d=0,m=e,p=null;t:for(;;){for(var h;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==i||n!==0&&m.nodeType!==3||(u=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(h=m.firstChild)!==null;)p=m,m=h;for(;;){if(m===e)break t;if(p===r&&++c===s&&(l=o),p===i&&++d===n&&(u=o),(h=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=h}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ip={focusedElem:e,selectionRange:r},fu=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:tn(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(k){st(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return y=Hb,Hb=!1,y}function Co(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Gp(t,r,i)}s=s.next}while(s!==n)}}function Ld(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Xp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function W2(e){var t=e.alternate;t!==null&&(e.alternate=null,W2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wn],delete t[Ko],delete t[Lp],delete t[RA],delete t[zA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function K2(e){return e.tag===5||e.tag===3||e.tag===4}function Vb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||K2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=xu));else if(n!==4&&(e=e.child,e!==null))for(Qp(e,t,r),e=e.sibling;e!==null;)Qp(e,t,r),e=e.sibling}function Zp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Zp(e,t,r),e=e.sibling;e!==null;)Zp(e,t,r),e=e.sibling}var zt=null,rn=!1;function fa(e,t,r){for(r=r.child;r!==null;)H2(e,t,r),r=r.sibling}function H2(e,t,r){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Cd,r)}catch{}switch(r.tag){case 5:Yt||ei(r,t);case 6:var n=zt,s=rn;zt=null,fa(e,t,r),zt=n,rn=s,zt!==null&&(rn?(e=zt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):zt.removeChild(r.stateNode));break;case 18:zt!==null&&(rn?(e=zt,r=r.stateNode,e.nodeType===8?bf(e.parentNode,r):e.nodeType===1&&bf(e,r),zo(e)):bf(zt,r.stateNode));break;case 4:n=zt,s=rn,zt=r.stateNode.containerInfo,rn=!0,fa(e,t,r),zt=n,rn=s;break;case 0:case 11:case 14:case 15:if(!Yt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Gp(r,t,o),s=s.next}while(s!==n)}fa(e,t,r);break;case 1:if(!Yt&&(ei(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){st(r,t,l)}fa(e,t,r);break;case 21:fa(e,t,r);break;case 22:r.mode&1?(Yt=(n=Yt)||r.memoizedState!==null,fa(e,t,r),Yt=n):fa(e,t,r);break;default:fa(e,t,r)}}function qb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new t3),t.forEach(function(n){var s=d3.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function en(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:zt=l.stateNode,rn=!1;break e;case 3:zt=l.stateNode.containerInfo,rn=!0;break e;case 4:zt=l.stateNode.containerInfo,rn=!0;break e}l=l.return}if(zt===null)throw Error(ee(160));H2(i,o,s),zt=null,rn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){st(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)V2(t,e),t=t.sibling}function V2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(en(t,e),yn(e),n&4){try{Co(3,e,e.return),Ld(3,e)}catch(g){st(e,e.return,g)}try{Co(5,e,e.return)}catch(g){st(e,e.return,g)}}break;case 1:en(t,e),yn(e),n&512&&r!==null&&ei(r,r.return);break;case 5:if(en(t,e),yn(e),n&512&&r!==null&&ei(r,r.return),e.flags&32){var s=e.stateNode;try{Mo(s,"")}catch(g){st(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&p1(s,i),wp(l,o);var c=wp(l,i);for(o=0;o<u.length;o+=2){var d=u[o],m=u[o+1];d==="style"?v1(s,m):d==="dangerouslySetInnerHTML"?y1(s,m):d==="children"?Mo(s,m):_x(s,d,m,c)}switch(l){case"input":yp(s,i);break;case"textarea":h1(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?ai(s,!!i.multiple,h,!1):p!==!!i.multiple&&(i.defaultValue!=null?ai(s,!!i.multiple,i.defaultValue,!0):ai(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ko]=i}catch(g){st(e,e.return,g)}}break;case 6:if(en(t,e),yn(e),n&4){if(e.stateNode===null)throw Error(ee(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){st(e,e.return,g)}}break;case 3:if(en(t,e),yn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zo(t.containerInfo)}catch(g){st(e,e.return,g)}break;case 4:en(t,e),yn(e);break;case 13:en(t,e),yn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ay=lt())),n&4&&qb(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Yt=(c=Yt)||d,en(t,e),Yt=c):en(t,e),yn(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(oe=e,d=e.child;d!==null;){for(m=oe=d;oe!==null;){switch(p=oe,h=p.child,p.tag){case 0:case 11:case 14:case 15:Co(4,p,p.return);break;case 1:ei(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){st(n,r,g)}}break;case 5:ei(p,p.return);break;case 22:if(p.memoizedState!==null){Gb(m);continue}}h!==null?(h.return=p,oe=h):Gb(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=g1("display",o))}catch(g){st(e,e.return,g)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(g){st(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:en(t,e),yn(e),n&4&&qb(e);break;case 21:break;default:en(t,e),yn(e)}}function yn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(K2(r)){var n=r;break e}r=r.return}throw Error(ee(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Mo(s,""),n.flags&=-33);var i=Vb(e);Zp(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Vb(e);Qp(e,l,o);break;default:throw Error(ee(161))}}catch(u){st(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function n3(e,t,r){oe=e,q2(e)}function q2(e,t,r){for(var n=(e.mode&1)!==0;oe!==null;){var s=oe,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||yc;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Yt;l=yc;var c=Yt;if(yc=o,(Yt=u)&&!c)for(oe=s;oe!==null;)o=oe,u=o.child,o.tag===22&&o.memoizedState!==null?Xb(s):u!==null?(u.return=o,oe=u):Xb(s);for(;i!==null;)oe=i,q2(i),i=i.sibling;oe=s,yc=l,Yt=c}Yb(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,oe=i):Yb(e)}}function Yb(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yt||Ld(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Yt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:tn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Tb(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Tb(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&zo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Yt||t.flags&512&&Xp(t)}catch(p){st(t,t.return,p)}}if(t===e){oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,oe=r;break}oe=t.return}}function Gb(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,oe=r;break}oe=t.return}}function Xb(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ld(4,t)}catch(u){st(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){st(t,s,u)}}var i=t.return;try{Xp(t)}catch(u){st(t,i,u)}break;case 5:var o=t.return;try{Xp(t)}catch(u){st(t,o,u)}}}catch(u){st(t,t.return,u)}if(t===e){oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,oe=l;break}oe=t.return}}var a3=Math.ceil,Pu=aa.ReactCurrentDispatcher,ry=aa.ReactCurrentOwner,Kr=aa.ReactCurrentBatchConfig,Oe=0,Tt=null,mt=null,Ft=0,wr=0,ti=Ha(0),vt=0,Xo=null,ws=0,$d=0,ny=0,Eo=null,dr=null,ay=0,gi=1/0,Tn=null,Cu=!1,Jp=null,Oa=null,gc=!1,Na=null,Eu=0,Oo=0,eh=null,Xc=-1,Qc=0;function ar(){return Oe&6?lt():Xc!==-1?Xc:Xc=lt()}function Aa(e){return e.mode&1?Oe&2&&Ft!==0?Ft&-Ft:BA.transition!==null?(Qc===0&&(Qc=A1()),Qc):(e=Re,e!==0||(e=window.event,e=e===void 0?16:R1(e.type)),e):1}function cn(e,t,r,n){if(50<Oo)throw Oo=0,eh=null,Error(ee(185));hl(e,r,n),(!(Oe&2)||e!==Tt)&&(e===Tt&&(!(Oe&2)&&($d|=r),vt===4&&ba(e,Ft)),xr(e,n),r===1&&Oe===0&&!(t.mode&1)&&(gi=lt()+500,Id&&Va()))}function xr(e,t){var r=e.callbackNode;B4(e,t);var n=mu(e,e===Tt?Ft:0);if(n===0)r!==null&&sb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&sb(r),t===1)e.tag===0?FA(Qb.bind(null,e)):n2(Qb.bind(null,e)),LA(function(){!(Oe&6)&&Va()}),r=null;else{switch(T1(n)){case 1:r=Ox;break;case 4:r=E1;break;case 16:r=du;break;case 536870912:r=O1;break;default:r=du}r=tk(r,Y2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Y2(e,t){if(Xc=-1,Qc=0,Oe&6)throw Error(ee(327));var r=e.callbackNode;if(ci()&&e.callbackNode!==r)return null;var n=mu(e,e===Tt?Ft:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ou(e,n);else{t=n;var s=Oe;Oe|=2;var i=X2();(Tt!==e||Ft!==t)&&(Tn=null,gi=lt()+500,ms(e,t));do try{o3();break}catch(l){G2(e,l)}while(!0);Wx(),Pu.current=i,Oe=s,mt!==null?t=0:(Tt=null,Ft=0,t=vt)}if(t!==0){if(t===2&&(s=Pp(e),s!==0&&(n=s,t=th(e,s))),t===1)throw r=Xo,ms(e,0),ba(e,n),xr(e,lt()),r;if(t===6)ba(e,n);else{if(s=e.current.alternate,!(n&30)&&!s3(s)&&(t=Ou(e,n),t===2&&(i=Pp(e),i!==0&&(n=i,t=th(e,i))),t===1))throw r=Xo,ms(e,0),ba(e,n),xr(e,lt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ee(345));case 2:ts(e,dr,Tn);break;case 3:if(ba(e,n),(n&130023424)===n&&(t=ay+500-lt(),10<t)){if(mu(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ar(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Mp(ts.bind(null,e,dr,Tn),t);break}ts(e,dr,Tn);break;case 4:if(ba(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ln(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*a3(n/1960))-n,10<n){e.timeoutHandle=Mp(ts.bind(null,e,dr,Tn),n);break}ts(e,dr,Tn);break;case 5:ts(e,dr,Tn);break;default:throw Error(ee(329))}}}return xr(e,lt()),e.callbackNode===r?Y2.bind(null,e):null}function th(e,t){var r=Eo;return e.current.memoizedState.isDehydrated&&(ms(e,t).flags|=256),e=Ou(e,t),e!==2&&(t=dr,dr=r,t!==null&&rh(t)),e}function rh(e){dr===null?dr=e:dr.push.apply(dr,e)}function s3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!dn(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ba(e,t){for(t&=~ny,t&=~$d,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ln(t),n=1<<r;e[r]=-1,t&=~n}}function Qb(e){if(Oe&6)throw Error(ee(327));ci();var t=mu(e,0);if(!(t&1))return xr(e,lt()),null;var r=Ou(e,t);if(e.tag!==0&&r===2){var n=Pp(e);n!==0&&(t=n,r=th(e,n))}if(r===1)throw r=Xo,ms(e,0),ba(e,t),xr(e,lt()),r;if(r===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ts(e,dr,Tn),xr(e,lt()),null}function sy(e,t){var r=Oe;Oe|=1;try{return e(t)}finally{Oe=r,Oe===0&&(gi=lt()+500,Id&&Va())}}function Ns(e){Na!==null&&Na.tag===0&&!(Oe&6)&&ci();var t=Oe;Oe|=1;var r=Kr.transition,n=Re;try{if(Kr.transition=null,Re=1,e)return e()}finally{Re=n,Kr.transition=r,Oe=t,!(Oe&6)&&Va()}}function iy(){wr=ti.current,qe(ti)}function ms(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,MA(r)),mt!==null)for(r=mt.return;r!==null;){var n=r;switch(Fx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&yu();break;case 3:xi(),qe(pr),qe(Zt),Gx();break;case 5:Yx(n);break;case 4:xi();break;case 13:qe(et);break;case 19:qe(et);break;case 10:Kx(n.type._context);break;case 22:case 23:iy()}r=r.return}if(Tt=e,mt=e=Ta(e.current,null),Ft=wr=t,vt=0,Xo=null,ny=$d=ws=0,dr=Eo=null,is!==null){for(t=0;t<is.length;t++)if(r=is[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}is=null}return e}function G2(e,t){do{var r=mt;try{if(Wx(),qc.current=Su,_u){for(var n=tt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}_u=!1}if(js=0,Et=yt=tt=null,Po=!1,qo=0,ry.current=null,r===null||r.return===null){vt=1,Xo=t,mt=null;break}e:{var i=e,o=r.return,l=r,u=t;if(t=Ft,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Rb(o);if(h!==null){h.flags&=-257,zb(h,o,l,i,t),h.mode&1&&$b(i,c,t),t=h,u=c;var y=t.updateQueue;if(y===null){var g=new Set;g.add(u),t.updateQueue=g}else y.add(u);break e}else{if(!(t&1)){$b(i,c,t),oy();break e}u=Error(ee(426))}}else if(Xe&&l.mode&1){var v=Rb(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),zb(v,o,l,i,t),Bx(yi(u,l));break e}}i=u=yi(u,l),vt!==4&&(vt=2),Eo===null?Eo=[i]:Eo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=T2(i,u,t);Ab(i,x);break e;case 1:l=u;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Oa===null||!Oa.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=I2(i,l,t);Ab(i,k);break e}}i=i.return}while(i!==null)}Z2(r)}catch(N){t=N,mt===r&&r!==null&&(mt=r=r.return);continue}break}while(!0)}function X2(){var e=Pu.current;return Pu.current=Su,e===null?Su:e}function oy(){(vt===0||vt===3||vt===2)&&(vt=4),Tt===null||!(ws&268435455)&&!($d&268435455)||ba(Tt,Ft)}function Ou(e,t){var r=Oe;Oe|=2;var n=X2();(Tt!==e||Ft!==t)&&(Tn=null,ms(e,t));do try{i3();break}catch(s){G2(e,s)}while(!0);if(Wx(),Oe=r,Pu.current=n,mt!==null)throw Error(ee(261));return Tt=null,Ft=0,vt}function i3(){for(;mt!==null;)Q2(mt)}function o3(){for(;mt!==null&&!T4();)Q2(mt)}function Q2(e){var t=ek(e.alternate,e,wr);e.memoizedProps=e.pendingProps,t===null?Z2(e):mt=t,ry.current=null}function Z2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=e3(r,t),r!==null){r.flags&=32767,mt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,mt=null;return}}else if(r=JA(r,t,wr),r!==null){mt=r;return}if(t=t.sibling,t!==null){mt=t;return}mt=t=e}while(t!==null);vt===0&&(vt=5)}function ts(e,t,r){var n=Re,s=Kr.transition;try{Kr.transition=null,Re=1,l3(e,t,r,n)}finally{Kr.transition=s,Re=n}return null}function l3(e,t,r,n){do ci();while(Na!==null);if(Oe&6)throw Error(ee(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(U4(e,i),e===Tt&&(mt=Tt=null,Ft=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gc||(gc=!0,tk(du,function(){return ci(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Kr.transition,Kr.transition=null;var o=Re;Re=1;var l=Oe;Oe|=4,ry.current=null,r3(e,r),V2(r,e),CA(Ip),fu=!!Tp,Ip=Tp=null,e.current=r,n3(r),I4(),Oe=l,Re=o,Kr.transition=i}else e.current=r;if(gc&&(gc=!1,Na=e,Eu=s),i=e.pendingLanes,i===0&&(Oa=null),L4(r.stateNode),xr(e,lt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Cu)throw Cu=!1,e=Jp,Jp=null,e;return Eu&1&&e.tag!==0&&ci(),i=e.pendingLanes,i&1?e===eh?Oo++:(Oo=0,eh=e):Oo=0,Va(),null}function ci(){if(Na!==null){var e=T1(Eu),t=Kr.transition,r=Re;try{if(Kr.transition=null,Re=16>e?16:e,Na===null)var n=!1;else{if(e=Na,Na=null,Eu=0,Oe&6)throw Error(ee(331));var s=Oe;for(Oe|=4,oe=e.current;oe!==null;){var i=oe,o=i.child;if(oe.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(oe=c;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:Co(8,d,i)}var m=d.child;if(m!==null)m.return=d,oe=m;else for(;oe!==null;){d=oe;var p=d.sibling,h=d.return;if(W2(d),d===c){oe=null;break}if(p!==null){p.return=h,oe=p;break}oe=h}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,oe=o;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Co(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,oe=x;break e}oe=i.return}}var b=e.current;for(oe=b;oe!==null;){o=oe;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,oe=j;else e:for(o=b;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ld(9,l)}}catch(N){st(l,l.return,N)}if(l===o){oe=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,oe=k;break e}oe=l.return}}if(Oe=s,Va(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Cd,e)}catch{}n=!0}return n}finally{Re=r,Kr.transition=t}}return!1}function Zb(e,t,r){t=yi(r,t),t=T2(e,t,1),e=Ea(e,t,1),t=ar(),e!==null&&(hl(e,1,t),xr(e,t))}function st(e,t,r){if(e.tag===3)Zb(e,e,r);else for(;t!==null;){if(t.tag===3){Zb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Oa===null||!Oa.has(n))){e=yi(r,e),e=I2(t,e,1),t=Ea(t,e,1),e=ar(),t!==null&&(hl(t,1,e),xr(t,e));break}}t=t.return}}function c3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ar(),e.pingedLanes|=e.suspendedLanes&r,Tt===e&&(Ft&r)===r&&(vt===4||vt===3&&(Ft&130023424)===Ft&&500>lt()-ay?ms(e,0):ny|=r),xr(e,t)}function J2(e,t){t===0&&(e.mode&1?(t=lc,lc<<=1,!(lc&130023424)&&(lc=4194304)):t=1);var r=ar();e=qn(e,t),e!==null&&(hl(e,t,r),xr(e,r))}function u3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),J2(e,r)}function d3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(t),J2(e,r)}var ek;ek=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||pr.current)mr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return mr=!1,ZA(e,t,r);mr=!!(e.flags&131072)}else mr=!1,Xe&&t.flags&1048576&&a2(t,bu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gc(e,t),e=t.pendingProps;var s=fi(t,Zt.current);li(t,r),s=Qx(null,t,n,e,s,r);var i=Zx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,hr(n)?(i=!0,gu(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vx(t),s.updater=Md,t.stateNode=s,s._reactInternals=t,Up(t,n,e,r),t=Hp(null,t,n,!0,i,r)):(t.tag=0,Xe&&i&&zx(t),er(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Gc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=f3(n),e=tn(n,e),s){case 0:t=Kp(null,t,n,e,r);break e;case 1:t=Ub(null,t,n,e,r);break e;case 11:t=Fb(null,t,n,e,r);break e;case 14:t=Bb(null,t,n,tn(n.type,e),r);break e}throw Error(ee(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tn(n,s),Kp(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tn(n,s),Ub(e,t,n,s,r);case 3:e:{if($2(t),e===null)throw Error(ee(387));n=t.pendingProps,i=t.memoizedState,s=i.element,u2(e,t),Nu(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=yi(Error(ee(423)),t),t=Wb(e,t,n,r,s);break e}else if(n!==s){s=yi(Error(ee(424)),t),t=Wb(e,t,n,r,s);break e}else for(_r=Ca(t.stateNode.containerInfo.firstChild),Pr=t,Xe=!0,nn=null,r=l2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pi(),n===s){t=Yn(e,t,r);break e}er(e,t,n,r)}t=t.child}return t;case 5:return d2(t),e===null&&zp(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Dp(n,s)?o=null:i!==null&&Dp(n,i)&&(t.flags|=32),L2(e,t),er(e,t,o,r),t.child;case 6:return e===null&&zp(t),null;case 13:return R2(e,t,r);case 4:return qx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hi(t,null,n,r):er(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tn(n,s),Fb(e,t,n,s,r);case 7:return er(e,t,t.pendingProps,r),t.child;case 8:return er(e,t,t.pendingProps.children,r),t.child;case 12:return er(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,We(ju,n._currentValue),n._currentValue=o,i!==null)if(dn(i.value,o)){if(i.children===s.children&&!pr.current){t=Yn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Bn(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Fp(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ee(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Fp(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}er(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,li(t,r),s=Hr(s),n=n(s),t.flags|=1,er(e,t,n,r),t.child;case 14:return n=t.type,s=tn(n,t.pendingProps),s=tn(n.type,s),Bb(e,t,n,s,r);case 15:return D2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tn(n,s),Gc(e,t),t.tag=1,hr(n)?(e=!0,gu(t)):e=!1,li(t,r),A2(t,n,s),Up(t,n,s,r),Hp(null,t,n,!0,e,r);case 19:return z2(e,t,r);case 22:return M2(e,t,r)}throw Error(ee(156,t.tag))};function tk(e,t){return C1(e,t)}function m3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e,t,r,n){return new m3(e,t,r,n)}function ly(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f3(e){if(typeof e=="function")return ly(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Px)return 11;if(e===Cx)return 14}return 2}function Ta(e,t){var r=e.alternate;return r===null?(r=Ur(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zc(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")ly(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Hs:return fs(r.children,s,i,t);case Sx:o=8,s|=8;break;case mp:return e=Ur(12,r,t,s|2),e.elementType=mp,e.lanes=i,e;case fp:return e=Ur(13,r,t,s),e.elementType=fp,e.lanes=i,e;case pp:return e=Ur(19,r,t,s),e.elementType=pp,e.lanes=i,e;case d1:return Rd(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case c1:o=10;break e;case u1:o=9;break e;case Px:o=11;break e;case Cx:o=14;break e;case ha:o=16,n=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=Ur(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function fs(e,t,r,n){return e=Ur(7,e,n,t),e.lanes=r,e}function Rd(e,t,r,n){return e=Ur(22,e,n,t),e.elementType=d1,e.lanes=r,e.stateNode={isHidden:!1},e}function Cf(e,t,r){return e=Ur(6,e,null,t),e.lanes=r,e}function Ef(e,t,r){return t=Ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function p3(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cf(0),this.expirationTimes=cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function cy(e,t,r,n,s,i,o,l,u){return e=new p3(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ur(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vx(i),e}function h3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ks,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function rk(e){if(!e)return $a;e=e._reactInternals;e:{if(Ds(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(hr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var r=e.type;if(hr(r))return r2(e,r,t)}return t}function nk(e,t,r,n,s,i,o,l,u){return e=cy(r,n,!0,e,s,i,o,l,u),e.context=rk(null),r=e.current,n=ar(),s=Aa(r),i=Bn(n,s),i.callback=t??null,Ea(r,i,s),e.current.lanes=s,hl(e,s,n),xr(e,n),e}function zd(e,t,r,n){var s=t.current,i=ar(),o=Aa(s);return r=rk(r),t.context===null?t.context=r:t.pendingContext=r,t=Bn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ea(s,t,o),e!==null&&(cn(e,s,o,i),Vc(e,s,o)),o}function Au(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function uy(e,t){Jb(e,t),(e=e.alternate)&&Jb(e,t)}function x3(){return null}var ak=typeof reportError=="function"?reportError:function(e){console.error(e)};function dy(e){this._internalRoot=e}Fd.prototype.render=dy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));zd(e,t,null,null)};Fd.prototype.unmount=dy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ns(function(){zd(null,e,null,null)}),t[Vn]=null}};function Fd(e){this._internalRoot=e}Fd.prototype.unstable_scheduleHydration=function(e){if(e){var t=M1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<va.length&&t!==0&&t<va[r].priority;r++);va.splice(r,0,e),r===0&&$1(e)}};function my(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function e0(){}function y3(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Au(o);i.call(c)}}var o=nk(t,n,e,0,null,!1,!1,"",e0);return e._reactRootContainer=o,e[Vn]=o.current,Uo(e.nodeType===8?e.parentNode:e),Ns(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=Au(u);l.call(c)}}var u=cy(e,0,!1,null,null,!1,!1,"",e0);return e._reactRootContainer=u,e[Vn]=u.current,Uo(e.nodeType===8?e.parentNode:e),Ns(function(){zd(t,u,r,n)}),u}function Ud(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=Au(o);l.call(u)}}zd(t,o,e,s)}else o=y3(r,t,e,s,n);return Au(o)}I1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yo(t.pendingLanes);r!==0&&(Ax(t,r|1),xr(t,lt()),!(Oe&6)&&(gi=lt()+500,Va()))}break;case 13:Ns(function(){var n=qn(e,1);if(n!==null){var s=ar();cn(n,e,1,s)}}),uy(e,1)}};Tx=function(e){if(e.tag===13){var t=qn(e,134217728);if(t!==null){var r=ar();cn(t,e,134217728,r)}uy(e,134217728)}};D1=function(e){if(e.tag===13){var t=Aa(e),r=qn(e,t);if(r!==null){var n=ar();cn(r,e,t,n)}uy(e,t)}};M1=function(){return Re};L1=function(e,t){var r=Re;try{return Re=e,t()}finally{Re=r}};kp=function(e,t,r){switch(t){case"input":if(yp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Td(n);if(!s)throw Error(ee(90));f1(n),yp(n,s)}}}break;case"textarea":h1(e,r);break;case"select":t=r.value,t!=null&&ai(e,!!r.multiple,t,!1)}};w1=sy;N1=Ns;var g3={usingClientEntryPoint:!1,Events:[yl,Gs,Td,b1,j1,sy]},ao={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v3={bundleType:ao.bundleType,version:ao.version,rendererPackageName:ao.rendererPackageName,rendererConfig:ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=S1(e),e===null?null:e.stateNode},findFiberByHostInstance:ao.findFiberByHostInstance||x3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Cd=vc.inject(v3),kn=vc}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g3;Ir.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!my(t))throw Error(ee(200));return h3(e,t,null,r)};Ir.createRoot=function(e,t){if(!my(e))throw Error(ee(299));var r=!1,n="",s=ak;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=cy(e,1,!1,null,null,r,!1,n,s),e[Vn]=t.current,Uo(e.nodeType===8?e.parentNode:e),new dy(t)};Ir.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=S1(t),e=e===null?null:e.stateNode,e};Ir.flushSync=function(e){return Ns(e)};Ir.hydrate=function(e,t,r){if(!Bd(t))throw Error(ee(200));return Ud(null,e,t,!0,r)};Ir.hydrateRoot=function(e,t,r){if(!my(e))throw Error(ee(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=ak;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=nk(t,null,e,1,r??null,s,!1,i,o),e[Vn]=t.current,Uo(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Fd(t)};Ir.render=function(e,t,r){if(!Bd(t))throw Error(ee(200));return Ud(null,e,t,!1,r)};Ir.unmountComponentAtNode=function(e){if(!Bd(e))throw Error(ee(40));return e._reactRootContainer?(Ns(function(){Ud(null,null,e,!1,function(){e._reactRootContainer=null,e[Vn]=null})}),!0):!1};Ir.unstable_batchedUpdates=sy;Ir.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Bd(r))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return Ud(e,t,r,!1,n)};Ir.version="18.3.1-next-f1338f8080-20240426";function sk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sk)}catch(e){console.error(e)}}sk(),s1.exports=Ir;var vl=s1.exports;const b3=On(vl);var t0=vl;up.createRoot=t0.createRoot,up.hydrateRoot=t0.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(this,arguments)}var ka;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ka||(ka={}));const r0="popstate";function j3(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return nh("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Tu(s)}return N3(t,r,null,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function w3(){return Math.random().toString(36).substr(2,8)}function n0(e,t){return{usr:e.state,key:e.key,idx:t}}function nh(e,t,r,n){return r===void 0&&(r=null),Qo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Li(t):t,{state:r,key:t&&t.key||n||w3()})}function Tu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Li(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function N3(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=ka.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Qo({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function m(){l=ka.Pop;let v=d(),x=v==null?null:v-c;c=v,u&&u({action:l,location:g.location,delta:x})}function p(v,x){l=ka.Push;let b=nh(g.location,v,x);c=d()+1;let j=n0(b,c),k=g.createHref(b);try{o.pushState(j,"",k)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(k)}i&&u&&u({action:l,location:g.location,delta:1})}function h(v,x){l=ka.Replace;let b=nh(g.location,v,x);c=d();let j=n0(b,c),k=g.createHref(b);o.replaceState(j,"",k),i&&u&&u({action:l,location:g.location,delta:0})}function y(v){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof v=="string"?v:Tu(v);return b=b.replace(/ $/,"%20"),ct(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let g={get action(){return l},get location(){return e(s,o)},listen(v){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(r0,m),u=v,()=>{s.removeEventListener(r0,m),u=null}},createHref(v){return t(s,v)},createURL:y,encodeLocation(v){let x=y(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:h,go(v){return o.go(v)}};return g}var a0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(a0||(a0={}));function k3(e,t,r){return r===void 0&&(r="/"),_3(e,t,r)}function _3(e,t,r,n){let s=typeof t=="string"?Li(t):t,i=py(s.pathname||"/",r);if(i==null)return null;let o=ik(e);S3(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=R3(i);l=M3(o[u],c)}return l}function ik(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(ct(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Ia([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(ct(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ik(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:I3(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of ok(i.path))s(i,o,u)}),t}function ok(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=ok(n.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function S3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:D3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const P3=/^:[\w-]+$/,C3=3,E3=2,O3=1,A3=10,T3=-2,s0=e=>e==="*";function I3(e,t){let r=e.split("/"),n=r.length;return r.some(s0)&&(n+=T3),t&&(n+=E3),r.filter(s=>!s0(s)).reduce((s,i)=>s+(P3.test(i)?C3:i===""?O3:A3),n)}function D3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function M3(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",m=L3({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Ia([i,m.pathname]),pathnameBase:W3(Ia([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Ia([i,m.pathnameBase]))}return o}function L3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=$3(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,d,m)=>{let{paramName:p,isOptional:h}=d;if(p==="*"){let g=l[m]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[m];return h&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function $3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),fy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function R3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function py(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const z3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F3=e=>z3.test(e);function B3(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Li(e):e,i;if(r)if(F3(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),fy(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=i0(r.substring(1),"/"):i=i0(r,t)}else i=t;return{pathname:i,search:K3(n),hash:H3(s)}}function i0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Of(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function U3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hy(e,t){let r=U3(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function xy(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Li(e):(s=Qo({},e),ct(!s.pathname||!s.pathname.includes("?"),Of("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),Of("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),Of("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}l=m>=0?t[m]:"/"}let u=B3(s,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Ia=e=>e.join("/").replace(/\/\/+/g,"/"),W3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,H3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function V3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lk=["post","put","patch","delete"];new Set(lk);const q3=["get",...lk];new Set(q3);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zo.apply(this,arguments)}const yy=f.createContext(null),Y3=f.createContext(null),qa=f.createContext(null),Wd=f.createContext(null),sa=f.createContext({outlet:null,matches:[],isDataRoute:!1}),ck=f.createContext(null);function G3(e,t){let{relative:r}=t===void 0?{}:t;$i()||ct(!1);let{basename:n,navigator:s}=f.useContext(qa),{hash:i,pathname:o,search:l}=dk(e,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:Ia([n,o])),s.createHref({pathname:u,search:l,hash:i})}function $i(){return f.useContext(Wd)!=null}function Ya(){return $i()||ct(!1),f.useContext(Wd).location}function uk(e){f.useContext(qa).static||f.useLayoutEffect(e)}function Gr(){let{isDataRoute:e}=f.useContext(sa);return e?lT():X3()}function X3(){$i()||ct(!1);let e=f.useContext(yy),{basename:t,future:r,navigator:n}=f.useContext(qa),{matches:s}=f.useContext(sa),{pathname:i}=Ya(),o=JSON.stringify(hy(s,r.v7_relativeSplatPath)),l=f.useRef(!1);return uk(()=>{l.current=!0}),f.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let m=xy(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ia([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,o,i,e])}function Kd(){let{matches:e}=f.useContext(sa),t=e[e.length-1];return t?t.params:{}}function dk(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(qa),{matches:s}=f.useContext(sa),{pathname:i}=Ya(),o=JSON.stringify(hy(s,n.v7_relativeSplatPath));return f.useMemo(()=>xy(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Q3(e,t){return Z3(e,t)}function Z3(e,t,r,n){$i()||ct(!1);let{navigator:s}=f.useContext(qa),{matches:i}=f.useContext(sa),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Ya(),d;if(t){var m;let v=typeof t=="string"?Li(t):t;u==="/"||(m=v.pathname)!=null&&m.startsWith(u)||ct(!1),d=v}else d=c;let p=d.pathname||"/",h=p;if(u!=="/"){let v=u.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=k3(e,{pathname:h}),g=nT(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Ia([u,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Ia([u,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&g?f.createElement(Wd.Provider,{value:{location:Zo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ka.Pop}},g):g}function J3(){let e=oT(),t=V3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:s},r):null,null)}const eT=f.createElement(J3,null);class tT extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(sa.Provider,{value:this.props.routeContext},f.createElement(ck.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rT(e){let{routeContext:t,match:r,children:n}=e,s=f.useContext(yy);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(sa.Provider,{value:t},n)}function nT(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||ct(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:p,errors:h}=r,y=m.route.loader&&p[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||y){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,m,p)=>{let h,y=!1,g=null,v=null;r&&(h=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||eT,u&&(c<0&&p===0?(cT("route-fallback"),y=!0,v=null):c===p&&(y=!0,v=m.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,p+1)),b=()=>{let j;return h?j=g:y?j=v:m.route.Component?j=f.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=d,f.createElement(rT,{match:m,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:j})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?f.createElement(tT,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var mk=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mk||{}),fk=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fk||{});function aT(e){let t=f.useContext(yy);return t||ct(!1),t}function sT(e){let t=f.useContext(Y3);return t||ct(!1),t}function iT(e){let t=f.useContext(sa);return t||ct(!1),t}function pk(e){let t=iT(),r=t.matches[t.matches.length-1];return r.route.id||ct(!1),r.route.id}function oT(){var e;let t=f.useContext(ck),r=sT(),n=pk();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function lT(){let{router:e}=aT(mk.UseNavigateStable),t=pk(fk.UseNavigateStable),r=f.useRef(!1);return uk(()=>{r.current=!0}),f.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Zo({fromRouteId:t},i)))},[e,t])}const o0={};function cT(e,t,r){o0[e]||(o0[e]=!0)}function uT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ao(e){let{to:t,replace:r,state:n,relative:s}=e;$i()||ct(!1);let{future:i,static:o}=f.useContext(qa),{matches:l}=f.useContext(sa),{pathname:u}=Ya(),c=Gr(),d=xy(t,hy(l,i.v7_relativeSplatPath),u,s==="path"),m=JSON.stringify(d);return f.useEffect(()=>c(JSON.parse(m),{replace:r,state:n,relative:s}),[c,m,s,r,n]),null}function Ce(e){ct(!1)}function dT(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ka.Pop,navigator:i,static:o=!1,future:l}=e;$i()&&ct(!1);let u=t.replace(/^\/*/,"/"),c=f.useMemo(()=>({basename:u,navigator:i,static:o,future:Zo({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof n=="string"&&(n=Li(n));let{pathname:d="/",search:m="",hash:p="",state:h=null,key:y="default"}=n,g=f.useMemo(()=>{let v=py(d,u);return v==null?null:{location:{pathname:v,search:m,hash:p,state:h,key:y},navigationType:s}},[u,d,m,p,h,y,s]);return g==null?null:f.createElement(qa.Provider,{value:c},f.createElement(Wd.Provider,{children:r,value:g}))}function mT(e){let{children:t,location:r}=e;return Q3(ah(t),r)}new Promise(()=>{});function ah(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,s)=>{if(!f.isValidElement(n))return;let i=[...t,s];if(n.type===f.Fragment){r.push.apply(r,ah(n.props.children,i));return}n.type!==Ce&&ct(!1),!n.props.index||!n.props.children||ct(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ah(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sh.apply(this,arguments)}function fT(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function pT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hT(e,t){return e.button===0&&(!t||t==="_self")&&!pT(e)}const xT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yT="6";try{window.__reactRouterVersion=yT}catch{}const gT="startTransition",l0=n1[gT];function vT(e){let{basename:t,children:r,future:n,window:s}=e,i=f.useRef();i.current==null&&(i.current=j3({window:s,v5Compat:!0}));let o=i.current,[l,u]=f.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=f.useCallback(m=>{c&&l0?l0(()=>u(m)):u(m)},[u,c]);return f.useLayoutEffect(()=>o.listen(d),[o,d]),f.useEffect(()=>uT(n),[n]),f.createElement(dT,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const bT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jc=f.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:u,to:c,preventScrollReset:d,viewTransition:m}=t,p=fT(t,xT),{basename:h}=f.useContext(qa),y,g=!1;if(typeof c=="string"&&jT.test(c)&&(y=c,bT))try{let j=new URL(window.location.href),k=c.startsWith("//")?new URL(j.protocol+c):new URL(c),N=py(k.pathname,h);k.origin===j.origin&&N!=null?c=N+k.search+k.hash:g=!0}catch{}let v=G3(c,{relative:s}),x=wT(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:m});function b(j){n&&n(j),j.defaultPrevented||x(j)}return f.createElement("a",sh({},p,{href:y||v,onClick:g||i?n:b,ref:r,target:u}))});var c0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(c0||(c0={}));var u0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(u0||(u0={}));function wT(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,u=Gr(),c=Ya(),d=dk(e,{relative:o});return f.useCallback(m=>{if(hT(m,r)){m.preventDefault();let p=n!==void 0?n:Tu(c)===Tu(d);u(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[c,u,d,n,s,r,e,i,o,l])}function NT(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const kT=e=>{switch(e){case"success":return PT;case"info":return ET;case"warning":return CT;case"error":return OT;default:return null}},_T=Array(12).fill(0),ST=({visible:e,className:t})=>J.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},J.createElement("div",{className:"sonner-spinner"},_T.map((r,n)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),PT=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),CT=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ET=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),OT=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),AT=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),TT=()=>{const[e,t]=J.useState(document.hidden);return J.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let ih=1;class IT{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:ih++,o=this.toasts.find(u=>u.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...t,id:i,title:n}),{...u,...t,id:i,dismissible:l,title:n}):u):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const l=s.then(async c=>{if(o=["resolve",c],J.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(MT(c)&&!c.ok){i=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description,y=typeof m=="object"&&!J.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...y})}else if(c instanceof Error){i=!1;const m=typeof r.error=="function"?await r.error(c):r.error,p=typeof r.description=="function"?await r.description(c):r.description,y=typeof m=="object"&&!J.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...y})}else if(r.success!==void 0){i=!1;const m=typeof r.success=="function"?await r.success(c):r.success,p=typeof r.description=="function"?await r.description(c):r.description,y=typeof m=="object"&&!J.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:p,...y})}}).catch(async c=>{if(o=["reject",c],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(c):r.error,m=typeof r.description=="function"?await r.description(c):r.description,h=typeof d=="object"&&!J.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:m,...h})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),u=()=>new Promise((c,d)=>l.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||ih++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const cr=new IT,DT=(e,t)=>{const r=(t==null?void 0:t.id)||ih++;return cr.addToast({title:e,...t,id:r}),r},MT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",LT=DT,$T=()=>cr.toasts,RT=()=>cr.getActiveToasts(),q=Object.assign(LT,{success:cr.success,info:cr.info,warning:cr.warning,error:cr.error,custom:cr.custom,message:cr.message,promise:cr.promise,dismiss:cr.dismiss,loading:cr.loading},{getHistory:$T,getToasts:RT});NT("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function bc(e){return e.label!==void 0}const zT=3,FT="24px",BT="16px",d0=4e3,UT=356,WT=14,KT=45,HT=200;function gn(...e){return e.filter(Boolean).join(" ")}function VT(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const qT=e=>{var t,r,n,s,i,o,l,u,c;const{invert:d,toast:m,unstyled:p,interacting:h,setHeights:y,visibleToasts:g,heights:v,index:x,toasts:b,expanded:j,removeToast:k,defaultRichColors:N,closeButton:w,style:C,cancelButtonStyle:_,actionButtonStyle:P,className:O="",descriptionClassName:S="",duration:E,position:M,gap:A,expandByDefault:T,classNames:F,icons:U,closeButtonAriaLabel:L="Close toast"}=e,[R,$]=J.useState(null),[G,I]=J.useState(null),[X,Z]=J.useState(!1),[D,Y]=J.useState(!1),[ae,se]=J.useState(!1),[K,de]=J.useState(!1),[fe,Q]=J.useState(!1),[_e,xe]=J.useState(0),[Ae,H]=J.useState(0),te=J.useRef(m.duration||E||d0),me=J.useRef(null),be=J.useRef(null),z=x===0,re=x+1<=g,B=m.type,ne=m.dismissible!==!1,ie=m.className||"",we=m.descriptionClassName||"",ge=J.useMemo(()=>v.findIndex(je=>je.toastId===m.id)||0,[v,m.id]),Ne=J.useMemo(()=>{var je;return(je=m.closeButton)!=null?je:w},[m.closeButton,w]),Me=J.useMemo(()=>m.duration||E||d0,[m.duration,E]),pe=J.useRef(0),Se=J.useRef(0),ke=J.useRef(0),Lt=J.useRef(null),[Xi,$s]=M.split("-"),An=J.useMemo(()=>v.reduce((je,_t,Kt)=>Kt>=ge?je:je+_t.height,0),[v,ge]),Wv=TT(),WO=m.invert||d,tf=B==="loading";Se.current=J.useMemo(()=>ge*A+An,[ge,An]),J.useEffect(()=>{te.current=Me},[Me]),J.useEffect(()=>{Z(!0)},[]),J.useEffect(()=>{const je=be.current;if(je){const _t=je.getBoundingClientRect().height;return H(_t),y(Kt=>[{toastId:m.id,height:_t,position:m.position},...Kt]),()=>y(Kt=>Kt.filter(jr=>jr.toastId!==m.id))}},[y,m.id]),J.useLayoutEffect(()=>{if(!X)return;const je=be.current,_t=je.style.height;je.style.height="auto";const Kt=je.getBoundingClientRect().height;je.style.height=_t,H(Kt),y(jr=>jr.find($t=>$t.toastId===m.id)?jr.map($t=>$t.toastId===m.id?{...$t,height:Kt}:$t):[{toastId:m.id,height:Kt,position:m.position},...jr])},[X,m.title,m.description,y,m.id,m.jsx,m.action,m.cancel]);const ma=J.useCallback(()=>{Y(!0),xe(Se.current),y(je=>je.filter(_t=>_t.toastId!==m.id)),setTimeout(()=>{k(m)},HT)},[m,k,y,Se]);J.useEffect(()=>{if(m.promise&&B==="loading"||m.duration===1/0||m.type==="loading")return;let je;return j||h||Wv?(()=>{if(ke.current<pe.current){const jr=new Date().getTime()-pe.current;te.current=te.current-jr}ke.current=new Date().getTime()})():(()=>{te.current!==1/0&&(pe.current=new Date().getTime(),je=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),ma()},te.current))})(),()=>clearTimeout(je)},[j,h,m,B,Wv,ma]),J.useEffect(()=>{m.delete&&(ma(),m.onDismiss==null||m.onDismiss.call(m,m))},[ma,m.delete]);function KO(){var je;if(U!=null&&U.loading){var _t;return J.createElement("div",{className:gn(F==null?void 0:F.loader,m==null||(_t=m.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":B==="loading"},U.loading)}return J.createElement(ST,{className:gn(F==null?void 0:F.loader,m==null||(je=m.classNames)==null?void 0:je.loader),visible:B==="loading"})}const HO=m.icon||(U==null?void 0:U[B])||kT(B);var Kv,Hv;return J.createElement("li",{tabIndex:0,ref:be,className:gn(O,ie,F==null?void 0:F.toast,m==null||(t=m.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[B],m==null||(r=m.classNames)==null?void 0:r[B]),"data-sonner-toast":"","data-rich-colors":(Kv=m.richColors)!=null?Kv:N,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":X,"data-promise":!!m.promise,"data-swiped":fe,"data-removed":D,"data-visible":re,"data-y-position":Xi,"data-x-position":$s,"data-index":x,"data-front":z,"data-swiping":ae,"data-dismissible":ne,"data-type":B,"data-invert":WO,"data-swipe-out":K,"data-swipe-direction":G,"data-expanded":!!(j||T&&X),"data-testid":m.testId,style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${D?_e:Se.current}px`,"--initial-height":T?"auto":`${Ae}px`,...C,...m.style},onDragEnd:()=>{se(!1),$(null),Lt.current=null},onPointerDown:je=>{je.button!==2&&(tf||!ne||(me.current=new Date,xe(Se.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(se(!0),Lt.current={x:je.clientX,y:je.clientY})))},onPointerUp:()=>{var je,_t,Kt;if(K||!ne)return;Lt.current=null;const jr=Number(((je=be.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),tc=Number(((_t=be.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$t=new Date().getTime()-((Kt=me.current)==null?void 0:Kt.getTime()),Mr=R==="x"?jr:tc,rc=Math.abs(Mr)/$t;if(Math.abs(Mr)>=KT||rc>.11){xe(Se.current),m.onDismiss==null||m.onDismiss.call(m,m),I(R==="x"?jr>0?"right":"left":tc>0?"down":"up"),ma(),de(!0);return}else{var Zr,Jr;(Zr=be.current)==null||Zr.style.setProperty("--swipe-amount-x","0px"),(Jr=be.current)==null||Jr.style.setProperty("--swipe-amount-y","0px")}Q(!1),se(!1),$(null)},onPointerMove:je=>{var _t,Kt,jr;if(!Lt.current||!ne||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;const $t=je.clientY-Lt.current.y,Mr=je.clientX-Lt.current.x;var rc;const Zr=(rc=e.swipeDirections)!=null?rc:VT(M);!R&&(Math.abs(Mr)>1||Math.abs($t)>1)&&$(Math.abs(Mr)>Math.abs($t)?"x":"y");let Jr={x:0,y:0};const Vv=Ja=>1/(1.5+Math.abs(Ja)/20);if(R==="y"){if(Zr.includes("top")||Zr.includes("bottom"))if(Zr.includes("top")&&$t<0||Zr.includes("bottom")&&$t>0)Jr.y=$t;else{const Ja=$t*Vv($t);Jr.y=Math.abs(Ja)<Math.abs($t)?Ja:$t}}else if(R==="x"&&(Zr.includes("left")||Zr.includes("right")))if(Zr.includes("left")&&Mr<0||Zr.includes("right")&&Mr>0)Jr.x=Mr;else{const Ja=Mr*Vv(Mr);Jr.x=Math.abs(Ja)<Math.abs(Mr)?Ja:Mr}(Math.abs(Jr.x)>0||Math.abs(Jr.y)>0)&&Q(!0),(Kt=be.current)==null||Kt.style.setProperty("--swipe-amount-x",`${Jr.x}px`),(jr=be.current)==null||jr.style.setProperty("--swipe-amount-y",`${Jr.y}px`)}},Ne&&!m.jsx&&B!=="loading"?J.createElement("button",{"aria-label":L,"data-disabled":tf,"data-close-button":!0,onClick:tf||!ne?()=>{}:()=>{ma(),m.onDismiss==null||m.onDismiss.call(m,m)},className:gn(F==null?void 0:F.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(Hv=U==null?void 0:U.close)!=null?Hv:AT):null,(B||m.icon||m.promise)&&m.icon!==null&&((U==null?void 0:U[B])!==null||m.icon)?J.createElement("div",{"data-icon":"",className:gn(F==null?void 0:F.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||KO():null,m.type!=="loading"?HO:null):null,J.createElement("div",{"data-content":"",className:gn(F==null?void 0:F.content,m==null||(i=m.classNames)==null?void 0:i.content)},J.createElement("div",{"data-title":"",className:gn(F==null?void 0:F.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?J.createElement("div",{"data-description":"",className:gn(S,we,F==null?void 0:F.description,m==null||(l=m.classNames)==null?void 0:l.description)},typeof m.description=="function"?m.description():m.description):null),J.isValidElement(m.cancel)?m.cancel:m.cancel&&bc(m.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||_,onClick:je=>{bc(m.cancel)&&ne&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,je),ma())},className:gn(F==null?void 0:F.cancelButton,m==null||(u=m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,J.isValidElement(m.action)?m.action:m.action&&bc(m.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||P,onClick:je=>{bc(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,je),!je.defaultPrevented&&ma())},className:gn(F==null?void 0:F.actionButton,m==null||(c=m.classNames)==null?void 0:c.actionButton)},m.action.label):null)};function m0(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function YT(e,t){const r={};return[e,t].forEach((n,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",l=i?BT:FT;function u(c){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=l:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):u(l)}),r}const GT=J.forwardRef(function(t,r){const{id:n,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:u,className:c,offset:d,mobileOffset:m,theme:p="light",richColors:h,duration:y,style:g,visibleToasts:v=zT,toastOptions:x,dir:b=m0(),gap:j=WT,icons:k,containerAriaLabel:N="Notifications"}=t,[w,C]=J.useState([]),_=J.useMemo(()=>n?w.filter(X=>X.toasterId===n):w.filter(X=>!X.toasterId),[w,n]),P=J.useMemo(()=>Array.from(new Set([i].concat(_.filter(X=>X.position).map(X=>X.position)))),[_,i]),[O,S]=J.useState([]),[E,M]=J.useState(!1),[A,T]=J.useState(!1),[F,U]=J.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=J.useRef(null),R=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=J.useRef(null),G=J.useRef(!1),I=J.useCallback(X=>{C(Z=>{var D;return(D=Z.find(Y=>Y.id===X.id))!=null&&D.delete||cr.dismiss(X.id),Z.filter(({id:Y})=>Y!==X.id)})},[]);return J.useEffect(()=>cr.subscribe(X=>{if(X.dismiss){requestAnimationFrame(()=>{C(Z=>Z.map(D=>D.id===X.id?{...D,delete:!0}:D))});return}setTimeout(()=>{b3.flushSync(()=>{C(Z=>{const D=Z.findIndex(Y=>Y.id===X.id);return D!==-1?[...Z.slice(0,D),{...Z[D],...X},...Z.slice(D+1)]:[X,...Z]})})})}),[w]),J.useEffect(()=>{if(p!=="system"){U(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;const X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:Z})=>{U(Z?"dark":"light")})}catch{X.addListener(({matches:D})=>{try{U(D?"dark":"light")}catch(Y){console.error(Y)}})}},[p]),J.useEffect(()=>{w.length<=1&&M(!1)},[w]),J.useEffect(()=>{const X=Z=>{var D;if(o.every(se=>Z[se]||Z.code===se)){var ae;M(!0),(ae=L.current)==null||ae.focus()}Z.code==="Escape"&&(document.activeElement===L.current||(D=L.current)!=null&&D.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[o]),J.useEffect(()=>{if(L.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,G.current=!1)}},[L.current]),J.createElement("section",{ref:r,"aria-label":`${N} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((X,Z)=>{var D;const[Y,ae]=X.split("-");return _.length?J.createElement("ol",{key:X,dir:b==="auto"?m0():b,tabIndex:-1,ref:L,className:c,"data-sonner-toaster":!0,"data-sonner-theme":F,"data-y-position":Y,"data-x-position":ae,style:{"--front-toast-height":`${((D=O[0])==null?void 0:D.height)||0}px`,"--width":`${UT}px`,"--gap":`${j}px`,...g,...YT(d,m)},onBlur:se=>{G.current&&!se.currentTarget.contains(se.relatedTarget)&&(G.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||G.current||(G.current=!0,$.current=se.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{A||M(!1)},onDragEnd:()=>M(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},_.filter(se=>!se.position&&Z===0||se.position===X).map((se,K)=>{var de,fe;return J.createElement(qT,{key:se.id,icons:k,index:K,toast:se,defaultRichColors:h,duration:(de=x==null?void 0:x.duration)!=null?de:y,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:s,visibleToasts:v,closeButton:(fe=x==null?void 0:x.closeButton)!=null?fe:u,interacting:A,position:X,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,closeButtonAriaLabel:x==null?void 0:x.closeButtonAriaLabel,removeToast:I,toasts:_.filter(Q=>Q.position==se.position),heights:O.filter(Q=>Q.position==se.position),setHeights:S,expandByDefault:l,gap:j,expanded:E,swipeDirections:t.swipeDirections})})):null}))});function hk(e,t){return function(){return e.apply(t,arguments)}}const{toString:XT}=Object.prototype,{getPrototypeOf:gy}=Object,{iterator:Hd,toStringTag:xk}=Symbol,Vd=(e=>t=>{const r=XT.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),pn=e=>(e=e.toLowerCase(),t=>Vd(t)===e),qd=e=>t=>typeof t===e,{isArray:Ri}=Array,vi=qd("undefined");function bl(e){return e!==null&&!vi(e)&&e.constructor!==null&&!vi(e.constructor)&&yr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const yk=pn("ArrayBuffer");function QT(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&yk(e.buffer),t}const ZT=qd("string"),yr=qd("function"),gk=qd("number"),jl=e=>e!==null&&typeof e=="object",JT=e=>e===!0||e===!1,eu=e=>{if(Vd(e)!=="object")return!1;const t=gy(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(xk in e)&&!(Hd in e)},eI=e=>{if(!jl(e)||bl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},tI=pn("Date"),rI=pn("File"),nI=pn("Blob"),aI=pn("FileList"),sI=e=>jl(e)&&yr(e.pipe),iI=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||yr(e.append)&&((t=Vd(e))==="formdata"||t==="object"&&yr(e.toString)&&e.toString()==="[object FormData]"))},oI=pn("URLSearchParams"),[lI,cI,uI,dI]=["ReadableStream","Request","Response","Headers"].map(pn),mI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wl(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Ri(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(bl(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function vk(e,t){if(bl(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const ls=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bk=e=>!vi(e)&&e!==ls;function oh(){const{caseless:e,skipUndefined:t}=bk(this)&&this||{},r={},n=(s,i)=>{const o=e&&vk(r,i)||i;eu(r[o])&&eu(s)?r[o]=oh(r[o],s):eu(s)?r[o]=oh({},s):Ri(s)?r[o]=s.slice():(!t||!vi(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&wl(arguments[s],n);return r}const fI=(e,t,r,{allOwnKeys:n}={})=>(wl(t,(s,i)=>{r&&yr(s)?e[i]=hk(s,r):e[i]=s},{allOwnKeys:n}),e),pI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),hI=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},xI=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&gy(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},yI=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},gI=e=>{if(!e)return null;if(Ri(e))return e;let t=e.length;if(!gk(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},vI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gy(Uint8Array)),bI=(e,t)=>{const n=(e&&e[Hd]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},jI=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},wI=pn("HTMLFormElement"),NI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),f0=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),kI=pn("RegExp"),jk=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};wl(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},_I=e=>{jk(e,(t,r)=>{if(yr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(yr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},SI=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Ri(e)?n(e):n(String(e).split(t)),r},PI=()=>{},CI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function EI(e){return!!(e&&yr(e.append)&&e[xk]==="FormData"&&e[Hd])}const OI=e=>{const t=new Array(10),r=(n,s)=>{if(jl(n)){if(t.indexOf(n)>=0)return;if(bl(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Ri(n)?[]:{};return wl(n,(o,l)=>{const u=r(o,s+1);!vi(u)&&(i[l]=u)}),t[s]=void 0,i}}return n};return r(e,0)},AI=pn("AsyncFunction"),TI=e=>e&&(jl(e)||yr(e))&&yr(e.then)&&yr(e.catch),wk=((e,t)=>e?setImmediate:t?((r,n)=>(ls.addEventListener("message",({source:s,data:i})=>{s===ls&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),ls.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",yr(ls.postMessage)),II=typeof queueMicrotask<"u"?queueMicrotask.bind(ls):typeof process<"u"&&process.nextTick||wk,DI=e=>e!=null&&yr(e[Hd]),V={isArray:Ri,isArrayBuffer:yk,isBuffer:bl,isFormData:iI,isArrayBufferView:QT,isString:ZT,isNumber:gk,isBoolean:JT,isObject:jl,isPlainObject:eu,isEmptyObject:eI,isReadableStream:lI,isRequest:cI,isResponse:uI,isHeaders:dI,isUndefined:vi,isDate:tI,isFile:rI,isBlob:nI,isRegExp:kI,isFunction:yr,isStream:sI,isURLSearchParams:oI,isTypedArray:vI,isFileList:aI,forEach:wl,merge:oh,extend:fI,trim:mI,stripBOM:pI,inherits:hI,toFlatObject:xI,kindOf:Vd,kindOfTest:pn,endsWith:yI,toArray:gI,forEachEntry:bI,matchAll:jI,isHTMLForm:wI,hasOwnProperty:f0,hasOwnProp:f0,reduceDescriptors:jk,freezeMethods:_I,toObjectSet:SI,toCamelCase:NI,noop:PI,toFiniteNumber:CI,findKey:vk,global:ls,isContextDefined:bk,isSpecCompliantForm:EI,toJSONObject:OI,isAsyncFn:AI,isThenable:TI,setImmediate:wk,asap:II,isIterable:DI};function ve(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}V.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Nk=ve.prototype,kk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{kk[e]={value:e}});Object.defineProperties(ve,kk);Object.defineProperty(Nk,"isAxiosError",{value:!0});ve.from=(e,t,r,n,s,i)=>{const o=Object.create(Nk);V.toFlatObject(e,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return ve.call(o,l,u,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const MI=null;function lh(e){return V.isPlainObject(e)||V.isArray(e)}function _k(e){return V.endsWith(e,"[]")?e.slice(0,-2):e}function p0(e,t,r){return e?e.concat(t).map(function(s,i){return s=_k(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function LI(e){return V.isArray(e)&&!e.some(lh)}const $I=V.toFlatObject(V,{},null,function(t){return/^is[A-Z]/.test(t)});function Yd(e,t,r){if(!V.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=V.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!V.isUndefined(v[g])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(t);if(!V.isFunction(s))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(V.isDate(y))return y.toISOString();if(V.isBoolean(y))return y.toString();if(!u&&V.isBlob(y))throw new ve("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(y)||V.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,g,v){let x=y;if(y&&!v&&typeof y=="object"){if(V.endsWith(g,"{}"))g=n?g:g.slice(0,-2),y=JSON.stringify(y);else if(V.isArray(y)&&LI(y)||(V.isFileList(y)||V.endsWith(g,"[]"))&&(x=V.toArray(y)))return g=_k(g),x.forEach(function(j,k){!(V.isUndefined(j)||j===null)&&t.append(o===!0?p0([g],k,i):o===null?g:g+"[]",c(j))}),!1}return lh(y)?!0:(t.append(p0(v,g,i),c(y)),!1)}const m=[],p=Object.assign($I,{defaultVisitor:d,convertValue:c,isVisitable:lh});function h(y,g){if(!V.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+g.join("."));m.push(y),V.forEach(y,function(x,b){(!(V.isUndefined(x)||x===null)&&s.call(t,x,V.isString(b)?b.trim():b,g,p))===!0&&h(x,g?g.concat(b):[b])}),m.pop()}}if(!V.isObject(e))throw new TypeError("data must be an object");return h(e),t}function h0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function vy(e,t){this._pairs=[],e&&Yd(e,this,t)}const Sk=vy.prototype;Sk.append=function(t,r){this._pairs.push([t,r])};Sk.toString=function(t){const r=t?function(n){return t.call(this,n,h0)}:h0;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function RI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Pk(e,t,r){if(!t)return e;const n=r&&r.encode||RI;V.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=V.isURLSearchParams(t)?t.toString():new vy(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class x0{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){V.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Ck={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zI=typeof URLSearchParams<"u"?URLSearchParams:vy,FI=typeof FormData<"u"?FormData:null,BI=typeof Blob<"u"?Blob:null,UI={isBrowser:!0,classes:{URLSearchParams:zI,FormData:FI,Blob:BI},protocols:["http","https","file","blob","url","data"]},by=typeof window<"u"&&typeof document<"u",ch=typeof navigator=="object"&&navigator||void 0,WI=by&&(!ch||["ReactNative","NativeScript","NS"].indexOf(ch.product)<0),KI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",HI=by&&window.location.href||"http://localhost",VI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:by,hasStandardBrowserEnv:WI,hasStandardBrowserWebWorkerEnv:KI,navigator:ch,origin:HI},Symbol.toStringTag,{value:"Module"})),Xt={...VI,...UI};function qI(e,t){return Yd(e,new Xt.classes.URLSearchParams,{visitor:function(r,n,s,i){return Xt.isNode&&V.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function YI(e){return V.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function GI(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function Ek(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=r.length;return o=!o&&V.isArray(s)?s.length:o,u?(V.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!V.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&V.isArray(s[o])&&(s[o]=GI(s[o])),!l)}if(V.isFormData(e)&&V.isFunction(e.entries)){const r={};return V.forEachEntry(e,(n,s)=>{t(YI(n),s,r,0)}),r}return null}function XI(e,t,r){if(V.isString(e))try{return(t||JSON.parse)(e),V.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Nl={transitional:Ck,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=V.isObject(t);if(i&&V.isHTMLForm(t)&&(t=new FormData(t)),V.isFormData(t))return s?JSON.stringify(Ek(t)):t;if(V.isArrayBuffer(t)||V.isBuffer(t)||V.isStream(t)||V.isFile(t)||V.isBlob(t)||V.isReadableStream(t))return t;if(V.isArrayBufferView(t))return t.buffer;if(V.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return qI(t,this.formSerializer).toString();if((l=V.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Yd(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),XI(t)):t}],transformResponse:[function(t){const r=this.transitional||Nl.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(V.isResponse(t)||V.isReadableStream(t))return t;if(t&&V.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ve.from(l,ve.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],e=>{Nl.headers[e]={}});const QI=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZI=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&QI[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},y0=Symbol("internals");function so(e){return e&&String(e).trim().toLowerCase()}function tu(e){return e===!1||e==null?e:V.isArray(e)?e.map(tu):String(e)}function JI(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const eD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Af(e,t,r,n,s){if(V.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!V.isString(t)){if(V.isString(n))return t.indexOf(n)!==-1;if(V.isRegExp(n))return n.test(t)}}function tD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function rD(e,t){const r=V.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let gr=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,u,c){const d=so(u);if(!d)throw new Error("header name must be a non-empty string");const m=V.findKey(s,d);(!m||s[m]===void 0||c===!0||c===void 0&&s[m]!==!1)&&(s[m||u]=tu(l))}const o=(l,u)=>V.forEach(l,(c,d)=>i(c,d,u));if(V.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(V.isString(t)&&(t=t.trim())&&!eD(t))o(ZI(t),r);else if(V.isObject(t)&&V.isIterable(t)){let l={},u,c;for(const d of t){if(!V.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(u=l[c])?V.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=so(t),t){const n=V.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return JI(s);if(V.isFunction(r))return r.call(this,s,n);if(V.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=so(t),t){const n=V.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Af(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=so(o),o){const l=V.findKey(n,o);l&&(!r||Af(n,n[l],l,r))&&(delete n[l],s=!0)}}return V.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Af(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return V.forEach(this,(s,i)=>{const o=V.findKey(n,i);if(o){r[o]=tu(s),delete r[i];return}const l=t?tD(i):String(i).trim();l!==i&&delete r[i],r[l]=tu(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return V.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&V.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[y0]=this[y0]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=so(o);n[l]||(rD(s,o),n[l]=!0)}return V.isArray(t)?t.forEach(i):i(t),this}};gr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(gr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});V.freezeMethods(gr);function Tf(e,t){const r=this||Nl,n=t||r,s=gr.from(n.headers);let i=n.data;return V.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Ok(e){return!!(e&&e.__CANCEL__)}function zi(e,t,r){ve.call(this,e??"canceled",ve.ERR_CANCELED,t,r),this.name="CanceledError"}V.inherits(zi,ve,{__CANCEL__:!0});function Ak(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ve("Request failed with status code "+r.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function nD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function aD(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),d=n[i];o||(o=c),r[s]=u,n[s]=c;let m=i,p=0;for(;m!==s;)p+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const h=d&&c-d;return h?Math.round(p*1e3/h):void 0}}function sD(e,t){let r=0,n=1e3/t,s,i;const o=(c,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const d=Date.now(),m=d-r;m>=n?o(c,d):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},n-m)))},()=>s&&o(s)]}const Iu=(e,t,r=3)=>{let n=0;const s=aD(50,250);return sD(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-n,c=s(u),d=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&d?(l-o)/c:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},g0=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},v0=e=>(...t)=>V.asap(()=>e(...t)),iD=Xt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Xt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,oD=Xt.hasStandardBrowserEnv?{write(e,t,r,n,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];V.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),V.isString(n)&&l.push(`path=${n}`),V.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),V.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function lD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function cD(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Tk(e,t,r){let n=!lD(t);return e&&(n||r==!1)?cD(e,t):t}const b0=e=>e instanceof gr?{...e}:e;function ks(e,t){t=t||{};const r={};function n(c,d,m,p){return V.isPlainObject(c)&&V.isPlainObject(d)?V.merge.call({caseless:p},c,d):V.isPlainObject(d)?V.merge({},d):V.isArray(d)?d.slice():d}function s(c,d,m,p){if(V.isUndefined(d)){if(!V.isUndefined(c))return n(void 0,c,m,p)}else return n(c,d,m,p)}function i(c,d){if(!V.isUndefined(d))return n(void 0,d)}function o(c,d){if(V.isUndefined(d)){if(!V.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function l(c,d,m){if(m in t)return n(c,d);if(m in e)return n(void 0,c)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,d,m)=>s(b0(c),b0(d),m,!0)};return V.forEach(Object.keys({...e,...t}),function(d){const m=u[d]||s,p=m(e[d],t[d],d);V.isUndefined(p)&&m!==l||(r[d]=p)}),r}const Ik=e=>{const t=ks({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=gr.from(o),t.url=Pk(Tk(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),V.isFormData(r)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(V.isFunction(r.getHeaders)){const u=r.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,m])=>{c.includes(d.toLowerCase())&&o.set(d,m)})}}if(Xt.hasStandardBrowserEnv&&(n&&V.isFunction(n)&&(n=n(t)),n||n!==!1&&iD(t.url))){const u=s&&i&&oD.read(i);u&&o.set(s,u)}return t},uD=typeof XMLHttpRequest<"u",dD=uD&&function(e){return new Promise(function(r,n){const s=Ik(e);let i=s.data;const o=gr.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=s,d,m,p,h,y;function g(){h&&h(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function x(){if(!v)return;const j=gr.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:j,config:e,request:v};Ak(function(C){r(C),g()},function(C){n(C),g()},N),v=null}"onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(x)},v.onabort=function(){v&&(n(new ve("Request aborted",ve.ECONNABORTED,e,v)),v=null)},v.onerror=function(k){const N=k&&k.message?k.message:"Network Error",w=new ve(N,ve.ERR_NETWORK,e,v);w.event=k||null,n(w),v=null},v.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||Ck;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new ve(k,N.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&V.forEach(o.toJSON(),function(k,N){v.setRequestHeader(N,k)}),V.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),c&&([p,y]=Iu(c,!0),v.addEventListener("progress",p)),u&&v.upload&&([m,h]=Iu(u),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(d=j=>{v&&(n(!j||j.type?new zi(null,e,v):j),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const b=nD(s.url);if(b&&Xt.protocols.indexOf(b)===-1){n(new ve("Unsupported protocol "+b+":",ve.ERR_BAD_REQUEST,e));return}v.send(i||null)})},mD=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(c){if(!s){s=!0,l();const d=c instanceof Error?c:this.reason;n.abort(d instanceof ve?d:new zi(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new ve(`timeout ${t} of ms exceeded`,ve.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>V.asap(l),u}},fD=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},pD=async function*(e,t){for await(const r of hD(e))yield*fD(r,t)},hD=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},j0=(e,t,r,n)=>{const s=pD(e,t);let i=0,o,l=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await s.next();if(c){l(),u.close();return}let m=d.byteLength;if(r){let p=i+=m;r(p)}u.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},w0=64*1024,{isFunction:jc}=V,xD=(({Request:e,Response:t})=>({Request:e,Response:t}))(V.global),{ReadableStream:N0,TextEncoder:k0}=V.global,_0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},yD=e=>{e=V.merge.call({skipUndefined:!0},xD,e);const{fetch:t,Request:r,Response:n}=e,s=t?jc(t):typeof fetch=="function",i=jc(r),o=jc(n);if(!s)return!1;const l=s&&jc(N0),u=s&&(typeof k0=="function"?(y=>g=>y.encode(g))(new k0):async y=>new Uint8Array(await new r(y).arrayBuffer())),c=i&&l&&_0(()=>{let y=!1;const g=new r(Xt.origin,{body:new N0,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!g}),d=o&&l&&_0(()=>V.isReadableStream(new n("").body)),m={stream:d&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!m[y]&&(m[y]=(g,v)=>{let x=g&&g[y];if(x)return x.call(g);throw new ve(`Response type '${y}' is not supported`,ve.ERR_NOT_SUPPORT,v)})});const p=async y=>{if(y==null)return 0;if(V.isBlob(y))return y.size;if(V.isSpecCompliantForm(y))return(await new r(Xt.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(V.isArrayBufferView(y)||V.isArrayBuffer(y))return y.byteLength;if(V.isURLSearchParams(y)&&(y=y+""),V.isString(y))return(await u(y)).byteLength},h=async(y,g)=>{const v=V.toFiniteNumber(y.getContentLength());return v??p(g)};return async y=>{let{url:g,method:v,data:x,signal:b,cancelToken:j,timeout:k,onDownloadProgress:N,onUploadProgress:w,responseType:C,headers:_,withCredentials:P="same-origin",fetchOptions:O}=Ik(y),S=t||fetch;C=C?(C+"").toLowerCase():"text";let E=mD([b,j&&j.toAbortSignal()],k),M=null;const A=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let T;try{if(w&&c&&v!=="get"&&v!=="head"&&(T=await h(_,x))!==0){let G=new r(g,{method:"POST",body:x,duplex:"half"}),I;if(V.isFormData(x)&&(I=G.headers.get("content-type"))&&_.setContentType(I),G.body){const[X,Z]=g0(T,Iu(v0(w)));x=j0(G.body,w0,X,Z)}}V.isString(P)||(P=P?"include":"omit");const F=i&&"credentials"in r.prototype,U={...O,signal:E,method:v.toUpperCase(),headers:_.normalize().toJSON(),body:x,duplex:"half",credentials:F?P:void 0};M=i&&new r(g,U);let L=await(i?S(M,O):S(g,U));const R=d&&(C==="stream"||C==="response");if(d&&(N||R&&A)){const G={};["status","statusText","headers"].forEach(D=>{G[D]=L[D]});const I=V.toFiniteNumber(L.headers.get("content-length")),[X,Z]=N&&g0(I,Iu(v0(N),!0))||[];L=new n(j0(L.body,w0,X,()=>{Z&&Z(),A&&A()}),G)}C=C||"text";let $=await m[V.findKey(m,C)||"text"](L,y);return!R&&A&&A(),await new Promise((G,I)=>{Ak(G,I,{data:$,headers:gr.from(L.headers),status:L.status,statusText:L.statusText,config:y,request:M})})}catch(F){throw A&&A(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,y,M),{cause:F.cause||F}):ve.from(F,F&&F.code,y,M)}}},gD=new Map,Dk=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,u,c,d=gD;for(;l--;)u=i[l],c=d.get(u),c===void 0&&d.set(u,c=l?new Map:yD(t)),d=c;return c};Dk();const jy={http:MI,xhr:dD,fetch:{get:Dk}};V.forEach(jy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const S0=e=>`- ${e}`,vD=e=>V.isFunction(e)||e===null||e===!1;function bD(e,t){e=V.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!vD(n)&&(s=jy[(l=String(n)).toLowerCase()],s===void 0))throw new ve(`Unknown adapter '${l}'`);if(s&&(V.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(S0).join(`
`):" "+S0(o[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const Mk={getAdapter:bD,adapters:jy};function If(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zi(null,e)}function P0(e){return If(e),e.headers=gr.from(e.headers),e.data=Tf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Mk.getAdapter(e.adapter||Nl.adapter,e)(e).then(function(n){return If(e),n.data=Tf.call(e,e.transformResponse,n),n.headers=gr.from(n.headers),n},function(n){return Ok(n)||(If(e),n&&n.response&&(n.response.data=Tf.call(e,e.transformResponse,n.response),n.response.headers=gr.from(n.response.headers))),Promise.reject(n)})}const Lk="1.13.2",Gd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Gd[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const C0={};Gd.transitional=function(t,r,n){function s(i,o){return"[Axios v"+Lk+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new ve(s(o," has been removed"+(r?" in "+r:"")),ve.ERR_DEPRECATED);return r&&!C0[o]&&(C0[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Gd.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function jD(e,t,r){if(typeof e!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],u=l===void 0||o(l,i,e);if(u!==!0)throw new ve("option "+i+" must be "+u,ve.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ve("Unknown option "+i,ve.ERR_BAD_OPTION)}}const ru={assertOptions:jD,validators:Gd},vn=ru.validators;let ps=class{constructor(t){this.defaults=t||{},this.interceptors={request:new x0,response:new x0}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ks(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&ru.assertOptions(n,{silentJSONParsing:vn.transitional(vn.boolean),forcedJSONParsing:vn.transitional(vn.boolean),clarifyTimeoutError:vn.transitional(vn.boolean)},!1),s!=null&&(V.isFunction(s)?r.paramsSerializer={serialize:s}:ru.assertOptions(s,{encode:vn.function,serialize:vn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ru.assertOptions(r,{baseUrl:vn.spelling("baseURL"),withXsrfToken:vn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&V.merge(i.common,i[r.method]);i&&V.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=gr.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(u=u&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let d,m=0,p;if(!u){const y=[P0.bind(this),void 0];for(y.unshift(...l),y.push(...c),p=y.length,d=Promise.resolve(r);m<p;)d=d.then(y[m++],y[m++]);return d}p=l.length;let h=r;for(;m<p;){const y=l[m++],g=l[m++];try{h=y(h)}catch(v){g.call(this,v);break}}try{d=P0.call(this,h)}catch(y){return Promise.reject(y)}for(m=0,p=c.length;m<p;)d=d.then(c[m++],c[m++]);return d}getUri(t){t=ks(this.defaults,t);const r=Tk(t.baseURL,t.url,t.allowAbsoluteUrls);return Pk(r,t.params,t.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(t){ps.prototype[t]=function(r,n){return this.request(ks(n||{},{method:t,url:r,data:(n||{}).data}))}});V.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(ks(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ps.prototype[t]=r(),ps.prototype[t+"Form"]=r(!0)});let wD=class $k{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new zi(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new $k(function(s){t=s}),cancel:t}}};function ND(e){return function(r){return e.apply(null,r)}}function kD(e){return V.isObject(e)&&e.isAxiosError===!0}const uh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(uh).forEach(([e,t])=>{uh[t]=e});function Rk(e){const t=new ps(e),r=hk(ps.prototype.request,t);return V.extend(r,ps.prototype,t,{allOwnKeys:!0}),V.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Rk(ks(e,s))},r}const nt=Rk(Nl);nt.Axios=ps;nt.CanceledError=zi;nt.CancelToken=wD;nt.isCancel=Ok;nt.VERSION=Lk;nt.toFormData=Yd;nt.AxiosError=ve;nt.Cancel=nt.CanceledError;nt.all=function(t){return Promise.all(t)};nt.spread=ND;nt.isAxiosError=kD;nt.mergeConfig=ks;nt.AxiosHeaders=gr;nt.formToJSON=e=>Ek(V.isHTMLForm(e)?new FormData(e):e);nt.getAdapter=Mk.getAdapter;nt.HttpStatusCode=uh;nt.default=nt;const{Axios:AG,AxiosError:TG,CanceledError:IG,isCancel:DG,CancelToken:MG,VERSION:LG,all:$G,Cancel:RG,isAxiosError:zG,spread:FG,toFormData:BG,AxiosHeaders:UG,HttpStatusCode:WG,formToJSON:KG,getAdapter:HG,mergeConfig:VG}=nt,zk=f.createContext(),_D=()=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:8001":"",wy=_D();console.log(" Backend URL:",wy,"| Hostname:",window.location.hostname);const vo=nt.create({baseURL:wy,headers:{"Content-Type":"application/json"}});vo.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const ye=()=>{const e=f.useContext(zk);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},SD=({children:e})=>{const[t,r]=f.useState(null),[n,s]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{if(localStorage.getItem("token"))try{const d=await vo.get("/api/auth/me");r(d.data)}catch{localStorage.removeItem("token"),localStorage.removeItem("user")}s(!1)},o=async(c,d)=>{var m,p;try{console.log("Attempting login to:",`${wy}/api/auth/login`);const h=await vo.post("/api/auth/login",{email:c,password:d}),{access_token:y,user:g}=h.data;return localStorage.setItem("token",y),localStorage.setItem("user",JSON.stringify(g)),r(g),{success:!0}}catch(h){return console.error("Login error:",h),{success:!1,error:((p=(m=h.response)==null?void 0:m.data)==null?void 0:p.detail)||h.message||"Login failed - Network error"}}},l=async c=>{var d,m;try{return{success:!0,message:(await vo.post("/api/auth/register",c)).data.message}}catch(p){return{success:!1,error:((m=(d=p.response)==null?void 0:d.data)==null?void 0:m.detail)||"Registration failed"}}},u=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)};return a.jsx(zk.Provider,{value:{user:t,loading:n,login:o,register:l,logout:u,api:vo},children:e})},Fk=f.createContext(),Ny=()=>{const e=f.useContext(Fk);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},PD=({children:e})=>{const[t,r]=f.useState(()=>localStorage.getItem("theme")||"dark"),[n,s]=f.useState(()=>localStorage.getItem("language")||"ru");f.useEffect(()=>{localStorage.setItem("theme",t),t==="light"?document.documentElement.classList.add("light-theme"):document.documentElement.classList.remove("light-theme")},[t]),f.useEffect(()=>{localStorage.setItem("language",n)},[n]);const i=()=>{r(l=>l==="dark"?"light":"dark")},o=l=>{s(l)};return a.jsx(Fk.Provider,{value:{theme:t,language:n,toggleTheme:i,changeLanguage:o},children:e})},E0={ru:{loading:"// ...",save:"",cancel:"",delete:"",edit:"",create:"",view:"",search:"",filter:"",actions:"",status:"",login:"",register:"",logout:"",email:"Email",password:"",fullName:" ",companyName:" ",inn:"",adminPanel:"",sellerPanel:"",overview:"",users:"",analytics:"",products:"",orders:"",inventory:"",apiKeys:"API ",finance:"",balance:"",promocodes:"",questions:"",reviews:"",dashboard:"",sellers:"",payouts:"",categories:"",addProduct:"+  ",editProduct:" ",createProduct:" ",productList:"",sku:"",name:"",price:"",description:"",tags:"",images:"",quality:"",variant:"",orderList:"",orderNumber:" ",customer:"",source:"",total:"",date:"",inventoryManagement:" ",fbs:"FBS ( )",fbo:"FBO ( )",history:" ",quantity:"",reserved:"",available:"",adjust:"",settings:"",theme:"",language:"",currency:"",dark:"",light:"",noDistractionsJustResults:"//  ,  ",enterCredentials:"//   ",manageProducts:"//   ",trackOrders:"//  ",warehouseManagement:"//   "},en:{loading:"// LOADING...",save:"SAVE",cancel:"CANCEL",delete:"DELETE",edit:"EDIT",create:"CREATE",view:"VIEW",search:"Search",filter:"Filter",actions:"Actions",status:"Status",login:"LOGIN",register:"REGISTER",logout:"LOGOUT",email:"Email",password:"Password",fullName:"Full Name",companyName:"Company Name",inn:"Tax ID",adminPanel:"ADMIN",sellerPanel:"SELLER",overview:"Overview",users:"Users",analytics:"Analytics",products:"Products",orders:"Orders",inventory:"Inventory",apiKeys:"API Keys",finance:"Finance",balance:"Balance",promocodes:"Promocodes",questions:"Questions",reviews:"Reviews",dashboard:"Dashboard",sellers:"Sellers",payouts:"Payouts",categories:"Categories",addProduct:"+ ADD PRODUCT",editProduct:"EDIT PRODUCT",createProduct:"CREATE PRODUCT",productList:"PRODUCTS",sku:"SKU",name:"Name",price:"Price",description:"Description",tags:"Tags",images:"Images",quality:"Quality",variant:"Variant",orderList:"ORDERS",orderNumber:"Order #",customer:"Customer",source:"Source",total:"Total",date:"Date",inventoryManagement:"INVENTORY",fbs:"FBS (Own Warehouse)",fbo:"FBO (Marketplace Warehouses)",history:"Movement History",quantity:"Quantity",reserved:"Reserved",available:"Available",adjust:"ADJUST",settings:"SETTINGS",theme:"THEME",language:"LANGUAGE",currency:"CURRENCY",dark:"Dark",light:"Light",noDistractionsJustResults:"// No distractions, Just results",enterCredentials:"// Enter your credentials",manageProducts:"// Manage your product catalog",trackOrders:"// Track your sales",warehouseManagement:"// Manage warehouse and stock levels"}},CD=e=>({t:r=>{var n;return((n=E0[e])==null?void 0:n[r])||E0.en[r]||r}});function ED(){const e=Gr(),{login:t}=ye(),{language:r}=Ny(),{t:n}=CD(r),[s,i]=f.useState({email:"",password:""}),[o,l]=f.useState(""),[u,c]=f.useState(!1),d=async p=>{p.preventDefault(),l(""),c(!0);const h=await t(s.email,s.password);h.success?e("/"):l(h.error),c(!1)},m=p=>{i({...s,[p.target.name]:p.target.value})};return a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-5xl font-bold mb-4 text-mm-text",children:["MINIMAL",a.jsx("span",{className:"text-mm-purple",children:"MOD"})]}),a.jsx("p",{className:"comment",children:n("noDistractionsJustResults")})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan",children:n("login")}),a.jsx("p",{className:"comment mb-8",children:n("enterCredentials")}),o&&a.jsx("div",{className:"mb-6 p-4 border border-mm-red bg-mm-red/10 text-mm-red text-sm font-mono",children:o}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase tracking-wider",children:n("email")}),a.jsx("input",{type:"email",name:"email",value:s.email,onChange:m,className:"input-neon w-full",placeholder:"admin@minimalmod.com",required:!0,"data-testid":"login-email-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase tracking-wider",children:n("password")}),a.jsx("input",{type:"password",name:"password",value:s.password,onChange:m,className:"input-neon w-full",placeholder:"",required:!0,"data-testid":"login-password-input"})]}),a.jsx("button",{type:"submit",disabled:u,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"login-submit-button",children:u?n("loading"):`// ${n("login")}`})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-mm-border",children:a.jsxs("p",{className:"text-mm-text-secondary text-sm text-center",children:[a.jsx("span",{className:"comment",children:"// New seller?"})," ",a.jsx(Jc,{to:"/register",className:"text-mm-cyan hover:text-mm-cyan/80 transition-colors",children:"Register here"})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-mm-darker border border-mm-border",children:[a.jsx("p",{className:"comment text-xs mb-2",children:"// Demo credentials:"}),a.jsx("p",{className:"text-xs text-mm-text-secondary",children:"Admin: admin@minimalmod.com / admin123"})]})]})]})})}var Bk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O0=J.createContext&&J.createContext(Bk),Da=function(){return Da=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Da.apply(this,arguments)},OD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function Uk(e){return e&&e.map(function(t,r){return J.createElement(t.tag,Da({key:r},t.attr),Uk(t.child))})}function he(e){return function(t){return J.createElement(AD,Da({attr:Da({},e.attr)},t),Uk(e.child))}}function AD(e){var t=function(r){var n=e.attr,s=e.size,i=e.title,o=OD(e,["attr","size","title"]),l=s||r.size||"1em",u;return r.className&&(u=r.className),e.className&&(u=(u?u+" ":"")+e.className),J.createElement("svg",Da({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:u,style:Da(Da({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&J.createElement("title",null,i),e.children)};return O0!==void 0?J.createElement(O0.Consumer,null,function(r){return t(r)}):t(Bk)}function Wk(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(e)}function Un(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}function Kk(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(e)}function TD(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"}},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"}}]})(e)}function dh(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function Du(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"}}]})(e)}function ID(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"}},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}}]})(e)}function Bt(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function kl(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function Hk(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"}}]})(e)}function Gn(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}function _s(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(e)}function Wt(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(e)}function ky(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(e)}function Ra(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function Xd(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(e)}function Vk(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"}},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"}},{tag:"polyline",attr:{points:"10 9 9 9 8 9"}}]})(e)}function _y(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(e)}function A0(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}}]})(e)}function qk(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(e)}function mh(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"}},{tag:"polyline",attr:{points:"21 15 16 10 5 21"}}]})(e)}function Yk(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}}]})(e)}function DD(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"}},{tag:"polyline",attr:{points:"2 17 12 22 22 17"}},{tag:"polyline",attr:{points:"2 12 12 17 22 12"}}]})(e)}function To(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}}]})(e)}function MD(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"}}]})(e)}function T0(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"}},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"}},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"}},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"}},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}}]})(e)}function LD(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}}]})(e)}function bt(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function I0(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"}},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"}},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"}}]})(e)}function Gk(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"}}]})(e)}function Or(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function Xk(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"}},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"}}]})(e)}function Ot(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"polyline",attr:{points:"1 20 1 14 7 14"}},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}}]})(e)}function bi(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(e)}function Xn(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function Qk(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function $D(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"}}]})(e)}function fh(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"}},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"}},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}}]})(e)}function RD(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}}]})(e)}function wc(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(e)}function zD(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"}},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"}},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}}]})(e)}function FD(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"}}]})(e)}function hn(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function Sy(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"}},{tag:"polyline",attr:{points:"17 18 23 18 23 12"}}]})(e)}function _l(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(e)}function Zk(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"}},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"}},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"}},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"}}]})(e)}function rr(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(e)}function ji(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function BD(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function Py(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"}}]})(e)}function It(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}function Jk(){const[e,t]=f.useState(!1),r=f.useRef(null),{theme:n,language:s,toggleTheme:i,changeLanguage:o}=Ny();return f.useEffect(()=>{const l=u=>{r.current&&!r.current.contains(u.target)&&t(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),a.jsxs("div",{className:"relative",ref:r,children:[a.jsx("button",{onClick:()=>t(!e),className:"p-2 border-2 border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":"settings-button",children:a.jsx(Qk,{size:20,className:e?"animate-spin":""})}),e&&a.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-mm-dark border-2 border-mm-cyan shadow-neon-cyan z-50","data-testid":"settings-dropdown",children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"THEME"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>{n!=="dark"&&i()},className:`p-4 border-2 transition-all ${n==="dark"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"theme-dark",children:[a.jsx(LD,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"Dark"})]}),a.jsxs("button",{onClick:()=>{n!=="light"&&i()},className:`p-4 border-2 transition-all ${n==="light"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"theme-light",children:[a.jsx(zD,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"Light"})]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"LANGUAGE"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>o("ru"),className:`p-4 border-2 transition-all ${s==="ru"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"lang-ru",children:[a.jsx(A0,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"RU"})]}),a.jsxs("button",{onClick:()=>o("en"),className:`p-4 border-2 transition-all ${s==="en"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"lang-en",children:[a.jsx(A0,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"EN"})]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"CURRENCY"}),a.jsxs("select",{className:"input-neon w-full",defaultValue:"RUB",children:[a.jsx("option",{value:"RUB",children:"RUB "}),a.jsx("option",{value:"USD",children:"USD $"}),a.jsx("option",{value:"EUR",children:"EUR "})]})]}),a.jsx("div",{className:"pt-4 border-t border-mm-border",children:a.jsx("p",{className:"comment text-xs text-center",children:"// Settings saved automatically"})})]})})]})}function wi(e){return he({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2l-2.218-.887zm3.564 1.426L5.596 5 8 5.961 14.154 3.5l-2.404-.961zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"}}]})(e)}const e_=()=>{const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,u]=f.useState(""),[c,d]=f.useState({name:"",client_id:"",api_key:"",auto_sync_stock:!0,auto_update_prices:!1,auto_get_orders:!0}),[m,p]=f.useState(!1),[h,y]=f.useState(!1),g=[{id:"ozon",name:"Ozon",logo:"",description:"  Ozon    ,  FBS  ",helpText:"        : Admin, Product, Posting, Finance, Analytics, Warehouse, Orders",requiredPermissions:["Admin","Product","Posting","Finance","Analytics","Warehouse","Orders"],docsLink:"https://seller.ozon.ru/app/settings/api-keys?currentTab=sellerApi",fields:[{name:"name",label:" ",type:"text",placeholder:":   OZON"},{name:"client_id",label:"Client ID",type:"text",placeholder:" Client ID"},{name:"api_key",label:"API Key",type:"password",placeholder:" API ",helpText:"   "}]},{id:"wb",name:"Wildberries",logo:"",description:"  Wildberries    ,  FBS  ",fields:[{name:"name",label:" ",type:"text",placeholder:":   WB"},{name:"api_key",label:"API Token",type:"password",placeholder:" API "}]},{id:"yandex",name:"Yandex.Market",logo:"",description:"  .    ,  FBS  ",fields:[{name:"name",label:" ",type:"text",placeholder:":   "},{name:"client_id",label:"Campaign ID",type:"text",placeholder:" Campaign ID"},{name:"api_key",label:"OAuth Token",type:"password",placeholder:" OAuth "}]}];f.useEffect(()=>{v()},[]);const v=async()=>{try{const P=await e.get("/api/seller/api-keys");r(P.data)}catch(P){console.error("Error loading API keys:",P)}finally{s(!1)}},x=P=>{u(P),d({name:"",client_id:"",api_key:"",auto_sync_stock:!0,auto_update_prices:!1,auto_get_orders:!0}),o(!0)},b=async()=>{var P,O;p(!0);try{const S=await e.post("/api/seller/api-keys/test",{marketplace:l,client_id:c.client_id,api_key:c.api_key});S.data.success,alert(S.data.message)}catch(S){alert(" : "+(((O=(P=S.response)==null?void 0:P.data)==null?void 0:O.detail)||S.message))}finally{p(!1)}},j=async()=>{var P,O;if(!c.api_key||!c.api_key.trim()){alert("API  ");return}y(!0);try{await e.post("/api/seller/api-keys",{marketplace:l,name:c.name,client_id:c.client_id,api_key:c.api_key}),alert("   !"),o(!1),v()}catch(S){alert(": "+(((O=(P=S.response)==null?void 0:P.data)==null?void 0:O.detail)||S.message))}finally{y(!1)}},k=async(P,O)=>{var S,E;if(confirm(`  ${O.toUpperCase()}?`))try{await e.delete(`/api/seller/api-keys/${P}`),alert("  "),v()}catch(M){alert(": "+(((E=(S=M.response)==null?void 0:S.data)==null?void 0:E.detail)||M.message))}},N=async(P,O,S)=>{var E,M;try{await e.put(`/api/seller/api-keys/${P}`,{[O]:!S}),v()}catch(A){alert(" : "+(((M=(E=A.response)==null?void 0:E.data)==null?void 0:M.detail)||A.message))}},w=P=>{const O=g.find(S=>S.id===P);return O?O.logo:""},C=P=>{const O=g.find(S=>S.id===P);return O?O.name:P};if(n)return a.jsx("div",{className:"p-8",children:a.jsx("div",{className:"text-mm-cyan",children:"..."})});const _=g.find(P=>P.id===l);return a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan mb-2",children:""}),a.jsx("p",{className:"text-gray-400",children:"    "})]}),t.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(P=>a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 hover:border-mm-cyan transition",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-4xl",children:w(P.marketplace)}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-white",children:P.name||C(P.marketplace)}),a.jsx("p",{className:"text-xs text-gray-500",children:C(P.marketplace)})]})]}),a.jsx("button",{onClick:()=>k(P.id,P.marketplace),className:"p-2 text-red-500 hover:bg-red-500/10 rounded transition",title:"",children:a.jsx(hn,{})})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Client ID:"}),a.jsx("span",{className:"text-gray-300",children:P.client_id||""})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"API Key:"}),a.jsx("span",{className:"text-gray-300",children:P.api_key_masked})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:":"}),a.jsx("span",{className:"text-gray-300",children:new Date(P.created_at).toLocaleDateString("ru-RU")})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-800 space-y-2",children:[a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[a.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),a.jsx("input",{type:"checkbox",checked:P.auto_sync_stock!==!1,onChange:()=>N(P.id,"auto_sync_stock",P.auto_sync_stock!==!1),className:"w-4 h-4 rounded"})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[a.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),a.jsx("input",{type:"checkbox",checked:P.auto_update_prices===!0,onChange:()=>N(P.id,"auto_update_prices",P.auto_update_prices===!0),className:"w-4 h-4 rounded"})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[a.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),a.jsx("input",{type:"checkbox",checked:P.auto_get_orders!==!1,onChange:()=>N(P.id,"auto_get_orders",P.auto_get_orders!==!1),className:"w-4 h-4 rounded"})]})]})]},P.id))})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(P=>{const O=t.some(S=>S.marketplace===P.id);return a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 hover:border-mm-cyan transition",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"text-6xl mb-3",children:P.logo}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:P.name}),a.jsx("p",{className:"text-sm text-gray-400",children:P.description})]}),a.jsxs("button",{onClick:()=>x(P.id),className:"w-full px-4 py-3 bg-mm-purple hover:bg-purple-600 rounded-lg transition font-medium flex items-center justify-center space-x-2",children:[a.jsx(Or,{}),a.jsx("span",{children:O?" ":""})]})]},P.id)})})]}),i&&_&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-3xl",children:_.logo}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-cyan",children:_.name}),a.jsx("p",{className:"text-sm text-gray-400",children:_.description})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition",children:a.jsx(It,{size:24})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[_.helpText&&a.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-yellow-200 mb-3 font-semibold",children:_.helpText}),_.requiredPermissions&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-xs text-yellow-300/80 mb-2",children:"  :"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:_.requiredPermissions.map(P=>a.jsxs("span",{className:"px-2 py-1 bg-yellow-600/20 text-yellow-200 text-xs rounded border border-yellow-600/30",children:[" ",P]},P))})]}),_.docsLink&&a.jsx("a",{href:_.docsLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-xs text-cyan-400 hover:text-cyan-300 underline",children:"    Ozon Seller (  !)"})]}),_.fields.map(P=>a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:[P.label,P.name!=="name"&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"}),P.helpText&&a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",P.helpText,")"]})]}),a.jsx("input",{type:P.type,value:c[P.name],onChange:O=>d({...c,[P.name]:O.target.value}),placeholder:P.placeholder,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan text-white"})]},P.name)),a.jsxs("div",{className:"pt-4 border-t border-gray-800",children:[a.jsx("p",{className:"text-sm font-medium mb-3 text-gray-300",children:" :"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.auto_sync_stock,onChange:P=>d({...c,auto_sync_stock:P.target.checked}),className:"w-5 h-5 rounded"}),a.jsx("span",{className:"text-sm text-gray-400",children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.auto_update_prices,onChange:P=>d({...c,auto_update_prices:P.target.checked}),className:"w-5 h-5 rounded"}),a.jsx("span",{className:"text-sm text-gray-400",children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.auto_get_orders,onChange:P=>d({...c,auto_get_orders:P.target.checked}),className:"w-5 h-5 rounded"}),a.jsx("span",{className:"text-sm text-gray-400",children:"  "})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-800 flex justify-end space-x-3",children:[a.jsx("button",{onClick:b,disabled:m||!c.api_key,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:cursor-not-allowed rounded-lg transition font-medium",children:m?"...":" "}),a.jsx("button",{onClick:j,disabled:h||!c.api_key,className:"px-6 py-3 bg-mm-cyan hover:bg-cyan-400 text-black disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed rounded-lg transition font-bold",children:h?"...":""})]})]})})]})};function UD(){const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState({status:"",source:""});f.useEffect(()=>{l()},[i]);const l=async()=>{try{const d=new URLSearchParams;i.status&&d.append("status",i.status),i.source&&d.append("source",i.source);const m=await e.get(`/api/orders?${d.toString()}`);r(m.data)}catch(d){console.error("Failed to load orders:",d)}s(!1)},u=d=>{switch(d){case"new":return a.jsx(Gn,{className:"inline text-mm-blue"});case"awaiting_shipment":return a.jsx(bt,{className:"inline text-mm-yellow"});case"shipped":return a.jsx(Zk,{className:"inline text-mm-cyan"});case"delivered":return a.jsx(Du,{className:"inline text-mm-green"});case"cancelled":return a.jsx(Py,{className:"inline text-mm-red"});default:return a.jsx(Gn,{className:"inline"})}},c=d=>({minimalmod:"border-mm-purple text-mm-purple",ozon:"border-mm-blue text-mm-blue",wildberries:"border-mm-purple text-mm-purple",yandex_market:"border-mm-yellow text-mm-yellow"})[d]||"border-mm-cyan text-mm-cyan";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"Orders"}),a.jsx("p",{className:"comment",children:"// Manage all your orders"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("select",{value:i.status,onChange:d=>o({...i,status:d.target.value}),className:"input-neon",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"new",children:"New"}),a.jsx("option",{value:"awaiting_shipment",children:"Awaiting Shipment"}),a.jsx("option",{value:"shipped",children:"Shipped"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:i.source,onChange:d=>o({...i,source:d.target.value}),className:"input-neon",children:[a.jsx("option",{value:"",children:"All Sources"}),a.jsx("option",{value:"minimalmod",children:"MinimalMod"}),a.jsx("option",{value:"ozon",children:"Ozon"}),a.jsx("option",{value:"wildberries",children:"Wildberries"}),a.jsx("option",{value:"yandex_market",children:"Yandex.Market"})]})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(bt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No orders found"}),a.jsx("p",{className:"comment",children:"// Orders will appear here once created"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Order #"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Customer"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Source"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Total"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Status"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),a.jsx("tbody",{children:t.map(d=>{var m,p,h,y;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:d.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date((m=d.dates)==null?void 0:m.created_at).toLocaleDateString()}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:((p=d.customer)==null?void 0:p.name)||"N/A"}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${c(d.source)}`,children:d.source})}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:["",((y=(h=d.totals)==null?void 0:h.total)==null?void 0:y.toLocaleString())||0]}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("span",{className:"flex items-center space-x-2",children:[u(d.status),a.jsx("span",{className:"text-sm font-mono uppercase",children:d.status})]})}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsx("button",{onClick:()=>window.location.href=`/orders/${d.id}`,className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors text-xs uppercase font-mono","data-testid":`view-order-${d.id}`,children:"View"})})]},d.id)})})]})})})]})}function t_(){const{api:e}=ye(),{language:t}=Ny(),[r,n]=f.useState({revenue:0,costs:0,cogs:0,gross_profit:0,net_profit:0,margin:0,transactions_count:0}),[s,i]=f.useState(!0);f.useEffect(()=>{o()},[]);const o=async()=>{try{const l=await e.get("/api/finance/dashboard");n(l.data)}catch(l){console.error("Failed to load finance dashboard:",l)}i(!1)};return s?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"FINANCIAL DASHBOARD"}),a.jsx("p",{className:"comment",children:"// Your financial overview"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Revenue"}),a.jsxs("p",{className:"text-4xl font-bold text-mm-green flex items-center",children:[a.jsx(_l,{className:"mr-2"}),"",r.revenue.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Costs"}),a.jsxs("p",{className:"text-4xl font-bold text-mm-red flex items-center",children:[a.jsx(Sy,{className:"mr-2"}),"",r.costs.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Net Profit"}),a.jsxs("p",{className:`text-4xl font-bold flex items-center ${r.net_profit>=0?"text-mm-green":"text-mm-red"}`,children:[a.jsx(_s,{className:"mr-2"}),"",r.net_profit.toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// COGS (Cost of Goods)"}),a.jsxs("p",{className:"text-2xl font-bold text-mm-yellow",children:["",r.cogs.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Gross Profit"}),a.jsxs("p",{className:"text-2xl font-bold text-mm-cyan",children:["",r.gross_profit.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Margin"}),a.jsxs("p",{className:"text-2xl font-bold text-mm-purple",children:[r.margin,"%"]})]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:"PROFIT BREAKDOWN"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[a.jsx("span",{className:"font-mono text-mm-text-secondary",children:"Revenue"}),a.jsxs("span",{className:"font-mono text-mm-green",children:["+ ",r.revenue.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[a.jsx("span",{className:"font-mono text-mm-text-secondary",children:"COGS"}),a.jsxs("span",{className:"font-mono text-mm-red",children:["- ",r.cogs.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border font-bold",children:[a.jsx("span",{className:"font-mono",children:"Gross Profit"}),a.jsxs("span",{className:"font-mono text-mm-cyan",children:["",r.gross_profit.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[a.jsx("span",{className:"font-mono text-mm-text-secondary",children:"Operating Costs"}),a.jsxs("span",{className:"font-mono text-mm-red",children:["- ",r.costs.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 font-bold text-lg",children:[a.jsx("span",{className:"font-mono",children:"Net Profit"}),a.jsxs("span",{className:`font-mono ${r.net_profit>=0?"text-mm-green":"text-mm-red"}`,children:["",r.net_profit.toLocaleString()]})]})]})]}),a.jsx("div",{className:"card-neon",children:a.jsxs("p",{className:"comment",children:["// Transactions processed: ",r.transactions_count]})})]})}function r_({isAdmin:e=!1}){const{api:t}=ye(),[r,n]=f.useState([]),[s,i]=f.useState(!0),[o,l]=f.useState(!1),[u,c]=f.useState("");f.useEffect(()=>{d()},[]);const d=async()=>{try{const v=await t.get("/api/payouts");n(v.data)}catch(v){console.error("Failed to load payouts:",v)}i(!1)},m=async v=>{v.preventDefault();try{await t.post("/api/payouts/request",null,{params:{amount:parseFloat(u)}}),l(!1),c(""),d(),alert("Payout request submitted!")}catch{alert("Failed to request payout")}},p=async v=>{try{await t.put(`/api/admin/payouts/${v}/approve`),d()}catch(x){console.error("Failed to approve:",x)}},h=async v=>{try{await t.put(`/api/admin/payouts/${v}/paid`),d()}catch(x){console.error("Failed to mark paid:",x)}},y=async v=>{try{await t.put(`/api/admin/payouts/${v}/reject`),d()}catch(x){console.error("Failed to reject:",x)}},g=v=>{const x={pending:{class:"status-pending",icon:Gn,text:"PENDING"},approved:{class:"status-new",icon:Du,text:"APPROVED"},paid:{class:"status-active",icon:Du,text:"PAID"},rejected:{class:"status-error",icon:Py,text:"REJECTED"}};return x[v]||x.pending};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:e?"PAYOUT REQUESTS":"BALANCE & PAYOUTS"}),a.jsx("p",{className:"comment",children:e?"// Manage seller payout requests":"// Request withdrawals"})]}),!e&&a.jsx("button",{onClick:()=>l(!0),className:"btn-primary","data-testid":"request-payout-button",children:" REQUEST PAYOUT"})]}),s?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):r.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(_s,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No payout requests"}),a.jsxs("p",{className:"comment",children:["// ",e?"Requests will appear here":'Click "REQUEST PAYOUT" to withdraw funds']})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),e&&a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Seller"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Amount"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Status"}),e&&a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),a.jsx("tbody",{children:r.map(v=>{const x=g(v.status),b=x.icon;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(v.created_at).toLocaleDateString()}),e&&a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[v.seller_id.substring(0,8),"..."]}),a.jsxs("td",{className:"py-4 px-4 font-mono text-lg text-mm-green",children:["",v.amount.toLocaleString()]}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("span",{className:x.class,children:[a.jsx(b,{className:"inline mr-1"}),x.text]})}),e&&a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[v.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>p(v.id),className:"px-3 py-1 border border-mm-green text-mm-green hover:bg-mm-green/10 text-xs uppercase font-mono",children:"APPROVE"}),a.jsx("button",{onClick:()=>y(v.id),className:"px-3 py-1 border border-mm-red text-mm-red hover:bg-mm-red/10 text-xs uppercase font-mono",children:"REJECT"})]}),v.status==="approved"&&a.jsx("button",{onClick:()=>h(v.id),className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 text-xs uppercase font-mono",children:"MARK AS PAID"})]})]},v.id)})})]})})}),o&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"card-neon max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan",children:"REQUEST PAYOUT"}),a.jsx("button",{onClick:()=>l(!1),className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:""})]}),a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Amount"}),a.jsx("input",{type:"number",step:"0.01",value:u,onChange:v=>c(v.target.value),className:"input-neon w-full",placeholder:"10000.00",required:!0}),a.jsx("p",{className:"comment text-xs mt-1",children:"// Enter amount in RUB"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"REQUEST"}),a.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})})]})}function n_(){const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,u]=f.useState(null);f.useEffect(()=>{c()},[]);const c=async()=>{s(!0);try{const m=await e.get("/api/warehouses");r(m.data)}catch(m){q.error("  "),console.error(m)}s(!1)},d=async m=>{var p,h;if(confirm(`  "${m.name}"?`))try{await e.delete(`/api/warehouses/${m.id}`),q.success(" "),c()}catch(y){q.error(((h=(p=y.response)==null?void 0:p.data)==null?void 0:h.detail)||" ")}};return a.jsx("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan uppercase mb-2","data-testid":"warehouses-title",children:""}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"//    "})]}),a.jsxs("button",{onClick:()=>{u(null),o(!0)},className:"btn-primary flex items-center space-x-2","data-testid":"create-warehouse-btn",children:[a.jsx(Or,{}),a.jsx("span",{children:" "})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16","data-testid":"empty-state",children:[a.jsx(wi,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-6",children:"//      "}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[a.jsx(Or,{className:"inline mr-2"})," "]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(m=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`warehouse-row-${m.id}`,children:[a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(wi,{className:"text-mm-cyan",size:20}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:m.name}),m.address&&a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:m.address})]})]})}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:`px-3 py-1 text-xs font-mono uppercase rounded ${m.type==="main"?"bg-mm-cyan/20 text-mm-cyan border border-mm-cyan":m.type==="marketplace"?"bg-mm-purple/20 text-mm-purple border border-mm-purple":"bg-mm-yellow/20 text-mm-yellow border border-mm-yellow"}`,children:m.type})}),a.jsx("td",{className:"py-4 px-4 text-center",children:a.jsx("span",{className:"text-mm-cyan font-mono font-bold",children:m.priority||1})}),a.jsx("td",{className:"py-4 px-4 text-center",children:m.transfer_stock?a.jsx(Bt,{className:"inline text-mm-green",size:20}):a.jsx(It,{className:"inline text-mm-red",size:20})}),a.jsx("td",{className:"py-4 px-4 text-center",children:m.use_for_orders?a.jsx(Bt,{className:"inline text-mm-green",size:20}):a.jsx(It,{className:"inline text-mm-red",size:20})}),a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[a.jsx("button",{onClick:()=>{u(m),o(!0)},className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":`edit-warehouse-${m.id}`,children:a.jsx(Ra,{size:16})}),m.type!=="main"&&a.jsx("button",{onClick:()=>d(m),className:"px-3 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors","data-testid":`delete-warehouse-${m.id}`,children:a.jsx(hn,{size:16})})]})]},m.id))})]})}),i&&a.jsx(WD,{warehouse:l,onClose:()=>{o(!1),u(null)},onSuccess:()=>{o(!1),u(null),c()}})]})})}function WD({warehouse:e,onClose:t,onSuccess:r}){const{api:n}=ye(),[s,i]=f.useState({name:"",type:"main",address:"",comment:"",transfer_stock:!0,load_orders:!0,use_for_orders:!0,priority:1,fbo_accounting:!1,return_on_cancel:!0}),[o,l]=f.useState([]),[u,c]=f.useState([]),[d,m]=f.useState(""),[p,h]=f.useState([]),[y,g]=f.useState(!1);f.useEffect(()=>{e&&(i({name:e.name||"",type:e.type||"main",address:e.address||"",comment:e.comment||"",transfer_stock:e.transfer_stock!==!1,load_orders:e.load_orders!==!1,use_for_orders:e.use_for_orders!==!1,priority:e.priority||1,fbo_accounting:e.fbo_accounting||!1,return_on_cancel:e.return_on_cancel!==void 0?e.return_on_cancel:!0}),v(),x())},[e]);const v=async()=>{if(e)try{const w=await n.get(`/api/warehouse-links/${e.id}/links`);l(w.data)}catch(w){console.error("Failed to load links:",w)}},x=async()=>{try{const w=await n.get("/api/seller/api-keys");c(w.data)}catch(w){console.error("Failed to load integrations:",w)}},b=async()=>{var w,C,_;if(!d){q.error(" ");return}g(!0);try{const P=await n.get(`/api/marketplace/${d}/warehouses`);h(P.data.warehouses||[]),((w=P.data.warehouses)==null?void 0:w.length)===0?q.error("  FBS   "):q.success(` ${P.data.warehouses.length} `)}catch(P){q.error(((_=(C=P.response)==null?void 0:C.data)==null?void 0:_.detail)||"  "),h([])}g(!1)},j=async w=>{var C,_;if(e)try{const P=u.find(O=>O.marketplace===d);await n.post(`/api/warehouse-links/${e.id}/links`,{integration_id:P.id,marketplace_name:d,marketplace_warehouse_id:w.id,marketplace_warehouse_name:w.name}),q.success(" "),v(),h([]),m("")}catch(P){q.error(((_=(C=P.response)==null?void 0:C.data)==null?void 0:_.detail)||"  ")}},k=async w=>{if(confirm(" ?"))try{await n.delete(`/api/warehouse-links/${e.id}/links/${w}`),q.success(" "),v()}catch{q.error("  ")}},N=async w=>{var C,_;w.preventDefault();try{e?(await n.put(`/api/warehouses/${e.id}`,s),q.success(" ")):(await n.post("/api/warehouses",s),q.success(" ")),r()}catch(P){q.error(((_=(C=P.response)==null?void 0:C.data)==null?void 0:_.detail)||" ")}};return a.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 z-50","data-testid":"warehouse-modal",children:a.jsxs("div",{className:"card-neon max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:e?" ":" "}),a.jsx("button",{onClick:t,className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:a.jsx(It,{size:24})})]}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsx("input",{type:"text",value:s.name,onChange:w=>i({...s,name:w.target.value}),className:"input-neon w-full",placeholder:"  ",required:!0,"data-testid":"warehouse-name-input"})]}),!e&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsxs("select",{value:s.type,onChange:w=>i({...s,type:w.target.value}),className:"input-neon w-full","data-testid":"warehouse-type-select",children:[a.jsx("option",{value:"main",children:""}),a.jsx("option",{value:"marketplace",children:""}),a.jsx("option",{value:"transit",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"text",value:s.address,onChange:w=>i({...s,address:w.target.value}),className:"input-neon w-full",placeholder:". , . , 10","data-testid":"warehouse-address-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("textarea",{value:s.comment,onChange:w=>i({...s,comment:w.target.value}),className:"input-neon w-full",rows:"3",placeholder:" ","data-testid":"warehouse-comment-input"})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsx("h4",{className:"text-mm-cyan uppercase text-sm mb-4",children:"//  "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:"   "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"  "})]}),a.jsx("input",{type:"checkbox",checked:s.transfer_stock,onChange:w=>i({...s,transfer_stock:w.target.checked}),className:"toggle-switch","data-testid":"transfer-stock-toggle"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:" "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"   "})]}),a.jsx("input",{type:"checkbox",checked:s.load_orders,onChange:w=>i({...s,load_orders:w.target.checked}),className:"toggle-switch","data-testid":"load-orders-toggle"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:"  "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"   "})]}),a.jsx("input",{type:"checkbox",checked:s.use_for_orders,onChange:w=>i({...s,use_for_orders:w.target.checked}),className:"toggle-switch","data-testid":"use-for-orders-toggle"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" "}),a.jsx("input",{type:"number",min:"1",max:"10",value:s.priority,onChange:w=>i({...s,priority:parseInt(w.target.value)||1}),className:"input-neon w-32","data-testid":"priority-input"}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-1",children:"//  =   (1, 2, 3...)"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:" FBO"}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"   FBO (FIFO)"})]}),a.jsx("input",{type:"checkbox",checked:s.fbo_accounting,onChange:w=>i({...s,fbo_accounting:w.target.checked}),className:"toggle-switch","data-testid":"fbo-accounting-toggle"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:"  "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"      "})]}),a.jsx("input",{type:"checkbox",checked:s.return_on_cancel!==void 0?s.return_on_cancel:!0,onChange:w=>i({...s,return_on_cancel:w.target.checked}),className:"toggle-switch","data-testid":"return-on-cancel-toggle"})]})]})]}),e&&a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsx("h4",{className:"text-mm-cyan uppercase text-sm mb-4",children:"//    "}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mb-4",children:"  FBS  ,    "}),o.length>0&&a.jsx("div",{className:"mb-4 space-y-2",children:o.map(w=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-mm-darker border border-mm-border",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-semibold text-sm",children:[a.jsx("span",{className:"text-mm-purple uppercase",children:w.marketplace_name}),"  ",w.marketplace_warehouse_name]}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:["ID: ",w.marketplace_warehouse_id]})]}),a.jsx("button",{type:"button",onClick:()=>k(w.id),className:"px-3 py-1 border border-mm-red text-mm-red hover:bg-mm-red/10 text-xs",children:""})]},w.id))}),a.jsxs("div",{className:"space-y-3 p-4 bg-mm-darker border border-mm-border",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 text-mm-text-tertiary uppercase",children:" 1: "}),a.jsxs("select",{value:d,onChange:w=>{m(w.target.value),h([])},className:"input-neon w-full text-sm","data-testid":"marketplace-select",children:[a.jsx("option",{value:"",children:"..."}),u.map(w=>a.jsx("option",{value:w.marketplace,children:w.name||w.marketplace.toUpperCase()},w.id))]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:b,disabled:!d||y,className:"btn-secondary w-full text-xs disabled:opacity-50","data-testid":"load-mp-warehouses-btn",children:y?"...":" 2:  "})})]}),p.length>0&&a.jsx("div",{className:"mt-3 max-h-48 overflow-y-auto border border-mm-border",children:p.map(w=>a.jsxs("button",{type:"button",onClick:()=>j(w),className:"w-full text-left px-3 py-2 hover:bg-mm-gray transition-colors border-b border-mm-border last:border-b-0","data-testid":`add-link-${w.id}`,children:[a.jsx("div",{className:"text-sm font-semibold",children:w.name}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary",children:[": ",w.type," | ID: ",w.id]})]},w.id))})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1","data-testid":"cancel-btn",children:""}),a.jsx("button",{type:"submit",className:"btn-primary flex-1","data-testid":"submit-btn",children:e?"":""})]})]})]})})}function KD(){const{api:e}=ye(),[t,r]=f.useState("fbs"),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,u]=f.useState([]),[c,d]=f.useState(!0),[m,p]=f.useState(!1),[h,y]=f.useState(!1),[g,v]=f.useState({product_id:"",quantity_change:"",reason:""}),[x,b]=f.useState({marketplace:"ozon",warehouse:"",products:[]}),[j,k]=f.useState([]);f.useEffect(()=>{w(),N()},[t]);const N=async()=>{try{const _=await e.get("/api/products");k(_.data)}catch(_){console.error("Failed to load products:",_)}},w=async()=>{d(!0);try{if(t==="fbs"){const _=await e.get("/api/inventory");s(_.data)}else if(t==="fbo"){const _=await e.get("/api/inventory/fbo");o(_.data)}else if(t==="history"){const _=await e.get("/api/inventory/history");u(_.data)}}catch(_){console.error("Failed to load data:",_)}d(!1)},C=async _=>{var P,O;_.preventDefault();try{await e.post(`/api/inventory/${g.product_id}/adjust`,{quantity_change:parseInt(g.quantity_change),reason:g.reason}),p(!1),v({product_id:"",quantity_change:"",reason:""}),w(),alert("Inventory adjusted successfully!")}catch(S){console.error("Failed to adjust inventory:",S),alert("Failed to adjust: "+(((O=(P=S.response)==null?void 0:P.data)==null?void 0:O.detail)||S.message))}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"Inventory & Stock"}),a.jsx("p",{className:"comment",children:"// Manage warehouse and stock levels"})]}),t==="fbs"&&a.jsx("button",{onClick:()=>y(!0),className:"btn-primary","data-testid":"create-fbo-shipment-button",children:"+ CREATE FBO SHIPMENT"})]}),a.jsxs("div",{className:"flex space-x-4 border-b border-mm-border",children:[a.jsx("button",{onClick:()=>r("fbs"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="fbs"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"FBS (Own Warehouse)"}),a.jsx("button",{onClick:()=>r("fbo"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="fbo"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"FBO (Marketplace Warehouses)"}),a.jsx("button",{onClick:()=>r("history"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="history"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"Movement History"})]}),t==="fbs"&&a.jsx("div",{children:c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):n.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(bt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No inventory records"}),a.jsx("p",{className:"comment",children:"// Add products first, then manage stock"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Total"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Reserved"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Available"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Alert"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),a.jsx("tbody",{children:n.map(_=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:_.sku}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:_.product_name||"N/A"}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:_.quantity}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-yellow",children:_.reserved}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:a.jsx("span",{className:_.available<=(_.alert_threshold||0)?"text-mm-red":"text-mm-green",children:_.available})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:_.alert_threshold||10}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsx("button",{onClick:()=>{v({...g,product_id:_.product_id}),p(!0)},className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors text-xs uppercase font-mono",children:"Adjust"})})]},_.id))})]})})})}),t==="fbo"&&a.jsx("div",{children:c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):i.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(bt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No FBO inventory"}),a.jsx("p",{className:"comment",children:"// FBO stock will appear here"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Marketplace"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Warehouse"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Quantity"})]})}),a.jsx("tbody",{children:i.map(_=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:_.sku}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:_.product_name||"N/A"}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-mono border border-mm-purple text-mm-purple",children:_.marketplace})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:_.warehouse_name}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-green",children:_.quantity})]},_.id))})]})})})}),t==="history"&&a.jsx("div",{children:c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):l.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No movement history"}),a.jsx("p",{className:"comment",children:"// All stock movements will be logged here"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Operation"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Change"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Reason"})]})}),a.jsx("tbody",{children:l.map(_=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(_.created_at).toLocaleString()}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:_.sku}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:_.product_name||"N/A"}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-mono border border-mm-cyan text-mm-cyan",children:_.operation_type})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:a.jsxs("span",{className:`flex items-center space-x-1 ${_.quantity_change>0?"text-mm-green":"text-mm-red"}`,children:[_.quantity_change>0?a.jsx(_l,{}):a.jsx(Sy,{}),a.jsxs("span",{children:[_.quantity_change>0?"+":"",_.quantity_change]})]})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:_.reason})]},_.id))})]})})})}),m&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"card-neon max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan",children:"ADJUST INVENTORY"}),a.jsx("button",{onClick:()=>p(!1),className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:""})]}),a.jsxs("form",{onSubmit:C,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Quantity Change"}),a.jsx("input",{type:"number",value:g.quantity_change,onChange:_=>v({...g,quantity_change:_.target.value}),className:"input-neon w-full",placeholder:"+100 or -50",required:!0}),a.jsx("p",{className:"comment text-xs mt-1",children:"// Use + for adding, - for removing"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Reason"}),a.jsx("textarea",{value:g.reason,onChange:_=>v({...g,reason:_.target.value}),className:"input-neon w-full",rows:"3",placeholder:"Reason for adjustment...",required:!0})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"ADJUST STOCK"}),a.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"card-neon max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan",children:"CREATE FBO SHIPMENT"}),a.jsx("button",{onClick:()=>y(!1),className:"text-mm-text-secondary hover:text-mm-red",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card-neon bg-mm-darker",children:[a.jsx("p",{className:"comment mb-3",children:"// Step 1: Select Warehouse"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Marketplace"}),a.jsxs("select",{value:x.marketplace,onChange:_=>b({...x,marketplace:_.target.value}),className:"input-neon w-full",children:[a.jsx("option",{value:"ozon",children:"Ozon"}),a.jsx("option",{value:"wb",children:"Wildberries"}),a.jsx("option",{value:"yandex",children:"Yandex.Market"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Warehouse"}),a.jsxs("select",{value:x.warehouse,onChange:_=>b({...x,warehouse:_.target.value}),className:"input-neon w-full",children:[a.jsx("option",{value:"",children:"Select warehouse"}),a.jsx("option",{value:"moscow",children:"Moscow - Khoruzhino"}),a.jsx("option",{value:"spb",children:"Saint Petersburg"}),a.jsx("option",{value:"kazan",children:"Kazan"}),a.jsx("option",{value:"ekb",children:"Ekaterinburg"})]})]})]})]}),a.jsxs("div",{className:"card-neon bg-mm-darker",children:[a.jsx("p",{className:"comment mb-3",children:"// Step 2: Add Products to Shipment"}),a.jsx("div",{className:"space-y-2 mb-4",children:x.products.map((_,P)=>a.jsxs("div",{className:"flex items-center space-x-2 bg-mm-black p-2 border border-mm-border",children:[a.jsx("span",{className:"flex-1 font-mono text-sm",children:_.name}),a.jsx("span",{className:"text-mm-text-secondary",children:"Qty:"}),a.jsx("input",{type:"number",value:_.quantity,onChange:O=>{const S=[...x.products];S[P].quantity=parseInt(O.target.value)||0,b({...x,products:S})},className:"input-neon w-20",min:"1"}),a.jsx("button",{onClick:()=>{b({...x,products:x.products.filter((O,S)=>S!==P)})},className:"text-mm-red",children:""})]},P))}),a.jsxs("select",{onChange:_=>{const P=j.find(O=>O.id===_.target.value);P&&!x.products.find(O=>O.id===P.id)&&b({...x,products:[...x.products,{id:P.id,name:P.minimalmod.name,sku:P.sku,quantity:1}]}),_.target.value=""},className:"input-neon w-full",children:[a.jsx("option",{value:"",children:"+ Add product to shipment"}),j.map(_=>a.jsxs("option",{value:_.id,children:[_.sku," - ",_.minimalmod.name]},_.id))]})]}),x.products.length>0&&a.jsxs("div",{className:"card-neon bg-mm-darker",children:[a.jsx("p",{className:"comment mb-3",children:"// Step 3: Confirm Shipment"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"Total Items:"}),a.jsx("span",{className:"font-bold",children:x.products.reduce((_,P)=>_+P.quantity,0)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"Products:"}),a.jsx("span",{className:"font-bold",children:x.products.length})]})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:async()=>{var _,P;if(!x.warehouse){alert("Please select warehouse");return}if(x.products.length===0){alert("Please add products");return}try{const O=await e.post("/api/inventory/fbo-shipment",x);alert(O.data.message),y(!1),b({marketplace:"ozon",warehouse:"",products:[]}),w()}catch(O){alert("Failed to create shipment: "+(((P=(_=O.response)==null?void 0:_.data)==null?void 0:P.detail)||O.message))}},className:"btn-primary flex-1",disabled:!x.warehouse||x.products.length===0,children:"CREATE SHIPMENT"}),a.jsx("button",{onClick:()=>{y(!1),b({marketplace:"ozon",warehouse:"",products:[]})},className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})})]})}function a_(){const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState([]),[i,o]=f.useState(null),[l,u]=f.useState(!0),[c,d]=f.useState(!1),[m,p]=f.useState(null),[h,y]=f.useState(""),[g,v]=f.useState(""),[x,b]=f.useState("all"),[j,k]=f.useState({field:"sku",direction:"asc"}),[N,w]=f.useState(!1),[C,_]=f.useState(!1),[P,O]=f.useState(!1),[S,E]=f.useState([]),[M,A]=f.useState(null),[T,F]=f.useState([]),[U,L]=f.useState(null),[R,$]=f.useState(!1),G=f.useMemo(()=>{let H=[...t];if(g.trim()){const te=g.toLowerCase();H=H.filter(me=>me.sku.toLowerCase().includes(te)||me.product_name&&me.product_name.toLowerCase().includes(te))}return x==="in_stock"?H=H.filter(te=>te.quantity>0):x==="out_of_stock"&&(H=H.filter(te=>te.quantity===0)),N&&(H=H.filter(te=>te.quantity<te.alert_threshold)),C&&(H=H.filter(te=>te.reserved>0)),H.sort((te,me)=>{let be,z;return j.field==="name"?(be=te.product_name||"",z=me.product_name||""):j.field==="sku"?(be=te.sku||"",z=me.sku||""):j.field==="quantity"&&(be=te.quantity||0,z=me.quantity||0),j.direction==="asc"?be>z?1:-1:be<z?1:-1}),H},[t,g,x,j,N,C]),I=()=>{v(""),b("all"),k({field:"sku",direction:"asc"}),w(!1),_(!1)},X=H=>{k(te=>({field:H,direction:te.field===H&&te.direction==="asc"?"desc":"asc"}))};f.useEffect(()=>{(async()=>{await Z(),await Y(),i&&await D()})()},[]),f.useEffect(()=>{i&&D()},[i]);const Z=async()=>{try{const te=(await e.get("/api/warehouses")).data;s(te);const me=localStorage.getItem("selectedWarehouseId");if(me){const be=te.find(z=>z.id===me);be?o(be):te.length>0&&o(te[0])}else te.length>0&&o(te[0])}catch(H){q.error("  "),console.error(H)}},D=async()=>{u(!0);try{const H=await e.get("/api/inventory/fbs");r(H.data)}catch(H){q.error("  "),console.error(H)}u(!1)},Y=async()=>{try{const H=await e.post("/api/inventory/sync-catalog");return console.log("Inventory synced:",H.data),H.data}catch(H){return console.error("Failed to sync inventory:",H),null}},ae=H=>{const te=n.find(me=>me.id===H);te&&(o(te),localStorage.setItem("selectedWarehouseId",H))},se=H=>{p(H.id),y(H.quantity.toString())},K=()=>{p(null),y("")},de=async H=>{var be,z,re,B;const te=parseInt(h,10);if(console.log("[SAVE STOCK]  :",{stock_id:H.id,product_id:H.product_id,sku:H.sku,editValue:h,parsedQuantity:te,selectedWarehouse:i}),isNaN(te)||te<0){console.error("[SAVE STOCK]   :",te),q.error(" ");return}if(!i){console.error("[SAVE STOCK]    "),q.error(" ");return}const me={product_id:H.product_id,article:H.sku,new_quantity:te,warehouse_id:i.id};console.log("[SAVE STOCK]     /api/inventory/update-stock:",me);try{const ne=await e.put("/api/inventory/update-stock",me);console.log("[SAVE STOCK]     :",ne.data),q.success(ne.data.message||" "),r(t.map(ie=>ie.id===H.id?{...ie,quantity:te,available:te-ie.reserved}:ie)),K()}catch(ne){console.error("[SAVE STOCK]   :",{message:ne.message,response:(be=ne.response)==null?void 0:be.data,status:(z=ne.response)==null?void 0:z.status}),q.error(((B=(re=ne.response)==null?void 0:re.data)==null?void 0:B.detail)||"  "),console.error(ne)}},fe=async()=>{u(!0);try{const H=await Y();H&&H.created>0?q.success(` ${H.created}    `):q.success(" "),await D()}catch(H){q.error("  "),console.error(H)}u(!1)},Q=async()=>{var H,te;if(!i){q.error("   ");return}if(confirm(`     "${i.name}"?`)){d(!0);try{const me=await e.post("/api/inventory/sync-all-stocks",{warehouse_id:i.id});q.success(me.data.message||" ")}catch(me){q.error(((te=(H=me.response)==null?void 0:H.data)==null?void 0:te.detail)||" "),console.error(me)}d(!1)}},_e=async()=>{try{const H=await e.get("/api/seller/api-keys");E(H.data),O(!0)}catch(H){q.error("  "),console.error(H)}},xe=async H=>{if(A(H),L(null),F([]),!!H)try{const te=await e.get(`/api/inventory/marketplace-warehouses/${H}`);F(te.data.warehouses||[])}catch(te){q.error("   "),console.error(te)}},Ae=async()=>{var H,te;if(!M||!U){q.error("   ");return}$(!0);try{const me=await e.post("/api/inventory/import-stocks-from-marketplace",{integration_id:M,marketplace_warehouse_id:U});q.success(me.data.message||" "),O(!1),await D()}catch(me){q.error(((te=(H=me.response)==null?void 0:H.data)==null?void 0:te.detail)||"  "),console.error(me)}$(!1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl text-mm-cyan uppercase mb-2","data-testid":"stocks-title",children:"  "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"      "})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:_e,className:"btn-secondary flex items-center space-x-2 text-sm","data-testid":"import-stocks-btn",children:[a.jsx(Wt,{}),a.jsx("span",{children:"  "})]}),a.jsxs("button",{onClick:fe,disabled:l,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50","data-testid":"sync-catalog-btn",children:[a.jsx(Ot,{className:l?"animate-spin":""}),a.jsx("span",{children:" "})]}),a.jsxs("button",{onClick:Q,disabled:!i||c,className:"btn-primary flex items-center space-x-2 disabled:opacity-50","data-testid":"sync-all-btn",children:[a.jsx(rr,{}),a.jsx("span",{children:c?"...":"   "})]}),a.jsxs("button",{onClick:D,disabled:l,className:"btn-secondary flex items-center space-x-2","data-testid":"refresh-btn",children:[a.jsx(Ot,{className:l?"animate-spin":""}),a.jsx("span",{children:""})]})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsxs("select",{value:(i==null?void 0:i.id)||"",onChange:H=>ae(H.target.value),className:"input-neon w-full max-w-md","data-testid":"warehouse-select",children:[a.jsx("option",{value:"",children:" ..."}),n.map(H=>a.jsxs("option",{value:H.id,children:[H.name," ",H.sends_stock?"( )":""]},H.id))]}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-2",children:i?` : ${i.name}.      .`:"     "})]}),i&&t.length>0&&a.jsxs("div",{className:"card-neon p-4 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsxs("div",{className:"flex-1 min-w-[250px]",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary uppercase mb-2",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-mm-text-tertiary"}),a.jsx("input",{type:"text",placeholder:"    ...",value:g,onChange:H=>v(H.target.value),className:"input-neon w-full pl-10","data-testid":"search-input"})]})]}),a.jsxs("div",{className:"min-w-[200px]",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary uppercase mb-2",children:""}),a.jsxs("select",{value:x,onChange:H=>b(H.target.value),className:"input-neon w-full","data-testid":"availability-filter",children:[a.jsx("option",{value:"all",children:" "}),a.jsx("option",{value:"in_stock",children:" "}),a.jsx("option",{value:"out_of_stock",children:"  "})]})]}),a.jsxs("div",{className:"min-w-[200px]",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary uppercase mb-2",children:""}),a.jsxs("select",{value:j.field,onChange:H=>X(H.target.value),className:"input-neon w-full","data-testid":"sort-select",children:[a.jsx("option",{value:"sku",children:" "}),a.jsx("option",{value:"name",children:" "}),a.jsx("option",{value:"quantity",children:" "})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer","data-testid":"critical-filter",children:[a.jsx("input",{type:"checkbox",checked:N,onChange:H=>w(H.target.checked),className:"w-4 h-4 bg-mm-dark border-mm-border rounded text-mm-cyan focus:ring-mm-cyan focus:ring-offset-0"}),a.jsx("span",{className:"text-sm text-mm-text-secondary",children:" "})]}),a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer","data-testid":"reserved-filter",children:[a.jsx("input",{type:"checkbox",checked:C,onChange:H=>_(H.target.checked),className:"w-4 h-4 bg-mm-dark border-mm-border rounded text-mm-cyan focus:ring-mm-cyan focus:ring-offset-0"}),a.jsx("span",{className:"text-sm text-mm-text-secondary",children:" "})]}),(g||x!=="all"||N||C||j.field!=="sku")&&a.jsxs("button",{onClick:I,className:"text-sm text-mm-cyan hover:text-mm-green transition-colors flex items-center space-x-1","data-testid":"reset-filters-btn",children:[a.jsx(It,{size:16}),a.jsx("span",{children:" "})]}),a.jsxs("div",{className:"ml-auto text-sm text-mm-text-tertiary",children:[": ",a.jsx("span",{className:"text-mm-cyan font-mono",children:G.length}),"  ",t.length]})]})]}),i?l?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16",children:[a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary",children:"     "})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:G.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:"7",className:"py-12 text-center",children:[a.jsx("p",{className:"text-mm-text-secondary",children:" ,  "}),a.jsx("button",{onClick:I,className:"mt-2 text-sm text-mm-cyan hover:underline",children:" "})]})}):G.map(H=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsxs("td",{className:"py-4 px-4",children:[H.product_image?a.jsx("img",{src:H.product_image,alt:H.product_name||H.sku,className:"w-12 h-12 object-cover rounded bg-mm-dark",onError:te=>{te.target.style.display="none",te.target.nextSibling.style.display="flex"}}):null,a.jsx("div",{className:"w-12 h-12 bg-mm-dark rounded flex items-center justify-center text-mm-text-secondary text-xs",style:{display:H.product_image?"none":"flex"},children:" "})]}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:H.sku}),a.jsx("td",{className:"py-4 px-4 text-sm",children:H.product_name||""}),a.jsx("td",{className:"py-4 px-4 text-center",children:m===H.id?a.jsx("input",{type:"number",value:h,onChange:te=>y(te.target.value),className:"input-neon w-24 text-center",autoFocus:!0,"data-testid":`edit-input-${H.sku}`}):a.jsx("span",{className:"font-mono font-bold",children:H.quantity})}),a.jsx("td",{className:"py-4 px-4 text-center font-mono text-mm-yellow",children:H.reserved}),a.jsx("td",{className:"py-4 px-4 text-center font-mono font-bold text-mm-green",children:H.available}),a.jsx("td",{className:"py-4 px-4 text-center",children:m===H.id?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("button",{onClick:()=>de(H),className:"text-mm-green hover:text-mm-cyan transition-colors","data-testid":`save-btn-${H.sku}`,children:a.jsx(Bt,{size:20})}),a.jsx("button",{onClick:K,className:"text-mm-red hover:text-mm-text-secondary transition-colors","data-testid":`cancel-btn-${H.sku}`,children:a.jsx(It,{size:20})})]}):a.jsx("button",{onClick:()=>se(H),className:"text-mm-cyan hover:text-mm-green transition-colors","data-testid":`edit-btn-${H.sku}`,children:a.jsx(ky,{size:18})})})]},H.id))})]})}):a.jsx("div",{className:"card-neon text-center py-16",children:a.jsx("p",{className:"text-mm-text-secondary text-lg",children:"     "})}),a.jsx("div",{className:"card-neon p-4 bg-mm-dark-secondary/30",children:a.jsxs("p",{className:"text-sm text-mm-text-secondary",children:[a.jsx("span",{className:"text-mm-cyan font-bold",children:" :"}),"       15 .    ,      ."]})}),P&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"card-neon max-w-md w-full p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase font-mono",children:"   "}),a.jsx("button",{onClick:()=>O(!1),className:"text-mm-text-secondary hover:text-mm-cyan transition-colors",children:a.jsx(It,{size:24})})]}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:"      "}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsxs("select",{value:M||"",onChange:H=>xe(H.target.value),className:"input-neon w-full",children:[a.jsx("option",{value:"",children:" ..."}),S.map(H=>a.jsxs("option",{value:H.id,children:[H.marketplace.toUpperCase()," - ",H.name||H.client_id]},H.id))]})]}),M&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsxs("select",{value:U||"",onChange:H=>L(H.target.value),className:"input-neon w-full",disabled:T.length===0,children:[a.jsx("option",{value:"",children:" ..."}),T.map(H=>a.jsx("option",{value:H.id,children:H.name},H.id))]}),T.length===0&&a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-2",children:" ..."})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>O(!1),className:"btn-secondary flex-1",disabled:R,children:""}),a.jsx("button",{onClick:Ae,disabled:!M||!U||R,className:"btn-primary flex-1 disabled:opacity-50",children:R?"...":""})]}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary space-y-1",children:[a.jsx("p",{children:"       "}),a.jsx("p",{children:"    "}),a.jsx("p",{children:"      "})]})]})})]})}function s_(){const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,u]=f.useState(null);f.useEffect(()=>{c()},[]);const c=async()=>{s(!0);try{const m=await e.get("/api/suppliers");r(m.data)}catch(m){q.error("  "),console.error(m)}s(!1)},d=async m=>{var p,h;if(confirm(`  "${m.name}"?`))try{await e.delete(`/api/suppliers/${m.id}`),q.success(" "),c()}catch(y){q.error(((h=(p=y.response)==null?void 0:p.data)==null?void 0:h.detail)||" ")}};return a.jsx("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan uppercase mb-2","data-testid":"suppliers-title",children:""}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"//  "})]}),a.jsxs("button",{onClick:()=>{u(null),o(!0)},className:"btn-primary flex items-center space-x-2","data-testid":"create-supplier-btn",children:[a.jsx(Or,{}),a.jsx("span",{children:" "})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16","data-testid":"empty-state",children:[a.jsx(ji,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-6",children:"//   "}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[a.jsx(Or,{className:"inline mr-2"})," "]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(m=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`supplier-row-${m.id}`,children:[a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ji,{className:"text-mm-cyan",size:20}),a.jsx("div",{className:"font-semibold",children:m.name})]})}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary",children:m.contact_person||""}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary font-mono",children:m.phone||""}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary font-mono",children:m.inn||""}),a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[a.jsx("button",{onClick:()=>{u(m),o(!0)},className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":`edit-supplier-${m.id}`,children:a.jsx(Ra,{size:16})}),a.jsx("button",{onClick:()=>d(m),className:"px-3 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors","data-testid":`delete-supplier-${m.id}`,children:a.jsx(hn,{size:16})})]})]},m.id))})]})}),i&&a.jsx(HD,{supplier:l,onClose:()=>{o(!1),u(null)},onSuccess:()=>{o(!1),u(null),c()}})]})})}function HD({supplier:e,onClose:t,onSuccess:r}){const{api:n}=ye(),[s,i]=f.useState({name:"",contact_person:"",phone:"",email:"",inn:"",address:"",comment:""});f.useEffect(()=>{e&&i({name:e.name||"",contact_person:e.contact_person||"",phone:e.phone||"",email:e.email||"",inn:e.inn||"",address:e.address||"",comment:e.comment||""})},[e]);const o=async l=>{var u,c;l.preventDefault();try{e?(await n.put(`/api/suppliers/${e.id}`,s),q.success(" ")):(await n.post("/api/suppliers",s),q.success(" ")),r()}catch(d){q.error(((c=(u=d.response)==null?void 0:u.data)==null?void 0:c.detail)||" ")}};return a.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 z-50","data-testid":"supplier-modal",children:a.jsxs("div",{className:"card-neon max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:e?" ":" "}),a.jsx("button",{onClick:t,className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:a.jsx(It,{size:24})})]}),a.jsxs("form",{onSubmit:o,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsx("input",{type:"text",value:s.name,onChange:l=>i({...s,name:l.target.value}),className:"input-neon w-full",placeholder:" ",required:!0,"data-testid":"supplier-name-input"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" "}),a.jsx("input",{type:"text",value:s.contact_person,onChange:l=>i({...s,contact_person:l.target.value}),className:"input-neon w-full",placeholder:" ","data-testid":"contact-person-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"tel",value:s.phone,onChange:l=>i({...s,phone:l.target.value}),className:"input-neon w-full",placeholder:"+7 (900) 123-45-67","data-testid":"phone-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Email"}),a.jsx("input",{type:"email",value:s.email,onChange:l=>i({...s,email:l.target.value}),className:"input-neon w-full",placeholder:"supplier@example.com","data-testid":"email-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"text",value:s.inn,onChange:l=>i({...s,inn:l.target.value}),className:"input-neon w-full",placeholder:"1234567890","data-testid":"inn-input"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"text",value:s.address,onChange:l=>i({...s,address:l.target.value}),className:"input-neon w-full",placeholder:". , . , 5","data-testid":"address-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("textarea",{value:s.comment,onChange:l=>i({...s,comment:l.target.value}),className:"input-neon w-full",rows:"3",placeholder:" ","data-testid":"comment-input"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1","data-testid":"cancel-btn",children:""}),a.jsx("button",{type:"submit",className:"btn-primary flex-1","data-testid":"submit-btn",children:e?"":""})]})]})]})})}function i_(){const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState("all");f.useEffect(()=>{l()},[i]);const l=async()=>{s(!0);try{const d=i!=="all"?`?status=${i}`:"",m=await e.get(`/api/income-orders${d}`);r(m.data)}catch(d){q.error(" "),console.error(d)}s(!1)},u=d=>d?new Date(d).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"",c=d=>d==="draft"?a.jsx("span",{className:"px-3 py-1 text-xs font-mono uppercase bg-mm-yellow/20 text-mm-yellow border border-mm-yellow",children:""}):d==="accepted"?a.jsx("span",{className:"px-3 py-1 text-xs font-mono uppercase bg-mm-green/20 text-mm-green border border-mm-green",children:""}):a.jsx("span",{className:"px-3 py-1 text-xs font-mono uppercase bg-mm-text-tertiary/20 text-mm-text-tertiary",children:d});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl text-mm-cyan uppercase mb-2","data-testid":"title",children:"  "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:" "})]}),a.jsxs(Jc,{to:"/income-orders/new",className:"btn-primary flex items-center space-x-2","data-testid":"create-btn",children:[a.jsx(Or,{}),a.jsx("span",{children:" "})]})]}),a.jsx("div",{className:"card-neon",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm text-mm-text-secondary uppercase",children:":"}),a.jsx("div",{className:"flex space-x-2",children:["all","draft","accepted"].map(d=>a.jsx("button",{onClick:()=>o(d),className:`px-4 py-2 text-xs font-mono uppercase border transition-colors ${i===d?"border-mm-cyan text-mm-cyan bg-mm-cyan/10":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":`filter-${d}`,children:d==="all"?"":d==="draft"?"":""},d))})]})}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16","data-testid":"empty-state",children:[a.jsx(bt,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-6",children:"   "}),a.jsxs(Jc,{to:"/income-orders/new",className:"btn-primary inline-flex items-center space-x-2",children:[a.jsx(Or,{}),a.jsx("span",{children:" "})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"-"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(d=>{var m;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${d.id}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:d.id.substring(0,8)}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary",children:u(d.created_at)}),a.jsx("td",{className:"py-4 px-4 text-sm",children:d.supplier_name||""}),a.jsx("td",{className:"py-4 px-4 text-sm",children:d.warehouse_name||""}),a.jsx("td",{className:"py-4 px-4 text-center font-mono text-sm",children:((m=d.items)==null?void 0:m.length)||0}),a.jsx("td",{className:"py-4 px-4 text-center font-mono text-sm text-mm-cyan font-bold",children:d.total_quantity||0}),a.jsx("td",{className:"py-4 px-4",children:c(d.status)}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsx(Jc,{to:`/income-orders/${d.id}/edit`,className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors inline-flex items-center","data-testid":`edit-order-${d.id}`,children:a.jsx(Ra,{size:16})})})]},d.id)})})]})})]})}function o_(){const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState({marketplace:"",status:""});f.useEffect(()=>{l()},[i]);const l=async()=>{s(!0);try{const c=new URLSearchParams;i.marketplace&&c.append("marketplace",i.marketplace),i.status&&c.append("status",i.status);const d=await e.get(`/api/stock-sync/history?${c}`);r(d.data)}catch(c){q.error("  "),console.error(c)}s(!1)},u=c=>c?new Date(c).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl text-mm-cyan uppercase mb-2",children:"  "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"    "})]}),a.jsxs("button",{onClick:l,className:"btn-secondary flex items-center space-x-2","data-testid":"refresh-btn",children:[a.jsx(Ot,{}),a.jsx("span",{children:""})]})]}),a.jsx("div",{className:"card-neon",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(_y,{className:"text-mm-cyan"}),a.jsxs("select",{value:i.marketplace,onChange:c=>o({...i,marketplace:c.target.value}),className:"input-neon text-sm",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"ozon",children:"Ozon"}),a.jsx("option",{value:"wb",children:"Wildberries"}),a.jsx("option",{value:"yandex",children:"Yandex"})]}),a.jsxs("select",{value:i.status,onChange:c=>o({...i,status:c.target.value}),className:"input-neon text-sm",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"success",children:""}),a.jsx("option",{value:"failed",children:""})]})]})}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16",children:[a.jsx(Ot,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary",children:"    "})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:" "}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-center py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(c=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-3 px-3 font-mono text-xs text-mm-text-secondary",children:u(c.synced_at)}),a.jsx("td",{className:"py-3 px-3",children:a.jsx("span",{className:"px-2 py-1 text-xs font-mono uppercase bg-mm-purple/20 text-mm-purple border border-mm-purple",children:c.marketplace})}),a.jsx("td",{className:"py-3 px-3 font-mono text-xs text-mm-text-secondary",children:c.marketplace_warehouse_id}),a.jsx("td",{className:"py-3 px-3 font-mono text-xs text-mm-cyan",children:c.product_article}),a.jsx("td",{className:"py-3 px-3 text-center font-mono font-bold text-mm-green",children:c.quantity_sent}),a.jsx("td",{className:"py-3 px-3",children:c.status==="success"?a.jsxs("span",{className:"flex items-center text-mm-green text-xs",children:[a.jsx(Bt,{className:"mr-1"}),""]}):a.jsxs("span",{className:"flex items-center text-mm-red text-xs",children:[a.jsx(It,{className:"mr-1"}),""]})}),a.jsx("td",{className:"py-3 px-3 text-xs text-mm-red",children:c.error_message||""})]},c.id))})]})})]})}function VD(){const[e,t]=f.useState("warehouses");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex space-x-4 border-b border-mm-border overflow-x-auto",children:[a.jsxs("button",{onClick:()=>t("warehouses"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="warehouses"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-warehouses",children:[a.jsx(wi,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("suppliers"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="suppliers"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-suppliers",children:[a.jsx(ji,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("income"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="income"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-income",children:[a.jsx(Wt,{className:"inline mr-2"}),"  "]}),a.jsxs("button",{onClick:()=>t("stock"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="stock"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-stock",children:[a.jsx(dh,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("inventory"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="inventory"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-inventory",children:[a.jsx(DD,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("sync"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="sync"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-sync",children:[a.jsx(Wk,{className:"inline mr-2"}),""]})]}),a.jsxs("div",{children:[e==="warehouses"&&a.jsx(n_,{}),e==="suppliers"&&a.jsx(s_,{}),e==="income"&&a.jsx(i_,{}),e==="stock"&&a.jsx(a_,{}),e==="inventory"&&a.jsx(KD,{}),e==="sync"&&a.jsx(o_,{})]})]})}function qD(){const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState("all");f.useEffect(()=>{l()},[i]);const l=async()=>{try{s(!0);const d=await e.get("/api/sync/logs",{params:{status:i!=="all"?i:void 0}});r(d.data.logs||[])}catch(d){console.error("Failed to load sync logs:",d),r([])}finally{s(!1)}},u=d=>{switch(d){case"success":return a.jsx(Bt,{className:"w-5 h-5 text-green-400"});case"error":return a.jsx(It,{className:"w-5 h-5 text-red-400"});case"pending":return a.jsx(Gn,{className:"w-5 h-5 text-yellow-400"});default:return a.jsx(Un,{className:"w-5 h-5 text-gray-400"})}},c=d=>{const m={success:"bg-green-500/20 text-green-400 border-green-500/30",error:"bg-red-500/20 text-red-400 border-red-500/30",pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"};return a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${m[d]||"bg-gray-500/20 text-gray-400"}`,children:d==="success"?"":d==="error"?"":" "})};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Ot,{className:"w-8 h-8 animate-spin text-mm-cyan"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"      "})]}),a.jsxs("button",{onClick:l,className:"px-4 py-2 bg-mm-secondary text-mm-text border border-mm-border rounded hover:border-mm-cyan transition-colors flex items-center gap-2",children:[a.jsx(Ot,{className:"w-4 h-4"}),""]})]}),a.jsx("div",{className:"flex gap-2",children:["all","success","error"].map(d=>a.jsx("button",{onClick:()=>o(d),className:`px-4 py-2 rounded transition-colors ${i===d?"bg-mm-cyan text-mm-dark font-medium":"bg-mm-secondary text-mm-text hover:border-mm-cyan border border-mm-border"}`,children:d==="all"?"":d==="success"?"":""},d))}),a.jsx("div",{className:"bg-mm-secondary rounded-lg border border-mm-border overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-mm-dark",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:"/"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""})]})}),a.jsx("tbody",{children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"px-4 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(Gn,{className:"w-12 h-12 text-mm-text-secondary opacity-50"}),a.jsx("p",{className:"text-mm-text-secondary",children:"   "}),a.jsx("p",{className:"text-sm text-mm-text-secondary opacity-70",children:"        "})]})})}):t.map((d,m)=>a.jsxs("tr",{className:"border-t border-mm-border hover:bg-mm-dark/30 transition-colors",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:new Date(d.timestamp).toLocaleString("ru-RU")}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsx("span",{className:"px-2 py-1 bg-mm-dark rounded text-xs text-mm-cyan",children:d.type==="product"?"":d.type==="price"?"":d.type})}),a.jsxs("td",{className:"px-4 py-3 text-sm",children:[d.marketplace==="ozon"&&a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"O"}),a.jsx("span",{className:"text-mm-text",children:"Ozon"})]}),d.marketplace==="wb"&&a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"w-6 h-6 bg-purple-600 text-white rounded flex items-center justify-center text-xs font-bold",children:"WB"}),a.jsx("span",{className:"text-mm-text",children:"Wildberries"})]})]}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-sm text-mm-text font-mono",children:d.product_article}),a.jsx("div",{className:"text-xs text-mm-text-secondary truncate max-w-xs",children:d.product_name})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[u(d.status),c(d.status)]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text-secondary max-w-md truncate",children:d.message||d.error||""})]},m))})]})}),a.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Un,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-blue-300",children:[a.jsx("p",{className:"font-medium mb-1",children:"  "}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-300/80",children:[a.jsx("li",{children:"      "}),a.jsx("li",{children:"       "}),a.jsx("li",{children:"     "})]})]})]})})]})}function l_(){const{api:e}=ye(),[t,r]=f.useState("products"),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,u]=f.useState([]),[c,d]=f.useState(!0),[m,p]=f.useState(""),[h,y]=f.useState(""),[g,v]=f.useState(""),[x,b]=f.useState(""),[j,k]=f.useState(!1),[N,w]=f.useState(1),[C,_]=f.useState("created_at"),[P,O]=f.useState(!1);f.useEffect(()=>{S(),E()},[m,h,g,x,N,C,P]);const S=async()=>{try{const T=await e.get("/api/catalog/categories");u(T.data)}catch(T){console.error("Failed to load categories:",T)}},E=async()=>{try{d(!0);const T={page:N,limit:50,sort_by:C,ascending:P};m&&(T.search=m),h&&(T.category_id=h),g&&(T.brand=g),x&&(T.status=x);const U=(await e.get("/api/catalog/products",{params:T})).data;s(U);const L=await Promise.all(U.map(async R=>{try{const G=(await e.get(`/api/catalog/products/${R.id}/photos`)).data;return{...R,firstPhoto:G.length>0?G[0].url:null}}catch($){return console.error(`Failed to load photos for product ${R.id}:`,$),{...R,firstPhoto:null}}}));o(L)}catch(T){console.error("Failed to load products:",T)}finally{d(!1)}},M=async T=>{if(window.confirm(" ,      ?    ."))try{await e.delete(`/api/catalog/products/${T}`),E()}catch(F){alert("   : "+F.message)}},A=T=>{const F={active:a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-green-500/20 text-green-400",children:""}),draft:a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-yellow-500/20 text-yellow-400",children:""}),archived:a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-gray-500/20 text-gray-400",children:""})};return F[T]||F.draft};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:""}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:" "})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:()=>window.location.href="/catalog/products/new",className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center gap-2",children:[a.jsx(Or,{}),"  "]})})]}),a.jsx("div",{className:"border-b border-mm-border mb-6",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{onClick:()=>r("products"),className:`px-6 py-3 font-medium transition-colors relative ${t==="products"?"text-mm-cyan":"text-mm-text-secondary hover:text-mm-text"}`,children:[" ",t==="products"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-mm-cyan"})]}),a.jsxs("button",{onClick:()=>r("sync"),className:`px-6 py-3 font-medium transition-colors relative ${t==="sync"?"text-mm-cyan":"text-mm-text-secondary hover:text-mm-text"}`,children:["",t==="sync"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-mm-cyan"})]})]})}),t==="sync"?a.jsx(qD,{}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-mm-text-secondary"}),a.jsx("input",{type:"text",placeholder:"  , , -...",value:m,onChange:T=>p(T.target.value),className:"w-full pl-10 pr-4 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("button",{onClick:()=>k(!j),className:`px-4 py-2 rounded flex items-center gap-2 ${j?"bg-mm-cyan text-mm-dark":"bg-mm-dark text-mm-text hover:bg-mm-dark/80"}`,children:[a.jsx(_y,{})," "]})]}),j&&a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsxs("select",{value:h,onChange:T=>y(T.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[a.jsx("option",{value:"",children:" "}),l.map(T=>a.jsx("option",{value:T.id,children:T.name},T.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsx("input",{type:"text",value:g,onChange:T=>v(T.target.value),placeholder:"  ",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsxs("select",{value:x,onChange:T=>b(T.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"draft",children:""}),a.jsx("option",{value:"archived",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsxs("select",{value:C,onChange:T=>_(T.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[a.jsx("option",{value:"created_at",children:"  "}),a.jsx("option",{value:"name",children:" "}),a.jsx("option",{value:"article",children:" "})]})]})]})]}),c?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-mm-cyan"}),a.jsx("p",{className:"text-mm-text-secondary mt-4",children:" ..."})]}):i.length===0?a.jsxs("div",{className:"text-center py-12 bg-mm-secondary rounded-lg",children:[a.jsx(bt,{className:"mx-auto text-6xl text-mm-text-secondary mb-4"}),a.jsx("p",{className:"text-mm-text-secondary text-lg",children:" "}),a.jsx("p",{className:"text-mm-text-secondary text-sm mt-2",children:"     "}),a.jsx("button",{onClick:()=>window.location.href="/catalog/products/new",className:"mt-4 px-6 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded",children:" "})]}):a.jsx("div",{className:"bg-mm-secondary rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-mm-dark border-b border-mm-border",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-mm-border",children:i.map(T=>a.jsxs("tr",{className:"hover:bg-mm-dark/50 transition",children:[a.jsxs("td",{className:"px-4 py-3",children:[T.firstPhoto?a.jsx("img",{src:T.firstPhoto,alt:T.name,className:"w-12 h-12 object-cover rounded bg-mm-dark",onError:F=>{F.target.style.display="none",F.target.nextSibling.style.display="flex"}}):null,a.jsx("div",{className:"w-12 h-12 bg-mm-dark rounded flex items-center justify-center",style:{display:T.firstPhoto?"none":"flex"},children:a.jsx(bt,{className:"text-mm-text-secondary"})})]}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text font-mono",children:T.article}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-sm text-mm-text",children:T.name}),T.description&&a.jsx("div",{className:"text-xs text-mm-text-secondary mt-1 truncate max-w-xs",children:T.description})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex items-center gap-1",children:(()=>{var L,R,$,G,I,X,Z,D;const F=T.marketplace_specific_data||T.marketplace_data||{},U=[];return((L=F.ozon)!=null&&L.product_id||(R=F.ozon)!=null&&R.offer_id||($=F.ozon)!=null&&$.id)&&U.push(a.jsx("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-[10px] font-bold",title:"Ozon ()",children:"O"},"ozon")),((G=F.wb)!=null&&G.nm_id||(I=F.wb)!=null&&I.id||(X=F.wb)!=null&&X.vendor_code)&&U.push(a.jsx("div",{className:"w-6 h-6 bg-purple-600 text-white rounded flex items-center justify-center text-[9px] font-bold",title:"Wildberries ()",children:"WB"},"wb")),((Z=F.yandex)!=null&&Z.offer_id||(D=F.yandex)!=null&&D.shop_sku)&&U.push(a.jsx("div",{className:"w-6 h-6 bg-red-500 text-white rounded flex items-center justify-center text-[10px] font-bold",title:". ()",children:""},"yandex")),U.length>0?U:a.jsx("span",{className:"text-xs text-mm-text-secondary",children:""})})()})}),a.jsx("td",{className:"px-4 py-3",children:T.price_discounted?a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-mm-cyan font-bold text-base",children:[(T.price_discounted/100).toFixed(2)," "]}),a.jsxs("span",{className:"text-mm-text-secondary text-xs line-through",children:[(T.price/100).toFixed(2)," "]})]}):T.price>0?a.jsxs("span",{className:"text-mm-text text-sm",children:[(T.price/100).toFixed(2)," "]}):a.jsx("span",{className:"text-mm-text-secondary text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:T.brand||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:T.category_name||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-mm-cyan",children:T.variants_count}),T.is_grouped&&a.jsx("span",{className:"text-xs text-mm-text-secondary",children:"(.)"})]})}),a.jsx("td",{className:"px-4 py-3",children:A(T.status)}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>window.location.href=`/catalog/products/${T.id}/edit`,className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded transition",title:"",children:a.jsx(Ra,{})}),a.jsx("button",{onClick:()=>M(T.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded transition",title:" ",children:a.jsx(hn,{})})]})})]},T.id))})]})}),i.length>0&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-mm-text-secondary",children:[" : ",i.length]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>w(Math.max(1,N-1)),disabled:N===1,className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:""}),a.jsxs("span",{className:"px-4 py-2 bg-mm-dark rounded text-mm-text",children:[" ",N]}),a.jsx("button",{onClick:()=>w(N+1),disabled:i.length<50,className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})]})]})}function YD(){const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{try{const u=await e.get("/api/admin/users");r(u.data)}catch(u){console.error("Failed to load users:",u)}s(!1)},o=async u=>{try{await e.put(`/api/admin/users/${u}/approve`),i()}catch(c){console.error("Failed to approve:",c)}},l=async u=>{try{await e.put(`/api/admin/users/${u}/block`),i()}catch(c){console.error("Failed to block:",c)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl mb-4 text-mm-cyan",children:" "}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Email"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Name"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Role"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Status"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Actions"})]})}),a.jsx("tbody",{children:t.map(u=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:u.email}),a.jsx("td",{className:"py-4 px-4",children:u.full_name}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:u.role==="admin"?"status-active":"status-new",children:u.role})}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:u.is_active?"status-active":"status-pending",children:u.is_active?"ACTIVE":"PENDING"})}),a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[!u.is_active&&u.role==="seller"&&a.jsx("button",{onClick:()=>o(u.id),className:"px-3 py-1 border border-mm-green text-mm-green text-xs",children:"APPROVE"}),u.is_active&&u.role==="seller"&&a.jsx("button",{onClick:()=>l(u.id),className:"px-3 py-1 border border-mm-red text-mm-red text-xs",children:"BLOCK"})]})]},u.id))})]})})]})}function GD(){const{user:e,logout:t}=ye(),[r,n]=f.useState("sellers");return a.jsxs("div",{className:"min-h-screen bg-mm-black",children:[a.jsx("header",{className:"border-b border-mm-border bg-mm-darker",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h1",{className:"text-2xl font-bold",children:["MINIMAL",a.jsx("span",{className:"text-mm-purple",children:"MOD"})," ",a.jsx("span",{className:"status-active",children:"ADMIN"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-mm-text-secondary",children:e==null?void 0:e.email}),a.jsx(Jk,{}),a.jsx("button",{onClick:t,className:"btn-primary",children:"LOGOUT"})]})]})})}),a.jsx("nav",{className:"border-b border-mm-border bg-mm-dark",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsxs("div",{className:"flex space-x-6 h-12 overflow-x-auto",children:[a.jsxs("button",{onClick:()=>n("sellers"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="sellers"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-sellers",children:[a.jsx(BD,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("api-keys"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="api-keys"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-integrations",children:[a.jsx(Yk,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("warehouses"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="warehouses"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-warehouses",children:[a.jsx(wi,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("products"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="products"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-products",children:[a.jsx(bt,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("orders"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="orders"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-orders",children:[a.jsx(fh,{className:"inline mr-2"}),"ORDERS"]}),a.jsxs("button",{onClick:()=>n("finance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="finance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-finance",children:[a.jsx(Gk,{className:"inline mr-2"}),"FINANCE"]}),a.jsxs("button",{onClick:()=>n("balance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="balance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-balance",children:[a.jsx(_s,{className:"inline mr-2"}),"BALANCE"]})]})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[r==="sellers"&&a.jsx(YD,{}),r==="api-keys"&&a.jsx(e_,{}),r==="warehouses"&&a.jsx(VD,{}),r==="products"&&a.jsx(l_,{}),r==="orders"&&a.jsx(UD,{}),r==="finance"&&a.jsx(t_,{}),r==="balance"&&a.jsx(r_,{})]})]})}function XD(){const{api:e}=ye(),[t,r]=f.useState({}),[n,s]=f.useState({}),[i,o]=f.useState(null);f.useEffect(()=>{l()},[]);const l=async()=>{try{const m=await e.get("/api/admin/categories/preload/status");s(m.data)}catch(m){console.error("Failed to load status:",m),o("  ")}},u=async m=>{var p,h;r({...t,[m]:!0}),o(null);try{const y=await e.post(`/api/admin/categories/preload?marketplace=${m}`);alert(` ${y.data.message}`),setTimeout(()=>{l()},3e3)}catch(y){console.error(`Failed to preload ${m}:`,y);const g=((h=(p=y.response)==null?void 0:p.data)==null?void 0:h.detail)||y.message;alert(`   ${m}: ${g}`),o(g)}finally{r({...t,[m]:!1})}},c=[{id:"ozon",name:"Ozon",color:"blue",description:"   Ozon"},{id:"wb",name:"Wildberries",color:"purple",description:"   WB"},{id:"yandex",name:" ",color:"yellow",description:"  "}],d=m=>m?new Date(m).toLocaleString("ru-RU"):"";return a.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),a.jsx("p",{className:"text-gray-600",children:"          "})]}),i&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-start gap-3",children:[a.jsx(Un,{className:"text-red-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-800 font-medium",children:""}),a.jsx("p",{className:"text-red-600 text-sm",children:i})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"   ?"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"       "}),a.jsx("li",{children:"        "}),a.jsx("li",{children:"          "}),a.jsx("li",{children:"   1-3     "})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.map(m=>{const p=n[m.id]||{},h=p.total_categories>0,y=p.last_updated;return a.jsxs("div",{className:`bg-white border-2 border-${m.color}-200 rounded-lg p-6 shadow-sm`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`text-lg font-bold text-${m.color}-700`,children:m.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description})]}),h&&a.jsx(Bt,{className:"text-green-600 text-xl flex-shrink-0"})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:" :"}),a.jsx("span",{className:"font-bold text-gray-900",children:p.total_categories||0})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:" :"}),a.jsx("span",{className:"font-medium text-gray-700 text-xs",children:d(y)})]})]}),a.jsx("button",{onClick:()=>u(m.id),disabled:t[m.id],className:`w-full py-2 px-4 rounded-lg font-medium text-white transition-colors flex items-center justify-center gap-2 ${t[m.id]?`bg-${m.color}-300 cursor-not-allowed`:`bg-${m.color}-600 hover:bg-${m.color}-700`}`,children:t[m.id]?a.jsxs(a.Fragment,{children:[a.jsx(Ot,{className:"animate-spin"}),"..."]}):h?a.jsxs(a.Fragment,{children:[a.jsx(Ot,{})," "]}):a.jsxs(a.Fragment,{children:[a.jsx(Wt,{})," "]})})]},m.id)})}),a.jsxs("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-yellow-900 mb-2",children:" "}),a.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[a.jsx("li",{children:"      API  "}),a.jsx("li",{children:' ,       ""'}),a.jsx("li",{children:"    ,      "})]})]})]})}function QD(){const{id:e}=Kd(),t=Gr(),{api:r}=ye(),[n,s]=f.useState(!0),[i,o]=f.useState([]),[l,u]=f.useState(null),[c,d]=f.useState({sku:"",price:"",cogs:"",status:"draft",category_id:"",visibility:{show_on_minimalmod:!0,show_in_search:!0,is_featured:!1},seo:{meta_title:"",meta_description:"",url_slug:""},minimalmod:{name:"",variant_name:"",description:"",tags:[],images:[],attributes:{}},marketplaces:{images:[],ozon:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}},wildberries:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}},yandex_market:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}}}});f.useEffect(()=>{m(),e!=="new"?p():s(!1)},[e]);const m=async()=>{try{const x=await r.get("/api/admin/categories");o(x.data)}catch(x){console.error("Failed to load categories:",x)}},p=async()=>{try{const x=await r.get(`/api/products/${e}`);if(d(x.data),x.data.category_id){const b=i.find(j=>j.id===x.data.category_id);u(b)}}catch(x){console.error("Failed to load product:",x)}s(!1)},h=x=>{const b=i.find(j=>j.id===x);if(u(b),b&&b.attributes){const j={};b.attributes.forEach(k=>{j[k]=c.minimalmod.attributes[k]||""}),d({...c,category_id:x,minimalmod:{...c.minimalmod,attributes:j}})}else d({...c,category_id:x})},y=()=>{if(!l)return;const x=l.marketplace_mapping||{};if(c.marketplaces.ozon.enabled&&x.ozon){const b={};Object.entries(c.minimalmod.attributes).forEach(([j,k])=>{var w;const N=(w=x.ozon.attribute_mapping)==null?void 0:w[j];N&&k&&(b[N]=k)}),d({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,attributes:b}}})}alert("    !")},g=async()=>{var x,b;try{const j={...c,visibility:{...c.visibility,show_on_minimalmod:!0},status:"active"};e==="new"?await r.post("/api/products",j):await r.put(`/api/products/${e}`,j),alert("    MinimalMod!"),t(-1)}catch(j){alert(": "+(((b=(x=j.response)==null?void 0:x.data)==null?void 0:b.detail)||j.message))}},v=async()=>{var b,j;const x=[];if(c.marketplaces.ozon.enabled&&x.push("Ozon"),c.marketplaces.wildberries.enabled&&x.push("Wildberries"),c.marketplaces.yandex_market.enabled&&x.push("."),x.length===0){alert("    !");return}try{y(),e==="new"?await r.post("/api/products",c):await r.put(`/api/products/${e}`,c),alert(`  : ${x.join(", ")}!

      API  .`),t(-1)}catch(k){alert(": "+(((j=(b=k.response)==null?void 0:b.data)==null?void 0:j.detail)||k.message))}};return n?a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):a.jsxs("div",{className:"min-h-screen bg-mm-black",children:[a.jsx("header",{className:"border-b border-mm-border bg-mm-darker sticky top-0 z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold text-mm-cyan uppercase",children:e==="new"?" ":" "}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:g,className:"btn-primary",children:[a.jsx(rr,{className:"inline mr-2"}),"  "]}),a.jsxs("button",{onClick:v,className:"btn-secondary border-mm-green text-mm-green",children:[a.jsx(rr,{className:"inline mr-2"}),"  "]}),a.jsxs("button",{onClick:()=>t(-1),className:"btn-secondary",children:[a.jsx(It,{className:"inline mr-2"}),""]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"card-neon mb-6",children:[a.jsx("p",{className:"comment mb-3",children:"//      :"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center space-x-2 p-4 border-2 border-mm-border hover:border-mm-cyan transition-all cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:!0,disabled:!0,className:"w-5 h-5"}),a.jsx("span",{className:"font-mono text-mm-cyan",children:"  ()"})]}),a.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${c.marketplaces.ozon.enabled?"border-mm-blue bg-mm-blue/10":"border-mm-border hover:border-mm-blue"}`,children:[a.jsx("input",{type:"checkbox",checked:c.marketplaces.ozon.enabled,onChange:x=>d({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,enabled:x.target.checked}}}),className:"w-5 h-5"}),a.jsx("span",{className:`font-mono ${c.marketplaces.ozon.enabled?"text-mm-blue":"text-mm-text-secondary"}`,children:" OZON"})]}),a.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${c.marketplaces.wildberries.enabled?"border-mm-purple bg-mm-purple/10":"border-mm-border hover:border-mm-purple"}`,children:[a.jsx("input",{type:"checkbox",checked:c.marketplaces.wildberries.enabled,onChange:x=>d({...c,marketplaces:{...c.marketplaces,wildberries:{...c.marketplaces.wildberries,enabled:x.target.checked}}}),className:"w-5 h-5"}),a.jsx("span",{className:`font-mono ${c.marketplaces.wildberries.enabled?"text-mm-purple":"text-mm-text-secondary"}`,children:" WILDBERRIES"})]}),a.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${c.marketplaces.yandex_market.enabled?"border-mm-yellow bg-mm-yellow/10":"border-mm-border hover:border-mm-yellow"}`,children:[a.jsx("input",{type:"checkbox",checked:c.marketplaces.yandex_market.enabled,onChange:x=>d({...c,marketplaces:{...c.marketplaces,yandex_market:{...c.marketplaces.yandex_market,enabled:x.target.checked}}}),className:"w-5 h-5"}),a.jsx("span",{className:`font-mono ${c.marketplaces.yandex_market.enabled?"text-mm-yellow":"text-mm-text-secondary"}`,children:" ."})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:" "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"SKU *"}),a.jsx("input",{type:"text",value:c.sku,onChange:x=>d({...c,sku:x.target.value}),className:"input-neon w-full",placeholder:"PRODUCT-123"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsx("input",{type:"number",step:"0.01",value:c.price,onChange:x=>d({...c,price:x.target.value}),className:"input-neon w-full"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsx("input",{type:"text",value:c.minimalmod.name,onChange:x=>d({...c,minimalmod:{...c.minimalmod,name:x.target.value}}),className:"input-neon w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsxs("select",{value:c.category_id||"",onChange:x=>h(x.target.value),className:"input-neon w-full",children:[a.jsx("option",{value:"",children:" "}),i.map(x=>a.jsx("option",{value:x.id,children:x.name},x.id))]}),a.jsx("p",{className:"comment text-xs mt-1",children:"//     "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("textarea",{value:c.minimalmod.description,onChange:x=>d({...c,minimalmod:{...c.minimalmod,description:x.target.value}}),className:"input-neon w-full",rows:"6"})]})]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsxs("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:[a.jsx(mh,{className:"inline mr-2"}),"   ( 8 )"]}),a.jsxs("div",{className:"space-y-2",children:[c.minimalmod.images.map((x,b)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[x&&a.jsx("img",{src:x,alt:"",className:"w-16 h-16 object-cover border border-mm-border"}),a.jsx("input",{type:"text",value:x,onChange:j=>{const k=[...c.minimalmod.images];k[b]=j.target.value,d({...c,minimalmod:{...c.minimalmod,images:k}})},className:"input-neon flex-1",placeholder:"https://example.com/image.jpg"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`file-mm-${b}`,onChange:j=>{const k=j.target.files[0];if(k){const N=new FileReader;N.onload=w=>{const C=[...c.minimalmod.images];C[b]=w.target.result,d({...c,minimalmod:{...c.minimalmod,images:C}})},N.readAsDataURL(k)}}}),a.jsx("label",{htmlFor:`file-mm-${b}`,className:"btn-secondary px-3 py-2 cursor-pointer",children:""}),a.jsx("button",{onClick:()=>{d({...c,minimalmod:{...c.minimalmod,images:c.minimalmod.images.filter((j,k)=>k!==b)}})},className:"text-mm-red hover:text-mm-red/80 text-xl",children:""})]},b)),c.minimalmod.images.length<8&&a.jsx("button",{onClick:()=>d({...c,minimalmod:{...c.minimalmod,images:[...c.minimalmod.images,""]}}),className:"btn-secondary w-full",children:"+  "})]})]}),a.jsxs("div",{className:"card-neon border-2 border-mm-purple",children:[a.jsxs("h3",{className:"text-xl mb-4 text-mm-purple uppercase",children:[a.jsx(mh,{className:"inline mr-2"}),"   ( 10 ,  3:4)"]}),a.jsx("p",{className:"comment mb-3",children:"//     Ozon, Wildberries, ."}),a.jsxs("div",{className:"space-y-2",children:[c.marketplaces.images.map((x,b)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[x&&a.jsx("img",{src:x,alt:"",className:"w-16 h-16 object-cover border border-mm-border"}),a.jsx("input",{type:"text",value:x,onChange:j=>{const k=[...c.marketplaces.images];k[b]=j.target.value,d({...c,marketplaces:{...c.marketplaces,images:k}})},className:"input-neon flex-1",placeholder:"https://example.com/marketplace-image.jpg"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`file-mp-${b}`,onChange:j=>{const k=j.target.files[0];if(k){const N=new FileReader;N.onload=w=>{const C=[...c.marketplaces.images];C[b]=w.target.result,d({...c,marketplaces:{...c.marketplaces,images:C}})},N.readAsDataURL(k)}}}),a.jsx("label",{htmlFor:`file-mp-${b}`,className:"btn-secondary px-3 py-2 cursor-pointer",children:""}),a.jsx("button",{onClick:()=>d({...c,marketplaces:{...c.marketplaces,images:c.marketplaces.images.filter((j,k)=>k!==b)}}),className:"text-mm-red hover:text-mm-red/80 text-xl",children:""})]},b)),c.marketplaces.images.length<10&&a.jsx("button",{onClick:()=>d({...c,marketplaces:{...c.marketplaces,images:[...c.marketplaces.images,""]}}),className:"btn-secondary w-full",children:"+  "})]}),a.jsx("p",{className:"comment text-xs mt-3",children:"//  : 3:4 (, 900x1200px)"})]}),l&&l.attributes&&a.jsxs("div",{className:"card-neon",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:""}),a.jsxs("button",{onClick:y,className:"btn-secondary text-xs",children:[a.jsx(Bt,{className:"inline mr-1"}),"  "]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.attributes.map(x=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:x}),a.jsx("input",{type:"text",value:c.minimalmod.attributes[x]||"",onChange:b=>d({...c,minimalmod:{...c.minimalmod,attributes:{...c.minimalmod.attributes,[x]:b.target.value}}}),className:"input-neon w-full",placeholder:` ${x}`})]},x))}),a.jsx("p",{className:"comment text-xs mt-3",children:'//   ,   ""     '})]}),c.marketplaces.ozon.enabled&&a.jsxs("div",{className:"card-neon border-2 border-mm-blue",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-blue uppercase",children:" OZON "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  Ozon"}),a.jsx("input",{type:"number",step:"0.01",value:c.marketplaces.ozon.price,onChange:x=>d({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,price:x.target.value}}}),className:"input-neon w-full",placeholder:"   Ozon"}),a.jsx("p",{className:"comment text-xs mt-1",children:"//  ,    "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  Ozon"}),a.jsx("textarea",{value:c.marketplaces.ozon.description,onChange:x=>d({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,description:x.target.value}}}),className:"input-neon w-full",rows:"4",placeholder:"  Ozon (   )"}),a.jsx("p",{className:"comment text-xs mt-1",children:"//  ,    "})]})]})]}),c.marketplaces.wildberries.enabled&&a.jsxs("div",{className:"card-neon border-2 border-mm-purple",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-purple uppercase",children:" WILDBERRIES "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  WB"}),a.jsx("input",{type:"number",step:"0.01",value:c.marketplaces.wildberries.price,onChange:x=>d({...c,marketplaces:{...c.marketplaces,wildberries:{...c.marketplaces.wildberries,price:x.target.value}}}),className:"input-neon w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  WB"}),a.jsx("textarea",{value:c.marketplaces.wildberries.description,onChange:x=>d({...c,marketplaces:{...c.marketplaces,wildberries:{...c.marketplaces.wildberries,description:x.target.value}}}),className:"input-neon w-full",rows:"4"})]})]})]}),c.marketplaces.yandex_market.enabled&&a.jsxs("div",{className:"card-neon border-2 border-mm-yellow",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-yellow uppercase",children:" . "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsx("input",{type:"number",step:"0.01",value:c.marketplaces.yandex_market.price,onChange:x=>d({...c,marketplaces:{...c.marketplaces,yandex_market:{...c.marketplaces.yandex_market,price:x.target.value}}}),className:"input-neon w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsx("textarea",{value:c.marketplaces.yandex_market.description,onChange:x=>d({...c,marketplaces:{...c.marketplaces,yandex_market:{...c.marketplaces.yandex_market,description:x.target.value}}}),className:"input-neon w-full",rows:"4"})]})]})]})]}),a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-lg mb-4 text-mm-cyan uppercase",children:""}),a.jsxs("select",{value:c.status,onChange:x=>d({...c,status:x.target.value}),className:"input-neon w-full",children:[a.jsx("option",{value:"draft",children:""}),a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"out_of_stock",children:"  "}),a.jsx("option",{value:"archived",children:""})]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-lg mb-4 text-mm-cyan uppercase",children:""}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:c.visibility.show_on_minimalmod,onChange:x=>d({...c,visibility:{...c.visibility,show_on_minimalmod:x.target.checked}}),className:"w-4 h-4"}),a.jsx("span",{className:"text-mm-text-secondary",children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:c.visibility.is_featured,onChange:x=>d({...c,visibility:{...c.visibility,is_featured:x.target.checked}}),className:"w-4 h-4"}),a.jsx("span",{className:"text-mm-text-secondary",children:""})]})]})]}),a.jsxs("div",{className:"card-neon bg-mm-blue/5 border-mm-blue",children:[a.jsx("p",{className:"text-mm-blue font-bold text-sm mb-2",children:"   :"}),a.jsxs("ul",{className:"text-xs text-mm-text-secondary space-y-1",children:[a.jsx("li",{children:"1.   "}),a.jsx("li",{children:"2.  "}),a.jsx("li",{children:"3.  "}),a.jsx("li",{children:"4.   ( )"}),a.jsx("li",{children:"5.    "}),a.jsx("li",{children:'6.  "  "'})]})]})]})]})]})]})}const ZD="http://localhost:8001",JD=()=>{const e=Gr(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(""),[l,u]=f.useState("Wildberries"),[c,d]=f.useState([]),[m,p]=f.useState(!1),[h,y]=f.useState(2);f.useEffect(()=>{g()},[]);const g=async()=>{try{const P=localStorage.getItem("token"),O=await nt.get(`${ZD}/api/products`,{headers:{Authorization:`Bearer ${P}`}});r(O.data),s(!1)}catch(P){console.error("Error fetching products:",P),s(!1)}},v=()=>{e("/products/new")},x=()=>{e("/orders/new")},b=()=>{if(c.length===0){alert("   ");return}alert("  -  ")},j=()=>{alert(" -  ")},k=()=>{if(c.length===0){alert("   ");return}confirm(` ${c.length}   ?`)&&alert(" -  ")},N=()=>{if(c.length===0){alert("   ");return}confirm(` ${c.length} ?`)&&alert(" -  ")},w=()=>{alert("  -  ")},C=P=>{c.includes(P)?d(c.filter(O=>O!==P)):d([...c,P])},_=t.filter(P=>P.name.toLowerCase().includes(i.toLowerCase())||P.sku&&P.sku.toLowerCase().includes(i.toLowerCase())||P.barcode&&P.barcode.toLowerCase().includes(i.toLowerCase()));return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:v,className:"px-6 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:" "}),a.jsx("button",{onClick:x,className:"px-6 py-2 bg-yellow-500 text-white font-semibold rounded-lg hover:bg-yellow-600",children:" "})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:" "}),a.jsx("button",{onClick:j,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:""}),a.jsx("button",{onClick:k,className:"p-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",title:"  ",children:""}),a.jsx("button",{onClick:N,className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200",title:"",children:""})]})]}),a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx("button",{onClick:()=>p(!m),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-semibold",children:""}),a.jsx("input",{type:"text",value:i,onChange:P=>o(P.target.value),placeholder:"  , -, , ",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.jsxs("select",{value:l,onChange:P=>u(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:"Wildberries"}),a.jsx("option",{children:"Ozon"}),a.jsx("option",{children:"."})]}),a.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:"   "}),a.jsx("option",{children:" "})]}),a.jsx("button",{onClick:w,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold",children:""})]})]}),m&&a.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:a.jsx("option",{children:" "})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:a.jsx("option",{children:" "})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:a.jsx("option",{children:" "})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:" "}),a.jsx("option",{children:""}),a.jsx("option",{children:" "})]})]})]})}),a.jsxs("div",{className:"bg-white px-6 py-3 flex justify-between items-center border-b",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:" "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:"  "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" "}),a.jsx("input",{type:"range",min:"1",max:"3",value:h,onChange:P=>y(parseInt(P.target.value)),className:"w-24"})]})]}),a.jsxs("div",{className:"bg-white",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsx("input",{type:"checkbox",onChange:P=>{P.target.checked?d(_.map(O=>O.id)):d([])},className:"w-4 h-4"})}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"-"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""})]})}),a.jsx("tbody",{children:n?a.jsx("tr",{children:a.jsx("td",{colSpan:"12",className:"px-4 py-8 text-center text-gray-500",children:"..."})}):_.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"12",className:"px-4 py-8 text-center text-gray-500",children:"  "})}):_.map(P=>a.jsxs("tr",{className:`border-b hover:bg-gray-50 ${h===1?"h-12":h===2?"h-16":"h-24"}`,children:[a.jsx("td",{className:"px-4",children:a.jsx("input",{type:"checkbox",checked:c.includes(P.id),onChange:()=>C(P.id),className:"w-4 h-4"})}),a.jsx("td",{className:"px-4",children:a.jsx("div",{className:`bg-gray-200 rounded flex items-center justify-center text-gray-400 ${h===1?"w-10 h-10":h===2?"w-12 h-12":"w-16 h-16"}`,children:""})}),a.jsx("td",{className:"px-4",children:a.jsx("button",{onClick:()=>e(`/products/${P.id}`),className:"text-blue-600 hover:underline font-medium",children:P.name})}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:P.size||"-"}),a.jsx("td",{className:"px-4",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:P.brand||"-"}),a.jsx("td",{className:"px-4",children:a.jsx("button",{className:"text-yellow-500 hover:text-yellow-600",children:""})}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:P.barcode||"-"}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:P.sku||"-"}),a.jsx("td",{className:"px-4 text-sm font-semibold text-gray-800",children:P.price?`${P.price} `:"-"}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:P.stock_quantity||0}),a.jsx("td",{className:"px-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>e(`/products/${P.id}/edit`),className:"text-blue-600 hover:underline text-sm",children:""}),a.jsx("button",{className:"text-red-600 hover:underline text-sm",children:""})]})})]},P.id))})]})}),a.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-t",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[a.jsx("option",{children:"50"}),a.jsx("option",{children:"100"}),a.jsx("option",{children:"200"})]}),a.jsx("span",{className:"text-sm text-gray-600",children:"  "})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[" 1  1 |  : ",c.length]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""})]})]})]}),a.jsx("div",{className:"fixed left-0 top-16 w-64 bg-gray-800 text-white h-full overflow-y-auto hidden",children:a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:""}),a.jsxs("ul",{className:"space-y-1 text-sm",children:[a.jsx("li",{children:a.jsx("a",{href:"/products",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/import",className:"block px-3 py-2 rounded hover:bg-gray-700",children:" "})}),a.jsx("li",{children:a.jsx("a",{href:"/products/merge",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/photos",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/categories",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/brands",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/manufacturers",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/parameters",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})})]})]})})]})},eM="http://localhost:8001",tM=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState("MAin"),[o,l]=f.useState(!0),[u,c]=f.useState(!0),[d,m]=f.useState(!1),[p,h]=f.useState(!1),[y,g]=f.useState(""),[v,x]=f.useState([]);f.useEffect(()=>{b()},[]);const b=async()=>{try{const k=localStorage.getItem("token"),N=await nt.get(`${eM}/api/stock`,{headers:{Authorization:`Bearer ${k}`}});t(N.data),n(!1)}catch(k){console.error("Error fetching stock:",k),n(!1)}},j=e.filter(k=>{var N,w,C;return((N=k.product_name)==null?void 0:N.toLowerCase().includes(y.toLowerCase()))||((w=k.sku)==null?void 0:w.toLowerCase().includes(y.toLowerCase()))||((C=k.barcode)==null?void 0:C.toLowerCase().includes(y.toLowerCase()))});return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"bg-white border-b px-6 py-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"   "}),a.jsxs("div",{className:"flex gap-4 items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:""}),a.jsxs("select",{value:s,onChange:k=>i(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{value:"MAin",children:"MAin"}),a.jsx("option",{value:"all",children:" "})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:o,onChange:k=>l(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:u,onChange:k=>c(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"  "})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:k=>m(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:k=>h(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:'  ""'})]})]})]}),a.jsxs("div",{className:"flex gap-3 items-center",children:[a.jsx("input",{type:"text",value:y,onChange:k=>g(k.target.value),placeholder:"  , -, , ",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:""})]})]}),a.jsx("div",{className:"bg-white border-b px-6",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"px-6 py-3 bg-blue-500 text-white font-semibold border-b-2 border-blue-600",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:" "}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""})]})}),a.jsxs("div",{className:"bg-white px-6 py-3 flex justify-between items-center border-b",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:" "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:"  "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" "}),a.jsx("input",{type:"range",min:"1",max:"3",className:"w-24"})]})]}),a.jsxs("div",{className:"bg-white",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"  ..."}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:" "}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"-"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"  / "}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"SKU"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"ID"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:" "}),p&&a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""})]})}),a.jsx("tbody",{children:r?a.jsx("tr",{children:a.jsx("td",{colSpan:"20",className:"px-4 py-8 text-center text-gray-500",children:"..."})}):j.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"20",className:"px-4 py-8 text-center text-gray-500",children:"  "})}):j.map((k,N)=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),a.jsx("td",{className:"px-4 py-3",children:k.error&&a.jsx("span",{className:"text-red-600",children:""})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center text-gray-400",children:""})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-blue-600 hover:underline cursor-pointer font-medium",children:k.product_name||" "})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.size||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-800",children:k.quantity||0}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.reserved||0}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.location||"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.barcode||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.size||"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.brand||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.color||"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:""}),a.jsx("button",{className:"text-red-600 hover:text-red-800",children:""})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.sku||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.id||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.seller_sku||"-"}),p&&a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})})]},N))})]})}),a.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-t",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[a.jsx("option",{children:"200"}),a.jsx("option",{children:"50"}),a.jsx("option",{children:"100"})]}),a.jsx("span",{className:"text-sm text-gray-600",children:"  "})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"0 - 0  0.  1  1"}),a.jsx("div",{className:"flex gap-1",children:a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:" : 0"})})]})]})]})},rM=()=>{const{id:e}=Kd(),t=Gr(),{api:r}=ye(),[n,s]=f.useState(null),[i,o]=f.useState(!0),[l,u]=f.useState(!1),[c,d]=f.useState(!1),[m,p]=f.useState(!1),[h,y]=f.useState(""),[g,v]=f.useState([]),[x,b]=f.useState(""),[j,k]=f.useState(!1),[N,w]=f.useState([]),[C,_]=f.useState(""),[P,O]=f.useState(""),[S,E]=f.useState({name:"",is_fbo:!1,send_stock:!0,load_orders:!0,use_for_orders:!0,priority:0,default_cell:"",description:"",longitude:null,latitude:null,address:"",brand:"",working_hours:"",assembly_hours:0,storage_days:0,online_payment:!1,cash_payment:!1,card_payment:!1,show_on_goods:!1});f.useEffect(()=>{M(),A()},[e]);const M=async()=>{try{const I=await r.get(`/api/warehouses/${e}`);s(I.data),E({name:I.data.name||"",is_fbo:I.data.is_fbo||!1,send_stock:I.data.send_stock!==!1,load_orders:I.data.load_orders!==!1,use_for_orders:I.data.use_for_orders!==!1,priority:I.data.priority||0,default_cell:I.data.default_cell||"",description:I.data.description||"",longitude:I.data.longitude,latitude:I.data.latitude,address:I.data.address||"",brand:I.data.brand||"",working_hours:I.data.working_hours||"",assembly_hours:I.data.assembly_hours||0,storage_days:I.data.storage_days||0,online_payment:I.data.online_payment||!1,cash_payment:I.data.cash_payment||!1,card_payment:I.data.card_payment||!1,show_on_goods:I.data.show_on_goods||!1}),o(!1)}catch(I){console.error("Error fetching warehouse:",I),o(!1)}},A=async()=>{try{const I=await r.get(`/api/warehouses/${e}/links`);w(I.data||[])}catch(I){console.error("Error fetching warehouse links:",I)}},T=async I=>{var X,Z;if(!I){v([]);return}k(!0);try{const D=await r.get(`/api/marketplaces/${I}/all-warehouses`);v(D.data.warehouses||[]),D.data.warehouses.length===0&&D.data.message&&alert(D.data.message)}catch(D){console.error("Error loading MP warehouses:",D),alert("  : "+(((Z=(X=D.response)==null?void 0:X.data)==null?void 0:Z.detail)||D.message))}finally{k(!1)}},F=I=>{y(I),b(""),v([]),_(""),O(""),I&&I!=="yandex"&&T(I)},U=async()=>{var I,X;if(!h){alert(" ");return}if(h==="yandex"){if(!C||!P){alert(" ID     .");return}}else if(!x){alert("   ");return}try{let Z;if(h==="yandex"){const Y=(await r.get("/api/seller/api-keys")).data.find(ae=>ae.marketplace==="yandex");if(!Y){alert("   .   ");return}Z={integration_id:Y.id,marketplace_name:"yandex",marketplace_warehouse_id:C,marketplace_warehouse_name:P}}else{const D=g.find(Y=>Y.id===x);Z={integration_id:D.integration_id,marketplace_name:h,marketplace_warehouse_id:D.id,marketplace_warehouse_name:D.name}}await r.post(`/api/warehouses/${e}/links`,Z),await A(),y(""),b(""),v([]),_(""),O(""),alert(`    ${h.toUpperCase()} !`)}catch(Z){console.error("Error adding link:",Z),alert(": "+(((X=(I=Z.response)==null?void 0:I.data)==null?void 0:X.detail)||Z.message))}},L=async I=>{var X,Z;if(confirm(" ?"))try{await r.delete(`/api/warehouses/${e}/links/${I}`),alert("  "),A()}catch(D){console.error("Error deleting link:",D),alert(": "+(((Z=(X=D.response)==null?void 0:X.data)==null?void 0:Z.detail)||D.message))}},R=(I,X)=>{E(Z=>({...Z,[I]:X}))},$=async()=>{u(!0);try{await r.put(`/api/warehouses/${e}`,S),alert("  "),t(-1)}catch(I){console.error("Error saving warehouse:",I),alert("   ")}finally{u(!1)}},G=async()=>{if(confirm(" ,     ?"))try{await r.delete(`/api/warehouses/${e}`),alert(" "),t(-1)}catch(I){console.error("Error deleting warehouse:",I),alert("   ")}};return i?a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:a.jsx("p",{className:"text-mm-cyan",children:"..."})}):a.jsx("div",{className:"min-h-screen bg-mm-black text-gray-100 p-8",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("button",{onClick:()=>t(-1),className:"text-mm-cyan hover:text-cyan-400 mb-4",children:" "}),a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "})]}),a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),a.jsx("input",{type:"text",value:S.name,onChange:I=>R("name",I.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:S.is_fbo,onChange:I=>R("is_fbo",I.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"    FBO"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"  FIFO   FBO"})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:S.send_stock,onChange:I=>R("send_stock",I.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:" "}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"SelSup      .   ."})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:S.load_orders,onChange:I=>R("load_orders",I.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:" "}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"    .   ."})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:S.use_for_orders,onChange:I=>R("use_for_orders",I.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"  "}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"    .    ."})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"  "}),a.jsx("input",{type:"number",value:S.priority,onChange:I=>R("priority",parseInt(I.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-3 text-mm-cyan",children:"   "}),a.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 mb-4",children:a.jsxs("p",{className:"text-xs text-blue-300",children:[" ",a.jsx("strong",{children:":"}),'   SelSup ,        .  " "     ,      .']})}),a.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg mb-4 space-y-3",children:[a.jsx("p",{className:"text-xs text-mm-cyan mb-3",children:"   FBS     "}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 font-mono",children:"1  "}),a.jsxs("select",{value:h,onChange:I=>F(I.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm",children:[a.jsx("option",{value:"",children:"--   --"}),a.jsx("option",{value:"ozon",children:"OZON"}),a.jsx("option",{value:"wb",children:"WILDBERRIES"}),a.jsx("option",{value:"yandex",children:"YANDEX.MARKET"})]})]}),h&&h!=="yandex"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs mb-1 font-mono",children:["2   FBS",j&&a.jsx("span",{className:"ml-2 text-mm-cyan animate-pulse",children:"..."})]}),a.jsxs("select",{value:x,onChange:I=>b(I.target.value),disabled:j,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm disabled:opacity-50",children:[a.jsx("option",{value:"",children:"--   --"}),g.map(I=>a.jsxs("option",{value:I.id,children:[I.name," (ID: ",I.id,") ",I.integration_name?`[${I.integration_name}]`:""]},I.id))]}),g.length===0&&!j&&a.jsxs("p",{className:"text-xs text-yellow-400 mt-1",children:["   .  :",a.jsx("br",{}),"      ",h.toUpperCase(),"   ",a.jsx("br",{}),"  FBS     ",h.toUpperCase()]})]}),h==="yandex"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded p-2",children:a.jsxs("p",{className:"text-xs text-yellow-300",children:[" ",a.jsx("strong",{children:".:"})," ID     API.     .    "]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 font-mono",children:"2 ID  ."}),a.jsx("input",{type:"text",value:C,onChange:I=>_(I.target.value),placeholder:" ID    ",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 font-mono",children:" "}),a.jsx("input",{type:"text",value:P,onChange:I=>O(I.target.value),placeholder:"  ",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm"})]})]}),a.jsxs("button",{onClick:U,disabled:!h||h==="yandex"&&(!C||!P)||h!=="yandex"&&!x,className:"w-full px-4 py-2 bg-mm-purple hover:bg-purple-600 rounded transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[a.jsx(Or,{}),a.jsx("span",{children:" "})]})]}),N.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:" :"}),N.map((I,X)=>{var Z;return a.jsxs("div",{className:"bg-gray-800 px-4 py-3 rounded flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm font-medium",children:[(Z=I.marketplace_name)==null?void 0:Z.toUpperCase()," - ",I.marketplace_warehouse_name]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",I.marketplace_warehouse_id]})]}),a.jsx("button",{onClick:()=>L(I.id),className:"px-3 py-2 text-red-400 hover:bg-red-400/10 rounded transition",children:a.jsx(hn,{})})]},X)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"    "}),a.jsx("input",{type:"text",value:S.default_cell,onChange:I=>R("default_cell",I.target.value),placeholder:" ",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[a.jsxs("button",{onClick:()=>d(!c),className:"flex items-center space-x-2 text-mm-cyan hover:text-cyan-400 transition",children:[a.jsx("span",{className:"text-xl",children:c?"":""}),a.jsx("span",{className:"font-medium",children:"  "})]}),c&&a.jsxs("div",{className:"mt-4 space-y-4 pl-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:""}),a.jsx("textarea",{value:S.description,onChange:I=>R("description",I.target.value),rows:3,className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:""}),a.jsx("input",{type:"number",step:"0.000001",value:S.longitude||"",onChange:I=>R("longitude",parseFloat(I.target.value)||null),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:""}),a.jsx("input",{type:"number",step:"0.000001",value:S.latitude||"",onChange:I=>R("latitude",parseFloat(I.target.value)||null),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:"  "}),a.jsx("input",{type:"text",value:S.address,onChange:I=>R("address",I.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:",    "}),a.jsx("input",{type:"text",value:S.brand,onChange:I=>R("brand",I.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:" "}),a.jsx("input",{type:"text",value:S.working_hours,onChange:I=>R("working_hours",I.target.value),placeholder:": - 9:00-18:00",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:"-    "}),a.jsx("input",{type:"number",value:S.assembly_hours,onChange:I=>R("assembly_hours",parseInt(I.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:"-   "}),a.jsx("input",{type:"number",value:S.storage_days,onChange:I=>R("storage_days",parseInt(I.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:" :"}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:S.online_payment,onChange:I=>R("online_payment",I.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:" "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:S.cash_payment,onChange:I=>R("cash_payment",I.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:S.card_payment,onChange:I=>R("card_payment",I.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:"  "})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:S.show_on_goods,onChange:I=>R("show_on_goods",I.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:"   Goods"})]})]})]}),a.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-700",children:[a.jsx("button",{onClick:G,disabled:(n==null?void 0:n.type)==="main",className:"px-6 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:""}),a.jsx("button",{onClick:$,disabled:l,className:"px-8 py-2 bg-mm-cyan hover:bg-cyan-400 text-black font-bold rounded-lg transition disabled:opacity-50",children:l?"...":""})]})]})]})})},Cy=()=>{const[e,t]=f.useState(!1),r=f.useRef(null),n=Gr(),s=Ya(),i=[{label:"",path:"/catalog/products",icon:qk},{label:"",path:"/catalog/categories",icon:bt},{label:"",path:"/catalog/pricing",icon:_s},{label:"",path:"/catalog/matching",icon:To},{label:" ",path:"/catalog/import",icon:rr}],o=i.find(c=>s.pathname===c.path),l=o?o.label:"";f.useEffect(()=>{const c=d=>{r.current&&!r.current.contains(d.target)&&t(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const u=c=>{t(!1),n(c)};return a.jsxs("div",{className:"relative inline-block",ref:r,children:[a.jsxs("button",{onClick:()=>t(!e),className:"px-4 py-2 bg-mm-secondary text-mm-cyan hover:bg-mm-secondary/80 rounded flex items-center gap-2 font-mono uppercase text-sm",children:[a.jsx(bt,{className:"w-4 h-4"}),l,a.jsx(kl,{className:`w-4 h-4 transition-transform ${e?"rotate-180":""}`})]}),e&&a.jsx("div",{className:"absolute left-0 mt-2 bg-white rounded-lg shadow-2xl border-2 border-gray-300 py-2 z-[9999] min-w-[220px]",children:i.map((c,d)=>{const m=c.icon,p=s.pathname===c.path;return a.jsxs("button",{onClick:()=>u(c.path),className:`w-full text-left px-4 py-3 hover:bg-gray-100 flex items-center gap-3 text-sm transition-colors font-medium ${p?"bg-blue-50 text-blue-600":"text-gray-700 hover:text-blue-600"}`,children:[a.jsx(m,{className:"w-4 h-4"}),c.label,p&&a.jsx("span",{className:"ml-auto text-xs text-blue-500",children:""})]},d)})})]})};function nM(){const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState({});f.useEffect(()=>{l()},[]);const l=async()=>{s(!0);try{const p=(await e.get("/api/categories/mappings")).data||[];r(p),await u(p)}catch(m){console.error("Failed to load mappings:",m)}finally{s(!1)}},u=async m=>{try{const h=(await e.get("/api/catalog/products?limit=1000")).data.products||[],y={};m.forEach(g=>{const v=h.filter(x=>x.category_mapping_id===g.id).length;y[g.id]=v}),o(y)}catch(p){console.error("Failed to load product counts:",p)}},c=async(m,p)=>{var g,v;const h=i[m]||0;let y=`      "${p}"?`;if(h>0&&(y+=`

 : ${h}    !
      .`),y+=`

   .`,!!confirm(y))try{await e.delete(`/api/categories/mappings/${m}`),alert("  !"),l()}catch(x){alert("  : "+(((v=(g=x.response)==null?void 0:g.data)==null?void 0:v.detail)||x.message))}},d=m=>{var g,v,x;const p=!!((g=m.marketplace_categories)!=null&&g.ozon),h=!!((v=m.marketplace_categories)!=null&&v.wildberries),y=!!((x=m.marketplace_categories)!=null&&x.yandex);return{hasOzon:p,hasWB:h,hasYandex:y}};return a.jsxs("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto mb-6",children:[a.jsxs("button",{onClick:()=>window.location.href="/dashboard",className:"text-mm-cyan hover:underline mb-4 flex items-center gap-2",children:[a.jsx(Kk,{}),"   "]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Cy,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan mb-2",children:""}),a.jsx("p",{className:"text-gray-400 text-sm",children:"   "})]})]}),a.jsxs("button",{onClick:l,disabled:n,className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded font-semibold flex items-center gap-2 disabled:opacity-50",children:[a.jsx(Ot,{className:n?"animate-spin":""}),""]})]})]}),a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-mm-cyan",children:t.length}),a.jsx("div",{className:"text-sm text-gray-400",children:" "})]}),a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:t.filter(m=>{var p;return(p=m.marketplace_categories)==null?void 0:p.wildberries}).length}),a.jsx("div",{className:"text-sm text-gray-400",children:" Wildberries"})]}),a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:t.filter(m=>{var p;return(p=m.marketplace_categories)==null?void 0:p.ozon}).length}),a.jsx("div",{className:"text-sm text-gray-400",children:" Ozon"})]})]}),a.jsx("div",{className:"bg-cyan-900/20 border border-cyan-600/30 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{className:"flex-1 text-sm text-cyan-200",children:[a.jsx("p",{className:"font-semibold mb-1",children:"  "}),a.jsx("p",{className:"text-cyan-300/80",children:"                .           ."})]})]})}),n?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-mm-cyan border-t-transparent"}),a.jsx("p",{className:"mt-4 text-gray-400",children:"..."})]}):t.length===0?a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-12 text-center",children:[a.jsx(bt,{className:"mx-auto text-6xl text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400 mb-2",children:" "}),a.jsx("p",{className:"text-sm text-gray-500",children:"       "})]}):a.jsx("div",{className:"bg-mm-secondary border border-mm-border rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border bg-mm-dark",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-semibold",children:" "}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:" Ozon"}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:" WB"}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:" Yandex"}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-semibold",children:""})]})}),a.jsx("tbody",{children:t.map(m=>{const{hasOzon:p,hasWB:h,hasYandex:y}=d(m),g=i[m.id]||0;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition",children:[a.jsxs("td",{className:"py-4 px-4",children:[a.jsx("div",{className:"font-medium text-white",children:m.internal_name}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["ID: ",m.id]})]}),a.jsx("td",{className:"py-4 px-3 text-center",children:p?a.jsxs("div",{children:[a.jsx("span",{className:"inline-block px-2 py-1 bg-blue-600/20 text-blue-300 rounded text-xs border border-blue-600/30",children:""}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m.marketplace_categories.ozon})]}):a.jsx("span",{className:"text-gray-600",children:""})}),a.jsx("td",{className:"py-4 px-3 text-center",children:h?a.jsxs("div",{children:[a.jsx("span",{className:"inline-block px-2 py-1 bg-purple-600/20 text-purple-300 rounded text-xs border border-purple-600/30",children:""}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m.marketplace_categories.wildberries})]}):a.jsx("span",{className:"text-gray-600",children:""})}),a.jsx("td",{className:"py-4 px-3 text-center",children:y?a.jsxs("div",{children:[a.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-600/20 text-yellow-300 rounded text-xs border border-yellow-600/30",children:""}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m.marketplace_categories.yandex})]}):a.jsx("span",{className:"text-gray-600",children:""})}),a.jsx("td",{className:"py-4 px-3 text-center",children:a.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 bg-cyan-600/20 text-cyan-300 rounded border border-cyan-600/30",children:[a.jsx(bt,{size:12}),a.jsx("span",{className:"font-semibold",children:g})]})}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{onClick:()=>c(m.id,m.internal_name),className:"px-3 py-2 border border-red-500 text-red-500 hover:bg-red-500/10 rounded transition inline-flex items-center gap-2",title:" ",children:[a.jsx(hn,{size:14}),""]})})]},m.id)})})]})})]})]})}function aM({productName:e="",selectedMarketplaces:t=[],initialCategoryMappingId:r=null,onCategorySelected:n,onAttributesLoaded:s}){const{api:i}=ye(),[o,l]=f.useState(""),[u,c]=f.useState([]),[d,m]=f.useState(null),[p,h]=f.useState({}),[y,g]=f.useState({}),[v,x]=f.useState(!1),[b,j]=f.useState(!1),[k,N]=f.useState(null),w={ozon:{border:"border-blue-500",bg:"bg-blue-50",text:"text-blue-700",badge:"bg-blue-100 text-blue-700"},wb:{border:"border-purple-500",bg:"bg-purple-50",text:"text-purple-700",badge:"bg-purple-100 text-purple-700"},yandex:{border:"border-yellow-500",bg:"bg-yellow-50",text:"text-yellow-700",badge:"bg-yellow-100 text-yellow-700"}},C={ozon:"Ozon",wb:"Wildberries",yandex:""};f.useEffect(()=>{(async()=>{if(!(!r||d)){j(!0);try{console.log("[UnifiedCategory] Loading initial category:",r);const F=(await i.get(`/api/categories/mappings/${r}`)).data;console.log("[UnifiedCategory] Initial category loaded:",F),m(F),n&&n(F)}catch(T){console.error("[UnifiedCategory] Failed to load initial category:",T)}finally{j(!1)}}})()},[r]),f.useEffect(()=>{e&&e.length>3&&!d&&(console.log(`[UnifiedCategory] Auto-suggesting for: "${e}"`),l(e))},[e,d]),f.useEffect(()=>{if(!o||o.length<2){c([]);return}const A=setTimeout(()=>{_()},500);return()=>clearTimeout(A)},[o]);const _=async()=>{x(!0),N(null);try{const T=(await i.get(`/api/categories/mappings/search?query=${encodeURIComponent(o)}`)).data.mappings||[];console.log(`[UnifiedCategory] Found ${T.length} category mappings`),c(T)}catch(A){console.error("Search error:",A),N("  ")}finally{x(!1)}},P=async A=>{console.log("[UnifiedCategory] Selected mapping:",A),m(A),l(""),c([]),n(A),await O(A)},O=async A=>{var U,L,R;x(!0);const T={},F={ozon:"ozon",wb:"wildberries",yandex:"yandex"};for(const $ of t){const G=F[$]||$,I=(U=A.marketplace_categories)==null?void 0:U[G];if(!I){console.log(`[UnifiedCategory] No category mapped for ${$} (dbKey: ${G})`);continue}try{let X=`/api/categories/marketplace/${$}/${I}/attributes`;$==="ozon"&&((L=A.marketplace_type_ids)!=null&&L[G])&&(X+=`?type_id=${A.marketplace_type_ids[G]}`);const D=(await i.get(X)).data.attributes||[];console.log(`[UnifiedCategory] Loaded ${D.length} attributes for ${$}`),T[$]=D;for(const Y of D)if(Y.dictionary_id>0||Y.type==="Dictionary"){const ae=Y.attribute_id||Y.id,se=$==="ozon"?(R=A.marketplace_type_ids)==null?void 0:R.ozon:null;await S($,I,ae,se)}}catch(X){console.error(`Failed to load attributes for ${$}:`,X)}}h(T),s(T),x(!1)},S=async(A,T,F,U=null)=>{try{let L=`/api/categories/marketplace/${A}/${T}/attribute-values?attribute_id=${F}`;U&&(L+=`&type_id=${U}`);const $=(await i.get(L)).data.values||[];g(G=>({...G,[`${A}_${F}`]:$}))}catch(L){console.error(`Failed to load values for ${A} attribute ${F}:`,L)}},M=(()=>{const A=new Map;for(const T of t){const F=p[T]||[];for(const U of F){const L=U.name||U.attribute_name||"";if(U.attribute_id||U.id,A.has(L)){const R=A.get(L);R.marketplaces.includes(T)||R.marketplaces.push(T),U.is_required&&R.required_for.push(T)}else A.set(L,{...U,original_mp:T,marketplaces:[T],required_for:U.is_required?[T]:[]})}}return Array.from(A.values())})();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[" ",a.jsx("span",{className:"text-red-400",children:"*"})]}),d?a.jsx("div",{className:"bg-green-900/20 border-2 border-green-500/50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:a.jsx(Bt,{className:"text-white",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400",children:" :"}),a.jsx("p",{className:"text-lg font-bold text-green-300",children:d.internal_name})]})]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"  :"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.entries(d.marketplace_categories||{}).map(([A,T])=>{const F=w[A];return a.jsxs("div",{className:`rounded p-2 ${T?"bg-gray-700":"bg-gray-800 border border-gray-700 border-dashed"}`,children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${(F==null?void 0:F.badge)||"bg-gray-600 text-gray-400"}`,children:C[A]})}),T?a.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",T]}):a.jsx("p",{className:"text-xs text-gray-500 italic",children:" "})]},A)})})]})]}),a.jsx("button",{onClick:()=>{m(null),h({})},className:"p-2 text-gray-400 hover:text-white transition flex-shrink-0",title:" ",children:a.jsx(Ra,{size:18})})]})}):a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-3 mb-3",children:a.jsxs("p",{className:"text-xs text-blue-300",children:[" ",a.jsx("strong",{children:":"}),'        ! : " WB", " Ozon", "".          .']})}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:o,onChange:A=>l(A.target.value),placeholder:"    WB, Ozon, ... (. 2 )",className:"w-full px-4 py-3 pl-10 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-mm-cyan focus:ring-2 focus:ring-mm-cyan/50 outline-none",autoComplete:"off"}),a.jsx(Xn,{className:"absolute left-3 top-3.5 text-gray-500"}),o.length>0&&o.length<2&&a.jsx("div",{className:"absolute right-3 top-3.5",children:a.jsxs("span",{className:"text-xs text-gray-500",children:[o.length,"/2"]})})]}),o.length>=2&&a.jsx("div",{className:"absolute z-50 mt-2 w-full bg-gray-800 border-2 border-mm-cyan rounded-lg shadow-2xl max-h-80 overflow-hidden",children:v?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Ot,{className:"animate-spin inline text-2xl text-mm-cyan mb-2"}),a.jsx("p",{className:"text-sm text-gray-400",children:" ..."})]}):k?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Un,{className:"inline text-2xl text-red-400 mb-2"}),a.jsx("p",{className:"text-sm text-red-400",children:k})]}):u.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-gray-900 px-4 py-2 border-b border-gray-700",children:a.jsxs("p",{className:"text-xs text-mm-cyan font-medium",children:[" : ",u.length]})}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:u.map((A,T)=>a.jsxs("button",{onClick:()=>P(A),className:"w-full px-4 py-3 text-left hover:bg-mm-cyan/20 border-b border-gray-700 last:border-b-0 transition-colors focus:bg-mm-cyan/30 focus:outline-none",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("p",{className:"font-medium text-white",children:A.internal_name}),A.matched_category_name&&a.jsxs("span",{className:"text-xs text-gray-400 italic",children:["(",A.matched_category_name,")"]})]}),a.jsx("div",{className:"flex gap-2 mt-1 flex-wrap",children:Object.entries(A.marketplace_categories||{}).map(([F,U])=>{if(!U)return null;const L=w[F];return a.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${(L==null?void 0:L.badge)||"bg-gray-700 text-gray-300"}`,children:C[F]},F)})})]},T))})]}):a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Xn,{className:"inline text-3xl text-gray-600 mb-2"}),a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"  "}),a.jsx("p",{className:"text-xs text-gray-500",children:"      "})]})})]})]}),d&&M.length>0&&a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsxs("h3",{className:"font-bold text-mm-cyan mb-4",children:[" (",M.length,")"]}),a.jsx("div",{className:"space-y-3",children:M.map((A,T)=>{const F=A.attribute_id||A.id,U=A.name||A.attribute_name||"",L=A.original_mp,R=w[L],$=A.required_for.length>0,G=`${L}_${F}`,I=y[G]||[];return a.jsxs("div",{className:`p-3 rounded border-l-4 ${R.border} ${R.bg}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("label",{className:`block text-sm font-medium ${R.text}`,children:[U,$&&a.jsx("span",{className:"text-red-600 ml-1 text-lg",children:"*"})]}),a.jsx("div",{className:"flex gap-1",children:A.marketplaces.map(X=>{const Z=w[X],D=A.required_for.includes(X);return a.jsxs("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${Z.badge}`,title:D?`  ${C[X]}`:C[X],children:[C[X],D&&" *"]},X)})})]}),I.length>0?a.jsxs("select",{className:`w-full px-3 py-2 border rounded focus:ring-2 outline-none ${$?"border-red-300 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-blue-500 bg-white"}`,required:$,children:[a.jsx("option",{value:"",children:$?"  ":" "}),I.map(X=>a.jsx("option",{value:X.id,children:X.value},X.id))]}):a.jsx("input",{type:"text",placeholder:$?"  ":" ",className:`w-full px-3 py-2 border rounded focus:ring-2 outline-none ${$?"border-red-300 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-blue-500 bg-white"}`,required:$}),A.description&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:A.description})]},T)})}),a.jsxs("div",{className:"border-t border-mm-border pt-3 mt-4",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary mb-2",children:":"}),a.jsxs("div",{className:"flex gap-3 text-xs text-mm-text-secondary",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 border-2 border-blue-500 rounded"}),a.jsx("span",{children:"Ozon"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 border-2 border-purple-500 rounded"}),a.jsx("span",{children:"Wildberries"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 border-2 border-yellow-500 rounded"}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-red-600 font-bold",children:"*"}),a.jsx("span",{children:""})]})]})]})]})]})}function sM({marketplace:e,currentMappingId:t,currentCategoryName:r="",onCategorySelected:n,onSkip:s}){const{api:i}=ye(),[o,l]=f.useState([]),[u,c]=f.useState(!0),[d,m]=f.useState(""),[p,h]=f.useState(!1),[y,g]=f.useState(!1),v={ozon:{name:"Ozon",color:"blue",icon:"",borderClass:"border-blue-500",bgClass:"bg-blue-900/20",textClass:"text-blue-400"},wb:{name:"Wildberries",color:"purple",icon:"",borderClass:"border-purple-500",bgClass:"bg-purple-900/20",textClass:"text-purple-400"},yandex:{name:" ",color:"yellow",icon:"",borderClass:"border-yellow-500",bgClass:"bg-yellow-900/20",textClass:"text-yellow-400"}},x=v[e]||v.ozon;f.useEffect(()=>{r?b(r):c(!1)},[r,e]);const b=async N=>{c(!0);try{const C=(await i.get(`/api/categories/marketplace/${e}/search?query=${encodeURIComponent(N)}&limit=5`)).data.categories||[];console.log(`[QuickMatcher] Found ${C.length} similar ${e} categories for "${N}"`),l(C)}catch(w){console.error("[QuickMatcher] Search error:",w),l([])}finally{c(!1)}},j=async()=>{if(!(!d||d.length<2)){c(!0);try{const w=(await i.get(`/api/categories/marketplace/${e}/search?query=${encodeURIComponent(d)}&limit=10`)).data.categories||[];l(w)}catch(N){console.error("[QuickMatcher] Manual search error:",N)}finally{c(!1)}}},k=async N=>{var w,C;g(!0);try{const _=String(N.category_id||N.id),P=N.category_name||N.name,O=N.type_id||null;console.log(`[QuickMatcher] Selecting ${e} category:`,_,P);const S={mapping_id:t,marketplace:e,category_id:_,category_name:P};O&&e==="ozon"&&(S.type_id=O);const E=await i.post("/api/categories/mappings/quick-update",S);console.log("[QuickMatcher] Mapping updated:",E.data),n&&n(e,_,P,O)}catch(_){console.error("[QuickMatcher] Selection error:",_),alert(`: ${((C=(w=_.response)==null?void 0:w.data)==null?void 0:C.detail)||_.message}`)}finally{g(!1)}};return u?a.jsx("div",{className:`${x.bgClass} border ${x.borderClass} border-opacity-30 rounded-lg p-4`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(T0,{className:`animate-spin ${x.textClass}`,size:20}),a.jsxs("p",{className:"text-sm text-gray-300",children:["   ",x.name,"..."]})]})}):a.jsxs("div",{className:`${x.bgClass} border ${x.borderClass} border-opacity-30 rounded-lg p-4`,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(Un,{className:`${x.textClass} flex-shrink-0 mt-0.5`,size:20}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:`font-semibold ${x.textClass} mb-1`,children:[x.icon,"  ",x.name,"  "]}),a.jsxs("p",{className:"text-sm text-gray-400",children:[" : ",a.jsxs("span",{className:"text-white font-medium",children:['"',r,'"']})]})]})]}),!p&&o.length>0&&a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase font-semibold",children:" :"}),o.slice(0,3).map((N,w)=>{const C=N.category_id||N.id,_=N.category_name||N.name;return a.jsx("button",{onClick:()=>k(N),disabled:y,className:`w-full text-left p-3 rounded border ${x.borderClass} border-opacity-40 hover:border-opacity-100 bg-gray-800/50 hover:bg-gray-700/50 transition-all group disabled:opacity-50`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[w===0&&a.jsx("span",{className:"text-yellow-400 mr-2",children:""}),a.jsx("span",{className:"text-white font-medium",children:_}),a.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["ID: ",C]})]}),a.jsx("span",{className:`px-3 py-1 rounded text-xs font-semibold ${x.textClass} border ${x.borderClass} border-opacity-50 group-hover:border-opacity-100 transition-all`,children:y?"...":" "})]})},C)}),o.length>3&&a.jsxs("button",{onClick:()=>h(!0),className:"text-sm text-gray-400 hover:text-gray-200 transition",children:["  ",o.length-3,"..."]})]}),p&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:16}),a.jsx("input",{type:"text",value:d,onChange:N=>m(N.target.value),onKeyDown:N=>N.key==="Enter"&&j(),placeholder:`  ${x.name}...`,className:"w-full pl-10 pr-3 py-2 bg-gray-900 border border-gray-700 rounded text-white placeholder-gray-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/50 outline-none"})]}),a.jsx("button",{onClick:j,disabled:!d||u,className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded font-semibold disabled:opacity-50 transition",children:u?a.jsx(T0,{className:"animate-spin"}):""})]}),o.length>0&&a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:o.map(N=>{const w=N.category_id||N.id,C=N.category_name||N.name;return a.jsx("button",{onClick:()=>k(N),disabled:y,className:"w-full text-left p-2 rounded border border-gray-700 hover:border-gray-500 bg-gray-800/50 hover:bg-gray-700/50 transition group disabled:opacity-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"text-white text-sm",children:C}),a.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["ID: ",w]})]}),a.jsx("span",{className:"text-xs text-cyan-400 group-hover:text-cyan-300",children:y?"...":""})]})},w)})})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[!p&&a.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 text-sm border border-gray-600 text-gray-300 hover:border-gray-400 hover:text-white rounded transition",children:"  "}),p&&a.jsx("button",{onClick:()=>{h(!1),b(r)},className:"px-4 py-2 text-sm border border-gray-600 text-gray-300 hover:border-gray-400 hover:text-white rounded transition",children:"   "}),a.jsx("button",{onClick:s,className:"px-4 py-2 text-sm text-gray-500 hover:text-gray-300 transition ml-auto",children:""})]}),o.length===0&&!u&&a.jsx("div",{className:"mt-3 text-sm text-gray-400 text-center py-4",children:"  .   ."})]})}function iM({marketplace:e,categoryId:t,typeId:r,attributeId:n,attributeName:s,value:i,onChange:o,placeholder:l=" ..."}){const{api:u}=ye(),[c,d]=f.useState(""),[m,p]=f.useState([]),[h,y]=f.useState([]),[g,v]=f.useState(!1),[x,b]=f.useState(!1),[j,k]=f.useState(null),N=f.useRef(null);f.useEffect(()=>{t&&n&&w()},[t,n,r]),f.useEffect(()=>{if(!c)y(m.slice(0,50));else{const O=m.filter(S=>(S.value||"").toLowerCase().includes(c.toLowerCase()));y(O.slice(0,50))}},[c,m]),f.useEffect(()=>{const O=S=>{N.current&&!N.current.contains(S.target)&&b(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),f.useEffect(()=>{if(i&&m.length>0){const O=m.find(S=>S.id===i||S.value===i);O&&(k(O),d(O.value))}},[i,m]);const w=async()=>{v(!0);try{const O=new URLSearchParams({attribute_id:n});r&&O.append("type_id",r);const E=(await u.get(`/api/categories/marketplace/${e}/${t}/attribute-values?${O}`)).data.values||[];p(E),y(E.slice(0,50)),console.log(`[DictionaryAutocomplete] Loaded ${E.length} values for ${s}`)}catch(O){console.error("Failed to load dictionary values:",O),p([])}v(!1)},C=O=>{k(O),d(O.value),b(!1),o({value_id:O.id,value:O.value})},_=O=>{const S=O.target.value;d(S),b(!0),x||b(!0)},P=()=>{b(!0)};return a.jsxs("div",{ref:N,className:"relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:c,onChange:_,onFocus:P,placeholder:l,className:"w-full px-3 py-2 bg-[#0F172A] border border-[#334155] rounded text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none pr-10",disabled:g}),a.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[g&&a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-[#22D3EE] border-t-transparent rounded-full"}),a.jsx(kl,{className:`text-gray-400 transition-transform ${x?"rotate-180":""}`})]})]}),x&&!g&&h.length>0&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-[#1E293B] border border-[#334155] rounded-lg shadow-xl max-h-60 overflow-y-auto",children:[h.map((O,S)=>a.jsxs("button",{type:"button",onClick:()=>C(O),className:"w-full text-left px-3 py-2 hover:bg-[#22D3EE]/10 text-white text-sm border-b border-[#334155] last:border-b-0 transition-colors",children:[O.value,O.info&&a.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",O.info,")"]})]},O.id||S)),m.length>50&&a.jsxs("div",{className:"px-3 py-2 text-xs text-gray-400 bg-[#0F172A] border-t border-[#334155]",children:[" ",h.length,"  ",m.length,".     ."]})]}),x&&!g&&c&&h.length===0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-[#1E293B] border border-[#334155] rounded-lg shadow-xl p-3",children:a.jsx("p",{className:"text-sm text-gray-400",children:"  "})}),m.length>0&&!x&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",m.length," .    ."]})]})}function oM({selectedMarketplaces:e={},characteristicsByMarketplace:t={},valuesByMarketplace:r={},onChange:n,loading:s={},baseCharacteristics:i={},currentMappingId:o=null,currentCategoryName:l="",onMappingUpdated:u,onBaseCharacteristicChange:c,categoryMappings:d={}}){const m={wb:{name:"Wildberries",shortName:"WB",icon:"",color:{bg:"bg-purple-600",text:"text-purple-400",border:"border-purple-500",badge:"bg-purple-600/20 text-purple-300 border-purple-500/30"}},ozon:{name:"Ozon",shortName:"Ozon",icon:"",color:{bg:"bg-blue-600",text:"text-blue-400",border:"border-blue-500",badge:"bg-blue-600/20 text-blue-300 border-blue-500/30"}},yandex:{name:" ",shortName:"YM",icon:"",color:{bg:"bg-yellow-600",text:"text-yellow-400",border:"border-yellow-500",badge:"bg-yellow-600/20 text-yellow-300 border-yellow-500/30"}},base:{name:"",shortName:"",icon:"",color:{badge:"bg-gray-600/20 text-gray-300 border-gray-500/30"}}},p=f.useMemo(()=>Object.keys(e).filter(w=>e[w]),[e]),h=f.useMemo(()=>{const w=new Map;Object.keys(i||{}).forEach(_=>{!_||!_.trim()||w.set(_,{name:_,sources:["base"],requiredIn:[],isDictionary:!1,mpData:{}})}),p.forEach(_=>{(t[_]||[]).forEach(O=>{const S=O.name||O.attribute_name||O.charcName,E=O.id||O.attribute_id||O.charcID,M=O.is_required||O.required,A=O.dictionary_id>0||O.type==="Dictionary";w.has(S)||w.set(S,{name:S,sources:[],requiredIn:[],isDictionary:!1,mpData:{}});const T=w.get(S);T.sources.includes(_)||T.sources.push(_),A&&(T.isDictionary=!0),T.mpData[_]={id:E,isRequired:M,originalChar:O},M&&T.requiredIn.push(_)})});const C=Array.from(w.values());return C.sort((_,P)=>{const O=_.requiredIn.length>0,S=P.requiredIn.length>0;return O&&!S?-1:!O&&S?1:0}),C},[p,t,i]),y=(w,C,_)=>{console.log(`[Unified] Changing "${w}" = "${C}" for sources:`,_),_.forEach(P=>{var O;if(P==="base")c&&c(w,C);else if(n){const S=h.find(A=>A.name===w),E=(O=S==null?void 0:S.mpData)==null?void 0:O[P],M=(E==null?void 0:E.id)||w;n(P,M,w,C)}})},g=(w,C)=>{var _;if(C.includes("base")&&i[w])return i[w];for(const P of C){if(P==="base")continue;const O=(_=r[P])==null?void 0:_[w];if(O)return O}return""},v=w=>{var M,A,T,F;const{name:C,sources:_,requiredIn:P,isDictionary:O}=w,S=g(C,_),E=P.length>0;return a.jsxs("div",{className:"bg-[#1F2937] border border-[#334155] rounded-lg p-3",children:[a.jsx("label",{className:"block text-sm font-medium text-[#E5E7EB] mb-2",children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[E&&a.jsx(wc,{className:"text-red-500 flex-shrink-0",size:12}),a.jsx("span",{children:C}),a.jsx("div",{className:"flex items-center gap-1 ml-auto flex-wrap",children:_.map(U=>{var G;if(U==="base"){const I=m.base;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs border rounded ${I.color.badge}`,title:" ",children:[I.icon," ",I.shortName]},U)}const L=m[U],R=(G=w.mpData)==null?void 0:G[U],$=R==null?void 0:R.isRequired;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs border rounded ${L.color.badge}`,title:$?`  ${L.name}`:` ${L.name}`,children:[L.icon," ",L.shortName,$&&a.jsx(wc,{size:8,className:"text-red-400"})]},U)})})]})}),O?a.jsx(iM,{marketplace:_.find(U=>U!=="base")||"ozon",categoryId:(M=d[_.find(U=>U!=="base")])==null?void 0:M.category_id,typeId:(A=d[_.find(U=>U!=="base")])==null?void 0:A.type_id,attributeId:(F=(T=w.mpData)==null?void 0:T[_.find(U=>U!=="base")])==null?void 0:F.id,attributeName:C,value:S,onChange:U=>{y(C,U.value,_)},placeholder:" ..."}):a.jsx("input",{type:"text",value:S,onChange:U=>y(C,U.target.value,_),className:"w-full px-3 py-2 bg-[#0F172A] border border-[#334155] rounded text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:E?" ":" "})]},C)};if(Object.values(s).some(w=>w))return a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-current border-t-transparent rounded-full text-[#22D3EE]",role:"status",children:a.jsx("span",{className:"sr-only",children:"..."})}),a.jsx("p",{className:"mt-2 text-gray-400",children:"  ..."})]});if(p.length===0)return a.jsx("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-blue-300 flex items-center gap-2",children:[a.jsx(Un,{}),'     (" :"),   ']})});const b=p.filter(w=>(t[w]||[]).length===0),j=p.filter(w=>(t[w]||[]).length>0),k=h.filter(w=>w.requiredIn.length>0),N=h.filter(w=>w.requiredIn.length===0);return a.jsxs("div",{className:"space-y-6",children:[b.map(w=>a.jsx(sM,{marketplace:w,currentMappingId:o,currentCategoryName:l,onCategorySelected:(C,_,P,O)=>{console.log(`[UnifiedCharacteristics] Category selected for ${C}:`,_),u&&u(C,_,P,O)},onSkip:()=>{console.log(`[UnifiedCharacteristics] Skipped ${w} category selection`)}},`matcher-${w}`)),j.map(w=>{const C=m[w],_=d[w]||{};return a.jsx("div",{className:`${C.color.bg} border ${C.color.border} border-opacity-30 rounded-lg p-4`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 ${C.color.bg} text-white rounded flex items-center justify-center text-xs font-bold`,children:C.shortName}),a.jsxs("div",{children:[a.jsxs("p",{className:`text-sm font-semibold ${C.color.text}`,children:[C.name,": ",l]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",_.category_id," ",_.type_id?`| Type: ${_.type_id}`:""]})]})]}),a.jsxs("button",{type:"button",onClick:()=>{confirm(`  ${C.name}?

  .`)&&u&&u(w,null,null,null)},className:`px-3 py-1.5 ${C.color.bg} bg-opacity-80 hover:bg-opacity-100 text-white text-xs font-semibold rounded flex items-center gap-1.5 transition`,children:[a.jsx(Un,{size:14}),"  "]})]})},`info-${w}`)}),h.length>0&&a.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-cyan-600/30 rounded-lg p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-cyan-600/30 mb-5",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500"}),a.jsx("h3",{className:"text-xl font-bold text-cyan-400",children:"   "}),a.jsxs("span",{className:"text-sm text-gray-400",children:["(",h.length," )"]}),k.length>0&&a.jsxs("span",{className:"ml-auto text-xs text-red-400 flex items-center gap-1",children:[a.jsx(wc,{size:10}),k.length," "]})]}),k.length>0&&a.jsxs("div",{className:"mb-5",children:[a.jsxs("h4",{className:"text-sm font-semibold text-red-400 mb-3 flex items-center gap-2",children:[a.jsx(wc,{size:12}),"  (",k.length,")"]}),a.jsx("div",{className:"space-y-3",children:k.map(w=>v(w))})]}),N.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3",children:["  (",N.length,")"]}),a.jsx("div",{className:"space-y-3",children:N.map(w=>v(w))})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-2",children:[a.jsx(Un,{size:12}),"        "]})})]})]})}function D0(){var xe,Ae,H,te,me,be;const{api:e}=ye(),{id:t}=Kd(),r=Gr(),[n,s]=f.useState(!1),[i,o]=f.useState("card"),[l,u]=f.useState(!1),[c,d]=f.useState([]),[m,p]=f.useState({wb:!1,ozon:!1,yandex:!1,honest_sign:!1}),[h,y]=f.useState({wb:{name:"",description:"",characteristics:{}},ozon:{name:"",description:"",characteristics:{}},yandex:{name:"",description:"",characteristics:{}}}),[g,v]=f.useState({ozon:{category_id:null,category_name:"",type_id:null},wb:{category_id:null,category_name:""},yandex:{category_id:null,category_name:""}}),[x,b]=f.useState({ozon:{},wb:{},yandex:{}}),[j,k]=f.useState({wb:[],ozon:[],yandex:[]}),[N,w]=f.useState({wb:!1,ozon:!1,yandex:!1}),[C,_]=f.useState({wb:!1,ozon:!1,yandex:!1}),[P,O]=f.useState(null),[S,E]=f.useState({article:"",name:"",brand:"",category_id:"",description:"",status:"active",manufacturer:"",country_of_origin:"",label_name:"",price_with_discount:0,price_without_discount:0,price_coefficient:1,purchase_price:0,additional_expenses:0,cost_price:0,vat:0,weight:0,dimensions:{length:0,width:0,height:0},gender:"",season:"",composition:"",care_instructions:"",additional_info:"",website_link:"",characteristics:{}}),[M,A]=f.useState([]),[T,F]=f.useState([]),[U,L]=f.useState("");f.useEffect(()=>{R(),t&&($(),G(),I())},[t]),f.useEffect(()=>{const z=S.purchase_price+S.additional_expenses;z!==S.cost_price&&E(re=>({...re,cost_price:z}))},[S.purchase_price,S.additional_expenses]),f.useEffect(()=>{let z=!1;const re={};Object.keys(m).forEach(B=>{var ne;m[B]&&!((ne=h[B])!=null&&ne.name)&&(z=!0,re[B]={name:S.name,description:S.description,characteristics:S.characteristics})}),z&&y(B=>({...B,...re}))},[m.ozon,m.wb,m.yandex,m.honest_sign]);const R=async()=>{try{const z=await e.get("/api/catalog/categories");d(z.data)}catch(z){console.error("Failed to load categories:",z)}},$=async()=>{try{s(!0);const re=(await e.get(`/api/catalog/products/${t}`)).data;E({...re,dimensions:re.dimensions||{length:0,width:0,height:0},manufacturer:re.manufacturer||"",country_of_origin:re.country_of_origin||"",label_name:re.label_name||re.name||"",price_with_discount:re.price_with_discount||re.price||0,price_without_discount:re.price_without_discount||re.price||0,price_coefficient:re.price_coefficient||1,purchase_price:re.purchase_price||0,additional_expenses:re.additional_expenses||0,cost_price:re.cost_price||0,vat:re.vat||0,gender:re.gender||"",season:re.season||"",composition:re.composition||"",care_instructions:re.care_instructions||"",additional_info:re.additional_info||"",website_link:re.website_link||"",characteristics:re.characteristics||{}}),re.marketplace_specific_data&&y(re.marketplace_specific_data)}catch(z){alert("  : "+z.message),r("/dashboard")}finally{s(!1)}},G=async()=>{try{const z=await e.get(`/api/catalog/products/${t}/variants`);A(z.data)}catch(z){console.error("Failed to load variants:",z)}},I=async()=>{try{const z=await e.get(`/api/catalog/products/${t}/photos`);F(z.data)}catch(z){console.error("Failed to load photos:",z)}},X=async()=>{var z,re;s(!0);try{const B={...S,price:S.price_with_discount,price_discounted:S.price_with_discount<S.price_without_discount?S.price_with_discount:null};if(Object.values(m).some(ie=>ie)&&t){const ie=await e.post(`/api/catalog/products/${t}/save-with-marketplaces`,{product:B,marketplaces:m,marketplace_data:h,category_mappings:g,required_attributes:x});let we=ie.data.message+`

`;const ge=ie.data.marketplace_results||{};Object.keys(ge).forEach(Ne=>{const Me=ge[Ne];Me.success?we+=` ${Ne.toUpperCase()}: ${Me.message}
`:we+=` ${Ne.toUpperCase()}: ${Me.error}
`}),alert(we),$()}else if(t)await e.put(`/api/catalog/products/${t}`,B),alert("  !"),$();else{const ie=await e.post("/api/catalog/products",B);alert("  !"),r(`/catalog/products/${ie.data.id}/edit`)}}catch(B){alert(" : "+(((re=(z=B.response)==null?void 0:z.data)==null?void 0:re.detail)||B.message))}finally{s(!1)}},Z=async z=>{var B,ne;if(!t){alert("  ");return}const re=prompt(` ID   ${z.toUpperCase()}:`);if(re){s(!0);try{const ie=await e.post(`/api/catalog/products/${t}/update-from-marketplace`,{marketplace:z,marketplace_product_id:re});alert(` ${ie.data.message}

: ${ie.data.details.name}
: ${ie.data.details.description_length} 
: ${ie.data.details.characteristics_count}
 : ${ie.data.details.photos_added}`),$(),I()}catch(ie){alert(" : "+(((ne=(B=ie.response)==null?void 0:B.data)==null?void 0:ne.detail)||ie.message))}finally{s(!1)}}},D=async z=>{var re,B;if(!t){alert("  ");return}if(confirm(`   ${z.toUpperCase()}?`)){s(!0);try{const ne=await e.post(`/api/catalog/products/${t}/upload-media/${z}`);alert(` ${ne.data.message}`)}catch(ne){alert(" : "+(((B=(re=ne.response)==null?void 0:re.data)==null?void 0:B.detail)||ne.message))}finally{s(!1)}}},Y=()=>{if(T.length===0){alert("   ");return}alert(`  ${T.length} 

     `)},ae=()=>{if(!t){alert("  ");return}alert(`   

    (  )`)},se=()=>{alert(`   

       ( )`)},K=(z,re)=>{E(B=>({...B,[z]:re}))},de=async(z,re)=>{var B,ne,ie,we;if(!re){alert("   ");return}w(ge=>({...ge,[z]:!0})),_(ge=>({...ge,[z]:!0}));try{const Ne={ozon:"ozon",wb:"wildberries",yandex:"yandex"}[z]||z,pe=(await e.get(`/api/categories/mappings/${re}`)).data;console.log("[loadMarketplaceCharacteristics] Mapping:",pe),console.log("[loadMarketplaceCharacteristics] Looking for key:",Ne);const Se=(B=pe.marketplace_categories)==null?void 0:B[Ne],ke=(ne=pe.marketplace_type_ids)==null?void 0:ne[Ne];if(console.log("[loadMarketplaceCharacteristics] Found categoryId:",Se,"typeId:",ke),!Se){console.warn(`Category not mapped to ${z}`),k(An=>({...An,[z]:[]}));return}let Lt=`/api/categories/marketplace/${z}/${Se}/attributes`;ke&&z==="ozon"&&(Lt+=`?type_id=${ke}`),console.log("[loadMarketplaceCharacteristics]  LOADING FROM:",Lt),console.log("[loadMarketplaceCharacteristics]  CATEGORY ID:",Se),console.log("[loadMarketplaceCharacteristics]  TYPE ID:",ke);const $s=(await e.get(Lt)).data.attributes||[];console.log(`[loadMarketplaceCharacteristics]  RECEIVED ${$s.length} CHARACTERISTICS`),console.log("[loadMarketplaceCharacteristics]  FIRST 3 CHARS:",$s.slice(0,3).map(An=>An.name||An.attribute_name)),k(An=>({...An,[z]:$s})),console.log(`  ${$s.length}   ${z}`)}catch(ge){console.error(`Failed to load ${z} characteristics:`,ge),alert(`   ${z}: ${((we=(ie=ge.response)==null?void 0:ie.data)==null?void 0:we.detail)||ge.message}`)}finally{w(ge=>({...ge,[z]:!1}))}};f.useEffect(()=>{(async()=>{if(console.log("[ProductForm] Loading characteristics, category_mapping_id:",S.category_mapping_id),console.log("[ProductForm] Selected marketplaces:",m),!S.category_mapping_id){console.log("[ProductForm] No category_mapping_id, skipping");return}for(const re of["ozon","wb","yandex"])m[re]&&!N[re]&&(console.log(`[ProductForm] Loading characteristics for ${re} (category: ${S.category_mapping_id})`),await de(re,S.category_mapping_id))})()},[m.ozon,m.wb,m.yandex,S.category_mapping_id]),f.useEffect(()=>{if(!S.marketplace_data||fe.length<2)return;const re=setTimeout(()=>{const B=new Set,ne={};fe.forEach(Ne=>{const Me=j[Ne]||[];ne[Ne]=Me.map(pe=>pe.name||pe.attribute_name||pe.charcName),Me.forEach(pe=>{const Se=pe.name||pe.attribute_name||pe.charcName;B.add(Se)})});const ie=Array.from(B).filter(Ne=>fe.filter(pe=>{var Se;return(Se=ne[pe])==null?void 0:Se.includes(Ne)}).length>1);if(ie.length===0)return;let we=!1;const ge={...S.marketplace_data};ie.forEach(Ne=>{const Me=fe.find(pe=>{var Se,ke;return(ke=(Se=ge[pe])==null?void 0:Se.characteristics)==null?void 0:ke[Ne]});if(Me){const pe=ge[Me].characteristics[Ne];fe.forEach(Se=>{var ke,Lt,Xi;Se!==Me&&((ke=ne[Se])!=null&&ke.includes(Ne))&&((Xi=(Lt=ge[Se])==null?void 0:Lt.characteristics)!=null&&Xi[Ne]||(ge[Se]||(ge[Se]={characteristics:{}}),ge[Se].characteristics||(ge[Se].characteristics={}),ge[Se].characteristics[Ne]=pe,we=!0))})}}),we&&(console.log("[Migration] Migrated common characteristics values between marketplaces"),E(Ne=>({...Ne,marketplace_data:ge})))},500);return()=>clearTimeout(re)},[j,m]);const fe=Object.keys(m).filter(z=>m[z]),Q=async()=>{const z=prompt(" URL :");if(z)try{const re=await e.post(`/api/catalog/products/${t}/photos`,{url:z,order:T.length+1,marketplaces:{wb:!0,ozon:!0,yandex:!0}});F([...T,re.data])}catch(re){alert(": "+re.message)}},_e=async z=>{try{await e.delete(`/api/catalog/products/${t}/photos/${z}`),F(T.filter(re=>re.id!==z))}catch(re){alert(": "+re.message)}};return n&&t?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-mm-cyan"}),a.jsx("p",{className:"text-mm-text-secondary mt-4",children:"..."})]}):a.jsxs("div",{className:"min-h-screen bg-mm-dark pb-32",children:[a.jsxs("div",{className:"bg-mm-secondary border-b border-mm-border p-4",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[a.jsx("button",{onClick:()=>r("/dashboard"),className:"p-2 text-mm-text hover:text-mm-cyan transition",children:a.jsx(Kk,{size:20})}),a.jsx("h1",{className:"text-2xl font-bold text-mm-text",children:t?` : ${S.article}`:" "})]}),t&&a.jsxs("div",{className:"flex items-center gap-1 p-2 bg-cyan-500 rounded relative",children:[a.jsx("button",{type:"button",onClick:X,title:"",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(bi,{size:18})}),a.jsx("button",{type:"button",title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(rr,{size:18})}),a.jsx("button",{type:"button",onClick:X,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(Bt,{size:18})}),a.jsx("button",{type:"button",title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition text-lg",children:""}),a.jsx("button",{type:"button",onClick:se,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(Gn,{size:18})}),a.jsx("button",{type:"button",onClick:ae,title:"",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(Xd,{size:18})}),a.jsx("button",{type:"button",title:"  ",className:"p-2 text-white hover:bg-white/20 rounded transition text-lg",children:""}),a.jsx("button",{type:"button",onClick:()=>D("wb"),title:" Wildberries",className:"w-8 h-8 bg-purple-600 text-white rounded flex items-center justify-center hover:bg-purple-700 transition text-xs font-bold",children:"WB"}),a.jsx("button",{type:"button",onClick:()=>D("ozon"),title:" Ozon",className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition text-xs font-bold",children:"O"}),a.jsx("button",{type:"button",onClick:Y,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(Wt,{size:18})}),a.jsx("button",{type:"button",onClick:async()=>{if(confirm("  ?"))try{await e.delete(`/api/catalog/products/${t}`),alert("  "),r("/dashboard")}catch(z){alert(": "+z.message)}},title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(hn,{size:18})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{type:"button",onClick:()=>u(!l),title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(Qk,{size:18})}),l&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),a.jsx("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50",children:a.jsxs("div",{className:"py-2",children:[a.jsx("button",{onClick:()=>{alert(`    

    `),u(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    "}),a.jsx("button",{onClick:()=>{const z=prompt("   ? (wb, ozon, yandex)");z&&Z(z),u(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"  ,   "}),a.jsx("button",{onClick:()=>{const z=prompt("   ? (wb, ozon, yandex)");z&&Z(z),u(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"  "}),a.jsx("button",{onClick:()=>{Y(),u(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    "}),a.jsx("button",{onClick:()=>{D("ozon"),u(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    Ozon"}),a.jsx("hr",{className:"my-2"}),a.jsx("button",{onClick:()=>{alert(`   

    `),u(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"   "})]})})]})]})]}),t&&a.jsx("div",{className:"flex gap-1 mt-3 border-b border-mm-border overflow-x-auto",children:["card","keywords","analytics","prices","mass_edit","hypotheses","suppliers","stock","documents","duplicates"].map(z=>{const re={card:"",keywords:" ",analytics:"",prices:"",mass_edit:" ",hypotheses:"",suppliers:"",stock:"",documents:"",duplicates:""};return a.jsxs("button",{onClick:()=>o(z),className:`px-4 py-2 font-medium transition whitespace-nowrap relative ${i===z?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-text"}`,children:[re[z],z==="hypotheses"&&a.jsx("span",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 text-[10px] bg-orange-500 text-white rounded font-bold",children:"NEW"})]},z)})})]}),a.jsx("div",{className:"max-w-[1600px] mx-auto px-6 py-6",children:a.jsxs("form",{onSubmit:z=>{z.preventDefault(),X()},children:[i==="card"&&a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-3",children:a.jsxs("div",{className:"bg-mm-secondary p-4 rounded-lg sticky top-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-mm-text mb-3",children:""}),a.jsx("div",{className:"space-y-2",children:T.length===0?a.jsxs("div",{className:"border-2 border-dashed border-mm-border rounded-lg p-8 text-center",children:[a.jsx(mh,{className:"mx-auto text-4xl text-mm-text-secondary mb-2"}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:" "})]}):a.jsx("div",{className:"grid grid-cols-2 gap-2",children:T.map(z=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:z.url,alt:"Product",className:"w-full h-24 object-cover rounded bg-mm-dark"}),a.jsx("button",{type:"button",onClick:()=>_e(z.id),className:"absolute top-1 right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition text-xs font-bold",children:""})]},z.id))})}),t&&a.jsx("button",{type:"button",onClick:Q,className:"w-full mt-3 px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded text-sm font-medium",children:"+  "})]})}),a.jsxs("div",{className:"col-span-9 space-y-6",children:[t&&a.jsx("div",{className:"bg-mm-secondary p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-mm-text",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsxs("span",{className:"ml-2 font-semibold",children:[M.length,"  ",M.length]})]}),a.jsx("button",{type:"button",onClick:async()=>{const z=prompt(":"),re=prompt(":");if(!(!z||!re))try{const B=await e.post(`/api/catalog/products/${t}/variants`,{color:z,size:re,sku:`${S.article}-${z.slice(0,3).toUpperCase()}-${re}`});A([...M,B.data])}catch(B){alert(": "+B.message)}},className:"px-4 py-2 bg-orange-500 text-white hover:bg-orange-600 rounded text-sm font-semibold",children:""})]})}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsx(aM,{productName:S.name,initialCategoryMappingId:S.category_mapping_id,selectedMarketplaces:Object.keys(m).filter(z=>m[z]),onCategorySelected:z=>{var re,B,ne,ie;console.log("[ProductForm] Category selected:",z),z?(O(z),v({ozon:{category_id:(re=z.marketplace_categories)==null?void 0:re.ozon,category_name:z.internal_name,type_id:(B=z.marketplace_type_ids)==null?void 0:B.ozon},wb:{category_id:(ne=z.marketplace_categories)==null?void 0:ne.wildberries,category_name:z.internal_name},yandex:{category_id:(ie=z.marketplace_categories)==null?void 0:ie.yandex,category_name:z.internal_name}}),_({wb:!1,ozon:!1,yandex:!1}),k({wb:[],ozon:[],yandex:[]}),E(we=>{var ge,Ne,Me;return{...we,category_mapping_id:z.id,marketplace_data:{wb:{...((ge=we.marketplace_data)==null?void 0:ge.wb)||{},characteristics:{}},ozon:{...((Ne=we.marketplace_data)==null?void 0:Ne.ozon)||{},characteristics:{}},yandex:{...((Me=we.marketplace_data)==null?void 0:Me.yandex)||{},characteristics:{}}}}})):(E(we=>({...we,category_mapping_id:null})),O(null),v({ozon:{},wb:{},yandex:{}}))},onAttributesLoaded:z=>{console.log("[ProductForm] Attributes loaded:",z),y(re=>{const B={...re};return Object.keys(z).forEach(ne=>{B[ne]||(B[ne]={}),B[ne].attributes=z[ne]}),B})}}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["      ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",value:S.article,onChange:z=>K("article",z.target.value),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",value:S.name,onChange:z=>K("name",z.target.value),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:[" ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:S.brand,onChange:z=>K("brand",z.target.value),required:!0,className:"flex-1 px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"}),a.jsx("button",{type:"button",className:"px-4 py-2 bg-cyan-500 text-white hover:bg-cyan-600 rounded text-sm font-semibold",children:""}),a.jsx("button",{type:"button",className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded",children:a.jsx(Ra,{size:18})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:S.manufacturer,onChange:z=>K("manufacturer",z.target.value),className:"flex-1 px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"}),a.jsx("button",{type:"button",className:"px-4 py-2 bg-cyan-500 text-white hover:bg-cyan-600 rounded text-sm font-semibold",children:""}),a.jsx("button",{type:"button",className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded",children:a.jsx(Ra,{size:18})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),a.jsx("input",{type:"text",value:S.country_of_origin,onChange:z=>K("country_of_origin",z.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:"  "}),a.jsx("input",{type:"text",value:S.label_name,onChange:z=>K("label_name",z.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:""}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["    ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.price_with_discount/100,onChange:z=>K("price_with_discount",Math.round(parseFloat(z.target.value||0)*100)),step:"0.01",required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["    ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.price_without_discount/100,onChange:z=>K("price_without_discount",Math.round(parseFloat(z.target.value||0)*100)),step:"0.01",required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),a.jsx("input",{type:"number",value:S.purchase_price/100,onChange:z=>K("purchase_price",Math.round(parseFloat(z.target.value||0)*100)),step:"0.01",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:".  "}),a.jsx("input",{type:"number",value:S.additional_expenses/100,onChange:z=>K("additional_expenses",Math.round(parseFloat(z.target.value||0)*100)),step:"0.01",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),a.jsx("input",{type:"number",value:S.cost_price/100,readOnly:!0,className:"w-full px-3 py-2 bg-mm-dark/50 border border-mm-border rounded text-mm-text-secondary cursor-not-allowed"})]})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:""}),a.jsxs("span",{className:"text-xs text-mm-text-secondary",children:[S.description.length," / 2000"]})]}),a.jsx("textarea",{value:S.description,onChange:z=>K("description",z.target.value),rows:"5",maxLength:2e3,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none resize-none"})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase mb-3",children:"    "}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.dimensions.length,onChange:z=>K("dimensions",{...S.dimensions,length:parseInt(z.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.dimensions.width,onChange:z=>K("dimensions",{...S.dimensions,width:parseInt(z.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.dimensions.height,onChange:z=>K("dimensions",{...S.dimensions,height:parseInt(z.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:S.weight,onChange:z=>K("weight",parseInt(z.target.value)||0),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]})]}),(m.ozon||m.wb)&&a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:"  "}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.ozon&&a.jsxs("div",{className:"p-4 bg-mm-dark rounded border border-blue-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"O"}),a.jsx("span",{className:"text-sm font-semibold text-blue-400",children:"Ozon"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"   "}),a.jsx("input",{type:"number",value:S.ozon_price||"",onChange:z=>E({...S,ozon_price:parseFloat(z.target.value)||0}),placeholder:"1990",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-blue-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"   "}),a.jsx("input",{type:"number",value:S.ozon_old_price||"",onChange:z=>E({...S,ozon_old_price:parseFloat(z.target.value)||0}),placeholder:"2490",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-blue-500 outline-none"})]}),S.ozon_price&&S.ozon_old_price&&a.jsxs("p",{className:"text-xs text-green-400 font-medium",children:[": ",Math.round((S.ozon_old_price-S.ozon_price)/S.ozon_old_price*100),"%"]})]})]}),m.wb&&a.jsxs("div",{className:"p-4 bg-mm-dark rounded border border-purple-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"w-6 h-6 bg-purple-600 text-white rounded flex items-center justify-center text-xs font-bold",children:"WB"}),a.jsx("span",{className:"text-sm font-semibold text-purple-400",children:"Wildberries"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"  "}),a.jsx("input",{type:"number",value:S.wb_regular_price||"",onChange:z=>E({...S,wb_regular_price:parseFloat(z.target.value)||0}),placeholder:"2490",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-purple-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"   "}),a.jsx("input",{type:"number",value:S.wb_discount_price||"",onChange:z=>E({...S,wb_discount_price:parseFloat(z.target.value)||0}),placeholder:"1990",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-purple-500 outline-none"})]}),S.wb_regular_price&&S.wb_discount_price&&a.jsxs("p",{className:"text-xs text-green-400 font-medium",children:[": ",Math.round((S.wb_regular_price-S.wb_discount_price)/S.wb_regular_price*100),"%"]})]})]})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-6",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase mb-4",children:" "}),a.jsx(oM,{selectedMarketplaces:m,characteristicsByMarketplace:j,valuesByMarketplace:{wb:((Ae=(xe=S.marketplace_data)==null?void 0:xe.wb)==null?void 0:Ae.characteristics)||{},ozon:((te=(H=S.marketplace_data)==null?void 0:H.ozon)==null?void 0:te.characteristics)||{},yandex:((be=(me=S.marketplace_data)==null?void 0:me.yandex)==null?void 0:be.characteristics)||{}},baseCharacteristics:S.characteristics||{},currentMappingId:S.category_mapping_id,currentCategoryName:(P==null?void 0:P.internal_name)||"",categoryMappings:g,onMappingUpdated:async(z,re,B,ne)=>{if(console.log(`[ProductForm] Mapping updated for ${z}:`,re),re===null){console.log(`[ProductForm] Resetting mapping for ${z}`),_(ie=>({...ie,[z]:!1})),k(ie=>({...ie,[z]:[]})),v(ie=>({...ie,[z]:{}})),E(ie=>{var we;return{...ie,marketplace_data:{...ie.marketplace_data,[z]:{...((we=ie.marketplace_data)==null?void 0:we[z])||{},characteristics:{}}}}});return}v(ie=>({...ie,[z]:{category_id:re,category_name:B,type_id:ne}})),_(ie=>({...ie,[z]:!1})),await de(z,S.category_mapping_id)},onBaseCharacteristicChange:(z,re)=>{E(B=>({...B,characteristics:{...B.characteristics,[z]:re}}))},onChange:(z,re,B,ne)=>{E(ie=>{var we,ge,Ne;return{...ie,marketplace_data:{...ie.marketplace_data,[z]:{...(we=ie.marketplace_data)==null?void 0:we[z],characteristics:{...(Ne=(ge=ie.marketplace_data)==null?void 0:ge[z])==null?void 0:Ne.characteristics,[B]:ne}}}}})},loading:N})]})]})]}),i==="prices"&&a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[a.jsx("h2",{className:"text-xl font-bold text-mm-text mb-6",children:""}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:"  "}),a.jsxs("p",{className:"text-2xl font-bold text-mm-cyan",children:[(S.price_with_discount/100).toFixed(2)," "]})]}),a.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:"  "}),a.jsxs("p",{className:"text-2xl font-bold text-mm-text",children:[(S.price_without_discount/100).toFixed(2)," "]})]}),a.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:""}),a.jsxs("p",{className:"text-2xl font-bold text-mm-text",children:[(S.cost_price/100).toFixed(2)," "]})]})]})]}),i!=="card"&&i!=="prices"&&a.jsx("div",{className:"bg-mm-secondary p-6 rounded-lg text-center py-12",children:a.jsxs("p",{className:"text-mm-text-secondary",children:[' "',i,'"  ']})})]})}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 shadow-lg z-30",children:a.jsxs("div",{className:"max-w-[1600px] mx-auto flex justify-between items-center",children:[a.jsx("button",{type:"button",onClick:X,disabled:n,className:"px-8 py-3 bg-cyan-500 text-white hover:bg-cyan-600 rounded font-bold disabled:opacity-50",children:""}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-gray-700 font-medium",children:" :"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.honest_sign,onChange:z=>p({...m,honest_sign:z.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.ozon,onChange:z=>p({...m,ozon:z.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"w-7 h-7 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"O"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.wb,onChange:z=>p({...m,wb:z.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"w-7 h-7 bg-purple-600 text-white rounded flex items-center justify-center text-xs font-bold",children:"WB"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.yandex,onChange:z=>p({...m,yandex:z.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"w-7 h-7 bg-red-500 text-white rounded flex items-center justify-center text-xs font-bold",children:""})]})]})]})})]})}function lM(){const{api:e}=ye(),t=Gr(),[r,n]=f.useState(1),[s,i]=f.useState(""),[o,l]=f.useState(""),[u,c]=f.useState(null),[d,m]=f.useState(!1),[p,h]=f.useState(null),y=b=>{const j=b.target.files[0];if(j){if(!j.name.endsWith(".xlsx")&&!j.name.endsWith(".xls")){alert(",  Excel  (.xlsx  .xls)");return}c(j)}},g=()=>{alert("  Excel     ")},v=async()=>{var b,j;if(!o){alert(" ");return}m(!0);try{const k=await e.post("/api/catalog/import/marketplace",null,{params:{marketplace:o}});h(k.data),n(3)}catch(k){alert(" : "+(((j=(b=k.response)==null?void 0:b.data)==null?void 0:j.detail)||k.message))}finally{m(!1)}},x=async()=>{if(!u){alert(" ");return}m(!0);try{new FormData().append("file",u),alert("  Excel     ")}catch(b){alert(" : "+b.message)}finally{m(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Cy,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"       Excel"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:`flex items-center gap-2 ${r>=1?"text-mm-cyan":"text-mm-text-secondary"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=1?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"1"}),a.jsx("span",{className:"text-sm",children:" "})]}),a.jsx("div",{className:"flex-1 h-px bg-mm-border"}),a.jsxs("div",{className:`flex items-center gap-2 ${r>=2?"text-mm-cyan":"text-mm-text-secondary"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=2?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"2"}),a.jsx("span",{className:"text-sm",children:" "})]}),a.jsx("div",{className:"flex-1 h-px bg-mm-border"}),a.jsxs("div",{className:`flex items-center gap-2 ${r>=3?"text-mm-cyan":"text-mm-text-secondary"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=3?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"3"}),a.jsx("span",{className:"text-sm",children:""})]})]}),r===1&&a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsx("div",{onClick:()=>{i("marketplace"),n(2)},className:`p-8 rounded-lg cursor-pointer transition border-2 ${s==="marketplace"?"border-mm-cyan bg-mm-cyan/10":"border-mm-border bg-mm-secondary hover:border-mm-cyan/50"}`,children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-mm-cyan/20 rounded-full flex items-center justify-center",children:a.jsx(Wt,{className:"text-3xl text-mm-cyan"})}),a.jsx("h3",{className:"text-xl font-bold text-mm-text",children:"  "}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:"    Wildberries, Ozon  .  API"}),a.jsxs("ul",{className:"text-xs text-mm-text-secondary text-left space-y-2",children:[a.jsx("li",{children:"    "}),a.jsx("li",{children:" , , "}),a.jsx("li",{children:"  "})]})]})}),a.jsx("div",{onClick:()=>{i("excel"),n(2)},className:`p-8 rounded-lg cursor-pointer transition border-2 ${s==="excel"?"border-mm-cyan bg-mm-cyan/10":"border-mm-border bg-mm-secondary hover:border-mm-cyan/50"}`,children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-mm-cyan/20 rounded-full flex items-center justify-center",children:a.jsx(rr,{className:"text-3xl text-mm-cyan"})}),a.jsx("h3",{className:"text-xl font-bold text-mm-text",children:"  Excel"}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:"    Excel-  "}),a.jsxs("ul",{className:"text-xs text-mm-text-secondary text-left space-y-2",children:[a.jsx("li",{children:"   "}),a.jsx("li",{children:"   Excel"}),a.jsx("li",{children:"  "})]})]})})]}),r===2&&s==="marketplace"&&a.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" "}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:["ozon","wb","yandex"].map(b=>{const j={ozon:"Ozon",wb:"Wildberries",yandex:"."},k={ozon:"blue",wb:"purple",yandex:"red"};return a.jsx("div",{onClick:()=>l(b),className:`p-6 rounded-lg cursor-pointer transition border-2 text-center ${o===b?`border-${k[b]}-500 bg-${k[b]}-500/10`:"border-mm-border hover:border-mm-cyan/50"}`,children:a.jsx("h3",{className:"text-lg font-bold text-mm-text",children:j[b]})},b)})}),a.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-4",children:a.jsxs("p",{className:"text-blue-300 text-sm",children:[" ",a.jsx("strong",{children:":"}),' ,           "".']})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>n(1),className:"px-6 py-3 bg-mm-dark text-mm-text hover:bg-mm-dark/80 rounded",children:""}),a.jsx("button",{onClick:v,disabled:!o||d,className:"flex-1 px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:d?"...":" "})]})]}),r===2&&s==="excel"&&a.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" Excel "}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-bold text-mm-text mb-2",children:" 1:  "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mb-4",children:"  Excel,        "}),a.jsxs("button",{onClick:g,className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center gap-2",children:[a.jsx(Wt,{}),"   Excel"]})]}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-bold text-mm-text mb-2",children:" 2:  "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mb-4",children:"  Excel   "}),a.jsxs("div",{className:"border-2 border-dashed border-mm-border rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:y,className:"hidden",id:"file-upload"}),a.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer inline-block",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(rr,{className:"mx-auto text-4xl text-mm-cyan"}),a.jsx("p",{className:"text-mm-text",children:u?u.name:"     "}),a.jsx("p",{className:"text-xs text-mm-text-secondary",children:" : .xlsx, .xls"})]})})]})]}),a.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded p-4",children:a.jsxs("p",{className:"text-yellow-300 text-sm",children:[" ",a.jsx("strong",{children:":"}),"          .    ."]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>n(1),className:"px-6 py-3 bg-mm-dark text-mm-text hover:bg-mm-dark/80 rounded",children:""}),a.jsx("button",{onClick:x,disabled:!u||d,className:"flex-1 px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:d?"...":" "})]})]}),r===3&&p&&a.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-green-500/20 rounded-full flex items-center justify-center mb-4",children:a.jsx(Bt,{className:"text-4xl text-green-400"})}),a.jsx("h2",{className:"text-2xl font-bold text-mm-text mb-2",children:" !"}),a.jsx("p",{className:"text-mm-text-secondary",children:"    "})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold text-green-400",children:p.created||0}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-400",children:p.updated||0}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold text-red-400",children:p.errors||0}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]})]}),a.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded",children:"  "})]})]})}function cM(){const{api:e}=ye(),[t,r]=f.useState("ozon"),[n,s]=f.useState(""),[i,o]=f.useState([]),[l,u]=f.useState(!1),[c,d]=f.useState([]),[m,p]=f.useState([]),[h,y]=f.useState([]),[g,v]=f.useState([]),[x,b]=f.useState(""),[j,k]=f.useState(!1);f.useEffect(()=>{N(),w()},[]);const N=async()=>{try{const T=(await e.get("/api/seller/api-keys")).data||[];if(o(T),T.length>0){const F=T[T.length-1];s(F.id),r(F.marketplace)}}catch(A){console.error("Failed to load integrations:",A)}},w=async()=>{try{const A=await e.get("/api/catalog/products",{params:{limit:1e3}});p(A.data)}catch(A){console.error("Failed to load local products:",A)}},C=async()=>{var A,T;if(!n){alert(" ");return}u(!0);try{const U=(await e.get(`/api/marketplaces/${t}/products`,{params:{integration_id:n}})).data;console.log(` Loaded ${U.length} products from ${t} (integration: ${n})`),d(U),_(U,m)}catch(F){alert("  : "+(((T=(A=F.response)==null?void 0:A.data)==null?void 0:T.detail)||F.message))}finally{u(!1)}},_=(A,T)=>{const F=[],U=[];console.log(` Matching ${A.length} MP products with ${T.length} local products`),console.log(` Selected marketplace: ${t}`),A.forEach(L=>{const R=T.find($=>{const I=($.marketplace_specific_data||$.marketplace_data||{})[t];if(console.log(`  Checking ${$.article}: mpInfo =`,I),t==="ozon"){const X=(I==null?void 0:I.id)===L.id||(I==null?void 0:I.offer_id)===L.sku;return X&&console.log(`     Matched Ozon: ${I.id} === ${L.id}`),X}else if(t==="wb"){const X=(I==null?void 0:I.nm_id)===L.id||(I==null?void 0:I.id)===L.id||(I==null?void 0:I.vendor_code)===L.sku;return X&&console.log(`     Matched WB: ${I.nm_id||I.id} === ${L.id}`),X}else if(t==="yandex"){const X=(I==null?void 0:I.offer_id)===L.sku;return X&&console.log(`     Matched Yandex: ${I.offer_id} === ${L.sku}`),X}return!1});if(R)console.log(`   Found link: ${L.sku}  ${R.article}`),F.push({mpProduct:L,localProduct:R,matchType:"linked"});else{const $=T.filter(G=>G.article.toLowerCase().includes(L.sku.toLowerCase())||L.sku.toLowerCase().includes(G.article.toLowerCase()));U.push({mpProduct:L,suggestions:$.slice(0,3),matchType:"unmatched"})}}),y(F),v(U),console.log(` Matched: ${F.length}, Unmatched: ${U.length}`),(F.length>0||U.length>0)&&q.success(` !

 : ${F.length}
  : ${U.length}`,{duration:5e3})},P=async(A,T)=>{var F,U,L;try{console.log(" Linking:",A.sku,"",T.article),console.log("MP Product:",A),console.log("Local Product:",T);const R={product:A,duplicate_action:"link_only"};console.log("Sending payload:",R);const $=await e.post("/api/products/import-from-marketplace",R);if(console.log("Response:",$.data),$.data.status==="duplicate_found"){alert("   .     .");return}alert(`  !

${A.name} (${t.toUpperCase()})   ${T.name}`);const I=(await e.get("/api/catalog/products",{params:{limit:1e3}})).data;p(I),_(c,I)}catch(R){console.error("Link error:",R),console.error("Error response:",(F=R.response)==null?void 0:F.data),alert(" : "+(((L=(U=R.response)==null?void 0:U.data)==null?void 0:L.detail)||R.message))}},O=async A=>{var T,F;if(confirm("   ?"))try{const U=m.find(G=>G.id===A);if(!U){alert("  ");return}const L={...U.marketplace_data||{}};delete L[t],await e.put(`/api/catalog/products/${A}`,{marketplace_data:L}),alert("  ");const $=(await e.get("/api/catalog/products",{params:{limit:1e3}})).data;p($),_(c,$)}catch(U){console.error("Unlink error:",U),alert(": "+(((F=(T=U.response)==null?void 0:T.data)==null?void 0:F.detail)||U.message))}},S=()=>{let A=g;return x&&(A=A.filter(T=>T.mpProduct.sku.toLowerCase().includes(x.toLowerCase())||T.mpProduct.name.toLowerCase().includes(x.toLowerCase()))),j&&(A=A.filter(T=>T.suggestions.length>0)),A},E={ozon:{icon:"O",color:"bg-blue-500",name:"Ozon"},wb:{icon:"WB",color:"bg-purple-600",name:"Wildberries"},yandex:{icon:"",color:"bg-red-500",name:"."}},M=E[t]||E.ozon;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Cy,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"       "})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-4 rounded-lg space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 uppercase",children:""}),a.jsx("select",{value:n,onChange:A=>{s(A.target.value);const T=i.find(F=>F.id===A.target.value);T&&r(T.marketplace)},className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:i.filter(A=>["ozon","wb","yandex"].includes(A.marketplace)).map(A=>a.jsxs("option",{value:A.id,children:[A.marketplace.toUpperCase(),": ",A.name||A.client_id||"API"]},A.id))})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:C,disabled:l,className:"w-full px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center justify-center gap-2 disabled:opacity-50",children:[a.jsx(Ot,{className:l?"animate-spin":""}),l?"...":" "]})}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:()=>_(c,m),disabled:c.length===0,className:"w-full px-4 py-2 bg-green-600 text-white hover:bg-green-700 rounded flex items-center justify-center gap-2 disabled:opacity-50",children:[a.jsx(To,{}),""]})})]}),c.length>0&&a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-mm-dark p-3 rounded",children:[a.jsxs("p",{className:"text-xs text-mm-text-secondary",children:["  ",M.name]}),a.jsx("p",{className:"text-2xl font-bold text-mm-cyan",children:c.length})]}),a.jsxs("div",{className:"bg-mm-dark p-3 rounded",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:""}),a.jsx("p",{className:"text-2xl font-bold text-green-400",children:h.length})]}),a.jsxs("div",{className:"bg-mm-dark p-3 rounded",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:" "}),a.jsx("p",{className:"text-2xl font-bold text-orange-400",children:g.length})]})]})]}),c.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-mm-secondary rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-mm-dark p-4 border-b border-mm-border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-lg font-bold text-orange-400 flex items-center gap-2",children:[a.jsx(It,{className:"text-orange-400"}),"  (",g.length,")"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-mm-text-secondary"}),a.jsx("input",{type:"text",placeholder:"...",value:x,onChange:A=>b(A.target.value),className:"pl-10 pr-4 py-2 bg-mm-dark border border-mm-border rounded text-mm-text text-sm focus:border-mm-cyan outline-none w-64"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-mm-text cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:j,onChange:A=>k(A.target.checked),className:"w-4 h-4"}),a.jsx(_y,{className:"text-mm-cyan"}),"  "]})]})]})}),a.jsxs("div",{className:"divide-y divide-mm-border max-h-[500px] overflow-y-auto",children:[S().map((A,T)=>a.jsx("div",{className:"p-4 hover:bg-mm-dark/50 transition",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 items-start",children:[a.jsx("div",{className:"col-span-5",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-10 h-10 ${M.color} text-white rounded flex items-center justify-center text-xs font-bold flex-shrink-0`,children:M.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-mm-text truncate",children:A.mpProduct.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",A.mpProduct.sku]}),A.mpProduct.barcode&&a.jsxs("p",{className:"text-xs text-mm-text-secondary",children:[": ",A.mpProduct.barcode]})]})]})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("div",{className:"text-2xl text-mm-text-secondary",children:""})}),a.jsx("div",{className:"col-span-5",children:A.suggestions.length>0?a.jsx("div",{className:"space-y-2",children:A.suggestions.map(F=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-mm-dark rounded border border-green-500/30",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-mm-text truncate",children:F.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",F.article]})]}),a.jsxs("button",{onClick:()=>P(A.mpProduct,F),className:"ml-2 px-3 py-1 bg-green-600 text-white hover:bg-green-700 rounded text-xs font-medium flex items-center gap-1",children:[a.jsx(To,{size:12}),""]})]},F.id))}):a.jsx("div",{className:"text-sm text-mm-text-secondary italic",children:"  "})})]})},T)),S().length===0&&a.jsx("div",{className:"p-8 text-center text-mm-text-secondary",children:x||j?"   ":"  "})]})]}),a.jsxs("div",{className:"bg-mm-secondary rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-mm-dark p-4 border-b border-mm-border",children:a.jsxs("h2",{className:"text-lg font-bold text-green-400 flex items-center gap-2",children:[a.jsx(Bt,{className:"text-green-400"}),"  (",h.length,")"]})}),a.jsxs("div",{className:"divide-y divide-mm-border max-h-[400px] overflow-y-auto",children:[h.map((A,T)=>a.jsx("div",{className:"p-4 hover:bg-mm-dark/50 transition",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[a.jsx("div",{className:"col-span-5",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-10 h-10 ${M.color} text-white rounded flex items-center justify-center text-xs font-bold flex-shrink-0`,children:M.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-mm-text truncate",children:A.mpProduct.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",A.mpProduct.sku]})]})]})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center gap-1 text-green-400",children:[a.jsx(To,{}),a.jsx("span",{className:"text-xs",children:""})]})}),a.jsx("div",{className:"col-span-4",children:a.jsx("div",{className:"flex items-start gap-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-mm-text truncate",children:A.localProduct.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",A.localProduct.article]})]})})}),a.jsx("div",{className:"col-span-1 flex justify-end",children:a.jsx("button",{onClick:()=>O(A.localProduct.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded transition",title:" ",children:a.jsx(It,{})})})]})},T)),h.length===0&&a.jsx("div",{className:"p-8 text-center text-mm-text-secondary",children:"  "})]})]})]}),c.length===0&&a.jsxs("div",{className:"bg-mm-secondary p-12 rounded-lg text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("p",{className:"text-mm-text-secondary text-lg",children:'    " "'})]})]})}const pa=({value:e,onChange:t,suffix:r=""})=>{const[n,s]=f.useState(!1),[i,o]=f.useState(e||"");f.useEffect(()=>{o(e||"")},[e]);const l=()=>{s(!1),i!==e&&t(i)},u=c=>{c.key==="Enter"&&l(),c.key==="Escape"&&(o(e||""),s(!1))};return n?a.jsx("input",{type:"number",value:i,onChange:c=>o(c.target.value),onBlur:l,onKeyDown:u,autoFocus:!0,className:"w-[70px] px-2 py-1 bg-mm-dark border-2 border-mm-cyan rounded text-mm-cyan text-sm focus:outline-none text-center"}):a.jsx("div",{onClick:()=>s(!0),className:"cursor-pointer px-1 py-1 rounded transition-all min-w-[70px] text-center bg-mm-dark border border-dashed border-mm-border hover:border-mm-cyan hover:bg-mm-dark/80",children:e?a.jsxs("span",{className:"text-mm-cyan font-medium text-sm",children:[e,r]}):a.jsx("span",{className:"text-mm-text-secondary/40 text-xs",children:""})})},zs=({value:e,suffix:t=""})=>a.jsx("div",{className:"text-mm-text text-center px-1 py-1 min-w-[70px] font-medium text-sm",children:e?`${e}${t}`:""}),uM=({fbo:e,fbs:t})=>!e&&!t?a.jsx("span",{className:"text-mm-text-secondary text-xs",children:""}):a.jsx("div",{className:"text-xs text-center",children:a.jsxs("span",{className:"text-orange-400",children:[e||t,"%"]})}),dM=()=>{const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState([]),[i,o]=f.useState(!0),[l,u]=f.useState(!1),[c,d]=f.useState(!1),[m,p]=f.useState(""),[h,y]=f.useState(null),[g,v]=f.useState(new Set),[x,b]=f.useState({ozon:!0,wb:!0}),[j,k]=f.useState({});f.useEffect(()=>{N()},[]),f.useEffect(()=>{_()},[t,m]);const N=async()=>{try{o(!0);const D=await e.get("/api/catalog/pricing");r(D.data.products||[]),k({}),v(new Set)}catch(D){console.error("Error fetching products:",D),q.error("  ")}finally{o(!1)}},w=async()=>{u(!0);try{const D=await e.get("/api/catalog/pricing/sync-from-mp");D.data.success?(q.success(` ${D.data.message}`),await N()):q.error(D.data.message||" ")}catch(D){console.error("Sync error:",D),q.error("   ")}finally{u(!1)}},C=async()=>{var Y,ae,se,K,de,fe,Q,_e,xe,Ae;const D=n.filter(H=>{if(!g.has(H.product_id))return!1;const te=j[H.product_id];return te?te["ozon.price"]||te["ozon.old_price"]||te["ozon.min_price"]||te["wb.regular_price"]||te["wb.discount_price"]||te["wb.discount"]:!1});if(D.length===0){q.error("      ");return}d(!0);try{const H={};for(const me of D){const be=j[me.product_id]||{};H[me.product_id]={ozon:me.ozon_linked?{price:parseFloat(be["ozon.price"])||((Y=me.ozon)==null?void 0:Y.price)||0,old_price:parseFloat(be["ozon.old_price"])||((ae=me.ozon)==null?void 0:ae.old_price)||0,min_price:parseFloat(be["ozon.min_price"])||((se=me.ozon)==null?void 0:se.min_price)||0}:null,wb:me.wb_linked?{regular_price:parseFloat(be["wb.regular_price"])||((K=me.wb)==null?void 0:K.regular_price)||0,discount_price:parseFloat(be["wb.discount_price"])||((de=me.wb)==null?void 0:de.discount_price)||0,discount:parseFloat(be["wb.discount"])||((fe=me.wb)==null?void 0:fe.discount)||0}:null}}const te=await e.post("/api/catalog/pricing/push-to-mp",{product_ids:D.map(me=>me.product_id),prices:H});if(console.log("Push to MP response:",te.data),te.data.success){const{results:me}=te.data,be=[];me.ozon.success>0&&be.push(`Ozon: ${me.ozon.success} `),me.wb.success>0&&be.push(`WB: ${me.wb.success} `),be.length>0?q.success(`   : ${be.join(", ")}`,{duration:5e3}):q.warning("  ,    .    ."),((Q=me.ozon.errors)==null?void 0:Q.length)>0&&q.error(`Ozon : ${me.ozon.errors.join(", ")}`,{duration:7e3}),((_e=me.wb.errors)==null?void 0:_e.length)>0&&q.error(`WB : ${me.wb.errors.join(", ")}`,{duration:7e3}),await N()}else q.error(te.data.message||" ")}catch(H){console.error("Push error:",H),q.error(` : ${((Ae=(xe=H.response)==null?void 0:xe.data)==null?void 0:Ae.detail)||H.message}`)}finally{d(!1)}},_=()=>{let D=[...t];if(m){const Y=m.toLowerCase();D=D.filter(ae=>{var se,K;return((se=ae.article)==null?void 0:se.toLowerCase().includes(Y))||((K=ae.name)==null?void 0:K.toLowerCase().includes(Y))})}s(D)},P=D=>{b(Y=>({...Y,[D]:!Y[D]}))},O=D=>{v(Y=>{const ae=new Set(Y);return ae.has(D)?ae.delete(D):ae.add(D),ae})},S=()=>{const D=n.filter(Y=>T(Y.product_id));v(new Set(D.map(Y=>Y.product_id)))},E=(D,Y,ae)=>{k(se=>({...se,[D]:{...se[D],[Y]:ae}}))},M=(D,Y)=>{var ae;return((ae=j[D.product_id])==null?void 0:ae[Y])!==void 0?j[D.product_id][Y]:""},A=(D,Y)=>{const ae=Y.split(".");let se=D;for(const K of ae)se=se==null?void 0:se[K];return se||""},T=D=>j[D]&&Object.keys(j[D]).length>0,F=async D=>{var ae,se,K,de,fe,Q;const Y=j[D.product_id];if(Y){y(D.product_id);try{const _e={};Y.min_allowed_price&&(_e.min_allowed_price=parseFloat(Y.min_allowed_price)||0),Y.cost_price&&(_e.cost_price=parseFloat(Y.cost_price)||0),D.ozon_linked&&(Y["ozon.price"]||Y["ozon.old_price"]||Y["ozon.min_price"])&&(_e.ozon={price:parseFloat(Y["ozon.price"])||((ae=D.ozon)==null?void 0:ae.price)||0,old_price:parseFloat(Y["ozon.old_price"])||((se=D.ozon)==null?void 0:se.old_price)||0,min_price:parseFloat(Y["ozon.min_price"])||((K=D.ozon)==null?void 0:K.min_price)||0}),D.wb_linked&&(Y["wb.regular_price"]||Y["wb.discount_price"]||Y["wb.discount"])&&(_e.wb={regular_price:parseFloat(Y["wb.regular_price"])||((de=D.wb)==null?void 0:de.regular_price)||0,discount_price:parseFloat(Y["wb.discount_price"])||((fe=D.wb)==null?void 0:fe.discount_price)||0,discount:parseFloat(Y["wb.discount"])||((Q=D.wb)==null?void 0:Q.discount)||0}),await e.put(`/api/catalog/pricing/${D.product_id}`,_e),q.success(` : ${D.article}`),k(xe=>{const Ae={...xe};return delete Ae[D.product_id],Ae}),N()}catch(_e){console.error("Save error:",_e),q.error(" ")}finally{y(null)}}},U=t.filter(D=>D.ozon_linked).length,L=t.filter(D=>D.wb_linked).length,R=Object.keys(j).length,$=g.size,G=R>0,X=n.filter(D=>{if(!g.has(D.product_id))return!1;const Y=j[D.product_id];return Y?Y["ozon.price"]||Y["ozon.old_price"]||Y["ozon.min_price"]||Y["wb.regular_price"]||Y["wb.discount_price"]||Y["wb.discount"]||Y.cost_price||Y.min_allowed_price:!1}).length>0,Z=async()=>{const D=n.filter(se=>T(se.product_id));if(D.length===0){q.error("   ");return}let Y=0,ae=0;for(const se of D)try{await F(se),Y++}catch{ae++}Y>0&&q.success(`  : ${Y}`),ae>0&&q.error(`   : ${ae}`)};return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Ot,{className:"w-8 h-8 animate-spin text-mm-cyan"})}):a.jsxs("div",{className:"space-y-6","data-testid":"pricing-page",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:""}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"   "})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:w,disabled:l,className:"px-4 py-2 bg-mm-secondary text-mm-text border border-mm-border rounded hover:border-mm-cyan transition-colors flex items-center gap-2 disabled:opacity-50",children:[l?a.jsx(Ot,{className:"w-4 h-4 animate-spin"}):a.jsx(Wt,{className:"w-4 h-4"}),"  "]}),a.jsxs("button",{onClick:Z,disabled:!G||h!==null,className:`px-4 py-2 font-medium rounded transition-colors flex items-center gap-2 ${G&&h===null?"bg-green-600 text-white hover:bg-green-700 cursor-pointer":"bg-mm-secondary text-mm-text-secondary cursor-not-allowed opacity-50"}`,children:[h!==null?a.jsx(Ot,{className:"w-4 h-4 animate-spin"}):a.jsx(bi,{className:"w-4 h-4"})," ",R>0&&a.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${G?"bg-white/20":"bg-mm-border"}`,children:R})]}),a.jsxs("button",{onClick:C,disabled:c||!X,className:`px-4 py-2 font-medium rounded transition-colors flex items-center gap-2 ${X&&!c?"bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 cursor-pointer":"bg-mm-secondary text-mm-text-secondary cursor-not-allowed opacity-50"}`,children:[c?a.jsx(Ot,{className:"w-4 h-4 animate-spin"}):a.jsx(rr,{className:"w-4 h-4"}),"  ",$>0&&a.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${X?"bg-mm-dark/20":"bg-mm-border"}`,children:$})]})]})]}),a.jsx("div",{className:"bg-mm-secondary p-4 rounded-lg border border-mm-border",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsx("span",{className:"text-sm text-mm-text-secondary",children:":"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:x.ozon,onChange:()=>P("ozon"),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${x.ozon?"bg-blue-500 border-blue-500":"bg-mm-dark border-mm-border group-hover:border-blue-500"}`,children:x.ozon&&a.jsx(Bt,{className:"w-3 h-3 text-white"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"O"}),a.jsx("span",{className:"text-mm-text",children:"Ozon"}),a.jsxs("span",{className:"text-xs text-mm-text-secondary",children:["(",U,")"]})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:x.wb,onChange:()=>P("wb"),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${x.wb?"bg-purple-500 border-purple-500":"bg-mm-dark border-mm-border group-hover:border-purple-500"}`,children:x.wb&&a.jsx(Bt,{className:"w-3 h-3 text-white"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"W"}),a.jsx("span",{className:"text-mm-text",children:"Wildberries"}),a.jsxs("span",{className:"text-xs text-mm-text-secondary",children:["(",L,")"]})]})]}),R>0&&a.jsxs("button",{onClick:S,className:"text-sm text-mm-cyan hover:underline",children:["    (",R,")"]}),a.jsx("div",{className:"flex-1 min-w-[200px] ml-auto",children:a.jsxs("div",{className:"relative",children:[a.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-mm-text-secondary"}),a.jsx("input",{type:"text",placeholder:"  ...",value:m,onChange:D=>p(D.target.value),className:"w-full pl-10 pr-4 py-2 bg-mm-dark border border-mm-border rounded text-mm-text text-sm focus:border-mm-cyan outline-none"})]})})]})}),a.jsx("div",{className:"bg-mm-secondary rounded-lg border border-mm-border overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsxs("thead",{className:"bg-mm-dark",children:[a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"p-2 w-[30px]",rowSpan:"2"}),a.jsx("th",{className:"text-left p-2 font-medium text-mm-text-secondary uppercase text-xs w-[50px]",rowSpan:"2",children:""}),a.jsx("th",{className:"text-left p-2 font-medium text-mm-text-secondary uppercase text-xs min-w-[130px]",rowSpan:"2",children:""}),a.jsx("th",{className:"text-center p-2 font-medium text-green-400 uppercase text-xs w-[80px]",rowSpan:"2",children:"."}),x.ozon&&a.jsx("th",{className:"text-center p-2 font-medium text-blue-400 uppercase text-xs border-l border-mm-border",colSpan:"7",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"O"}),"Ozon"]})}),x.wb&&a.jsx("th",{className:"text-center p-2 font-medium text-purple-400 uppercase text-xs border-l border-mm-border",colSpan:"6",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-purple-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"W"}),"Wildberries"]})}),a.jsxs("th",{className:"text-center p-2 font-medium text-mm-text-secondary uppercase text-xs border-l border-mm-border w-[80px]",rowSpan:"2",children:[".",a.jsx("br",{}),""]})]}),a.jsxs("tr",{className:"border-b border-mm-border bg-mm-dark/70 text-[11px]",children:[x.ozon&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"p-1 text-center text-blue-300/70 font-normal border-l border-mm-border",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-blue-300/70 font-normal",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-blue-300/70 font-normal",children:"."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-orange-400/70 font-normal",children:a.jsx(I0,{className:"inline w-3 h-3"})})]}),x.wb&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"p-1 text-center text-purple-300/70 font-normal border-l border-mm-border",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-purple-300/70 font-normal",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-purple-300/70 font-normal",children:""}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""})]})]})]}),a.jsx("tbody",{children:n.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"20",className:"text-center p-8 text-mm-text-secondary",children:"  "})}):n.map(D=>a.jsxs("tr",{className:`border-b border-mm-border hover:bg-mm-dark/30 transition-colors ${T(D.product_id)?"bg-yellow-500/5":""} ${g.has(D.product_id)?"bg-mm-cyan/5":""}`,children:[a.jsx("td",{className:"p-2 text-center",children:a.jsx("button",{onClick:()=>O(D.product_id),className:"text-mm-text-secondary hover:text-mm-cyan",children:g.has(D.product_id)?a.jsx(ID,{className:"w-4 h-4 text-mm-cyan"}):a.jsx(RD,{className:"w-4 h-4"})})}),a.jsx("td",{className:"p-2",children:D.photo?a.jsx("img",{src:D.photo,alt:"",className:"w-10 h-10 object-cover rounded"}):a.jsx("div",{className:"w-10 h-10 bg-mm-dark rounded flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-mm-text-secondary",children:""})})}),a.jsxs("td",{className:"p-2",children:[a.jsx("div",{className:"font-mono text-sm text-mm-cyan",children:D.article}),a.jsx("div",{className:"text-xs text-mm-text-secondary truncate max-w-[120px]",children:D.name})]}),a.jsx("td",{className:"p-1",children:a.jsx(pa,{value:M(D,"cost_price")||A(D,"cost_price"),onChange:Y=>E(D.product_id,"cost_price",Y)})}),x.ozon&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-1 border-l border-mm-border",children:D.ozon_linked?a.jsx(zs,{value:A(D,"ozon.price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.ozon_linked?a.jsx(pa,{value:M(D,"ozon.price"),onChange:Y=>E(D.product_id,"ozon.price",Y)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:D.ozon_linked?a.jsx(zs,{value:A(D,"ozon.old_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.ozon_linked?a.jsx(pa,{value:M(D,"ozon.old_price"),onChange:Y=>E(D.product_id,"ozon.old_price",Y)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:D.ozon_linked?a.jsx(zs,{value:A(D,"ozon.min_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.ozon_linked?a.jsx(pa,{value:M(D,"ozon.min_price"),onChange:Y=>E(D.product_id,"ozon.min_price",Y)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:D.ozon_linked?a.jsx(uM,{fbo:A(D,"ozon.fbo_commission"),fbs:A(D,"ozon.fbs_commission")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})})]}),x.wb&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-1 border-l border-mm-border",children:D.wb_linked?a.jsx(zs,{value:A(D,"wb.regular_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.wb_linked?a.jsx(pa,{value:M(D,"wb.regular_price"),onChange:Y=>E(D.product_id,"wb.regular_price",Y)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:D.wb_linked?a.jsx(zs,{value:A(D,"wb.discount_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.wb_linked?a.jsx(pa,{value:M(D,"wb.discount_price"),onChange:Y=>E(D.product_id,"wb.discount_price",Y)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:D.wb_linked?a.jsx(zs,{value:A(D,"wb.discount"),suffix:"%"}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:D.wb_linked?a.jsx(pa,{value:M(D,"wb.discount"),onChange:Y=>E(D.product_id,"wb.discount",Y),suffix:"%"}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})})]}),a.jsx("td",{className:"p-1 border-l border-mm-border",children:a.jsx(pa,{value:M(D,"min_allowed_price")||A(D,"min_allowed_price"),onChange:Y=>E(D.product_id,"min_allowed_price",Y)})})]},D.product_id))})]})})}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-mm-text-secondary",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-14 h-5 bg-mm-secondary rounded border border-mm-border"}),a.jsx("span",{children:" "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-14 h-5 bg-mm-dark rounded border border-dashed border-mm-border"}),a.jsx("span",{children:"  "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(I0,{className:"w-4 h-4 text-orange-400"}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bi,{className:"w-4 h-4 text-mm-cyan"}),a.jsx("span",{children:"  "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rr,{className:"w-4 h-4 text-mm-cyan"}),a.jsx("span",{children:"  "})]})]})]})};function mM(){const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState(!1),[l,u]=f.useState(null),[c,d]=f.useState(""),[m,p]=f.useState({internal_name:"",slug:"",site_visibility:!0,default_channels:["site"],ozon_category_id:"",ozon_type_id:"",wb_category_id:"",yandex_category_id:"",internal_attributes:[]}),[h,y]=f.useState({ozon:"",wb:"",yandex:""}),[g,v]=f.useState({ozon:[],wb:[],yandex:[]}),[x,b]=f.useState({});f.useEffect(()=>{j()},[]);const j=async()=>{s(!0);try{const S=await e.get("/api/internal-categories?limit=100");r(S.data.categories||[])}catch(S){console.error("Failed to load categories:",S),alert("  ")}finally{s(!1)}},k=()=>{u(null),p({internal_name:"",slug:"",site_visibility:!0,default_channels:["site"],ozon_category_id:"",ozon_type_id:"",wb_category_id:"",yandex_category_id:"",internal_attributes:[]}),y({ozon:"",wb:"",yandex:""}),v({ozon:[],wb:[],yandex:[]}),o(!0)},N=S=>{var E,M,A,T,F,U,L,R;u(S.id),p({internal_name:S.internal_name,slug:S.slug||"",site_visibility:S.site_visibility??!0,default_channels:S.default_channels||["site"],ozon_category_id:((M=(E=S.marketplace_mappings)==null?void 0:E.ozon)==null?void 0:M.category_id)||"",ozon_type_id:((T=(A=S.marketplace_mappings)==null?void 0:A.ozon)==null?void 0:T.type_id)||"",wb_category_id:((U=(F=S.marketplace_mappings)==null?void 0:F.wb)==null?void 0:U.category_id)||"",yandex_category_id:((R=(L=S.marketplace_mappings)==null?void 0:L.yandex)==null?void 0:R.category_id)||"",internal_attributes:S.internal_attributes||[]}),y({ozon:"",wb:"",yandex:""}),v({ozon:[],wb:[],yandex:[]}),o(!0)},w=async(S,E)=>{var M,A;if(confirm(`  "${E}"?`))try{await e.delete(`/api/internal-categories/${S}`),alert("  "),j()}catch(T){alert(" : "+(((A=(M=T.response)==null?void 0:M.data)==null?void 0:A.detail)||T.message))}},C=async()=>{var S,E;if(!m.internal_name){alert("  ");return}try{l?(await e.put(`/api/internal-categories/${l}`,m),alert("  ")):(await e.post("/api/internal-categories",m),alert("  ")),o(!1),j()}catch(M){alert(" : "+(((E=(S=M.response)==null?void 0:S.data)==null?void 0:E.detail)||M.message))}},_=async S=>{var M,A;const E=h[S];if(!(!E||E.length<2)){b(T=>({...T,[S]:!0}));try{const T=await e.get(`/api/categories/marketplace/${S}/search?query=${encodeURIComponent(E)}`);v(F=>({...F,[S]:T.data.categories||[]}))}catch(T){console.error(`Failed to search ${S}:`,T),alert(`  ${S}: ${((A=(M=T.response)==null?void 0:M.data)==null?void 0:A.detail)||T.message}`)}finally{b(T=>({...T,[S]:!1}))}}},P=(S,E)=>{S==="ozon"?p(M=>({...M,ozon_category_id:E.category_id||E.id,ozon_type_id:E.type_id||""})):S==="wb"?p(M=>({...M,wb_category_id:E.category_id||E.id})):S==="yandex"&&p(M=>({...M,yandex_category_id:E.category_id||E.id})),v(M=>({...M,[S]:[]})),y(M=>({...M,[S]:""}))},O=t.filter(S=>S.internal_name.toLowerCase().includes(c.toLowerCase()));return a.jsx("div",{className:"min-h-screen bg-[#0F172A] text-[#E5E7EB] p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold text-[#06B6D4] mb-2",children:" "}),a.jsx("p",{className:"text-[#A7AFB8]",children:"        "})]}),a.jsxs("button",{onClick:k,className:"px-6 py-3 bg-[#06B6D4] text-[#0B1220] rounded-lg font-bold hover:bg-cyan-400 transition-colors flex items-center gap-2","data-testid":"create-category-button",children:[a.jsx(Or,{}),"  "]})]}),a.jsxs("div",{className:"mb-6 relative",children:[a.jsx(Xn,{className:"absolute left-4 top-3.5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:" ...",value:c,onChange:S=>d(S.target.value),className:"w-full pl-12 pr-4 py-3 bg-[#111827] border border-[#334155] rounded-lg text-white placeholder-gray-500 focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none","data-testid":"category-search-input"})]}),n?a.jsx("div",{className:"text-center py-12 text-gray-400",children:"..."}):O.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-400 mb-4",children:"  "}),a.jsx("button",{onClick:k,className:"px-6 py-2 bg-[#06B6D4] text-[#0B1220] rounded-lg hover:bg-cyan-400",children:"  "})]}):a.jsx("div",{className:"bg-[#111827] border border-[#334155] rounded-xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-[#0F172A] border-b border-[#334155]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:"Slug"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-[#A7AFB8]",children:""})]})}),a.jsx("tbody",{children:O.map(S=>{var E,M,A,T,F,U,L;return a.jsxs("tr",{className:"border-b border-[#334155] hover:bg-slate-800/60 transition-colors","data-testid":`category-row-${S.id}`,children:[a.jsx("td",{className:"px-6 py-4 font-medium",children:S.internal_name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:S.slug||"-"}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-2",children:[((M=(E=S.marketplace_mappings)==null?void 0:E.ozon)==null?void 0:M.category_id)&&a.jsx("span",{className:"px-2 py-1 bg-blue-500 text-white text-xs rounded",children:"Ozon"}),((T=(A=S.marketplace_mappings)==null?void 0:A.wb)==null?void 0:T.category_id)&&a.jsx("span",{className:"px-2 py-1 bg-purple-500 text-white text-xs rounded",children:"WB"}),((U=(F=S.marketplace_mappings)==null?void 0:F.yandex)==null?void 0:U.category_id)&&a.jsx("span",{className:"px-2 py-1 bg-yellow-500 text-black text-xs rounded",children:""})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:((L=S.internal_attributes)==null?void 0:L.length)||0}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>N(S),className:"p-2 text-blue-400 hover:bg-blue-500/20 rounded transition-colors","data-testid":`edit-category-${S.id}`,children:a.jsx(ky,{})}),a.jsx("button",{onClick:()=>w(S.id,S.internal_name),className:"p-2 text-red-400 hover:bg-red-500/20 rounded transition-colors","data-testid":`delete-category-${S.id}`,children:a.jsx(hn,{})})]})})]},S.id)})})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-start justify-center z-50 p-6 overflow-y-auto",children:a.jsxs("div",{className:"bg-[#111827] border border-[#334155] rounded-xl w-full max-w-4xl my-8",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-[#334155] flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-[#06B6D4]",children:l?" ":" "}),a.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(It,{size:24})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-[#A7AFB8] mb-2",children:[" ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:m.internal_name,onChange:S=>p(E=>({...E,internal_name:S.target.value})),className:"w-full px-4 py-2 bg-[#1F2937] border border-[#334155] rounded-lg text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:":  ","data-testid":"category-name-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#A7AFB8] mb-2",children:"Slug"}),a.jsx("input",{type:"text",value:m.slug,onChange:S=>p(E=>({...E,slug:S.target.value})),className:"w-full px-4 py-2 bg-[#1F2937] border border-[#334155] rounded-lg text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:"computer-mice"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"  "}),a.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4 mb-4",children:a.jsxs("p",{className:"text-yellow-200 text-sm flex items-start gap-2",children:[a.jsx(Un,{className:"mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("strong",{children:":"}),"        .       ."]})]})}),a.jsxs("div",{className:"mb-4 p-4 bg-[#1F2937] border-l-4 border-blue-500 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h4",{className:"font-bold text-blue-400",children:"Ozon"}),m.ozon_category_id&&a.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[a.jsx(Bt,{size:12})," : ",m.ozon_category_id]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:h.ozon,onChange:S=>y(E=>({...E,ozon:S.target.value})),onKeyDown:S=>S.key==="Enter"&&_("ozon"),placeholder:"  Ozon ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 outline-none"}),a.jsx("button",{onClick:()=>_("ozon"),disabled:x.ozon||h.ozon.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:x.ozon?"...":""})]}),g.ozon.length>0&&a.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:g.ozon.map((S,E)=>a.jsxs("button",{onClick:()=>P("ozon",S),className:"w-full px-4 py-2 text-left hover:bg-blue-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[a.jsx("div",{className:"font-medium text-white",children:S.category_name||S.name}),a.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",S.category_id||S.id,S.type_id&&` | Type: ${S.type_id}`]})]},E))})]}),a.jsxs("div",{className:"mb-4 p-4 bg-[#1F2937] border-l-4 border-purple-500 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h4",{className:"font-bold text-purple-400",children:"Wildberries"}),m.wb_category_id&&a.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[a.jsx(Bt,{size:12})," : ",m.wb_category_id]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:h.wb,onChange:S=>y(E=>({...E,wb:S.target.value})),onKeyDown:S=>S.key==="Enter"&&_("wb"),placeholder:"  Wildberries ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 outline-none"}),a.jsx("button",{onClick:()=>_("wb"),disabled:x.wb||h.wb.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-purple-500 text-white rounded text-sm hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed",children:x.wb?"...":""})]}),g.wb.length>0&&a.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:g.wb.map((S,E)=>a.jsxs("button",{onClick:()=>P("wb",S),className:"w-full px-4 py-2 text-left hover:bg-purple-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[a.jsx("div",{className:"font-medium text-white",children:S.category_name||S.name}),a.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",S.category_id||S.id]})]},E))})]}),a.jsxs("div",{className:"p-4 bg-[#1F2937] border-l-4 border-yellow-500 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h4",{className:"font-bold text-yellow-400",children:" "}),m.yandex_category_id&&a.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[a.jsx(Bt,{size:12})," : ",m.yandex_category_id]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:h.yandex,onChange:S=>y(E=>({...E,yandex:S.target.value})),onKeyDown:S=>S.key==="Enter"&&_("yandex"),placeholder:"    ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-yellow-500 focus:ring-2 focus:ring-yellow-500/50 outline-none"}),a.jsx("button",{onClick:()=>_("yandex"),disabled:x.yandex||h.yandex.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-yellow-500 text-black rounded text-sm hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed",children:x.yandex?"...":""})]}),g.yandex.length>0&&a.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:g.yandex.map((S,E)=>a.jsxs("button",{onClick:()=>P("yandex",S),className:"w-full px-4 py-2 text-left hover:bg-yellow-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[a.jsx("div",{className:"font-medium text-white",children:S.category_name||S.name}),a.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",S.category_id||S.id]})]},E))})]})]})]}),a.jsxs("div",{className:"px-6 py-4 border-t border-[#334155] flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>o(!1),className:"px-6 py-2 bg-[#374151] text-white rounded-lg hover:bg-[#4B5563] transition-colors",children:""}),a.jsxs("button",{onClick:C,className:"px-6 py-2 bg-[#06B6D4] text-[#0B1220] rounded-lg font-bold hover:bg-cyan-400 transition-colors flex items-center gap-2","data-testid":"save-category-button",children:[a.jsx(bi,{})," "]})]})]})})]})})}function M0(){const{api:e}=ye(),{id:t}=Kd(),r=Gr(),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,u]=f.useState([]),[c,d]=f.useState({warehouse_id:"",supplier_id:"",items:[]}),[m,p]=f.useState(""),[h,y]=f.useState(!1),[g,v]=f.useState(null);f.useEffect(()=>{x(),t&&b()},[t]);const x=async()=>{try{const[E,M,A]=await Promise.all([e.get("/api/warehouses"),e.get("/api/suppliers"),e.get("/api/catalog/products?limit=500")]);s(E.data),o(M.data),u(A.data)}catch(E){q.error("  "),console.error(E)}},b=async()=>{try{const E=await e.get(`/api/income-orders/${t}`);v(E.data),d({warehouse_id:E.data.warehouse_id||"",supplier_id:E.data.supplier_id||"",items:E.data.items||[]})}catch(E){q.error("  "),console.error(E)}},j=E=>{const M=c.items.find(A=>A.article===E.article);d(M?{...c,items:c.items.map(A=>A.article===E.article?{...A,quantity:A.quantity+1}:A)}:{...c,items:[...c.items,{article:E.article,name:E.name,quantity:1,purchase_price:0,additional_expenses:0,total:0}]}),p("")},k=(E,M,A)=>{const T=[...c.items];if(T[E][M]=A,M==="quantity"||M==="purchase_price"||M==="additional_expenses"){const F=T[E];F.total=(F.purchase_price+F.additional_expenses)*F.quantity}d({...c,items:T})},N=E=>{d({...c,items:c.items.filter((M,A)=>A!==E)})},w=async()=>{var E,M;if(!c.warehouse_id||!c.supplier_id){q.error("   ");return}y(!0);try{if(t)await e.put(`/api/income-orders/${t}`,c),q.success(" ");else{const A=await e.post("/api/income-orders",c);q.success(" "),r(`/income-orders/${A.data.order.id}/edit`)}}catch(A){q.error(((M=(E=A.response)==null?void 0:E.data)==null?void 0:M.detail)||" ")}y(!1)},C=async()=>{var E,M;if(!t){q.error("  ");return}if(confirm(" ?   !")){y(!0);try{await e.post(`/api/income-orders/${t}/accept`),q.success(" !  ."),r("/income-orders")}catch(A){q.error(((M=(E=A.response)==null?void 0:E.data)==null?void 0:M.detail)||" ")}y(!1)}},_=async()=>{var E,M;if(confirm(" ?   !")){y(!0);try{await e.post(`/api/income-orders/${t}/cancel`),q.success(" "),b()}catch(A){q.error(((M=(E=A.response)==null?void 0:E.data)==null?void 0:M.detail)||" ")}y(!1)}},P=l.filter(E=>{var M,A;return((M=E.article)==null?void 0:M.toLowerCase().includes(m.toLowerCase()))||((A=E.name)==null?void 0:A.toLowerCase().includes(m.toLowerCase()))}),O=c.items.reduce((E,M)=>({quantity:E.quantity+(M.quantity||0),amount:E.amount+(M.total||0)}),{quantity:0,amount:0}),S=(g==null?void 0:g.status)==="accepted";return a.jsx("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan uppercase mb-2","data-testid":"form-title",children:t?` #${t.substring(0,8)}`:" "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:S?"// ":"// "})]}),a.jsx("div",{className:"flex items-center space-x-2",children:S?a.jsxs("span",{className:"px-4 py-2 bg-mm-green/20 text-mm-green border border-mm-green uppercase text-sm font-mono",children:[a.jsx(FiCheck,{className:"inline mr-2"}),""]}):a.jsx("span",{className:"px-4 py-2 bg-mm-yellow/20 text-mm-yellow border border-mm-yellow uppercase text-sm font-mono",children:""})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card-neon","data-testid":"warehouse-supplier-section",children:[a.jsx("h3",{className:"text-mm-cyan uppercase text-sm mb-4",children:" "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsxs("select",{value:c.warehouse_id,onChange:E=>d({...c,warehouse_id:E.target.value}),className:"input-neon w-full",disabled:S,"data-testid":"warehouse-select",required:!0,children:[a.jsx("option",{value:"",children:" ..."}),n.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsxs("select",{value:c.supplier_id,onChange:E=>d({...c,supplier_id:E.target.value}),className:"input-neon w-full",disabled:S,"data-testid":"supplier-select",required:!0,children:[a.jsx("option",{value:"",children:" ..."}),i.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]})]})]}),a.jsxs("div",{className:"card-neon bg-mm-darker","data-testid":"totals-section",children:[a.jsx("h3",{className:"text-mm-cyan uppercase text-sm mb-4",children:""}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsx("span",{className:"text-2xl font-mono font-bold text-mm-text",children:c.items.length})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" :"}),a.jsx("span",{className:"text-2xl font-mono font-bold text-mm-cyan",children:O.quantity})]}),a.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsxs("span",{className:"text-2xl font-mono font-bold text-mm-green",children:[(O.amount/100).toFixed(2)," "]})]})]})]})]}),!S&&a.jsxs("div",{className:"card-neon","data-testid":"add-products-section",children:[a.jsx("h3",{className:"text-mm-cyan uppercase text-sm mb-4",children:" "}),a.jsxs("div",{className:"relative",children:[a.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-mm-text-tertiary"}),a.jsx("input",{type:"text",value:m,onChange:E=>p(E.target.value),className:"input-neon w-full pl-10",placeholder:"    ...","data-testid":"product-search-input"})]}),m&&P.length>0&&a.jsx("div",{className:"mt-2 max-h-60 overflow-y-auto border border-mm-border bg-mm-darker",children:P.slice(0,10).map(E=>a.jsxs("button",{onClick:()=>j(E),className:"w-full text-left px-4 py-3 hover:bg-mm-gray transition-colors border-b border-mm-border last:border-b-0","data-testid":`add-product-${E.article}`,children:[a.jsx("div",{className:"font-mono text-sm text-mm-cyan",children:E.article}),a.jsx("div",{className:"text-sm text-mm-text-secondary",children:E.name})]},E.article))})]}),c.items.length>0&&a.jsx("div",{className:"card-neon overflow-hidden","data-testid":"items-table",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" ()"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" ()"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" ()"}),!S&&a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:c.items.map((E,M)=>a.jsxs("tr",{className:"border-b border-mm-border","data-testid":`item-row-${M}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:E.article}),a.jsx("td",{className:"py-4 px-4 text-sm",children:E.name}),a.jsx("td",{className:"py-4 px-4",children:S?a.jsx("div",{className:"text-center font-mono font-bold",children:E.quantity}):a.jsx("input",{type:"number",min:"1",value:E.quantity,onChange:A=>k(M,"quantity",parseInt(A.target.value)||0),className:"input-neon w-24 text-center font-mono","data-testid":`quantity-${M}`})}),a.jsx("td",{className:"py-4 px-4",children:S?a.jsx("div",{className:"text-right font-mono",children:(E.purchase_price/100).toFixed(2)}):a.jsx("input",{type:"number",min:"0",step:"0.01",value:(E.purchase_price/100).toFixed(2),onChange:A=>k(M,"purchase_price",Math.round(parseFloat(A.target.value||0)*100)),className:"input-neon w-32 text-right font-mono","data-testid":`purchase-price-${M}`})}),a.jsx("td",{className:"py-4 px-4",children:S?a.jsx("div",{className:"text-right font-mono",children:(E.additional_expenses/100).toFixed(2)}):a.jsx("input",{type:"number",min:"0",step:"0.01",value:(E.additional_expenses/100).toFixed(2),onChange:A=>k(M,"additional_expenses",Math.round(parseFloat(A.target.value||0)*100)),className:"input-neon w-32 text-right font-mono","data-testid":`expenses-${M}`})}),a.jsx("td",{className:"py-4 px-4 text-right font-mono font-bold text-mm-green",children:(E.total/100).toFixed(2)}),!S&&a.jsx("td",{className:"py-4 px-4 text-center",children:a.jsx("button",{onClick:()=>N(M),className:"px-2 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors","data-testid":`remove-item-${M}`,children:a.jsx(hn,{size:16})})})]},M))})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>r("/income-orders"),className:"btn-secondary","data-testid":"back-btn",children:"   "}),a.jsxs("div",{className:"flex items-center space-x-3",children:[!S&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:w,disabled:h||!c.warehouse_id||!c.supplier_id,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50","data-testid":"save-draft-btn",children:[a.jsx(bi,{}),a.jsx("span",{children:" "})]}),a.jsxs("button",{onClick:C,disabled:h||!t||c.items.length===0,className:"btn-primary flex items-center space-x-2 disabled:opacity-50 bg-mm-green border-mm-green hover:bg-mm-green/20","data-testid":"accept-btn",children:[a.jsx(Du,{}),a.jsx("span",{children:""})]})]}),S&&a.jsxs("button",{onClick:_,disabled:h,className:"btn-secondary flex items-center space-x-2 border-mm-red text-mm-red hover:bg-mm-red/10","data-testid":"cancel-btn",children:[a.jsx(Py,{}),a.jsx("span",{children:" "})]})]})]})]})})}function c_({type:e="fbs",onClose:t,onSuccess:r}){const{api:n}=ye(),[s,i]=f.useState(!1),[o,l]=f.useState([]),[u,c]=f.useState(!0),[d,m]=f.useState({integration_id:"",date_from:new Date(Date.now()-180*24*60*60*1e3).toISOString().split("T")[0],date_to:new Date().toISOString().split("T")[0],update_stock:!0});f.useEffect(()=>{p()},[]);const p=async()=>{try{c(!0);const v=(await n.get("/api/seller/api-keys")).data||[],x=e==="fbo"?v.filter(b=>b.marketplace==="ozon"):v;if(l(x),x.length>0){const b=x[x.length-1];m(j=>({...j,integration_id:b.id}))}}catch(g){console.error("Failed to load integrations:",g),q.error("  ")}finally{c(!1)}},h=async()=>{var g,v;if(!d.integration_id){q.error(" ");return}if(!d.date_from||!d.date_to){q.error(" ");return}try{i(!0);const x=e==="fbs"?"/api/orders/fbs/import":"/api/orders/fbo/import",b=e==="fbs"?{...d}:{integration_id:d.integration_id,date_from:d.date_from,date_to:d.date_to},j=await n.post(x,b),k=e==="fbs"&&d.update_stock?` ${j.data.imported} ,  ${j.data.stock_updated} `:` ${j.data.imported}  (  )`;q.success(k),r(),t()}catch(x){console.error("Failed to import orders:",x),q.error(((v=(g=x.response)==null?void 0:g.data)==null?void 0:v.detail)||"  ")}finally{i(!1)}},y=g=>{const x={ozon:"Ozon",wb:"Wildberries",yandex:"Yandex Market"}[g.marketplace]||g.marketplace;return g.name||`${x} (${g.client_id||"API"})`};return u?a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-mm-darker border border-mm-cyan rounded-lg p-6",children:a.jsx("p",{className:"text-mm-cyan font-mono",children:" ..."})})}):o.length===0?a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:t,children:a.jsxs("div",{className:"bg-mm-darker border border-mm-red rounded-lg p-6 max-w-md",onClick:g=>g.stopPropagation(),children:[a.jsx("h3",{className:"text-xl font-mono text-mm-red mb-4",children:"   "}),a.jsx("p",{className:"text-mm-text-secondary mb-4",children:e==="fbo"?"  FBO    Ozon.":"      ."}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-4",children:'   ""   API .'}),a.jsx("button",{onClick:t,className:"btn-neon w-full",children:""})]})}):a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:t,children:a.jsxs("div",{className:"bg-mm-darker border border-mm-cyan rounded-lg p-6 max-w-2xl w-full mx-4",onClick:g=>g.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-mono text-mm-cyan uppercase",children:["  ",e==="fbs"?"FBS":"FBO"]}),a.jsx("button",{onClick:t,className:"text-mm-text-secondary hover:text-mm-cyan transition-colors",children:a.jsx(It,{size:24})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" *"}),a.jsx("select",{className:"input-neon w-full",value:d.integration_id,onChange:g=>m({...d,integration_id:g.target.value}),children:o.map(g=>a.jsx("option",{value:g.id,children:y(g)},g.id))}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-1",children:'//      ""'})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:"  *"}),a.jsx("input",{type:"date",className:"input-neon w-full",value:d.date_from,onChange:g=>m({...d,date_from:g.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:"  *"}),a.jsx("input",{type:"date",className:"input-neon w-full",value:d.date_to,onChange:g=>m({...d,date_to:g.target.value})})]})]}),e==="fbs"&&a.jsxs("label",{className:"flex items-center space-x-3 border border-mm-border p-4 rounded hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d.update_stock,onChange:g=>m({...d,update_stock:g.target.checked}),className:"toggle-switch"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:" "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"     "})]})]}),e==="fbo"&&a.jsx("div",{className:"bg-mm-purple/10 border border-mm-purple p-4 rounded",children:a.jsx("p",{className:"text-sm text-mm-text-secondary font-mono",children:" FBO      (  )"})}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx("button",{onClick:t,className:"btn-neon-outline",disabled:s,children:""}),a.jsxs("button",{onClick:h,disabled:s,className:"btn-neon flex items-center space-x-2",children:[a.jsx(Wt,{}),a.jsx("span",{children:s?"...":" "})]})]})]})]})})}function fM({order:e,onStatusUpdate:t}){var u,c,d,m,p,h;const{api:r}=ye(),[n,s]=f.useState(!1),i=y=>{const v={new:{color:"bg-mm-blue/20 text-mm-blue border-mm-blue",label:""},awaiting_shipment:{color:"bg-mm-yellow/20 text-mm-yellow border-mm-yellow",label:" "},delivering:{color:"bg-mm-cyan/20 text-mm-cyan border-mm-cyan",label:""},delivered:{color:"bg-mm-green/20 text-mm-green border-mm-green",label:""},cancelled:{color:"bg-mm-red/20 text-mm-red border-mm-red",label:""},imported:{color:"bg-mm-blue/20 text-mm-blue border-mm-blue",label:""}}[y]||{color:"bg-mm-gray text-mm-text-secondary border-mm-border",label:y};return a.jsx("span",{className:`px-3 py-1 text-sm font-mono border rounded ${v.color}`,children:v.label})},o=async()=>{var y,g;try{s(!0);const v=await r.get(`/api/orders/fbs/${e.id}/label`);v.data.label_url?(window.open(v.data.label_url,"_blank"),q.success(" ")):q.error(" ")}catch(v){console.error("Failed to print label:",v),q.error("  : "+(((g=(y=v.response)==null?void 0:y.data)==null?void 0:g.detail)||v.message))}finally{s(!1)}},l=async()=>{try{s(!0),await r.post(`/api/orders/fbs/${e.id}/label/refresh`),q.success(" ")}catch(y){console.error("Failed to refresh label:",y),q.error("  ")}finally{s(!1)}};return a.jsxs("div",{className:"space-y-6","data-testid":"order-info-tab",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"//  "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.order_number})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-cyan font-mono uppercase",children:e.marketplace})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),i(e.status)]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"//  "}),a.jsx("p",{className:"text-mm-text font-mono",children:new Date(e.created_at).toLocaleString("ru-RU")})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// External ID"}),a.jsx("p",{className:"text-mm-text font-mono",children:e.external_order_id})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.warehouse_id})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"//  "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.stock_updated?"":""})]})]})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsxs("h3",{className:"flex items-center space-x-2 text-sm uppercase font-mono text-mm-cyan mb-4",children:[a.jsx(ji,{}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:((u=e.customer)==null?void 0:u.full_name)||" "})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:((c=e.customer)==null?void 0:c.phone)||" "})]}),((d=e.customer)==null?void 0:d.address)&&a.jsxs("div",{className:"col-span-2",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.customer.address})]})]})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsxs("h3",{className:"flex items-center space-x-2 text-sm uppercase font-mono text-mm-cyan mb-4",children:[a.jsx(bt,{}),a.jsx("span",{children:" "})]}),a.jsx("div",{className:"border border-mm-border rounded overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-mm-border/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:"-"}),a.jsx("th",{className:"text-right py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""})]})}),a.jsx("tbody",{children:(m=e.items)==null?void 0:m.map((y,g)=>a.jsxs("tr",{className:"border-t border-mm-border",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text",children:y.article}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text",children:y.name}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text text-right",children:y.quantity}),a.jsxs("td",{className:"py-3 px-4 font-mono text-sm text-mm-text text-right",children:[y.price.toFixed(2)," "]}),a.jsxs("td",{className:"py-3 px-4 font-mono text-sm text-mm-cyan text-right",children:[y.total.toFixed(2)," "]})]},g))}),a.jsx("tfoot",{className:"bg-mm-border/30 border-t border-mm-border",children:a.jsxs("tr",{children:[a.jsx("td",{colSpan:"4",className:"py-3 px-4 text-sm font-mono text-mm-text-secondary text-right uppercase",children:":"}),a.jsxs("td",{className:"py-3 px-4 font-mono text-lg text-mm-cyan text-right font-bold",children:[((h=(p=e.totals)==null?void 0:p.total)==null?void 0:h.toFixed(2))||"0.00"," "]})]})})]})})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsx("h3",{className:"text-sm uppercase font-mono text-mm-cyan mb-4",children:"//   "}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("button",{onClick:o,disabled:n,className:"btn-neon flex items-center space-x-2","data-testid":"print-label-btn",children:[a.jsx(Xk,{}),a.jsx("span",{children:n?"...":" "})]}),a.jsxs("button",{onClick:l,disabled:n,className:"px-4 py-2 font-mono text-sm border border-mm-border rounded hover:bg-mm-border transition-colors flex items-center space-x-2","data-testid":"refresh-label-btn",children:[a.jsx(Ot,{className:n?"animate-spin":""}),a.jsx("span",{children:""})]})]})]})]})}function pM({order:e,onSplit:t}){const[r,n]=f.useState([{box_number:1,items:e.items.map(d=>({...d}))}]),s=()=>{n([...r,{box_number:r.length+1,items:[]}]),q.success(" ")},i=d=>{if(r.length===1){q.error("   ");return}const m=r.filter((p,h)=>h!==d);n(m),q.success(" ")},o=(d,m,p)=>{const h=[...r];h[d].items[m].quantity=parseInt(p)||0,n(h)},l=(d,m,p)=>{const h=[...r],y=h[d].items[m];h[d].items.splice(m,1),h[p].items.push({...y}),n(h),q.success(" ")},u=async()=>{const d={};e.items.forEach(h=>{d[h.article]=h.quantity});const m={};r.forEach(h=>{h.items.forEach(y=>{m[y.article]=(m[y.article]||0)+y.quantity})});for(const h in d)if(!m[h]||m[h]!==d[h]){q.error(`    ${h}. : ${d[h]}, : ${m[h]||0}`);return}if(r.some(h=>h.items.length===0)){q.error("  ");return}const p={boxes:r.map(h=>({box_number:h.box_number,items:h.items.map(y=>({article:y.article,quantity:y.quantity}))}))};await t(p)},c=e.marketplace!=="wb"&&r.length>1;return e.marketplace==="wb"?a.jsxs("div",{className:"text-center py-12","data-testid":"order-split-tab",children:[a.jsx(bt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary font-mono mb-2",children:"//      Wildberries"}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono",children:"Wildberries    "})]}):a.jsxs("div",{className:"space-y-6","data-testid":"order-split-tab",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm uppercase font-mono text-mm-cyan",children:"//   "}),a.jsx("p",{className:"text-xs text-mm-text-secondary font-mono mt-1",children:"   .    ."})]}),a.jsxs("button",{onClick:s,className:"btn-neon flex items-center space-x-2","data-testid":"add-box-btn",children:[a.jsx(Or,{}),a.jsx("span",{children:" "})]})]}),a.jsx("div",{className:"space-y-4",children:r.map((d,m)=>a.jsxs("div",{className:"border border-mm-border rounded-lg p-4","data-testid":`box-${m}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h4",{className:"font-mono text-mm-cyan uppercase",children:[" #",d.box_number]}),r.length>1&&a.jsx("button",{onClick:()=>i(m),className:"p-2 text-mm-red hover:bg-mm-red/10 rounded transition-colors","data-testid":`remove-box-${m}`,children:a.jsx(hn,{size:16})})]}),d.items.length===0?a.jsx("p",{className:"text-sm text-mm-text-secondary font-mono text-center py-4",children:"//  .      ."}):a.jsx("div",{className:"space-y-2",children:d.items.map((p,h)=>a.jsxs("div",{className:"flex items-center justify-between bg-mm-border/20 p-3 rounded",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-mono text-mm-text",children:p.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",p.article]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary uppercase font-mono block mb-1",children:"-:"}),a.jsx("input",{type:"number",min:"0",max:p.quantity,value:p.quantity,onChange:y=>o(m,h,y.target.value),className:"w-20 px-2 py-1 bg-mm-dark border border-mm-border rounded text-mm-text font-mono text-center focus:border-mm-cyan outline-none","data-testid":`item-quantity-${m}-${h}`})]}),r.length>1&&a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary uppercase font-mono block mb-1",children:" :"}),a.jsx("select",{onChange:y=>{const g=parseInt(y.target.value);g!==m&&l(m,h,g)},value:m,className:"px-2 py-1 bg-mm-dark border border-mm-border rounded text-mm-text font-mono focus:border-mm-cyan outline-none",children:r.map((y,g)=>a.jsxs("option",{value:g,children:["#",g+1]},g))})]})]})]},h))})]},m))}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-mm-border",children:a.jsx("button",{onClick:u,disabled:!c,className:"btn-neon disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"save-split-btn",children:" "})}),r.length===1&&a.jsx("p",{className:"text-xs text-mm-text-tertiary font-mono text-center",children:"//       "})]})}function hM({history:e}){const t=r=>({status_changed:" ",split:" ",label_printed:" ",label_refreshed:" ",note_added:" ",created:""})[r]||r;return!e||e.length===0?a.jsxs("div",{className:"text-center py-12","data-testid":"order-history-tab",children:[a.jsx(Gn,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary font-mono mb-2",children:"//   "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono",children:"     "})]}):a.jsxs("div",{className:"space-y-4","data-testid":"order-history-tab",children:[a.jsx("h3",{className:"text-sm uppercase font-mono text-mm-cyan mb-4",children:"//  "}),a.jsx("div",{className:"space-y-3",children:e.map((r,n)=>a.jsxs("div",{className:"border border-mm-border rounded-lg p-4 hover:bg-mm-border/10 transition-colors","data-testid":`history-entry-${n}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-mm-cyan/10 rounded",children:a.jsx(Gn,{className:"text-mm-cyan",size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-mono text-mm-text",children:t(r.action||"status_changed")}),a.jsx("p",{className:"text-xs text-mm-text-secondary font-mono",children:new Date(r.changed_at||r.timestamp).toLocaleString("ru-RU")})]})]}),r.changed_by&&a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-mm-text-secondary font-mono",children:[a.jsx(ji,{size:12}),a.jsx("span",{children:r.changed_by})]})]}),r.status&&a.jsxs("div",{className:"mt-3 pl-11",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-1",children:"// "}),a.jsx("p",{className:"text-sm font-mono text-mm-cyan",children:r.status})]}),r.comment&&a.jsxs("div",{className:"mt-3 pl-11",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-1",children:"// "}),a.jsx("p",{className:"text-sm font-mono text-mm-text",children:r.comment})]}),r.details&&a.jsxs("div",{className:"mt-3 pl-11",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-1",children:"// "}),a.jsx("pre",{className:"text-xs font-mono text-mm-text-tertiary bg-mm-dark p-2 rounded overflow-x-auto",children:JSON.stringify(r.details,null,2)})]})]},n))})]})}function xM({order:e,isOpen:t,onClose:r,onUpdate:n}){const{api:s}=ye(),[i,o]=f.useState("info"),[l,u]=f.useState(e),[c,d]=f.useState(!1);f.useEffect(()=>{e&&t&&m()},[e,t]);const m=async()=>{try{d(!0);const g=await s.get(`/api/orders/fbs/${e.id}`);u(g.data)}catch(g){console.error("Failed to load order details:",g),q.error("   ")}finally{d(!1)}},p=async g=>{var v,x;try{await s.post(`/api/orders/fbs/${e.id}/split`,g),q.success("  "),await m(),n&&n()}catch(b){console.error("Failed to split order:",b),q.error("  : "+(((x=(v=b.response)==null?void 0:v.data)==null?void 0:x.detail)||b.message))}},h=async(g,v)=>{try{await s.put(`/api/orders/fbs/${e.id}/status`,{status:g,comment:v}),q.success("  "),await m(),n&&n()}catch(x){console.error("Failed to update status:",x),q.error("  ")}};if(!t||!l)return null;const y=[{id:"info",label:" ",icon:Vk},{id:"split",label:" ",icon:bt},{id:"history",label:" ",icon:Gn}];return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-mm-dark/80 backdrop-blur-sm","data-testid":"order-detail-modal",children:a.jsxs("div",{className:"card-neon w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-mm-border p-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-mono text-mm-cyan uppercase mb-1",children:[" ",l.order_number]}),a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:["// ",l.marketplace.toUpperCase()," | ",new Date(l.created_at).toLocaleString("ru-RU")]})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-mm-border rounded transition-colors","data-testid":"close-modal",children:a.jsx(It,{size:24,className:"text-mm-text-secondary"})})]}),a.jsx("div",{className:"flex border-b border-mm-border px-6",children:y.map(g=>a.jsxs("button",{onClick:()=>o(g.id),className:`flex items-center space-x-2 px-4 py-3 font-mono text-sm transition-colors border-b-2 ${i===g.id?"border-mm-cyan text-mm-cyan":"border-transparent text-mm-text-secondary hover:text-mm-text"}`,"data-testid":`tab-${g.id}`,children:[a.jsx(g.icon,{size:16}),a.jsx("span",{children:g.label})]},g.id))}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:c?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):a.jsxs(a.Fragment,{children:[i==="info"&&a.jsx(fM,{order:l,onStatusUpdate:h}),i==="split"&&a.jsx(pM,{order:l,onSplit:p}),i==="history"&&a.jsx(hM,{history:l.status_history||[]})]})}),a.jsx("div",{className:"border-t border-mm-border p-6 flex justify-end space-x-4",children:a.jsx("button",{onClick:r,className:"px-6 py-2 font-mono text-mm-text-secondary border border-mm-border rounded hover:bg-mm-border transition-colors",children:""})})]})})}function yM({activeStatus:e,onStatusChange:t,stats:r}){const n=[{key:"all",label:"",color:"text-mm-text"},{key:"new",label:"",color:"text-mm-blue"},{key:"imported",label:"",color:"text-mm-blue"},{key:"awaiting_shipment",label:" ",color:"text-mm-yellow"},{key:"delivering",label:" ",color:"text-mm-cyan"},{key:"delivered",label:"",color:"text-mm-green"},{key:"cancelled",label:"",color:"text-mm-red"}],s=i=>i==="all"?r.total||0:r[i]||0;return a.jsx("div",{className:"flex flex-wrap gap-2 mb-6","data-testid":"status-filters",children:n.map(i=>a.jsxs("button",{onClick:()=>t(i.key),className:`px-4 py-2 rounded border font-mono text-sm transition-all ${e===i.key?`${i.color} border-current bg-current/10`:"text-mm-text-secondary border-mm-border hover:border-mm-text-secondary"}`,"data-testid":`status-filter-${i.key}`,children:[i.label,a.jsx("span",{className:"ml-2 opacity-70",children:s(i.key)})]},i.key))})}function gM({selectedCount:e,onPrintLabels:t,onExportExcel:r,onChangeStatus:n,onClearSelection:s}){return e===0?null:a.jsxs("div",{className:"fixed bottom-8 right-8 card-neon p-6 shadow-2xl z-40 min-w-96","data-testid":"bulk-actions-panel",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-mm-text-secondary uppercase font-mono",children:"// "}),a.jsx("p",{className:"text-2xl text-mm-cyan font-mono font-bold",children:e})]}),a.jsx("button",{onClick:s,className:"p-2 hover:bg-mm-border rounded transition-colors","data-testid":"clear-selection",children:a.jsx(It,{size:20,className:"text-mm-text-secondary"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:t,className:"w-full btn-neon flex items-center justify-center space-x-2","data-testid":"bulk-print-labels",children:[a.jsx(Xk,{}),a.jsx("span",{children:" "})]}),a.jsxs("button",{onClick:r,className:"w-full px-4 py-2 bg-mm-green/20 text-mm-green border border-mm-green rounded hover:bg-mm-green/30 transition-colors font-mono text-sm flex items-center justify-center space-x-2","data-testid":"bulk-export-excel",children:[a.jsx(Wt,{}),a.jsx("span",{children:"  EXCEL"})]}),a.jsxs("button",{onClick:n,className:"w-full px-4 py-2 bg-mm-border/50 text-mm-text border border-mm-border rounded hover:bg-mm-border transition-colors font-mono text-sm flex items-center justify-center space-x-2","data-testid":"bulk-change-status",children:[a.jsx(Ra,{}),a.jsx("span",{children:" "})]})]})]})}function vM(){const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState([]),[i,o]=f.useState(!1),[l,u]=f.useState(!1),[c,d]=f.useState(null),[m,p]=f.useState(!1),[h,y]=f.useState("all"),[g,v]=f.useState([]),[x,b]=f.useState({}),[j,k]=f.useState(!1),[N,w]=f.useState("");f.useEffect(()=>{C()},[]),f.useEffect(()=>{P()},[t,h,N]);const C=async()=>{try{o(!0);const $=await e.get("/api/orders/fbs");r($.data),_($.data)}catch($){console.error("Failed to load FBS orders:",$)}finally{o(!1)}},_=$=>{const G={total:$.length,new:0,imported:0,awaiting_shipment:0,delivering:0,delivered:0,cancelled:0};$.forEach(I=>{G.hasOwnProperty(I.status)&&G[I.status]++}),b(G)},P=()=>{let $=t;if(h!=="all"&&($=$.filter(G=>G.status===h)),N.trim()){const G=N.toLowerCase().trim();$=$.filter(I=>{var D,Y;const X=(D=I.items)==null?void 0:D.some(ae=>{var se,K;return((se=ae.article)==null?void 0:se.toLowerCase().includes(G))||((K=ae.name)==null?void 0:K.toLowerCase().includes(G))}),Z=(Y=I.order_number)==null?void 0:Y.toLowerCase().includes(G);return X||Z})}s($)},O=$=>{d($),p(!0)},S=()=>{p(!1),d(null)},E=()=>{C()},M=$=>{v(G=>G.includes($)?G.filter(I=>I!==$):[...G,$])},A=()=>{g.length===n.length?v([]):v(n.map($=>$.id))},T=async()=>{try{q.loading(" ...");const $=await e.post("/api/orders/fbs/labels/bulk",{order_ids:g});$.data.labels.forEach((G,I)=>{setTimeout(()=>{window.open(G.label_url,"_blank")},I*500)}),q.dismiss(),q.success(` ${$.data.labels.length} `),$.data.errors.length>0&&q.warning(`: ${$.data.errors.length}`)}catch{q.dismiss(),q.error("  ")}},F=async()=>{try{q.loading(" ...");const $=n.filter(Y=>g.includes(Y.id)),G=["ID ",""," ","","","",""," "],I=$.map(Y=>{var ae,se,K;return[Y.order_number,Y.marketplace.toUpperCase(),new Date(Y.created_at).toLocaleString("ru-RU"),Y.status,((ae=Y.customer)==null?void 0:ae.full_name)||"",(se=Y.items)==null?void 0:se.map(de=>`${de.article} (${de.quantity})`).join("; "),((K=Y.totals)==null?void 0:K.total)||0,Y.stock_updated?"":""]}),X=[G.join(","),...I.map(Y=>Y.map(ae=>`"${ae}"`).join(","))].join(`
`),Z=new Blob(["\uFEFF"+X],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a");D.href=URL.createObjectURL(Z),D.download=`orders_fbs_${new Date().toISOString().split("T")[0]}.csv`,D.click(),q.dismiss(),q.success(" ")}catch{q.dismiss(),q.error(" ")}},U=()=>{q.info("  ")},L=async()=>{var $,G;try{k(!0),q.loading("   ...");const I=await e.post("/api/orders/fbs/refresh-statuses",{});q.dismiss(),q.success(` : ${I.data.updated}`),await C()}catch(I){q.dismiss(),q.error("  : "+(((G=($=I.response)==null?void 0:$.data)==null?void 0:G.detail)||I.message))}finally{k(!1)}},R=$=>{const I={new:{color:"text-mm-blue border-mm-blue",label:""},awaiting_shipment:{color:"text-mm-yellow border-mm-yellow",label:" "},delivering:{color:"text-mm-cyan border-mm-cyan",label:""},delivered:{color:"text-mm-green border-mm-green",label:""},cancelled:{color:"text-mm-red border-mm-red",label:""},imported:{color:"text-mm-blue border-mm-blue",label:""}}[$]||{color:"text-mm-text-secondary border-mm-border",label:$};return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${I.color} rounded`,children:I.label})};return a.jsxs("div",{className:"space-y-4","data-testid":"fbs-orders-list",children:[a.jsx(yM,{activeStatus:h,onStatusChange:y,stats:x}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(bt,{className:"text-mm-cyan"}),a.jsx("input",{type:"text",placeholder:"  ,     ...",value:N,onChange:$=>w($.target.value),className:"input-neon flex-1","data-testid":"search-input"}),N&&a.jsx("button",{onClick:()=>w(""),className:"text-mm-text-secondary hover:text-mm-cyan transition-colors",children:""})]}),N&&a.jsxs("p",{className:"text-xs text-mm-text-tertiary mt-2 font-mono",children:[" : ",n.length]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[" : ",a.jsx("span",{className:"text-mm-cyan",children:n.length}),g.length>0&&a.jsxs("span",{className:"ml-4",children:[": ",a.jsx("span",{className:"text-mm-cyan",children:g.length})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:L,disabled:j,className:"px-4 py-2 border border-mm-cyan text-mm-cyan rounded hover:bg-mm-cyan/10 transition-colors font-mono text-sm flex items-center space-x-2 disabled:opacity-50","data-testid":"refresh-statuses-btn",children:[a.jsx(Ot,{className:j?"animate-spin":""}),a.jsx("span",{children:j?"...":" "})]}),a.jsxs("button",{onClick:()=>u(!0),className:"btn-neon flex items-center space-x-2","data-testid":"open-import-modal",children:[a.jsx(Wt,{}),a.jsx("span",{children:" "})]})]})]}),i?a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):n.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(bt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2 font-mono",children:h==="all"?" FBS  ":`    "${h}"`}),a.jsxs("p",{className:"text-sm text-mm-text-tertiary font-mono mb-4",children:["// ",h==="all"?' " "  ':"    "]}),h==="all"&&a.jsxs("button",{onClick:()=>u(!0),className:"btn-neon inline-flex items-center space-x-2",children:[a.jsx(Wt,{}),a.jsx("span",{children:" "})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"py-4 px-4",children:a.jsx("input",{type:"checkbox",checked:g.length===n.length&&n.length>0,onChange:A,className:"w-4 h-4 bg-mm-dark border-mm-border rounded cursor-pointer","data-testid":"select-all-checkbox"})}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:" "}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:n.map($=>{var G,I,X;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${$.id}`,children:[a.jsx("td",{className:"py-4 px-4",children:a.jsx("input",{type:"checkbox",checked:g.includes($.id),onChange:()=>M($.id),className:"w-4 h-4 bg-mm-dark border-mm-border rounded cursor-pointer","data-testid":`select-order-${$.id}`})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:$.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm uppercase",children:$.marketplace}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date($.created_at).toLocaleDateString("ru-RU")}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:((G=$.items)==null?void 0:G.length)>0?a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"text-mm-cyan text-xs mb-1",children:$.items.map(Z=>Z.article).join(", ")}),a.jsxs("div",{className:"text-mm-text-tertiary text-xs",children:[$.items.length," ",$.items.length===1?"":$.items.length<5?"":""]})]}):a.jsx("span",{className:"text-mm-text-tertiary",children:""})}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[(X=(I=$.totals)==null?void 0:I.total)==null?void 0:X.toLocaleString("ru-RU"),""]}),a.jsx("td",{className:"py-4 px-4",children:R($.status)}),a.jsx("td",{className:"py-4 px-4 text-center",children:$.stock_updated?a.jsx("span",{className:"text-mm-green",children:""}):a.jsx("span",{className:"text-mm-text-tertiary",children:"-"})}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{onClick:()=>O($),className:"btn-neon-sm flex items-center space-x-1 ml-auto","data-testid":`view-order-${$.id}`,children:[a.jsx(Xd,{size:14}),a.jsx("span",{children:""})]})})]},$.id)})})]})})}),l&&a.jsx(c_,{type:"fbs",onClose:()=>u(!1),onSuccess:C}),m&&c&&a.jsx(xM,{order:c,isOpen:m,onClose:S,onUpdate:E}),a.jsx(gM,{selectedCount:g.length,onPrintLabels:T,onExportExcel:F,onChangeStatus:U,onClearSelection:()=>v([])})]})}function bM(){const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState(!1);f.useEffect(()=>{l()},[]);const l=async()=>{try{s(!0);const c=await e.get("/api/orders/fbo");r(c.data)}catch(c){console.error("Failed to load FBO orders:",c)}finally{s(!1)}},u=c=>{const m={processing:{color:"text-mm-blue border-mm-blue",label:""},shipped:{color:"text-mm-cyan border-mm-cyan",label:""},delivered:{color:"text-mm-green border-mm-green",label:""},cancelled:{color:"text-mm-red border-mm-red",label:""},imported:{color:"text-mm-blue border-mm-blue",label:""}}[c]||{color:"text-mm-text-secondary border-mm-border",label:c};return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${m.color} rounded`,children:m.label})};return a.jsxs("div",{className:"space-y-4","data-testid":"fbo-orders-list",children:[a.jsx("div",{className:"bg-mm-purple/10 border border-mm-purple p-4 rounded",children:a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[a.jsx("span",{className:"text-mm-purple font-bold",children:" FBO :"}),"    .    ,      ."]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[" : ",a.jsx("span",{className:"text-mm-purple",children:t.length})]}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon flex items-center space-x-2","data-testid":"open-import-modal",children:[a.jsx(Wt,{}),a.jsx("span",{children:"  FBO"})]})]}),n?a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(Zk,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2 font-mono",children:" FBO  "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono mb-4",children:'//  "  FBO"  '}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon inline-flex items-center space-x-2",children:[a.jsx(Wt,{}),a.jsx("span",{children:"  FBO"})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:" "}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(c=>{var d,m,p;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${c.id}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-purple",children:c.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm uppercase",children:c.marketplace}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:c.warehouse_name}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(c.created_at).toLocaleDateString("ru-RU")}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[((d=c.items)==null?void 0:d.length)||0," "]}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[(p=(m=c.totals)==null?void 0:m.total)==null?void 0:p.toLocaleString("ru-RU"),""]}),a.jsx("td",{className:"py-4 px-4",children:u(c.status)}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{className:"btn-neon-sm flex items-center space-x-1 ml-auto","data-testid":`view-order-${c.id}`,children:[a.jsx(Xd,{size:14}),a.jsx("span",{children:""})]})})]},c.id)})})]})})}),i&&a.jsx(c_,{type:"fbo",onClose:()=>o(!1),onSuccess:l})]})}function jM({onCancel:e,onSuccess:t}){const{api:r}=ye(),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,u]=f.useState(!1),[c,d]=f.useState({warehouse_id:"",order_date:new Date().toISOString().split("T")[0],customer:{full_name:"",phone:"",email:"",address:""},items:[],payment_method:"cash",notes:""}),[m,p]=f.useState(""),[h,y]=f.useState([]);f.useEffect(()=>{g(),v()},[]);const g=async()=>{try{const _=await r.get("/api/warehouses");s(_.data)}catch(_){console.error("Failed to load warehouses:",_),q.error("  ")}},v=async()=>{try{const _=await r.get("/api/catalog/products?limit=1000"),P=Array.isArray(_.data)?_.data:_.data.products||[];o(P),console.log(`Loaded ${P.length} products for search`)}catch(_){console.error("Failed to load products:",_),q.error("  ")}},x=_=>{if(p(_),!_){y([]);return}const P=i.filter(O=>{var S,E;return((S=O.article)==null?void 0:S.toLowerCase().includes(_.toLowerCase()))||((E=O.name)==null?void 0:E.toLowerCase().includes(_.toLowerCase()))});y(P.slice(0,10))},b=_=>{var O;if(c.items.find(S=>S.article===_.article)){q.warning("  ");return}const P={product_id:_.id,article:_.article,name:_.name,image:((O=_.images)==null?void 0:O[0])||null,price:_.price_with_discount/100||0,quantity:1,total:_.price_with_discount/100||0};d({...c,items:[...c.items,P]}),p(""),y([])},j=_=>{const P=c.items.filter((O,S)=>S!==_);d({...c,items:P})},k=(_,P)=>{const O=[...c.items];O[_].quantity=parseInt(P)||1,O[_].total=O[_].price*O[_].quantity,d({...c,items:O})},N=(_,P)=>{const O=[...c.items];O[_].price=parseFloat(P)||0,O[_].total=O[_].price*O[_].quantity,d({...c,items:O})},w=()=>c.items.reduce((_,P)=>_+P.total,0),C=async _=>{var P,O;if(_.preventDefault(),!c.warehouse_id){q.error(" ");return}if(c.items.length===0){q.error("    ");return}if(!c.customer.full_name||!c.customer.phone){q.error("  ");return}try{u(!0),await r.post("/api/orders/retail",c),t()}catch(S){console.error("Failed to create retail order:",S),q.error(((O=(P=S.response)==null?void 0:P.data)==null?void 0:O.detail)||"  ")}finally{u(!1)}};return a.jsxs("div",{className:"space-y-6","data-testid":"retail-order-form",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-mono text-mm-green uppercase",children:"  "}),a.jsx("button",{onClick:e,className:"btn-neon-sm","data-testid":"cancel-form",children:a.jsx(It,{})})]}),a.jsxs("form",{onSubmit:C,className:"space-y-6",children:[a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("h4",{className:"text-sm font-mono text-mm-text-secondary mb-4 uppercase",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:"  *"}),a.jsx("input",{type:"date",className:"input-neon w-full",value:c.order_date,onChange:_=>d({...c,order_date:_.target.value}),required:!0,"data-testid":"order-date"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" *"}),a.jsxs("select",{className:"input-neon w-full",value:c.warehouse_id,onChange:_=>d({...c,warehouse_id:_.target.value}),required:!0,"data-testid":"select-warehouse",children:[a.jsx("option",{value:"",children:" "}),n.map(_=>a.jsx("option",{value:_.id,children:_.name},_.id))]})]})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("h4",{className:"text-sm font-mono text-mm-text-secondary mb-4 uppercase",children:""}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("input",{type:"text",placeholder:"  *",className:"input-neon",value:c.customer.full_name,onChange:_=>d({...c,customer:{...c.customer,full_name:_.target.value}}),required:!0,"data-testid":"customer-name"}),a.jsx("input",{type:"tel",placeholder:" *",className:"input-neon",value:c.customer.phone,onChange:_=>d({...c,customer:{...c.customer,phone:_.target.value}}),required:!0,"data-testid":"customer-phone"}),a.jsx("input",{type:"email",placeholder:"Email",className:"input-neon",value:c.customer.email,onChange:_=>d({...c,customer:{...c.customer,email:_.target.value}}),"data-testid":"customer-email"}),a.jsx("input",{type:"text",placeholder:"",className:"input-neon",value:c.customer.address,onChange:_=>d({...c,customer:{...c.customer,address:_.target.value}}),"data-testid":"customer-address"})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("h4",{className:"text-sm font-mono text-mm-text-secondary mb-4 uppercase",children:""}),a.jsxs("div",{className:"mb-4 relative",children:[a.jsx("input",{type:"text",placeholder:"     ...",className:"input-neon w-full",value:m,onChange:_=>x(_.target.value),"data-testid":"product-search"}),h.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-2 bg-mm-gray border border-mm-border rounded max-h-60 overflow-y-auto",children:h.map(_=>a.jsxs("div",{className:"p-3 hover:bg-mm-cyan/10 cursor-pointer border-b border-mm-border last:border-b-0",onClick:()=>b(_),"data-testid":`search-result-${_.id}`,children:[a.jsx("p",{className:"font-mono text-sm text-mm-cyan",children:_.article}),a.jsx("p",{className:"font-mono text-xs text-mm-text-secondary",children:_.name}),a.jsxs("p",{className:"font-mono text-xs text-mm-text-tertiary",children:[(_.price_with_discount/100).toFixed(2),""]})]},_.id))})]}),c.items.length===0?a.jsx("p",{className:"text-center text-mm-text-tertiary font-mono text-sm py-4",children:"//    "}):a.jsxs("div",{className:"space-y-2",children:[c.items.map((_,P)=>a.jsxs("div",{className:"flex items-center space-x-4 border border-mm-border rounded p-3","data-testid":`item-${P}`,children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-mono text-sm text-mm-cyan",children:_.article}),a.jsx("p",{className:"font-mono text-xs text-mm-text-secondary",children:_.name})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary block mb-1",children:"-"}),a.jsx("input",{type:"number",min:"1",className:"input-neon w-20 text-center",value:_.quantity,onChange:O=>k(P,O.target.value),"data-testid":`quantity-${P}`})]}),a.jsx("span",{className:"font-mono text-sm text-mm-text-secondary pt-5",children:""}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary block mb-1",children:", "}),a.jsx("input",{type:"number",min:"0",step:"0.01",className:"input-neon w-32 text-right",value:_.price,onChange:O=>N(P,O.target.value),"data-testid":`price-${P}`})]}),a.jsx("div",{className:"pt-5",children:a.jsx("span",{className:"font-mono text-sm text-mm-text-secondary",children:"="})}),a.jsx("div",{className:"pt-5",children:a.jsxs("span",{className:"font-mono text-sm text-mm-green w-32 text-right block font-bold",children:[_.total.toFixed(2),""]})}),a.jsx("button",{type:"button",onClick:()=>j(P),className:"text-mm-red hover:text-mm-red/80 pt-5","data-testid":`remove-${P}`,children:a.jsx(hn,{})})]})]},P)),a.jsx("div",{className:"border-t border-mm-border pt-4 mt-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-mono text-sm text-mm-text-secondary uppercase",children:":"}),a.jsxs("span",{className:"font-mono text-xl text-mm-green",children:[w().toFixed(2),""]})]})})]})]}),a.jsx("div",{className:"card-neon p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" "}),a.jsxs("select",{className:"input-neon w-full",value:c.payment_method,onChange:_=>d({...c,payment_method:_.target.value}),"data-testid":"payment-method",children:[a.jsx("option",{value:"cash",children:""}),a.jsx("option",{value:"card",children:""}),a.jsx("option",{value:"transfer",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:""}),a.jsx("input",{type:"text",className:"input-neon w-full",value:c.notes,onChange:_=>d({...c,notes:_.target.value}),placeholder:" ","data-testid":"notes"})]})]})}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:e,className:"btn-neon-outline",disabled:l,children:""}),a.jsx("button",{type:"submit",className:"btn-neon",disabled:l||c.items.length===0,"data-testid":"submit-order",children:l?"...":" "})]})]})]})}function wM(){const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,u]=f.useState({status:"",date_from:"",date_to:""});f.useEffect(()=>{c()},[l]);const c=async()=>{try{s(!0);const h=new URLSearchParams;l.status&&h.append("status",l.status),l.date_from&&h.append("date_from",l.date_from),l.date_to&&h.append("date_to",l.date_to);const y=await e.get(`/api/orders/retail?${h.toString()}`);r(y.data)}catch(h){console.error("Failed to load retail orders:",h),q.error("   ")}finally{s(!1)}},d=()=>{o(!1),c(),q.success("   !")},m=h=>{const g={new:{color:"text-mm-blue border-mm-blue",label:""},processing:{color:"text-mm-yellow border-mm-yellow",label:""},completed:{color:"text-mm-green border-mm-green",label:""},cancelled:{color:"text-mm-red border-mm-red",label:""}}[h]||{color:"text-mm-text-secondary border-mm-border",label:h};return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${g.color} rounded`,children:g.label})},p=h=>{const y={reserved:{color:"text-mm-yellow border-mm-yellow",label:""},deducted:{color:"text-mm-green border-mm-green",label:""},returned:{color:"text-mm-blue border-mm-blue",label:""},none:{color:"text-mm-text-tertiary border-mm-border",label:"-"}},g=y[h]||y.none;return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${g.color} rounded`,children:g.label})};return i?a.jsx(jM,{onCancel:()=>o(!1),onSuccess:d}):a.jsxs("div",{className:"space-y-4","data-testid":"retail-orders-list",children:[a.jsx("div",{className:"card-neon p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:""}),a.jsxs("select",{className:"input-neon w-full",value:l.status,onChange:h=>u({...l,status:h.target.value}),"data-testid":"filter-status",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"new",children:""}),a.jsx("option",{value:"processing",children:""}),a.jsx("option",{value:"completed",children:""}),a.jsx("option",{value:"cancelled",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" "}),a.jsx("input",{type:"date",className:"input-neon w-full",value:l.date_from,onChange:h=>u({...l,date_from:h.target.value}),"data-testid":"filter-date-from"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" "}),a.jsx("input",{type:"date",className:"input-neon w-full",value:l.date_to,onChange:h=>u({...l,date_to:h.target.value}),"data-testid":"filter-date-to"})]})]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[" : ",a.jsx("span",{className:"text-mm-green",children:t.length})]}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon flex items-center space-x-2","data-testid":"create-retail-order",children:[a.jsx(Or,{}),a.jsx("span",{children:" "})]})]}),n?a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx($D,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2 font-mono",children:"   "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono mb-4",children:"//   "}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon inline-flex items-center space-x-2",children:[a.jsx(Or,{}),a.jsx("span",{children:" "})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(h=>{var y,g,v,x;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${h.id}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-green",children:h.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(h.created_at).toLocaleDateString("ru-RU")}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:((y=h.customer)==null?void 0:y.full_name)||"-"}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[((g=h.items)==null?void 0:g.length)||0," "]}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[(x=(v=h.totals)==null?void 0:v.total)==null?void 0:x.toLocaleString("ru-RU"),""]}),a.jsx("td",{className:"py-4 px-4",children:m(h.status)}),a.jsx("td",{className:"py-4 px-4",children:p(h.reserve_status)}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{className:"btn-neon-sm flex items-center space-x-1 ml-auto","data-testid":`view-order-${h.id}`,children:[a.jsx(Xd,{size:14}),a.jsx("span",{children:""})]})})]},h.id)})})]})})})]})}function Nc({section:e}){const t=Ya(),r=e||(t.pathname.includes("/fbs")?"fbs":t.pathname.includes("/fbo")?"fbo":t.pathname.includes("/retail")?"retail":"fbs"),n=()=>{switch(r){case"fbs":return"FBS (  )";case"fbo":return"FBO (  )";case"retail":return" ";default:return""}};return a.jsxs("div",{className:"space-y-6","data-testid":"orders-page",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase font-mono",children:n()}),a.jsx("p",{className:"text-sm text-mm-text-secondary font-mono",children:"//  "})]})}),a.jsxs("div",{children:[r==="fbs"&&a.jsx(vM,{}),r==="fbo"&&a.jsx(bM,{}),r==="retail"&&a.jsx(wM,{})]})]})}const u_=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},NM=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);return u_(t)},kM=()=>u_(new Date);function _M(){var b,j,k,N,w,C,_,P,O,S,E,M,A,T,F,U,L,R,$,G,I,X,Z,D,Y,ae,se,K,de,fe,Q,_e,xe,Ae,H,te,me,be,z,re,B,ne,ie,we,ge,Ne,Me;const{api:e}=ye(),[t,r]=f.useState(!1),[n,s]=f.useState(!1),[i,o]=f.useState(null),[l,u]=f.useState(null),[c,d]=f.useState(NM()),[m,p]=f.useState(kM()),h=async()=>{var pe,Se;s(!0),u(null);try{const ke=await e.post("/api/profit-analytics/sync-ozon-data",null,{params:{date_from:c,date_to:m}});alert(`  !

 : ${ke.data.statistics.total_transactions}
: ${ke.data.statistics.saved}
: ${ke.data.statistics.updated}`),await y()}catch(ke){console.error("Sync failed:",ke);const Lt=((Se=(pe=ke.response)==null?void 0:pe.data)==null?void 0:Se.detail)||ke.message||" ";u(` : ${Lt}`)}s(!1)},y=async()=>{var pe,Se;r(!0),u(null);try{const ke=await e.get("/api/profit-analytics/profit-report",{params:{date_from:c,date_to:m}});console.log("Report response:",ke.data),ke.data&&ke.data.revenue&&ke.data.expenses&&ke.data.profit?o(ke.data):(u("    "),o(null))}catch(ke){console.error("Failed to load report:",ke);const Lt=((Se=(pe=ke.response)==null?void 0:pe.data)==null?void 0:Se.detail)||ke.message||" ";u(`  : ${Lt}`),o(null)}r(!1)},g=async()=>{try{const pe=await e.get("/api/profit-analytics/export-profit-report",{params:{date_from:c,date_to:m},responseType:"blob"}),Se=window.URL.createObjectURL(new Blob([pe.data])),ke=document.createElement("a");ke.href=Se,ke.setAttribute("download",`profit_report_${c}_${m}.xlsx`),document.body.appendChild(ke),ke.click(),ke.remove(),alert("  !")}catch(pe){console.error("Export failed:",pe),alert("  ")}},v=pe=>((pe==null||isNaN(pe))&&(pe=0),new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2}).format(pe)),x=pe=>((pe==null||isNaN(pe))&&(pe=0),`${pe.toFixed(2)}%`);return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"   "}),a.jsx("p",{className:"comment",children:"//     "})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsx("input",{type:"date",value:c,onChange:pe=>d(pe.target.value),className:"input-mono w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsx("input",{type:"date",value:m,onChange:pe=>p(pe.target.value),className:"input-mono w-full"})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:h,disabled:n,className:"btn-primary w-full flex items-center justify-center gap-2",children:[a.jsx(Ot,{className:n?"animate-spin":""}),n?"...":""]})}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:y,disabled:t,className:"btn-primary w-full",children:t?"...":" "})})]}),i&&a.jsx("div",{className:"mt-4 pt-4 border-t border-mm-border flex justify-end",children:a.jsxs("button",{onClick:g,className:"btn-secondary flex items-center gap-2",children:[a.jsx(Wt,{}),"  EXCEL"]})})]}),l&&a.jsx("div",{className:"card-neon p-6 border-mm-red border-2",children:a.jsx("p",{className:"text-mm-red",children:l})}),t?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"//  ..."})}):i?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono",children:""}),a.jsx(_s,{className:"text-mm-cyan",size:24})]}),a.jsx("div",{className:"text-3xl font-mono text-mm-cyan mb-2",children:v((b=i==null?void 0:i.revenue)==null?void 0:b.net_sales)}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:[": ",v((j=i==null?void 0:i.revenue)==null?void 0:j.gross_sales)]})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono",children:""}),a.jsx(Sy,{className:"text-mm-red",size:24})]}),a.jsx("div",{className:"text-3xl font-mono text-mm-red mb-2",children:v((k=i==null?void 0:i.expenses)==null?void 0:k.total_expenses)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:" "})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono",children:" "}),a.jsx(_l,{className:(((N=i==null?void 0:i.profit)==null?void 0:N.net_profit)??0)>=0?"text-mm-green":"text-mm-red",size:24})]}),a.jsx("div",{className:`text-3xl font-mono mb-2 ${(((w=i==null?void 0:i.profit)==null?void 0:w.net_profit)??0)>=0?"text-mm-green":"text-mm-red"}`,children:v((C=i==null?void 0:i.profit)==null?void 0:C.net_profit)}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:[": ",x((_=i==null?void 0:i.profit)==null?void 0:_.net_margin_pct)]})]})]}),a.jsxs("div",{className:"card-neon overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-mm-border",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase",children:"     (P&L)"}),a.jsxs("p",{className:"comment mt-1",children:["// : ",c," - ",m]}),(i==null?void 0:i.statistics)&&a.jsxs("p",{className:"comment",children:["// : ",i.statistics.total_transactions||0]})]}),a.jsxs("div",{className:"p-6 space-y-6 font-mono",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-cyan"}),a.jsx("h4",{className:"text-mm-cyan uppercase",children:""})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" "}),a.jsx("span",{children:v((P=i==null?void 0:i.revenue)==null?void 0:P.gross_sales)})]}),a.jsxs("div",{className:"flex justify-between text-mm-red",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:v((O=i==null?void 0:i.revenue)==null?void 0:O.returns)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-mm-cyan",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((S=i==null?void 0:i.revenue)==null?void 0:S.net_sales)})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-text-secondary"}),a.jsx("h4",{className:"text-mm-text-secondary uppercase",children:"  (COGS)"})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"   "}),a.jsx("span",{className:"text-mm-text-secondary",children:v((E=i==null?void 0:i.cogs)==null?void 0:E.total)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-lg",children:[a.jsx("span",{className:"text-mm-green",children:"  "}),a.jsx("span",{className:"text-mm-green",children:v((M=i==null?void 0:i.profit)==null?void 0:M.gross_profit)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{className:"text-mm-text-tertiary",children:x((A=i==null?void 0:i.profit)==null?void 0:A.gross_margin_pct)})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-red"}),a.jsx("h4",{className:"text-mm-red uppercase",children:""})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"1  "}),a.jsxs("div",{className:"pl-4 space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsx("span",{children:v((F=(T=i==null?void 0:i.expenses)==null?void 0:T.commissions)==null?void 0:F.marketplace_base)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"    (9%)"}),a.jsx("span",{children:v((L=(U=i==null?void 0:i.expenses)==null?void 0:U.commissions)==null?void 0:L.bonus_commission)})]}),a.jsxs("div",{className:"flex justify-between font-bold pt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v(($=(R=i==null?void 0:i.expenses)==null?void 0:R.commissions)==null?void 0:$.total)})]})]})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"2 "}),a.jsxs("div",{className:"pl-4 space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"   "}),a.jsx("span",{children:v((I=(G=i==null?void 0:i.expenses)==null?void 0:G.logistics)==null?void 0:I.delivery_to_customer)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsx("span",{children:v((Z=(X=i==null?void 0:i.expenses)==null?void 0:X.logistics)==null?void 0:Z.last_mile)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsx("span",{children:v((Y=(D=i==null?void 0:i.expenses)==null?void 0:D.logistics)==null?void 0:Y.returns)})]}),a.jsxs("div",{className:"flex justify-between font-bold pt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((se=(ae=i==null?void 0:i.expenses)==null?void 0:ae.logistics)==null?void 0:se.total)})]})]})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"3  "}),a.jsxs("div",{className:"pl-4 space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{children:v((de=(K=i==null?void 0:i.expenses)==null?void 0:K.services)==null?void 0:de.storage)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{children:v((Q=(fe=i==null?void 0:i.expenses)==null?void 0:fe.services)==null?void 0:Q.acquiring)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"   "}),a.jsx("span",{children:v((xe=(_e=i==null?void 0:i.expenses)==null?void 0:_e.services)==null?void 0:xe.pvz_fees)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{children:v((H=(Ae=i==null?void 0:i.expenses)==null?void 0:Ae.services)==null?void 0:H.packaging)})]}),a.jsxs("div",{className:"flex justify-between font-bold pt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((me=(te=i==null?void 0:i.expenses)==null?void 0:te.services)==null?void 0:me.total)})]})]})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"4 "}),a.jsx("div",{className:"pl-4 space-y-1",children:a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((z=(be=i==null?void 0:i.expenses)==null?void 0:be.penalties)==null?void 0:z.total)})]})})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"5  "}),a.jsx("div",{className:"pl-4 space-y-1",children:a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((B=(re=i==null?void 0:i.expenses)==null?void 0:re.other_expenses)==null?void 0:B.total)})]})})]}),a.jsx("div",{className:"pl-6 pt-4 border-t border-mm-border",children:a.jsxs("div",{className:"flex justify-between font-bold text-lg text-mm-red",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((ne=i==null?void 0:i.expenses)==null?void 0:ne.total_expenses)})]})})]}),a.jsxs("div",{className:"pt-4 border-t-2 border-mm-cyan",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-green"}),a.jsx("h4",{className:"text-mm-green uppercase",children:" "})]}),a.jsxs("div",{className:"pl-6 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-lg font-bold text-mm-green",children:[a.jsx("span",{children:"  "}),a.jsx("span",{children:v((ie=i==null?void 0:i.profit)==null?void 0:ie.operating_profit)})]}),a.jsxs("div",{className:"flex justify-between text-sm text-mm-text-secondary",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:x((we=i==null?void 0:i.profit)==null?void 0:we.operating_margin_pct)})]}),a.jsxs("div",{className:"pt-3 mt-3 border-t border-mm-border",children:[a.jsxs("div",{className:`flex justify-between text-2xl font-bold ${(((ge=i==null?void 0:i.profit)==null?void 0:ge.net_profit)??0)>=0?"text-mm-green":"text-mm-red"}`,children:[a.jsx("span",{children:"  "}),a.jsx("span",{children:v((Ne=i==null?void 0:i.profit)==null?void 0:Ne.net_profit)})]}),a.jsxs("div",{className:"flex justify-between text-sm text-mm-text-secondary mt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:x((Me=i==null?void 0:i.profit)==null?void 0:Me.net_margin_pct)})]}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-2 italic",children:"//      "})]})]})]})]})]})]}):!t&&!l?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx("p",{className:"text-mm-text-secondary mb-2",children:'    " "'}),a.jsx("p",{className:"comment",children:"//      "})]}):null]})}const d_=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},SM=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);return d_(t)},PM=()=>d_(new Date);function CM(){const{api:e}=ye(),[t,r]=f.useState(!1),[n,s]=f.useState([]),[i,o]=f.useState(0),[l,u]=f.useState(SM()),[c,d]=f.useState(PM()),[m]=f.useState(50),[p,h]=f.useState(0),[y,g]=f.useState(null),v=async()=>{var w,C;r(!0);try{const _=await e.get("/api/profit-analytics/transactions",{params:{date_from:l,date_to:c,limit:m,offset:p}});s(_.data.transactions||[]),o(_.data.total_count||0)}catch(_){console.error("Failed to load transactions:",_),alert(" : "+(((C=(w=_.response)==null?void 0:w.data)==null?void 0:C.detail)||_.message))}r(!1)};f.useEffect(()=>{v()},[p]);const x=w=>((w==null||isNaN(w))&&(w=0),new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2}).format(w)),b=w=>w?new Date(w).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",j=w=>{g(y===w?null:w)},k=()=>{p+m<i&&h(p+m)},N=()=>{p>0&&h(Math.max(0,p-m))};return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:""}),a.jsx("p",{className:"comment",children:"//    "})]}),a.jsx("div",{className:"card-neon p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsx("input",{type:"date",value:l,onChange:w=>u(w.target.value),className:"input-mono w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsx("input",{type:"date",value:c,onChange:w=>d(w.target.value),className:"input-mono w-full"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{h(0),v()},disabled:t,className:"btn-primary w-full",children:t?"...":""})})]})}),t?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// ..."})}):n.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx("p",{className:"text-mm-text-secondary mb-2",children:" "}),a.jsx("p",{className:"comment",children:"//   "})]}):a.jsxs("div",{className:"card-neon overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" "}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:n.map(w=>{var O,S,E,M,A,T,F,U,L,R,$,G,I,X,Z,D,Y,ae;const C=(((S=(O=w.breakdown)==null?void 0:O.commission)==null?void 0:S.total)||0)+(((M=(E=w.breakdown)==null?void 0:E.logistics)==null?void 0:M.total)||0)+(((T=(A=w.breakdown)==null?void 0:A.services)==null?void 0:T.total)||0)+(((U=(F=w.breakdown)==null?void 0:F.penalties)==null?void 0:U.total)||0),_=w.amount-C,P=y===w._id;return a.jsxs(J.Fragment,{children:[a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:b(w.operation_date)}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:w.order_id||"-"}),a.jsxs("td",{className:"py-4 px-4 text-sm",children:[((L=w.items)==null?void 0:L.length)||0," "]}),a.jsx("td",{className:"py-4 px-4 text-right font-mono text-sm",children:x(w.amount)}),a.jsx("td",{className:"py-4 px-4 text-right font-mono text-sm text-mm-red",children:x(C)}),a.jsx("td",{className:`py-4 px-4 text-right font-mono text-sm font-bold ${_>=0?"text-mm-green":"text-mm-red"}`,children:x(_)}),a.jsx("td",{className:"py-4 px-4 text-center",children:a.jsx("button",{onClick:()=>j(w._id),className:"text-mm-cyan hover:text-mm-text transition-colors",children:P?a.jsx(Hk,{size:20}):a.jsx(kl,{size:20})})})]}),P&&a.jsx("tr",{className:"bg-mm-gray border-b border-mm-border",children:a.jsx("td",{colSpan:"7",className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 font-mono text-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-cyan uppercase mb-3",children:""}),a.jsx("div",{className:"space-y-2",children:((R=w.items)==null?void 0:R.map((se,K)=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:se.name||se.sku}),a.jsxs("span",{children:[x(se.price),"  ",se.quantity]})]},K)))||a.jsx("p",{className:"text-mm-text-tertiary",children:" "})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-red uppercase mb-3",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" "}),a.jsx("span",{children:x((G=($=w.breakdown)==null?void 0:$.commission)==null?void 0:G.total)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:x((X=(I=w.breakdown)==null?void 0:I.logistics)==null?void 0:X.total)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:x((D=(Z=w.breakdown)==null?void 0:Z.services)==null?void 0:D.total)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:x((ae=(Y=w.breakdown)==null?void 0:Y.penalties)==null?void 0:ae.total)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-mm-red",children:[a.jsx("span",{children:""}),a.jsx("span",{children:x(C)})]})]})]})]})})})]},w._id)})})]})}),a.jsxs("div",{className:"p-4 border-t border-mm-border flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-mm-text-secondary font-mono",children:[" ",p+1,"-",Math.min(p+m,i),"  ",i]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:N,disabled:p===0,className:"btn-secondary text-sm",children:" "}),a.jsx("button",{onClick:k,disabled:p+m>=i,className:"btn-secondary text-sm",children:" "})]})]})]})]})}function m_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=m_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ie(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=m_(e))&&(n&&(n+=" "),n+=t);return n}var EM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ey(e){if(typeof e!="string")return!1;var t=EM;return t.includes(e)}var OM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],AM=new Set(OM);function f_(e){return typeof e!="string"?!1:AM.has(e)}function p_(e){return typeof e=="string"&&e.startsWith("data-")}function Ar(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(f_(r)||p_(r))&&(t[r]=e[r]);return t}function Ss(e){if(e==null)return null;if(f.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ar(t)}return typeof e=="object"&&!Array.isArray(e)?Ar(e):null}function sr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(f_(r)||p_(r)||Ey(r))&&(t[r]=e[r]);return t}function TM(e){return e==null?null:f.isValidElement(e)?sr(e.props):typeof e=="object"&&!Array.isArray(e)?sr(e):null}var IM=["children","width","height","viewBox","className","style","title","desc"];function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(null,arguments)}function DM(e,t){if(e==null)return{};var r,n,s=MM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function MM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Oy=f.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:l,title:u,desc:c}=e,d=DM(e,IM),m=i||{width:n,height:s,x:0,y:0},p=Ie("recharts-surface",o);return f.createElement("svg",ph({},sr(d),{className:p,width:n,height:s,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),f.createElement("title",null,u),f.createElement("desc",null,c),r)}),LM=["children","className"];function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hh.apply(null,arguments)}function $M(e,t){if(e==null)return{};var r,n,s=RM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function RM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dt=f.forwardRef((e,t)=>{var{children:r,className:n}=e,s=$M(e,LM),i=Ie("recharts-layer",n);return f.createElement("g",hh({className:i},sr(s),{ref:t}),r)}),h_=f.createContext(null),zM=()=>f.useContext(h_);function Ue(e){return function(){return e}}const x_=Math.cos,Mu=Math.sin,xn=Math.sqrt,Lu=Math.PI,Qd=2*Lu,xh=Math.PI,yh=2*xh,rs=1e-6,FM=yh-rs;function y_(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function BM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return y_;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class UM{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?y_:BM(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,u=n-t,c=s-r,d=o-t,m=l-r,p=d*d+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>rs)if(!(Math.abs(m*u-c*d)>rs)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,y=s-l,g=u*u+c*c,v=h*h+y*y,x=Math.sqrt(g),b=Math.sqrt(p),j=i*Math.tan((xh-Math.acos((g+p-v)/(2*x*b)))/2),k=j/b,N=j/x;Math.abs(k-1)>rs&&this._append`L${t+k*d},${r+k*m}`,this._append`A${i},${i},0,0,${+(m*h>d*y)},${this._x1=t+N*u},${this._y1=r+N*c}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),u=n*Math.sin(s),c=t+l,d=r+u,m=1^o,p=o?s-i:i-s;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>rs||Math.abs(this._y1-d)>rs)&&this._append`L${c},${d}`,n&&(p<0&&(p=p%yh+yh),p>FM?this._append`A${n},${n},0,1,${m},${t-l},${r-u}A${n},${n},0,1,${m},${this._x1=c},${this._y1=d}`:p>rs&&this._append`A${n},${n},0,${+(p>=xh)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Ay(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new UM(t)}function Ty(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function g_(e){this._context=e}g_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zd(e){return new g_(e)}function v_(e){return e[0]}function b_(e){return e[1]}function j_(e,t){var r=Ue(!0),n=null,s=Zd,i=null,o=Ay(l);e=typeof e=="function"?e:e===void 0?v_:Ue(e),t=typeof t=="function"?t:t===void 0?b_:Ue(t);function l(u){var c,d=(u=Ty(u)).length,m,p=!1,h;for(n==null&&(i=s(h=o())),c=0;c<=d;++c)!(c<d&&r(m=u[c],c,u))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(m,c,u),+t(m,c,u));if(h)return i=null,h+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ue(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ue(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Ue(!!u),l):r},l.curve=function(u){return arguments.length?(s=u,n!=null&&(i=s(n)),l):s},l.context=function(u){return arguments.length?(u==null?n=i=null:i=s(n=u),l):n},l}function kc(e,t,r){var n=null,s=Ue(!0),i=null,o=Zd,l=null,u=Ay(c);e=typeof e=="function"?e:e===void 0?v_:Ue(+e),t=typeof t=="function"?t:Ue(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?b_:Ue(+r);function c(m){var p,h,y,g=(m=Ty(m)).length,v,x=!1,b,j=new Array(g),k=new Array(g);for(i==null&&(l=o(b=u())),p=0;p<=g;++p){if(!(p<g&&s(v=m[p],p,m))===x)if(x=!x)h=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=p-1;y>=h;--y)l.point(j[y],k[y]);l.lineEnd(),l.areaEnd()}x&&(j[p]=+e(v,p,m),k[p]=+t(v,p,m),l.point(n?+n(v,p,m):j[p],r?+r(v,p,m):k[p]))}if(b)return l=null,b+""||null}function d(){return j_().defined(s).curve(o).context(i)}return c.x=function(m){return arguments.length?(e=typeof m=="function"?m:Ue(+m),n=null,c):e},c.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Ue(+m),c):e},c.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ue(+m),c):n},c.y=function(m){return arguments.length?(t=typeof m=="function"?m:Ue(+m),r=null,c):t},c.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Ue(+m),c):t},c.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ue(+m),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(m){return arguments.length?(s=typeof m=="function"?m:Ue(!!m),c):s},c.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),c):o},c.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),c):i},c}class w_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function WM(e){return new w_(e,!0)}function KM(e){return new w_(e,!1)}const Iy={draw(e,t){const r=xn(t/Lu);e.moveTo(r,0),e.arc(0,0,r,0,Qd)}},HM={draw(e,t){const r=xn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},N_=xn(1/3),VM=N_*2,qM={draw(e,t){const r=xn(t/VM),n=r*N_;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},YM={draw(e,t){const r=xn(t),n=-r/2;e.rect(n,n,r,r)}},GM=.8908130915292852,k_=Mu(Lu/10)/Mu(7*Lu/10),XM=Mu(Qd/10)*k_,QM=-x_(Qd/10)*k_,ZM={draw(e,t){const r=xn(t*GM),n=XM*r,s=QM*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Qd*i/5,l=x_(o),u=Mu(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*s,u*n+l*s)}e.closePath()}},Df=xn(3),JM={draw(e,t){const r=-xn(t/(Df*3));e.moveTo(0,r*2),e.lineTo(-Df*r,-r),e.lineTo(Df*r,-r),e.closePath()}},Lr=-.5,$r=xn(3)/2,gh=1/xn(12),eL=(gh/2+1)*3,tL={draw(e,t){const r=xn(t/eL),n=r/2,s=r*gh,i=n,o=r*gh+r,l=-i,u=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,u),e.lineTo(Lr*n-$r*s,$r*n+Lr*s),e.lineTo(Lr*i-$r*o,$r*i+Lr*o),e.lineTo(Lr*l-$r*u,$r*l+Lr*u),e.lineTo(Lr*n+$r*s,Lr*s-$r*n),e.lineTo(Lr*i+$r*o,Lr*o-$r*i),e.lineTo(Lr*l+$r*u,Lr*u-$r*l),e.closePath()}};function rL(e,t){let r=null,n=Ay(s);e=typeof e=="function"?e:Ue(e||Iy),t=typeof t=="function"?t:Ue(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ue(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ue(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function $u(){}function Ru(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function __(e){this._context=e}__.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ru(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ru(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nL(e){return new __(e)}function S_(e){this._context=e}S_.prototype={areaStart:$u,areaEnd:$u,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ru(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aL(e){return new S_(e)}function P_(e){this._context=e}P_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ru(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sL(e){return new P_(e)}function C_(e){this._context=e}C_.prototype={areaStart:$u,areaEnd:$u,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function iL(e){return new C_(e)}function L0(e){return e<0?-1:1}function $0(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(L0(i)+L0(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function R0(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Mf(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function zu(e){this._context=e}zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mf(this,this._t0,R0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Mf(this,R0(this,r=$0(this,e,t)),r);break;default:Mf(this,this._t0,r=$0(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function E_(e){this._context=new O_(e)}(E_.prototype=Object.create(zu.prototype)).point=function(e,t){zu.prototype.point.call(this,t,e)};function O_(e){this._context=e}O_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function oL(e){return new zu(e)}function lL(e){return new E_(e)}function A_(e){this._context=e}A_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=z0(e),s=z0(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function z0(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function cL(e){return new A_(e)}function Jd(e,t){this._context=e,this._t=t}Jd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function uL(e){return new Jd(e,.5)}function dL(e){return new Jd(e,0)}function mL(e){return new Jd(e,1)}function Ni(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function vh(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function fL(e,t){return e[t]}function pL(e){const t=[];return t.key=e,t}function hL(){var e=Ue([]),t=vh,r=Ni,n=fL;function s(i){var o=Array.from(e.apply(this,arguments),pL),l,u=o.length,c=-1,d;for(const m of i)for(l=0,++c;l<u;++l)(o[l][c]=[0,+n(m,o[l].key,c,i)]).data=m;for(l=0,d=Ty(t(o));l<u;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ue(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ue(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?vh:typeof i=="function"?i:Ue(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Ni,s):r},s}function xL(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Ni(e,t)}}function yL(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ni(e,t)}}function gL(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,u=0,c=0;l<o;++l){for(var d=e[t[l]],m=d[n][1]||0,p=d[n-1][1]||0,h=(m-p)/2,y=0;y<l;++y){var g=e[t[y]],v=g[n][1]||0,x=g[n-1][1]||0;h+=v-x}u+=m,c+=h*m}s[n-1][1]+=s[n-1][0]=r,u&&(r-=c/u)}s[n-1][1]+=s[n-1][0]=r,Ni(e,t)}}var em={},T_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(T_);var Dy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Dy);var tm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(tm);var rm={},I_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(I_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I_,r=tm;function n(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const i=[],o=s.length;if(o===0)return i;let l=0,u="",c="",d=!1;for(s.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const m=s[l];c?m==="\\"&&l+1<o?(l++,u+=s[l]):m===c?c="":u+=m:d?m==='"'||m==="'"?c=m:m==="]"?(d=!1,i.push(u),u=""):u+=m:m==="["?(d=!0,u&&(i.push(u),u="")):m==="."?u&&(i.push(u),u=""):u+=m,l++}return u&&i.push(u),i}e.toPath=n})(rm);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T_,r=Dy,n=tm,s=rm;function i(l,u,c){if(l==null)return c;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return c;const d=l[u];return d===void 0?r.isDeepKey(u)?i(l,s.toPath(u),c):c:d}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const d=l[u];return d===void 0?c:d}default:{if(Array.isArray(u))return o(l,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return c;const d=l[u];return d===void 0?c:d}}}function o(l,u,c){if(u.length===0)return c;let d=l;for(let m=0;m<u.length;m++){if(d==null||t.isUnsafeProperty(u[m]))return c;d=d[u[m]]}return d===void 0?c:d}e.get=i})(em);var vL=em.get;const Ps=On(vL);var At=e=>e===0?0:e>0?1:-1,mn=e=>typeof e=="number"&&e!=+e,Qn=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ue=e=>(typeof e=="number"||e instanceof Number)&&!mn(e),Pn=e=>ue(e)||typeof e=="string",bL=0,Jo=e=>{var t=++bL;return"".concat(e||"").concat(t)},Qt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(t)&&typeof t!="string")return n;var i;if(Qn(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return mn(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},D_=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ge(e,t,r){return ue(e)&&ue(t)?e+r*(t-e):t}function M_(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ps(n,t))===r)}var Ze=e=>e===null||typeof e>"u",Sl=e=>Ze(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function jL(e){return e!=null}function Pl(){}var wL=["type","size","sizeType"];function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bh.apply(null,arguments)}function F0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function B0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F0(Object(r),!0).forEach(function(n){NL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NL(e,t,r){return(t=kL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kL(e){var t=_L(e,"string");return typeof t=="symbol"?t:t+""}function _L(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SL(e,t){if(e==null)return{};var r,n,s=PL(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function PL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var L_={symbolCircle:Iy,symbolCross:HM,symbolDiamond:qM,symbolSquare:YM,symbolStar:ZM,symbolTriangle:JM,symbolWye:tL},CL=Math.PI/180,EL=e=>{var t="symbol".concat(Sl(e));return L_[t]||Iy},OL=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*CL;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},AL=(e,t)=>{L_["symbol".concat(Sl(e))]=t},My=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=SL(e,wL),i=B0(B0({},s),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var p=EL(o),h=rL().type(p).size(OL(r,n,o)),y=h();if(y!==null)return y},{className:u,cx:c,cy:d}=i,m=sr(i);return ue(c)&&ue(d)&&ue(r)?f.createElement("path",bh({},m,{className:Ie("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(d,")"),d:l()})):null};My.registerSymbol=AL;var $_=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Ly=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(f.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{Ey(s)&&(n[s]=i=>r[s](r,i))}),n},TL=(e,t,r)=>n=>(e(t,r,n),null),Cl=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];Ey(s)&&typeof i=="function"&&(n||(n={}),n[s]=TL(i,t,r))}),n};function U0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function IL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U0(Object(r),!0).forEach(function(n){DL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DL(e,t,r){return(t=ML(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ML(e){var t=LL(e,"string");return typeof t=="symbol"?t:t+""}function LL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xt(e,t){var r=IL({},e),n=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fu.apply(null,arguments)}function W0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W0(Object(r),!0).forEach(function(n){RL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RL(e,t,r){return(t=zL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zL(e){var t=FL(e,"string");return typeof t=="symbol"?t:t+""}function FL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zr=32,BL={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function UL(e){var{data:t,iconType:r,inactiveColor:n}=e,s=zr/2,i=zr/6,o=zr/3,l=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline"){var c;return f.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:s,x2:zr,y2:s,className:"recharts-legend-icon"})}if(u==="line")return f.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(zr,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(u==="rect")return f.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(zr/8,"h").concat(zr,"v").concat(zr*3/4,"h").concat(-zr,"z"),className:"recharts-legend-icon"});if(f.isValidElement(t.legendIcon)){var d=$L({},t);return delete d.legendIcon,f.cloneElement(t.legendIcon,d)}return f.createElement(My,{fill:l,cx:s,cy:s,size:zr,sizeType:"diameter",type:u})}function WL(e){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:i,iconType:o}=e,l={x:0,y:0,width:zr,height:zr},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,m)=>{var p=d.formatter||s,h=Ie({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:d.inactive});if(d.type==="none")return null;var y=d.inactive?i:d.color,g=p?p(d.value,d,m):d.value;return f.createElement("li",Fu({className:h,style:u,key:"legend-item-".concat(m)},Cl(e,d,m)),f.createElement(Oy,{width:r,height:r,viewBox:l,style:c,"aria-label":"".concat(g," legend icon")},f.createElement(UL,{data:d,iconType:o,inactiveColor:i})),f.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g))})}var KL=e=>{var t=xt(e,BL),{payload:r,layout:n,align:s}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?s:"left"};return f.createElement("ul",{className:"recharts-default-legend",style:i},f.createElement(WL,Fu({},t,{payload:r})))},R_={},z_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t})(z_);var $y={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})($y);var F_={},nm={},B_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(B_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B_;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(nm);var U_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(U_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nm,r=U_;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(F_);var W_={},K_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=em;function r(n){return function(s){return t.get(s,n)}}e.property=r})(K_);var H_={},Ry={},V_={},zy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(zy);var Fy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Fy);var By={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(By);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zy,r=Fy,n=By;function s(d,m,p){return typeof p!="function"?s(d,m,()=>{}):i(d,m,function h(y,g,v,x,b,j){const k=p(y,g,v,x,b,j);return k!==void 0?!!k:i(y,g,h,j)},new Map)}function i(d,m,p,h){if(m===d)return!0;switch(typeof m){case"object":return o(d,m,p,h);case"function":return Object.keys(m).length>0?i(d,{...m},p,h):n.eq(d,m);default:return t.isObject(d)?typeof m=="string"?m==="":!0:n.eq(d,m)}}function o(d,m,p,h){if(m==null)return!0;if(Array.isArray(m))return u(d,m,p,h);if(m instanceof Map)return l(d,m,p,h);if(m instanceof Set)return c(d,m,p,h);const y=Object.keys(m);if(d==null)return y.length===0;if(y.length===0)return!0;if(h!=null&&h.has(m))return h.get(m)===d;h==null||h.set(m,d);try{for(let g=0;g<y.length;g++){const v=y[g];if(!r.isPrimitive(d)&&!(v in d)||m[v]===void 0&&d[v]!==void 0||m[v]===null&&d[v]!==null||!p(d[v],m[v],v,d,m,h))return!1}return!0}finally{h==null||h.delete(m)}}function l(d,m,p,h){if(m.size===0)return!0;if(!(d instanceof Map))return!1;for(const[y,g]of m.entries()){const v=d.get(y);if(p(v,g,y,d,m,h)===!1)return!1}return!0}function u(d,m,p,h){if(m.length===0)return!0;if(!Array.isArray(d))return!1;const y=new Set;for(let g=0;g<m.length;g++){const v=m[g];let x=!1;for(let b=0;b<d.length;b++){if(y.has(b))continue;const j=d[b];let k=!1;if(p(j,v,g,d,m,h)&&(k=!0),k){y.add(b),x=!0;break}}if(!x)return!1}return!0}function c(d,m,p,h){return m.size===0?!0:d instanceof Set?u([...d],[...m],p,h):!1}e.isMatchWith=s,e.isSetMatch=c})(V_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V_;function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})(Ry);var q_={},Uy={},Y_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Y_);var Wy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Wy);var Ky={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",c="[object Set]",d="[object Array]",m="[object Function]",p="[object ArrayBuffer]",h="[object Object]",y="[object Error]",g="[object DataView]",v="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",j="[object Uint32Array]",k="[object BigUint64Array]",N="[object Int8Array]",w="[object Int16Array]",C="[object Int32Array]",_="[object BigInt64Array]",P="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=_,e.bigUint64ArrayTag=k,e.booleanTag=s,e.dataViewTag=g,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=P,e.float64ArrayTag=O,e.functionTag=m,e.int16ArrayTag=w,e.int32ArrayTag=C,e.int8ArrayTag=N,e.mapTag=u,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=j,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=x})(Ky);var G_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(G_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y_,r=Wy,n=Ky,s=Fy,i=G_;function o(d,m){return l(d,void 0,d,new Map,m)}function l(d,m,p,h=new Map,y=void 0){const g=y==null?void 0:y(d,m,p,h);if(g!==void 0)return g;if(s.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const v=new Array(d.length);h.set(d,v);for(let x=0;x<d.length;x++)v[x]=l(d[x],x,p,h,y);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;h.set(d,v);for(const[x,b]of d)v.set(x,l(b,x,p,h,y));return v}if(d instanceof Set){const v=new Set;h.set(d,v);for(const x of d)v.add(l(x,void 0,p,h,y));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,v);for(let x=0;x<d.length;x++)v[x]=l(d[x],x,p,h,y);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,v),u(v,d,p,h,y),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return h.set(d,v),u(v,d,p,h,y),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return h.set(d,v),u(v,d,p,h,y),v}if(d instanceof Error){const v=new d.constructor;return h.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,u(v,d,p,h,y),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return h.set(d,v),u(v,d,p,h,y),v}if(d instanceof Number){const v=new Number(d.valueOf());return h.set(d,v),u(v,d,p,h,y),v}if(d instanceof String){const v=new String(d.valueOf());return h.set(d,v),u(v,d,p,h,y),v}if(typeof d=="object"&&c(d)){const v=Object.create(Object.getPrototypeOf(d));return h.set(d,v),u(v,d,p,h,y),v}return d}function u(d,m,p=d,h,y){const g=[...Object.keys(m),...t.getSymbols(m)];for(let v=0;v<g.length;v++){const x=g[v],b=Object.getOwnPropertyDescriptor(d,x);(b==null||b.writable)&&(d[x]=l(m[x],x,p,h,y))}}function c(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(Uy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uy;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(q_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ry,r=q_;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(H_);var X_={},Q_={},Z_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uy,r=Ky;function n(s,i){return t.cloneDeepWith(s,(o,l,u,c)=>{const d=i==null?void 0:i(o,l,u,c);if(d!==void 0)return d;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(m,s),m}case r.argumentsTag:{const m={};return t.copyProperties(m,s),m.length=s.length,m[Symbol.iterator]=s[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(Z_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z_;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Q_);var J_={},Hy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Hy);var eS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wy;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(eS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dy,r=Hy,n=eS,s=rm;function i(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?u=s.toPath(l):u=[l],u.length===0)return!1;let c=o;for(let d=0;d<u.length;d++){const m=u[d];if((c==null||!Object.hasOwn(c,m))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(m)&&m<c.length))return!1;c=c[m]}return!0}e.has=i})(J_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ry,r=tm,n=Q_,s=em,i=J_;function o(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(c){const d=s.get(c,l);return d===void 0?i.has(c,l):u===void 0?d===void 0:t.isMatch(d,u)}}e.matchesProperty=o})(X_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$y,r=K_,n=H_,s=X_;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(W_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z_,r=$y,n=F_,s=W_;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i})(R_);var HL=R_.uniqBy;const K0=On(HL);function tS(e,t,r){return t===!0?K0(e,r):typeof t=="function"?K0(e,t):e}var rS={exports:{}},nS={},aS={exports:{}},sS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ki=f;function VL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qL=typeof Object.is=="function"?Object.is:VL,YL=ki.useState,GL=ki.useEffect,XL=ki.useLayoutEffect,QL=ki.useDebugValue;function ZL(e,t){var r=t(),n=YL({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return XL(function(){s.value=r,s.getSnapshot=t,Lf(s)&&i({inst:s})},[e,r,t]),GL(function(){return Lf(s)&&i({inst:s}),e(function(){Lf(s)&&i({inst:s})})},[e]),QL(r),r}function Lf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qL(e,r)}catch{return!0}}function JL(e,t){return t()}var e$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JL:ZL;sS.useSyncExternalStore=ki.useSyncExternalStore!==void 0?ki.useSyncExternalStore:e$;aS.exports=sS;var t$=aS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am=f,r$=t$;function n$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var a$=typeof Object.is=="function"?Object.is:n$,s$=r$.useSyncExternalStore,i$=am.useRef,o$=am.useEffect,l$=am.useMemo,c$=am.useDebugValue;nS.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=i$(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=l$(function(){function u(h){if(!c){if(c=!0,d=h,h=n(h),s!==void 0&&o.hasValue){var y=o.value;if(s(y,h))return m=y}return m=h}if(y=m,a$(d,h))return y;var g=n(h);return s!==void 0&&s(y,g)?(d=h,y):(d=h,m=g)}var c=!1,d,m,p=r===void 0?null:r;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,r,n,s]);var l=s$(e,i[0],i[1]);return o$(function(){o.hasValue=!0,o.value=l},[l]),c$(l),l};rS.exports=nS;var u$=rS.exports,Vy=f.createContext(null),d$=e=>e,Ke=()=>{var e=f.useContext(Vy);return e?e.store.dispatch:d$},nu=()=>{},m$=()=>nu,f$=(e,t)=>e===t;function le(e){var t=f.useContext(Vy);return u$.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:m$,t?t.store.getState:nu,t?t.store.getState:nu,t?e:nu,f$)}function p$(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function h$(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function x$(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var H0=e=>Array.isArray(e)?e:[e];function y$(e){const t=Array.isArray(e[0])?e[0]:e;return x$(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function g$(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var v$=class{constructor(e){this.value=e}deref(){return this.value}},b$=typeof WeakRef<"u"?WeakRef:v$,j$=0,V0=1;function _c(){return{s:j$,v:void 0,o:null,p:null}}function iS(e,t={}){let r=_c();const{resultEqualityCheck:n}=t;let s,i=0;function o(){var m;let l=r;const{length:u}=arguments;for(let p=0,h=u;p<h;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const v=g.get(y);v===void 0?(l=_c(),g.set(y,l)):l=v}else{let g=l.p;g===null&&(l.p=g=new Map);const v=g.get(y);v===void 0?(l=_c(),g.set(y,l)):l=v}}const c=l;let d;if(l.s===V0)d=l.v;else if(d=e.apply(null,arguments),i++,n){const p=((m=s==null?void 0:s.deref)==null?void 0:m.call(s))??s;p!=null&&n(p,d)&&(d=p,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new b$(d):d}return c.s=V0,c.v=d,d}return o.clearCache=()=>{r=_c(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function w$(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,l,u={},c=s.pop();typeof c=="object"&&(u=c,c=s.pop()),p$(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...r,...u},{memoize:m,memoizeOptions:p=[],argsMemoize:h=iS,argsMemoizeOptions:y=[]}=d,g=H0(p),v=H0(y),x=y$(s),b=m(function(){return i++,c.apply(null,arguments)},...g),j=h(function(){o++;const N=g$(x,arguments);return l=b.apply(null,N),l},...v);return Object.assign(j,{resultFunc:c,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var W=w$(iS),N$=Object.assign((e,t=W)=>{h$(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,u)=>(o[r[u]]=l,o),{}))},{withTypes:()=>N$}),oS={},lS={},cS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),l=t(s);if(o===l&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(cS);var uS={},qy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(qy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qy,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(uS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cS,r=uS,n=rm;function s(i,o,l,u){if(i==null)return[];l=u?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const c=(h,y)=>{let g=h;for(let v=0;v<y.length&&g!=null;++v)g=g[y[v]];return g},d=(h,y)=>y==null||h==null?y:typeof h=="object"&&"key"in h?Object.hasOwn(y,h.key)?y[h.key]:c(y,h.path):typeof h=="function"?h(y):Array.isArray(h)?c(y,h):typeof y=="object"?y[h]:y,m=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return i.map(h=>({original:h,criteria:m.map(y=>d(y,h))})).slice().sort((h,y)=>{for(let g=0;g<m.length;g++){const v=t.compareValues(h.criteria[g],y.criteria[g],l[g]);if(v!==0)return v}return 0}).map(h=>h.original)}e.orderBy=s})(lS);var dS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(l,u)=>{for(let c=0;c<l.length;c++){const d=l[c];Array.isArray(d)&&u<i?o(d,u+1):s.push(d)}};return o(r,0),s}e.flatten=t})(dS);var Yy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hy,r=nm,n=zy,s=By;function i(o,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?s.eq(u[l],o):!1}e.isIterateeCall=i})(Yy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lS,r=dS,n=Yy;function s(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(oS);var k$=oS.sortBy;const sm=On(k$);var mS=e=>e.legend.settings,_$=e=>e.legend.size,S$=e=>e.legend.payload,P$=W([S$,mS],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?sm(n,r):n});function C$(){return le(P$)}var Sc=1;function fS(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=f.useState({height:0,left:0,top:0,width:0}),n=f.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Sc||Math.abs(o.left-t.left)>Sc||Math.abs(o.top-t.top)>Sc||Math.abs(o.width-t.width)>Sc)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Rt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var E$=typeof Symbol=="function"&&Symbol.observable||"@@observable",q0=E$,$f=()=>Math.random().toString(36).substring(7).split("").join("."),O$={INIT:`@@redux/INIT${$f()}`,REPLACE:`@@redux/REPLACE${$f()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$f()}`},Bu=O$;function Gy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function pS(e,t,r){if(typeof e!="function")throw new Error(Rt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Rt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Rt(1));return r(pS)(e,t)}let n=e,s=t,i=new Map,o=i,l=0,u=!1;function c(){o===i&&(o=new Map,i.forEach((v,x)=>{o.set(x,v)}))}function d(){if(u)throw new Error(Rt(3));return s}function m(v){if(typeof v!="function")throw new Error(Rt(4));if(u)throw new Error(Rt(5));let x=!0;c();const b=l++;return o.set(b,v),function(){if(x){if(u)throw new Error(Rt(6));x=!1,c(),o.delete(b),i=null}}}function p(v){if(!Gy(v))throw new Error(Rt(7));if(typeof v.type>"u")throw new Error(Rt(8));if(typeof v.type!="string")throw new Error(Rt(17));if(u)throw new Error(Rt(9));try{u=!0,s=n(s,v)}finally{u=!1}return(i=o).forEach(b=>{b()}),v}function h(v){if(typeof v!="function")throw new Error(Rt(10));n=v,p({type:Bu.REPLACE})}function y(){const v=m;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Rt(11));function b(){const k=x;k.next&&k.next(d())}return b(),{unsubscribe:v(b)}},[q0](){return this}}}return p({type:Bu.INIT}),{dispatch:p,subscribe:m,getState:d,replaceReducer:h,[q0]:y}}function A$(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Bu.INIT})>"u")throw new Error(Rt(12));if(typeof r(void 0,{type:Bu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rt(13))})}function hS(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{A$(r)}catch(i){s=i}return function(o={},l){if(s)throw s;let u=!1;const c={};for(let d=0;d<n.length;d++){const m=n[d],p=r[m],h=o[m],y=p(h,l);if(typeof y>"u")throw l&&l.type,new Error(Rt(14));c[m]=y,u=u||y!==h}return u=u||n.length!==Object.keys(o).length,u?c:o}}function Uu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function T$(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(Rt(15))};const o={getState:s.getState,dispatch:(u,...c)=>i(u,...c)},l=e.map(u=>u(o));return i=Uu(...l)(s.dispatch),{...s,dispatch:i}}}function xS(e){return Gy(e)&&"type"in e&&typeof e.type=="string"}var yS=Symbol.for("immer-nothing"),Y0=Symbol.for("immer-draftable"),ir=Symbol.for("immer-state");function an(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Sr=Object,_i=Sr.getPrototypeOf,Wu="constructor",im="prototype",jh="configurable",Ku="enumerable",au="writable",el="value",Zn=e=>!!e&&!!e[ir];function fn(e){var t;return e?gS(e)||om(e)||!!e[Y0]||!!((t=e[Wu])!=null&&t[Y0])||lm(e)||cm(e):!1}var I$=Sr[im][Wu].toString(),G0=new WeakMap;function gS(e){if(!e||!Xy(e))return!1;const t=_i(e);if(t===null||t===Sr[im])return!0;const r=Sr.hasOwnProperty.call(t,Wu)&&t[Wu];if(r===Object)return!0;if(!Ws(r))return!1;let n=G0.get(r);return n===void 0&&(n=Function.toString.call(r),G0.set(r,n)),n===I$}function El(e,t,r=!0){Ol(e)===0?(r?Reflect.ownKeys(e):Sr.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function Ol(e){const t=e[ir];return t?t.type_:om(e)?1:lm(e)?2:cm(e)?3:0}var X0=(e,t,r=Ol(e))=>r===2?e.has(t):Sr[im].hasOwnProperty.call(e,t),wh=(e,t,r=Ol(e))=>r===2?e.get(t):e[t],Hu=(e,t,r,n=Ol(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function D$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var om=Array.isArray,lm=e=>e instanceof Map,cm=e=>e instanceof Set,Xy=e=>typeof e=="object",Ws=e=>typeof e=="function",Rf=e=>typeof e=="boolean",Dn=e=>e.copy_||e.base_,Qy=e=>e.modified_?e.copy_:e.base_;function Nh(e,t){if(lm(e))return new Map(e);if(cm(e))return new Set(e);if(om(e))return Array[im].slice.call(e);const r=gS(e);if(t===!0||t==="class_only"&&!r){const n=Sr.getOwnPropertyDescriptors(e);delete n[ir];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l[au]===!1&&(l[au]=!0,l[jh]=!0),(l.get||l.set)&&(n[o]={[jh]:!0,[au]:!0,[Ku]:l[Ku],[el]:e[o]})}return Sr.create(_i(e),n)}else{const n=_i(e);if(n!==null&&r)return{...e};const s=Sr.create(n);return Sr.assign(s,e)}}function Zy(e,t=!1){return um(e)||Zn(e)||!fn(e)||(Ol(e)>1&&Sr.defineProperties(e,{set:Pc,add:Pc,clear:Pc,delete:Pc}),Sr.freeze(e),t&&El(e,(r,n)=>{Zy(n,!0)},!1)),e}function M$(){an(2)}var Pc={[el]:M$};function um(e){return e===null||!Xy(e)?!0:Sr.isFrozen(e)}var Vu="MapSet",kh="Patches",vS={};function Si(e){const t=vS[e];return t||an(0,e),t}var L$=e=>!!vS[e],tl,bS=()=>tl,$$=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:L$(Vu)?Si(Vu):void 0});function Q0(e,t){t&&(e.patchPlugin_=Si(kh),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _h(e){Sh(e),e.drafts_.forEach(R$),e.drafts_=null}function Sh(e){e===tl&&(tl=e.parent_)}var Z0=e=>tl=$$(tl,e);function R$(e){const t=e[ir];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function J0(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ir].modified_&&(_h(t),an(4)),fn(e)&&(e=ej(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[ir].base_,e,t)}else e=ej(t,r);return z$(t,e,!0),_h(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==yS?e:void 0}function ej(e,t){if(um(t))return t;const r=t[ir];if(!r)return Jy(t,e.handledSet_,e);if(!dm(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);NS(r,e)}return r.copy_}function z$(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Zy(t,r)}function jS(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var dm=(e,t)=>e.scope_===t,F$=[];function wS(e,t,r,n){const s=Dn(e),i=e.type_;if(n!==void 0&&wh(s,n,i)===t){Hu(s,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;El(s,(u,c)=>{if(Zn(c)){const d=l.get(c)||[];d.push(u),l.set(c,d)}})}const o=e.draftLocations_.get(t)??F$;for(const l of o)Hu(s,l,r,i)}function B$(e,t,r){e.callbacks_.push(function(s){var l;const i=t;if(!i||!dm(i,s))return;(l=s.mapSetPlugin_)==null||l.fixSetContents(i);const o=Qy(i);wS(e,i.draft_??i,o,r),NS(i,s)})}function NS(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:s}=t;if(s){const i=s.getPath(e);i&&s.generatePatches_(e,i,t)}jS(e)}}function U$(e,t,r){const{scope_:n}=e;if(Zn(r)){const s=r[ir];dm(s,n)&&s.callbacks_.push(function(){su(e);const o=Qy(s);wS(e,r,o,t)})}else fn(r)&&e.callbacks_.push(function(){const i=Dn(e);wh(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Jy(wh(e.copy_,t,e.type_),n.handledSet_,n)})}function Jy(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Zn(e)||t.has(e)||!fn(e)||um(e)||(t.add(e),El(e,(n,s)=>{if(Zn(s)){const i=s[ir];if(dm(i,r)){const o=Qy(i);Hu(e,n,o,e.type_),jS(i)}}else fn(s)&&Jy(s,t,r)})),e}function W$(e,t){const r=om(e),n={type_:r?1:0,scope_:t?t.scope_:bS(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=n,i=eg;r&&(s=[n],i=rl);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,[l,n]}var eg={get(e,t){if(t===ir)return e;const r=Dn(e);if(!X0(r,t,e.type_))return K$(e,r,t);const n=r[t];if(e.finalized_||!fn(n))return n;if(n===zf(e.base_,t)){su(e);const s=e.type_===1?+t:t,i=Ch(e.scope_,n,e,s);return e.copy_[s]=i}return n},has(e,t){return t in Dn(e)},ownKeys(e){return Reflect.ownKeys(Dn(e))},set(e,t,r){const n=kS(Dn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=zf(Dn(e),t),i=s==null?void 0:s[ir];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(D$(r,s)&&(r!==void 0||X0(e.base_,t,e.type_)))return!0;su(e),Ph(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),U$(e,t,r)),!0},deleteProperty(e,t){return su(e),zf(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ph(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Dn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[au]:!0,[jh]:e.type_!==1||t!=="length",[Ku]:n[Ku],[el]:r[t]}},defineProperty(){an(11)},getPrototypeOf(e){return _i(e.base_)},setPrototypeOf(){an(12)}},rl={};El(eg,(e,t)=>{rl[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});rl.deleteProperty=function(e,t){return rl.set.call(this,e,t,void 0)};rl.set=function(e,t,r){return eg.set.call(this,e[0],t,r,e[0])};function zf(e,t){const r=e[ir];return(r?Dn(r):e)[t]}function K$(e,t,r){var s;const n=kS(t,r);return n?el in n?n[el]:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function kS(e,t){if(!(t in e))return;let r=_i(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=_i(r)}}function Ph(e){e.modified_||(e.modified_=!0,e.parent_&&Ph(e.parent_))}function su(e){e.copy_||(e.assigned_=new Map,e.copy_=Nh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var H$=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,s)=>{if(Ws(r)&&!Ws(n)){const o=n;n=r;const l=this;return function(c=o,...d){return l.produce(c,m=>n.call(this,m,...d))}}Ws(n)||an(6),s!==void 0&&!Ws(s)&&an(7);let i;if(fn(r)){const o=Z0(this),l=Ch(o,r,void 0);let u=!0;try{i=n(l),u=!1}finally{u?_h(o):Sh(o)}return Q0(o,s),J0(i,o)}else if(!r||!Xy(r)){if(i=n(r),i===void 0&&(i=r),i===yS&&(i=void 0),this.autoFreeze_&&Zy(i,!0),s){const o=[],l=[];Si(kh).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:l}),s(o,l)}return i}else an(1,r)},this.produceWithPatches=(r,n)=>{if(Ws(r))return(l,...u)=>this.produceWithPatches(l,c=>r(c,...u));let s,i;return[this.produce(r,n,(l,u)=>{s=l,i=u}),s,i]},Rf(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Rf(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Rf(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){fn(t)||an(8),Zn(t)&&(t=un(t));const r=Z0(this),n=Ch(r,t,void 0);return n[ir].isManual_=!0,Sh(r),n}finishDraft(t,r){const n=t&&t[ir];(!n||!n.isManual_)&&an(9);const{scope_:s}=n;return Q0(s,r),J0(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const s=Si(kh).applyPatches_;return Zn(t)?s(t,r):this.produce(t,i=>s(i,r))}};function Ch(e,t,r,n){const[s,i]=lm(t)?Si(Vu).proxyMap_(t,r):cm(t)?Si(Vu).proxySet_(t,r):W$(t,r);return((r==null?void 0:r.scope_)??bS()).drafts_.push(s),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?B$(r,i,n):i.callbacks_.push(function(u){var d;(d=u.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:c}=u;i.modified_&&c&&c.generatePatches_(i,[],u)}),s}function un(e){return Zn(e)||an(10,e),_S(e)}function _S(e){if(!fn(e)||um(e))return e;const t=e[ir];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Nh(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Nh(e,!0);return El(r,(s,i)=>{Hu(r,s,_S(i))},n),t&&(t.finalized_=!1),r}var V$=new H$,SS=V$.produce;function PS(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var q$=PS(),Y$=PS,G$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Uu:Uu.apply(null,arguments)};function qr(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Cr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>xS(n)&&n.type===e,r}var CS=class bo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bo.prototype)}static get[Symbol.species](){return bo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bo(...t[0].concat(this)):new bo(...t.concat(this))}};function tj(e){return fn(e)?SS(e,()=>{}):e}function Cc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function X$(e){return typeof e=="boolean"}var Q$=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new CS;return r&&(X$(r)?o.push(q$):o.push(Y$(r.extraArgument))),o},ES="RTK_autoBatch",Ye=()=>e=>({payload:e,meta:{[ES]:!0}}),rj=e=>t=>{setTimeout(t,e)},OS=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:rj(10):e.type==="callback"?e.queueNotification:rj(e.timeout),c=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const m=()=>s&&d(),p=n.subscribe(m);return l.add(d),()=>{p(),l.delete(d)}},dispatch(d){var m;try{return s=!((m=d==null?void 0:d.meta)!=null&&m[ES]),i=!s,i&&(o||(o=!0,u(c))),n.dispatch(d)}finally{s=!0}}})},Z$=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new CS(e);return n&&s.push(OS(typeof n=="object"?n:void 0)),s};function J$(e){const t=Q$(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Gy(r))l=hS(r);else throw new Error(Cr(1));let u;typeof n=="function"?u=n(t):u=t();let c=Uu;s&&(c=G$({trace:!1,...typeof s=="object"&&s}));const d=T$(...u),m=Z$(d);let p=typeof o=="function"?o(m):m();const h=c(...p);return pS(l,i,h)}function AS(e){const t={},r=[];let n;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Cr(28));if(l in t)throw new Error(Cr(29));return t[l]=o,s},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function e5(e){return typeof e=="function"}function t5(e,t){let[r,n,s]=AS(t),i;if(e5(e))i=()=>tj(e());else{const l=tj(e);i=()=>l}function o(l=i(),u){let c=[r[u.type],...n.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[s]),c.reduce((d,m)=>{if(m)if(Zn(d)){const h=m(d,u);return h===void 0?d:h}else{if(fn(d))return SS(d,p=>m(p,u));{const p=m(d,u);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},l)}return o.getInitialState=i,o}var r5="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",n5=(e=21)=>{let t="",r=e;for(;r--;)t+=r5[Math.random()*64|0];return t},a5=Symbol.for("rtk-slice-createasyncthunk");function s5(e,t){return`${e}/${t}`}function i5({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[a5];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(Cr(11));const l=(typeof s.reducers=="function"?s.reducers(l5()):s.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,N){const w=typeof k=="string"?k:k.type;if(!w)throw new Error(Cr(12));if(w in c.sliceCaseReducersByType)throw new Error(Cr(13));return c.sliceCaseReducersByType[w]=N,d},addMatcher(k,N){return c.sliceMatchers.push({matcher:k,reducer:N}),d},exposeAction(k,N){return c.actionCreators[k]=N,d},exposeCaseReducer(k,N){return c.sliceCaseReducersByName[k]=N,d}};u.forEach(k=>{const N=l[k],w={reducerName:k,type:s5(i,k),createNotation:typeof s.reducers=="function"};u5(N)?m5(w,N,d,t):c5(w,N,d)});function m(){const[k={},N=[],w=void 0]=typeof s.extraReducers=="function"?AS(s.extraReducers):[s.extraReducers],C={...k,...c.sliceCaseReducersByType};return t5(s.initialState,_=>{for(let P in C)_.addCase(P,C[P]);for(let P of c.sliceMatchers)_.addMatcher(P.matcher,P.reducer);for(let P of N)_.addMatcher(P.matcher,P.reducer);w&&_.addDefaultCase(w)})}const p=k=>k,h=new Map,y=new WeakMap;let g;function v(k,N){return g||(g=m()),g(k,N)}function x(){return g||(g=m()),g.getInitialState()}function b(k,N=!1){function w(_){let P=_[k];return typeof P>"u"&&N&&(P=Cc(y,w,x)),P}function C(_=p){const P=Cc(h,N,()=>new WeakMap);return Cc(P,_,()=>{const O={};for(const[S,E]of Object.entries(s.selectors??{}))O[S]=o5(E,_,()=>Cc(y,_,x),N);return O})}return{reducerPath:k,getSelectors:C,get selectors(){return C(w)},selectSlice:w}}const j={name:i,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...b(o),injectInto(k,{reducerPath:N,...w}={}){const C=N??o;return k.inject({reducerPath:C,reducer:v},w),{...j,...b(C,!0)}}};return j}}function o5(e,t,r,n){function s(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return s.unwrapped=e,s}var vr=i5();function l5(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function c5({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!d5(n))throw new Error(Cr(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?qr(e,o):qr(e))}function u5(e){return e._reducerDefinitionType==="asyncThunk"}function d5(e){return e._reducerDefinitionType==="reducerWithPrepare"}function m5({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Cr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:u,settled:c,options:d}=r,m=s(e,i,d);n.exposeAction(t,m),o&&n.addCase(m.fulfilled,o),l&&n.addCase(m.pending,l),u&&n.addCase(m.rejected,u),c&&n.addMatcher(m.settled,c),n.exposeCaseReducer(t,{fulfilled:o||Ec,pending:l||Ec,rejected:u||Ec,settled:c||Ec})}function Ec(){}var f5="task",TS="listener",IS="completed",tg="cancelled",p5=`task-${tg}`,h5=`task-${IS}`,Eh=`${TS}-${tg}`,x5=`${TS}-${IS}`,mm=class{constructor(e){rf(this,"name","TaskAbortError");rf(this,"message");this.code=e,this.message=`${f5} ${tg} (reason: ${e})`}},rg=(e,t)=>{if(typeof e!="function")throw new TypeError(Cr(32))},qu=()=>{},DS=(e,t=qu)=>(e.catch(t),e),MS=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),hs=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},xs=e=>{if(e.aborted){const{reason:t}=e;throw new mm(t)}};function LS(e,t){let r=qu;return new Promise((n,s)=>{const i=()=>s(new mm(e.reason));if(e.aborted){i();return}r=MS(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=qu})}var y5=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof mm?"cancelled":"rejected",error:r}}finally{t==null||t()}},Yu=e=>t=>DS(LS(e,t).then(r=>(xs(e),r))),$S=e=>{const t=Yu(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ui}=Object,nj={},fm="listenerMiddleware",g5=(e,t)=>{const r=n=>MS(e,()=>hs(n,e.reason));return(n,s)=>{rg(n);const i=new AbortController;r(i);const o=y5(async()=>{xs(e),xs(i.signal);const l=await n({pause:Yu(i.signal),delay:$S(i.signal),signal:i.signal});return xs(i.signal),l},()=>hs(i,h5));return s!=null&&s.autoJoin&&t.push(o.catch(qu)),{result:Yu(e)(o),cancel(){hs(i,p5)}}}},v5=(e,t)=>{const r=async(n,s)=>{xs(t);let i=()=>{};const l=[new Promise((u,c)=>{let d=e({predicate:n,effect:(m,p)=>{p.unsubscribe(),u([m,p.getState(),p.getOriginalState()])}});i=()=>{d(),c()}})];s!=null&&l.push(new Promise(u=>setTimeout(u,s,null)));try{const u=await LS(t,Promise.race(l));return xs(t),u}finally{i()}};return(n,s)=>DS(r(n,s))},RS=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=qr(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Cr(21));return rg(i),{predicate:s,type:t,effect:i}},zS=ui(e=>{const{type:t,predicate:r,effect:n}=RS(e);return{id:n5(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Cr(22))}}},{withTypes:()=>zS}),aj=(e,t)=>{const{type:r,effect:n,predicate:s}=RS(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},Oh=e=>{e.pending.forEach(t=>{hs(t,Eh)})},b5=(e,t)=>()=>{for(const r of t.keys())Oh(r);e.clear()},sj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},FS=ui(qr(`${fm}/add`),{withTypes:()=>FS}),j5=qr(`${fm}/removeAll`),BS=ui(qr(`${fm}/remove`),{withTypes:()=>BS}),w5=(...e)=>{console.error(`${fm}/error`,...e)},Al=(e={})=>{const t=new Map,r=new Map,n=h=>{const y=r.get(h)??0;r.set(h,y+1)},s=h=>{const y=r.get(h)??1;y===1?r.delete(h):r.set(h,y-1)},{extra:i,onError:o=w5}=e;rg(o);const l=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),y=>{h.unsubscribe(),y!=null&&y.cancelActive&&Oh(h)}),u=h=>{const y=aj(t,h)??zS(h);return l(y)};ui(u,{withTypes:()=>u});const c=h=>{const y=aj(t,h);return y&&(y.unsubscribe(),h.cancelActive&&Oh(y)),!!y};ui(c,{withTypes:()=>c});const d=async(h,y,g,v)=>{const x=new AbortController,b=v5(u,x.signal),j=[];try{h.pending.add(x),n(h),await Promise.resolve(h.effect(y,ui({},g,{getOriginalState:v,condition:(k,N)=>b(k,N).then(Boolean),take:b,delay:$S(x.signal),pause:Yu(x.signal),extra:i,signal:x.signal,fork:g5(x.signal,j),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((k,N,w)=>{k!==x&&(hs(k,Eh),w.delete(k))})},cancel:()=>{hs(x,Eh),h.pending.delete(x)},throwIfCancelled:()=>{xs(x.signal)}})))}catch(k){k instanceof mm||sj(o,k,{raisedBy:"effect"})}finally{await Promise.all(j),hs(x,x5),s(h),h.pending.delete(x)}},m=b5(t,r);return{middleware:h=>y=>g=>{if(!xS(g))return y(g);if(FS.match(g))return u(g.payload);if(j5.match(g)){m();return}if(BS.match(g))return c(g.payload);let v=h.getState();const x=()=>{if(v===nj)throw new Error(Cr(23));return v};let b;try{if(b=y(g),t.size>0){const j=h.getState(),k=Array.from(t.values());for(const N of k){let w=!1;try{w=N.predicate(g,j,v)}catch(C){w=!1,sj(o,C,{raisedBy:"predicate"})}w&&d(N,g,h,x)}}}finally{v=nj}return b},startListening:u,stopListening:c,clearListeners:m}};function Cr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var N5={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},US=vr({name:"chartLayout",initialState:N5,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:k5,setLayout:_5,setChartSize:S5,setScale:P5}=US.actions,C5=US.reducer;function WS(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(r),!0).forEach(function(n){E5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E5(e,t,r){return(t=O5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O5(e){var t=A5(e,"string");return typeof t=="symbol"?t:t+""}function A5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ze(e,t,r){return Ze(e)||Ze(t)?r:Pn(t)?Ps(e,t,r):typeof t=="function"?t(e):r}var T5=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&ue(e[i]))return ri(ri({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&ue(e[o]))return ri(ri({},e),{},{[o]:e[o]+(s||0)})}return e},Ga=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",KS=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(r),o},HS=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:c,tickCount:d,ticks:m,niceTicks:p,axisType:h}=e;if(!o)return null;var y=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=s==="category"&&o.bandwidth?o.bandwidth()/y:0;if(g=h==="angleAxis"&&i&&i.length>=2?At(i[0]-i[1])*2*g:g,m||p){var v=(m||p||[]).map((x,b)=>{var j=n?n.indexOf(x):x;return{coordinate:o(j)+g,value:x,offset:g,index:b}});return v.filter(x=>!mn(x.coordinate))}return u&&c?c.map((x,b)=>({coordinate:o(x)+g,value:x,index:b,offset:g})):o.ticks&&d!=null?o.ticks(d).map((x,b)=>({coordinate:o(x)+g,value:x,offset:g,index:b})):o.domain().map((x,b)=>({coordinate:o(x)+g,value:n?n[x]:x,index:b,offset:g}))},oj=1e-4,I5=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-oj,i=Math.max(n[0],n[1])+oj,o=e(t[0]),l=e(t[r-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},D5=(e,t)=>{if(!t||t.length!==2||!ue(t[0])||!ue(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!ue(e[0])||e[0]<r)&&(s[0]=r),(!ue(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},M5=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var l=mn(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},L5=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=mn(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},$5={sign:M5,expand:xL,none:Ni,silhouette:yL,wiggle:gL,positive:L5},R5=(e,t,r)=>{var n=$5[r],s=hL().keys(t).value((i,o)=>Number(ze(i,o,0))).order(vh).offset(n);return s(e)};function z5(e){return e==null?void 0:String(e)}function lj(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ze(s[t.dataKey])){var l=M_(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=ze(s,Ze(o)?t.dataKey:o);return Ze(u)?null:t.scale(u)}var cj=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=ze(i,t.dataKey,t.scale.domain()[o]);return Ze(l)?null:t.scale(l)-s/2+n},F5=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},B5=e=>{var t=e.flat(2).filter(ue);return[Math.min(...t),Math.max(...t)]},U5=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],W5=(e,t,r)=>{if(e!=null)return U5(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((u,c)=>{var d=WS(c,t,r),m=B5(d);return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},uj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pi=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=sm(t,d=>d.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var u=s[o],c=s[o-1];i=Math.min((u.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function mj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return ri(ri({},t),{},{dataKey:r,payload:n,value:s,name:i})}function Fi(e,t){if(e)return String(e);if(typeof t=="string")return t}var K5=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},H5=(e,t)=>t==="centric"?e.angle:e.radius,ia=e=>e.layout.width,oa=e=>e.layout.height,V5=e=>e.layout.scale,VS=e=>e.layout.margin,pm=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),hm=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),qS="data-recharts-item-index",YS="data-recharts-item-data-key",Tl=60;function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){q5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q5(e,t,r){return(t=Y5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y5(e){var t=G5(e,"string");return typeof t=="symbol"?t:t+""}function G5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X5=e=>e.brush.height;function Q5(e){var t=hm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Tl;return r+s}return r},0)}function Z5(e){var t=hm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Tl;return r+s}return r},0)}function J5(e){var t=pm(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function eR(e){var t=pm(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var jt=W([ia,oa,VS,X5,Q5,Z5,J5,eR,mS,_$],(e,t,r,n,s,i,o,l,u,c)=>{var d={left:(r.left||0)+s,right:(r.right||0)+i},m={top:(r.top||0)+o,bottom:(r.bottom||0)+l},p=Oc(Oc({},m),d),h=p.bottom;p.bottom+=n,p=T5(p,u,c);var y=e-p.left-p.right,g=t-p.top-p.bottom;return Oc(Oc({brushBottom:h},p),{},{width:Math.max(y,0),height:Math.max(g,0)})}),tR=W(jt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ng=W(ia,oa,(e,t)=>({x:0,y:0,width:e,height:t})),rR=f.createContext(null),Jt=()=>f.useContext(rR)!=null,xm=e=>e.brush,ym=W([xm,jt,VS],(e,t,r)=>({height:e.height,x:ue(e.x)?e.x:t.left,y:ue(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ue(e.width)?e.width:t.width})),GS={},XS={},QS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,l=null;const u=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},m=()=>{c&&d(),g()};let p=null;const h=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,m()},n)},y=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{y(),o=void 0,l=null},v=()=>{d()},x=function(...b){if(s!=null&&s.aborted)return;o=this,l=b;const j=p==null;h(),u&&j&&d()};return x.schedule=h,x.cancel=g,x.flush=v,s==null||s.addEventListener("abort",g,{once:!0}),x}e.debounce=t})(QS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QS;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:u}=i,c=Array(2);o&&(c[0]="leading"),l&&(c[1]="trailing");let d,m=null;const p=t.debounce(function(...g){d=n.apply(this,g),m=null},s,{edges:c}),h=function(...g){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(d=n.apply(this,g),m=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,g),d)},y=()=>(p.flush(),d);return h.cancel=p.cancel,h.flush=y,h}e.debounce=r})(XS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XS;function r(n,s=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:o,maxWait:s,trailing:l})}e.throttle=r})(GS);var nR=GS.throttle;const aR=On(nR);var Gu=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>s[o++]))}},ZS=(e,t,r)=>{var{width:n="100%",height:s="100%",aspect:i,maxHeight:o}=r,l=Qn(n)?e:Number(n),u=Qn(s)?t:Number(s);return i&&i>0&&(l?u=l/i:u&&(l=u*i),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},sR={width:0,height:0,overflow:"visible"},iR={width:0,overflowX:"visible"},oR={height:0,overflowY:"visible"},lR={},cR=e=>{var{width:t,height:r}=e,n=Qn(t),s=Qn(r);return n&&s?sR:n?iR:s?oR:lR};function uR(e){var{width:t,height:r,aspect:n}=e,s=t,i=r;return s===void 0&&i===void 0?(s="100%",i="100%"):s===void 0?s=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:s,height:i}}function ut(e){return Number.isFinite(e)}function Cn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ah.apply(null,arguments)}function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){dR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dR(e,t,r){return(t=mR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mR(e){var t=fR(e,"string");return typeof t=="symbol"?t:t+""}function fR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JS=f.createContext({width:-1,height:-1});function pR(e){return Cn(e.width)&&Cn(e.height)}function eP(e){var{children:t,width:r,height:n}=e,s=f.useMemo(()=>({width:r,height:n}),[r,n]);return pR(s)?f.createElement(JS.Provider,{value:s},t):null}var ag=()=>f.useContext(JS),hR=f.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s,height:i,minWidth:o=0,minHeight:l,maxHeight:u,children:c,debounce:d=0,id:m,className:p,onResize:h,style:y={}}=e,g=f.useRef(null),v=f.useRef();v.current=h,f.useImperativeHandle(t,()=>g.current);var[x,b]=f.useState({containerWidth:n.width,containerHeight:n.height}),j=f.useCallback((_,P)=>{b(O=>{var S=Math.round(_),E=Math.round(P);return O.containerWidth===S&&O.containerHeight===E?O:{containerWidth:S,containerHeight:E}})},[]);f.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return Pl;var _=E=>{var M,{width:A,height:T}=E[0].contentRect;j(A,T),(M=v.current)===null||M===void 0||M.call(v,A,T)};d>0&&(_=aR(_,d,{trailing:!0,leading:!1}));var P=new ResizeObserver(_),{width:O,height:S}=g.current.getBoundingClientRect();return j(O,S),P.observe(g.current),()=>{P.disconnect()}},[j,d]);var{containerWidth:k,containerHeight:N}=x;Gu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:w,calculatedHeight:C}=ZS(k,N,{width:s,height:i,aspect:r,maxHeight:u});return Gu(w!=null&&w>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,w,C,s,i,o,l,r),f.createElement("div",{id:m?"".concat(m):void 0,className:Ie("recharts-responsive-container",p),style:hj(hj({},y),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:u}),ref:g},f.createElement("div",{style:cR({width:s,height:i})},f.createElement(eP,{width:w,height:C},c)))}),Ff=f.forwardRef((e,t)=>{var r=ag();if(Cn(r.width)&&Cn(r.height))return e.children;var{width:n,height:s}=uR({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=ZS(void 0,void 0,{width:n,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return ue(i)&&ue(o)?f.createElement(eP,{width:i,height:o},e.children):f.createElement(hR,Ah({},e,{width:n,height:s,ref:t}))});function tP(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var gm=()=>{var e,t=Jt(),r=le(tR),n=le(ym),s=(e=le(xm))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},xR={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},rP=()=>{var e;return(e=le(jt))!==null&&e!==void 0?e:xR},sg=()=>le(ia),ig=()=>le(oa),yR=()=>le(e=>e.layout.margin),Ee=e=>e.layout.layoutType,Il=()=>le(Ee),gR=()=>{var e=Il();return e!==void 0},vm=e=>{var t=Ke(),r=Jt(),{width:n,height:s}=e,i=ag(),o=n,l=s;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:s),f.useEffect(()=>{!r&&Cn(o)&&Cn(l)&&t(S5({width:o,height:l}))},[t,r,o,l]),null},nP=Symbol.for("immer-nothing"),xj=Symbol.for("immer-draftable"),Tr=Symbol.for("immer-state");function sn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var nl=Object.getPrototypeOf;function Ci(e){return!!e&&!!e[Tr]}function Cs(e){var t;return e?aP(e)||Array.isArray(e)||!!e[xj]||!!((t=e.constructor)!=null&&t[xj])||Dl(e)||jm(e):!1}var vR=Object.prototype.constructor.toString(),yj=new WeakMap;function aP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=yj.get(r);return n===void 0&&(n=Function.toString.call(r),yj.set(r,n)),n===vR}function Xu(e,t,r=!0){bm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function bm(e){const t=e[Tr];return t?t.type_:Array.isArray(e)?1:Dl(e)?2:jm(e)?3:0}function Th(e,t){return bm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sP(e,t,r){const n=bm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function bR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Dl(e){return e instanceof Map}function jm(e){return e instanceof Set}function ns(e){return e.copy_||e.base_}function Ih(e,t){if(Dl(e))return new Map(e);if(jm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=aP(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Tr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(nl(e),n)}else{const n=nl(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function og(e,t=!1){return wm(e)||Ci(e)||!Cs(e)||(bm(e)>1&&Object.defineProperties(e,{set:Ac,add:Ac,clear:Ac,delete:Ac}),Object.freeze(e),t&&Object.values(e).forEach(r=>og(r,!0))),e}function jR(){sn(2)}var Ac={value:jR};function wm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var wR={};function Es(e){const t=wR[e];return t||sn(0,e),t}var al;function iP(){return al}function NR(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gj(e,t){t&&(Es("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dh(e){Mh(e),e.drafts_.forEach(kR),e.drafts_=null}function Mh(e){e===al&&(al=e.parent_)}function vj(e){return al=NR(al,e)}function kR(e){const t=e[Tr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function bj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Tr].modified_&&(Dh(t),sn(4)),Cs(e)&&(e=Qu(t,e),t.parent_||Zu(t,e)),t.patches_&&Es("Patches").generateReplacementPatches_(r[Tr].base_,e,t.patches_,t.inversePatches_)):e=Qu(t,r,[]),Dh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nP?e:void 0}function Qu(e,t,r){if(wm(t))return t;const n=e.immer_.shouldUseStrictIteration(),s=t[Tr];if(!s)return Xu(t,(i,o)=>jj(e,s,t,i,o,r),n),t;if(s.scope_!==e)return t;if(!s.modified_)return Zu(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let o=i,l=!1;s.type_===3&&(o=new Set(i),i.clear(),l=!0),Xu(o,(u,c)=>jj(e,s,i,u,c,r,l),n),Zu(e,i,!1),r&&e.patches_&&Es("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function jj(e,t,r,n,s,i,o){if(s==null||typeof s!="object"&&!o)return;const l=wm(s);if(!(l&&!o)){if(Ci(s)){const u=i&&t&&t.type_!==3&&!Th(t.assigned_,n)?i.concat(n):void 0,c=Qu(e,s,u);if(sP(r,n,c),Ci(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Cs(s)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===s&&l)return;Qu(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Dl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Zu(e,s)}}}function Zu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&og(t,r)}function _R(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:iP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=lg;r&&(s=[n],i=sl);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,l}var lg={get(e,t){if(t===Tr)return e;const r=ns(e);if(!Th(r,t))return SR(e,r,t);const n=r[t];return e.finalized_||!Cs(n)?n:n===Bf(e.base_,t)?(Uf(e),e.copy_[t]=$h(n,e)):n},has(e,t){return t in ns(e)},ownKeys(e){return Reflect.ownKeys(ns(e))},set(e,t,r){const n=oP(ns(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Bf(ns(e),t),i=s==null?void 0:s[Tr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(bR(r,s)&&(r!==void 0||Th(e.base_,t)))return!0;Uf(e),Lh(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Bf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Uf(e),Lh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ns(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){sn(11)},getPrototypeOf(e){return nl(e.base_)},setPrototypeOf(){sn(12)}},sl={};Xu(lg,(e,t)=>{sl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});sl.deleteProperty=function(e,t){return sl.set.call(this,e,t,void 0)};sl.set=function(e,t,r){return lg.set.call(this,e[0],t,r,e[0])};function Bf(e,t){const r=e[Tr];return(r?ns(r):e)[t]}function SR(e,t,r){var s;const n=oP(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function oP(e,t){if(!(t in e))return;let r=nl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=nl(r)}}function Lh(e){e.modified_||(e.modified_=!0,e.parent_&&Lh(e.parent_))}function Uf(e){e.copy_||(e.copy_=Ih(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var PR=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(u=i,...c){return o.produce(u,d=>r.call(this,d,...c))}}typeof r!="function"&&sn(6),n!==void 0&&typeof n!="function"&&sn(7);let s;if(Cs(t)){const i=vj(this),o=$h(t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?Dh(i):Mh(i)}return gj(i,n),bj(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===nP&&(s=void 0),this.autoFreeze_&&og(s,!0),n){const i=[],o=[];Es("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else sn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let n,s;return[this.produce(t,r,(o,l)=>{n=o,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Cs(e)||sn(8),Ci(e)&&(e=CR(e));const t=vj(this),r=$h(e,void 0);return r[Tr].isManual_=!0,Mh(t),r}finishDraft(e,t){const r=e&&e[Tr];(!r||!r.isManual_)&&sn(9);const{scope_:n}=r;return gj(n,t),bj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=Es("Patches").applyPatches_;return Ci(e)?n(e,t):this.produce(e,s=>n(s,t))}};function $h(e,t){const r=Dl(e)?Es("MapSet").proxyMap_(e,t):jm(e)?Es("MapSet").proxySet_(e,t):_R(e,t);return(t?t.scope_:iP()).drafts_.push(r),r}function CR(e){return Ci(e)||sn(10,e),lP(e)}function lP(e){if(!Cs(e)||wm(e))return e;const t=e[Tr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ih(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Ih(e,!0);return Xu(r,(s,i)=>{sP(r,s,lP(i))},n),t&&(t.finalized_=!1),r}var ER=new PR;ER.produce;var OR={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},cP=vr({name:"legend",initialState:OR,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ye()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,s=un(e).payload.indexOf(r);s>-1&&(e.payload[s]=n)},prepare:Ye()},removeLegendPayload:{reducer(e,t){var r=un(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ye()}}}),{setLegendSize:wj,setLegendSettings:AR,addLegendPayload:uP,replaceLegendPayload:dP,removeLegendPayload:mP}=cP.actions,TR=cP.reducer,IR=["contextPayload"];function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rh.apply(null,arguments)}function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){DR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DR(e,t,r){return(t=MR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MR(e){var t=LR(e,"string");return typeof t=="symbol"?t:t+""}function LR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $R(e,t){if(e==null)return{};var r,n,s=RR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function RR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zR(e){return e.value}function FR(e){var{contextPayload:t}=e,r=$R(e,IR),n=tS(t,e.payloadUniqBy,zR),s=Ei(Ei({},r),{},{payload:n});return f.isValidElement(e.content)?f.cloneElement(e.content,s):typeof e.content=="function"?f.createElement(e.content,s):f.createElement(KL,s)}function BR(e,t,r,n,s,i){var{layout:o,align:l,verticalAlign:u}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?c={left:((n||0)-i.width)/2}:c=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?d={top:((s||0)-i.height)/2}:d=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ei(Ei({},c),d)}function UR(e){var t=Ke();return f.useEffect(()=>{t(AR(e))},[t,e]),null}function WR(e){var t=Ke();return f.useEffect(()=>(t(wj(e)),()=>{t(wj({width:0,height:0}))}),[t,e]),null}function KR(e,t,r,n){return e==="vertical"&&ue(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var HR={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function fP(e){var t=xt(e,HR),r=C$(),n=zM(),s=yR(),{width:i,height:o,wrapperStyle:l,portal:u}=t,[c,d]=fS([r]),m=sg(),p=ig();if(m==null||p==null)return null;var h=m-((s==null?void 0:s.left)||0)-((s==null?void 0:s.right)||0),y=KR(t.layout,o,i,h),g=u?l:Ei(Ei({position:"absolute",width:(y==null?void 0:y.width)||i||"auto",height:(y==null?void 0:y.height)||o||"auto"},BR(l,t,s,m,p,c)),l),v=u??n;if(v==null||r==null)return null;var x=f.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},f.createElement(UR,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&f.createElement(WR,{width:c.width,height:c.height}),f.createElement(FR,Rh({},t,y,{margin:s,chartWidth:m,chartHeight:p,contextPayload:r})));return vl.createPortal(x,v)}fP.displayName="Legend";function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zh.apply(null,arguments)}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){VR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VR(e,t,r){return(t=qR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qR(e){var t=YR(e,"string");return typeof t=="symbol"?t:t+""}function YR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GR(e){return Array.isArray(e)&&Pn(e[0])&&Pn(e[1])?e.join(" ~ "):e}var XR=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:c,label:d,labelFormatter:m,accessibilityLayer:p=!1}=e,h=()=>{if(i&&i.length){var N={padding:0,margin:0},w=(l?sm(i,l):i).map((C,_)=>{if(C.type==="none")return null;var P=C.formatter||o||GR,{value:O,name:S}=C,E=O,M=S;if(P){var A=P(O,S,C,_,i);if(Array.isArray(A))[E,M]=A;else if(A!=null)E=A;else return null}var T=Wf({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return f.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:T},Pn(M)?f.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Pn(M)?f.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,f.createElement("span",{className:"recharts-tooltip-item-value"},E),f.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return f.createElement("ul",{className:"recharts-tooltip-item-list",style:N},w)}return null},y=Wf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=Wf({margin:0},s),v=!Ze(d),x=v?d:"",b=Ie("recharts-default-tooltip",u),j=Ie("recharts-tooltip-label",c);v&&m&&i!==void 0&&i!==null&&(x=m(d,i));var k=p?{role:"status","aria-live":"assertive"}:{};return f.createElement("div",zh({className:b,style:y},k),f.createElement("p",{className:j,style:g},f.isValidElement(x)?x:"".concat(x)),h())},io="recharts-tooltip-wrapper",QR={visibility:"hidden"};function ZR(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ie(io,{["".concat(io,"-right")]:ue(r)&&t&&ue(t.x)&&r>=t.x,["".concat(io,"-left")]:ue(r)&&t&&ue(t.x)&&r<t.x,["".concat(io,"-bottom")]:ue(n)&&t&&ue(t.y)&&n>=t.y,["".concat(io,"-top")]:ue(n)&&t&&ue(t.y)&&n<t.y})}function _j(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:c}=e;if(i&&ue(i[n]))return i[n];var d=r[n]-l-(s>0?s:0),m=r[n]+s;if(t[n])return o[n]?d:m;var p=u[n];if(p==null)return 0;if(o[n]){var h=d,y=p;return h<y?Math.max(m,p):Math.max(d,p)}if(c==null)return 0;var g=m+l,v=p+c;return g>v?Math.max(d,p):Math.max(m,p)}function JR(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function ez(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,c,d,m;return o.height>0&&o.width>0&&r?(d=_j({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=_j({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),c=JR({translateX:d,translateY:m,useTranslate3d:l})):c=QR,{cssProperties:c,cssClasses:ZR({translateX:d,translateY:m,coordinate:r})}}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){Fh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fh(e,t,r){return(t=tz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tz(e){var t=rz(e,"string");return typeof t=="symbol"?t:t+""}function rz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nz extends f.PureComponent{constructor(){super(...arguments),Fh(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Fh(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:u,offset:c,position:d,reverseDirection:m,useTranslate3d:p,viewBox:h,wrapperStyle:y,lastBoundingBox:g,innerRef:v,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:j}=ez({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:m,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:h}),k=x?{}:Tc(Tc({transition:u&&t?"transform ".concat(n,"ms ").concat(s):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=Tc(Tc({},k),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return f.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:N,ref:v},i)}}var pP=()=>{var e;return(e=le(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bh.apply(null,arguments)}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){az(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function az(e,t,r){return(t=sz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sz(e){var t=iz(e,"string");return typeof t=="symbol"?t:t+""}function iz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ej={curveBasisClosed:aL,curveBasisOpen:sL,curveBasis:nL,curveBumpX:WM,curveBumpY:KM,curveLinearClosed:iL,curveLinear:Zd,curveMonotoneX:oL,curveMonotoneY:lL,curveNatural:cL,curveStep:uL,curveStepAfter:mL,curveStepBefore:dL},Ju=e=>ut(e.x)&&ut(e.y),Oj=e=>e.base!=null&&Ju(e.base)&&Ju(e),oo=e=>e.x,lo=e=>e.y,oz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Sl(e));return(r==="curveMonotone"||r==="curveBump")&&t?Ej["".concat(r).concat(t==="vertical"?"Y":"X")]:Ej[r]||Zd},lz=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=oz(t,s),l=i?r.filter(Ju):r,u;if(Array.isArray(n)){var c=r.map((h,y)=>Cj(Cj({},h),{},{base:n[y]}));s==="vertical"?u=kc().y(lo).x1(oo).x0(h=>h.base.x):u=kc().x(oo).y1(lo).y0(h=>h.base.y);var d=u.defined(Oj).curve(o),m=i?c.filter(Oj):c;return d(m)}s==="vertical"&&ue(n)?u=kc().y(lo).x1(oo).x0(n):ue(n)?u=kc().x(oo).y1(lo).y0(n):u=j_().x(oo).y(lo);var p=u.defined(Ju).curve(o);return p(l)},cg=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?lz(e):n;return f.createElement("path",Bh({},Ar(e),Ly(e),{className:Ie("recharts-curve",t),d:i===null?void 0:i,ref:s}))},cz=["x","y","top","left","width","height","className"];function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uh.apply(null,arguments)}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){dz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dz(e,t,r){return(t=mz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mz(e){var t=fz(e,"string");return typeof t=="symbol"?t:t+""}function fz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pz(e,t){if(e==null)return{};var r,n,s=hz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function hz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xz=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),yz=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,u=pz(e,cz),c=uz({x:t,y:r,top:n,left:s,width:i,height:o},u);return!ue(t)||!ue(r)||!ue(i)||!ue(o)||!ue(n)||!ue(s)?null:f.createElement("path",Uh({},sr(c),{className:Ie("recharts-cross",l),d:xz(t,r,i,o,n,s)}))};function gz(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){vz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vz(e,t,r){return(t=bz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bz(e){var t=jz(e,"string");return typeof t=="symbol"?t:t+""}function jz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wz=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),hP=(e,t,r)=>e.map(n=>"".concat(wz(n)," ").concat(t,"ms ").concat(r)).join(","),Nz=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),il=(e,t)=>Object.keys(t).reduce((r,n)=>Ij(Ij({},r),{},{[n]:e(n,t[n])}),{});function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){kz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kz(e,t,r){return(t=_z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e){var t=Sz(e,"string");return typeof t=="symbol"?t:t+""}function Sz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ed=(e,t,r)=>e+(t-e)*r,Wh=e=>{var{from:t,to:r}=e;return t!==r},xP=(e,t,r)=>{var n=il((s,i)=>{if(Wh(i)){var[o,l]=e(i.from,i.to,i.velocity);return gt(gt({},i),{},{from:o,velocity:l})}return i},t);return r<1?il((s,i)=>Wh(i)?gt(gt({},i),{},{velocity:ed(i.velocity,n[s].velocity,r),from:ed(i.from,n[s].from,r)}):i,t):xP(e,n,r-1)};function Pz(e,t,r,n,s,i){var o,l=n.reduce((p,h)=>gt(gt({},p),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),u=()=>il((p,h)=>h.from,l),c=()=>!Object.values(l).filter(Wh).length,d=null,m=p=>{o||(o=p);var h=p-o,y=h/r.dt;l=xP(r,l,y),s(gt(gt(gt({},e),t),u())),o=p,c()||(d=i.setTimeout(m))};return()=>(d=i.setTimeout(m),()=>{var p;(p=d)===null||p===void 0||p()})}function Cz(e,t,r,n,s,i,o){var l=null,u=s.reduce((m,p)=>gt(gt({},m),{},{[p]:[e[p],t[p]]}),{}),c,d=m=>{c||(c=m);var p=(m-c)/n,h=il((g,v)=>ed(...v,r(p)),u);if(i(gt(gt(gt({},e),t),h)),p<1)l=o.setTimeout(d);else{var y=il((g,v)=>ed(...v,r(1)),u);i(gt(gt(gt({},e),t),y))}};return()=>(l=o.setTimeout(d),()=>{var m;(m=l)===null||m===void 0||m()})}const Ez=(e,t,r,n,s,i)=>{var o=Nz(e,t);return r==null?()=>(s(gt(gt({},e),t)),()=>{}):r.isStepper===!0?Pz(e,t,r,o,s,i):Cz(e,t,r,n,o,s,i)};var td=1e-4,yP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],gP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Mj=(e,t)=>r=>{var n=yP(e,t);return gP(n,r)},Oz=(e,t)=>r=>{var n=yP(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return gP(s,r)},Az=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,i=r[0].split("(");if(i[0]==="cubic-bezier"&&((s=i[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var o=i[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},Tz=(e,t,r,n)=>{var s=Mj(e,r),i=Mj(t,n),o=Oz(e,r),l=c=>c>1?1:c<0?0:c,u=c=>{for(var d=c>1?1:c,m=d,p=0;p<8;++p){var h=s(m)-d,y=o(m);if(Math.abs(h-d)<td||y<td)return i(m);m=l(m-h/y)}return i(m)};return u.isStepper=!1,u},Lj=function(){return Tz(...Az(...arguments))},Iz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,l,u)=>{var c=-(o-l)*r,d=u*n,m=u+(c-d)*s/1e3,p=u*s/1e3+o;return Math.abs(p-l)<td&&Math.abs(m)<td?[l,0]:[p,m]};return i.isStepper=!0,i.dt=s,i},Dz=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Lj(e);case"spring":return Iz();default:if(e.split("(")[0]==="cubic-bezier")return Lj(e)}return typeof e=="function"?e:null};function Mz(e){var t,r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...c]=l;if(typeof u=="number"){s=e.setTimeout(i.bind(null,c),u);return}i(u),s=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Lz{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{s!=null&&cancelAnimationFrame(s)}}}function $z(){return Mz(new Lz)}var Rz=f.createContext($z);function zz(e,t){var r=f.useContext(Rz);return f.useMemo(()=>t??r(e),[e,t,r])}var Fz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ml={devToolsEnabled:!1,isSsr:Fz()},Bz={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$j={t:0},Kf={t:1};function Ll(e){var t=xt(e,Bz),{isActive:r,canBegin:n,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:u,children:c}=t,d=r==="auto"?!Ml.isSsr:r,m=zz(t.animationId,t.animationManager),[p,h]=f.useState(d?$j:Kf),y=f.useRef(null);return f.useEffect(()=>{d||h(Kf)},[d]),f.useEffect(()=>{if(!d||!n)return Pl;var g=Ez($j,Kf,Dz(i),s,h,m.getTimeoutController()),v=()=>{y.current=g()};return m.start([u,o,v,s,l]),()=>{m.stop(),y.current&&y.current(),l()}},[d,n,s,i,o,u,l,m]),c(p.t)}function $l(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=f.useRef(Jo(t)),n=f.useRef(e);return n.current!==e&&(r.current=Jo(t),n.current=e),r.current}var Uz=["radius"],Wz=["radius"];function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){Kz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kz(e,t,r){return(t=Hz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hz(e){var t=Vz(e,"string");return typeof t=="symbol"?t:t+""}function Vz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(null,arguments)}function Fj(e,t){if(e==null)return{};var r,n,s=qz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bj=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,c;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],m=0,p=4;m<p;m++)d[m]=s[m]>i?i:s[m];c="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(t)),c+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+o*d[1])),c+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),c+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-o*d[3])),c+="Z"}else if(i>0&&s===+s&&s>0){var h=Math.min(i,s);c="M ".concat(e,",").concat(t+o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e+l*h,",").concat(t,`
            L `).concat(e+r-l*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e+r,",").concat(t+o*h,`
            L `).concat(e+r,",").concat(t+n-o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e+r-l*h,",").concat(t+n,`
            L `).concat(e+l*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e,",").concat(t+n-o*h," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},Uj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vP=e=>{var t=xt(e,Uj),r=f.useRef(null),[n,s]=f.useState(-1);f.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var U=r.current.getTotalLength();U&&s(U)}catch{}},[]);var{x:i,y:o,width:l,height:u,radius:c,className:d}=t,{animationEasing:m,animationDuration:p,animationBegin:h,isAnimationActive:y,isUpdateAnimationActive:g}=t,v=f.useRef(l),x=f.useRef(u),b=f.useRef(i),j=f.useRef(o),k=f.useMemo(()=>({x:i,y:o,width:l,height:u,radius:c}),[i,o,l,u,c]),N=$l(k,"rectangle-");if(i!==+i||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var w=Ie("recharts-rectangle",d);if(!g){var C=sr(t),{radius:_}=C,P=Fj(C,Uz);return f.createElement("path",rd({},P,{radius:typeof c=="number"?c:void 0,className:w,d:Bj(i,o,l,u,c)}))}var O=v.current,S=x.current,E=b.current,M=j.current,A="0px ".concat(n===-1?1:n,"px"),T="".concat(n,"px 0px"),F=hP(["strokeDasharray"],p,typeof m=="string"?m:Uj.animationEasing);return f.createElement(Ll,{animationId:N,key:N,canBegin:n>0,duration:p,easing:m,isActive:g,begin:h},U=>{var L=Ge(O,l,U),R=Ge(S,u,U),$=Ge(E,i,U),G=Ge(M,o,U);r.current&&(v.current=L,x.current=R,b.current=$,j.current=G);var I;y?U>0?I={transition:F,strokeDasharray:T}:I={strokeDasharray:A}:I={strokeDasharray:T};var X=sr(t),{radius:Z}=X,D=Fj(X,Wz);return f.createElement("path",rd({},D,{radius:typeof c=="number"?c:void 0,className:w,d:Bj($,G,L,R,c),ref:r,style:zj(zj({},I),t.style)}))})};function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){Yz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yz(e,t,r){return(t=Gz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gz(e){var t=Xz(e,"string");return typeof t=="symbol"?t:t+""}function Xz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nd=Math.PI/180,Qz=e=>e*180/Math.PI,ft=(e,t,r,n)=>({x:e+Math.cos(-nd*n)*r,y:t+Math.sin(-nd*n)*r}),bP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Zz=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},Jz=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=Zz({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-s)/o,u=Math.acos(l);return n>i&&(u=2*Math.PI-u),{radius:o,angle:Qz(u),angleInRadian:u}},e6=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},t6=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},r6=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:s,angle:i}=Jz({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:u,endAngle:c}=e6(t),d=i,m;if(u<=c){for(;d>c;)d-=360;for(;d<u;)d+=360;m=d>=u&&d<=c}else{for(;d>u;)d-=360;for(;d<c;)d+=360;m=d>=c&&d<=u}return m?Kj(Kj({},t),{},{radius:s,angle:t6(d,t)}):null};function jP(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=ft(t,r,n,s),l=ft(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Kh(){return Kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kh.apply(null,arguments)}var n6=(e,t)=>{var r=At(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Ic=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,c=l*(o?1:-1)+n,d=Math.asin(l/c)/nd,m=u?s:s+i*d,p=ft(t,r,c,m),h=ft(t,r,n,m),y=u?s-i*d:s,g=ft(t,r,c*Math.cos(d*nd),y);return{center:p,circleTangency:h,lineTangency:g,theta:d}},wP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,l=n6(i,o),u=i+l,c=ft(t,r,s,i),d=ft(t,r,s,u),m="M ".concat(c.x,",").concat(c.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var p=ft(t,r,n,i),h=ft(t,r,n,u);m+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},a6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}=e,d=At(c-u),{circleTangency:m,lineTangency:p,theta:h}=Ic({cx:t,cy:r,radius:s,angle:u,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:g,theta:v}=Ic({cx:t,cy:r,radius:s,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:l}),x=l?Math.abs(u-c):Math.abs(u-c)-h-v;if(x<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):wP({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:u,endAngle:c});var b="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:k,theta:N}=Ic({cx:t,cy:r,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:w,lineTangency:C,theta:_}=Ic({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),P=l?Math.abs(u-c):Math.abs(u-c)-N-_;if(P<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},s6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},NP=e=>{var t=xt(e,s6),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d,className:m}=t;if(i<s||c===d)return null;var p=Ie("recharts-sector",m),h=i-s,y=Qt(o,h,0,!0),g;return y>0&&Math.abs(c-d)<360?g=a6({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(y,h/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):g=wP({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:c,endAngle:d}),f.createElement("path",Kh({},sr(t),{className:p,d:g}))};function i6(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if($_(t)){if(e==="centric"){var{cx:n,cy:s,innerRadius:i,outerRadius:o,angle:l}=t,u=ft(n,s,i,l),c=ft(n,s,o,l);return[{x:u.x,y:u.y},{x:c.x,y:c.y}]}return jP(t)}}var kP={},_P={},SP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qy;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(SP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SP;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(_P);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yy,r=_P;function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),u=new Array(l);for(let c=0;c<l;c++)u[c]=s,s+=o;return u}e.range=n})(kP);var o6=kP.range;const PP=On(o6);function Ma(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function l6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ug(e){let t,r,n;e.length!==2?(t=Ma,r=(l,u)=>Ma(e(l),u),n=(l,u)=>e(l)-u):(t=e===Ma||e===l6?e:c6,r=e,n=e);function s(l,u,c=0,d=l.length){if(c<d){if(t(u,u)!==0)return d;do{const m=c+d>>>1;r(l[m],u)<0?c=m+1:d=m}while(c<d)}return c}function i(l,u,c=0,d=l.length){if(c<d){if(t(u,u)!==0)return d;do{const m=c+d>>>1;r(l[m],u)<=0?c=m+1:d=m}while(c<d)}return c}function o(l,u,c=0,d=l.length){const m=s(l,u,c,d-1);return m>c&&n(l[m-1],u)>-n(l[m],u)?m-1:m}return{left:s,center:o,right:i}}function c6(){return 0}function CP(e){return e===null?NaN:+e}function*u6(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const d6=ug(Ma),Rl=d6.right;ug(CP).center;class Hj extends Map{constructor(t,r=p6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(Vj(this,t))}has(t){return super.has(Vj(this,t))}set(t,r){return super.set(m6(this,t),r)}delete(t){return super.delete(f6(this,t))}}function Vj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function m6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function f6({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function p6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function h6(e=Ma){if(e===Ma)return EP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function EP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const x6=Math.sqrt(50),y6=Math.sqrt(10),g6=Math.sqrt(2);function ad(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=x6?10:i>=y6?5:i>=g6?2:1;let l,u,c;return s<0?(c=Math.pow(10,-s)/o,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,s)*o,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?ad(e,t,r*2):[l,u,c]}function Hh(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?ad(t,e,r):ad(e,t,r);if(!(i>=s))return[];const l=i-s+1,u=new Array(l);if(n)if(o<0)for(let c=0;c<l;++c)u[c]=(i-c)/-o;else for(let c=0;c<l;++c)u[c]=(i-c)*o;else if(o<0)for(let c=0;c<l;++c)u[c]=(s+c)/-o;else for(let c=0;c<l;++c)u[c]=(s+c)*o;return u}function Vh(e,t,r){return t=+t,e=+e,r=+r,ad(e,t,r)[2]}function qh(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Vh(t,e,r):Vh(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function qj(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Yj(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function OP(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?EP:h6(s);n>r;){if(n-r>600){const u=n-r+1,c=t-r+1,d=Math.log(u),m=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*m*(u-m)/u)*(c-u/2<0?-1:1),h=Math.max(r,Math.floor(t-c*m/u+p)),y=Math.min(n,Math.floor(t+(u-c)*m/u+p));OP(e,t,h,y,s)}const i=e[t];let o=r,l=n;for(co(e,r,t),s(e[n],i)>0&&co(e,r,n);o<l;){for(co(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?co(e,r,l):(++l,co(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function co(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function v6(e,t,r){if(e=Float64Array.from(u6(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Yj(e);if(t>=1)return qj(e);var n,s=(n-1)*t,i=Math.floor(s),o=qj(OP(e,i).subarray(0,i+1)),l=Yj(e.subarray(i+1));return o+(l-o)*(s-i)}}function b6(e,t,r=CP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function j6(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Xr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function la(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Yh=Symbol("implicit");function dg(){var e=new Hj,t=[],r=[],n=Yh;function s(i){let o=e.get(i);if(o===void 0){if(n!==Yh)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Hj;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return dg(t,r).unknown(n)},Xr.apply(s,arguments),s}function mg(){var e=dg().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,u=0,c=0,d=.5;delete e.unknown;function m(){var p=t().length,h=s<n,y=h?s:n,g=h?n:s;i=(g-y)/Math.max(1,p-u+c*2),l&&(i=Math.floor(i)),y+=(g-y-i*(p-u))*d,o=i*(1-u),l&&(y=Math.round(y),o=Math.round(o));var v=j6(p).map(function(x){return y+i*x});return r(h?v.reverse():v)}return e.domain=function(p){return arguments.length?(t(p),m()):t()},e.range=function(p){return arguments.length?([n,s]=p,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(p){return[n,s]=p,n=+n,s=+s,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,m()):l},e.padding=function(p){return arguments.length?(u=Math.min(1,c=+p),m()):u},e.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),m()):u},e.paddingOuter=function(p){return arguments.length?(c=+p,m()):c},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),m()):d},e.copy=function(){return mg(t(),[n,s]).round(l).paddingInner(u).paddingOuter(c).align(d)},Xr.apply(m(),arguments)}function AP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return AP(t())},e}function w6(){return AP(mg.apply(null,arguments).paddingInner(1))}function fg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function TP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function zl(){}var ol=.7,sd=1/ol,di="\\s*([+-]?\\d+)\\s*",ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",N6=/^#([0-9a-f]{3,8})$/,k6=new RegExp(`^rgb\\(${di},${di},${di}\\)$`),_6=new RegExp(`^rgb\\(${Sn},${Sn},${Sn}\\)$`),S6=new RegExp(`^rgba\\(${di},${di},${di},${ll}\\)$`),P6=new RegExp(`^rgba\\(${Sn},${Sn},${Sn},${ll}\\)$`),C6=new RegExp(`^hsl\\(${ll},${Sn},${Sn}\\)$`),E6=new RegExp(`^hsla\\(${ll},${Sn},${Sn},${ll}\\)$`),Gj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fg(zl,cl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xj,formatHex:Xj,formatHex8:O6,formatHsl:A6,formatRgb:Qj,toString:Qj});function Xj(){return this.rgb().formatHex()}function O6(){return this.rgb().formatHex8()}function A6(){return IP(this).formatHsl()}function Qj(){return this.rgb().formatRgb()}function cl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=N6.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Zj(t):r===3?new fr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Dc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Dc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=k6.exec(e))?new fr(t[1],t[2],t[3],1):(t=_6.exec(e))?new fr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=S6.exec(e))?Dc(t[1],t[2],t[3],t[4]):(t=P6.exec(e))?Dc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=C6.exec(e))?tw(t[1],t[2]/100,t[3]/100,1):(t=E6.exec(e))?tw(t[1],t[2]/100,t[3]/100,t[4]):Gj.hasOwnProperty(e)?Zj(Gj[e]):e==="transparent"?new fr(NaN,NaN,NaN,0):null}function Zj(e){return new fr(e>>16&255,e>>8&255,e&255,1)}function Dc(e,t,r,n){return n<=0&&(e=t=r=NaN),new fr(e,t,r,n)}function T6(e){return e instanceof zl||(e=cl(e)),e?(e=e.rgb(),new fr(e.r,e.g,e.b,e.opacity)):new fr}function Gh(e,t,r,n){return arguments.length===1?T6(e):new fr(e,t,r,n??1)}function fr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}fg(fr,Gh,TP(zl,{brighter(e){return e=e==null?sd:Math.pow(sd,e),new fr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ol:Math.pow(ol,e),new fr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fr(ys(this.r),ys(this.g),ys(this.b),id(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jj,formatHex:Jj,formatHex8:I6,formatRgb:ew,toString:ew}));function Jj(){return`#${cs(this.r)}${cs(this.g)}${cs(this.b)}`}function I6(){return`#${cs(this.r)}${cs(this.g)}${cs(this.b)}${cs((isNaN(this.opacity)?1:this.opacity)*255)}`}function ew(){const e=id(this.opacity);return`${e===1?"rgb(":"rgba("}${ys(this.r)}, ${ys(this.g)}, ${ys(this.b)}${e===1?")":`, ${e})`}`}function id(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ys(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cs(e){return e=ys(e),(e<16?"0":"")+e.toString(16)}function tw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new on(e,t,r,n)}function IP(e){if(e instanceof on)return new on(e.h,e.s,e.l,e.opacity);if(e instanceof zl||(e=cl(e)),!e)return new on;if(e instanceof on)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,u=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?i+s:2-i-s,o*=60):l=u>0&&u<1?0:o,new on(o,l,u,e.opacity)}function D6(e,t,r,n){return arguments.length===1?IP(e):new on(e,t,r,n??1)}function on(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}fg(on,D6,TP(zl,{brighter(e){return e=e==null?sd:Math.pow(sd,e),new on(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ol:Math.pow(ol,e),new on(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new fr(Hf(e>=240?e-240:e+120,s,n),Hf(e,s,n),Hf(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new on(rw(this.h),Mc(this.s),Mc(this.l),id(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=id(this.opacity);return`${e===1?"hsl(":"hsla("}${rw(this.h)}, ${Mc(this.s)*100}%, ${Mc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rw(e){return e=(e||0)%360,e<0?e+360:e}function Mc(e){return Math.max(0,Math.min(1,e||0))}function Hf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const pg=e=>()=>e;function M6(e,t){return function(r){return e+r*t}}function L6(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $6(e){return(e=+e)==1?DP:function(t,r){return r-t?L6(t,r,e):pg(isNaN(t)?r:t)}}function DP(e,t){var r=t-e;return r?M6(e,r):pg(isNaN(e)?t:e)}const nw=function e(t){var r=$6(t);function n(s,i){var o=r((s=Gh(s)).r,(i=Gh(i)).r),l=r(s.g,i.g),u=r(s.b,i.b),c=DP(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=u(d),s.opacity=c(d),s+""}}return n.gamma=e,n}(1);function R6(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function z6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function F6(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Bi(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function B6(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function od(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function U6(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Bi(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var Xh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vf=new RegExp(Xh.source,"g");function W6(e){return function(){return e}}function K6(e){return function(t){return e(t)+""}}function H6(e,t){var r=Xh.lastIndex=Vf.lastIndex=0,n,s,i,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=Xh.exec(e))&&(s=Vf.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,u.push({i:o,x:od(n,s)})),r=Vf.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?K6(u[0].x):W6(t):(t=u.length,function(c){for(var d=0,m;d<t;++d)l[(m=u[d]).i]=m.x(c);return l.join("")})}function Bi(e,t){var r=typeof t,n;return t==null||r==="boolean"?pg(t):(r==="number"?od:r==="string"?(n=cl(t))?(t=n,nw):H6:t instanceof cl?nw:t instanceof Date?B6:z6(t)?R6:Array.isArray(t)?F6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?U6:od)(e,t)}function hg(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function V6(e,t){t===void 0&&(t=e,e=Bi);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function q6(e){return function(){return e}}function ld(e){return+e}var aw=[0,1];function nr(e){return e}function Qh(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:q6(isNaN(t)?NaN:.5)}function Y6(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function G6(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=Qh(s,n),i=r(o,i)):(n=Qh(n,s),i=r(i,o)),function(l){return i(n(l))}}function X6(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=Qh(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var u=Rl(e,l,1,n)-1;return i[u](s[u](l))}}function Fl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Nm(){var e=aw,t=aw,r=Bi,n,s,i,o=nr,l,u,c;function d(){var p=Math.min(e.length,t.length);return o!==nr&&(o=Y6(e[0],e[p-1])),l=p>2?X6:G6,u=c=null,m}function m(p){return p==null||isNaN(p=+p)?i:(u||(u=l(e.map(n),t,r)))(n(o(p)))}return m.invert=function(p){return o(s((c||(c=l(t,e.map(n),od)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,ld),d()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),r=hg,d()},m.clamp=function(p){return arguments.length?(o=p?!0:nr,d()):o!==nr},m.interpolate=function(p){return arguments.length?(r=p,d()):r},m.unknown=function(p){return arguments.length?(i=p,m):i},function(p,h){return n=p,s=h,d()}}function xg(){return Nm()(nr,nr)}function Q6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Oi(e){return e=cd(Math.abs(e)),e?e[1]:NaN}function Z6(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],u=0;s>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),i.push(r.substring(s-=l,s+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function J6(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var eF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ul(e){if(!(t=eF.exec(e)))throw new Error("invalid format: "+e);var t;return new yg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ul.prototype=yg.prototype;function yg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}yg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tF(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var MP;function rF(e,t){var r=cd(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(MP=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+cd(e,Math.max(0,t+i-1))[0]}function sw(e,t){var r=cd(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const iw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Q6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sw(e*100,t),r:sw,s:rF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ow(e){return e}var lw=Array.prototype.map,cw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nF(e){var t=e.grouping===void 0||e.thousands===void 0?ow:Z6(lw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?ow:J6(lw.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(m){m=ul(m);var p=m.fill,h=m.align,y=m.sign,g=m.symbol,v=m.zero,x=m.width,b=m.comma,j=m.precision,k=m.trim,N=m.type;N==="n"?(b=!0,N="g"):iw[N]||(j===void 0&&(j=12),k=!0,N="g"),(v||p==="0"&&h==="=")&&(v=!0,p="0",h="=");var w=g==="$"?r:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",C=g==="$"?n:/[%p]/.test(N)?o:"",_=iw[N],P=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function O(S){var E=w,M=C,A,T,F;if(N==="c")M=_(S)+M,S="";else{S=+S;var U=S<0||1/S<0;if(S=isNaN(S)?u:_(Math.abs(S),j),k&&(S=tF(S)),U&&+S==0&&y!=="+"&&(U=!1),E=(U?y==="("?y:l:y==="-"||y==="("?"":y)+E,M=(N==="s"?cw[8+MP/3]:"")+M+(U&&y==="("?")":""),P){for(A=-1,T=S.length;++A<T;)if(F=S.charCodeAt(A),48>F||F>57){M=(F===46?s+S.slice(A+1):S.slice(A))+M,S=S.slice(0,A);break}}}b&&!v&&(S=t(S,1/0));var L=E.length+S.length+M.length,R=L<x?new Array(x-L+1).join(p):"";switch(b&&v&&(S=t(R+S,R.length?x-M.length:1/0),R=""),h){case"<":S=E+S+M+R;break;case"=":S=E+R+S+M;break;case"^":S=R.slice(0,L=R.length>>1)+E+S+M+R.slice(L);break;default:S=R+E+S+M;break}return i(S)}return O.toString=function(){return m+""},O}function d(m,p){var h=c((m=ul(m),m.type="f",m)),y=Math.max(-8,Math.min(8,Math.floor(Oi(p)/3)))*3,g=Math.pow(10,-y),v=cw[8+y/3];return function(x){return h(g*x)+v}}return{format:c,formatPrefix:d}}var Lc,gg,LP;aF({thousands:",",grouping:[3],currency:["$",""]});function aF(e){return Lc=nF(e),gg=Lc.format,LP=Lc.formatPrefix,Lc}function sF(e){return Math.max(0,-Oi(Math.abs(e)))}function iF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Oi(t)/3)))*3-Oi(Math.abs(e)))}function oF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Oi(t)-Oi(e))+1}function $P(e,t,r,n){var s=qh(e,t,r),i;switch(n=ul(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=iF(s,o))&&(n.precision=i),LP(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=oF(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=sF(s))&&(n.precision=i-(n.type==="%")*2);break}}return gg(n)}function Xa(e){var t=e.domain;return e.ticks=function(r){var n=t();return Hh(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return $P(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],u,c,d=10;for(l<o&&(c=o,o=l,l=c,c=s,s=i,i=c);d-- >0;){if(c=Vh(o,l,r),c===u)return n[s]=o,n[i]=l,t(n);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;u=c}return e},e}function RP(){var e=xg();return e.copy=function(){return Fl(e,RP())},Xr.apply(e,arguments),Xa(e)}function zP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ld),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return zP(e).unknown(t)},e=arguments.length?Array.from(e,ld):[0,1],Xa(r)}function FP(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function uw(e){return Math.log(e)}function dw(e){return Math.exp(e)}function lF(e){return-Math.log(-e)}function cF(e){return-Math.exp(-e)}function uF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dF(e){return e===10?uF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function mw(e){return(t,r)=>-e(-t,r)}function vg(e){const t=e(uw,dw),r=t.domain;let n=10,s,i;function o(){return s=mF(n),i=dF(n),r()[0]<0?(s=mw(s),i=mw(i),e(lF,cF)):e(uw,dw),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let c=u[0],d=u[u.length-1];const m=d<c;m&&([c,d]=[d,c]);let p=s(c),h=s(d),y,g;const v=l==null?10:+l;let x=[];if(!(n%1)&&h-p<v){if(p=Math.floor(p),h=Math.ceil(h),c>0){for(;p<=h;++p)for(y=1;y<n;++y)if(g=p<0?y/i(-p):y*i(p),!(g<c)){if(g>d)break;x.push(g)}}else for(;p<=h;++p)for(y=n-1;y>=1;--y)if(g=p>0?y/i(-p):y*i(p),!(g<c)){if(g>d)break;x.push(g)}x.length*2<v&&(x=Hh(c,d,v))}else x=Hh(p,h,Math.min(h-p,v)).map(i);return m?x.reverse():x},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=ul(u)).precision==null&&(u.trim=!0),u=gg(u)),l===1/0)return u;const c=Math.max(1,n*l/t.ticks().length);return d=>{let m=d/i(Math.round(s(d)));return m*n<n-.5&&(m*=n),m<=c?u(d):""}},t.nice=()=>r(FP(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function BP(){const e=vg(Nm()).domain([1,10]);return e.copy=()=>Fl(e,BP()).base(e.base()),Xr.apply(e,arguments),e}function fw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function bg(e){var t=1,r=e(fw(t),pw(t));return r.constant=function(n){return arguments.length?e(fw(t=+n),pw(t)):t},Xa(r)}function UP(){var e=bg(Nm());return e.copy=function(){return Fl(e,UP()).constant(e.constant())},Xr.apply(e,arguments)}function hw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pF(e){return e<0?-e*e:e*e}function jg(e){var t=e(nr,nr),r=1;function n(){return r===1?e(nr,nr):r===.5?e(fF,pF):e(hw(r),hw(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Xa(t)}function wg(){var e=jg(Nm());return e.copy=function(){return Fl(e,wg()).exponent(e.exponent())},Xr.apply(e,arguments),e}function hF(){return wg.apply(null,arguments).exponent(.5)}function xw(e){return Math.sign(e)*e*e}function xF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function WP(){var e=xg(),t=[0,1],r=!1,n;function s(i){var o=xF(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(xw(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,ld)).map(xw)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return WP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Xr.apply(s,arguments),Xa(s)}function KP(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=b6(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Rl(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ma),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return KP().domain(e).range(t).unknown(n)},Xr.apply(i,arguments)}function HP(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(u){return u!=null&&u<=u?s[Rl(n,u,0,r)]:i}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(s=Array.from(u)).length-1,l()):s.slice()},o.invertExtent=function(u){var c=s.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return HP().domain([e,t]).range(s).unknown(i)},Xr.apply(Xa(o),arguments)}function VP(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Rl(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return VP().domain(e).range(t).unknown(r)},Xr.apply(s,arguments)}const qf=new Date,Yf=new Date;function wt(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const u=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return u;let c;do u.push(c=new Date(+i)),t(i,l),e(i);while(c<i&&i<o);return u},s.filter=i=>wt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(qf.setTime(+i),Yf.setTime(+o),e(qf),e(Yf),Math.floor(r(qf,Yf))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const ud=wt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ud.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ud);ud.range;const zn=1e3,Wr=zn*60,Fn=Wr*60,Jn=Fn*24,Ng=Jn*7,yw=Jn*30,Gf=Jn*365,us=wt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getUTCSeconds());us.range;const kg=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zn)},(e,t)=>{e.setTime(+e+t*Wr)},(e,t)=>(t-e)/Wr,e=>e.getMinutes());kg.range;const _g=wt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Wr)},(e,t)=>(t-e)/Wr,e=>e.getUTCMinutes());_g.range;const Sg=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zn-e.getMinutes()*Wr)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getHours());Sg.range;const Pg=wt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCHours());Pg.range;const Bl=wt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wr)/Jn,e=>e.getDate()-1);Bl.range;const km=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jn,e=>e.getUTCDate()-1);km.range;const qP=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jn,e=>Math.floor(e/Jn));qP.range;function Ms(e){return wt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Wr)/Ng)}const _m=Ms(0),dd=Ms(1),yF=Ms(2),gF=Ms(3),Ai=Ms(4),vF=Ms(5),bF=Ms(6);_m.range;dd.range;yF.range;gF.range;Ai.range;vF.range;bF.range;function Ls(e){return wt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Ng)}const Sm=Ls(0),md=Ls(1),jF=Ls(2),wF=Ls(3),Ti=Ls(4),NF=Ls(5),kF=Ls(6);Sm.range;md.range;jF.range;wF.range;Ti.range;NF.range;kF.range;const Cg=wt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Cg.range;const Eg=wt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Eg.range;const ea=wt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ea.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ea.range;const ta=wt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ta.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ta.range;function YP(e,t,r,n,s,i){const o=[[us,1,zn],[us,5,5*zn],[us,15,15*zn],[us,30,30*zn],[i,1,Wr],[i,5,5*Wr],[i,15,15*Wr],[i,30,30*Wr],[s,1,Fn],[s,3,3*Fn],[s,6,6*Fn],[s,12,12*Fn],[n,1,Jn],[n,2,2*Jn],[r,1,Ng],[t,1,yw],[t,3,3*yw],[e,1,Gf]];function l(c,d,m){const p=d<c;p&&([c,d]=[d,c]);const h=m&&typeof m.range=="function"?m:u(c,d,m),y=h?h.range(c,+d+1):[];return p?y.reverse():y}function u(c,d,m){const p=Math.abs(d-c)/m,h=ug(([,,v])=>v).right(o,p);if(h===o.length)return e.every(qh(c/Gf,d/Gf,m));if(h===0)return ud.every(Math.max(qh(c,d,m),1));const[y,g]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return y.every(g)}return[l,u]}const[_F,SF]=YP(ta,Eg,Sm,qP,Pg,_g),[PF,CF]=YP(ea,Cg,_m,Bl,Sg,kg);function Xf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Qf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function uo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function EF(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,c=mo(s),d=fo(s),m=mo(i),p=fo(i),h=mo(o),y=fo(o),g=mo(l),v=fo(l),x=mo(u),b=fo(u),j={a:U,A:L,b:R,B:$,c:null,d:Nw,e:Nw,f:ZF,g:lB,G:uB,H:GF,I:XF,j:QF,L:GP,m:JF,M:eB,p:G,q:I,Q:Sw,s:Pw,S:tB,u:rB,U:nB,V:aB,w:sB,W:iB,x:null,X:null,y:oB,Y:cB,Z:dB,"%":_w},k={a:X,A:Z,b:D,B:Y,c:null,d:kw,e:kw,f:hB,g:_B,G:PB,H:mB,I:fB,j:pB,L:QP,m:xB,M:yB,p:ae,q:se,Q:Sw,s:Pw,S:gB,u:vB,U:bB,V:jB,w:wB,W:NB,x:null,X:null,y:kB,Y:SB,Z:CB,"%":_w},N={a:O,A:S,b:E,B:M,c:A,d:jw,e:jw,f:HF,g:bw,G:vw,H:ww,I:ww,j:BF,L:KF,m:FF,M:UF,p:P,q:zF,Q:qF,s:YF,S:WF,u:DF,U:MF,V:LF,w:IF,W:$F,x:T,X:F,y:bw,Y:vw,Z:RF,"%":VF};j.x=w(r,j),j.X=w(n,j),j.c=w(t,j),k.x=w(r,k),k.X=w(n,k),k.c=w(t,k);function w(K,de){return function(fe){var Q=[],_e=-1,xe=0,Ae=K.length,H,te,me;for(fe instanceof Date||(fe=new Date(+fe));++_e<Ae;)K.charCodeAt(_e)===37&&(Q.push(K.slice(xe,_e)),(te=gw[H=K.charAt(++_e)])!=null?H=K.charAt(++_e):te=H==="e"?" ":"0",(me=de[H])&&(H=me(fe,te)),Q.push(H),xe=_e+1);return Q.push(K.slice(xe,_e)),Q.join("")}}function C(K,de){return function(fe){var Q=uo(1900,void 0,1),_e=_(Q,K,fe+="",0),xe,Ae;if(_e!=fe.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(de&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(xe=Qf(uo(Q.y,0,1)),Ae=xe.getUTCDay(),xe=Ae>4||Ae===0?md.ceil(xe):md(xe),xe=km.offset(xe,(Q.V-1)*7),Q.y=xe.getUTCFullYear(),Q.m=xe.getUTCMonth(),Q.d=xe.getUTCDate()+(Q.w+6)%7):(xe=Xf(uo(Q.y,0,1)),Ae=xe.getDay(),xe=Ae>4||Ae===0?dd.ceil(xe):dd(xe),xe=Bl.offset(xe,(Q.V-1)*7),Q.y=xe.getFullYear(),Q.m=xe.getMonth(),Q.d=xe.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),Ae="Z"in Q?Qf(uo(Q.y,0,1)).getUTCDay():Xf(uo(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(Ae+5)%7:Q.w+Q.U*7-(Ae+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Qf(Q)):Xf(Q)}}function _(K,de,fe,Q){for(var _e=0,xe=de.length,Ae=fe.length,H,te;_e<xe;){if(Q>=Ae)return-1;if(H=de.charCodeAt(_e++),H===37){if(H=de.charAt(_e++),te=N[H in gw?de.charAt(_e++):H],!te||(Q=te(K,fe,Q))<0)return-1}else if(H!=fe.charCodeAt(Q++))return-1}return Q}function P(K,de,fe){var Q=c.exec(de.slice(fe));return Q?(K.p=d.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function O(K,de,fe){var Q=h.exec(de.slice(fe));return Q?(K.w=y.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function S(K,de,fe){var Q=m.exec(de.slice(fe));return Q?(K.w=p.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function E(K,de,fe){var Q=x.exec(de.slice(fe));return Q?(K.m=b.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function M(K,de,fe){var Q=g.exec(de.slice(fe));return Q?(K.m=v.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function A(K,de,fe){return _(K,t,de,fe)}function T(K,de,fe){return _(K,r,de,fe)}function F(K,de,fe){return _(K,n,de,fe)}function U(K){return o[K.getDay()]}function L(K){return i[K.getDay()]}function R(K){return u[K.getMonth()]}function $(K){return l[K.getMonth()]}function G(K){return s[+(K.getHours()>=12)]}function I(K){return 1+~~(K.getMonth()/3)}function X(K){return o[K.getUTCDay()]}function Z(K){return i[K.getUTCDay()]}function D(K){return u[K.getUTCMonth()]}function Y(K){return l[K.getUTCMonth()]}function ae(K){return s[+(K.getUTCHours()>=12)]}function se(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var de=w(K+="",j);return de.toString=function(){return K},de},parse:function(K){var de=C(K+="",!1);return de.toString=function(){return K},de},utcFormat:function(K){var de=w(K+="",k);return de.toString=function(){return K},de},utcParse:function(K){var de=C(K+="",!0);return de.toString=function(){return K},de}}}var gw={"-":"",_:" ",0:"0"},Mt=/^\s*\d+/,OF=/^%/,AF=/[\\^$*+?|[\]().{}]/g;function De(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function TF(e){return e.replace(AF,"\\$&")}function mo(e){return new RegExp("^(?:"+e.map(TF).join("|")+")","i")}function fo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function IF(e,t,r){var n=Mt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function DF(e,t,r){var n=Mt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function MF(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function LF(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function $F(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function vw(e,t,r){var n=Mt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function bw(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function RF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function zF(e,t,r){var n=Mt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function FF(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function jw(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function BF(e,t,r){var n=Mt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ww(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function UF(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function WF(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function KF(e,t,r){var n=Mt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function HF(e,t,r){var n=Mt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function VF(e,t,r){var n=OF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function qF(e,t,r){var n=Mt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function YF(e,t,r){var n=Mt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Nw(e,t){return De(e.getDate(),t,2)}function GF(e,t){return De(e.getHours(),t,2)}function XF(e,t){return De(e.getHours()%12||12,t,2)}function QF(e,t){return De(1+Bl.count(ea(e),e),t,3)}function GP(e,t){return De(e.getMilliseconds(),t,3)}function ZF(e,t){return GP(e,t)+"000"}function JF(e,t){return De(e.getMonth()+1,t,2)}function eB(e,t){return De(e.getMinutes(),t,2)}function tB(e,t){return De(e.getSeconds(),t,2)}function rB(e){var t=e.getDay();return t===0?7:t}function nB(e,t){return De(_m.count(ea(e)-1,e),t,2)}function XP(e){var t=e.getDay();return t>=4||t===0?Ai(e):Ai.ceil(e)}function aB(e,t){return e=XP(e),De(Ai.count(ea(e),e)+(ea(e).getDay()===4),t,2)}function sB(e){return e.getDay()}function iB(e,t){return De(dd.count(ea(e)-1,e),t,2)}function oB(e,t){return De(e.getFullYear()%100,t,2)}function lB(e,t){return e=XP(e),De(e.getFullYear()%100,t,2)}function cB(e,t){return De(e.getFullYear()%1e4,t,4)}function uB(e,t){var r=e.getDay();return e=r>=4||r===0?Ai(e):Ai.ceil(e),De(e.getFullYear()%1e4,t,4)}function dB(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+De(t/60|0,"0",2)+De(t%60,"0",2)}function kw(e,t){return De(e.getUTCDate(),t,2)}function mB(e,t){return De(e.getUTCHours(),t,2)}function fB(e,t){return De(e.getUTCHours()%12||12,t,2)}function pB(e,t){return De(1+km.count(ta(e),e),t,3)}function QP(e,t){return De(e.getUTCMilliseconds(),t,3)}function hB(e,t){return QP(e,t)+"000"}function xB(e,t){return De(e.getUTCMonth()+1,t,2)}function yB(e,t){return De(e.getUTCMinutes(),t,2)}function gB(e,t){return De(e.getUTCSeconds(),t,2)}function vB(e){var t=e.getUTCDay();return t===0?7:t}function bB(e,t){return De(Sm.count(ta(e)-1,e),t,2)}function ZP(e){var t=e.getUTCDay();return t>=4||t===0?Ti(e):Ti.ceil(e)}function jB(e,t){return e=ZP(e),De(Ti.count(ta(e),e)+(ta(e).getUTCDay()===4),t,2)}function wB(e){return e.getUTCDay()}function NB(e,t){return De(md.count(ta(e)-1,e),t,2)}function kB(e,t){return De(e.getUTCFullYear()%100,t,2)}function _B(e,t){return e=ZP(e),De(e.getUTCFullYear()%100,t,2)}function SB(e,t){return De(e.getUTCFullYear()%1e4,t,4)}function PB(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ti(e):Ti.ceil(e),De(e.getUTCFullYear()%1e4,t,4)}function CB(){return"+0000"}function _w(){return"%"}function Sw(e){return+e}function Pw(e){return Math.floor(+e/1e3)}var Fs,JP,eC;EB({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function EB(e){return Fs=EF(e),JP=Fs.format,Fs.parse,eC=Fs.utcFormat,Fs.utcParse,Fs}function OB(e){return new Date(e)}function AB(e){return e instanceof Date?+e:+new Date(+e)}function Og(e,t,r,n,s,i,o,l,u,c){var d=xg(),m=d.invert,p=d.domain,h=c(".%L"),y=c(":%S"),g=c("%I:%M"),v=c("%I %p"),x=c("%a %d"),b=c("%b %d"),j=c("%B"),k=c("%Y");function N(w){return(u(w)<w?h:l(w)<w?y:o(w)<w?g:i(w)<w?v:n(w)<w?s(w)<w?x:b:r(w)<w?j:k)(w)}return d.invert=function(w){return new Date(m(w))},d.domain=function(w){return arguments.length?p(Array.from(w,AB)):p().map(OB)},d.ticks=function(w){var C=p();return e(C[0],C[C.length-1],w??10)},d.tickFormat=function(w,C){return C==null?N:c(C)},d.nice=function(w){var C=p();return(!w||typeof w.range!="function")&&(w=t(C[0],C[C.length-1],w??10)),w?p(FP(C,w)):d},d.copy=function(){return Fl(d,Og(e,t,r,n,s,i,o,l,u,c))},d}function TB(){return Xr.apply(Og(PF,CF,ea,Cg,_m,Bl,Sg,kg,us,JP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function IB(){return Xr.apply(Og(_F,SF,ta,Eg,Sm,km,Pg,_g,us,eC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pm(){var e=0,t=1,r,n,s,i,o=nr,l=!1,u;function c(m){return m==null||isNaN(m=+m)?u:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}c.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(m){return arguments.length?(l=!!m,c):l},c.interpolator=function(m){return arguments.length?(o=m,c):o};function d(m){return function(p){var h,y;return arguments.length?([h,y]=p,o=m(h,y),c):[o(0),o(1)]}}return c.range=d(Bi),c.rangeRound=d(hg),c.unknown=function(m){return arguments.length?(u=m,c):u},function(m){return i=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),c}}function Qa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function tC(){var e=Xa(Pm()(nr));return e.copy=function(){return Qa(e,tC())},la.apply(e,arguments)}function rC(){var e=vg(Pm()).domain([1,10]);return e.copy=function(){return Qa(e,rC()).base(e.base())},la.apply(e,arguments)}function nC(){var e=bg(Pm());return e.copy=function(){return Qa(e,nC()).constant(e.constant())},la.apply(e,arguments)}function Ag(){var e=jg(Pm());return e.copy=function(){return Qa(e,Ag()).exponent(e.exponent())},la.apply(e,arguments)}function DB(){return Ag.apply(null,arguments).exponent(.5)}function aC(){var e=[],t=nr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Rl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ma),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>v6(e,i/n))},r.copy=function(){return aC(t).domain(e)},la.apply(r,arguments)}function Cm(){var e=0,t=.5,r=1,n=1,s,i,o,l,u,c=nr,d,m=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:u),c(m?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),n=i<s?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(m=!!g,h):m},h.interpolator=function(g){return arguments.length?(c=g,h):c};function y(g){return function(v){var x,b,j;return arguments.length?([x,b,j]=v,c=V6(g,[x,b,j]),h):[c(0),c(.5),c(1)]}}return h.range=y(Bi),h.rangeRound=y(hg),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return d=g,s=g(e),i=g(t),o=g(r),l=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),n=i<s?-1:1,h}}function sC(){var e=Xa(Cm()(nr));return e.copy=function(){return Qa(e,sC())},la.apply(e,arguments)}function iC(){var e=vg(Cm()).domain([.1,1,10]);return e.copy=function(){return Qa(e,iC()).base(e.base())},la.apply(e,arguments)}function oC(){var e=bg(Cm());return e.copy=function(){return Qa(e,oC()).constant(e.constant())},la.apply(e,arguments)}function Tg(){var e=jg(Cm());return e.copy=function(){return Qa(e,Tg()).exponent(e.exponent())},la.apply(e,arguments)}function MB(){return Tg.apply(null,arguments).exponent(.5)}const jo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mg,scaleDiverging:sC,scaleDivergingLog:iC,scaleDivergingPow:Tg,scaleDivergingSqrt:MB,scaleDivergingSymlog:oC,scaleIdentity:zP,scaleImplicit:Yh,scaleLinear:RP,scaleLog:BP,scaleOrdinal:dg,scalePoint:w6,scalePow:wg,scaleQuantile:KP,scaleQuantize:HP,scaleRadial:WP,scaleSequential:tC,scaleSequentialLog:rC,scaleSequentialPow:Ag,scaleSequentialQuantile:aC,scaleSequentialSqrt:DB,scaleSequentialSymlog:nC,scaleSqrt:hF,scaleSymlog:UP,scaleThreshold:VP,scaleTime:TB,scaleUtc:IB,tickFormat:$P},Symbol.toStringTag,{value:"Module"}));var Za=e=>e.chartData,Ig=W([Za],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Em=(e,t,r,n)=>n?Ig(e):Za(e);function za(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ut(t)&&ut(r))return!0}return!1}function Cw(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function lC(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(ut(r))s=r;else if(typeof r=="function")return;if(ut(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(za(o))return o}}function LB(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(za(n))return Cw(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if(ue(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&uj.test(s)){var u=uj.exec(s);if(u==null||t==null)o=void 0;else{var c=+u[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ue(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&dj.test(i)){var d=dj.exec(i);if(d==null||t==null)l=void 0;else{var m=+d[1];l=t[1]+m}}else l=t==null?void 0:t[1];var p=[o,l];if(za(p))return t==null?p:Cw(p,t,r)}}}var Ui=1e9,$B={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Mg,Qe=!0,Yr="[DecimalError] ",gs=Yr+"Invalid argument: ",Dg=Yr+"Exponent out of range: ",Wi=Math.floor,as=Math.pow,RB=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kr,Ct=1e7,Ve=7,cC=9007199254740991,fd=Wi(cC/Ve),ce={};ce.absoluteValue=ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ce.comparedTo=ce.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};ce.decimalPlaces=ce.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ve;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ce.dividedBy=ce.div=function(e){return Wn(this,new this.constructor(e))};ce.dividedToIntegerBy=ce.idiv=function(e){var t=this,r=t.constructor;return Fe(Wn(t,new r(e),0,1),r.precision)};ce.equals=ce.eq=function(e){return!this.cmp(e)};ce.exponent=function(){return ht(this)};ce.greaterThan=ce.gt=function(e){return this.cmp(e)>0};ce.greaterThanOrEqualTo=ce.gte=function(e){return this.cmp(e)>=0};ce.isInteger=ce.isint=function(){return this.e>this.d.length-2};ce.isNegative=ce.isneg=function(){return this.s<0};ce.isPositive=ce.ispos=function(){return this.s>0};ce.isZero=function(){return this.s===0};ce.lessThan=ce.lt=function(e){return this.cmp(e)<0};ce.lessThanOrEqualTo=ce.lte=function(e){return this.cmp(e)<1};ce.logarithm=ce.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(kr))throw Error(Yr+"NaN");if(r.s<1)throw Error(Yr+(r.s?"NaN":"-Infinity"));return r.eq(kr)?new n(0):(Qe=!1,t=Wn(dl(r,i),dl(e,i),i),Qe=!0,Fe(t,s))};ce.minus=ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mC(t,e):uC(t,(e.s=-e.s,e))};ce.modulo=ce.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Yr+"NaN");return r.s?(Qe=!1,t=Wn(r,e,0,1).times(e),Qe=!0,r.minus(t)):Fe(new n(r),s)};ce.naturalExponential=ce.exp=function(){return dC(this)};ce.naturalLogarithm=ce.ln=function(){return dl(this)};ce.negated=ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ce.plus=ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uC(t,e):mC(t,(e.s=-e.s,e))};ce.precision=ce.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(gs+e);if(t=ht(s)+1,n=s.d.length-1,r=n*Ve+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ce.squareRoot=ce.sqrt=function(){var e,t,r,n,s,i,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Yr+"NaN")}for(e=ht(l),Qe=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Nn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Wi((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(s.toString()),r=u.precision,s=o=r+3;;)if(i=n,n=i.plus(Wn(l,i,o+2)).times(.5),Nn(i.d).slice(0,o)===(t=Nn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Fe(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Qe=!0,Fe(n,r)};ce.times=ce.mul=function(e){var t,r,n,s,i,o,l,u,c,d=this,m=d.constructor,p=d.d,h=(e=new m(e)).d;if(!d.s||!e.s)return new m(0);for(e.s*=d.s,r=d.e+e.e,u=p.length,c=h.length,u<c&&(i=p,p=h,h=i,o=u,u=c,c=o),i=[],o=u+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,s=u+n;s>n;)l=i[s]+h[n]*p[s-n-1]+t,i[s--]=l%Ct|0,t=l/Ct|0;i[s]=(i[s]+t)%Ct|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Qe?Fe(e,m.precision):e};ce.toDecimalPlaces=ce.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(En(e,0,Ui),t===void 0?t=n.rounding:En(t,0,8),Fe(r,e+ht(r)+1,t))};ce.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Os(n,!0):(En(e,0,Ui),t===void 0?t=s.rounding:En(t,0,8),n=Fe(new s(n),e+1,t),r=Os(n,!0,e+1)),r};ce.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Os(s):(En(e,0,Ui),t===void 0?t=i.rounding:En(t,0,8),n=Fe(new i(s),e+ht(s)+1,t),r=Os(n.abs(),!1,e+ht(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ce.toInteger=ce.toint=function(){var e=this,t=e.constructor;return Fe(new t(e),ht(e)+1,t.rounding)};ce.toNumber=function(){return+this};ce.toPower=ce.pow=function(e){var t,r,n,s,i,o,l=this,u=l.constructor,c=12,d=+(e=new u(e));if(!e.s)return new u(kr);if(l=new u(l),!l.s){if(e.s<1)throw Error(Yr+"Infinity");return l}if(l.eq(kr))return l;if(n=u.precision,e.eq(kr))return Fe(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=cC){for(s=new u(kr),t=Math.ceil(n/Ve+4),Qe=!1;r%2&&(s=s.times(l),Ow(s.d,t)),r=Wi(r/2),r!==0;)l=l.times(l),Ow(l.d,t);return Qe=!0,e.s<0?new u(kr).div(s):Fe(s,n)}}else if(i<0)throw Error(Yr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Qe=!1,s=e.times(dl(l,n+c)),Qe=!0,s=dC(s),s.s=i,s};ce.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=ht(s),n=Os(s,r<=i.toExpNeg||r>=i.toExpPos)):(En(e,1,Ui),t===void 0?t=i.rounding:En(t,0,8),s=Fe(new i(s),e,t),r=ht(s),n=Os(s,e<=r||r<=i.toExpNeg,e)),n};ce.toSignificantDigits=ce.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(En(e,1,Ui),t===void 0?t=n.rounding:En(t,0,8)),Fe(new n(r),e,t)};ce.toString=ce.valueOf=ce.val=ce.toJSON=ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ht(e),r=e.constructor;return Os(e,t<=r.toExpNeg||t>=r.toExpPos)};function uC(e,t){var r,n,s,i,o,l,u,c,d=e.constructor,m=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Qe?Fe(t,m):t;if(u=e.d,c=t.d,o=e.e,s=t.e,u=u.slice(),i=o-s,i){for(i<0?(n=u,i=-i,l=c.length):(n=c,s=o,l=u.length),o=Math.ceil(m/Ve),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=u.length,i=c.length,l-i<0&&(i=l,n=c,c=u,u=n),r=0;i;)r=(u[--i]=u[i]+c[i]+r)/Ct|0,u[i]%=Ct;for(r&&(u.unshift(r),++s),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=s,Qe?Fe(t,m):t}function En(e,t,r){if(e!==~~e||e<t||e>r)throw Error(gs+e)}function Nn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Ve-n.length,r&&(i+=ya(r)),i+=n;o=e[t],n=o+"",r=Ve-n.length,r&&(i+=ya(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Wn=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Ct|0,o=i/Ct|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,u;if(i!=o)u=i>o?1:-1;else for(l=u=0;l<i;l++)if(n[l]!=s[l]){u=n[l]>s[l]?1:-1;break}return u}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Ct+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,u,c,d,m,p,h,y,g,v,x,b,j,k,N,w,C,_,P=n.constructor,O=n.s==s.s?1:-1,S=n.d,E=s.d;if(!n.s)return new P(n);if(!s.s)throw Error(Yr+"Division by zero");for(u=n.e-s.e,C=E.length,N=S.length,h=new P(O),y=h.d=[],c=0;E[c]==(S[c]||0);)++c;if(E[c]>(S[c]||0)&&--u,i==null?b=i=P.precision:o?b=i+(ht(n)-ht(s))+1:b=i,b<0)return new P(0);if(b=b/Ve+2|0,c=0,C==1)for(d=0,E=E[0],b++;(c<N||d)&&b--;c++)j=d*Ct+(S[c]||0),y[c]=j/E|0,d=j%E|0;else{for(d=Ct/(E[0]+1)|0,d>1&&(E=e(E,d),S=e(S,d),C=E.length,N=S.length),k=C,g=S.slice(0,C),v=g.length;v<C;)g[v++]=0;_=E.slice(),_.unshift(0),w=E[0],E[1]>=Ct/2&&++w;do d=0,l=t(E,g,C,v),l<0?(x=g[0],C!=v&&(x=x*Ct+(g[1]||0)),d=x/w|0,d>1?(d>=Ct&&(d=Ct-1),m=e(E,d),p=m.length,v=g.length,l=t(m,g,p,v),l==1&&(d--,r(m,C<p?_:E,p))):(d==0&&(l=d=1),m=E.slice()),p=m.length,p<v&&m.unshift(0),r(g,m,v),l==-1&&(v=g.length,l=t(E,g,C,v),l<1&&(d++,r(g,C<v?_:E,v))),v=g.length):l===0&&(d++,g=[0]),y[c++]=d,l&&g[0]?g[v++]=S[k]||0:(g=[S[k]],v=1);while((k++<N||g[0]!==void 0)&&b--)}return y[0]||y.shift(),h.e=u,Fe(h,o?i+ht(h)+1:i)}}();function dC(e,t){var r,n,s,i,o,l,u=0,c=0,d=e.constructor,m=d.precision;if(ht(e)>16)throw Error(Dg+ht(e));if(!e.s)return new d(kr);for(Qe=!1,l=m,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(as(2,c))/Math.LN10*2+5|0,l+=n,r=s=i=new d(kr),d.precision=l;;){if(s=Fe(s.times(e),l),r=r.times(++u),o=i.plus(Wn(s,r,l)),Nn(o.d).slice(0,l)===Nn(i.d).slice(0,l)){for(;c--;)i=Fe(i.times(i),l);return d.precision=m,t==null?(Qe=!0,Fe(i,m)):i}i=o}}function ht(e){for(var t=e.e*Ve,r=e.d[0];r>=10;r/=10)t++;return t}function Zf(e,t,r){if(t>e.LN10.sd())throw Qe=!0,r&&(e.precision=r),Error(Yr+"LN10 precision limit exceeded");return Fe(new e(e.LN10),t)}function ya(e){for(var t="";e--;)t+="0";return t}function dl(e,t){var r,n,s,i,o,l,u,c,d,m=1,p=10,h=e,y=h.d,g=h.constructor,v=g.precision;if(h.s<1)throw Error(Yr+(h.s?"NaN":"-Infinity"));if(h.eq(kr))return new g(0);if(t==null?(Qe=!1,c=v):c=t,h.eq(10))return t==null&&(Qe=!0),Zf(g,c);if(c+=p,g.precision=c,r=Nn(y),n=r.charAt(0),i=ht(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Nn(h.d),n=r.charAt(0),m++;i=ht(h),n>1?(h=new g("0."+r),i++):h=new g(n+"."+r.slice(1))}else return u=Zf(g,c+2,v).times(i+""),h=dl(new g(n+"."+r.slice(1)),c-p).plus(u),g.precision=v,t==null?(Qe=!0,Fe(h,v)):h;for(l=o=h=Wn(h.minus(kr),h.plus(kr),c),d=Fe(h.times(h),c),s=3;;){if(o=Fe(o.times(d),c),u=l.plus(Wn(o,new g(s),c)),Nn(u.d).slice(0,c)===Nn(l.d).slice(0,c))return l=l.times(2),i!==0&&(l=l.plus(Zf(g,c+2,v).times(i+""))),l=Wn(l,new g(m),c),g.precision=v,t==null?(Qe=!0,Fe(l,v)):l;l=u,s+=2}}function Ew(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Wi(r/Ve),e.d=[],n=(r+1)%Ve,r<0&&(n+=Ve),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Ve;n<s;)e.d.push(+t.slice(n,n+=Ve));t=t.slice(n),n=Ve-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Qe&&(e.e>fd||e.e<-fd))throw Error(Dg+r)}else e.s=0,e.e=0,e.d=[0];return e}function Fe(e,t,r){var n,s,i,o,l,u,c,d,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ve,s=t,c=m[d=0];else{if(d=Math.ceil((n+1)/Ve),i=m.length,d>=i)return e;for(c=i=m[d],o=1;i>=10;i/=10)o++;n%=Ve,s=n-Ve+o}if(r!==void 0&&(i=as(10,o-s-1),l=c/i%10|0,u=t<0||m[d+1]!==void 0||c%i,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?s>0?c/as(10,o-s):0:m[d-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(i=ht(e),m.length=1,t=t-i-1,m[0]=as(10,(Ve-t%Ve)%Ve),e.e=Wi(-t/Ve)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=d,i=1,d--):(m.length=d+1,i=as(10,Ve-n),m[d]=s>0?(c/as(10,o-s)%as(10,s)|0)*i:0),u)for(;;)if(d==0){(m[0]+=i)==Ct&&(m[0]=1,++e.e);break}else{if(m[d]+=i,m[d]!=Ct)break;m[d--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Qe&&(e.e>fd||e.e<-fd))throw Error(Dg+ht(e));return e}function mC(e,t){var r,n,s,i,o,l,u,c,d,m,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Qe?Fe(t,h):t;if(u=e.d,m=t.d,n=t.e,c=e.e,u=u.slice(),o=c-n,o){for(d=o<0,d?(r=u,o=-o,l=m.length):(r=m,n=c,l=u.length),s=Math.max(Math.ceil(h/Ve),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=u.length,l=m.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(u[s]!=m[s]){d=u[s]<m[s];break}o=0}for(d&&(r=u,u=m,m=r,t.s=-t.s),l=u.length,s=m.length-l;s>0;--s)u[l++]=0;for(s=m.length;s>o;){if(u[--s]<m[s]){for(i=s;i&&u[--i]===0;)u[i]=Ct-1;--u[i],u[s]+=Ct}u[s]-=m[s]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Qe?Fe(t,h):t):new p(0)}function Os(e,t,r){var n,s=ht(e),i=Nn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ya(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+ya(-s-1)+i,r&&(n=r-o)>0&&(i+=ya(n))):s>=o?(i+=ya(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+ya(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=ya(n))),e.s<0?"-"+i:i}function Ow(e,t){if(e.length>t)return e.length=t,!0}function fC(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(gs+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Ew(o,i.toString())}else if(typeof i!="string")throw Error(gs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,RB.test(i))Ew(o,i);else throw Error(gs+i)}if(s.prototype=ce,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=fC,s.config=s.set=zB,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function zB(e){if(!e||typeof e!="object")throw Error(Yr+"Object expected");var t,r,n,s=["precision",1,Ui,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Wi(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(gs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(gs+r+": "+n);return this}var Mg=fC($B);kr=new Mg(1);const $e=Mg;var FB=e=>e,pC={},hC=e=>e===pC,Aw=e=>function t(){return arguments.length===0||arguments.length===1&&hC(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},xC=(e,t)=>e===1?t:Aw(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==pC).length;return i>=e?t(...n):xC(e-i,Aw(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var c=n.map(d=>hC(d)?l.shift():d);return t(...c,...l)}))}),BB=e=>xC(e.length,e),Zh=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},UB=BB((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),WB=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return FB;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,u)=>u(l),i(...arguments))}},Jh=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function yC(e){var t;return e===0?t=1:t=Math.floor(new $e(e).abs().log(10).toNumber())+1,t}function gC(e,t,r){for(var n=new $e(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var vC=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},bC=(e,t,r)=>{if(e.lte(0))return new $e(0);var n=yC(e.toNumber()),s=new $e(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new $e(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=l.mul(s);return t?new $e(u.toNumber()):new $e(Math.ceil(u.toNumber()))},KB=(e,t,r)=>{var n=new $e(1),s=new $e(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new $e(10).pow(yC(e)-1),s=new $e(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new $e(Math.floor(e)))}else e===0?s=new $e(Math.floor((t-1)/2)):r||(s=new $e(Math.floor(e)));var o=Math.floor((t-1)/2),l=WB(UB(u=>s.add(new $e(u-o).mul(n)).toNumber()),Zh);return l(0,t)},jC=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new $e(0),tickMin:new $e(0),tickMax:new $e(0)};var o=bC(new $e(r).sub(t).div(n-1),s,i),l;t<=0&&r>=0?l=new $e(0):(l=new $e(t).add(r).div(2),l=l.sub(new $e(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),c=Math.ceil(new $e(r).sub(l).div(o).toNumber()),d=u+c+1;return d>n?jC(t,r,n,s,i+1):(d<n&&(c=r>0?c+(n-d):c,u=r>0?u:u+(n-d)),{step:o,tickMin:l.sub(new $e(u).mul(o)),tickMax:l.add(new $e(c).mul(o))})},HB=function(t){var[r,n]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),[l,u]=vC([r,n]);if(l===-1/0||u===1/0){var c=u===1/0?[l,...Zh(0,s-1).map(()=>1/0)]:[...Zh(0,s-1).map(()=>-1/0),u];return r>n?Jh(c):c}if(l===u)return KB(l,s,i);var{step:d,tickMin:m,tickMax:p}=jC(l,u,o,i,0),h=gC(m,p.add(new $e(.1).mul(d)),d);return r>n?Jh(h):h},VB=function(t,r){var[n,s]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=vC([n,s]);if(o===-1/0||l===1/0)return[n,s];if(o===l)return[o];var u=Math.max(r,2),c=bC(new $e(l).sub(o).div(u-1),i,0),d=[...gC(new $e(o),new $e(l),c),l];return i===!1&&(d=d.map(m=>Math.round(m))),n>s?Jh(d):d},wC=e=>e.rootProps.maxBarSize,qB=e=>e.rootProps.barGap,NC=e=>e.rootProps.barCategoryGap,YB=e=>e.rootProps.barSize,Ul=e=>e.rootProps.stackOffset,kC=e=>e.rootProps.reverseStackOrder,Lg=e=>e.options.chartName,$g=e=>e.rootProps.syncId,_C=e=>e.rootProps.syncMethod,Rg=e=>e.options.eventEmitter,pt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Mn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Nr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Om=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},GB={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Mn.angleAxisId,includeHidden:!1,name:void 0,reversed:Mn.reversed,scale:Mn.scale,tick:Mn.tick,tickCount:void 0,ticks:void 0,type:Mn.type,unit:void 0},XB={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nr.scale,tick:Nr.tick,tickCount:Nr.tickCount,ticks:void 0,type:Nr.type,unit:void 0},QB={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mn.scale,tick:Mn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ZB={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nr.scale,tick:Nr.tick,tickCount:Nr.tickCount,ticks:void 0,type:"category",unit:void 0},zg=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?QB:GB,Fg=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?ZB:XB,Am=e=>e.polarOptions,Bg=W([ia,oa,jt],bP),SC=W([Am,Bg],(e,t)=>{if(e!=null)return Qt(e.innerRadius,t,0)}),PC=W([Am,Bg],(e,t)=>{if(e!=null)return Qt(e.outerRadius,t,t*.8)}),JB=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},CC=W([Am],JB);W([zg,CC],Om);var EC=W([Bg,SC,PC],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});W([Fg,EC],Om);var OC=W([Ee,Am,SC,PC,ia,oa],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:u,endAngle:c}=t;return{cx:Qt(o,s,s/2),cy:Qt(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:c,clockWise:!1}}}),Je=(e,t)=>t,Wl=(e,t,r)=>r;function Ug(e){return e==null?void 0:e.id}function AC(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,o=new Map;return e.forEach(l=>{var u,c=(u=l.data)!==null&&u!==void 0?u:n;if(!(c==null||c.length===0)){var d=Ug(l);c.forEach((m,p)=>{var h=i==null||s?p:String(ze(m,i,null)),y=ze(m,l.dataKey,0),g;o.has(h)?g=o.get(h):g={},Object.assign(g,{[d]:y}),o.set(h,g)})}}),Array.from(o.values())}function Tm(e){return e.stackId!=null&&e.dataKey!=null}var Im=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Dm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function e8(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Nt=e=>{var t=Ee(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ki=e=>e.tooltip.settings.axisId;function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){t8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t8(e,t,r){return(t=r8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r8(e){var t=n8(e,"string");return typeof t=="symbol"?t:t+""}function n8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ex=[0,"auto"],St={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},TC=(e,t)=>e.cartesianAxis.xAxis[t],ca=(e,t)=>{var r=TC(e,t);return r??St},Pt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ex,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Tl},IC=(e,t)=>e.cartesianAxis.yAxis[t],ua=(e,t)=>{var r=IC(e,t);return r??Pt},a8={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Wg=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??a8},at=(e,t,r)=>{switch(t){case"xAxis":return ca(e,r);case"yAxis":return ua(e,r);case"zAxis":return Wg(e,r);case"angleAxis":return zg(e,r);case"radiusAxis":return Fg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},s8=(e,t,r)=>{switch(t){case"xAxis":return ca(e,r);case"yAxis":return ua(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Kl=(e,t,r)=>{switch(t){case"xAxis":return ca(e,r);case"yAxis":return ua(e,r);case"angleAxis":return zg(e,r);case"radiusAxis":return Fg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},DC=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Kg(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Mm=e=>e.graphicalItems.cartesianItems,i8=W([Je,Wl],Kg),Hg=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Hl=W([Mm,at,i8],Hg,{memoizeOptions:{resultEqualityCheck:Dm}}),MC=W([Hl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Tm)),LC=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),o8=W([Hl],LC),Vg=e=>e.map(t=>t.data).filter(Boolean).flat(1),l8=W([Hl],Vg,{memoizeOptions:{resultEqualityCheck:Dm}}),qg=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},Yg=W([l8,Em],qg),Gg=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ze(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:ze(s,n)}))):e.map(n=>({value:n})),Lm=W([Yg,at,Hl],Gg);function $C(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function iu(e){if(Pn(e)||e instanceof Date){var t=Number(e);if(ut(t))return t}}function Iw(e){if(Array.isArray(e)){var t=[iu(e[0]),iu(e[1])];return za(t)?t:void 0}var r=iu(e);if(r!=null)return[r,r]}function ra(e){return e.map(iu).filter(jL)}function c8(e,t,r){return!r||typeof t!="number"||mn(t)?[]:r.length?ra(r.flatMap(n=>{var s=ze(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!ut(i)||!ut(o)))return[t-i,t+o]})):[]}var kt=e=>{var t=Nt(e),r=Ki(e);return Kl(e,t,r)},Vl=W([kt],e=>e==null?void 0:e.dataKey),u8=W([MC,Em,kt],AC),RC=(e,t,r,n)=>{var s={},i=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),s);return Object.fromEntries(Object.entries(i).map(o=>{var[l,u]=o,c=n?[...u].reverse():u,d=c.map(Ug);return[l,{stackedData:R5(e,d,r),graphicalItems:c}]}))},tx=W([u8,MC,Ul,kC],RC),zC=(e,t,r,n)=>{var{dataStartIndex:s,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=W5(e,s,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},d8=W([at],e=>e.allowDataOverflow),Xg=e=>{var t;if(e==null||!("domain"in e))return ex;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ra(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ex},Qg=W([at],Xg),Zg=W([Qg,d8],lC),m8=W([tx,Za,Je,Zg],zC,{memoizeOptions:{resultEqualityCheck:Im}}),$m=e=>e.errorBars,f8=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>$C(r,n)),hd=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},Jg=(e,t,r,n,s)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(u=>{var c,d,m=(c=n[u.id])===null||c===void 0?void 0:c.filter(x=>$C(s,x)),p=ze(l,(d=t.dataKey)!==null&&d!==void 0?d:u.dataKey),h=c8(l,p,m);if(h.length>=2){var y=Math.min(...h),g=Math.max(...h);(i==null||y<i)&&(i=y),(o==null||g>o)&&(o=g)}var v=Iw(p);v!=null&&(i=i==null?v[0]:Math.min(i,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var u=Iw(ze(l,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),ut(i)&&ut(o))return[i,o]},p8=W([Yg,at,o8,$m,Je],Jg,{memoizeOptions:{resultEqualityCheck:Im}});function h8(e){var{value:t}=e;if(Pn(t)||t instanceof Date)return t}var x8=(e,t,r)=>{var n=e.map(h8).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&D_(n))?PP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},FC=e=>e.referenceElements.dots,Hi=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),y8=W([FC,Je,Wl],Hi),BC=e=>e.referenceElements.areas,g8=W([BC,Je,Wl],Hi),UC=e=>e.referenceElements.lines,v8=W([UC,Je,Wl],Hi),WC=(e,t)=>{var r=ra(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},b8=W(y8,Je,WC),KC=(e,t)=>{var r=ra(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},j8=W([g8,Je],KC);function w8(e){var t;if(e.x!=null)return ra([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:ra(r)}function N8(e){var t;if(e.y!=null)return ra([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:ra(r)}var HC=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?w8(n):N8(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},k8=W([v8,Je],HC),_8=W(b8,k8,j8,(e,t,r)=>hd(e,r,t)),ev=(e,t,r,n,s,i,o,l)=>{if(r!=null)return r;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",c=u?hd(n,i,s):hd(i,s);return LB(t,c,e.allowDataOverflow)},S8=W([at,Qg,Zg,m8,p8,_8,Ee,Je],ev,{memoizeOptions:{resultEqualityCheck:Im}}),P8=[0,1],tv=(e,t,r,n,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,c=Ga(t,i);if(c&&l==null){var d;return PP(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return u==="category"?x8(n,e,c):s==="expand"?P8:o}},rv=W([at,Ee,Yg,Lm,Ul,Je,S8],tv),VC=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Sl(i));return l in jo?l:"point"}}},Vi=W([at,Ee,DC,Lg,Je],VC);function C8(e){if(e!=null){if(e in jo)return jo[e]();var t="scale".concat(Sl(e));if(t in jo)return jo[t]()}}function nv(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=C8(t);if(s!=null){var i=s.domain(r).range(n);return I5(i),i}}}var av=(e,t,r)=>{var n=Xg(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&za(e))return HB(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&za(e))return VB(e,t.tickCount,t.allowDecimals)}},sv=W([rv,Kl,Vi],av),iv=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&za(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},E8=W([at,rv,sv,Je],iv),O8=W(Lm,at,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ra(e.map(l=>l.value))).sort((l,u)=>l-u);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),qC=W(O8,Ee,NC,jt,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!ut(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=Qt(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),A8=(e,t)=>{var r=ca(e,t);return r==null||typeof r.padding!="string"?0:qC(e,"xAxis",t,r.padding)},T8=(e,t)=>{var r=ua(e,t);return r==null||typeof r.padding!="string"?0:qC(e,"yAxis",t,r.padding)},I8=W(ca,A8,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),D8=W(ua,T8,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),M8=W([jt,I8,ym,xm,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),L8=W([jt,Ee,D8,ym,xm,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),ql=(e,t,r,n)=>{var s;switch(t){case"xAxis":return M8(e,r,n);case"yAxis":return L8(e,r,n);case"zAxis":return(s=Wg(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return CC(e);case"radiusAxis":return EC(e,r);default:return}},YC=W([at,ql],Om),qi=W([at,Vi,E8,YC],nv);W([Hl,$m,Je],f8);function GC(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Rm=(e,t)=>t,zm=(e,t,r)=>r,$8=W(pm,Rm,zm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(GC)),R8=W(hm,Rm,zm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(GC)),XC=(e,t)=>({width:e.width,height:t.height}),z8=(e,t)=>{var r=typeof t.width=="number"?t.width:Tl;return{width:r,height:e.height}},QC=W(jt,ca,XC),F8=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},B8=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},U8=W(oa,jt,$8,Rm,zm,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var u=XC(t,l);o==null&&(o=F8(t,n,e));var c=n==="top"&&!s||n==="bottom"&&s;i[l.id]=o-Number(c)*u.height,o+=(c?-1:1)*u.height}),i}),W8=W(ia,jt,R8,Rm,zm,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var u=z8(t,l);o==null&&(o=B8(t,n,e));var c=n==="left"&&!s||n==="right"&&s;i[l.id]=o-Number(c)*u.width,o+=(c?-1:1)*u.width}),i}),K8=(e,t)=>{var r=ca(e,t);if(r!=null)return U8(e,r.orientation,r.mirror)},H8=W([jt,ca,K8,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),V8=(e,t)=>{var r=ua(e,t);if(r!=null)return W8(e,r.orientation,r.mirror)},q8=W([jt,ua,V8,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),ZC=W(jt,ua,(e,t)=>{var r=typeof t.width=="number"?t.width:Tl;return{width:r,height:e.height}}),Dw=(e,t,r)=>{switch(t){case"xAxis":return QC(e,r).width;case"yAxis":return ZC(e,r).height;default:return}},JC=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,l=Ga(e,n),u=t.map(c=>c.value);if(o&&l&&i==="category"&&s&&D_(u))return u}},ov=W([Ee,Lm,at,Je],JC),eE=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=Ga(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},lv=W([Ee,Lm,Kl,Je],eE),Mw=W([Ee,s8,Vi,qi,ov,lv,ql,sv,Je],(e,t,r,n,s,i,o,l,u)=>{if(t!=null){var c=Ga(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:s,isCategorical:c,niceTicks:l,range:o,realScaleType:r,scale:n}}}),Y8=(e,t,r,n,s,i,o,l,u)=>{if(!(t==null||n==null)){var c=Ga(e,u),{type:d,ticks:m,tickCount:p}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=d==="category"&&n.bandwidth?n.bandwidth()/h:0;y=u==="angleAxis"&&i!=null&&i.length>=2?At(i[0]-i[1])*2*y:y;var g=m||s;if(g){var v=g.map((x,b)=>{var j=o?o.indexOf(x):x;return{index:b,coordinate:n(j)+y,value:x,offset:y}});return v.filter(x=>ut(x.coordinate))}return c&&l?l.map((x,b)=>({coordinate:n(x)+y,value:x,index:b,offset:y})).filter(x=>ut(x.coordinate)):n.ticks?n.ticks(p).map(x=>({coordinate:n(x)+y,value:x,offset:y})):n.domain().map((x,b)=>({coordinate:n(x)+y,value:o?o[x]:x,index:b,offset:y}))}},tE=W([Ee,Kl,Vi,qi,sv,ql,ov,lv,Je],Y8),G8=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ga(e,o),{tickCount:u}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?At(n[0]-n[1])*2*c:c,l&&i?i.map((d,m)=>({coordinate:r(d)+c,value:d,index:m,offset:c})):r.ticks?r.ticks(u).map(d=>({coordinate:r(d)+c,value:d,offset:c})):r.domain().map((d,m)=>({coordinate:r(d)+c,value:s?s[d]:d,index:m,offset:c}))}},Fa=W([Ee,Kl,qi,ql,ov,lv,Je],G8),Ba=W(at,qi,(e,t)=>{if(!(e==null||t==null))return pd(pd({},e),{},{scale:t})}),X8=W([at,Vi,rv,YC],nv);W((e,t,r)=>Wg(e,r),X8,(e,t)=>{if(!(e==null||t==null))return pd(pd({},e),{},{scale:t})});var Q8=W([Ee,pm,hm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),rE=e=>e.options.defaultTooltipEventType,nE=e=>e.options.validateTooltipEventTypes;function aE(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function cv(e,t){var r=rE(e),n=nE(e);return aE(t,r,n)}function Z8(e){return le(t=>cv(t,e))}var sE=(e,t)=>{var r,n=Number(t);if(!(mn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},J8=e=>e.tooltip.settings,ja={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},e7={itemInteraction:{click:ja,hover:ja},axisInteraction:{click:ja,hover:ja},keyboardInteraction:ja,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},iE=vr({name:"tooltip",initialState:e7,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ye()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,s=un(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=n)},prepare:Ye()},removeTooltipEntrySettings:{reducer(e,t){var r=un(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ye()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:t7,replaceTooltipEntrySettings:r7,removeTooltipEntrySettings:n7,setTooltipSettingsState:a7,setActiveMouseOverItemIndex:oE,mouseLeaveItem:s7,mouseLeaveChart:lE,setActiveClickItemIndex:i7,setMouseOverAxisIndex:cE,setMouseClickAxisIndex:o7,setSyncInteraction:rx,setKeyboardInteraction:nx}=iE.actions,l7=iE.reducer;function Lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(r),!0).forEach(function(n){c7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c7(e,t,r){return(t=u7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u7(e){var t=d7(e,"string");return typeof t=="symbol"?t:t+""}function d7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m7(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function f7(e){return e.index!=null}var uE=(e,t,r,n)=>{if(t==null)return ja;var s=m7(e,t,r);if(s==null)return ja;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(f7(s)){if(i)return $c($c({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return $c($c({},ja),{},{coordinate:s.coordinate})};function p7(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function h7(e,t){var r=p7(e),n=t[0],s=t[1];if(r===void 0)return!1;var i=Math.min(n,s),o=Math.max(n,s);return r>=i&&r<=o}function x7(e,t,r){if(r==null||t==null)return!0;var n=ze(e,t);return n==null||!za(r)?!0:h7(n,r)}var uv=(e,t,r,n)=>{var s=e==null?void 0:e.index;if(s==null)return null;var i=Number(s);if(!ut(i))return s;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(i,l)),c=t[u];return c==null||x7(c,r,n)?String(u):null},dE=(e,t,r,n,s,i,o,l)=>{if(!(i==null||l==null)){var u=o[0],c=u==null?void 0:l(u.positions,i);if(c!=null)return c;var d=s==null?void 0:s[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},mE=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},Yl=e=>e.options.tooltipPayloadSearcher,Yi=e=>e.tooltip;function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){y7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y7(e,t,r){return(t=g7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g7(e){var t=v7(e,"string");return typeof t=="symbol"?t:t+""}function v7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b7(e,t){return e??t}var fE=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:u,dataStartIndex:c,dataEndIndex:d}=r,m=[];return e.reduce((p,h)=>{var y,{dataDefinedOnItem:g,settings:v}=h,x=b7(g,l),b=Array.isArray(x)?WS(x,c,d):x,j=(y=v==null?void 0:v.dataKey)!==null&&y!==void 0?y:n,k=v==null?void 0:v.nameKey,N;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?N=M_(b,n,s):N=i(b,t,u,k),Array.isArray(N))N.forEach(C=>{var _=Rw(Rw({},v),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});p.push(mj({tooltipEntrySettings:_,dataKey:C.dataKey,payload:C.payload,value:ze(C.payload,C.dataKey),name:C.name}))});else{var w;p.push(mj({tooltipEntrySettings:v,dataKey:j,payload:N,value:ze(N,j),name:(w=ze(N,k))!==null&&w!==void 0?w:v==null?void 0:v.name}))}return p},m)}},dv=W([kt,Ee,DC,Lg,Nt],VC),j7=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),w7=W([Nt,Ki],Kg),Gl=W([j7,kt,w7],Hg,{memoizeOptions:{resultEqualityCheck:Dm}}),N7=W([Gl],e=>e.filter(Tm)),k7=W([Gl],Vg,{memoizeOptions:{resultEqualityCheck:Dm}}),Gi=W([k7,Za],qg),_7=W([N7,Za,kt],AC),mv=W([Gi,kt,Gl],Gg),pE=W([kt],Xg),S7=W([kt],e=>e.allowDataOverflow),hE=W([pE,S7],lC),P7=W([Gl],e=>e.filter(Tm)),C7=W([_7,P7,Ul,kC],RC),E7=W([C7,Za,Nt,hE],zC),O7=W([Gl],LC),A7=W([Gi,kt,O7,$m,Nt],Jg,{memoizeOptions:{resultEqualityCheck:Im}}),T7=W([FC,Nt,Ki],Hi),I7=W([T7,Nt],WC),D7=W([BC,Nt,Ki],Hi),M7=W([D7,Nt],KC),L7=W([UC,Nt,Ki],Hi),$7=W([L7,Nt],HC),R7=W([I7,$7,M7],hd),z7=W([kt,pE,hE,E7,A7,R7,Ee,Nt],ev),Xl=W([kt,Ee,Gi,mv,Ul,Nt,z7],tv),F7=W([Xl,kt,dv],av),B7=W([kt,Xl,F7,Nt],iv),xE=e=>{var t=Nt(e),r=Ki(e),n=!1;return ql(e,t,r,n)},yE=W([kt,xE],Om),gE=W([kt,dv,B7,yE],nv),U7=W([Ee,mv,kt,Nt],JC),W7=W([Ee,mv,kt,Nt],eE),K7=(e,t,r,n,s,i,o,l)=>{if(t){var{type:u}=t,c=Ga(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/d:0;return m=l==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?At(s[0]-s[1])*2*m:m,c&&o?o.map((p,h)=>({coordinate:n(p)+m,value:p,index:h,offset:m})):n.domain().map((p,h)=>({coordinate:n(p)+m,value:i?i[p]:p,index:h,offset:m}))}}},da=W([Ee,kt,dv,gE,xE,U7,W7,Nt],K7),fv=W([rE,nE,J8],(e,t,r)=>aE(r.shared,e,t)),vE=e=>e.tooltip.settings.trigger,pv=e=>e.tooltip.settings.defaultIndex,Ql=W([Yi,fv,vE,pv],uE),Ua=W([Ql,Gi,Vl,Xl],uv),bE=W([da,Ua],sE),hv=W([Ql],e=>{if(e)return e.dataKey}),H7=W([Ql],e=>{if(e)return e.graphicalItemId}),jE=W([Yi,fv,vE,pv],mE),V7=W([ia,oa,Ee,jt,da,pv,jE,Yl],dE),q7=W([Ql,V7],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Y7=W([Ql],e=>e.active),G7=W([jE,Ua,Za,Vl,bE,Yl,fv],fE),X7=W([G7],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){Q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q7(e,t,r){return(t=Z7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z7(e){var t=J7(e,"string");return typeof t=="symbol"?t:t+""}function J7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eU=()=>le(kt),tU=()=>{var e=eU(),t=le(da),r=le(gE);return Pi(!e||!r?void 0:Fw(Fw({},e),{},{scale:r}),t)};function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){rU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rU(e,t,r){return(t=nU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nU(e){var t=aU(e,"string");return typeof t=="symbol"?t:t+""}function aU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sU=(e,t,r,n)=>{var s=t.find(i=>i&&i.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:s.coordinate}}return{x:0,y:0}},iU=(e,t,r,n)=>{var s=t.find(c=>c&&c.index===r);if(s){if(e==="centric"){var i=s.coordinate,{radius:o}=n;return Bs(Bs(Bs({},n),ft(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:u}=n;return Bs(Bs(Bs({},n),ft(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function oU(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var wE=(e,t,r,n,s)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var u=0;u<l;u++){var c=u>0?r[u-1].coordinate:r[l-1].coordinate,d=r[u].coordinate,m=u>=l-1?r[0].coordinate:r[u+1].coordinate,p=void 0;if(At(d-c)!==At(m-d)){var h=[];if(At(m-d)===At(s[1]-s[0])){p=m;var y=d+s[1]-s[0];h[0]=Math.min(y,(y+c)/2),h[1]=Math.max(y,(y+c)/2)}else{p=c;var g=m+s[1]-s[0];h[0]=Math.min(d,(g+d)/2),h[1]=Math.max(d,(g+d)/2)}var v=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>v[0]&&e<=v[1]||e>=h[0]&&e<=h[1]){({index:o}=r[u]);break}}else{var x=Math.min(c,m),b=Math.max(c,m);if(e>(x+d)/2&&e<=(b+d)/2){({index:o}=r[u]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},lU=()=>le(Lg),xv=(e,t)=>t,NE=(e,t,r)=>r,yv=(e,t,r,n)=>n,cU=W(da,e=>sm(e,t=>t.coordinate)),gv=W([Yi,xv,NE,yv],uE),vv=W([gv,Gi,Vl,Xl],uv),uU=(e,t,r)=>{if(t!=null){var n=Yi(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},kE=W([Yi,xv,NE,yv],mE),xd=W([ia,oa,Ee,jt,da,yv,kE,Yl],dE),dU=W([gv,xd],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),_E=W([da,vv],sE),mU=W([kE,vv,Za,Vl,_E,Yl,xv],fE),fU=W([gv,vv],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),pU=(e,t,r,n,s,i,o)=>{if(!(!e||!r||!n||!s)&&oU(e,o)){var l=K5(e,t),u=wE(l,i,s,r,n),c=sU(t,s,u,e);return{activeIndex:String(u),activeCoordinate:c}}},hU=(e,t,r,n,s,i,o)=>{if(!(!e||!n||!s||!i||!r)){var l=r6(e,r);if(l){var u=H5(l,t),c=wE(u,o,i,n,s),d=iU(t,i,c,l);return{activeIndex:String(c),activeCoordinate:d}}}},xU=(e,t,r,n,s,i,o,l)=>{if(!(!e||!t||!n||!s||!i))return t==="horizontal"||t==="vertical"?pU(e,t,n,s,i,o,l):hU(e,t,r,n,s,i,o)},yU=W(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),gU=W(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(pt)),r=Array.from(new Set(t));return r.sort((n,s)=>n-s)},{memoizeOptions:{resultEqualityCheck:e8}});function Uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(r),!0).forEach(function(n){vU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vU(e,t,r){return(t=bU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bU(e){var t=jU(e,"string");return typeof t=="symbol"?t:t+""}function jU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wU={},NU={zIndexMap:Object.values(pt).reduce((e,t)=>Ww(Ww({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),wU)},kU=new Set(Object.values(pt));function _U(e){return kU.has(e)}var SE=vr({name:"zIndex",initialState:NU,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ye()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!_U(r)&&delete e.zIndexMap[r])},prepare:Ye()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:s?void 0:n,panoramaElementId:s?n:void 0}},prepare:Ye()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ye()}}}),{registerZIndexPortal:SU,unregisterZIndexPortal:PU,registerZIndexPortalId:CU,unregisterZIndexPortalId:EU}=SE.actions,OU=SE.reducer;function br(e){var{zIndex:t,children:r}=e,n=gR(),s=n&&t!==void 0&&t!==0,i=Jt(),o=Ke();f.useLayoutEffect(()=>s?(o(SU({zIndex:t})),()=>{o(PU({zIndex:t}))}):Pl,[o,t,s]);var l=le(c=>yU(c,t,i));if(!s)return r;if(!l)return null;var u=document.getElementById(l);return u?vl.createPortal(r,u):null}function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ax.apply(null,arguments)}function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){AU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AU(e,t,r){return(t=TU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TU(e){var t=IU(e,"string");return typeof t=="symbol"?t:t+""}function IU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DU(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return f.isValidElement(t)?f.cloneElement(t,n):f.createElement(r,n)}function MU(e){var t,{coordinate:r,payload:n,index:s,offset:i,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:c,chartName:d}=e,m=r,p=n,h=s;if(!u||!m||d!=="ScatterChart"&&c!=="axis")return null;var y,g,v;if(d==="ScatterChart")y=m,g=yz,v=pt.cursorLine;else if(d==="BarChart")y=gz(l,m,i,o),g=vP,v=pt.cursorRectangle;else if(l==="radial"&&$_(m)){var{cx:x,cy:b,radius:j,startAngle:k,endAngle:N}=jP(m);y={cx:x,cy:b,startAngle:k,endAngle:N,innerRadius:j,outerRadius:j},g=NP,v=pt.cursorLine}else y={points:i6(l,m,i)},g=cg,v=pt.cursorLine;var w=typeof u=="object"&&"className"in u?u.className:void 0,C=Rc(Rc(Rc(Rc({stroke:"#ccc",pointerEvents:"none"},i),y),Ss(u)),{},{payload:p,payloadIndex:h,className:Ie("recharts-tooltip-cursor",w)});return f.createElement(br,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},f.createElement(DU,{cursor:u,cursorComp:g,cursorProps:C}))}function LU(e){var t=tU(),r=rP(),n=Il(),s=lU();return t==null||r==null||n==null||s==null?null:f.createElement(MU,ax({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var PE=f.createContext(null),$U=()=>f.useContext(PE),CE={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function i(u,c,d,m,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new s(d,m||u,p),y=r?r+c:c;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],h]:u._events[y].push(h):(u._events[y]=h,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,m;if(this._eventsCount===0)return c;for(m in d=this._events)t.call(d,m)&&c.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c){var d=r?r+c:c,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,h=m.length,y=new Array(h);p<h;p++)y[p]=m[p].fn;return y},l.prototype.listenerCount=function(c){var d=r?r+c:c,m=this._events[d];return m?m.fn?1:m.length:0},l.prototype.emit=function(c,d,m,p,h,y){var g=r?r+c:c;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,b,j;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,m),!0;case 4:return v.fn.call(v.context,d,m,p),!0;case 5:return v.fn.call(v.context,d,m,p,h),!0;case 6:return v.fn.call(v.context,d,m,p,h,y),!0}for(j=1,b=new Array(x-1);j<x;j++)b[j-1]=arguments[j];v.fn.apply(v.context,b)}else{var k=v.length,N;for(j=0;j<k;j++)switch(v[j].once&&this.removeListener(c,v[j].fn,void 0,!0),x){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,d);break;case 3:v[j].fn.call(v[j].context,d,m);break;case 4:v[j].fn.call(v[j].context,d,m,p);break;default:if(!b)for(N=1,b=new Array(x-1);N<x;N++)b[N-1]=arguments[N];v[j].fn.apply(v[j].context,b)}}return!0},l.prototype.on=function(c,d,m){return i(this,c,d,m,!1)},l.prototype.once=function(c,d,m){return i(this,c,d,m,!0)},l.prototype.removeListener=function(c,d,m,p){var h=r?r+c:c;if(!this._events[h])return this;if(!d)return o(this,h),this;var y=this._events[h];if(y.fn)y.fn===d&&(!p||y.once)&&(!m||y.context===m)&&o(this,h);else{for(var g=0,v=[],x=y.length;g<x;g++)(y[g].fn!==d||p&&!y[g].once||m&&y[g].context!==m)&&v.push(y[g]);v.length?this._events[h]=v.length===1?v[0]:v:o(this,h)}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(CE);var RU=CE.exports;const zU=On(RU);var ml=new zU,sx="recharts.syncEvent.tooltip",Hw="recharts.syncEvent.brush";function bv(e,t){if(t){var r=Number.parseInt(t,10);if(!mn(r))return e==null?void 0:e[r]}}var FU={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},EE=vr({name:"options",initialState:FU,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),BU=EE.reducer,{createEventEmitter:UU}=EE.actions;function WU(e){return e.tooltip.syncInteraction}var KU={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},OE=vr({name:"chartData",initialState:KU,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Vw,setDataStartEndIndexes:HU,setComputedData:YG}=OE.actions,VU=OE.reducer,qU=["x","y"];function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){YU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YU(e,t,r){return(t=GU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GU(e){var t=XU(e,"string");return typeof t=="symbol"?t:t+""}function XU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QU(e,t){if(e==null)return{};var r,n,s=ZU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ZU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JU(){var e=le($g),t=le(Rg),r=Ke(),n=le(_C),s=le(da),i=Il(),o=gm(),l=le(u=>u.rootProps.className);f.useEffect(()=>{if(e==null)return Pl;var u=(c,d,m)=>{if(t!==m&&e===c){if(n==="index"){var p;if(o&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var h=d.payload.coordinate,{x:y,y:g}=h,v=QU(h,qU),{x,y:b,width:j,height:k}=d.payload.sourceViewBox,N=Us(Us({},v),{},{x:o.x+(j?(y-x)/j:0)*o.width,y:o.y+(k?(g-b)/k:0)*o.height});r(Us(Us({},d),{},{payload:Us(Us({},d.payload),{},{coordinate:N})}))}else r(d);return}if(s!=null){var w;if(typeof n=="function"){var C={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},_=n(s,C);w=s[_]}else n==="value"&&(w=s.find(F=>String(F.value)===d.payload.label));var{coordinate:P}=d.payload;if(w==null||d.payload.active===!1||P==null||o==null){r(rx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:O,y:S}=P,E=Math.min(O,o.x+o.width),M=Math.min(S,o.y+o.height),A={x:i==="horizontal"?w.coordinate:E,y:i==="horizontal"?M:w.coordinate},T=rx({active:d.payload.active,coordinate:A,dataKey:d.payload.dataKey,index:String(w.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(T)}}};return ml.on(sx,u),()=>{ml.off(sx,u)}},[l,r,t,e,n,s,i,o])}function eW(){var e=le($g),t=le(Rg),r=Ke();f.useEffect(()=>{if(e==null)return Pl;var n=(s,i,o)=>{t!==o&&e===s&&r(HU(i))};return ml.on(Hw,n),()=>{ml.off(Hw,n)}},[r,t,e])}function tW(){var e=Ke();f.useEffect(()=>{e(UU())},[e]),JU(),eW()}function rW(e,t,r,n,s,i){var o=le(h=>uU(h,e,t)),l=le(Rg),u=le($g),c=le(_C),d=le(WU),m=d==null?void 0:d.active,p=gm();f.useEffect(()=>{if(!m&&u!=null&&l!=null){var h=rx({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});ml.emit(sx,u,h,l)}},[m,r,o,s,n,l,u,c,i,p])}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){nW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nW(e,t,r){return(t=aW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aW(e){var t=sW(e,"string");return typeof t=="symbol"?t:t+""}function sW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iW(e){return e.dataKey}function oW(e,t){return f.isValidElement(e)?f.cloneElement(e,t):typeof e=="function"?f.createElement(e,t):f.createElement(XR,t)}var Xw=[],lW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Jf(e){var t,r,n=xt(e,lW),{active:s,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:u,filterNull:c,isAnimationActive:d,offset:m,payloadUniqBy:p,position:h,reverseDirection:y,useTranslate3d:g,wrapperStyle:v,cursor:x,shared:b,trigger:j,defaultIndex:k,portal:N,axisId:w}=n,C=Ke(),_=typeof k=="number"?String(k):k;f.useEffect(()=>{C(a7({shared:b,trigger:j,axisId:w,active:s,defaultIndex:_}))},[C,b,j,w,s,_]);var P=gm(),O=pP(),S=Z8(b),{activeIndex:E,isActive:M}=(t=le(ae=>fU(ae,S,j,_)))!==null&&t!==void 0?t:{},A=le(ae=>mU(ae,S,j,_)),T=le(ae=>_E(ae,S,j,_)),F=le(ae=>dU(ae,S,j,_)),U=A,L=$U(),R=(r=s??M)!==null&&r!==void 0?r:!1,[$,G]=fS([U,R]),I=S==="axis"?T:void 0;rW(S,j,F,I,E,R);var X=N??L;if(X==null||P==null||S==null)return null;var Z=U??Xw;R||(Z=Xw),c&&Z.length&&(Z=tS(Z.filter(ae=>ae.value!=null&&(ae.hide!==!0||n.includeHidden)),p,iW));var D=Z.length>0,Y=f.createElement(nz,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:d,active:R,coordinate:F,hasPayload:D,offset:m,position:h,reverseDirection:y,useTranslate3d:g,viewBox:P,wrapperStyle:v,lastBoundingBox:$,innerRef:G,hasPortalFromProps:!!N},oW(u,Gw(Gw({},n),{},{payload:Z,label:I,active:R,activeIndex:E,coordinate:F,accessibilityLayer:O})));return f.createElement(f.Fragment,null,vl.createPortal(Y,X),R&&f.createElement(LU,{cursor:x,tooltipEventType:S,coordinate:F,payload:Z,index:E}))}var Zl=e=>null;Zl.displayName="Cell";function cW(e,t,r){return(t=uW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uW(e){var t=dW(e,"string");return typeof t=="symbol"?t:t+""}function dW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mW{constructor(t){cW(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){pW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pW(e,t,r){return(t=hW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yW={cacheSize:2e3,enableCache:!0},AE=fW({},yW),Zw=new mW(AE.cacheSize),gW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Jw="recharts_measurement_span";function vW(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(l)}var eN=(e,t)=>{try{var r=document.getElementById(Jw);r||(r=document.createElement("span"),r.setAttribute("id",Jw),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,gW,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Io=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ml.isSsr)return{width:0,height:0};if(!AE.enableCache)return eN(t,r);var n=vW(t,r),s=Zw.get(n);if(s)return s;var i=eN(t,r);return Zw.set(n,i),i},tN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,TE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wW=Object.keys(TE),ni="NaN";function NW(e,t){return e*TE[t]}class ur{static parse(t){var r,[,n,s]=(r=jW.exec(t))!==null&&r!==void 0?r:[];return new ur(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,mn(t)&&(this.unit=""),r!==""&&!bW.test(r)&&(this.num=NaN,this.unit=""),wW.includes(r)&&(this.num=NW(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new ur(NaN,""):new ur(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ur(NaN,""):new ur(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ur(NaN,""):new ur(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ur(NaN,""):new ur(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mn(this.num)}}function IE(e){if(e.includes(ni))return ni;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=tN.exec(t))!==null&&r!==void 0?r:[],o=ur.parse(n??""),l=ur.parse(i??""),u=s==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return ni;t=t.replace(tN,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,m,p]=(c=rN.exec(t))!==null&&c!==void 0?c:[],h=ur.parse(d??""),y=ur.parse(p??""),g=m==="+"?h.add(y):h.subtract(y);if(g.isNaN())return ni;t=t.replace(rN,g.toString())}return t}var nN=/\(([^()]*)\)/;function kW(e){for(var t=e,r;(r=nN.exec(t))!=null;){var[,n]=r;t=t.replace(nN,IE(n))}return t}function _W(e){var t=e.replace(/\s+/g,"");return t=kW(t),t=IE(t),t}function SW(e){try{return _W(e)}catch{return ni}}function ep(e){var t=SW(e.slice(5,-1));return t===ni?"":t}var PW=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],CW=["dx","dy","angle","className","breakAll"];function ix(){return ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ix.apply(null,arguments)}function aN(e,t){if(e==null)return{};var r,n,s=EW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function EW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DE=/[ \f\n\r\t\v\u2028\u2029]+/,ME=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];Ze(t)||(r?s=t.toString().split(""):s=t.toString().split(DE));var i=s.map(l=>({word:l,width:Io(l,n).width})),o=r?0:Io("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function OW(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var LE=(e,t,r,n)=>e.reduce((s,i)=>{var{word:o,width:l}=i,u=s[s.length-1];if(u&&l!=null&&(t==null||n||u.width+l+r<Number(t)))u.words.push(o),u.width+=l+r;else{var c={words:[o],width:l};s.push(c)}return s},[]),$E=e=>e.reduce((t,r)=>t.width>r.width?t:r),AW="",sN=(e,t,r,n,s,i,o,l)=>{var u=e.slice(0,t),c=ME({breakAll:r,style:n,children:u+AW});if(!c)return[!1,[]];var d=LE(c.wordsWithComputedWidth,i,o,l),m=d.length>s||$E(d).width>Number(i);return[m,d]},TW=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:l,breakAll:u}=e,c=ue(i),d=String(o),m=LE(t,n,r,s);if(!c||s)return m;var p=m.length>i||$E(m).width>Number(n);if(!p)return m;for(var h=0,y=d.length-1,g=0,v;h<=y&&g<=d.length-1;){var x=Math.floor((h+y)/2),b=x-1,[j,k]=sN(d,b,u,l,i,n,r,s),[N]=sN(d,x,u,l,i,n,r,s);if(!j&&!N&&(h=x+1),j&&N&&(y=x-1),!j&&N){v=k;break}g++}return v||m},iN=e=>{var t=Ze(e)?[]:e.toString().split(DE);return[{words:t,width:void 0}]},IW=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!Ml.isSsr){var l,u,c=ME({breakAll:i,children:n,style:s});if(c){var{wordsWithComputedWidth:d,spaceWidth:m}=c;l=d,u=m}else return iN(n);return TW({breakAll:i,children:n,maxLines:o,style:s},l,u,t,!!r)}return iN(n)},RE="#808080",DW={angle:0,breakAll:!1,capHeight:"0.71em",fill:RE,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Fm=f.forwardRef((e,t)=>{var r=xt(e,DW),{x:n,y:s,lineHeight:i,capHeight:o,fill:l,scaleToFit:u,textAnchor:c,verticalAnchor:d}=r,m=aN(r,PW),p=f.useMemo(()=>IW({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:h,dy:y,angle:g,className:v,breakAll:x}=m,b=aN(m,CW);if(!Pn(n)||!Pn(s)||p.length===0)return null;var j=Number(n)+(ue(h)?h:0),k=Number(s)+(ue(y)?y:0);if(!ut(j)||!ut(k))return null;var N;switch(d){case"start":N=ep("calc(".concat(o,")"));break;case"middle":N=ep("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:N=ep("calc(".concat(p.length-1," * -").concat(i,")"));break}var w=[];if(u){var C=p[0].width,{width:_}=m;w.push("scale(".concat(ue(_)&&ue(C)?_/C:1,")"))}return g&&w.push("rotate(".concat(g,", ").concat(j,", ").concat(k,")")),w.length&&(b.transform=w.join(" ")),f.createElement("text",ix({},sr(b),{ref:t,x:j,y:k,className:Ie("recharts-text",v),textAnchor:c,fill:l.includes("url")?RE:l}),p.map((P,O)=>{var S=P.words.join(x?"":" ");return f.createElement("tspan",{x:j,dy:O===0?N:i,key:"".concat(S,"-").concat(O)},S)}))});Fm.displayName="Text";var MW=["labelRef"];function LW(e,t){if(e==null)return{};var r,n,s=$W(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $W(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){RW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RW(e,t,r){return(t=zW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zW(e){var t=FW(e,"string");return typeof t=="symbol"?t:t+""}function FW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ln.apply(null,arguments)}var zE=f.createContext(null),BW=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:s,width:i,height:o,children:l}=e,u=f.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:s,width:i,height:o}),[t,r,n,s,i,o]);return f.createElement(zE.Provider,{value:u},l)},FE=()=>{var e=f.useContext(zE),t=gm();return e||tP(t)},UW=f.createContext(null),WW=()=>{var e=f.useContext(UW),t=le(OC);return e||t},KW=e=>{var{value:t,formatter:r}=e,n=Ze(e.children)?t:e.children;return typeof r=="function"?r(n):n},jv=e=>e!=null&&typeof e=="function",HW=(e,t)=>{var r=At(t-e),n=Math.min(Math.abs(t-e),360);return r*n},VW=(e,t,r,n,s)=>{var{offset:i,className:o}=e,{cx:l,cy:u,innerRadius:c,outerRadius:d,startAngle:m,endAngle:p,clockWise:h}=s,y=(c+d)/2,g=HW(m,p),v=g>=0?1:-1,x,b;switch(t){case"insideStart":x=m+v*i,b=h;break;case"insideEnd":x=p-v*i,b=!h;break;case"end":x=p+v*i,b=h;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var j=ft(l,u,y,x),k=ft(l,u,y,x+(b?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(b?0:1,`,
    `).concat(k.x,",").concat(k.y),w=Ze(e.id)?Jo("recharts-radial-line-"):e.id;return f.createElement("text",Ln({},n,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",o)}),f.createElement("defs",null,f.createElement("path",{id:w,d:N})),f.createElement("textPath",{xlinkHref:"#".concat(w)},r))},qW=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:l,endAngle:u}=e,c=(l+u)/2;if(r==="outside"){var{x:d,y:m}=ft(n,s,o+t,c);return{x:d,y:m,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:h,y}=ft(n,s,p,c);return{x:h,y,textAnchor:"middle",verticalAnchor:"middle"}},ox=e=>"cx"in e&&ue(e.cx),YW=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,i;r!=null&&!ox(r)&&(i=r);var{x:o,y:l,upperWidth:u,lowerWidth:c,height:d}=t,m=o,p=o+(u-c)/2,h=(m+p)/2,y=(u+c)/2,g=m+u/2,v=d>=0?1:-1,x=v*n,b=v>0?"end":"start",j=v>0?"start":"end",k=u>=0?1:-1,N=k*n,w=k>0?"end":"start",C=k>0?"start":"end";if(s==="top"){var _={x:m+u/2,y:l-x,textAnchor:"middle",verticalAnchor:b};return ot(ot({},_),i?{height:Math.max(l-i.y,0),width:u}:{})}if(s==="bottom"){var P={x:p+c/2,y:l+d+x,textAnchor:"middle",verticalAnchor:j};return ot(ot({},P),i?{height:Math.max(i.y+i.height-(l+d),0),width:c}:{})}if(s==="left"){var O={x:h-N,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return ot(ot({},O),i?{width:Math.max(O.x-i.x,0),height:d}:{})}if(s==="right"){var S={x:h+y+N,y:l+d/2,textAnchor:C,verticalAnchor:"middle"};return ot(ot({},S),i?{width:Math.max(i.x+i.width-S.x,0),height:d}:{})}var E=i?{width:y,height:d}:{};return s==="insideLeft"?ot({x:h+N,y:l+d/2,textAnchor:C,verticalAnchor:"middle"},E):s==="insideRight"?ot({x:h+y-N,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},E):s==="insideTop"?ot({x:m+u/2,y:l+x,textAnchor:"middle",verticalAnchor:j},E):s==="insideBottom"?ot({x:p+c/2,y:l+d-x,textAnchor:"middle",verticalAnchor:b},E):s==="insideTopLeft"?ot({x:m+N,y:l+x,textAnchor:C,verticalAnchor:j},E):s==="insideTopRight"?ot({x:m+u-N,y:l+x,textAnchor:w,verticalAnchor:j},E):s==="insideBottomLeft"?ot({x:p+N,y:l+d-x,textAnchor:C,verticalAnchor:b},E):s==="insideBottomRight"?ot({x:p+c-N,y:l+d-x,textAnchor:w,verticalAnchor:b},E):s&&typeof s=="object"&&(ue(s.x)||Qn(s.x))&&(ue(s.y)||Qn(s.y))?ot({x:o+Qt(s.x,y),y:l+Qt(s.y,d),textAnchor:"end",verticalAnchor:"end"},E):ot({x:g,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},GW={angle:0,offset:5,zIndex:pt.label,position:"middle",textBreakAll:!1};function ga(e){var t=xt(e,GW),{viewBox:r,position:n,value:s,children:i,content:o,className:l="",textBreakAll:u,labelRef:c}=t,d=WW(),m=FE(),p=n==="center"?m:d??m,h,y,g;if(r==null?h=p:ox(r)?h=r:h=tP(r),!h||Ze(s)&&Ze(i)&&!f.isValidElement(o)&&typeof o!="function")return null;var v=ot(ot({},t),{},{viewBox:h});if(f.isValidElement(o)){var{labelRef:x}=v,b=LW(v,MW);return f.cloneElement(o,b)}if(typeof o=="function"){if(y=f.createElement(o,v),f.isValidElement(y))return y}else y=KW(t);var j=sr(t);if(ox(h)){if(n==="insideStart"||n==="insideEnd"||n==="end")return VW(t,n,y,j,h);g=qW(h,t.offset,t.position)}else g=YW(t,h);return f.createElement(br,{zIndex:t.zIndex},f.createElement(Fm,Ln({ref:c,className:Ie("recharts-label",l)},j,g,{textAnchor:OW(j.textAnchor)?j.textAnchor:g.textAnchor,breakAll:u}),y))}ga.displayName="Label";var XW=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?f.createElement(ga,Ln({key:"label-implicit"},n)):Pn(e)?f.createElement(ga,Ln({key:"label-implicit",value:e},n)):f.isValidElement(e)?e.type===ga?f.cloneElement(e,ot({key:"label-implicit"},n)):f.createElement(ga,Ln({key:"label-implicit",content:e},n)):jv(e)?f.createElement(ga,Ln({key:"label-implicit",content:e},n)):e&&typeof e=="object"?f.createElement(ga,Ln({},e,{key:"label-implicit"},n)):null};function QW(e){var{label:t,labelRef:r}=e,n=FE();return XW(t,n,r)||null}var BE={},UE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(UE);var WE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(WE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UE,r=WE,n=nm;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(BE);var ZW=BE.last;const JW=On(ZW);var e9=["valueAccessor"],t9=["dataKey","clockWise","id","textBreakAll","zIndex"];function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yd.apply(null,arguments)}function lN(e,t){if(e==null)return{};var r,n,s=r9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function r9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var n9=e=>Array.isArray(e.value)?JW(e.value):e.value,KE=f.createContext(void 0),HE=KE.Provider,VE=f.createContext(void 0),a9=VE.Provider;function s9(){return f.useContext(KE)}function i9(){return f.useContext(VE)}function ou(e){var{valueAccessor:t=n9}=e,r=lN(e,e9),{dataKey:n,clockWise:s,id:i,textBreakAll:o,zIndex:l}=r,u=lN(r,t9),c=s9(),d=i9(),m=c||d;return!m||!m.length?null:f.createElement(br,{zIndex:l??pt.label},f.createElement(Dt,{className:"recharts-label-list"},m.map((p,h)=>{var y,g=Ze(n)?t(p,h):ze(p&&p.payload,n),v=Ze(i)?{}:{id:"".concat(i,"-").concat(h)};return f.createElement(ga,yd({key:"label-".concat(h)},sr(p),u,v,{fill:(y=r.fill)!==null&&y!==void 0?y:p.fill,parentViewBox:p.parentViewBox,value:g,textBreakAll:o,viewBox:p.viewBox,index:h,zIndex:0}))})))}ou.displayName="LabelList";function wv(e){var{label:t}=e;return t?t===!0?f.createElement(ou,{key:"labelList-implicit"}):f.isValidElement(t)||jv(t)?f.createElement(ou,{key:"labelList-implicit",content:t}):typeof t=="object"?f.createElement(ou,yd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(null,arguments)}var qE=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=Ie("recharts-dot",s);return ue(t)&&ue(r)&&ue(n)?f.createElement("circle",lx({},Ar(e),Ly(e),{className:i,cx:t,cy:r,r:n})):null},YE=e=>e.graphicalItems.polarItems,o9=W([Je,Wl],Kg),Bm=W([YE,at,o9],Hg),l9=W([Bm],Vg),Um=W([l9,Ig],qg),c9=W([Um,at,Bm],Gg);W([Um,at,Bm],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,o=ze(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ze(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var cN=()=>{},u9=W([Um,at,Bm,$m,Je],Jg),d9=W([at,Qg,Zg,cN,u9,cN,Ee,Je],ev),GE=W([at,Ee,Um,c9,Ul,Je,d9],tv),m9=W([GE,at,Vi],av);W([at,GE,m9,Je],iv);var f9={radiusAxis:{},angleAxis:{}},XE=vr({name:"polarAxis",initialState:f9,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:GG,removeRadiusAxis:XG,addAngleAxis:QG,removeAngleAxis:ZG}=XE.actions,p9=XE.reducer;function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){h9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h9(e,t,r){return(t=x9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x9(e){var t=y9(e,"string");return typeof t=="symbol"?t:t+""}function y9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g9=(e,t)=>t,Nv=W([YE,g9],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),v9=[],kv=(e,t,r)=>(r==null?void 0:r.length)===0?v9:r,QE=W([Ig,Nv,kv],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>dN(dN({},t.presentationProps),i.props))),s!=null)return s}}),b9=W([QE,Nv,kv],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,o=ze(n,t.nameKey,t.name),l;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Fi(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),j9=W([QE,Nv,kv,jt],(e,t,r,n)=>{if(!(t==null||e==null))return bK({offset:n,pieSettings:t,displayedData:e,cells:r})}),ZE={exports:{}},Be={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v=Symbol.for("react.transitional.element"),Sv=Symbol.for("react.portal"),Wm=Symbol.for("react.fragment"),Km=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),Vm=Symbol.for("react.consumer"),qm=Symbol.for("react.context"),Ym=Symbol.for("react.forward_ref"),Gm=Symbol.for("react.suspense"),Xm=Symbol.for("react.suspense_list"),Qm=Symbol.for("react.memo"),Zm=Symbol.for("react.lazy"),w9=Symbol.for("react.view_transition"),N9=Symbol.for("react.client.reference");function Qr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _v:switch(e=e.type,e){case Wm:case Hm:case Km:case Gm:case Xm:case w9:return e;default:switch(e=e&&e.$$typeof,e){case qm:case Ym:case Zm:case Qm:return e;case Vm:return e;default:return t}}case Sv:return t}}}Be.ContextConsumer=Vm;Be.ContextProvider=qm;Be.Element=_v;Be.ForwardRef=Ym;Be.Fragment=Wm;Be.Lazy=Zm;Be.Memo=Qm;Be.Portal=Sv;Be.Profiler=Hm;Be.StrictMode=Km;Be.Suspense=Gm;Be.SuspenseList=Xm;Be.isContextConsumer=function(e){return Qr(e)===Vm};Be.isContextProvider=function(e){return Qr(e)===qm};Be.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_v};Be.isForwardRef=function(e){return Qr(e)===Ym};Be.isFragment=function(e){return Qr(e)===Wm};Be.isLazy=function(e){return Qr(e)===Zm};Be.isMemo=function(e){return Qr(e)===Qm};Be.isPortal=function(e){return Qr(e)===Sv};Be.isProfiler=function(e){return Qr(e)===Hm};Be.isStrictMode=function(e){return Qr(e)===Km};Be.isSuspense=function(e){return Qr(e)===Gm};Be.isSuspenseList=function(e){return Qr(e)===Xm};Be.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Wm||e===Hm||e===Km||e===Gm||e===Xm||typeof e=="object"&&e!==null&&(e.$$typeof===Zm||e.$$typeof===Qm||e.$$typeof===qm||e.$$typeof===Vm||e.$$typeof===Ym||e.$$typeof===N9||e.getModuleId!==void 0)};Be.typeOf=Qr;ZE.exports=Be;var k9=ZE.exports,mN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",fN=null,tp=null,JE=e=>{if(e===fN&&Array.isArray(tp))return tp;var t=[];return f.Children.forEach(e,r=>{Ze(r)||(k9.isFragment(r)?t=t.concat(JE(r.props.children)):t.push(r))}),tp=t,fN=e,t};function Pv(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>mN(s)):n=[mN(t)],JE(e).forEach(s=>{var i=Ps(s,"type.displayName")||Ps(s,"type.name");i&&n.indexOf(i)!==-1&&r.push(s)}),r}var eO=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,tO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(tO);var _9=tO.isPlainObject;const S9=On(_9);function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){P9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P9(e,t,r){return(t=C9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C9(e){var t=E9(e,"string");return typeof t=="symbol"?t:t+""}function E9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(null,arguments)}var xN=(e,t,r,n,s)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},O9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},A9=e=>{var t=xt(e,O9),{x:r,y:n,upperWidth:s,lowerWidth:i,height:o,className:l}=t,{animationEasing:u,animationDuration:c,animationBegin:d,isUpdateAnimationActive:m}=t,p=f.useRef(null),[h,y]=f.useState(-1),g=f.useRef(s),v=f.useRef(i),x=f.useRef(o),b=f.useRef(r),j=f.useRef(n),k=$l(e,"trapezoid-");if(f.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var A=p.current.getTotalLength();A&&y(A)}catch{}},[]),r!==+r||n!==+n||s!==+s||i!==+i||o!==+o||s===0&&i===0||o===0)return null;var N=Ie("recharts-trapezoid",l);if(!m)return f.createElement("g",null,f.createElement("path",gd({},sr(t),{className:N,d:xN(r,n,s,i,o)})));var w=g.current,C=v.current,_=x.current,P=b.current,O=j.current,S="0px ".concat(h===-1?1:h,"px"),E="".concat(h,"px 0px"),M=hP(["strokeDasharray"],c,u);return f.createElement(Ll,{animationId:k,key:k,canBegin:h>0,duration:c,easing:u,isActive:m,begin:d},A=>{var T=Ge(w,s,A),F=Ge(C,i,A),U=Ge(_,o,A),L=Ge(P,r,A),R=Ge(O,n,A);p.current&&(g.current=T,v.current=F,x.current=U,b.current=L,j.current=R);var $=A>0?{transition:M,strokeDasharray:E}:{strokeDasharray:S};return f.createElement("path",gd({},sr(t),{className:N,d:xN(L,R,T,F,U),ref:p,style:hN(hN({},$),t.style)}))})},T9=["option","shapeType","propTransformer","activeClassName"];function I9(e,t){if(e==null)return{};var r,n,s=D9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function D9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){M9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M9(e,t,r){return(t=L9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L9(e){var t=$9(e,"string");return typeof t=="symbol"?t:t+""}function $9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R9(e,t){return vd(vd({},t),e)}function z9(e,t){return e==="symbols"}function gN(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return f.createElement(vP,r);case"trapezoid":return f.createElement(A9,r);case"sector":return f.createElement(NP,r);case"symbols":if(z9(t))return f.createElement(My,r);break;case"curve":return f.createElement(cg,r);default:return null}}function F9(e){return f.isValidElement(e)?e.props:e}function Cv(e){var{option:t,shapeType:r,propTransformer:n=R9,activeClassName:s="recharts-active-shape"}=e,i=I9(e,T9),o;if(f.isValidElement(t))o=f.cloneElement(t,vd(vd({},i),F9(t)));else if(typeof t=="function")o=t(i,i.index);else if(S9(t)&&typeof t!="boolean"){var l=n(t,i);o=f.createElement(gN,{shapeType:r,elementProps:l})}else{var u=i;o=f.createElement(gN,{shapeType:r,elementProps:u})}return i.isActive?f.createElement(Dt,{className:s},o):o}var Ev=(e,t,r)=>{var n=Ke();return(s,i)=>o=>{e==null||e(s,i,o),n(oE({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}},Ov=e=>{var t=Ke();return(r,n)=>s=>{e==null||e(r,n,s),t(s7())}},Av=(e,t,r)=>{var n=Ke();return(s,i)=>o=>{e==null||e(s,i,o),n(i7({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}};function Tv(e){var{tooltipEntrySettings:t}=e,r=Ke(),n=Jt(),s=f.useRef(null);return f.useLayoutEffect(()=>{n||(s.current===null?r(t7(t)):s.current!==t&&r(r7({prev:s.current,next:t})),s.current=t)},[t,r,n]),f.useLayoutEffect(()=>()=>{s.current&&(r(n7(s.current)),s.current=null)},[r]),null}function rO(e){var{legendPayload:t}=e,r=Ke(),n=Jt(),s=f.useRef(null);return f.useLayoutEffect(()=>{n||(s.current===null?r(uP(t)):s.current!==t&&r(dP({prev:s.current,next:t})),s.current=t)},[r,n,t]),f.useLayoutEffect(()=>()=>{s.current&&(r(mP(s.current)),s.current=null)},[r]),null}function B9(e){var{legendPayload:t}=e,r=Ke(),n=le(Ee),s=f.useRef(null);return f.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(s.current===null?r(uP(t)):s.current!==t&&r(dP({prev:s.current,next:t})),s.current=t)},[r,n,t]),f.useLayoutEffect(()=>()=>{s.current&&(r(mP(s.current)),s.current=null)},[r]),null}var rp,U9=()=>{var[e]=f.useState(()=>Jo("uid-"));return e},W9=(rp=n1.useId)!==null&&rp!==void 0?rp:U9;function nO(e,t){var r=W9();return t||(e?"".concat(e,"-").concat(r):r)}var K9=f.createContext(void 0),Iv=e=>{var{id:t,type:r,children:n}=e,s=nO("recharts-".concat(r),t);return f.createElement(K9.Provider,{value:s},n(s))},H9={cartesianItems:[],polarItems:[]},aO=vr({name:"graphicalItems",initialState:H9,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ye()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,s=un(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},prepare:Ye()},removeCartesianGraphicalItem:{reducer(e,t){var r=un(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ye()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ye()},removePolarGraphicalItem:{reducer(e,t){var r=un(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ye()}}}),{addCartesianGraphicalItem:V9,replaceCartesianGraphicalItem:q9,removeCartesianGraphicalItem:Y9,addPolarGraphicalItem:G9,removePolarGraphicalItem:X9}=aO.actions,Q9=aO.reducer,Z9=e=>{var t=Ke(),r=f.useRef(null);return f.useLayoutEffect(()=>{r.current===null?t(V9(e)):r.current!==e&&t(q9({prev:r.current,next:e})),r.current=e},[t,e]),f.useLayoutEffect(()=>()=>{r.current&&(t(Y9(r.current)),r.current=null)},[t]),null},sO=f.memo(Z9);function J9(e){var t=Ke();return f.useLayoutEffect(()=>(t(G9(e)),()=>{t(X9(e))}),[t,e]),null}var eK=["key"],tK=["onMouseEnter","onClick","onMouseLeave"],rK=["id"],nK=["id"];function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){aK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aK(e,t,r){return(t=sK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wa.apply(null,arguments)}function Jm(e,t){if(e==null)return{};var r,n,s=oK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lK(e){var t=f.useMemo(()=>Pv(e.children,Zl),[e.children]),r=le(n=>b9(n,e.id,t));return r==null?null:f.createElement(B9,{legendPayload:r})}var cK=f.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:o,name:l,hide:u,tooltipType:c}=e,d={dataDefinedOnItem:n.map(m=>m.tooltipPayload),positions:n.map(m=>m.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Fi(l,t),hide:u,type:c,color:o,unit:""}};return f.createElement(Tv,{tooltipEntrySettings:d})}),uK=(e,t)=>e>t?"start":e<t?"end":"middle",dK=(e,t,r)=>Qt(typeof t=="function"?t(e):t,r,r*.8),mK=(e,t,r)=>{var{top:n,left:s,width:i,height:o}=t,l=bP(i,o),u=s+Qt(e.cx,i,i/2),c=n+Qt(e.cy,o,o/2),d=Qt(e.innerRadius,l,0),m=dK(r,e.outerRadius,l),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:c,innerRadius:d,outerRadius:m,maxRadius:p}},fK=(e,t)=>{var r=At(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function pK(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var hK=(e,t)=>{if(f.isValidElement(e))return f.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ie("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,s=Jm(t,eK);return f.createElement(cg,Wa({},s,{type:"linear",className:r}))},xK=(e,t,r)=>{if(f.isValidElement(e))return f.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),f.isValidElement(n)))return n;var s=Ie("recharts-pie-label-text",pK(e));return f.createElement(Fm,Wa({},t,{alignmentBaseline:"middle",className:s}),n)};function yK(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=r;if(!n||!s||!t)return null;var l=Ar(r),u=Ss(s),c=Ss(i),d=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,m=t.map((p,h)=>{var y=(p.startAngle+p.endAngle)/2,g=ft(p.cx,p.cy,p.outerRadius+d,y),v=it(it(it(it({},l),p),{},{stroke:"none"},u),{},{index:h,textAnchor:uK(g.x,p.cx)},g),x=it(it(it(it({},l),p),{},{fill:"none",stroke:p.fill},c),{},{index:h,points:[ft(p.cx,p.cy,p.outerRadius,y),g],key:"line"});return f.createElement(br,{zIndex:pt.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(h)},f.createElement(Dt,null,i&&hK(i,x),xK(s,v,ze(p,o))))});return f.createElement(Dt,{className:"recharts-pie-labels"},m)}function gK(e){var{sectors:t,props:r,showLabels:n}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?f.createElement(wv,{label:s}):f.createElement(yK,{sectors:t,props:r,showLabels:n})}function vK(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s,shape:i,id:o}=e,l=le(Ua),u=le(hv),c=le(H7),{onMouseEnter:d,onClick:m,onMouseLeave:p}=s,h=Jm(s,tK),y=Ev(d,s.dataKey,o),g=Ov(p),v=Av(m,s.dataKey,o);return t==null||t.length===0?null:f.createElement(f.Fragment,null,t.map((x,b)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var j=c==null||c===o,k=String(b)===l&&(u==null||s.dataKey===u)&&j,N=l?n:null,w=r&&k?r:N,C=it(it({},x),{},{stroke:x.stroke,tabIndex:-1,[qS]:b,[YS]:s.dataKey});return f.createElement(Dt,Wa({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Cl(h,x,b),{onMouseEnter:y(x,b),onMouseLeave:g(x,b),onClick:v(x,b)}),f.createElement(Cv,Wa({option:i??w,index:b,shapeType:"sector",isActive:k},C)))}))}function bK(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:u,dataKey:c,nameKey:d,tooltipType:m}=r,p=Math.abs(r.minAngle),h=fK(l,u),y=Math.abs(h),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(w=>ze(w,c,0)!==0).length,x=(y>=360?v:v-1)*g,b=y-v*p-x,j=n.reduce((w,C)=>{var _=ze(C,c,0);return w+(ue(_)?_:0)},0),k;if(j>0){var N;k=n.map((w,C)=>{var _=ze(w,c,0),P=ze(w,d,C),O=mK(r,i,w),S=(ue(_)?_:0)/j,E,M=it(it({},w),s&&s[C]&&s[C].props);C?E=N.endAngle+At(h)*g*(_!==0?1:0):E=l;var A=E+At(h)*((_!==0?p:0)+S*b),T=(E+A)/2,F=(O.innerRadius+O.outerRadius)/2,U=[{name:P,value:_,payload:M,dataKey:c,type:m}],L=ft(O.cx,O.cy,F,T);return N=it(it(it(it({},r.presentationProps),{},{percent:S,cornerRadius:typeof o=="string"?parseFloat(o):o,name:P,tooltipPayload:U,midAngle:T,middleRadius:F,tooltipPosition:L},M),O),{},{value:_,dataKey:c,startAngle:E,endAngle:A,payload:M,paddingAngle:At(h)*g}),N})}return k}function jK(e){var{showLabels:t,sectors:r,children:n}=e,s=f.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return f.createElement(a9,{value:t?s:void 0},n)}function wK(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:u,activeShape:c,inactiveShape:d,onAnimationStart:m,onAnimationEnd:p}=t,h=$l(t,"recharts-pie-"),y=r.current,[g,v]=f.useState(!1),x=f.useCallback(()=>{typeof p=="function"&&p(),v(!1)},[p]),b=f.useCallback(()=>{typeof m=="function"&&m(),v(!0)},[m]);return f.createElement(jK,{showLabels:!g,sectors:s},f.createElement(Ll,{animationId:h,begin:o,duration:l,isActive:i,easing:u,onAnimationStart:b,onAnimationEnd:x,key:h},j=>{var k=[],N=s&&s[0],w=N==null?void 0:N.startAngle;return s==null||s.forEach((C,_)=>{var P=y&&y[_],O=_>0?Ps(C,"paddingAngle",0):0;if(P){var S=Ge(P.endAngle-P.startAngle,C.endAngle-C.startAngle,j),E=it(it({},C),{},{startAngle:w+O,endAngle:w+S+O});k.push(E),w=E.endAngle}else{var{endAngle:M,startAngle:A}=C,T=Ge(0,M-A,j),F=it(it({},C),{},{startAngle:w+O,endAngle:w+T+O});k.push(F),w=F.endAngle}}),r.current=k,f.createElement(Dt,null,f.createElement(vK,{sectors:k,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),f.createElement(gK,{showLabels:!g,sectors:s,props:t}),t.children)}var NK={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:pt.area};function kK(e){var{id:t}=e,r=Jm(e,rK),{hide:n,className:s,rootTabIndex:i}=e,o=f.useMemo(()=>Pv(e.children,Zl),[e.children]),l=le(d=>j9(d,t,o)),u=f.useRef(null),c=Ie("recharts-pie",s);return n||l==null?(u.current=null,f.createElement(Dt,{tabIndex:i,className:c})):f.createElement(br,{zIndex:e.zIndex},f.createElement(cK,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),f.createElement(Dt,{tabIndex:i,className:c},f.createElement(wK,{props:it(it({},r),{},{sectors:l}),previousSectorsRef:u,id:t})))}function iO(e){var t=xt(e,NK),{id:r}=t,n=Jm(t,nK),s=Ar(n);return f.createElement(Iv,{id:r,type:"pie"},i=>f.createElement(f.Fragment,null,f.createElement(J9,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),f.createElement(lK,Wa({},n,{id:i})),f.createElement(kK,Wa({},n,{id:i}))))}iO.displayName="Pie";var _K=["points"];function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function np(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){SK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SK(e,t,r){return(t=PK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PK(e){var t=CK(e,"string");return typeof t=="symbol"?t:t+""}function CK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bd.apply(null,arguments)}function EK(e,t){if(e==null)return{};var r,n,s=OK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function OK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AK(e){var{option:t,dotProps:r,className:n}=e;if(f.isValidElement(t))return f.cloneElement(t,r);if(typeof t=="function")return t(r);var s=Ie(n,typeof t!="boolean"?t.className:""),i=r??{},{points:o}=i,l=EK(i,_K);return f.createElement(qE,bd({},l,{className:s}))}function TK(e,t){return e==null?!1:t?!0:e.length===1}function IK(e){var{points:t,dot:r,className:n,dotClassName:s,dataKey:i,baseProps:o,needClip:l,clipPathId:u,zIndex:c=pt.scatter}=e;if(!TK(t,r))return null;var d=eO(r),m=TM(r),p=t.map((y,g)=>{var v,x,b=np(np(np({r:3},o),m),{},{index:g,cx:(v=y.x)!==null&&v!==void 0?v:void 0,cy:(x=y.y)!==null&&x!==void 0?x:void 0,dataKey:i,value:y.value,payload:y.payload,points:t});return f.createElement(AK,{key:"dot-".concat(g),option:r,dotProps:b,className:s})}),h={};return l&&u!=null&&(h.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(u,")")),f.createElement(br,{zIndex:c},f.createElement(Dt,bd({className:n},h),p))}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){DK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DK(e,t,r){return(t=MK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=LK(e,"string");return typeof t=="symbol"?t:t+""}function LK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $K={xAxis:{},yAxis:{},zAxis:{}},oO=vr({name:"cartesianAxis",initialState:$K,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ye()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ye()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ye()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ye()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ye()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ye()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ye()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ye()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ye()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,s=e.yAxis[r];if(s){var i=s.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==s.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=wN(wN({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:RK,replaceXAxis:zK,removeXAxis:FK,addYAxis:BK,replaceYAxis:UK,removeYAxis:WK,addZAxis:JG,replaceZAxis:eX,removeZAxis:tX,updateYAxisWidth:KK}=oO.actions,HK=oO.reducer,VK=W([jt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),qK=W([VK,ia,oa],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Dv=()=>le(qK),YK=()=>le(X7);function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){GK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GK(e,t,r){return(t=XK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=QK(e,"string");return typeof t=="symbol"?t:t+""}function QK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZK=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i,clipPath:o}=e;if(s===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=ap(ap(ap({},l),Ss(s)),Ly(s)),c;return f.isValidElement(s)?c=f.cloneElement(s,u):typeof s=="function"?c=s(u):c=f.createElement(qE,u),f.createElement(Dt,{className:"recharts-active-dot",clipPath:o},c)};function JK(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s,clipPath:i,zIndex:o=pt.activeDot}=e,l=le(Ua),u=YK();if(t==null||u==null)return null;var c=t.find(d=>u.includes(d.payload));return Ze(c)?null:f.createElement(br,{zIndex:o},f.createElement(ZK,{point:c,childIndex:Number(l),mainColor:r,dataKey:s,activeDot:n,clipPath:i}))}var eH="Invariant failed";function tH(e,t){throw new Error(eH)}var rH=["x","y"];function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cx.apply(null,arguments)}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){nH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nH(e,t,r){return(t=aH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aH(e){var t=sH(e,"string");return typeof t=="symbol"?t:t+""}function sH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iH(e,t){if(e==null)return{};var r,n,s=oH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lH(e,t){var{x:r,y:n}=e,s=iH(e,rH),i="".concat(r),o=parseInt(i,10),l="".concat(n),u=parseInt(l,10),c="".concat(t.height||s.height),d=parseInt(c,10),m="".concat(t.width||s.width),p=parseInt(m,10);return po(po(po(po(po({},t),s),o?{x:o}:{}),u?{y:u}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function jd(e){return f.createElement(Cv,cx({shapeType:"rectangle",propTransformer:lH,activeClassName:"recharts-active-bar"},e))}var cH=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(ue(t))return t;var i=ue(n)||Ze(n);return i?t(n,s):(i||tH(),r)}},uH={},lO=vr({name:"errorBars",initialState:uH,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:rX,replaceErrorBar:nX,removeErrorBar:aX}=lO.actions,dH=lO.reducer,mH=["children"];function fH(e,t){if(e==null)return{};var r,n,s=pH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hH={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},xH=f.createContext(hH);function cO(e){var{children:t}=e,r=fH(e,mH);return f.createElement(xH.Provider,{value:r},t)}function Mv(e,t){var r,n,s=le(c=>ca(c,e)),i=le(c=>ua(c,t)),o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:St.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Pt.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function uO(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=Dv(),{needClipX:i,needClipY:o,needClip:l}=Mv(t,r);if(!l||!s)return null;var{x:u,y:c,width:d,height:m}=s;return f.createElement("clipPath",{id:"clipPath-".concat(n)},f.createElement("rect",{x:i?u:u-d/2,y:o?c:c-m/2,width:i?d:d*2,height:o?m:m*2}))}function yH(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ut(e.zIndex)?e.zIndex:t}var gH={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jl=f;function vH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bH=typeof Object.is=="function"?Object.is:vH,jH=Jl.useSyncExternalStore,wH=Jl.useRef,NH=Jl.useEffect,kH=Jl.useMemo,_H=Jl.useDebugValue;gH.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=wH(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=kH(function(){function u(h){if(!c){if(c=!0,d=h,h=n(h),s!==void 0&&o.hasValue){var y=o.value;if(s(y,h))return m=y}return m=h}if(y=m,bH(d,h))return y;var g=n(h);return s!==void 0&&s(y,g)?(d=h,y):(d=h,m=g)}var c=!1,d,m,p=r===void 0?null:r;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,r,n,s]);var l=jH(e,i[0],i[1]);return NH(function(){o.hasValue=!0,o.value=l},[l]),_H(l),l};function SH(e){e()}function PH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){SH(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var _N={notify(){},get:()=>[]};function CH(e,t){let r,n=_N,s=0,i=!1;function o(g){d();const v=n.subscribe(g);let x=!1;return()=>{x||(x=!0,v(),m())}}function l(){n.notify()}function u(){y.onStateChange&&y.onStateChange()}function c(){return i}function d(){s++,r||(r=e.subscribe(u),n=PH())}function m(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=_N)}function p(){i||(i=!0,d())}function h(){i&&(i=!1,m())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:c,trySubscribe:p,tryUnsubscribe:h,getListeners:()=>n};return y}var EH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OH=EH(),AH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",TH=AH(),IH=()=>OH||TH?f.useLayoutEffect:f.useEffect,DH=IH();function SN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function MH(e,t){if(SN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!SN(e[r[s]],t[r[s]]))return!1;return!0}var sp=Symbol.for("react-redux-context"),ip=typeof globalThis<"u"?globalThis:{};function LH(){if(!f.createContext)return{};const e=ip[sp]??(ip[sp]=new Map);let t=e.get(f.createContext);return t||(t=f.createContext(null),e.set(f.createContext,t)),t}var $H=LH();function RH(e){const{children:t,context:r,serverState:n,store:s}=e,i=f.useMemo(()=>{const u=CH(s);return{store:s,subscription:u,getServerState:n?()=>n:void 0}},[s,n]),o=f.useMemo(()=>s.getState(),[s]);DH(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==s.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,o]);const l=r||$H;return f.createElement(l.Provider,{value:i},t)}var zH=RH,FH=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function BH(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function ef(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(FH.has(n)){if(e[n]==null&&t[n]==null)continue;if(!MH(e[n],t[n]))return!1}else if(!BH(e[n],t[n]))return!1;return!0}var UH=["onMouseEnter","onMouseLeave","onClick"],WH=["value","background","tooltipPosition"],KH=["id"],HH=["onMouseEnter","onClick","onMouseLeave"];function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},na.apply(null,arguments)}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){VH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VH(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=YH(e,"string");return typeof t=="symbol"?t:t+""}function YH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wd(e,t){if(e==null)return{};var r,n,s=GH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function GH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XH=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Fi(r,t),payload:e}]},QH=f.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:o,unit:l,tooltipType:u}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:Fi(i,t),hide:o,type:u,color:s,unit:l}};return f.createElement(Tv,{tooltipEntrySettings:c})});function ZH(e){var t=le(Ua),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:u}=i,c=wd(i,UH),d=Ev(o,n),m=Ov(l),p=Av(u,n);if(!s||r==null)return null;var h=Ss(s);return f.createElement(br,{zIndex:yH(s,pt.barBackground)},r.map((y,g)=>{var{value:v,background:x,tooltipPosition:b}=y,j=wd(y,WH);if(!x)return null;var k=d(y,g),N=m(y,g),w=p(y,g),C=tr(tr(tr(tr(tr({option:s,isActive:String(g)===t},j),{},{fill:"#eee"},x),h),Cl(c,y,g)),{},{onMouseEnter:k,onMouseLeave:N,onClick:w,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return f.createElement(jd,na({key:"background-bar-".concat(g)},C))}))}function JH(e){var{showLabels:t,children:r,rects:n}=e,s=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return tr(tr({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return f.createElement(HE,{value:t?s:void 0},r)}function eV(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:i,dataKey:o}=e,l=le(Ua),u=le(hv),c=r&&String(i)===l&&(u==null||o===u),d=c?r:t;return c?f.createElement(br,{zIndex:pt.activeBar},f.createElement(jd,na({},n,{name:String(n.name)},s,{isActive:c,option:d,index:i,dataKey:o}))):f.createElement(jd,na({},n,{name:String(n.name)},s,{isActive:c,option:d,index:i,dataKey:o}))}function tV(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:i}=e;return f.createElement(jd,na({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:s,dataKey:i}))}function rV(e){var t,{data:r,props:n}=e,s=(t=Ar(n))!==null&&t!==void 0?t:{},{id:i}=s,o=wd(s,KH),{shape:l,dataKey:u,activeBar:c}=n,{onMouseEnter:d,onClick:m,onMouseLeave:p}=n,h=wd(n,HH),y=Ev(d,u),g=Ov(p),v=Av(m,u);return r?f.createElement(f.Fragment,null,r.map((x,b)=>f.createElement(Dt,na({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(b),className:"recharts-bar-rectangle"},Cl(h,x,b),{onMouseEnter:y(x,b),onMouseLeave:g(x,b),onClick:v(x,b)}),c?f.createElement(eV,{shape:l,activeBar:c,baseProps:o,entry:x,index:b,dataKey:u}):f.createElement(tV,{shape:l,baseProps:o,entry:x,index:b,dataKey:u})))):null}function nV(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:u,onAnimationEnd:c,onAnimationStart:d}=t,m=r.current,p=$l(t,"recharts-bar-"),[h,y]=f.useState(!1),g=!h,v=f.useCallback(()=>{typeof c=="function"&&c(),y(!1)},[c]),x=f.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return f.createElement(JH,{showLabels:g,rects:n},f.createElement(Ll,{animationId:p,begin:o,duration:l,isActive:i,easing:u,onAnimationEnd:v,onAnimationStart:x,key:p},b=>{var j=b===1?n:n==null?void 0:n.map((k,N)=>{var w=m&&m[N];if(w)return tr(tr({},k),{},{x:Ge(w.x,k.x,b),y:Ge(w.y,k.y,b),width:Ge(w.width,k.width,b),height:Ge(w.height,k.height,b)});if(s==="horizontal"){var C=Ge(0,k.height,b),_=Ge(k.stackedBarStart,k.y,b);return tr(tr({},k),{},{y:_,height:C})}var P=Ge(0,k.width,b),O=Ge(k.stackedBarStart,k.x,b);return tr(tr({},k),{},{width:P,x:O})});return b>0&&(r.current=j??null),j==null?null:f.createElement(Dt,null,f.createElement(rV,{props:t,data:j}))}),f.createElement(wv,{label:t.label}),t.children)}function aV(e){var t=f.useRef(null);return f.createElement(nV,{previousRectanglesRef:t,props:e})}var dO=0,sV=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:ze(e,t)}};class iV extends f.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:o,needClip:l,background:u,id:c}=this.props;if(t||r==null)return null;var d=Ie("recharts-bar",s),m=c;return f.createElement(Dt,{className:d,id:c},l&&f.createElement("defs",null,f.createElement(uO,{clipPathId:m,xAxisId:i,yAxisId:o})),f.createElement(Dt,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(m,")"):void 0},f.createElement(ZH,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),f.createElement(aV,this.props)))}}var oV={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:dO,xAxisId:0,yAxisId:0,zIndex:pt.bar};function lV(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:c,isAnimationActive:d}=e,{needClip:m}=Mv(t,r),p=Il(),h=Jt(),y=Pv(e.children,Zl),g=le(b=>LV(b,t,r,h,e.id,y));if(p!=="vertical"&&p!=="horizontal")return null;var v,x=g==null?void 0:g[0];return x==null||x.height==null||x.width==null?v=0:v=p==="vertical"?x.height/2:x.width/2,f.createElement(cO,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:sV,errorBarOffset:v},f.createElement(iV,na({},e,{layout:p,needClip:m,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:c,isAnimationActive:d})))}function cV(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:u,yAxisTicks:c,stackedData:d,displayedData:m,offset:p,cells:h,parentViewBox:y,dataStartIndex:g}=e,v=t==="horizontal"?l:o,x=d?v.scale.domain():null,b=F5({numericAxis:v}),j=v.scale(b);return m.map((k,N)=>{var w,C,_,P,O,S;d?w=D5(d[N+g],x):(w=ze(k,r),Array.isArray(w)||(w=[b,w]));var E=cH(n,dO)(w[1],N);if(t==="horizontal"){var M,[A,T]=[l.scale(w[0]),l.scale(w[1])];C=cj({axis:o,ticks:u,bandSize:i,offset:s.offset,entry:k,index:N}),_=(M=T??A)!==null&&M!==void 0?M:void 0,P=s.size;var F=A-T;if(O=mn(F)?0:F,S={x:C,y:p.top,width:P,height:p.height},Math.abs(E)>0&&Math.abs(O)<Math.abs(E)){var U=At(O||E)*(Math.abs(E)-Math.abs(O));_-=U,O+=U}}else{var[L,R]=[o.scale(w[0]),o.scale(w[1])];if(C=L,_=cj({axis:l,ticks:c,bandSize:i,offset:s.offset,entry:k,index:N}),P=R-L,O=s.size,S={x:p.left,y:_,width:p.width,height:O},Math.abs(E)>0&&Math.abs(P)<Math.abs(E)){var $=At(P||E)*(Math.abs(E)-Math.abs(P));P+=$}}if(C==null||_==null||P==null||O==null)return null;var G=tr(tr({},k),{},{stackedBarStart:j,x:C,y:_,width:P,height:O,value:d?w:w[1],payload:k,background:S,tooltipPosition:{x:C+P/2,y:_+O/2},parentViewBox:y},h&&h[N]&&h[N].props);return G}).filter(Boolean)}function uV(e){var t=xt(e,oV),r=Jt();return f.createElement(Iv,{id:t.id,type:"bar"},n=>f.createElement(f.Fragment,null,f.createElement(rO,{legendPayload:XH(t)}),f.createElement(QH,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),f.createElement(sO,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:z5(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),f.createElement(br,{zIndex:t.zIndex},f.createElement(lV,na({},t,{id:n})))))}var mO=f.memo(uV,ef);mO.displayName="Bar";function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){dV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dV(e,t,r){return(t=mV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mV(e){var t=fV(e,"string");return typeof t=="symbol"?t:t+""}function fV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pV=(e,t)=>t,hV=(e,t,r)=>r,xV=(e,t,r,n)=>n,yV=(e,t,r,n,s)=>s,ec=W([Mm,yV],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),gV=W([ec],e=>e==null?void 0:e.maxBarSize),vV=(e,t,r,n,s,i)=>i,EN=(e,t,r)=>{var n=r??e;if(!Ze(n))return Qt(n,t,0)},bV=W([Ee,Mm,pV,hV,xV],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),jV=(e,t,r,n)=>{var s=Ee(e);return s==="horizontal"?tx(e,"yAxis",r,n):tx(e,"xAxis",t,n)},wV=(e,t,r)=>{var n=Ee(e);return n==="horizontal"?Dw(e,"xAxis",t):Dw(e,"yAxis",r)},NV=(e,t,r)=>{var n={},s=e.filter(Tm),i=e.filter(c=>c.stackId==null),o=s.reduce((c,d)=>(c[d.stackId]||(c[d.stackId]=[]),c[d.stackId].push(d),c),n),l=Object.entries(o).map(c=>{var[d,m]=c,p=m.map(y=>y.dataKey),h=EN(t,r,m[0].barSize);return{stackId:d,dataKeys:p,barSize:h}}),u=i.map(c=>{var d=[c.dataKey].filter(p=>p!=null),m=EN(t,r,c.barSize);return{stackId:void 0,dataKeys:d,barSize:m}});return[...l,...u]},kV=W([bV,YB,wV],NV),_V=(e,t,r,n,s)=>{var i,o,l=ec(e,t,r,n,s);if(l!=null){var u=Ee(e),c=wC(e),{maxBarSize:d}=l,m=Ze(d)?c:d,p,h;return u==="horizontal"?(p=Ba(e,"xAxis",t,n),h=Fa(e,"xAxis",t,n)):(p=Ba(e,"yAxis",r,n),h=Fa(e,"yAxis",r,n)),(i=(o=Pi(p,h,!0))!==null&&o!==void 0?o:m)!==null&&i!==void 0?i:0}},fO=(e,t,r,n)=>{var s=Ee(e),i,o;return s==="horizontal"?(i=Ba(e,"xAxis",t,n),o=Fa(e,"xAxis",t,n)):(i=Ba(e,"yAxis",r,n),o=Fa(e,"yAxis",r,n)),Pi(i,o)};function SV(e,t,r,n,s){var i=n.length;if(!(i<1)){var o=Qt(e,r,0,!0),l,u=[];if(ut(n[0].barSize)){var c=!1,d=r/i,m=n.reduce((x,b)=>x+(b.barSize||0),0);m+=(i-1)*o,m>=r&&(m-=(i-1)*o,o=0),m>=r&&d>0&&(c=!0,d*=.9,m=i*d);var p=(r-m)/2>>0,h={offset:p-o,size:0};l=n.reduce((x,b)=>{var j,k={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:h.offset+h.size+o,size:c?d:(j=b.barSize)!==null&&j!==void 0?j:0}},N=[...x,k];return h=N[N.length-1].position,N},u)}else{var y=Qt(t,r,0,!0);r-2*y-(i-1)*o<=0&&(o=0);var g=(r-2*y-(i-1)*o)/i;g>1&&(g>>=0);var v=ut(s)?Math.min(g,s):g;l=n.reduce((x,b,j)=>[...x,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:y+(g+o)*j+(g-v)/2,size:v}}],u)}return l}}var PV=(e,t,r,n,s,i,o)=>{var l=Ze(o)?t:o,u=SV(r,n,s!==i?s:i,e,l);return s!==i&&u!=null&&(u=u.map(c=>zc(zc({},c),{},{position:zc(zc({},c.position),{},{offset:c.position.offset-s/2})}))),u},CV=W([kV,wC,qB,NC,_V,fO,gV],PV),EV=(e,t,r,n)=>Ba(e,"xAxis",t,n),OV=(e,t,r,n)=>Ba(e,"yAxis",r,n),AV=(e,t,r,n)=>Fa(e,"xAxis",t,n),TV=(e,t,r,n)=>Fa(e,"yAxis",r,n),IV=W([CV,ec],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),DV=(e,t)=>{var r=Ug(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===r)}}}},MV=W([jV,ec],DV),LV=W([jt,ng,EV,OV,AV,TV,IV,Ee,Em,fO,MV,ec,vV],(e,t,r,n,s,i,o,l,u,c,d,m,p)=>{var{chartData:h,dataStartIndex:y,dataEndIndex:g}=u;if(!(m==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||s==null||i==null||c==null)){var{data:v}=m,x;if(v!=null&&v.length>0?x=v:x=h==null?void 0:h.slice(y,g+1),x!=null)return cV({layout:l,barSettings:m,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,stackedData:d,displayedData:x,offset:e,cells:p,dataStartIndex:y})}}),pO=e=>{var{chartData:t}=e,r=Ke(),n=Jt();return f.useEffect(()=>n?()=>{}:(r(Vw(t)),()=>{r(Vw(void 0))}),[t,r,n]),null},ON={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},hO=vr({name:"brush",initialState:ON,reducers:{setBrushSettings(e,t){return t.payload==null?ON:t.payload}}}),{setBrushSettings:sX}=hO.actions,$V=hO.reducer;function RV(e,t,r){return(t=zV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zV(e){var t=FV(e,"string");return typeof t=="symbol"?t:t+""}function FV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Lv{static create(t){return new Lv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}RV(Lv,"EPS",1e-4);function BV(e){return(e%180+180)%180}var UV=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=BV(s),o=i*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},WV={dots:[],areas:[],lines:[]},xO=vr({name:"referenceElements",initialState:WV,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=un(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=un(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=un(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:iX,removeDot:oX,addArea:lX,removeArea:cX,addLine:uX,removeLine:dX}=xO.actions,KV=xO.reducer,HV=f.createContext(void 0),VV=e=>{var{children:t}=e,[r]=f.useState("".concat(Jo("recharts"),"-clip")),n=Dv();if(n==null)return null;var{x:s,y:i,width:o,height:l}=n;return f.createElement(HV.Provider,{value:r},f.createElement("defs",null,f.createElement("clipPath",{id:r},f.createElement("rect",{x:s,y:i,height:l,width:o}))),t)};function yO(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function qV(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return UV(n,r)}function YV(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Nd(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function GV(e,t){return yO(e,t+1)}function XV(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:l}=t,u=0,c=1,d=o,m=function(){var y=n==null?void 0:n[u];if(y===void 0)return{v:yO(n,c)};var g=u,v,x=()=>(v===void 0&&(v=r(y,g)),v),b=y.coordinate,j=u===0||Nd(e,b,x,d,l);j||(u=0,d=o,c+=1),j&&(d=b+e*(x()/2+s),u+=c)},p;c<=i.length;)if(p=m(),p)return p.v;return[]}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){QV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QV(e,t,r){return(t=ZV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZV(e){var t=JV(e,"string");return typeof t=="symbol"?t:t+""}function JV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eq(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:u}=t,c=function(p){var h=i[p],y,g=()=>(y===void 0&&(y=r(h,p)),y);if(p===o-1){var v=e*(h.coordinate+e*g()/2-u);i[p]=h=qt(qt({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate})}else i[p]=h=qt(qt({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var x=Nd(e,h.tickCoord,g,l,u);x&&(u=h.tickCoord-e*(g()/2+s),i[p]=qt(qt({},h),{},{isShow:!0}))}},d=o-1;d>=0;d--)c(d);return i}function tq(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,{start:u,end:c}=t;if(i){var d=n[l-1],m=r(d,l-1),p=e*(d.coordinate+e*m/2-c);if(o[l-1]=d=qt(qt({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var h=Nd(e,d.tickCoord,()=>m,u,c);h&&(c=d.tickCoord-e*(m/2+s),o[l-1]=qt(qt({},d),{},{isShow:!0}))}}for(var y=i?l-1:l,g=function(b){var j=o[b],k,N=()=>(k===void 0&&(k=r(j,b)),k);if(b===0){var w=e*(j.coordinate-e*N()/2-u);o[b]=j=qt(qt({},j),{},{tickCoord:w<0?j.coordinate-w*e:j.coordinate})}else o[b]=j=qt(qt({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var C=Nd(e,j.tickCoord,N,u,c);C&&(u=j.tickCoord+e*(N()/2+s),o[b]=qt(qt({},j),{},{isShow:!0}))}},v=0;v<y;v++)g(v);return o}function $v(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:u,tickFormatter:c,unit:d,angle:m}=e;if(!s||!s.length||!n)return[];if(ue(u)||Ml.isSsr){var p;return(p=GV(s,ue(u)?u:0))!==null&&p!==void 0?p:[]}var h=[],y=l==="top"||l==="bottom"?"width":"height",g=d&&y==="width"?Io(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(j,k)=>{var N=typeof c=="function"?c(j.value,k):j.value;return y==="width"?qV(Io(N,{fontSize:t,letterSpacing:r}),g,m):Io(N,{fontSize:t,letterSpacing:r})[y]},x=s.length>=2?At(s[1].coordinate-s[0].coordinate):1,b=YV(i,x,y);return u==="equidistantPreserveStart"?XV(x,b,v,s,o):(u==="preserveStart"||u==="preserveStartEnd"?h=tq(x,b,v,s,o,u==="preserveStartEnd"):h=eq(x,b,v,s,o),h.filter(j=>j.isShow))}var rq=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var m=d.getBoundingClientRect();m.width>o&&(o=m.width)}});var l=r?r.getBoundingClientRect().width:0,u=s+i,c=o+u+l+(r?n:0);return Math.round(c)}return 0},nq=["axisLine","width","height","className","hide","ticks","axisType"];function aq(e,t){if(e==null)return{};var r,n,s=sq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function sq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},As.apply(null,arguments)}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){iq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iq(e,t,r){return(t=oq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oq(e){var t=lq(e,"string");return typeof t=="symbol"?t:t+""}function lq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:pt.axis};function cq(e){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var c=dt(dt(dt({},u),Ar(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=dt(dt({},c),{},{x1:t,y1:r+d*s,x2:t+n,y2:r+d*s})}else{var m=+(i==="left"&&!o||i==="right"&&o);c=dt(dt({},c),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+s})}return f.createElement("line",As({},c,{className:Ie("recharts-cartesian-axis-line",Ps(l,"className"))}))}function uq(e,t,r,n,s,i,o,l,u){var c,d,m,p,h,y,g=l?-1:1,v=e.tickSize||o,x=ue(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=d=e.coordinate,p=r+ +!l*s,m=p-g*v,y=m-g*u,h=x;break;case"left":m=p=e.coordinate,d=t+ +!l*n,c=d-g*v,h=c-g*u,y=x;break;case"right":m=p=e.coordinate,d=t+ +l*n,c=d+g*v,h=c+g*u,y=x;break;default:c=d=e.coordinate,p=r+ +l*s,m=p+g*v,y=m+g*u,h=x;break}return{line:{x1:c,y1:m,x2:d,y2:p},tick:{x:h,y}}}function dq(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function mq(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function fq(e){var{option:t,tickProps:r,value:n}=e,s,i=Ie(r.className,"recharts-cartesian-axis-tick-value");if(f.isValidElement(t))s=f.cloneElement(t,dt(dt({},r),{},{className:i}));else if(typeof t=="function")s=t(dt(dt({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Ie(o,t==null?void 0:t.className)),s=f.createElement(Fm,As({},r,{className:o}),n)}return s}var pq=f.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:s,stroke:i,tickFormatter:o,unit:l,padding:u,tickTextProps:c,orientation:d,mirror:m,x:p,y:h,width:y,height:g,tickSize:v,tickMargin:x,fontSize:b,letterSpacing:j,getTicksConfig:k,events:N,axisType:w}=e,C=$v(dt(dt({},k),{},{ticks:r}),b,j),_=dq(d,m),P=mq(d,m),O=Ar(k),S=Ss(n),E={};typeof s=="object"&&(E=s);var M=dt(dt({},O),{},{fill:"none"},E),A=C.map(U=>dt({entry:U},uq(U,p,h,y,g,d,v,m,x))),T=A.map(U=>{var{entry:L,line:R}=U;return f.createElement(Dt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},s&&f.createElement("line",As({},M,R,{className:Ie("recharts-cartesian-axis-tick-line",Ps(s,"className"))})))}),F=A.map((U,L)=>{var{entry:R,tick:$}=U,G=dt(dt(dt(dt({textAnchor:_,verticalAnchor:P},O),{},{stroke:"none",fill:i},S),$),{},{index:L,payload:R,visibleTicksCount:C.length,tickFormatter:o,padding:u},c);return f.createElement(Dt,As({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},Cl(N,R,L)),n&&f.createElement(fq,{option:n,tickProps:G,value:"".concat(typeof o=="function"?o(R.value,L):R.value).concat(l||"")}))});return f.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(w,"-ticks")},F.length>0&&f.createElement(br,{zIndex:pt.label},f.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(w,"-tick-labels"),ref:t},F)),T.length>0&&f.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(w,"-tick-lines")},T))}),hq=f.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:i,hide:o,ticks:l,axisType:u}=e,c=aq(e,nq),[d,m]=f.useState(""),[p,h]=f.useState(""),y=f.useRef(null);f.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return rq({ticks:y.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=f.useCallback(v=>{if(v){var x=v.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=x;var b=x[0];if(b){var j=window.getComputedStyle(b),k=j.fontSize,N=j.letterSpacing;(k!==d||N!==p)&&(m(k),h(N))}}},[d,p]);return o||n!=null&&n<=0||s!=null&&s<=0?null:f.createElement(br,{zIndex:e.zIndex},f.createElement(Dt,{className:Ie("recharts-cartesian-axis",i)},f.createElement(cq,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ar(e)}),f.createElement(pq,{ref:g,axisType:u,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),f.createElement(BW,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},f.createElement(QW,{label:e.label,labelRef:e.labelRef}),e.children)))}),Rv=f.forwardRef((e,t)=>{var r=xt(e,Kn);return f.createElement(hq,As({},r,{ref:t}))});Rv.displayName="CartesianAxis";var xq=["x1","y1","x2","y2","key"],yq=["offset"],gq=["xAxisId","yAxisId"],vq=["xAxisId","yAxisId"];function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bq(e,t,r){return(t=jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=wq(e,"string");return typeof t=="symbol"?t:t+""}function wq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ds.apply(null,arguments)}function kd(e,t){if(e==null)return{};var r,n,s=Nq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Nq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kq=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:l}=e;return f.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function gO(e){var{option:t,lineItemProps:r}=e,n;if(f.isValidElement(t))n=f.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var s,{x1:i,y1:o,x2:l,y2:u,key:c}=r,d=kd(r,xq),m=(s=Ar(d))!==null&&s!==void 0?s:{},{offset:p}=m,h=kd(m,yq);n=f.createElement("line",ds({},h,{x1:i,y1:o,x2:l,y2:u,fill:"none",key:c}))}return n}function _q(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=kd(e,gq),u=s.map((c,d)=>{var m=Gt(Gt({},l),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return f.createElement(gO,{key:"line-".concat(d),option:n,lineItemProps:m})});return f.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Sq(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=kd(e,vq),u=s.map((c,d)=>{var m=Gt(Gt({},l),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return f.createElement(gO,{option:n,lineItemProps:m,key:"line-".concat(d)})});return f.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Pq(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var c=l.map(m=>Math.round(m+s-s)).sort((m,p)=>m-p);s!==c[0]&&c.unshift(0);var d=c.map((m,p)=>{var h=!c[p+1],y=h?s+o-m:c[p+1]-m;if(y<=0)return null;var g=p%t.length;return f.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:y,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Cq(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var c=u.map(m=>Math.round(m+s-s)).sort((m,p)=>m-p);s!==c[0]&&c.unshift(0);var d=c.map((m,p)=>{var h=!c[p+1],y=h?s+o-m:c[p+1]-m;if(y<=0)return null;var g=p%r.length;return f.createElement("rect",{key:"react-".concat(p),x:m,y:i,width:y,height:l,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Eq=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return KS($v(Gt(Gt(Gt({},Kn),r),{},{ticks:HS(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},Oq=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return KS($v(Gt(Gt(Gt({},Kn),r),{},{ticks:HS(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},Aq={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:pt.grid};function ux(e){var t=sg(),r=ig(),n=rP(),s=Gt(Gt({},xt(e,Aq)),{},{x:ue(e.x)?e.x:n.left,y:ue(e.y)?e.y:n.top,width:ue(e.width)?e.width:n.width,height:ue(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:u,width:c,height:d,syncWithTicks:m,horizontalValues:p,verticalValues:h}=s,y=Jt(),g=le(P=>Mw(P,"xAxis",i,y)),v=le(P=>Mw(P,"yAxis",o,y));if(!Cn(c)||!Cn(d)||!ue(l)||!ue(u))return null;var x=s.verticalCoordinatesGenerator||Eq,b=s.horizontalCoordinatesGenerator||Oq,{horizontalPoints:j,verticalPoints:k}=s;if((!j||!j.length)&&typeof b=="function"){var N=p&&p.length,w=b({yAxis:v?Gt(Gt({},v),{},{ticks:N?p:v.ticks}):void 0,width:t??c,height:r??d,offset:n},N?!0:m);Gu(Array.isArray(w),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof w,"]")),Array.isArray(w)&&(j=w)}if((!k||!k.length)&&typeof x=="function"){var C=h&&h.length,_=x({xAxis:g?Gt(Gt({},g),{},{ticks:C?h:g.ticks}):void 0,width:t??c,height:r??d,offset:n},C?!0:m);Gu(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(k=_)}return f.createElement(br,{zIndex:s.zIndex},f.createElement("g",{className:"recharts-cartesian-grid"},f.createElement(kq,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),f.createElement(Pq,ds({},s,{horizontalPoints:j})),f.createElement(Cq,ds({},s,{verticalPoints:k})),f.createElement(_q,ds({},s,{offset:n,horizontalPoints:j,xAxis:g,yAxis:v})),f.createElement(Sq,ds({},s,{offset:n,verticalPoints:k,xAxis:g,yAxis:v}))))}ux.displayName="CartesianGrid";var vO=(e,t,r,n)=>Ba(e,"xAxis",t,n),bO=(e,t,r,n)=>Fa(e,"xAxis",t,n),jO=(e,t,r,n)=>Ba(e,"yAxis",r,n),wO=(e,t,r,n)=>Fa(e,"yAxis",r,n),Tq=W([Ee,vO,jO,bO,wO],(e,t,r,n,s)=>Ga(e,"xAxis")?Pi(t,n,!1):Pi(r,s,!1)),Iq=(e,t,r,n,s)=>s;function Dq(e){return e.type==="line"}var Mq=W([Mm,Iq],(e,t)=>e.filter(Dq).find(r=>r.id===t)),Lq=W([Ee,vO,jO,bO,wO,Mq,Tq,Em],(e,t,r,n,s,i,o,l)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:p}=i,h;if(p!=null&&p.length>0?h=p:h=u==null?void 0:u.slice(c,d+1),h!=null)return nY({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:m,bandSize:o,displayedData:h})}});function $q(e){var t=Ss(e),r=3,n=2;if(t!=null){var{r:s,strokeWidth:i}=t,o=Number(s),l=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var Rq=["id"],zq=["type","layout","connectNulls","needClip","shape"],Fq=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fl.apply(null,arguments)}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){Bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bq(e,t,r){return(t=Uq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uq(e){var t=Wq(e,"string");return typeof t=="symbol"?t:t+""}function Wq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zv(e,t){if(e==null)return{};var r,n,s=Kq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Kq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Hq=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Fi(r,t),payload:e}]},Vq=f.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:u,tooltipType:c}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Fi(o,t),hide:l,type:c,color:n,unit:u}};return f.createElement(Tv,{tooltipEntrySettings:d})}),NO=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function qq(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var Yq=(e,t,r)=>{var n=r.reduce((m,p)=>m+p);if(!n)return NO(t,e);for(var s=Math.floor(e/n),i=e%n,o=t-e,l=[],u=0,c=0;u<r.length;c+=r[u],++u)if(c+r[u]>i){l=[...r.slice(0,u),i-c];break}var d=l.length%2===0?[0,o]:[o];return[...qq(r,s),...l,...d].map(m=>"".concat(m,"px")).join(", ")};function Gq(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:o}=n,{id:l}=n,u=zv(n,Rq),c=Ar(u);return f.createElement(IK,{points:r,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:c,needClip:o,clipPathId:t})}function Xq(e){var{showLabels:t,children:r,points:n}=e,s=f.useMemo(()=>n==null?void 0:n.map(i=>{var o,l,u={x:(o=i.x)!==null&&o!==void 0?o:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return jn(jn({},u),{},{value:i.value,payload:i.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return f.createElement(HE,{value:t?s:void 0},r)}function MN(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i}=e,{type:o,layout:l,connectNulls:u,needClip:c,shape:d}=i,m=zv(i,zq),p=jn(jn({},sr(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:u,strokeDasharray:s??i.strokeDasharray});return f.createElement(f.Fragment,null,(n==null?void 0:n.length)>1&&f.createElement(Cv,fl({shapeType:"curve",option:d},p,{pathRef:r})),f.createElement(Gq,{points:n,clipPathId:t,props:i}))}function Qq(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Zq(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:c,animationDuration:d,animationEasing:m,animateNewValues:p,width:h,height:y,onAnimationEnd:g,onAnimationStart:v}=r,x=s.current,b=$l(o,"recharts-line-"),j=f.useRef(b),[k,N]=f.useState(!1),w=!k,C=f.useCallback(()=>{typeof g=="function"&&g(),N(!1)},[g]),_=f.useCallback(()=>{typeof v=="function"&&v(),N(!0)},[v]),P=Qq(n.current),O=f.useRef(0);j.current!==b&&(O.current=i.current,j.current=b);var S=O.current;return f.createElement(Xq,{points:o,showLabels:w},r.children,f.createElement(Ll,{animationId:b,begin:c,duration:d,isActive:u,easing:m,onAnimationEnd:C,onAnimationStart:_,key:b},E=>{var M=Ge(S,P+S,E),A=Math.min(M,P),T;if(u)if(l){var F="".concat(l).split(/[,\s]+/gim).map(R=>parseFloat(R));T=Yq(A,P,F)}else T=NO(P,A);else T=l==null?void 0:String(l);if(E>0&&P>0&&(s.current=o,i.current=Math.max(i.current,A)),x){var U=x.length/o.length,L=E===1?o:o.map((R,$)=>{var G=Math.floor($*U);if(x[G]){var I=x[G];return jn(jn({},R),{},{x:Ge(I.x,R.x,E),y:Ge(I.y,R.y,E)})}return p?jn(jn({},R),{},{x:Ge(h*2,R.x,E),y:Ge(y/2,R.y,E)}):jn(jn({},R),{},{x:R.x,y:R.y})});return s.current=L,f.createElement(MN,{props:r,points:L,clipPathId:t,pathRef:n,strokeDasharray:T})}return f.createElement(MN,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:T})}),f.createElement(wv,{label:r.label}))}function Jq(e){var{clipPathId:t,props:r}=e,n=f.useRef(null),s=f.useRef(0),i=f.useRef(null);return f.createElement(Zq,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:i})}var eY=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:ze(e.payload,t)}};class tY extends f.Component{render(){var{hide:t,dot:r,points:n,className:s,xAxisId:i,yAxisId:o,top:l,left:u,width:c,height:d,id:m,needClip:p,zIndex:h}=this.props;if(t)return null;var y=Ie("recharts-line",s),g=m,{r:v,strokeWidth:x}=$q(r),b=eO(r),j=v*2+x,k=p?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return f.createElement(br,{zIndex:h},f.createElement(Dt,{className:y},p&&f.createElement("defs",null,f.createElement(uO,{clipPathId:g,xAxisId:i,yAxisId:o}),!b&&f.createElement("clipPath",{id:"clipPath-dots-".concat(g)},f.createElement("rect",{x:u-j/2,y:l-j/2,width:c+j,height:d+j}))),f.createElement(cO,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:eY,errorBarOffset:0},f.createElement(Jq,{props:this.props,clipPathId:g}))),f.createElement(JK,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var kO={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:pt.line,type:"linear"};function rY(e){var t=xt(e,kO),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:u,hide:c,isAnimationActive:d,label:m,legendType:p,xAxisId:h,yAxisId:y,id:g}=t,v=zv(t,Fq),{needClip:x}=Mv(h,y),b=Dv(),j=Il(),k=Jt(),N=le(O=>Lq(O,h,y,k,g));if(j!=="horizontal"&&j!=="vertical"||N==null||b==null)return null;var{height:w,width:C,x:_,y:P}=b;return f.createElement(tY,fl({},v,{id:g,connectNulls:l,dot:u,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:c,label:m,legendType:p,xAxisId:h,yAxisId:y,points:N,layout:j,height:w,width:C,left:_,top:P,needClip:x}))}function nY(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:u}=e;return u.map((c,d)=>{var m=ze(c,o);if(t==="horizontal"){var p=lj({axis:r,ticks:s,bandSize:l,entry:c,index:d}),h=Ze(m)?null:n.scale(m);return{x:p,y:h,value:m,payload:c}}var y=Ze(m)?null:r.scale(m),g=lj({axis:n,ticks:i,bandSize:l,entry:c,index:d});return y==null||g==null?null:{x:y,y:g,value:m,payload:c}}).filter(Boolean)}function aY(e){var t=xt(e,kO),r=Jt();return f.createElement(Iv,{id:t.id,type:"line"},n=>f.createElement(f.Fragment,null,f.createElement(rO,{legendPayload:Hq(t)}),f.createElement(Vq,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),f.createElement(sO,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),f.createElement(rY,fl({},t,{id:n}))))}var dx=f.memo(aY,ef);dx.displayName="Line";var sY=["domain","range"],iY=["domain","range"];function LN(e,t){if(e==null)return{};var r,n,s=oY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $N(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function _O(e,t){if(e===t)return!0;var{domain:r,range:n}=e,s=LN(e,sY),{domain:i,range:o}=t,l=LN(t,iY);return!$N(r,i)||!$N(n,o)?!1:ef(s,l)}var lY=["dangerouslySetInnerHTML","ticks"],cY=["id"];function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mx.apply(null,arguments)}function RN(e,t){if(e==null)return{};var r,n,s=uY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function uY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dY(e){var t=Ke(),r=f.useRef(null);return f.useLayoutEffect(()=>{r.current===null?t(RK(e)):r.current!==e&&t(zK({prev:r.current,next:e})),r.current=e},[e,t]),f.useLayoutEffect(()=>()=>{r.current&&(t(FK(r.current)),r.current=null)},[t]),null}var mY=e=>{var{xAxisId:t,className:r}=e,n=le(ng),s=Jt(),i="xAxis",o=le(v=>qi(v,i,t,s)),l=le(v=>tE(v,i,t,s)),u=le(v=>QC(v,t)),c=le(v=>H8(v,t)),d=le(v=>TC(v,t));if(u==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:m,ticks:p}=e,h=RN(e,lY),{id:y}=d,g=RN(d,cY);return f.createElement(Rv,mx({},h,g,{scale:o,x:c.x,y:c.y,width:u.width,height:u.height,className:Ie("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l,axisType:i}))},fY={allowDataOverflow:St.allowDataOverflow,allowDecimals:St.allowDecimals,allowDuplicatedCategory:St.allowDuplicatedCategory,angle:St.angle,axisLine:Kn.axisLine,height:St.height,hide:!1,includeHidden:St.includeHidden,interval:St.interval,minTickGap:St.minTickGap,mirror:St.mirror,orientation:St.orientation,padding:St.padding,reversed:St.reversed,scale:St.scale,tick:St.tick,tickCount:St.tickCount,tickLine:Kn.tickLine,tickSize:Kn.tickSize,type:St.type,xAxisId:0},pY=e=>{var t=xt(e,fY);return f.createElement(f.Fragment,null,f.createElement(dY,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),f.createElement(mY,t))},fx=f.memo(pY,_O);fx.displayName="XAxis";var hY=["dangerouslySetInnerHTML","ticks"],xY=["id"];function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},px.apply(null,arguments)}function zN(e,t){if(e==null)return{};var r,n,s=yY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gY(e){var t=Ke(),r=f.useRef(null);return f.useLayoutEffect(()=>{r.current===null?t(BK(e)):r.current!==e&&t(UK({prev:r.current,next:e})),r.current=e},[e,t]),f.useLayoutEffect(()=>()=>{r.current&&(t(WK(r.current)),r.current=null)},[t]),null}var vY=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,i=f.useRef(null),o=f.useRef(null),l=le(ng),u=Jt(),c=Ke(),d="yAxis",m=le(N=>qi(N,d,t,u)),p=le(N=>ZC(N,t)),h=le(N=>q8(N,t)),y=le(N=>tE(N,d,t,u)),g=le(N=>IC(N,t));if(f.useLayoutEffect(()=>{if(!(n!=="auto"||!p||jv(s)||f.isValidElement(s)||g==null)){var N=i.current;if(N){var w=N.getCalculatedWidth();Math.round(p.width)!==Math.round(w)&&c(KK({id:t,width:w}))}}},[y,p,c,s,t,n,g]),p==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:x}=e,b=zN(e,hY),{id:j}=g,k=zN(g,xY);return f.createElement(Rv,px({},b,k,{ref:i,labelRef:o,scale:m,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Ie("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:y,axisType:d}))},bY={allowDataOverflow:Pt.allowDataOverflow,allowDecimals:Pt.allowDecimals,allowDuplicatedCategory:Pt.allowDuplicatedCategory,angle:Pt.angle,axisLine:Kn.axisLine,hide:!1,includeHidden:Pt.includeHidden,interval:Pt.interval,minTickGap:Pt.minTickGap,mirror:Pt.mirror,orientation:Pt.orientation,padding:Pt.padding,reversed:Pt.reversed,scale:Pt.scale,tick:Pt.tick,tickCount:Pt.tickCount,tickLine:Kn.tickLine,tickSize:Kn.tickSize,type:Pt.type,width:Pt.width,yAxisId:0},jY=e=>{var t=xt(e,bY);return f.createElement(f.Fragment,null,f.createElement(gY,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),f.createElement(vY,t))},hx=f.memo(jY,_O);hx.displayName="YAxis";var wY=(e,t)=>t,Fv=W([wY,Ee,OC,Nt,yE,da,cU,jt],xU),Bv=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},SO=qr("mouseClick"),PO=Al();PO.startListening({actionCreator:SO,effect:(e,t)=>{var r=e.payload,n=Fv(t.getState(),Bv(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(o7({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var xx=qr("mouseMove"),CO=Al(),Fc=null;CO.startListening({actionCreator:xx,effect:(e,t)=>{var r=e.payload;Fc!==null&&cancelAnimationFrame(Fc);var n=Bv(r);Fc=requestAnimationFrame(()=>{var s=t.getState(),i=cv(s,s.tooltip.settings.shared);if(i==="axis"){var o=Fv(s,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(cE({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(lE())}Fc=null})}});var FN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},EO=vr({name:"rootProps",initialState:FN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:FN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),NY=EO.reducer,{updateOptions:kY}=EO.actions,OO=vr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:_Y}=OO.actions,SY=OO.reducer,AO=qr("keyDown"),TO=qr("focus"),Uv=Al();Uv.startListening({actionCreator:AO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=uv(s,Gi(r),Vl(r),Xl(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=da(r);if(i==="Enter"){var c=xd(r,"axis","hover",String(s.index));t.dispatch(nx({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var d=Q8(r),m=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,h=l+p*m;if(!(u==null||h>=u.length||h<0)){var y=xd(r,"axis","hover",String(h));t.dispatch(nx({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}}});Uv.startListening({actionCreator:TO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=xd(r,"axis","hover",String(i));t.dispatch(nx({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Rr=qr("externalEvent"),IO=Al(),op=new Map;IO.startListening({actionCreator:Rr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var s=n.type,i=op.get(s);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:q7(l),activeDataKey:hv(l),activeIndex:Ua(l),activeLabel:bE(l),activeTooltipIndex:Ua(l),isTooltipActive:Y7(l)};r(u,n)}finally{op.delete(s)}});op.set(s,o)}}});var PY=W([Yi],e=>e.tooltipItemPayloads),CY=W([PY,Yl,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),DO=qr("touchMove"),MO=Al();MO.startListening({actionCreator:DO,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),s=cv(n,n.tooltip.settings.shared);if(s==="axis"){var i=Fv(n,Bv({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(cE({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(qS),d=(o=u.getAttribute(YS))!==null&&o!==void 0?o:void 0,m=CY(t.getState(),c,d);t.dispatch(oE({activeDataKey:d,activeIndex:c,activeCoordinate:m}))}}}});var EY=hS({brush:$V,cartesianAxis:HK,chartData:VU,errorBars:dH,graphicalItems:Q9,layout:C5,legend:TR,options:BU,polarAxis:p9,polarOptions:SY,referenceElements:KV,rootProps:NY,tooltip:l7,zIndex:OU}),OY=function(t){return J$({reducer:EY,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([PO.middleware,CO.middleware,Uv.middleware,IO.middleware,MO.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(OS({type:"raf"}))},devTools:Ml.devToolsEnabled})};function LO(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=Jt(),i=f.useRef(null);if(s)return r;i.current==null&&(i.current=OY(t));var o=Vy;return f.createElement(zH,{context:o,store:i.current},r)}function AY(e){var{layout:t,margin:r}=e,n=Ke(),s=Jt();return f.useEffect(()=>{s||(n(_5(t)),n(k5(r)))},[n,s,t,r]),null}var $O=f.memo(AY,ef);function RO(e){var t=Ke();return f.useEffect(()=>{t(kY(e))},[t,e]),null}function BN(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",s=nO("".concat(n).concat(t)),i=Ke();return f.useLayoutEffect(()=>(i(CU({zIndex:t,elementId:s,isPanorama:r})),()=>{i(EU({zIndex:t,isPanorama:r}))}),[i,t,s,r]),f.createElement("g",{tabIndex:-1,id:s})}function UN(e){var{children:t,isPanorama:r}=e,n=le(gU);if(!n||n.length===0)return t;var s=n.filter(o=>o<0),i=n.filter(o=>o>0);return f.createElement(f.Fragment,null,s.map(o=>f.createElement(BN,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>f.createElement(BN,{key:o,zIndex:o,isPanorama:r})))}var TY=["children"];function IY(e,t){if(e==null)return{};var r,n,s=DY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function DY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(null,arguments)}var MY={width:"100%",height:"100%",display:"block"},LY=f.forwardRef((e,t)=>{var r=sg(),n=ig(),s=pP();if(!Cn(r)||!Cn(n))return null;var{children:i,otherAttributes:o,title:l,desc:u}=e,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=s?0:void 0,typeof o.role=="string"?d=o.role:d=s?"application":void 0),f.createElement(Oy,_d({},o,{title:l,desc:u,role:d,tabIndex:c,width:r,height:n,style:MY,ref:t}),i)}),$Y=e=>{var{children:t}=e,r=le(ym);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return f.createElement(Oy,{width:n,height:s,x:o,y:i},t)},WN=f.forwardRef((e,t)=>{var{children:r}=e,n=IY(e,TY),s=Jt();return s?f.createElement($Y,null,f.createElement(UN,{isPanorama:!0},r)):f.createElement(LY,_d({ref:t},n),f.createElement(UN,{isPanorama:!1},r))});function RY(){var e=Ke(),[t,r]=f.useState(null),n=le(V5);return f.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;ut(i)&&i!==n&&e(P5(i))}},[t,e,n]),r}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){FY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FY(e,t,r){return(t=BY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BY(e){var t=UY(e,"string");return typeof t=="symbol"?t:t+""}function UY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ts.apply(null,arguments)}var WY=()=>(tW(),null);function Sd(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var KY=f.forwardRef((e,t)=>{var r,n,s=f.useRef(null),[i,o]=f.useState({containerWidth:Sd((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Sd((n=e.style)===null||n===void 0?void 0:n.height)}),l=f.useCallback((c,d)=>{o(m=>{var p=Math.round(c),h=Math.round(d);return m.containerWidth===p&&m.containerHeight===h?m:{containerWidth:p,containerHeight:h}})},[]),u=f.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:m}=c.getBoundingClientRect();l(d,m);var p=y=>{var{width:g,height:v}=y[0].contentRect;l(g,v)},h=new ResizeObserver(p);h.observe(c),s.current=h}},[t,l]);return f.useEffect(()=>()=>{var c=s.current;c!=null&&c.disconnect()},[l]),f.createElement(f.Fragment,null,f.createElement(vm,{width:i.containerWidth,height:i.containerHeight}),f.createElement("div",Ts({ref:u},e)))}),HY=f.forwardRef((e,t)=>{var{width:r,height:n}=e,[s,i]=f.useState({containerWidth:Sd(r),containerHeight:Sd(n)}),o=f.useCallback((u,c)=>{i(d=>{var m=Math.round(u),p=Math.round(c);return d.containerWidth===m&&d.containerHeight===p?d:{containerWidth:m,containerHeight:p}})},[]),l=f.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:c,height:d}=u.getBoundingClientRect();o(c,d)}},[t,o]);return f.createElement(f.Fragment,null,f.createElement(vm,{width:s.containerWidth,height:s.containerHeight}),f.createElement("div",Ts({ref:l},e)))}),VY=f.forwardRef((e,t)=>{var{width:r,height:n}=e;return f.createElement(f.Fragment,null,f.createElement(vm,{width:r,height:n}),f.createElement("div",Ts({ref:t},e)))}),qY=f.forwardRef((e,t)=>{var{width:r,height:n}=e;return Qn(r)||Qn(n)?f.createElement(HY,Ts({},e,{ref:t})):f.createElement(VY,Ts({},e,{ref:t}))});function YY(e){return e===!0?KY:qY}var GY=f.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:c,onMouseLeave:d,onMouseMove:m,onMouseUp:p,onTouchEnd:h,onTouchMove:y,onTouchStart:g,style:v,width:x,responsive:b,dispatchTouchEvents:j=!0}=e,k=f.useRef(null),N=Ke(),[w,C]=f.useState(null),[_,P]=f.useState(null),O=RY(),S=ag(),E=(S==null?void 0:S.width)>0?S.width:x,M=(S==null?void 0:S.height)>0?S.height:s,A=f.useCallback(K=>{O(K),typeof t=="function"&&t(K),C(K),P(K),K!=null&&(k.current=K)},[O,t,C,P]),T=f.useCallback(K=>{N(SO(K)),N(Rr({handler:i,reactEvent:K}))},[N,i]),F=f.useCallback(K=>{N(xx(K)),N(Rr({handler:c,reactEvent:K}))},[N,c]),U=f.useCallback(K=>{N(lE()),N(Rr({handler:d,reactEvent:K}))},[N,d]),L=f.useCallback(K=>{N(xx(K)),N(Rr({handler:m,reactEvent:K}))},[N,m]),R=f.useCallback(()=>{N(TO())},[N]),$=f.useCallback(K=>{N(AO(K.key))},[N]),G=f.useCallback(K=>{N(Rr({handler:o,reactEvent:K}))},[N,o]),I=f.useCallback(K=>{N(Rr({handler:l,reactEvent:K}))},[N,l]),X=f.useCallback(K=>{N(Rr({handler:u,reactEvent:K}))},[N,u]),Z=f.useCallback(K=>{N(Rr({handler:p,reactEvent:K}))},[N,p]),D=f.useCallback(K=>{N(Rr({handler:g,reactEvent:K}))},[N,g]),Y=f.useCallback(K=>{j&&N(DO(K)),N(Rr({handler:y,reactEvent:K}))},[N,j,y]),ae=f.useCallback(K=>{N(Rr({handler:h,reactEvent:K}))},[N,h]),se=YY(b);return f.createElement(PE.Provider,{value:w},f.createElement(h_.Provider,{value:_},f.createElement(se,{width:E??(v==null?void 0:v.width),height:M??(v==null?void 0:v.height),className:Ie("recharts-wrapper",n),style:zY({position:"relative",cursor:"default",width:E,height:M},v),onClick:T,onContextMenu:G,onDoubleClick:I,onFocus:R,onKeyDown:$,onMouseDown:X,onMouseEnter:F,onMouseLeave:U,onMouseMove:L,onMouseUp:Z,onTouchEnd:ae,onTouchMove:Y,onTouchStart:D,ref:A},f.createElement(WY,null),r)))}),XY=["width","height","responsive","children","className","style","compact","title","desc"];function QY(e,t){if(e==null)return{};var r,n,s=ZY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ZY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zO=f.forwardRef((e,t)=>{var{width:r,height:n,responsive:s,children:i,className:o,style:l,compact:u,title:c,desc:d}=e,m=QY(e,XY),p=Ar(m);return u?f.createElement(f.Fragment,null,f.createElement(vm,{width:r,height:n}),f.createElement(WN,{otherAttributes:p,title:c,desc:d},i)):f.createElement(GY,{className:o,style:l,width:r,height:n,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},f.createElement(WN,{otherAttributes:p,title:c,desc:d,ref:t},f.createElement(VV,null,i)))});function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yx.apply(null,arguments)}var JY={top:5,right:5,bottom:5,left:5},eG={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:JY,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},FO=f.forwardRef(function(t,r){var n,s=xt(t.categoricalChartProps,eG),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:c}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return f.createElement(LO,{preloadedState:{options:d},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:i},f.createElement(pO,{chartData:c.data}),f.createElement($O,{layout:s.layout,margin:s.margin}),f.createElement(RO,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),f.createElement(zO,yx({},s,{ref:r})))}),tG=["axis"],rG=f.forwardRef((e,t)=>f.createElement(FO,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tG,tooltipPayloadSearcher:bv,categoricalChartProps:e,ref:t})),nG=["axis","item"],aG=f.forwardRef((e,t)=>f.createElement(FO,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nG,tooltipPayloadSearcher:bv,categoricalChartProps:e,ref:t}));function sG(e){var t=Ke();return f.useEffect(()=>{t(_Y(e))},[t,e]),null}var iG=["layout"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(null,arguments)}function oG(e,t){if(e==null)return{};var r,n,s=lG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cG={top:5,right:5,bottom:5,left:5},BO={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:cG,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},uG=f.forwardRef(function(t,r){var n,s=xt(t.categoricalChartProps,BO),{layout:i}=s,o=oG(s,iG),{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,m={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return f.createElement(LO,{preloadedState:{options:m},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:l},f.createElement(pO,{chartData:s.data}),f.createElement($O,{layout:i,margin:s.margin}),f.createElement(RO,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),f.createElement(sG,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),f.createElement(zO,gx({},o,{ref:r})))});function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function VN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){dG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dG(e,t,r){return(t=mG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mG(e){var t=fG(e,"string");return typeof t=="symbol"?t:t+""}function fG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pG=["item"],hG=VN(VN({},BO),{},{layout:"centric",startAngle:0,endAngle:360}),xG=f.forwardRef((e,t)=>{var r=xt(e,hG);return f.createElement(uG,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pG,tooltipPayloadSearcher:bv,categoricalChartProps:r,ref:t})});const UO=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},yG=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);return UO(t)},lp=()=>UO(new Date);function gG(){const{api:e}=ye(),[t,r]=f.useState("profit"),[n,s]=f.useState(!1),[i,o]=f.useState(!1),[l,u]=f.useState(null),[c,d]=f.useState(null),[m,p]=f.useState(null),[h,y]=f.useState(null),[g,v]=f.useState(yG()),[x,b]=f.useState(lp()),[j,k]=f.useState(""),[N,w]=f.useState(null),[C,_]=f.useState(!1),[P,O]=f.useState([]),[S,E]=f.useState({expense_date:lp(),expense_type:" ",amount:"",description:"",document_number:""}),[M,A]=f.useState(!1),[T,F]=f.useState({tax_system:null,rate:0}),[U,L]=f.useState(!1),[R,$]=f.useState([]),[G,I]=f.useState(""),[X,Z]=f.useState([]),[D,Y]=f.useState([]),ae=async B=>{var we,ge;const ne=B.target.files[0];if(!ne)return;s(!0);const ie=new FormData;ie.append("file",ne);try{const Ne=await e.post("/api/ozon-reports/upload-order-realization",ie,{headers:{"Content-Type":"multipart/form-data"}});q.success(` ${Ne.data.statistics.transactions_parsed} `),K()}catch(Ne){q.error(": "+(((ge=(we=Ne.response)==null?void 0:we.data)==null?void 0:ge.detail)||Ne.message))}s(!1),B.target.value=""},se=async(B,ne)=>{var ge,Ne;const ie=B.target.files[0];if(!ie)return;s(!0);const we=new FormData;we.append("file",ie);try{let Me="",pe="";switch(ne){case"loyalty":Me="/api/ozon-reports/upload-loyalty-report",pe="   ";break;case"acquiring":Me="/api/ozon-reports/upload-acquiring-report",pe="   ";break;case"rfbs":Me="/api/ozon-reports/upload-rfbs-logistics",pe="   rFBS ";break;default:throw new Error("  ")}const Se=await e.post(Me,we,{headers:{"Content-Type":"multipart/form-data"}});q.success(pe),K()}catch(Me){q.error(": "+(((Ne=(ge=Me.response)==null?void 0:ge.data)==null?void 0:Ne.detail)||Me.message))}s(!1),B.target.value=""},K=async()=>{o(!0);try{const B={period_start:g,period_end:x};if(j&&(B.tag_filter=j),G&&(B.product_filter=G),t==="profit"){const ne=await e.get("/api/ozon-reports/calculate-profit",{params:B});u(ne.data)}else if(t==="sales"){const ne=await e.get("/api/ozon-reports/sales-report",{params:B});d(ne.data)}else if(t==="trends"){const ne=await e.get("/api/ozon-reports/trends",{params:{period_start:g,period_end:x}});y(ne.data)}else{const ne=await e.get("/api/ozon-reports/transactions-list",{params:{...B,limit:100,offset:0}});p(ne.data)}}catch{q.error(" ")}o(!1)},de=async()=>{try{const B=await e.get("/api/ozon-reports/expenses",{params:{period_start:g,period_end:x}});O(B.data.expenses||[])}catch(B){console.error("  ",B)}},fe=async()=>{var B,ne;if(!S.amount||parseFloat(S.amount)<=0){q.error(" ");return}try{await e.post("/api/ozon-reports/add-expense",S),q.success(" "),E({expense_date:lp(),expense_type:" ",amount:"",description:"",document_number:""}),_(!1),await de(),await K()}catch(ie){q.error(": "+(((ne=(B=ie.response)==null?void 0:B.data)==null?void 0:ne.detail)||ie.message))}},Q=async B=>{if(confirm(" ?"))try{await e.delete(`/api/ozon-reports/expense/${B}`),q.success(" "),await de(),await K()}catch{q.error(" ")}},_e=async()=>{try{const B=await e.get("/api/ozon-reports/tax-settings");F(B.data)}catch(B){console.error("   ",B)}},xe=async B=>{try{await e.post("/api/ozon-reports/tax-settings",{tax_system:B}),q.success(" "),await _e(),await K(),A(!1)}catch{q.error(" ")}},Ae=async()=>{try{const B=await e.get("/api/ozon-reports/reports-history");$(B.data.reports||[])}catch(B){console.error("  ",B)}},H=async B=>{if(confirm("     ?"))try{const ne=await e.delete(`/api/ozon-reports/report/${B}`);q.success(` : ${ne.data.deleted_transactions}`),await Ae(),await K()}catch{q.error(" ")}},te=async()=>{try{const B=await e.get("/api/ozon-reports/products-list");Z(B.data.products||[])}catch(B){console.error("  ",B)}},me=async()=>{try{const B=await e.get("/api/ozon-reports/tags-list");Y(B.data.tags||[])}catch(B){console.error("  ",B)}},be=async()=>{try{const B={period_start:g,period_end:x};j&&(B.tag_filter=j);const ne=await e.get("/api/ozon-reports/export-excel",{params:B,responseType:"blob"}),ie=window.URL.createObjectURL(new Blob([ne.data])),we=document.createElement("a");we.href=ie,we.setAttribute("download",`ozon_report_${g}_${x}.xlsx`),document.body.appendChild(we),we.click(),we.remove(),q.success(" !")}catch{q.error(" ")}};f.useEffect(()=>{_e(),Ae(),te(),me()},[]),f.useEffect(()=>{(l||c||m||h)&&(K(),de())},[t]);const z=B=>(!B&&B!==0&&(B=0),new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(B)),re=B=>`${(B||0).toFixed(2)}%`;return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"  "}),a.jsx("p",{className:"comment",children:"//     Ozon"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>A(!M),className:"btn-secondary text-sm px-4",children:" "}),a.jsx("button",{onClick:()=>L(!U),className:"btn-secondary text-sm px-4",children:" "})]})]}),M&&a.jsxs("div",{className:"card-neon p-6 bg-mm-gray bg-opacity-30",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase",children:" "}),a.jsx("button",{onClick:()=>A(!1),className:"text-mm-text-secondary hover:text-mm-cyan",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[a.jsxs("button",{onClick:()=>xe("usn_income"),className:`p-4 rounded border-2 transition-colors ${(T==null?void 0:T.tax_system)==="usn_income"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:" "}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"6%  "})]}),a.jsxs("button",{onClick:()=>xe("usn_income_expense"),className:`p-4 rounded border-2 transition-colors ${(T==null?void 0:T.tax_system)==="usn_income_expense"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:" -"}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"15%  "})]}),a.jsxs("button",{onClick:()=>xe("osn"),className:`p-4 rounded border-2 transition-colors ${(T==null?void 0:T.tax_system)==="osn"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:""}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"20%   "})]}),a.jsxs("button",{onClick:()=>xe("patent"),className:`p-4 rounded border-2 transition-colors ${(T==null?void 0:T.tax_system)==="patent"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:""}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"6% "})]}),a.jsxs("button",{onClick:()=>xe("eshn"),className:`p-4 rounded border-2 transition-colors ${(T==null?void 0:T.tax_system)==="eshn"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:""}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"6%  /"})]}),a.jsxs("button",{onClick:()=>{F({tax_system:null,rate:0}),xe(null)},className:`p-4 rounded border-2 transition-colors ${T!=null&&T.tax_system?"border-mm-border hover:border-mm-cyan":"border-mm-cyan bg-mm-cyan bg-opacity-10"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-text-secondary",children:" "}),a.jsx("div",{className:"text-sm text-mm-text-tertiary mt-1",children:" "})]})]}),(T==null?void 0:T.tax_system)&&a.jsx("div",{className:"mt-4 p-3 bg-mm-black rounded border border-mm-border",children:a.jsxs("div",{className:"text-sm font-mono text-mm-cyan",children:[" : ",T.tax_system==="usn_income"?"  6%":T.tax_system==="usn_income_expense"?" - 15%":T.tax_system==="osn"?" 20%":T.tax_system==="patent"?" 6%":T.tax_system==="eshn"?" 6%":" "]})})]}),U&&a.jsxs("div",{className:"card-neon p-6 bg-mm-gray bg-opacity-30",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase",children:"  "}),a.jsx("button",{onClick:()=>L(!1),className:"text-mm-text-secondary hover:text-mm-cyan",children:""})]}),R.length===0?a.jsx("div",{className:"text-center py-8 text-mm-text-secondary",children:"  "}):a.jsx("div",{className:"space-y-2",children:R.map(B=>{var ne,ie;return a.jsxs("div",{className:"flex justify-between items-center bg-mm-black p-4 rounded border border-mm-border",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-mono text-mm-cyan",children:new Date(B.uploaded_at).toLocaleString("ru-RU")}),a.jsx("span",{className:"text-xs bg-mm-border px-2 py-1 rounded",children:B.report_type==="order_realization"?" ":B.report_type})]}),a.jsx("div",{className:"text-sm text-mm-text mt-1",children:B.file_name}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary mt-1",children:[": ",((ne=B.summary)==null?void 0:ne.total_transactions)||0," | : ",z(((ie=B.summary)==null?void 0:ie.total_revenue)||0)]})]}),a.jsx("button",{onClick:()=>H(B._id),className:"text-mm-red hover:text-mm-text text-sm ml-4",children:""})]},B._id)})})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex gap-2 mb-6",children:[a.jsxs("button",{onClick:()=>r("profit"),className:`px-6 py-3 rounded font-mono text-sm ${t==="profit"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(_l,{className:"inline mr-2"})," "]}),a.jsxs("button",{onClick:()=>r("sales"),className:`px-6 py-3 rounded font-mono text-sm ${t==="sales"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(Vk,{className:"inline mr-2"})," "]}),a.jsxs("button",{onClick:()=>r("transactions"),className:`px-6 py-3 rounded font-mono text-sm ${t==="transactions"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(MD,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>r("trends"),className:`px-6 py-3 rounded font-mono text-sm ${t==="trends"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(TD,{className:"inline mr-2"}),""]})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsx("input",{type:"date",value:g,onChange:B=>v(B.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsx("input",{type:"date",value:x,onChange:B=>b(B.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsxs("select",{value:j,onChange:B=>k(B.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none",children:[a.jsx("option",{value:"",children:" "}),D.map(B=>a.jsx("option",{value:B,children:B},B))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsxs("select",{value:G,onChange:B=>I(B.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none",children:[a.jsx("option",{value:"",children:" "}),X.map(B=>a.jsxs("option",{value:B.article,children:[B.article," - ",B.name.substring(0,40),"..."]},B.article))]})]}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("button",{onClick:K,disabled:i,className:"btn-primary flex-1",children:i?"...":""}),a.jsx("button",{onClick:be,className:"btn-secondary px-4",children:a.jsx(Wt,{})})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-mm-border space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(rr,{}),n?"...":" ",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:ae,disabled:n,className:"hidden"})]}),a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(rr,{}),"  ",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:B=>se(B,"loyalty"),disabled:n,className:"hidden"})]}),a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(rr,{}),"",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:B=>se(B,"acquiring"),disabled:n,className:"hidden"})]}),a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(rr,{})," rFBS",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:B=>se(B,"rfbs"),disabled:n,className:"hidden"})]})]}),a.jsx("p",{className:"text-xs text-mm-text-tertiary font-mono",children:"//      Ozon (  )"})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-mm-border",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"text-sm font-mono text-mm-cyan uppercase",children:" "}),a.jsx("button",{onClick:()=>_(!C),className:"btn-secondary text-xs px-3 py-1",children:C?"":"+ "})]}),C&&a.jsxs("div",{className:"bg-mm-gray bg-opacity-10 p-4 rounded border border-mm-border mb-3",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:""}),a.jsx("input",{type:"date",value:S.expense_date,onChange:B=>E({...S,expense_date:B.target.value}),className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:" "}),a.jsxs("select",{value:S.expense_type,onChange:B=>E({...S,expense_type:B.target.value}),className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm",children:[a.jsx("option",{children:" "}),a.jsx("option",{children:" "}),a.jsx("option",{children:""}),a.jsx("option",{children:""}),a.jsx("option",{children:""}),a.jsx("option",{children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:" ()"}),a.jsx("input",{type:"number",value:S.amount,onChange:B=>E({...S,amount:B.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:" "}),a.jsx("input",{type:"text",value:S.document_number,onChange:B=>E({...S,document_number:B.target.value}),placeholder:"",className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:""}),a.jsx("input",{type:"text",value:S.description,onChange:B=>E({...S,description:B.target.value}),placeholder:"",className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]})]}),a.jsx("button",{onClick:fe,className:"btn-primary mt-3",children:" "})]}),P.length>0&&a.jsxs("div",{className:"space-y-2",children:[P.map(B=>a.jsxs("div",{className:"flex justify-between items-center bg-mm-gray bg-opacity-10 p-3 rounded border border-mm-border",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-mono text-mm-cyan",children:new Date(B.expense_date).toLocaleDateString("ru-RU")}),a.jsx("span",{className:"text-xs bg-mm-border px-2 py-1 rounded",children:B.expense_type}),a.jsx("span",{className:"text-sm font-mono text-mm-text",children:z(B.amount)})]}),B.description&&a.jsx("div",{className:"text-xs text-mm-text-secondary mt-1",children:B.description}),B.document_number&&a.jsxs("div",{className:"text-xs text-mm-text-tertiary mt-1",children:[" ",B.document_number]})]}),a.jsx("button",{onClick:()=>Q(B._id),className:"text-mm-red hover:text-mm-text text-sm",children:""})]},B._id)),a.jsxs("div",{className:"text-right text-sm font-mono text-mm-cyan pt-2 border-t border-mm-border",children:[": ",z(P.reduce((B,ne)=>B+ne.amount,0))]})]})]})]})]}),i?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// ..."})}):t==="profit"&&l?a.jsx(vG,{data:l,fmt:z,pct:re}):t==="sales"&&c?a.jsx(bG,{data:c,fmt:z}):t==="trends"&&h?a.jsx(wG,{data:h,fmt:z}):t==="transactions"&&m?a.jsx(jG,{data:m,fmt:z,expandedRow:N,setExpandedRow:w}):a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-text-secondary",children:'    ""'})})]})}function vG({data:e,fmt:t,pct:r}){var n,s,i,o,l,u,c,d,m,p,h,y,g,v,x,b,j,k,N,w,C,_,P,O,S,E,M,A,T,F,U,L,R,$,G,I,X;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:" "}),a.jsx("div",{className:"text-3xl font-mono text-mm-cyan mb-2",children:t((n=e.revenue)==null?void 0:n.net_revenue)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:((i=(s=e.revenue)==null?void 0:s.returns)==null?void 0:i.total_returned)>0?`: ${(l=(o=e.revenue)==null?void 0:o.returns)==null?void 0:l.returned_quantity} .`:`: ${t((u=e.revenue)==null?void 0:u.gross_revenue)}`})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:""}),a.jsx("div",{className:"text-3xl font-mono text-mm-red mb-2",children:t((c=e.cogs)==null?void 0:c.total)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:(d=e.statistics)!=null&&d.cogs_coverage?`: ${e.statistics.cogs_coverage.coverage_pct}%`:`${r((m=e.cogs)==null?void 0:m.percentage)}`})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:""}),a.jsx("div",{className:"text-3xl font-mono text-mm-red mb-2",children:t((p=e.expenses)==null?void 0:p.total)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:" Ozon"})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:" "}),a.jsx("div",{className:"text-3xl font-mono text-mm-green mb-2",children:t((h=e.profit)==null?void 0:h.net_profit)}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:[": ",r((y=e.profit)==null?void 0:y.net_margin_pct)]})]})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:""}),a.jsxs("div",{className:"space-y-3 font-mono text-sm",children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:t((g=e.revenue)==null?void 0:g.realized)})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"+   "}),a.jsxs("span",{className:"text-mm-cyan",children:["+",t((v=e.revenue)==null?void 0:v.loyalty_payments)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"+   "}),a.jsxs("span",{className:"text-mm-cyan",children:["+",t((x=e.revenue)==null?void 0:x.discount_points)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-bold text-mm-cyan",children:[a.jsx("span",{children:"=  "}),a.jsx("span",{children:t((b=e.revenue)==null?void 0:b.gross_revenue)})]}),((j=e.revenue)==null?void 0:j.returns)&&e.revenue.returns.total_returned>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border bg-mm-gray bg-opacity-20",children:[a.jsxs("span",{className:"text-mm-text-secondary",children:["-  (",e.revenue.returns.returned_quantity," .)"]}),a.jsxs("span",{className:"text-mm-red",children:["-",t(e.revenue.returns.total_returned)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t(e.revenue.returns.returned_amount)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t(e.revenue.returns.returned_discounts)]})]}),e.revenue.returns.returned_loyalty>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t(e.revenue.returns.returned_loyalty)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  ()"}),a.jsxs("span",{className:"text-mm-cyan",children:["+",t(e.revenue.returns.returned_commission_back)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-semibold",children:[a.jsx("span",{children:"=  "}),a.jsx("span",{children:t((k=e.revenue)==null?void 0:k.net_revenue)})]})]}),e.cogs&&e.cogs.total>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border bg-mm-gray bg-opacity-20",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-   (COGS)"}),a.jsxs("span",{className:"text-mm-red",children:["-",t(e.cogs.total)]})]}),((N=e.statistics)==null?void 0:N.cogs_coverage)&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsxs("span",{className:"text-mm-text-tertiary",children:[" : ",e.statistics.cogs_coverage.items_with_price,"  ",e.statistics.cogs_coverage.items_with_price+e.statistics.cogs_coverage.items_missing_price,"  (",e.statistics.cogs_coverage.coverage_pct,"%)"]}),a.jsx("span",{className:"text-mm-text-tertiary",children:r(e.cogs.percentage)})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-semibold text-mm-cyan",children:[a.jsx("span",{children:"=  "}),a.jsx("span",{children:t((w=e.profit)==null?void 0:w.gross_profit)})]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-   Ozon"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((C=e.expenses)==null?void 0:C.ozon_base_commission)]})]}),((_=e.expenses)==null?void 0:_.loyalty_programs)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-   ()"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((P=e.expenses)==null?void 0:P.loyalty_programs)]})]}),((O=e.expenses)==null?void 0:O.acquiring)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"- "}),a.jsxs("span",{className:"text-mm-red",children:["-",t((S=e.expenses)==null?void 0:S.acquiring)]})]}),((E=e.expenses)==null?void 0:E.rfbs_logistics)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-  rFBS"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((M=e.expenses)==null?void 0:M.rfbs_logistics)]})]}),((A=e.expenses)==null?void 0:A.fbo_fbs_services)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-  FBO/FBS"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((T=e.expenses)==null?void 0:T.fbo_fbs_services)]})]}),((F=e.expenses)==null?void 0:F.manual_expenses)>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border bg-mm-gray bg-opacity-20",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-  "}),a.jsxs("span",{className:"text-mm-red",children:["-",t((U=e.expenses)==null?void 0:U.manual_expenses)]})]}),((L=e.expenses)==null?void 0:L.manual_by_type)&&Object.keys(e.expenses.manual_by_type).length>0&&Object.entries(e.expenses.manual_by_type).map(([Z,D])=>a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsxs("span",{className:"text-mm-text-tertiary",children:[" ",Z]}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t(D)]})]},Z))]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-bold",children:[a.jsx("span",{className:"text-mm-red",children:"=  "}),a.jsxs("span",{className:"text-mm-red",children:["-",t((R=e.expenses)==null?void 0:R.total)]})]}),(($=e.profit)==null?void 0:$.operating_profit)!==void 0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-semibold text-mm-cyan",children:[a.jsx("span",{children:"=  "}),a.jsxs("span",{children:[t((G=e.profit)==null?void 0:G.operating_profit)," (",r((I=e.profit)==null?void 0:I.operating_margin_pct),")"]})]}),e.taxes&&e.taxes.amount>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsxs("span",{className:"text-mm-text-secondary",children:["-  (",e.taxes.system==="usn_income"?" 6%":e.taxes.system==="usn_income_expense"?" 15%":e.taxes.system==="osn"?" 20%":e.taxes.system==="patent"?" 6%":e.taxes.system==="eshn"?" 6%":e.taxes.rate+"%",")"]}),a.jsxs("span",{className:"text-mm-red",children:["-",t(e.taxes.amount)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-t-2 border-mm-cyan font-bold text-lg",children:[a.jsx("span",{className:"text-mm-green",children:"=  "}),a.jsx("span",{className:"text-mm-green",children:t((X=e.profit)==null?void 0:X.net_profit)})]})]})]})]})}function bG({data:e,fmt:t}){return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:"  "}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"-"}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:(e.products||[]).map((r,n)=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-cyan",children:r.article}),a.jsxs("td",{className:"py-3 px-4 text-sm",children:[(r.product_name||"").substring(0,50),"..."]}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:r.quantity}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:t(r.revenue)}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm text-mm-red",children:t(r.commission)})]},n))})]})}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-mm-border font-mono",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" :"}),a.jsx("span",{children:e.total_products||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" :"}),a.jsxs("span",{children:[e.total_quantity||0," "]})]}),a.jsxs("div",{className:"flex justify-between font-bold text-mm-cyan",children:[a.jsx("span",{children:" :"}),a.jsx("span",{children:t(e.total_revenue)})]})]})]})})}function jG({data:e,fmt:t,expandedRow:r,setExpandedRow:n}){return a.jsxs("div",{className:"card-neon",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono"})]})}),a.jsx("tbody",{children:(e.transactions||[]).map(s=>{const i=s.total_to_accrue||0,o=r===s._id;return a.jsxs(J.Fragment,{children:[a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(s.operation_date).toLocaleDateString("ru-RU")}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-cyan",children:s.posting_number}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:s.article}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:t(s.realized_amount)}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm text-mm-red",children:t(s.ozon_base_commission)}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm font-bold text-mm-green",children:t(i)}),a.jsx("td",{className:"py-3 px-4 text-center",children:a.jsx("button",{onClick:()=>n(o?null:s._id),className:"text-mm-cyan hover:text-mm-text",children:o?a.jsx(Hk,{size:20}):a.jsx(kl,{size:20})})})]}),o&&a.jsx("tr",{className:"bg-mm-gray border-b border-mm-border",children:a.jsx("td",{colSpan:"7",className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6 font-mono text-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-cyan uppercase mb-3",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:"SKU:"})," ",s.sku]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"})," ",s.product_name]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"})," ",s.quantity]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"})," ",t(s.price)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-cyan uppercase mb-3",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:":"}),a.jsx("span",{children:t(s.realized_amount)})]}),a.jsxs("div",{className:"flex justify-between text-mm-cyan",children:[a.jsx("span",{children:"+ :"}),a.jsxs("span",{children:["+",t(s.loyalty_payments)]})]}),a.jsxs("div",{className:"flex justify-between text-mm-cyan",children:[a.jsx("span",{children:"+ :"}),a.jsxs("span",{children:["+",t(s.discount_points)]})]}),a.jsxs("div",{className:"flex justify-between text-mm-red",children:[a.jsx("span",{children:"- :"}),a.jsxs("span",{children:["-",t(s.ozon_base_commission)]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-mm-green",children:[a.jsx("span",{children:":"}),a.jsx("span",{children:t(i)})]})]})]})]})})})]},s._id)})})]})}),a.jsxs("div",{className:"p-4 text-sm text-mm-text-secondary font-mono",children:[": ",e.total_count||0," "]})]})}function wG({data:e,fmt:t}){if(!e||!e.trends||e.trends.length===0)return a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-text-secondary",children:"   "})});const r=e.trends;r.reduce((o,l)=>o+l.revenue,0);const n=r.reduce((o,l)=>o+l.returns,0),i=[{name:" Ozon",value:r.reduce((o,l)=>o+l.commission,0),color:"#ff4444"},{name:"",value:n,color:"#ff8844"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:"   "}),a.jsx(Ff,{width:"100%",height:300,children:a.jsxs(rG,{data:r,children:[a.jsx(ux,{strokeDasharray:"3 3",stroke:"#333"}),a.jsx(fx,{dataKey:"date",stroke:"#888",style:{fontSize:"12px",fontFamily:"monospace"}}),a.jsx(hx,{stroke:"#888",style:{fontSize:"12px",fontFamily:"monospace"},tickFormatter:o=>`${(o/1e3).toFixed(0)}k`}),a.jsx(Jf,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #00ffff",borderRadius:"4px",fontFamily:"monospace",fontSize:"12px"},formatter:o=>t(o)}),a.jsx(fP,{wrapperStyle:{fontFamily:"monospace",fontSize:"12px"}}),a.jsx(dx,{type:"monotone",dataKey:"revenue",stroke:"#00ffff",strokeWidth:2,name:"",dot:{fill:"#00ffff",r:4}}),a.jsx(dx,{type:"monotone",dataKey:"profit",stroke:"#00ff88",strokeWidth:2,name:"",dot:{fill:"#00ff88",r:4}})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:" "}),a.jsx(Ff,{width:"100%",height:250,children:a.jsxs(xG,{children:[a.jsx(iO,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o}: ${(l*100).toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:i.map((o,l)=>a.jsx(Zl,{fill:o.color},`cell-${l}`))}),a.jsx(Jf,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #00ffff",fontFamily:"monospace"},formatter:o=>t(o)})]})})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:"  "}),a.jsx(Ff,{width:"100%",height:250,children:a.jsxs(aG,{data:r,children:[a.jsx(ux,{strokeDasharray:"3 3",stroke:"#333"}),a.jsx(fx,{dataKey:"date",stroke:"#888",style:{fontSize:"10px",fontFamily:"monospace"}}),a.jsx(hx,{stroke:"#888",style:{fontSize:"12px",fontFamily:"monospace"}}),a.jsx(Jf,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #00ffff",fontFamily:"monospace"}}),a.jsx(mO,{dataKey:"transactions",fill:"#00ffff",name:""})]})})]})]})]})}function NG(){const{api:e}=ye(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState(!1),[l,u]=f.useState(null),[c,d]=f.useState(""),[m,p]=f.useState({}),[h,y]=f.useState({total:0,with_price:0}),g=async()=>{s(!0);try{const N=await e.get("/api/ozon-reports/products-with-prices");r(N.data.products),y({total:N.data.total,with_price:N.data.with_price})}catch{q.error("  ")}s(!1)};f.useEffect(()=>{g()},[]);const v=N=>{u(N._id),d(N.purchase_price||"")},x=()=>{const N=t.find(w=>w._id===l);N&&(p({...m,[N.article]:parseFloat(c)||0}),r(t.map(w=>w._id===l?{...w,purchase_price:parseFloat(c)||0}:w))),u(null),d("")},b=async()=>{var N,w;if(Object.keys(m).length===0){q.info("   ");return}o(!0);try{const C=await e.post("/api/ozon-reports/update-purchase-prices",m);q.success(` ${C.data.updated} `),p({}),await g()}catch(C){q.error(" : "+(((w=(N=C.response)==null?void 0:N.data)==null?void 0:w.detail)||C.message))}o(!1)},j=()=>{const N=["article,purchase_price"];t.forEach(P=>{N.push(`${P.article},${P.purchase_price||0}`)});const w=new Blob([N.join(`
`)],{type:"text/csv"}),C=window.URL.createObjectURL(w),_=document.createElement("a");_.href=C,_.setAttribute("download","purchase_prices.csv"),document.body.appendChild(_),_.click(),_.remove(),q.success(" ")},k=N=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(N||0);return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:" "}),a.jsx("p",{className:"comment",children:"//    (COGS)"})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"border border-mm-border rounded p-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-1",children:" "}),a.jsx("div",{className:"text-2xl font-mono text-mm-cyan",children:h.total})]}),a.jsxs("div",{className:"border border-mm-border rounded p-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-1",children:" "}),a.jsx("div",{className:"text-2xl font-mono text-mm-green",children:h.with_price})]}),a.jsxs("div",{className:"border border-mm-border rounded p-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-1",children:""}),a.jsxs("div",{className:"text-2xl font-mono text-mm-text",children:[h.total>0?(h.with_price/h.total*100).toFixed(1):0,"%"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:b,disabled:i||Object.keys(m).length===0,className:"btn-primary",children:[a.jsx(bi,{className:"inline mr-2"}),i?"...":` (${Object.keys(m).length})`]}),a.jsxs("button",{onClick:j,className:"btn-secondary",children:[a.jsx(Wt,{className:"inline mr-2"})," CSV"]}),a.jsxs("label",{className:"btn-secondary cursor-pointer",children:[a.jsx(rr,{className:"inline mr-2"}),"",a.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:async N=>{const w=N.target.files[0];if(!w)return;const C=new FormData;C.append("file",w);try{const _=await e.post("/api/ozon-reports/import-purchase-prices",C,{headers:{"Content-Type":"multipart/form-data"}});q.success(` ${_.data.updated} `),await g()}catch{q.error(" ")}N.target.value=""}})]})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// ..."})}):a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" %"}),a.jsx("th",{className:"text-center py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:t.map((N,w)=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray hover:bg-opacity-10",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:N.article}),a.jsx("td",{className:"py-3 px-4 text-sm",children:N.name}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:N.price>0?k(N.price):"-"}),a.jsx("td",{className:"py-3 px-4 text-right",children:l===N._id?a.jsx("input",{type:"number",value:c,onChange:C=>d(C.target.value),onKeyDown:C=>{C.key==="Enter"&&x(),C.key==="Escape"&&(u(null),d(""))},className:"w-32 px-2 py-1 bg-mm-black border border-mm-cyan rounded font-mono text-sm text-right",autoFocus:!0}):a.jsx("span",{className:`font-mono text-sm ${N.purchase_price>0?"text-mm-cyan":"text-mm-text-tertiary"}`,children:N.purchase_price>0?k(N.purchase_price):" "})}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:N.margin_pct>0?a.jsxs("span",{className:N.margin_pct>30?"text-mm-green":N.margin_pct>15?"text-mm-cyan":"text-mm-red",children:[N.margin_pct.toFixed(1),"%"]}):a.jsx("span",{className:"text-mm-text-tertiary",children:"-"})}),a.jsx("td",{className:"py-3 px-4 text-center",children:l===N._id?a.jsx("button",{onClick:x,className:"text-mm-green hover:text-mm-cyan",children:a.jsx(Bt,{size:18})}):a.jsx("button",{onClick:()=>v(N),className:"text-mm-text-secondary hover:text-mm-cyan",children:a.jsx(ky,{size:16})})})]},N._id))})]})}),t.length===0&&a.jsx("div",{className:"text-center py-12 text-mm-text-secondary",children:"   "})]})]})}const cp=({title:e,icon:t,items:r,isActive:n})=>{const[s,i]=J.useState(!1),o=J.useRef(null),l=Gr();J.useEffect(()=>{const c=d=>{o.current&&!o.current.contains(d.target)&&i(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const u=c=>{i(!1),l(c)};return a.jsxs("div",{className:"relative",ref:o,children:[a.jsxs("button",{onClick:()=>i(!s),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${n?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(t,{className:"inline"}),e,a.jsx(kl,{className:`ml-1 transition-transform ${s?"rotate-180":""}`})]}),s&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-mm-darker rounded-lg shadow-2xl border border-mm-border py-2 min-w-[220px]",style:{zIndex:9999},children:r.map((c,d)=>a.jsxs("button",{onClick:()=>u(c.path),className:"w-full text-left px-4 py-3 hover:bg-mm-gray flex items-center gap-3 text-sm text-mm-text hover:text-mm-cyan transition-colors font-medium",children:[c.icon&&a.jsx(c.icon,{className:"w-4 h-4"}),c.label]},d))})]})},kG=({children:e})=>{const{user:t,logout:r}=ye(),n=Gr(),s=Ya(),i=s.pathname.startsWith("/warehouses")||s.pathname.startsWith("/suppliers")||s.pathname.startsWith("/income-orders")||s.pathname.startsWith("/stock"),o=s.pathname.startsWith("/catalog")||s.pathname.startsWith("/products"),l=s.pathname.startsWith("/orders"),u=[{label:"",path:"/warehouses",icon:wi},{label:"",path:"/suppliers",icon:ji},{label:"  ",path:"/income-orders",icon:Wt},{label:"",path:"/stock",icon:dh},{label:"",path:"/stock/sync",icon:Wk}],c=[{label:"",path:"/catalog/products",icon:qk},{label:"",path:"/catalog/categories",icon:FD},{label:"",path:"/catalog/pricing",icon:_s},{label:"",path:"/catalog/matching",icon:To},{label:" ",path:"/catalog/import",icon:rr}],d=[{label:"FBS (  )",path:"/orders/fbs",icon:bt},{label:"FBO (  )",path:"/orders/fbo",icon:dh},{label:" ",path:"/orders/retail",icon:fh}];return a.jsxs("div",{className:"min-h-screen bg-mm-black",children:[a.jsx("header",{className:"border-b border-mm-border bg-mm-darker",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h1",{className:"text-2xl font-bold cursor-pointer",onClick:()=>n("/"),children:["MINIMAL",a.jsx("span",{className:"text-mm-purple",children:"MOD"})," ",a.jsx("span",{className:"status-new",children:"SELLER"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-mm-text-secondary",children:t==null?void 0:t.email}),a.jsx(Jk,{}),a.jsx("button",{onClick:r,className:"btn-primary",children:"LOGOUT"})]})]})})}),a.jsx("nav",{className:"border-b border-mm-border bg-mm-dark relative",style:{zIndex:100},children:a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsxs("div",{className:"flex space-x-6 h-12",children:[a.jsxs("button",{onClick:()=>n("/integrations"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/integrations"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(Yk,{className:"inline"}),""]}),a.jsx(cp,{title:"",icon:wi,items:u,isActive:i}),a.jsx(cp,{title:"",icon:bt,items:c,isActive:o}),a.jsx(cp,{title:"",icon:fh,items:d,isActive:l}),a.jsxs("button",{onClick:()=>n("/finance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/finance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(Gk,{className:"inline"}),""]}),a.jsxs("button",{onClick:()=>n("/analytics-reports"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/analytics-reports"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(_l,{className:"inline"}),""]}),a.jsxs("button",{onClick:()=>n("/balance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/balance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(_s,{className:"inline"}),""]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:e})]})};function Te({children:e,requiredRole:t}){const{user:r,loading:n}=ye();return n?a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):r?t&&r.role!==t?a.jsx(Ao,{to:"/"}):e:a.jsx(Ao,{to:"/login"})}function Le({children:e}){return a.jsx(kG,{children:e})}function _G(){const{user:e}=ye();return a.jsxs(mT,{children:[a.jsx(Ce,{path:"/login",element:e?a.jsx(Ao,{to:"/"}):a.jsx(ED,{})}),a.jsx(Ce,{path:"/",element:a.jsx(Te,{children:(e==null?void 0:e.role)==="admin"?a.jsx(GD,{}):a.jsx(Ao,{to:"/catalog/products"})})}),a.jsx(Ce,{path:"/integrations",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(e_,{})})})}),a.jsx(Ce,{path:"/warehouses",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(n_,{})})})}),a.jsx(Ce,{path:"/warehouses/:id",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(rM,{})})})}),a.jsx(Ce,{path:"/suppliers",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(s_,{})})})}),a.jsx(Ce,{path:"/income-orders",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(i_,{})})})}),a.jsx(Ce,{path:"/income-orders/new",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(M0,{})})})}),a.jsx(Ce,{path:"/income-orders/:id/edit",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(M0,{})})})}),a.jsx(Ce,{path:"/stock",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(a_,{})})})}),a.jsx(Ce,{path:"/stock/sync",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(o_,{})})})}),a.jsx(Ce,{path:"/catalog/products",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(l_,{})})})}),a.jsx(Ce,{path:"/catalog/products/new",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(D0,{})})})}),a.jsx(Ce,{path:"/catalog/products/:id/edit",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(D0,{})})})}),a.jsx(Ce,{path:"/catalog/categories",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(nM,{})})})}),a.jsx(Ce,{path:"/catalog/pricing",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(dM,{})})})}),a.jsx(Ce,{path:"/catalog/matching",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(cM,{})})})}),a.jsx(Ce,{path:"/catalog/import",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(lM,{})})})}),a.jsx(Ce,{path:"/orders",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(Nc,{})})})}),a.jsx(Ce,{path:"/orders/fbs",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(Nc,{section:"fbs"})})})}),a.jsx(Ce,{path:"/orders/fbo",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(Nc,{section:"fbo"})})})}),a.jsx(Ce,{path:"/orders/retail",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(Nc,{section:"retail"})})})}),a.jsx(Ce,{path:"/finance",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(t_,{})})})}),a.jsx(Ce,{path:"/balance",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(r_,{})})})}),a.jsx(Ce,{path:"/profit-report",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(_M,{})})})}),a.jsx(Ce,{path:"/transactions",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(CM,{})})})}),a.jsx(Ce,{path:"/analytics-reports",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(gG,{})})})}),a.jsx(Ce,{path:"/purchase-prices",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(NG,{})})})}),a.jsx(Ce,{path:"/products/:id/edit",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(QD,{})})})}),a.jsx(Ce,{path:"/products-new",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(JD,{})})})}),a.jsx(Ce,{path:"/stock-balances",element:a.jsx(Te,{children:a.jsx(Le,{children:a.jsx(tM,{})})})}),a.jsx(Ce,{path:"/admin/categories",element:a.jsx(Te,{requiredRole:"admin",children:a.jsx(XD,{})})}),a.jsx(Ce,{path:"/admin/internal-categories",element:a.jsx(Te,{requiredRole:"admin",children:a.jsx(mM,{})})}),a.jsx(Ce,{path:"*",element:a.jsx(Ao,{to:"/catalog/products"})})]})}function SG(){return a.jsx(vT,{children:a.jsx(PD,{children:a.jsxs(SD,{children:[a.jsx(GT,{position:"top-right",theme:"dark",toastOptions:{style:{background:"#0a0e27",border:"1px solid #00f0ff",color:"#e0e7ff"}}}),a.jsx(_G,{})]})})})}up.createRoot(document.getElementById("root")).render(a.jsx(J.StrictMode,{children:a.jsx(SG,{})}));
