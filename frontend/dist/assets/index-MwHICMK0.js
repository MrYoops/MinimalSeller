function Ip(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Mp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cd={exports:{}},va={},Ed={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=Symbol.for("react.element"),$p=Symbol.for("react.portal"),Up=Symbol.for("react.fragment"),Bp=Symbol.for("react.strict_mode"),Wp=Symbol.for("react.profiler"),Vp=Symbol.for("react.provider"),Hp=Symbol.for("react.context"),qp=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Qp=Symbol.for("react.memo"),Gp=Symbol.for("react.lazy"),Bi=Symbol.iterator;function Jp(e){return e===null||typeof e!="object"?null:(e=Bi&&e[Bi]||e["@@iterator"],typeof e=="function"?e:null)}var Pd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ld=Object.assign,zd={};function en(e,t,n){this.props=e,this.context=t,this.refs=zd,this.updater=n||Pd}en.prototype.isReactComponent={};en.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};en.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rd(){}Rd.prototype=en.prototype;function So(e,t,n){this.props=e,this.context=t,this.refs=zd,this.updater=n||Pd}var _o=So.prototype=new Rd;_o.constructor=So;Ld(_o,en.prototype);_o.isPureReactComponent=!0;var Wi=Array.isArray,Od=Object.prototype.hasOwnProperty,Co={current:null},Td={key:!0,ref:!0,__self:!0,__source:!0};function Ad(e,t,n){var s,a={},l=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)Od.call(t,s)&&!Td.hasOwnProperty(s)&&(a[s]=t[s]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var d=Array(i),c=0;c<i;c++)d[c]=arguments[c+2];a.children=d}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)a[s]===void 0&&(a[s]=i[s]);return{$$typeof:ts,type:e,key:l,ref:o,props:a,_owner:Co.current}}function Yp(e,t){return{$$typeof:ts,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Eo(e){return typeof e=="object"&&e!==null&&e.$$typeof===ts}function Xp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vi=/\/+/g;function qa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xp(""+e.key):t.toString(36)}function Ls(e,t,n,s,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ts:case $p:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+qa(o,0):s,Wi(a)?(n="",e!=null&&(n=e.replace(Vi,"$&/")+"/"),Ls(a,t,n,"",function(c){return c})):a!=null&&(Eo(a)&&(a=Yp(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Vi,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",Wi(e))for(var i=0;i<e.length;i++){l=e[i];var d=s+qa(l,i);o+=Ls(l,t,n,d,a)}else if(d=Jp(e),typeof d=="function")for(e=d.call(e),i=0;!(l=e.next()).done;)l=l.value,d=s+qa(l,i++),o+=Ls(l,t,n,d,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ms(e,t,n){if(e==null)return e;var s=[],a=0;return Ls(e,s,"","",function(l){return t.call(n,l,a++)}),s}function Zp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},zs={transition:null},ex={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:zs,ReactCurrentOwner:Co};function Fd(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:ms,forEach:function(e,t,n){ms(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ms(e,function(){t++}),t},toArray:function(e){return ms(e,function(t){return t})||[]},only:function(e){if(!Eo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=en;J.Fragment=Up;J.Profiler=Wp;J.PureComponent=So;J.StrictMode=Bp;J.Suspense=Kp;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ex;J.act=Fd;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Ld({},e.props),a=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Co.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(d in t)Od.call(t,d)&&!Td.hasOwnProperty(d)&&(s[d]=t[d]===void 0&&i!==void 0?i[d]:t[d])}var d=arguments.length-2;if(d===1)s.children=n;else if(1<d){i=Array(d);for(var c=0;c<d;c++)i[c]=arguments[c+2];s.children=i}return{$$typeof:ts,type:e.type,key:a,ref:l,props:s,_owner:o}};J.createContext=function(e){return e={$$typeof:Hp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vp,_context:e},e.Consumer=e};J.createElement=Ad;J.createFactory=function(e){var t=Ad.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:qp,render:e}};J.isValidElement=Eo;J.lazy=function(e){return{$$typeof:Gp,_payload:{_status:-1,_result:e},_init:Zp}};J.memo=function(e,t){return{$$typeof:Qp,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=zs.transition;zs.transition={};try{e()}finally{zs.transition=t}};J.unstable_act=Fd;J.useCallback=function(e,t){return Fe.current.useCallback(e,t)};J.useContext=function(e){return Fe.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};J.useEffect=function(e,t){return Fe.current.useEffect(e,t)};J.useId=function(){return Fe.current.useId()};J.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Fe.current.useMemo(e,t)};J.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};J.useRef=function(e){return Fe.current.useRef(e)};J.useState=function(e){return Fe.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return Fe.current.useTransition()};J.version="18.3.1";Ed.exports=J;var y=Ed.exports;const Et=Mp(y),tx=Ip({__proto__:null,default:Et},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx=y,nx=Symbol.for("react.element"),sx=Symbol.for("react.fragment"),ax=Object.prototype.hasOwnProperty,lx=rx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ox={key:!0,ref:!0,__self:!0,__source:!0};function Dd(e,t,n){var s,a={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)ax.call(t,s)&&!ox.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:nx,type:e,key:l,ref:o,props:a,_owner:lx.current}}va.Fragment=sx;va.jsx=Dd;va.jsxs=Dd;Cd.exports=va;var r=Cd.exports,Nl={},Id={exports:{}},Je={},Md={exports:{}},$d={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,k){var R=A.length;A.push(k);e:for(;0<R;){var D=R-1>>>1,L=A[D];if(0<a(L,k))A[D]=k,A[R]=L,R=D;else break e}}function n(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var k=A[0],R=A.pop();if(R!==k){A[0]=R;e:for(var D=0,L=A.length,V=L>>>1;D<V;){var G=2*(D+1)-1,q=A[G],be=G+1,Ie=A[be];if(0>a(q,R))be<L&&0>a(Ie,q)?(A[D]=Ie,A[be]=R,D=be):(A[D]=q,A[G]=R,D=G);else if(be<L&&0>a(Ie,R))A[D]=Ie,A[be]=R,D=be;else break e}}return k}function a(A,k){var R=A.sortIndex-k.sortIndex;return R!==0?R:A.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var d=[],c=[],u=1,p=null,f=3,N=!1,b=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(A){for(var k=n(c);k!==null;){if(k.callback===null)s(c);else if(k.startTime<=A)s(c),k.sortIndex=k.expirationTime,t(d,k);else break;k=n(c)}}function g(A){if(v=!1,h(A),!b)if(n(d)!==null)b=!0,H(E);else{var k=n(c);k!==null&&K(g,k.startTime-A)}}function E(A,k){b=!1,v&&(v=!1,m(C),C=-1),N=!0;var R=f;try{for(h(k),p=n(d);p!==null&&(!(p.expirationTime>k)||A&&!_());){var D=p.callback;if(typeof D=="function"){p.callback=null,f=p.priorityLevel;var L=D(p.expirationTime<=k);k=e.unstable_now(),typeof L=="function"?p.callback=L:p===n(d)&&s(d),h(k)}else s(d);p=n(d)}if(p!==null)var V=!0;else{var G=n(c);G!==null&&K(g,G.startTime-k),V=!1}return V}finally{p=null,f=R,N=!1}}var T=!1,w=null,C=-1,S=5,O=-1;function _(){return!(e.unstable_now()-O<S)}function $(){if(w!==null){var A=e.unstable_now();O=A;var k=!0;try{k=w(!0,A)}finally{k?F():(T=!1,w=null)}}else T=!1}var F;if(typeof x=="function")F=function(){x($)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,W=M.port2;M.port1.onmessage=$,F=function(){W.postMessage(null)}}else F=function(){j($,0)};function H(A){w=A,T||(T=!0,F())}function K(A,k){C=j(function(){A(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){b||N||(b=!0,H(E))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var k=3;break;default:k=f}var R=f;f=k;try{return A()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,k){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var R=f;f=A;try{return k()}finally{f=R}},e.unstable_scheduleCallback=function(A,k,R){var D=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?D+R:D):R=D,A){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=R+L,A={id:u++,callback:k,priorityLevel:A,startTime:R,expirationTime:L,sortIndex:-1},R>D?(A.sortIndex=R,t(c,A),n(d)===null&&A===n(c)&&(v?(m(C),C=-1):v=!0,K(g,R-D))):(A.sortIndex=L,t(d,A),b||N||(b=!0,H(E))),A},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(A){var k=f;return function(){var R=f;f=k;try{return A.apply(this,arguments)}finally{f=R}}}})($d);Md.exports=$d;var ix=Md.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx=y,Ge=ix;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ud=new Set,Tn={};function kr(e,t){Hr(e,t),Hr(e+"Capture",t)}function Hr(e,t){for(Tn[e]=t,e=0;e<t.length;e++)Ud.add(t[e])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=Object.prototype.hasOwnProperty,dx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hi={},qi={};function ux(e){return wl.call(qi,e)?!0:wl.call(Hi,e)?!1:dx.test(e)?qi[e]=!0:(Hi[e]=!0,!1)}function mx(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function px(e,t,n,s){if(t===null||typeof t>"u"||mx(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,n,s,a,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var Po=/[\-:]([a-z])/g;function Lo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Po,Lo);Ce[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Po,Lo);Ce[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Po,Lo);Ce[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function zo(e,t,n,s){var a=Ce.hasOwnProperty(t)?Ce[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(px(t,n,a,s)&&(n=null),s||a===null?ux(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Tt=cx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ps=Symbol.for("react.element"),Cr=Symbol.for("react.portal"),Er=Symbol.for("react.fragment"),Ro=Symbol.for("react.strict_mode"),kl=Symbol.for("react.profiler"),Bd=Symbol.for("react.provider"),Wd=Symbol.for("react.context"),Oo=Symbol.for("react.forward_ref"),Sl=Symbol.for("react.suspense"),_l=Symbol.for("react.suspense_list"),To=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),Vd=Symbol.for("react.offscreen"),Ki=Symbol.iterator;function dn(e){return e===null||typeof e!="object"?null:(e=Ki&&e[Ki]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,Ka;function vn(e){if(Ka===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ka=t&&t[1]||""}return`
`+Ka+e}var Qa=!1;function Ga(e,t){if(!e||Qa)return"";Qa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),l=s.stack.split(`
`),o=a.length-1,i=l.length-1;1<=o&&0<=i&&a[o]!==l[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==l[i]){if(o!==1||i!==1)do if(o--,i--,0>i||a[o]!==l[i]){var d=`
`+a[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=i);break}}}finally{Qa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vn(e):""}function xx(e){switch(e.tag){case 5:return vn(e.type);case 16:return vn("Lazy");case 13:return vn("Suspense");case 19:return vn("SuspenseList");case 0:case 2:case 15:return e=Ga(e.type,!1),e;case 11:return e=Ga(e.type.render,!1),e;case 1:return e=Ga(e.type,!0),e;default:return""}}function Cl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Er:return"Fragment";case Cr:return"Portal";case kl:return"Profiler";case Ro:return"StrictMode";case Sl:return"Suspense";case _l:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wd:return(e.displayName||"Context")+".Consumer";case Bd:return(e._context.displayName||"Context")+".Provider";case Oo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case To:return t=e.displayName||null,t!==null?t:Cl(e.type)||"Memo";case Mt:t=e._payload,e=e._init;try{return Cl(e(t))}catch{}}return null}function hx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cl(t);case 8:return t===Ro?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fx(e){var t=Hd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xs(e){e._valueTracker||(e._valueTracker=fx(e))}function qd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Hd(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function El(e,t){var n=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qi(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=nr(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kd(e,t){t=t.checked,t!=null&&zo(e,"checked",t,!1)}function Pl(e,t){Kd(e,t);var n=nr(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ll(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ll(e,t.type,nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ll(e,t,n){(t!=="number"||Hs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var jn=Array.isArray;function Mr(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+nr(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function zl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ji(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(jn(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:nr(n)}}function Qd(e,t){var n=nr(t.value),s=nr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Yi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hs,Jd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hs=hs||document.createElement("div"),hs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function An(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yx=["Webkit","ms","Moz","O"];Object.keys(Sn).forEach(function(e){yx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sn[t]=Sn[e]})});function Yd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sn.hasOwnProperty(e)&&Sn[e]?(""+t).trim():t+"px"}function Xd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=Yd(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var gx=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ol(e,t){if(t){if(gx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Tl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Al=null;function Ao(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fl=null,$r=null,Ur=null;function Xi(e){if(e=ss(e)){if(typeof Fl!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Sa(t),Fl(e.stateNode,e.type,t))}}function Zd(e){$r?Ur?Ur.push(e):Ur=[e]:$r=e}function eu(){if($r){var e=$r,t=Ur;if(Ur=$r=null,Xi(e),t)for(e=0;e<t.length;e++)Xi(t[e])}}function tu(e,t){return e(t)}function ru(){}var Ja=!1;function nu(e,t,n){if(Ja)return e(t,n);Ja=!0;try{return tu(e,t,n)}finally{Ja=!1,($r!==null||Ur!==null)&&(ru(),eu())}}function Fn(e,t){var n=e.stateNode;if(n===null)return null;var s=Sa(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var Dl=!1;if(Lt)try{var un={};Object.defineProperty(un,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{Dl=!1}function bx(e,t,n,s,a,l,o,i,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var _n=!1,qs=null,Ks=!1,Il=null,vx={onError:function(e){_n=!0,qs=e}};function jx(e,t,n,s,a,l,o,i,d){_n=!1,qs=null,bx.apply(vx,arguments)}function Nx(e,t,n,s,a,l,o,i,d){if(jx.apply(this,arguments),_n){if(_n){var c=qs;_n=!1,qs=null}else throw Error(I(198));Ks||(Ks=!0,Il=c)}}function Sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function su(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zi(e){if(Sr(e)!==e)throw Error(I(188))}function wx(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return Zi(a),e;if(l===s)return Zi(a),t;l=l.sibling}throw Error(I(188))}if(n.return!==s.return)n=a,s=l;else{for(var o=!1,i=a.child;i;){if(i===n){o=!0,n=a,s=l;break}if(i===s){o=!0,s=a,n=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===n){o=!0,n=l,s=a;break}if(i===s){o=!0,s=l,n=a;break}i=i.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==s)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function au(e){return e=wx(e),e!==null?lu(e):null}function lu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lu(e);if(t!==null)return t;e=e.sibling}return null}var ou=Ge.unstable_scheduleCallback,ec=Ge.unstable_cancelCallback,kx=Ge.unstable_shouldYield,Sx=Ge.unstable_requestPaint,xe=Ge.unstable_now,_x=Ge.unstable_getCurrentPriorityLevel,Fo=Ge.unstable_ImmediatePriority,iu=Ge.unstable_UserBlockingPriority,Qs=Ge.unstable_NormalPriority,Cx=Ge.unstable_LowPriority,cu=Ge.unstable_IdlePriority,ja=null,vt=null;function Ex(e){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(ja,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:zx,Px=Math.log,Lx=Math.LN2;function zx(e){return e>>>=0,e===0?32:31-(Px(e)/Lx|0)|0}var fs=64,ys=4194304;function Nn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gs(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var i=o&~a;i!==0?s=Nn(i):(l&=o,l!==0&&(s=Nn(l)))}else o=n&~a,o!==0?s=Nn(o):l!==0&&(s=Nn(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-mt(t),a=1<<n,s|=e[n],t&=~a;return s}function Rx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ox(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-mt(l),i=1<<o,d=a[o];d===-1?(!(i&n)||i&s)&&(a[o]=Rx(i,t)):d<=t&&(e.expiredLanes|=i),l&=~i}}function Ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function du(){var e=fs;return fs<<=1,!(fs&4194240)&&(fs=64),e}function Ya(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=n}function Tx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-mt(n),l=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~l}}function Do(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-mt(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var ee=0;function uu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mu,Io,pu,xu,hu,$l=!1,gs=[],qt=null,Kt=null,Qt=null,Dn=new Map,In=new Map,Ut=[],Ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tc(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Dn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":In.delete(t.pointerId)}}function mn(e,t,n,s,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:l,targetContainers:[a]},t!==null&&(t=ss(t),t!==null&&Io(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Fx(e,t,n,s,a){switch(t){case"focusin":return qt=mn(qt,e,t,n,s,a),!0;case"dragenter":return Kt=mn(Kt,e,t,n,s,a),!0;case"mouseover":return Qt=mn(Qt,e,t,n,s,a),!0;case"pointerover":var l=a.pointerId;return Dn.set(l,mn(Dn.get(l)||null,e,t,n,s,a)),!0;case"gotpointercapture":return l=a.pointerId,In.set(l,mn(In.get(l)||null,e,t,n,s,a)),!0}return!1}function fu(e){var t=ur(e.target);if(t!==null){var n=Sr(t);if(n!==null){if(t=n.tag,t===13){if(t=su(n),t!==null){e.blockedOn=t,hu(e.priority,function(){pu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ul(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Al=s,n.target.dispatchEvent(s),Al=null}else return t=ss(n),t!==null&&Io(t),e.blockedOn=n,!1;t.shift()}return!0}function rc(e,t,n){Rs(e)&&n.delete(t)}function Dx(){$l=!1,qt!==null&&Rs(qt)&&(qt=null),Kt!==null&&Rs(Kt)&&(Kt=null),Qt!==null&&Rs(Qt)&&(Qt=null),Dn.forEach(rc),In.forEach(rc)}function pn(e,t){e.blockedOn===t&&(e.blockedOn=null,$l||($l=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,Dx)))}function Mn(e){function t(a){return pn(a,e)}if(0<gs.length){pn(gs[0],e);for(var n=1;n<gs.length;n++){var s=gs[n];s.blockedOn===e&&(s.blockedOn=null)}}for(qt!==null&&pn(qt,e),Kt!==null&&pn(Kt,e),Qt!==null&&pn(Qt,e),Dn.forEach(t),In.forEach(t),n=0;n<Ut.length;n++)s=Ut[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ut.length&&(n=Ut[0],n.blockedOn===null);)fu(n),n.blockedOn===null&&Ut.shift()}var Br=Tt.ReactCurrentBatchConfig,Js=!0;function Ix(e,t,n,s){var a=ee,l=Br.transition;Br.transition=null;try{ee=1,Mo(e,t,n,s)}finally{ee=a,Br.transition=l}}function Mx(e,t,n,s){var a=ee,l=Br.transition;Br.transition=null;try{ee=4,Mo(e,t,n,s)}finally{ee=a,Br.transition=l}}function Mo(e,t,n,s){if(Js){var a=Ul(e,t,n,s);if(a===null)ol(e,t,s,Ys,n),tc(e,s);else if(Fx(a,e,t,n,s))s.stopPropagation();else if(tc(e,s),t&4&&-1<Ax.indexOf(e)){for(;a!==null;){var l=ss(a);if(l!==null&&mu(l),l=Ul(e,t,n,s),l===null&&ol(e,t,s,Ys,n),l===a)break;a=l}a!==null&&s.stopPropagation()}else ol(e,t,s,null,n)}}var Ys=null;function Ul(e,t,n,s){if(Ys=null,e=Ao(s),e=ur(e),e!==null)if(t=Sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=su(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ys=e,null}function yu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_x()){case Fo:return 1;case iu:return 4;case Qs:case Cx:return 16;case cu:return 536870912;default:return 16}default:return 16}}var Wt=null,$o=null,Os=null;function gu(){if(Os)return Os;var e,t=$o,n=t.length,s,a="value"in Wt?Wt.value:Wt.textContent,l=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===a[l-s];s++);return Os=a.slice(e,1<s?1-s:void 0)}function Ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bs(){return!0}function nc(){return!1}function Ye(e){function t(n,s,a,l,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?bs:nc,this.isPropagationStopped=nc,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),t}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uo=Ye(tn),ns=me({},tn,{view:0,detail:0}),$x=Ye(ns),Xa,Za,xn,Na=me({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xn&&(xn&&e.type==="mousemove"?(Xa=e.screenX-xn.screenX,Za=e.screenY-xn.screenY):Za=Xa=0,xn=e),Xa)},movementY:function(e){return"movementY"in e?e.movementY:Za}}),sc=Ye(Na),Ux=me({},Na,{dataTransfer:0}),Bx=Ye(Ux),Wx=me({},ns,{relatedTarget:0}),el=Ye(Wx),Vx=me({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hx=Ye(Vx),qx=me({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kx=Ye(qx),Qx=me({},tn,{data:0}),ac=Ye(Qx),Gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yx[e])?!!t[e]:!1}function Bo(){return Xx}var Zx=me({},ns,{key:function(e){if(e.key){var t=Gx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bo,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eh=Ye(Zx),th=me({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lc=Ye(th),rh=me({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bo}),nh=Ye(rh),sh=me({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ah=Ye(sh),lh=me({},Na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oh=Ye(lh),ih=[9,13,27,32],Wo=Lt&&"CompositionEvent"in window,Cn=null;Lt&&"documentMode"in document&&(Cn=document.documentMode);var ch=Lt&&"TextEvent"in window&&!Cn,bu=Lt&&(!Wo||Cn&&8<Cn&&11>=Cn),oc=" ",ic=!1;function vu(e,t){switch(e){case"keyup":return ih.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ju(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pr=!1;function dh(e,t){switch(e){case"compositionend":return ju(t);case"keypress":return t.which!==32?null:(ic=!0,oc);case"textInput":return e=t.data,e===oc&&ic?null:e;default:return null}}function uh(e,t){if(Pr)return e==="compositionend"||!Wo&&vu(e,t)?(e=gu(),Os=$o=Wt=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bu&&t.locale!=="ko"?null:t.data;default:return null}}var mh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mh[e.type]:t==="textarea"}function Nu(e,t,n,s){Zd(s),t=Xs(t,"onChange"),0<t.length&&(n=new Uo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var En=null,$n=null;function ph(e){Ou(e,0)}function wa(e){var t=Rr(e);if(qd(t))return e}function xh(e,t){if(e==="change")return t}var wu=!1;if(Lt){var tl;if(Lt){var rl="oninput"in document;if(!rl){var dc=document.createElement("div");dc.setAttribute("oninput","return;"),rl=typeof dc.oninput=="function"}tl=rl}else tl=!1;wu=tl&&(!document.documentMode||9<document.documentMode)}function uc(){En&&(En.detachEvent("onpropertychange",ku),$n=En=null)}function ku(e){if(e.propertyName==="value"&&wa($n)){var t=[];Nu(t,$n,e,Ao(e)),nu(ph,t)}}function hh(e,t,n){e==="focusin"?(uc(),En=t,$n=n,En.attachEvent("onpropertychange",ku)):e==="focusout"&&uc()}function fh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wa($n)}function yh(e,t){if(e==="click")return wa(t)}function gh(e,t){if(e==="input"||e==="change")return wa(t)}function bh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:bh;function Un(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!wl.call(t,a)||!xt(e[a],t[a]))return!1}return!0}function mc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pc(e,t){var n=mc(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mc(n)}}function Su(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Su(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _u(){for(var e=window,t=Hs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hs(e.document)}return t}function Vo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vh(e){var t=_u(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Su(n.ownerDocument.documentElement,n)){if(s!==null&&Vo(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,l=Math.min(s.start,a);s=s.end===void 0?l:Math.min(s.end,a),!e.extend&&l>s&&(a=s,s=l,l=a),a=pc(n,l);var o=pc(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jh=Lt&&"documentMode"in document&&11>=document.documentMode,Lr=null,Bl=null,Pn=null,Wl=!1;function xc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wl||Lr==null||Lr!==Hs(s)||(s=Lr,"selectionStart"in s&&Vo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Pn&&Un(Pn,s)||(Pn=s,s=Xs(Bl,"onSelect"),0<s.length&&(t=new Uo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Lr)))}function vs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zr={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},nl={},Cu={};Lt&&(Cu=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function ka(e){if(nl[e])return nl[e];if(!zr[e])return e;var t=zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cu)return nl[e]=t[n];return e}var Eu=ka("animationend"),Pu=ka("animationiteration"),Lu=ka("animationstart"),zu=ka("transitionend"),Ru=new Map,hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(e,t){Ru.set(e,t),kr(t,[e])}for(var sl=0;sl<hc.length;sl++){var al=hc[sl],Nh=al.toLowerCase(),wh=al[0].toUpperCase()+al.slice(1);ar(Nh,"on"+wh)}ar(Eu,"onAnimationEnd");ar(Pu,"onAnimationIteration");ar(Lu,"onAnimationStart");ar("dblclick","onDoubleClick");ar("focusin","onFocus");ar("focusout","onBlur");ar(zu,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kh=new Set("cancel close invalid load scroll toggle".split(" ").concat(wn));function fc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Nx(s,t,void 0,e),e.currentTarget=null}function Ou(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var o=s.length-1;0<=o;o--){var i=s[o],d=i.instance,c=i.currentTarget;if(i=i.listener,d!==l&&a.isPropagationStopped())break e;fc(a,i,c),l=d}else for(o=0;o<s.length;o++){if(i=s[o],d=i.instance,c=i.currentTarget,i=i.listener,d!==l&&a.isPropagationStopped())break e;fc(a,i,c),l=d}}}if(Ks)throw e=Il,Ks=!1,Il=null,e}function se(e,t){var n=t[Ql];n===void 0&&(n=t[Ql]=new Set);var s=e+"__bubble";n.has(s)||(Tu(t,e,2,!1),n.add(s))}function ll(e,t,n){var s=0;t&&(s|=4),Tu(n,e,s,t)}var js="_reactListening"+Math.random().toString(36).slice(2);function Bn(e){if(!e[js]){e[js]=!0,Ud.forEach(function(n){n!=="selectionchange"&&(kh.has(n)||ll(n,!1,e),ll(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[js]||(t[js]=!0,ll("selectionchange",!1,t))}}function Tu(e,t,n,s){switch(yu(t)){case 1:var a=Ix;break;case 4:a=Mx;break;default:a=Mo}n=a.bind(null,t,n,e),a=void 0,!Dl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function ol(e,t,n,s,a){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var i=s.stateNode.containerInfo;if(i===a||i.nodeType===8&&i.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;o=o.return}for(;i!==null;){if(o=ur(i),o===null)return;if(d=o.tag,d===5||d===6){s=l=o;continue e}i=i.parentNode}}s=s.return}nu(function(){var c=l,u=Ao(n),p=[];e:{var f=Ru.get(e);if(f!==void 0){var N=Uo,b=e;switch(e){case"keypress":if(Ts(n)===0)break e;case"keydown":case"keyup":N=eh;break;case"focusin":b="focus",N=el;break;case"focusout":b="blur",N=el;break;case"beforeblur":case"afterblur":N=el;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Bx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=nh;break;case Eu:case Pu:case Lu:N=Hx;break;case zu:N=ah;break;case"scroll":N=$x;break;case"wheel":N=oh;break;case"copy":case"cut":case"paste":N=Kx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=lc}var v=(t&4)!==0,j=!v&&e==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var x=c,h;x!==null;){h=x;var g=h.stateNode;if(h.tag===5&&g!==null&&(h=g,m!==null&&(g=Fn(x,m),g!=null&&v.push(Wn(x,g,h)))),j)break;x=x.return}0<v.length&&(f=new N(f,b,null,n,u),p.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",f&&n!==Al&&(b=n.relatedTarget||n.fromElement)&&(ur(b)||b[zt]))break e;if((N||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,N?(b=n.relatedTarget||n.toElement,N=c,b=b?ur(b):null,b!==null&&(j=Sr(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(N=null,b=c),N!==b)){if(v=sc,g="onMouseLeave",m="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=lc,g="onPointerLeave",m="onPointerEnter",x="pointer"),j=N==null?f:Rr(N),h=b==null?f:Rr(b),f=new v(g,x+"leave",N,n,u),f.target=j,f.relatedTarget=h,g=null,ur(u)===c&&(v=new v(m,x+"enter",b,n,u),v.target=h,v.relatedTarget=j,g=v),j=g,N&&b)t:{for(v=N,m=b,x=0,h=v;h;h=_r(h))x++;for(h=0,g=m;g;g=_r(g))h++;for(;0<x-h;)v=_r(v),x--;for(;0<h-x;)m=_r(m),h--;for(;x--;){if(v===m||m!==null&&v===m.alternate)break t;v=_r(v),m=_r(m)}v=null}else v=null;N!==null&&yc(p,f,N,v,!1),b!==null&&j!==null&&yc(p,j,b,v,!0)}}e:{if(f=c?Rr(c):window,N=f.nodeName&&f.nodeName.toLowerCase(),N==="select"||N==="input"&&f.type==="file")var E=xh;else if(cc(f))if(wu)E=gh;else{E=fh;var T=hh}else(N=f.nodeName)&&N.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=yh);if(E&&(E=E(e,c))){Nu(p,E,n,u);break e}T&&T(e,f,c),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Ll(f,"number",f.value)}switch(T=c?Rr(c):window,e){case"focusin":(cc(T)||T.contentEditable==="true")&&(Lr=T,Bl=c,Pn=null);break;case"focusout":Pn=Bl=Lr=null;break;case"mousedown":Wl=!0;break;case"contextmenu":case"mouseup":case"dragend":Wl=!1,xc(p,n,u);break;case"selectionchange":if(jh)break;case"keydown":case"keyup":xc(p,n,u)}var w;if(Wo)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Pr?vu(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(bu&&n.locale!=="ko"&&(Pr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Pr&&(w=gu()):(Wt=u,$o="value"in Wt?Wt.value:Wt.textContent,Pr=!0)),T=Xs(c,C),0<T.length&&(C=new ac(C,e,null,n,u),p.push({event:C,listeners:T}),w?C.data=w:(w=ju(n),w!==null&&(C.data=w)))),(w=ch?dh(e,n):uh(e,n))&&(c=Xs(c,"onBeforeInput"),0<c.length&&(u=new ac("onBeforeInput","beforeinput",null,n,u),p.push({event:u,listeners:c}),u.data=w))}Ou(p,t)})}function Wn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xs(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Fn(e,n),l!=null&&s.unshift(Wn(e,l,a)),l=Fn(e,t),l!=null&&s.push(Wn(e,l,a))),e=e.return}return s}function _r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yc(e,t,n,s,a){for(var l=t._reactName,o=[];n!==null&&n!==s;){var i=n,d=i.alternate,c=i.stateNode;if(d!==null&&d===s)break;i.tag===5&&c!==null&&(i=c,a?(d=Fn(n,l),d!=null&&o.unshift(Wn(n,d,i))):a||(d=Fn(n,l),d!=null&&o.push(Wn(n,d,i)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Sh=/\r\n?/g,_h=/\u0000|\uFFFD/g;function gc(e){return(typeof e=="string"?e:""+e).replace(Sh,`
`).replace(_h,"")}function Ns(e,t,n){if(t=gc(t),gc(e)!==t&&n)throw Error(I(425))}function Zs(){}var Vl=null,Hl=null;function ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kl=typeof setTimeout=="function"?setTimeout:void 0,Ch=typeof clearTimeout=="function"?clearTimeout:void 0,bc=typeof Promise=="function"?Promise:void 0,Eh=typeof queueMicrotask=="function"?queueMicrotask:typeof bc<"u"?function(e){return bc.resolve(null).then(e).catch(Ph)}:Kl;function Ph(e){setTimeout(function(){throw e})}function il(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),Mn(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);Mn(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rn=Math.random().toString(36).slice(2),bt="__reactFiber$"+rn,Vn="__reactProps$"+rn,zt="__reactContainer$"+rn,Ql="__reactEvents$"+rn,Lh="__reactListeners$"+rn,zh="__reactHandles$"+rn;function ur(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zt]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vc(e);e!==null;){if(n=e[bt])return n;e=vc(e)}return t}e=n,n=e.parentNode}return null}function ss(e){return e=e[bt]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Sa(e){return e[Vn]||null}var Gl=[],Or=-1;function lr(e){return{current:e}}function ae(e){0>Or||(e.current=Gl[Or],Gl[Or]=null,Or--)}function re(e,t){Or++,Gl[Or]=e.current,e.current=t}var sr={},Re=lr(sr),Ue=lr(!1),gr=sr;function qr(e,t){var n=e.type.contextTypes;if(!n)return sr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Be(e){return e=e.childContextTypes,e!=null}function ea(){ae(Ue),ae(Re)}function jc(e,t,n){if(Re.current!==sr)throw Error(I(168));re(Re,t),re(Ue,n)}function Au(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(I(108,hx(e)||"Unknown",a));return me({},n,s)}function ta(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sr,gr=Re.current,re(Re,e),re(Ue,Ue.current),!0}function Nc(e,t,n){var s=e.stateNode;if(!s)throw Error(I(169));n?(e=Au(e,t,gr),s.__reactInternalMemoizedMergedChildContext=e,ae(Ue),ae(Re),re(Re,e)):ae(Ue),re(Ue,n)}var St=null,_a=!1,cl=!1;function Fu(e){St===null?St=[e]:St.push(e)}function Rh(e){_a=!0,Fu(e)}function or(){if(!cl&&St!==null){cl=!0;var e=0,t=ee;try{var n=St;for(ee=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}St=null,_a=!1}catch(a){throw St!==null&&(St=St.slice(e+1)),ou(Fo,or),a}finally{ee=t,cl=!1}}return null}var Tr=[],Ar=0,ra=null,na=0,rt=[],nt=0,br=null,_t=1,Ct="";function cr(e,t){Tr[Ar++]=na,Tr[Ar++]=ra,ra=e,na=t}function Du(e,t,n){rt[nt++]=_t,rt[nt++]=Ct,rt[nt++]=br,br=e;var s=_t;e=Ct;var a=32-mt(s)-1;s&=~(1<<a),n+=1;var l=32-mt(t)+a;if(30<l){var o=a-a%5;l=(s&(1<<o)-1).toString(32),s>>=o,a-=o,_t=1<<32-mt(t)+a|n<<a|s,Ct=l+e}else _t=1<<l|n<<a|s,Ct=e}function Ho(e){e.return!==null&&(cr(e,1),Du(e,1,0))}function qo(e){for(;e===ra;)ra=Tr[--Ar],Tr[Ar]=null,na=Tr[--Ar],Tr[Ar]=null;for(;e===br;)br=rt[--nt],rt[nt]=null,Ct=rt[--nt],rt[nt]=null,_t=rt[--nt],rt[nt]=null}var Qe=null,Ke=null,oe=!1,ut=null;function Iu(e,t){var n=st(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qe=e,Ke=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qe=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=br!==null?{id:_t,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=st(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qe=e,Ke=null,!0):!1;default:return!1}}function Jl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yl(e){if(oe){var t=Ke;if(t){var n=t;if(!wc(e,t)){if(Jl(e))throw Error(I(418));t=Gt(n.nextSibling);var s=Qe;t&&wc(e,t)?Iu(s,n):(e.flags=e.flags&-4097|2,oe=!1,Qe=e)}}else{if(Jl(e))throw Error(I(418));e.flags=e.flags&-4097|2,oe=!1,Qe=e}}}function kc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qe=e}function ws(e){if(e!==Qe)return!1;if(!oe)return kc(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ql(e.type,e.memoizedProps)),t&&(t=Ke)){if(Jl(e))throw Mu(),Error(I(418));for(;t;)Iu(e,t),t=Gt(t.nextSibling)}if(kc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=Gt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Qe?Gt(e.stateNode.nextSibling):null;return!0}function Mu(){for(var e=Ke;e;)e=Gt(e.nextSibling)}function Kr(){Ke=Qe=null,oe=!1}function Ko(e){ut===null?ut=[e]:ut.push(e)}var Oh=Tt.ReactCurrentBatchConfig;function hn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var s=n.stateNode}if(!s)throw Error(I(147,e));var a=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var i=a.refs;o===null?delete i[l]:i[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function ks(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sc(e){var t=e._init;return t(e._payload)}function $u(e){function t(m,x){if(e){var h=m.deletions;h===null?(m.deletions=[x],m.flags|=16):h.push(x)}}function n(m,x){if(!e)return null;for(;x!==null;)t(m,x),x=x.sibling;return null}function s(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function a(m,x){return m=Zt(m,x),m.index=0,m.sibling=null,m}function l(m,x,h){return m.index=h,e?(h=m.alternate,h!==null?(h=h.index,h<x?(m.flags|=2,x):h):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function i(m,x,h,g){return x===null||x.tag!==6?(x=fl(h,m.mode,g),x.return=m,x):(x=a(x,h),x.return=m,x)}function d(m,x,h,g){var E=h.type;return E===Er?u(m,x,h.props.children,g,h.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Mt&&Sc(E)===x.type)?(g=a(x,h.props),g.ref=hn(m,x,h),g.return=m,g):(g=Us(h.type,h.key,h.props,null,m.mode,g),g.ref=hn(m,x,h),g.return=m,g)}function c(m,x,h,g){return x===null||x.tag!==4||x.stateNode.containerInfo!==h.containerInfo||x.stateNode.implementation!==h.implementation?(x=yl(h,m.mode,g),x.return=m,x):(x=a(x,h.children||[]),x.return=m,x)}function u(m,x,h,g,E){return x===null||x.tag!==7?(x=fr(h,m.mode,g,E),x.return=m,x):(x=a(x,h),x.return=m,x)}function p(m,x,h){if(typeof x=="string"&&x!==""||typeof x=="number")return x=fl(""+x,m.mode,h),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ps:return h=Us(x.type,x.key,x.props,null,m.mode,h),h.ref=hn(m,null,x),h.return=m,h;case Cr:return x=yl(x,m.mode,h),x.return=m,x;case Mt:var g=x._init;return p(m,g(x._payload),h)}if(jn(x)||dn(x))return x=fr(x,m.mode,h,null),x.return=m,x;ks(m,x)}return null}function f(m,x,h,g){var E=x!==null?x.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return E!==null?null:i(m,x,""+h,g);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ps:return h.key===E?d(m,x,h,g):null;case Cr:return h.key===E?c(m,x,h,g):null;case Mt:return E=h._init,f(m,x,E(h._payload),g)}if(jn(h)||dn(h))return E!==null?null:u(m,x,h,g,null);ks(m,h)}return null}function N(m,x,h,g,E){if(typeof g=="string"&&g!==""||typeof g=="number")return m=m.get(h)||null,i(x,m,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ps:return m=m.get(g.key===null?h:g.key)||null,d(x,m,g,E);case Cr:return m=m.get(g.key===null?h:g.key)||null,c(x,m,g,E);case Mt:var T=g._init;return N(m,x,h,T(g._payload),E)}if(jn(g)||dn(g))return m=m.get(h)||null,u(x,m,g,E,null);ks(x,g)}return null}function b(m,x,h,g){for(var E=null,T=null,w=x,C=x=0,S=null;w!==null&&C<h.length;C++){w.index>C?(S=w,w=null):S=w.sibling;var O=f(m,w,h[C],g);if(O===null){w===null&&(w=S);break}e&&w&&O.alternate===null&&t(m,w),x=l(O,x,C),T===null?E=O:T.sibling=O,T=O,w=S}if(C===h.length)return n(m,w),oe&&cr(m,C),E;if(w===null){for(;C<h.length;C++)w=p(m,h[C],g),w!==null&&(x=l(w,x,C),T===null?E=w:T.sibling=w,T=w);return oe&&cr(m,C),E}for(w=s(m,w);C<h.length;C++)S=N(w,m,C,h[C],g),S!==null&&(e&&S.alternate!==null&&w.delete(S.key===null?C:S.key),x=l(S,x,C),T===null?E=S:T.sibling=S,T=S);return e&&w.forEach(function(_){return t(m,_)}),oe&&cr(m,C),E}function v(m,x,h,g){var E=dn(h);if(typeof E!="function")throw Error(I(150));if(h=E.call(h),h==null)throw Error(I(151));for(var T=E=null,w=x,C=x=0,S=null,O=h.next();w!==null&&!O.done;C++,O=h.next()){w.index>C?(S=w,w=null):S=w.sibling;var _=f(m,w,O.value,g);if(_===null){w===null&&(w=S);break}e&&w&&_.alternate===null&&t(m,w),x=l(_,x,C),T===null?E=_:T.sibling=_,T=_,w=S}if(O.done)return n(m,w),oe&&cr(m,C),E;if(w===null){for(;!O.done;C++,O=h.next())O=p(m,O.value,g),O!==null&&(x=l(O,x,C),T===null?E=O:T.sibling=O,T=O);return oe&&cr(m,C),E}for(w=s(m,w);!O.done;C++,O=h.next())O=N(w,m,C,O.value,g),O!==null&&(e&&O.alternate!==null&&w.delete(O.key===null?C:O.key),x=l(O,x,C),T===null?E=O:T.sibling=O,T=O);return e&&w.forEach(function($){return t(m,$)}),oe&&cr(m,C),E}function j(m,x,h,g){if(typeof h=="object"&&h!==null&&h.type===Er&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case ps:e:{for(var E=h.key,T=x;T!==null;){if(T.key===E){if(E=h.type,E===Er){if(T.tag===7){n(m,T.sibling),x=a(T,h.props.children),x.return=m,m=x;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Mt&&Sc(E)===T.type){n(m,T.sibling),x=a(T,h.props),x.ref=hn(m,T,h),x.return=m,m=x;break e}n(m,T);break}else t(m,T);T=T.sibling}h.type===Er?(x=fr(h.props.children,m.mode,g,h.key),x.return=m,m=x):(g=Us(h.type,h.key,h.props,null,m.mode,g),g.ref=hn(m,x,h),g.return=m,m=g)}return o(m);case Cr:e:{for(T=h.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===h.containerInfo&&x.stateNode.implementation===h.implementation){n(m,x.sibling),x=a(x,h.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else t(m,x);x=x.sibling}x=yl(h,m.mode,g),x.return=m,m=x}return o(m);case Mt:return T=h._init,j(m,x,T(h._payload),g)}if(jn(h))return b(m,x,h,g);if(dn(h))return v(m,x,h,g);ks(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,x!==null&&x.tag===6?(n(m,x.sibling),x=a(x,h),x.return=m,m=x):(n(m,x),x=fl(h,m.mode,g),x.return=m,m=x),o(m)):n(m,x)}return j}var Qr=$u(!0),Uu=$u(!1),sa=lr(null),aa=null,Fr=null,Qo=null;function Go(){Qo=Fr=aa=null}function Jo(e){var t=sa.current;ae(sa),e._currentValue=t}function Xl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Wr(e,t){aa=e,Qo=Fr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function lt(e){var t=e._currentValue;if(Qo!==e)if(e={context:e,memoizedValue:t,next:null},Fr===null){if(aa===null)throw Error(I(308));Fr=e,aa.dependencies={lanes:0,firstContext:e}}else Fr=Fr.next=e;return t}var mr=null;function Yo(e){mr===null?mr=[e]:mr.push(e)}function Bu(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,Yo(t)):(n.next=a.next,a.next=n),t.interleaved=n,Rt(e,s)}function Rt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $t=!1;function Xo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jt(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Z&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Rt(e,n)}return a=s.interleaved,a===null?(t.next=t,Yo(s)):(t.next=a.next,a.next=t),s.interleaved=t,Rt(e,n)}function As(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Do(e,n)}}function _c(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?a=l=t:l=l.next=t}else a=l=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function la(e,t,n,s){var a=e.updateQueue;$t=!1;var l=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var d=i,c=d.next;d.next=null,o===null?l=c:o.next=c,o=d;var u=e.alternate;u!==null&&(u=u.updateQueue,i=u.lastBaseUpdate,i!==o&&(i===null?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=d))}if(l!==null){var p=a.baseState;o=0,u=c=d=null,i=l;do{var f=i.lane,N=i.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:N,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var b=e,v=i;switch(f=t,N=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){p=b.call(N,p,f);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,f=typeof b=="function"?b.call(N,p,f):b,f==null)break e;p=me({},p,f);break e;case 2:$t=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[i]:f.push(i))}else N={eventTime:N,lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},u===null?(c=u=N,d=p):u=u.next=N,o|=f;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;f=i,i=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(d=p),a.baseState=d,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);jr|=o,e.lanes=o,e.memoizedState=p}}function Cc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(I(191,a));a.call(s)}}}var as={},jt=lr(as),Hn=lr(as),qn=lr(as);function pr(e){if(e===as)throw Error(I(174));return e}function Zo(e,t){switch(re(qn,t),re(Hn,e),re(jt,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rl(t,e)}ae(jt),re(jt,t)}function Gr(){ae(jt),ae(Hn),ae(qn)}function Vu(e){pr(qn.current);var t=pr(jt.current),n=Rl(t,e.type);t!==n&&(re(Hn,e),re(jt,n))}function ei(e){Hn.current===e&&(ae(jt),ae(Hn))}var de=lr(0);function oa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dl=[];function ti(){for(var e=0;e<dl.length;e++)dl[e]._workInProgressVersionPrimary=null;dl.length=0}var Fs=Tt.ReactCurrentDispatcher,ul=Tt.ReactCurrentBatchConfig,vr=0,ue=null,ve=null,Ne=null,ia=!1,Ln=!1,Kn=0,Th=0;function Ee(){throw Error(I(321))}function ri(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function ni(e,t,n,s,a,l){if(vr=l,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fs.current=e===null||e.memoizedState===null?Ih:Mh,e=n(s,a),Ln){l=0;do{if(Ln=!1,Kn=0,25<=l)throw Error(I(301));l+=1,Ne=ve=null,t.updateQueue=null,Fs.current=$h,e=n(s,a)}while(Ln)}if(Fs.current=ca,t=ve!==null&&ve.next!==null,vr=0,Ne=ve=ue=null,ia=!1,t)throw Error(I(300));return e}function si(){var e=Kn!==0;return Kn=0,e}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?ue.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function ot(){if(ve===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=Ne===null?ue.memoizedState:Ne.next;if(t!==null)Ne=t,ve=e;else{if(e===null)throw Error(I(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Ne===null?ue.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Qn(e,t){return typeof t=="function"?t(e):t}function ml(e){var t=ot(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=ve,a=s.baseQueue,l=n.pending;if(l!==null){if(a!==null){var o=a.next;a.next=l.next,l.next=o}s.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,s=s.baseState;var i=o=null,d=null,c=l;do{var u=c.lane;if((vr&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action);else{var p={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(i=d=p,o=s):d=d.next=p,ue.lanes|=u,jr|=u}c=c.next}while(c!==null&&c!==l);d===null?o=s:d.next=i,xt(s,t.memoizedState)||($e=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=d,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do l=a.lane,ue.lanes|=l,jr|=l,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pl(e){var t=ot(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,l=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do l=e(l,o.action),o=o.next;while(o!==a);xt(l,t.memoizedState)||($e=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,s]}function Hu(){}function qu(e,t){var n=ue,s=ot(),a=t(),l=!xt(s.memoizedState,a);if(l&&(s.memoizedState=a,$e=!0),s=s.queue,ai(Gu.bind(null,n,s,e),[e]),s.getSnapshot!==t||l||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,Gn(9,Qu.bind(null,n,s,a,t),void 0,null),we===null)throw Error(I(349));vr&30||Ku(n,t,a)}return a}function Ku(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qu(e,t,n,s){t.value=n,t.getSnapshot=s,Ju(t)&&Yu(e)}function Gu(e,t,n){return n(function(){Ju(t)&&Yu(e)})}function Ju(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function Yu(e){var t=Rt(e,1);t!==null&&pt(t,e,1,-1)}function Ec(e){var t=gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:e},t.queue=e,e=e.dispatch=Dh.bind(null,ue,e),[t.memoizedState,e]}function Gn(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Xu(){return ot().memoizedState}function Ds(e,t,n,s){var a=gt();ue.flags|=e,a.memoizedState=Gn(1|t,n,void 0,s===void 0?null:s)}function Ca(e,t,n,s){var a=ot();s=s===void 0?null:s;var l=void 0;if(ve!==null){var o=ve.memoizedState;if(l=o.destroy,s!==null&&ri(s,o.deps)){a.memoizedState=Gn(t,n,l,s);return}}ue.flags|=e,a.memoizedState=Gn(1|t,n,l,s)}function Pc(e,t){return Ds(8390656,8,e,t)}function ai(e,t){return Ca(2048,8,e,t)}function Zu(e,t){return Ca(4,2,e,t)}function em(e,t){return Ca(4,4,e,t)}function tm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rm(e,t,n){return n=n!=null?n.concat([e]):null,Ca(4,4,tm.bind(null,t,e),n)}function li(){}function nm(e,t){var n=ot();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ri(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function sm(e,t){var n=ot();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ri(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function am(e,t,n){return vr&21?(xt(n,t)||(n=du(),ue.lanes|=n,jr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=n)}function Ah(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var s=ul.transition;ul.transition={};try{e(!1),t()}finally{ee=n,ul.transition=s}}function lm(){return ot().memoizedState}function Fh(e,t,n){var s=Xt(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},om(e))im(t,n);else if(n=Bu(e,t,n,s),n!==null){var a=Ae();pt(n,e,s,a),cm(n,t,s)}}function Dh(e,t,n){var s=Xt(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(om(e))im(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,i=l(o,n);if(a.hasEagerState=!0,a.eagerState=i,xt(i,o)){var d=t.interleaved;d===null?(a.next=a,Yo(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}n=Bu(e,t,a,s),n!==null&&(a=Ae(),pt(n,e,s,a),cm(n,t,s))}}function om(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function im(e,t){Ln=ia=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cm(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Do(e,n)}}var ca={readContext:lt,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},Ih={readContext:lt,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Pc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ds(4194308,4,tm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var n=gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=gt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Fh.bind(null,ue,e),[s.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:Ec,useDebugValue:li,useDeferredValue:function(e){return gt().memoizedState=e},useTransition:function(){var e=Ec(!1),t=e[0];return e=Ah.bind(null,e[1]),gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ue,a=gt();if(oe){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),we===null)throw Error(I(349));vr&30||Ku(s,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,Pc(Gu.bind(null,s,l,e),[e]),s.flags|=2048,Gn(9,Qu.bind(null,s,l,n,t),void 0,null),n},useId:function(){var e=gt(),t=we.identifierPrefix;if(oe){var n=Ct,s=_t;n=(s&~(1<<32-mt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Kn++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Th++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mh={readContext:lt,useCallback:nm,useContext:lt,useEffect:ai,useImperativeHandle:rm,useInsertionEffect:Zu,useLayoutEffect:em,useMemo:sm,useReducer:ml,useRef:Xu,useState:function(){return ml(Qn)},useDebugValue:li,useDeferredValue:function(e){var t=ot();return am(t,ve.memoizedState,e)},useTransition:function(){var e=ml(Qn)[0],t=ot().memoizedState;return[e,t]},useMutableSource:Hu,useSyncExternalStore:qu,useId:lm,unstable_isNewReconciler:!1},$h={readContext:lt,useCallback:nm,useContext:lt,useEffect:ai,useImperativeHandle:rm,useInsertionEffect:Zu,useLayoutEffect:em,useMemo:sm,useReducer:pl,useRef:Xu,useState:function(){return pl(Qn)},useDebugValue:li,useDeferredValue:function(e){var t=ot();return ve===null?t.memoizedState=e:am(t,ve.memoizedState,e)},useTransition:function(){var e=pl(Qn)[0],t=ot().memoizedState;return[e,t]},useMutableSource:Hu,useSyncExternalStore:qu,useId:lm,unstable_isNewReconciler:!1};function ct(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zl(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ea={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ae(),a=Xt(e),l=Pt(s,a);l.payload=t,n!=null&&(l.callback=n),t=Jt(e,l,a),t!==null&&(pt(t,e,a,s),As(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ae(),a=Xt(e),l=Pt(s,a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Jt(e,l,a),t!==null&&(pt(t,e,a,s),As(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ae(),s=Xt(e),a=Pt(n,s);a.tag=2,t!=null&&(a.callback=t),t=Jt(e,a,s),t!==null&&(pt(t,e,s,n),As(t,e,s))}};function Lc(e,t,n,s,a,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,o):t.prototype&&t.prototype.isPureReactComponent?!Un(n,s)||!Un(a,l):!0}function dm(e,t,n){var s=!1,a=sr,l=t.contextType;return typeof l=="object"&&l!==null?l=lt(l):(a=Be(t)?gr:Re.current,s=t.contextTypes,l=(s=s!=null)?qr(e,a):sr),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ea,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function zc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Ea.enqueueReplaceState(t,t.state,null)}function eo(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Xo(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=lt(l):(l=Be(t)?gr:Re.current,a.context=qr(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Zl(e,t,l,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ea.enqueueReplaceState(a,a.state,null),la(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Jr(e,t){try{var n="",s=t;do n+=xx(s),s=s.return;while(s);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function xl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function to(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Uh=typeof WeakMap=="function"?WeakMap:Map;function um(e,t,n){n=Pt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){ua||(ua=!0,mo=s),to(e,t)},n}function mm(e,t,n){n=Pt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){to(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){to(e,t),typeof s!="function"&&(Yt===null?Yt=new Set([this]):Yt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Rc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Uh;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=tf.bind(null,e,t,n),t.then(e,e))}function Oc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tc(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pt(-1,1),t.tag=2,Jt(n,t,1))),n.lanes|=1),e)}var Bh=Tt.ReactCurrentOwner,$e=!1;function Te(e,t,n,s){t.child=e===null?Uu(t,null,n,s):Qr(t,e.child,n,s)}function Ac(e,t,n,s,a){n=n.render;var l=t.ref;return Wr(t,a),s=ni(e,t,n,s,l,a),n=si(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ot(e,t,a)):(oe&&n&&Ho(t),t.flags|=1,Te(e,t,s,a),t.child)}function Fc(e,t,n,s,a){if(e===null){var l=n.type;return typeof l=="function"&&!xi(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,pm(e,t,l,s,a)):(e=Us(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Un,n(o,s)&&e.ref===t.ref)return Ot(e,t,a)}return t.flags|=1,e=Zt(l,s),e.ref=t.ref,e.return=t,t.child=e}function pm(e,t,n,s,a){if(e!==null){var l=e.memoizedProps;if(Un(l,s)&&e.ref===t.ref)if($e=!1,t.pendingProps=s=l,(e.lanes&a)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,Ot(e,t,a)}return ro(e,t,n,s,a)}function xm(e,t,n){var s=t.pendingProps,a=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(Ir,qe),qe|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(Ir,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:n,re(Ir,qe),qe|=s}else l!==null?(s=l.baseLanes|n,t.memoizedState=null):s=n,re(Ir,qe),qe|=s;return Te(e,t,a,n),t.child}function hm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ro(e,t,n,s,a){var l=Be(n)?gr:Re.current;return l=qr(t,l),Wr(t,a),n=ni(e,t,n,s,l,a),s=si(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ot(e,t,a)):(oe&&s&&Ho(t),t.flags|=1,Te(e,t,n,a),t.child)}function Dc(e,t,n,s,a){if(Be(n)){var l=!0;ta(t)}else l=!1;if(Wr(t,a),t.stateNode===null)Is(e,t),dm(t,n,s),eo(t,n,s,a),s=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var d=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=lt(c):(c=Be(n)?gr:Re.current,c=qr(t,c));var u=n.getDerivedStateFromProps,p=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==s||d!==c)&&zc(t,o,s,c),$t=!1;var f=t.memoizedState;o.state=f,la(t,s,o,a),d=t.memoizedState,i!==s||f!==d||Ue.current||$t?(typeof u=="function"&&(Zl(t,n,u,s),d=t.memoizedState),(i=$t||Lc(t,n,i,s,f,d,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),o.props=s,o.state=d,o.context=c,s=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Wu(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ct(t.type,i),o.props=c,p=t.pendingProps,f=o.context,d=n.contextType,typeof d=="object"&&d!==null?d=lt(d):(d=Be(n)?gr:Re.current,d=qr(t,d));var N=n.getDerivedStateFromProps;(u=typeof N=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==p||f!==d)&&zc(t,o,s,d),$t=!1,f=t.memoizedState,o.state=f,la(t,s,o,a);var b=t.memoizedState;i!==p||f!==b||Ue.current||$t?(typeof N=="function"&&(Zl(t,n,N,s),b=t.memoizedState),(c=$t||Lc(t,n,c,s,f,b,d)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,b,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,b,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=b),o.props=s,o.state=b,o.context=d,s=c):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return no(e,t,n,s,l,a)}function no(e,t,n,s,a,l){hm(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Nc(t,n,!1),Ot(e,t,l);s=t.stateNode,Bh.current=t;var i=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Qr(t,e.child,null,l),t.child=Qr(t,null,i,l)):Te(e,t,i,l),t.memoizedState=s.state,a&&Nc(t,n,!0),t.child}function fm(e){var t=e.stateNode;t.pendingContext?jc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jc(e,t.context,!1),Zo(e,t.containerInfo)}function Ic(e,t,n,s,a){return Kr(),Ko(a),t.flags|=256,Te(e,t,n,s),t.child}var so={dehydrated:null,treeContext:null,retryLane:0};function ao(e){return{baseLanes:e,cachePool:null,transitions:null}}function ym(e,t,n){var s=t.pendingProps,a=de.current,l=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(a&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),re(de,a&1),e===null)return Yl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,l?(s=t.mode,l=t.child,o={mode:"hidden",children:o},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=za(o,s,0,null),e=fr(e,s,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ao(n),t.memoizedState=so,e):oi(t,o));if(a=e.memoizedState,a!==null&&(i=a.dehydrated,i!==null))return Wh(e,t,o,s,i,a,n);if(l){l=s.fallback,o=t.mode,a=e.child,i=a.sibling;var d={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=d,t.deletions=null):(s=Zt(a,d),s.subtreeFlags=a.subtreeFlags&14680064),i!==null?l=Zt(i,l):(l=fr(l,o,n,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,o=e.child.memoizedState,o=o===null?ao(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=so,s}return l=e.child,e=l.sibling,s=Zt(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function oi(e,t){return t=za({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ss(e,t,n,s){return s!==null&&Ko(s),Qr(t,e.child,null,n),e=oi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wh(e,t,n,s,a,l,o){if(n)return t.flags&256?(t.flags&=-257,s=xl(Error(I(422))),Ss(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,a=t.mode,s=za({mode:"visible",children:s.children},a,0,null),l=fr(l,a,o,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&Qr(t,e.child,null,o),t.child.memoizedState=ao(o),t.memoizedState=so,l);if(!(t.mode&1))return Ss(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var i=s.dgst;return s=i,l=Error(I(419)),s=xl(l,s,void 0),Ss(e,t,o,s)}if(i=(o&e.childLanes)!==0,$e||i){if(s=we,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Rt(e,a),pt(s,e,a,-1))}return pi(),s=xl(Error(I(421))),Ss(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=rf.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Ke=Gt(a.nextSibling),Qe=t,oe=!0,ut=null,e!==null&&(rt[nt++]=_t,rt[nt++]=Ct,rt[nt++]=br,_t=e.id,Ct=e.overflow,br=t),t=oi(t,s.children),t.flags|=4096,t)}function Mc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Xl(e.return,t,n)}function hl(e,t,n,s,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=n,l.tailMode=a)}function gm(e,t,n){var s=t.pendingProps,a=s.revealOrder,l=s.tail;if(Te(e,t,s.children,n),s=de.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mc(e,n,t);else if(e.tag===19)Mc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(re(de,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&oa(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),hl(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&oa(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}hl(t,!0,n,null,l);break;case"together":hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Is(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Zt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vh(e,t,n){switch(t.tag){case 3:fm(t),Kr();break;case 5:Vu(t);break;case 1:Be(t.type)&&ta(t);break;case 4:Zo(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;re(sa,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(re(de,de.current&1),t.flags|=128,null):n&t.child.childLanes?ym(e,t,n):(re(de,de.current&1),e=Ot(e,t,n),e!==null?e.sibling:null);re(de,de.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return gm(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),re(de,de.current),s)break;return null;case 22:case 23:return t.lanes=0,xm(e,t,n)}return Ot(e,t,n)}var bm,lo,vm,jm;bm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lo=function(){};vm=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,pr(jt.current);var l=null;switch(n){case"input":a=El(e,a),s=El(e,s),l=[];break;case"select":a=me({},a,{value:void 0}),s=me({},s,{value:void 0}),l=[];break;case"textarea":a=zl(e,a),s=zl(e,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Zs)}Ol(n,s);var o;n=null;for(c in a)if(!s.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var i=a[c];for(o in i)i.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Tn.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in s){var d=s[c];if(i=a!=null?a[c]:void 0,s.hasOwnProperty(c)&&d!==i&&(d!=null||i!=null))if(c==="style")if(i){for(o in i)!i.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in d)d.hasOwnProperty(o)&&i[o]!==d[o]&&(n||(n={}),n[o]=d[o])}else n||(l||(l=[]),l.push(c,n)),n=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,i=i?i.__html:void 0,d!=null&&i!==d&&(l=l||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Tn.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&se("scroll",e),l||i===d||(l=[])):(l=l||[]).push(c,d))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};jm=function(e,t,n,s){n!==s&&(t.flags|=4)};function fn(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Hh(e,t,n){var s=t.pendingProps;switch(qo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Be(t.type)&&ea(),Pe(t),null;case 3:return s=t.stateNode,Gr(),ae(Ue),ae(Re),ti(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ut!==null&&(ho(ut),ut=null))),lo(e,t),Pe(t),null;case 5:ei(t);var a=pr(qn.current);if(n=t.type,e!==null&&t.stateNode!=null)vm(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(I(166));return Pe(t),null}if(e=pr(jt.current),ws(t)){s=t.stateNode,n=t.type;var l=t.memoizedProps;switch(s[bt]=t,s[Vn]=l,e=(t.mode&1)!==0,n){case"dialog":se("cancel",s),se("close",s);break;case"iframe":case"object":case"embed":se("load",s);break;case"video":case"audio":for(a=0;a<wn.length;a++)se(wn[a],s);break;case"source":se("error",s);break;case"img":case"image":case"link":se("error",s),se("load",s);break;case"details":se("toggle",s);break;case"input":Qi(s,l),se("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},se("invalid",s);break;case"textarea":Ji(s,l),se("invalid",s)}Ol(n,l),a=null;for(var o in l)if(l.hasOwnProperty(o)){var i=l[o];o==="children"?typeof i=="string"?s.textContent!==i&&(l.suppressHydrationWarning!==!0&&Ns(s.textContent,i,e),a=["children",i]):typeof i=="number"&&s.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&Ns(s.textContent,i,e),a=["children",""+i]):Tn.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&se("scroll",s)}switch(n){case"input":xs(s),Gi(s,l,!0);break;case"textarea":xs(s),Yi(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Zs)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[bt]=t,e[Vn]=s,bm(e,t,!1,!1),t.stateNode=e;e:{switch(o=Tl(n,s),n){case"dialog":se("cancel",e),se("close",e),a=s;break;case"iframe":case"object":case"embed":se("load",e),a=s;break;case"video":case"audio":for(a=0;a<wn.length;a++)se(wn[a],e);a=s;break;case"source":se("error",e),a=s;break;case"img":case"image":case"link":se("error",e),se("load",e),a=s;break;case"details":se("toggle",e),a=s;break;case"input":Qi(e,s),a=El(e,s),se("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=me({},s,{value:void 0}),se("invalid",e);break;case"textarea":Ji(e,s),a=zl(e,s),se("invalid",e);break;default:a=s}Ol(n,a),i=a;for(l in i)if(i.hasOwnProperty(l)){var d=i[l];l==="style"?Xd(e,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Jd(e,d)):l==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&An(e,d):typeof d=="number"&&An(e,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Tn.hasOwnProperty(l)?d!=null&&l==="onScroll"&&se("scroll",e):d!=null&&zo(e,l,d,o))}switch(n){case"input":xs(e),Gi(e,s,!1);break;case"textarea":xs(e),Yi(e);break;case"option":s.value!=null&&e.setAttribute("value",""+nr(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?Mr(e,!!s.multiple,l,!1):s.defaultValue!=null&&Mr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Zs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pe(t),null;case 6:if(e&&t.stateNode!=null)jm(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(I(166));if(n=pr(qn.current),pr(jt.current),ws(t)){if(s=t.stateNode,n=t.memoizedProps,s[bt]=t,(l=s.nodeValue!==n)&&(e=Qe,e!==null))switch(e.tag){case 3:Ns(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ns(s.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[bt]=t,t.stateNode=s}return Pe(t),null;case 13:if(ae(de),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&Ke!==null&&t.mode&1&&!(t.flags&128))Mu(),Kr(),t.flags|=98560,l=!1;else if(l=ws(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(I(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(I(317));l[bt]=t}else Kr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pe(t),l=!1}else ut!==null&&(ho(ut),ut=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?je===0&&(je=3):pi())),t.updateQueue!==null&&(t.flags|=4),Pe(t),null);case 4:return Gr(),lo(e,t),e===null&&Bn(t.stateNode.containerInfo),Pe(t),null;case 10:return Jo(t.type._context),Pe(t),null;case 17:return Be(t.type)&&ea(),Pe(t),null;case 19:if(ae(de),l=t.memoizedState,l===null)return Pe(t),null;if(s=(t.flags&128)!==0,o=l.rendering,o===null)if(s)fn(l,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=oa(e),o!==null){for(t.flags|=128,fn(l,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)l=n,e=s,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return re(de,de.current&1|2),t.child}e=e.sibling}l.tail!==null&&xe()>Yr&&(t.flags|=128,s=!0,fn(l,!1),t.lanes=4194304)}else{if(!s)if(e=oa(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!oe)return Pe(t),null}else 2*xe()-l.renderingStartTime>Yr&&n!==1073741824&&(t.flags|=128,s=!0,fn(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=xe(),t.sibling=null,n=de.current,re(de,s?n&1|2:n&1),t):(Pe(t),null);case 22:case 23:return mi(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?qe&1073741824&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function qh(e,t){switch(qo(t),t.tag){case 1:return Be(t.type)&&ea(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),ae(Ue),ae(Re),ti(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ei(t),null;case 13:if(ae(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Kr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(de),null;case 4:return Gr(),null;case 10:return Jo(t.type._context),null;case 22:case 23:return mi(),null;case 24:return null;default:return null}}var _s=!1,Le=!1,Kh=typeof WeakSet=="function"?WeakSet:Set,B=null;function Dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){pe(e,t,s)}else n.current=null}function oo(e,t,n){try{n()}catch(s){pe(e,t,s)}}var $c=!1;function Qh(e,t){if(Vl=Js,e=_u(),Vo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,i=-1,d=-1,c=0,u=0,p=e,f=null;t:for(;;){for(var N;p!==n||a!==0&&p.nodeType!==3||(i=o+a),p!==l||s!==0&&p.nodeType!==3||(d=o+s),p.nodeType===3&&(o+=p.nodeValue.length),(N=p.firstChild)!==null;)f=p,p=N;for(;;){if(p===e)break t;if(f===n&&++c===a&&(i=o),f===l&&++u===s&&(d=o),(N=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=N}n=i===-1||d===-1?null:{start:i,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hl={focusedElem:e,selectionRange:n},Js=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,j=b.memoizedState,m=t.stateNode,x=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ct(t.type,v),j);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(g){pe(t,t.return,g)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return b=$c,$c=!1,b}function zn(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&oo(t,n,l)}a=a.next}while(a!==s)}}function Pa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function io(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Nm(e){var t=e.alternate;t!==null&&(e.alternate=null,Nm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bt],delete t[Vn],delete t[Ql],delete t[Lh],delete t[zh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wm(e){return e.tag===5||e.tag===3||e.tag===4}function Uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function co(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zs));else if(s!==4&&(e=e.child,e!==null))for(co(e,t,n),e=e.sibling;e!==null;)co(e,t,n),e=e.sibling}function uo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(uo(e,t,n),e=e.sibling;e!==null;)uo(e,t,n),e=e.sibling}var Se=null,dt=!1;function It(e,t,n){for(n=n.child;n!==null;)km(e,t,n),n=n.sibling}function km(e,t,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(ja,n)}catch{}switch(n.tag){case 5:Le||Dr(n,t);case 6:var s=Se,a=dt;Se=null,It(e,t,n),Se=s,dt=a,Se!==null&&(dt?(e=Se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(dt?(e=Se,n=n.stateNode,e.nodeType===8?il(e.parentNode,n):e.nodeType===1&&il(e,n),Mn(e)):il(Se,n.stateNode));break;case 4:s=Se,a=dt,Se=n.stateNode.containerInfo,dt=!0,It(e,t,n),Se=s,dt=a;break;case 0:case 11:case 14:case 15:if(!Le&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var l=a,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&oo(n,t,o),a=a.next}while(a!==s)}It(e,t,n);break;case 1:if(!Le&&(Dr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(i){pe(n,t,i)}It(e,t,n);break;case 21:It(e,t,n);break;case 22:n.mode&1?(Le=(s=Le)||n.memoizedState!==null,It(e,t,n),Le=s):It(e,t,n);break;default:It(e,t,n)}}function Bc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Kh),t.forEach(function(s){var a=nf.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function it(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var l=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:Se=i.stateNode,dt=!1;break e;case 3:Se=i.stateNode.containerInfo,dt=!0;break e;case 4:Se=i.stateNode.containerInfo,dt=!0;break e}i=i.return}if(Se===null)throw Error(I(160));km(l,o,a),Se=null,dt=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(c){pe(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sm(t,e),t=t.sibling}function Sm(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(it(t,e),ft(e),s&4){try{zn(3,e,e.return),Pa(3,e)}catch(v){pe(e,e.return,v)}try{zn(5,e,e.return)}catch(v){pe(e,e.return,v)}}break;case 1:it(t,e),ft(e),s&512&&n!==null&&Dr(n,n.return);break;case 5:if(it(t,e),ft(e),s&512&&n!==null&&Dr(n,n.return),e.flags&32){var a=e.stateNode;try{An(a,"")}catch(v){pe(e,e.return,v)}}if(s&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,i=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&Kd(a,l),Tl(i,o);var c=Tl(i,l);for(o=0;o<d.length;o+=2){var u=d[o],p=d[o+1];u==="style"?Xd(a,p):u==="dangerouslySetInnerHTML"?Jd(a,p):u==="children"?An(a,p):zo(a,u,p,c)}switch(i){case"input":Pl(a,l);break;case"textarea":Qd(a,l);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var N=l.value;N!=null?Mr(a,!!l.multiple,N,!1):f!==!!l.multiple&&(l.defaultValue!=null?Mr(a,!!l.multiple,l.defaultValue,!0):Mr(a,!!l.multiple,l.multiple?[]:"",!1))}a[Vn]=l}catch(v){pe(e,e.return,v)}}break;case 6:if(it(t,e),ft(e),s&4){if(e.stateNode===null)throw Error(I(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(v){pe(e,e.return,v)}}break;case 3:if(it(t,e),ft(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Mn(t.containerInfo)}catch(v){pe(e,e.return,v)}break;case 4:it(t,e),ft(e);break;case 13:it(t,e),ft(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(di=xe())),s&4&&Bc(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Le=(c=Le)||u,it(t,e),Le=c):it(t,e),ft(e),s&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(B=e,u=e.child;u!==null;){for(p=B=u;B!==null;){switch(f=B,N=f.child,f.tag){case 0:case 11:case 14:case 15:zn(4,f,f.return);break;case 1:Dr(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){pe(s,n,v)}}break;case 5:Dr(f,f.return);break;case 22:if(f.memoizedState!==null){Vc(p);continue}}N!==null?(N.return=f,B=N):Vc(p)}u=u.sibling}e:for(u=null,p=e;;){if(p.tag===5){if(u===null){u=p;try{a=p.stateNode,c?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=p.stateNode,d=p.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,i.style.display=Yd("display",o))}catch(v){pe(e,e.return,v)}}}else if(p.tag===6){if(u===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(v){pe(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:it(t,e),ft(e),s&4&&Bc(e);break;case 21:break;default:it(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wm(n)){var s=n;break e}n=n.return}throw Error(I(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(An(a,""),s.flags&=-33);var l=Uc(e);uo(e,l,a);break;case 3:case 4:var o=s.stateNode.containerInfo,i=Uc(e);co(e,i,o);break;default:throw Error(I(161))}}catch(d){pe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gh(e,t,n){B=e,_m(e)}function _m(e,t,n){for(var s=(e.mode&1)!==0;B!==null;){var a=B,l=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||_s;if(!o){var i=a.alternate,d=i!==null&&i.memoizedState!==null||Le;i=_s;var c=Le;if(_s=o,(Le=d)&&!c)for(B=a;B!==null;)o=B,d=o.child,o.tag===22&&o.memoizedState!==null?Hc(a):d!==null?(d.return=o,B=d):Hc(a);for(;l!==null;)B=l,_m(l),l=l.sibling;B=a,_s=i,Le=c}Wc(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,B=l):Wc(e)}}function Wc(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||Pa(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Le)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ct(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Cc(t,l,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cc(t,o,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var p=u.dehydrated;p!==null&&Mn(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Le||t.flags&512&&io(t)}catch(f){pe(t,t.return,f)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function Vc(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function Hc(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pa(4,t)}catch(d){pe(t,n,d)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(d){pe(t,a,d)}}var l=t.return;try{io(t)}catch(d){pe(t,l,d)}break;case 5:var o=t.return;try{io(t)}catch(d){pe(t,o,d)}}}catch(d){pe(t,t.return,d)}if(t===e){B=null;break}var i=t.sibling;if(i!==null){i.return=t.return,B=i;break}B=t.return}}var Jh=Math.ceil,da=Tt.ReactCurrentDispatcher,ii=Tt.ReactCurrentOwner,at=Tt.ReactCurrentBatchConfig,Z=0,we=null,ge=null,_e=0,qe=0,Ir=lr(0),je=0,Jn=null,jr=0,La=0,ci=0,Rn=null,Me=null,di=0,Yr=1/0,kt=null,ua=!1,mo=null,Yt=null,Cs=!1,Vt=null,ma=0,On=0,po=null,Ms=-1,$s=0;function Ae(){return Z&6?xe():Ms!==-1?Ms:Ms=xe()}function Xt(e){return e.mode&1?Z&2&&_e!==0?_e&-_e:Oh.transition!==null?($s===0&&($s=du()),$s):(e=ee,e!==0||(e=window.event,e=e===void 0?16:yu(e.type)),e):1}function pt(e,t,n,s){if(50<On)throw On=0,po=null,Error(I(185));rs(e,n,s),(!(Z&2)||e!==we)&&(e===we&&(!(Z&2)&&(La|=n),je===4&&Bt(e,_e)),We(e,s),n===1&&Z===0&&!(t.mode&1)&&(Yr=xe()+500,_a&&or()))}function We(e,t){var n=e.callbackNode;Ox(e,t);var s=Gs(e,e===we?_e:0);if(s===0)n!==null&&ec(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&ec(n),t===1)e.tag===0?Rh(qc.bind(null,e)):Fu(qc.bind(null,e)),Eh(function(){!(Z&6)&&or()}),n=null;else{switch(uu(s)){case 1:n=Fo;break;case 4:n=iu;break;case 16:n=Qs;break;case 536870912:n=cu;break;default:n=Qs}n=Tm(n,Cm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cm(e,t){if(Ms=-1,$s=0,Z&6)throw Error(I(327));var n=e.callbackNode;if(Vr()&&e.callbackNode!==n)return null;var s=Gs(e,e===we?_e:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=pa(e,s);else{t=s;var a=Z;Z|=2;var l=Pm();(we!==e||_e!==t)&&(kt=null,Yr=xe()+500,hr(e,t));do try{Zh();break}catch(i){Em(e,i)}while(!0);Go(),da.current=l,Z=a,ge!==null?t=0:(we=null,_e=0,t=je)}if(t!==0){if(t===2&&(a=Ml(e),a!==0&&(s=a,t=xo(e,a))),t===1)throw n=Jn,hr(e,0),Bt(e,s),We(e,xe()),n;if(t===6)Bt(e,s);else{if(a=e.current.alternate,!(s&30)&&!Yh(a)&&(t=pa(e,s),t===2&&(l=Ml(e),l!==0&&(s=l,t=xo(e,l))),t===1))throw n=Jn,hr(e,0),Bt(e,s),We(e,xe()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(I(345));case 2:dr(e,Me,kt);break;case 3:if(Bt(e,s),(s&130023424)===s&&(t=di+500-xe(),10<t)){if(Gs(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Ae(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Kl(dr.bind(null,e,Me,kt),t);break}dr(e,Me,kt);break;case 4:if(Bt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-mt(s);l=1<<o,o=t[o],o>a&&(a=o),s&=~l}if(s=a,s=xe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Jh(s/1960))-s,10<s){e.timeoutHandle=Kl(dr.bind(null,e,Me,kt),s);break}dr(e,Me,kt);break;case 5:dr(e,Me,kt);break;default:throw Error(I(329))}}}return We(e,xe()),e.callbackNode===n?Cm.bind(null,e):null}function xo(e,t){var n=Rn;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=pa(e,t),e!==2&&(t=Me,Me=n,t!==null&&ho(t)),e}function ho(e){Me===null?Me=e:Me.push.apply(Me,e)}function Yh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],l=a.getSnapshot;a=a.value;try{if(!xt(l(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bt(e,t){for(t&=~ci,t&=~La,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),s=1<<n;e[n]=-1,t&=~s}}function qc(e){if(Z&6)throw Error(I(327));Vr();var t=Gs(e,0);if(!(t&1))return We(e,xe()),null;var n=pa(e,t);if(e.tag!==0&&n===2){var s=Ml(e);s!==0&&(t=s,n=xo(e,s))}if(n===1)throw n=Jn,hr(e,0),Bt(e,t),We(e,xe()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dr(e,Me,kt),We(e,xe()),null}function ui(e,t){var n=Z;Z|=1;try{return e(t)}finally{Z=n,Z===0&&(Yr=xe()+500,_a&&or())}}function Nr(e){Vt!==null&&Vt.tag===0&&!(Z&6)&&Vr();var t=Z;Z|=1;var n=at.transition,s=ee;try{if(at.transition=null,ee=1,e)return e()}finally{ee=s,at.transition=n,Z=t,!(Z&6)&&or()}}function mi(){qe=Ir.current,ae(Ir)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ch(n)),ge!==null)for(n=ge.return;n!==null;){var s=n;switch(qo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ea();break;case 3:Gr(),ae(Ue),ae(Re),ti();break;case 5:ei(s);break;case 4:Gr();break;case 13:ae(de);break;case 19:ae(de);break;case 10:Jo(s.type._context);break;case 22:case 23:mi()}n=n.return}if(we=e,ge=e=Zt(e.current,null),_e=qe=t,je=0,Jn=null,ci=La=jr=0,Me=Rn=null,mr!==null){for(t=0;t<mr.length;t++)if(n=mr[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,l=n.pending;if(l!==null){var o=l.next;l.next=a,s.next=o}n.pending=s}mr=null}return e}function Em(e,t){do{var n=ge;try{if(Go(),Fs.current=ca,ia){for(var s=ue.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}ia=!1}if(vr=0,Ne=ve=ue=null,Ln=!1,Kn=0,ii.current=null,n===null||n.return===null){je=1,Jn=t,ge=null;break}e:{var l=e,o=n.return,i=n,d=t;if(t=_e,i.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=i,p=u.tag;if(!(u.mode&1)&&(p===0||p===11||p===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var N=Oc(o);if(N!==null){N.flags&=-257,Tc(N,o,i,l,t),N.mode&1&&Rc(l,c,t),t=N,d=c;var b=t.updateQueue;if(b===null){var v=new Set;v.add(d),t.updateQueue=v}else b.add(d);break e}else{if(!(t&1)){Rc(l,c,t),pi();break e}d=Error(I(426))}}else if(oe&&i.mode&1){var j=Oc(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Tc(j,o,i,l,t),Ko(Jr(d,i));break e}}l=d=Jr(d,i),je!==4&&(je=2),Rn===null?Rn=[l]:Rn.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var m=um(l,d,t);_c(l,m);break e;case 1:i=d;var x=l.type,h=l.stateNode;if(!(l.flags&128)&&(typeof x.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Yt===null||!Yt.has(h)))){l.flags|=65536,t&=-t,l.lanes|=t;var g=mm(l,i,t);_c(l,g);break e}}l=l.return}while(l!==null)}zm(n)}catch(E){t=E,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function Pm(){var e=da.current;return da.current=ca,e===null?ca:e}function pi(){(je===0||je===3||je===2)&&(je=4),we===null||!(jr&268435455)&&!(La&268435455)||Bt(we,_e)}function pa(e,t){var n=Z;Z|=2;var s=Pm();(we!==e||_e!==t)&&(kt=null,hr(e,t));do try{Xh();break}catch(a){Em(e,a)}while(!0);if(Go(),Z=n,da.current=s,ge!==null)throw Error(I(261));return we=null,_e=0,je}function Xh(){for(;ge!==null;)Lm(ge)}function Zh(){for(;ge!==null&&!kx();)Lm(ge)}function Lm(e){var t=Om(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?zm(e):ge=t,ii.current=null}function zm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qh(n,t),n!==null){n.flags&=32767,ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,ge=null;return}}else if(n=Hh(n,t,qe),n!==null){ge=n;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);je===0&&(je=5)}function dr(e,t,n){var s=ee,a=at.transition;try{at.transition=null,ee=1,ef(e,t,n,s)}finally{at.transition=a,ee=s}return null}function ef(e,t,n,s){do Vr();while(Vt!==null);if(Z&6)throw Error(I(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Tx(e,l),e===we&&(ge=we=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cs||(Cs=!0,Tm(Qs,function(){return Vr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=at.transition,at.transition=null;var o=ee;ee=1;var i=Z;Z|=4,ii.current=null,Qh(e,n),Sm(n,e),vh(Hl),Js=!!Vl,Hl=Vl=null,e.current=n,Gh(n),Sx(),Z=i,ee=o,at.transition=l}else e.current=n;if(Cs&&(Cs=!1,Vt=e,ma=a),l=e.pendingLanes,l===0&&(Yt=null),Ex(n.stateNode),We(e,xe()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(ua)throw ua=!1,e=mo,mo=null,e;return ma&1&&e.tag!==0&&Vr(),l=e.pendingLanes,l&1?e===po?On++:(On=0,po=e):On=0,or(),null}function Vr(){if(Vt!==null){var e=uu(ma),t=at.transition,n=ee;try{if(at.transition=null,ee=16>e?16:e,Vt===null)var s=!1;else{if(e=Vt,Vt=null,ma=0,Z&6)throw Error(I(331));var a=Z;for(Z|=4,B=e.current;B!==null;){var l=B,o=l.child;if(B.flags&16){var i=l.deletions;if(i!==null){for(var d=0;d<i.length;d++){var c=i[d];for(B=c;B!==null;){var u=B;switch(u.tag){case 0:case 11:case 15:zn(8,u,l)}var p=u.child;if(p!==null)p.return=u,B=p;else for(;B!==null;){u=B;var f=u.sibling,N=u.return;if(Nm(u),u===c){B=null;break}if(f!==null){f.return=N,B=f;break}B=N}}}var b=l.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}B=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,B=o;else e:for(;B!==null;){if(l=B,l.flags&2048)switch(l.tag){case 0:case 11:case 15:zn(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,B=m;break e}B=l.return}}var x=e.current;for(B=x;B!==null;){o=B;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,B=h;else e:for(o=x;B!==null;){if(i=B,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Pa(9,i)}}catch(E){pe(i,i.return,E)}if(i===o){B=null;break e}var g=i.sibling;if(g!==null){g.return=i.return,B=g;break e}B=i.return}}if(Z=a,or(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(ja,e)}catch{}s=!0}return s}finally{ee=n,at.transition=t}}return!1}function Kc(e,t,n){t=Jr(n,t),t=um(e,t,1),e=Jt(e,t,1),t=Ae(),e!==null&&(rs(e,1,t),We(e,t))}function pe(e,t,n){if(e.tag===3)Kc(e,e,n);else for(;t!==null;){if(t.tag===3){Kc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Yt===null||!Yt.has(s))){e=Jr(n,e),e=mm(t,e,1),t=Jt(t,e,1),e=Ae(),t!==null&&(rs(t,1,e),We(t,e));break}}t=t.return}}function tf(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ae(),e.pingedLanes|=e.suspendedLanes&n,we===e&&(_e&n)===n&&(je===4||je===3&&(_e&130023424)===_e&&500>xe()-di?hr(e,0):ci|=n),We(e,t)}function Rm(e,t){t===0&&(e.mode&1?(t=ys,ys<<=1,!(ys&130023424)&&(ys=4194304)):t=1);var n=Ae();e=Rt(e,t),e!==null&&(rs(e,t,n),We(e,n))}function rf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rm(e,n)}function nf(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(t),Rm(e,n)}var Om;Om=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)$e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $e=!1,Vh(e,t,n);$e=!!(e.flags&131072)}else $e=!1,oe&&t.flags&1048576&&Du(t,na,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Is(e,t),e=t.pendingProps;var a=qr(t,Re.current);Wr(t,n),a=ni(null,t,s,e,a,n);var l=si();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Be(s)?(l=!0,ta(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Xo(t),a.updater=Ea,t.stateNode=a,a._reactInternals=t,eo(t,s,e,n),t=no(null,t,s,!0,l,n)):(t.tag=0,oe&&l&&Ho(t),Te(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Is(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=af(s),e=ct(s,e),a){case 0:t=ro(null,t,s,e,n);break e;case 1:t=Dc(null,t,s,e,n);break e;case 11:t=Ac(null,t,s,e,n);break e;case 14:t=Fc(null,t,s,ct(s.type,e),n);break e}throw Error(I(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ct(s,a),ro(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ct(s,a),Dc(e,t,s,a,n);case 3:e:{if(fm(t),e===null)throw Error(I(387));s=t.pendingProps,l=t.memoizedState,a=l.element,Wu(e,t),la(t,s,null,n);var o=t.memoizedState;if(s=o.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Jr(Error(I(423)),t),t=Ic(e,t,s,n,a);break e}else if(s!==a){a=Jr(Error(I(424)),t),t=Ic(e,t,s,n,a);break e}else for(Ke=Gt(t.stateNode.containerInfo.firstChild),Qe=t,oe=!0,ut=null,n=Uu(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kr(),s===a){t=Ot(e,t,n);break e}Te(e,t,s,n)}t=t.child}return t;case 5:return Vu(t),e===null&&Yl(t),s=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,o=a.children,ql(s,a)?o=null:l!==null&&ql(s,l)&&(t.flags|=32),hm(e,t),Te(e,t,o,n),t.child;case 6:return e===null&&Yl(t),null;case 13:return ym(e,t,n);case 4:return Zo(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Qr(t,null,s,n):Te(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ct(s,a),Ac(e,t,s,a,n);case 7:return Te(e,t,t.pendingProps,n),t.child;case 8:return Te(e,t,t.pendingProps.children,n),t.child;case 12:return Te(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,re(sa,s._currentValue),s._currentValue=o,l!==null)if(xt(l.value,o)){if(l.children===a.children&&!Ue.current){t=Ot(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){o=l.child;for(var d=i.firstContext;d!==null;){if(d.context===s){if(l.tag===1){d=Pt(-1,n&-n),d.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),Xl(l.return,n,t),i.lanes|=n;break}d=d.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(I(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),Xl(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Te(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Wr(t,n),a=lt(a),s=s(a),t.flags|=1,Te(e,t,s,n),t.child;case 14:return s=t.type,a=ct(s,t.pendingProps),a=ct(s.type,a),Fc(e,t,s,a,n);case 15:return pm(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ct(s,a),Is(e,t),t.tag=1,Be(s)?(e=!0,ta(t)):e=!1,Wr(t,n),dm(t,s,a),eo(t,s,a,n),no(null,t,s,!0,e,n);case 19:return gm(e,t,n);case 22:return xm(e,t,n)}throw Error(I(156,t.tag))};function Tm(e,t){return ou(e,t)}function sf(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,n,s){return new sf(e,t,n,s)}function xi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function af(e){if(typeof e=="function")return xi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oo)return 11;if(e===To)return 14}return 2}function Zt(e,t){var n=e.alternate;return n===null?(n=st(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Us(e,t,n,s,a,l){var o=2;if(s=e,typeof e=="function")xi(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Er:return fr(n.children,a,l,t);case Ro:o=8,a|=8;break;case kl:return e=st(12,n,t,a|2),e.elementType=kl,e.lanes=l,e;case Sl:return e=st(13,n,t,a),e.elementType=Sl,e.lanes=l,e;case _l:return e=st(19,n,t,a),e.elementType=_l,e.lanes=l,e;case Vd:return za(n,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bd:o=10;break e;case Wd:o=9;break e;case Oo:o=11;break e;case To:o=14;break e;case Mt:o=16,s=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=st(o,n,t,a),t.elementType=e,t.type=s,t.lanes=l,t}function fr(e,t,n,s){return e=st(7,e,s,t),e.lanes=n,e}function za(e,t,n,s){return e=st(22,e,s,t),e.elementType=Vd,e.lanes=n,e.stateNode={isHidden:!1},e}function fl(e,t,n){return e=st(6,e,null,t),e.lanes=n,e}function yl(e,t,n){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lf(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ya(0),this.expirationTimes=Ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function hi(e,t,n,s,a,l,o,i,d){return e=new lf(e,t,n,i,d),t===1?(t=1,l===!0&&(t|=8)):t=0,l=st(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xo(l),e}function of(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Am(e){if(!e)return sr;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Be(n))return Au(e,n,t)}return t}function Fm(e,t,n,s,a,l,o,i,d){return e=hi(n,s,!0,e,a,l,o,i,d),e.context=Am(null),n=e.current,s=Ae(),a=Xt(n),l=Pt(s,a),l.callback=t??null,Jt(n,l,a),e.current.lanes=a,rs(e,a,s),We(e,s),e}function Ra(e,t,n,s){var a=t.current,l=Ae(),o=Xt(a);return n=Am(n),t.context===null?t.context=n:t.pendingContext=n,t=Pt(l,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Jt(a,t,o),e!==null&&(pt(e,a,o,l),As(e,a,o)),o}function xa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fi(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}function cf(){return null}var Dm=typeof reportError=="function"?reportError:function(e){console.error(e)};function yi(e){this._internalRoot=e}Oa.prototype.render=yi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ra(e,t,null,null)};Oa.prototype.unmount=yi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nr(function(){Ra(null,e,null,null)}),t[zt]=null}};function Oa(e){this._internalRoot=e}Oa.prototype.unstable_scheduleHydration=function(e){if(e){var t=xu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ut.length&&t!==0&&t<Ut[n].priority;n++);Ut.splice(n,0,e),n===0&&fu(e)}};function gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gc(){}function df(e,t,n,s,a){if(a){if(typeof s=="function"){var l=s;s=function(){var c=xa(o);l.call(c)}}var o=Fm(t,s,e,0,null,!1,!1,"",Gc);return e._reactRootContainer=o,e[zt]=o.current,Bn(e.nodeType===8?e.parentNode:e),Nr(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var i=s;s=function(){var c=xa(d);i.call(c)}}var d=hi(e,0,!1,null,null,!1,!1,"",Gc);return e._reactRootContainer=d,e[zt]=d.current,Bn(e.nodeType===8?e.parentNode:e),Nr(function(){Ra(t,d,n,s)}),d}function Aa(e,t,n,s,a){var l=n._reactRootContainer;if(l){var o=l;if(typeof a=="function"){var i=a;a=function(){var d=xa(o);i.call(d)}}Ra(t,o,e,a)}else o=df(n,t,e,a,s);return xa(o)}mu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Nn(t.pendingLanes);n!==0&&(Do(t,n|1),We(t,xe()),!(Z&6)&&(Yr=xe()+500,or()))}break;case 13:Nr(function(){var s=Rt(e,1);if(s!==null){var a=Ae();pt(s,e,1,a)}}),fi(e,1)}};Io=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var n=Ae();pt(t,e,134217728,n)}fi(e,134217728)}};pu=function(e){if(e.tag===13){var t=Xt(e),n=Rt(e,t);if(n!==null){var s=Ae();pt(n,e,t,s)}fi(e,t)}};xu=function(){return ee};hu=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}};Fl=function(e,t,n){switch(t){case"input":if(Pl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=Sa(s);if(!a)throw Error(I(90));qd(s),Pl(s,a)}}}break;case"textarea":Qd(e,n);break;case"select":t=n.value,t!=null&&Mr(e,!!n.multiple,t,!1)}};tu=ui;ru=Nr;var uf={usingClientEntryPoint:!1,Events:[ss,Rr,Sa,Zd,eu,ui]},yn={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mf={bundleType:yn.bundleType,version:yn.version,rendererPackageName:yn.rendererPackageName,rendererConfig:yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=au(e),e===null?null:e.stateNode},findFiberByHostInstance:yn.findFiberByHostInstance||cf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Es.isDisabled&&Es.supportsFiber)try{ja=Es.inject(mf),vt=Es}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uf;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gi(t))throw Error(I(200));return of(e,t,null,n)};Je.createRoot=function(e,t){if(!gi(e))throw Error(I(299));var n=!1,s="",a=Dm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=hi(e,1,!1,null,null,n,!1,s,a),e[zt]=t.current,Bn(e.nodeType===8?e.parentNode:e),new yi(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=au(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return Nr(e)};Je.hydrate=function(e,t,n){if(!Ta(t))throw Error(I(200));return Aa(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!gi(e))throw Error(I(405));var s=n!=null&&n.hydratedSources||null,a=!1,l="",o=Dm;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Fm(t,null,e,1,n??null,a,!1,l,o),e[zt]=t.current,Bn(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Oa(t)};Je.render=function(e,t,n){if(!Ta(t))throw Error(I(200));return Aa(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!Ta(e))throw Error(I(40));return e._reactRootContainer?(Nr(function(){Aa(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};Je.unstable_batchedUpdates=ui;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ta(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Aa(e,t,n,!1,s)};Je.version="18.3.1-next-f1338f8080-20240426";function Im(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Im)}catch(e){console.error(e)}}Im(),Id.exports=Je;var pf=Id.exports,Jc=pf;Nl.createRoot=Jc.createRoot,Nl.hydrateRoot=Jc.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yn(){return Yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yn.apply(this,arguments)}var Ht;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ht||(Ht={}));const Yc="popstate";function xf(e){e===void 0&&(e={});function t(s,a){let{pathname:l,search:o,hash:i}=s.location;return fo("",{pathname:l,search:o,hash:i},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ha(a)}return ff(t,n,null,e)}function he(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hf(){return Math.random().toString(36).substr(2,8)}function Xc(e,t){return{usr:e.state,key:e.key,idx:t}}function fo(e,t,n,s){return n===void 0&&(n=null),Yn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nn(t):t,{state:n,key:t&&t.key||s||hf()})}function ha(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function nn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function ff(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,o=a.history,i=Ht.Pop,d=null,c=u();c==null&&(c=0,o.replaceState(Yn({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function p(){i=Ht.Pop;let j=u(),m=j==null?null:j-c;c=j,d&&d({action:i,location:v.location,delta:m})}function f(j,m){i=Ht.Push;let x=fo(v.location,j,m);c=u()+1;let h=Xc(x,c),g=v.createHref(x);try{o.pushState(h,"",g)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(g)}l&&d&&d({action:i,location:v.location,delta:1})}function N(j,m){i=Ht.Replace;let x=fo(v.location,j,m);c=u();let h=Xc(x,c),g=v.createHref(x);o.replaceState(h,"",g),l&&d&&d({action:i,location:v.location,delta:0})}function b(j){let m=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof j=="string"?j:ha(j);return x=x.replace(/ $/,"%20"),he(m,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,m)}let v={get action(){return i},get location(){return e(a,o)},listen(j){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Yc,p),d=j,()=>{a.removeEventListener(Yc,p),d=null}},createHref(j){return t(a,j)},createURL:b,encodeLocation(j){let m=b(j);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:N,go(j){return o.go(j)}};return v}var Zc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zc||(Zc={}));function yf(e,t,n){return n===void 0&&(n="/"),gf(e,t,n)}function gf(e,t,n,s){let a=typeof t=="string"?nn(t):t,l=vi(a.pathname||"/",n);if(l==null)return null;let o=Mm(e);bf(o);let i=null;for(let d=0;i==null&&d<o.length;++d){let c=zf(l);i=Ef(o[d],c)}return i}function Mm(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(l,o,i)=>{let d={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};d.relativePath.startsWith("/")&&(he(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let c=er([s,d.relativePath]),u=n.concat(d);l.children&&l.children.length>0&&(he(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Mm(l.children,t,u,c)),!(l.path==null&&!l.index)&&t.push({path:c,score:_f(c,l.index),routesMeta:u})};return e.forEach((l,o)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))a(l,o);else for(let d of $m(l.path))a(l,o,d)}),t}function $m(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let o=$m(s.join("/")),i=[];return i.push(...o.map(d=>d===""?l:[l,d].join("/"))),a&&i.push(...o),i.map(d=>e.startsWith("/")&&d===""?"/":d)}function bf(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Cf(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const vf=/^:[\w-]+$/,jf=3,Nf=2,wf=1,kf=10,Sf=-2,ed=e=>e==="*";function _f(e,t){let n=e.split("/"),s=n.length;return n.some(ed)&&(s+=Sf),t&&(s+=Nf),n.filter(a=>!ed(a)).reduce((a,l)=>a+(vf.test(l)?jf:l===""?wf:kf),s)}function Cf(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function Ef(e,t,n){let{routesMeta:s}=e,a={},l="/",o=[];for(let i=0;i<s.length;++i){let d=s[i],c=i===s.length-1,u=l==="/"?t:t.slice(l.length)||"/",p=Pf({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),f=d.route;if(!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:er([l,p.pathname]),pathnameBase:Ff(er([l,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(l=er([l,p.pathnameBase]))}return o}function Pf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Lf(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:s.reduce((c,u,p)=>{let{paramName:f,isOptional:N}=u;if(f==="*"){let v=i[p]||"";o=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const b=i[p];return N&&!b?c[f]=void 0:c[f]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:o,pattern:e}}function Lf(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),bi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,d)=>(s.push({paramName:i,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function zf(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const Rf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Of=e=>Rf.test(e);function Tf(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?nn(e):e,l;if(n)if(Of(n))l=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),bi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?l=td(n.substring(1),"/"):l=td(n,t)}else l=t;return{pathname:l,search:Df(s),hash:If(a)}}function td(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function gl(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Af(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ji(e,t){let n=Af(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Ni(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=nn(e):(a=Yn({},e),he(!a.pathname||!a.pathname.includes("?"),gl("?","pathname","search",a)),he(!a.pathname||!a.pathname.includes("#"),gl("#","pathname","hash",a)),he(!a.search||!a.search.includes("#"),gl("#","search","hash",a)));let l=e===""||a.pathname==="",o=l?"/":a.pathname,i;if(o==null)i=n;else{let p=t.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;a.pathname=f.join("/")}i=p>=0?t[p]:"/"}let d=Tf(a,i),c=o&&o!=="/"&&o.endsWith("/"),u=(l||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const er=e=>e.join("/").replace(/\/\/+/g,"/"),Ff=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Df=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,If=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Mf(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Um=["post","put","patch","delete"];new Set(Um);const $f=["get",...Um];new Set($f);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xn.apply(this,arguments)}const wi=y.createContext(null),Uf=y.createContext(null),ir=y.createContext(null),Fa=y.createContext(null),At=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Bm=y.createContext(null);function Bf(e,t){let{relative:n}=t===void 0?{}:t;sn()||he(!1);let{basename:s,navigator:a}=y.useContext(ir),{hash:l,pathname:o,search:i}=Vm(e,{relative:n}),d=o;return s!=="/"&&(d=o==="/"?s:er([s,o])),a.createHref({pathname:d,search:i,hash:l})}function sn(){return y.useContext(Fa)!=null}function ls(){return sn()||he(!1),y.useContext(Fa).location}function Wm(e){y.useContext(ir).static||y.useLayoutEffect(e)}function Ft(){let{isDataRoute:e}=y.useContext(At);return e?ty():Wf()}function Wf(){sn()||he(!1);let e=y.useContext(wi),{basename:t,future:n,navigator:s}=y.useContext(ir),{matches:a}=y.useContext(At),{pathname:l}=ls(),o=JSON.stringify(ji(a,n.v7_relativeSplatPath)),i=y.useRef(!1);return Wm(()=>{i.current=!0}),y.useCallback(function(c,u){if(u===void 0&&(u={}),!i.current)return;if(typeof c=="number"){s.go(c);return}let p=Ni(c,JSON.parse(o),l,u.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:er([t,p.pathname])),(u.replace?s.replace:s.push)(p,u.state,u)},[t,s,o,l,e])}function ki(){let{matches:e}=y.useContext(At),t=e[e.length-1];return t?t.params:{}}function Vm(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=y.useContext(ir),{matches:a}=y.useContext(At),{pathname:l}=ls(),o=JSON.stringify(ji(a,s.v7_relativeSplatPath));return y.useMemo(()=>Ni(e,JSON.parse(o),l,n==="path"),[e,o,l,n])}function Vf(e,t){return Hf(e,t)}function Hf(e,t,n,s){sn()||he(!1);let{navigator:a}=y.useContext(ir),{matches:l}=y.useContext(At),o=l[l.length-1],i=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let c=ls(),u;if(t){var p;let j=typeof t=="string"?nn(t):t;d==="/"||(p=j.pathname)!=null&&p.startsWith(d)||he(!1),u=j}else u=c;let f=u.pathname||"/",N=f;if(d!=="/"){let j=d.replace(/^\//,"").split("/");N="/"+f.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=yf(e,{pathname:N}),v=Jf(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},i,j.params),pathname:er([d,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?d:er([d,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,n,s);return t&&v?y.createElement(Fa.Provider,{value:{location:Xn({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ht.Pop}},v):v}function qf(){let e=ey(),t=Mf(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:a},n):null,null)}const Kf=y.createElement(qf,null);class Qf extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(At.Provider,{value:this.props.routeContext},y.createElement(Bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gf(e){let{routeContext:t,match:n,children:s}=e,a=y.useContext(wi);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(At.Provider,{value:t},s)}function Jf(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,i=(a=n)==null?void 0:a.errors;if(i!=null){let u=o.findIndex(p=>p.route.id&&(i==null?void 0:i[p.route.id])!==void 0);u>=0||he(!1),o=o.slice(0,Math.min(o.length,u+1))}let d=!1,c=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let p=o[u];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=u),p.route.id){let{loaderData:f,errors:N}=n,b=p.route.loader&&f[p.route.id]===void 0&&(!N||N[p.route.id]===void 0);if(p.route.lazy||b){d=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,p,f)=>{let N,b=!1,v=null,j=null;n&&(N=i&&p.route.id?i[p.route.id]:void 0,v=p.route.errorElement||Kf,d&&(c<0&&f===0?(ry("route-fallback"),b=!0,j=null):c===f&&(b=!0,j=p.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),x=()=>{let h;return N?h=v:b?h=j:p.route.Component?h=y.createElement(p.route.Component,null):p.route.element?h=p.route.element:h=u,y.createElement(Gf,{match:p,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:h})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?y.createElement(Qf,{location:n.location,revalidation:n.revalidation,component:v,error:N,children:x(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):x()},null)}var Hm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hm||{}),qm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qm||{});function Yf(e){let t=y.useContext(wi);return t||he(!1),t}function Xf(e){let t=y.useContext(Uf);return t||he(!1),t}function Zf(e){let t=y.useContext(At);return t||he(!1),t}function Km(e){let t=Zf(),n=t.matches[t.matches.length-1];return n.route.id||he(!1),n.route.id}function ey(){var e;let t=y.useContext(Bm),n=Xf(),s=Km();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function ty(){let{router:e}=Yf(Hm.UseNavigateStable),t=Km(qm.UseNavigateStable),n=y.useRef(!1);return Wm(()=>{n.current=!0}),y.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Xn({fromRouteId:t},l)))},[e,t])}const rd={};function ry(e,t,n){rd[e]||(rd[e]=!0)}function ny(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function fa(e){let{to:t,replace:n,state:s,relative:a}=e;sn()||he(!1);let{future:l,static:o}=y.useContext(ir),{matches:i}=y.useContext(At),{pathname:d}=ls(),c=Ft(),u=Ni(t,ji(i,l.v7_relativeSplatPath),d,a==="path"),p=JSON.stringify(u);return y.useEffect(()=>c(JSON.parse(p),{replace:n,state:s,relative:a}),[c,p,a,n,s]),null}function Oe(e){he(!1)}function sy(e){let{basename:t="/",children:n=null,location:s,navigationType:a=Ht.Pop,navigator:l,static:o=!1,future:i}=e;sn()&&he(!1);let d=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:d,navigator:l,static:o,future:Xn({v7_relativeSplatPath:!1},i)}),[d,i,l,o]);typeof s=="string"&&(s=nn(s));let{pathname:u="/",search:p="",hash:f="",state:N=null,key:b="default"}=s,v=y.useMemo(()=>{let j=vi(u,d);return j==null?null:{location:{pathname:j,search:p,hash:f,state:N,key:b},navigationType:a}},[d,u,p,f,N,b,a]);return v==null?null:y.createElement(ir.Provider,{value:c},y.createElement(Fa.Provider,{children:n,value:v}))}function ay(e){let{children:t,location:n}=e;return Vf(yo(t),n)}new Promise(()=>{});function yo(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(s,a)=>{if(!y.isValidElement(s))return;let l=[...t,a];if(s.type===y.Fragment){n.push.apply(n,yo(s.props.children,l));return}s.type!==Oe&&he(!1),!s.props.index||!s.props.children||he(!1);let o={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=yo(s.props.children,l)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},go.apply(this,arguments)}function ly(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,l;for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function oy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iy(e,t){return e.button===0&&(!t||t==="_self")&&!oy(e)}const cy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dy="6";try{window.__reactRouterVersion=dy}catch{}const uy="startTransition",nd=tx[uy];function my(e){let{basename:t,children:n,future:s,window:a}=e,l=y.useRef();l.current==null&&(l.current=xf({window:a,v5Compat:!0}));let o=l.current,[i,d]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=s||{},u=y.useCallback(p=>{c&&nd?nd(()=>d(p)):d(p)},[d,c]);return y.useLayoutEffect(()=>o.listen(u),[o,u]),y.useEffect(()=>ny(s),[s]),y.createElement(sy,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:o,future:s})}const py=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hy=y.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:l,replace:o,state:i,target:d,to:c,preventScrollReset:u,viewTransition:p}=t,f=ly(t,cy),{basename:N}=y.useContext(ir),b,v=!1;if(typeof c=="string"&&xy.test(c)&&(b=c,py))try{let h=new URL(window.location.href),g=c.startsWith("//")?new URL(h.protocol+c):new URL(c),E=vi(g.pathname,N);g.origin===h.origin&&E!=null?c=E+g.search+g.hash:v=!0}catch{}let j=Bf(c,{relative:a}),m=fy(c,{replace:o,state:i,target:d,preventScrollReset:u,relative:a,viewTransition:p});function x(h){s&&s(h),h.defaultPrevented||m(h)}return y.createElement("a",go({},f,{href:b||j,onClick:v||l?s:x,ref:n,target:d}))});var sd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sd||(sd={}));var ad;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ad||(ad={}));function fy(e,t){let{target:n,replace:s,state:a,preventScrollReset:l,relative:o,viewTransition:i}=t===void 0?{}:t,d=Ft(),c=ls(),u=Vm(e,{relative:o});return y.useCallback(p=>{if(iy(p,n)){p.preventDefault();let f=s!==void 0?s:ha(c)===ha(u);d(e,{replace:f,state:a,preventScrollReset:l,relative:o,viewTransition:i})}},[c,d,u,s,a,n,e,l,o,i])}function Qm(e,t){return function(){return e.apply(t,arguments)}}const{toString:yy}=Object.prototype,{getPrototypeOf:Si}=Object,{iterator:Da,toStringTag:Gm}=Symbol,Ia=(e=>t=>{const n=yy.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ht=e=>(e=e.toLowerCase(),t=>Ia(t)===e),Ma=e=>t=>typeof t===e,{isArray:an}=Array,Xr=Ma("undefined");function os(e){return e!==null&&!Xr(e)&&e.constructor!==null&&!Xr(e.constructor)&&Ve(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Jm=ht("ArrayBuffer");function gy(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Jm(e.buffer),t}const by=Ma("string"),Ve=Ma("function"),Ym=Ma("number"),is=e=>e!==null&&typeof e=="object",vy=e=>e===!0||e===!1,Bs=e=>{if(Ia(e)!=="object")return!1;const t=Si(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Gm in e)&&!(Da in e)},jy=e=>{if(!is(e)||os(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Ny=ht("Date"),wy=ht("File"),ky=ht("Blob"),Sy=ht("FileList"),_y=e=>is(e)&&Ve(e.pipe),Cy=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ve(e.append)&&((t=Ia(e))==="formdata"||t==="object"&&Ve(e.toString)&&e.toString()==="[object FormData]"))},Ey=ht("URLSearchParams"),[Py,Ly,zy,Ry]=["ReadableStream","Request","Response","Headers"].map(ht),Oy=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),an(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(os(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),o=l.length;let i;for(s=0;s<o;s++)i=l[s],t.call(null,e[i],i,e)}}function Xm(e,t){if(os(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,a;for(;s-- >0;)if(a=n[s],t===a.toLowerCase())return a;return null}const xr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zm=e=>!Xr(e)&&e!==xr;function bo(){const{caseless:e,skipUndefined:t}=Zm(this)&&this||{},n={},s=(a,l)=>{const o=e&&Xm(n,l)||l;Bs(n[o])&&Bs(a)?n[o]=bo(n[o],a):Bs(a)?n[o]=bo({},a):an(a)?n[o]=a.slice():(!t||!Xr(a))&&(n[o]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&cs(arguments[a],s);return n}const Ty=(e,t,n,{allOwnKeys:s}={})=>(cs(t,(a,l)=>{n&&Ve(a)?e[l]=Qm(a,n):e[l]=a},{allOwnKeys:s}),e),Ay=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Fy=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Dy=(e,t,n,s)=>{let a,l,o;const i={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)o=a[l],(!s||s(o,e,t))&&!i[o]&&(t[o]=e[o],i[o]=!0);e=n!==!1&&Si(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Iy=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},My=e=>{if(!e)return null;if(an(e))return e;let t=e.length;if(!Ym(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},$y=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Si(Uint8Array)),Uy=(e,t)=>{const s=(e&&e[Da]).call(e);let a;for(;(a=s.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},By=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Wy=ht("HTMLFormElement"),Vy=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),ld=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Hy=ht("RegExp"),ep=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};cs(n,(a,l)=>{let o;(o=t(a,l,e))!==!1&&(s[l]=o||a)}),Object.defineProperties(e,s)},qy=e=>{ep(e,(t,n)=>{if(Ve(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Ve(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ky=(e,t)=>{const n={},s=a=>{a.forEach(l=>{n[l]=!0})};return an(e)?s(e):s(String(e).split(t)),n},Qy=()=>{},Gy=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Jy(e){return!!(e&&Ve(e.append)&&e[Gm]==="FormData"&&e[Da])}const Yy=e=>{const t=new Array(10),n=(s,a)=>{if(is(s)){if(t.indexOf(s)>=0)return;if(os(s))return s;if(!("toJSON"in s)){t[a]=s;const l=an(s)?[]:{};return cs(s,(o,i)=>{const d=n(o,a+1);!Xr(d)&&(l[i]=d)}),t[a]=void 0,l}}return s};return n(e,0)},Xy=ht("AsyncFunction"),Zy=e=>e&&(is(e)||Ve(e))&&Ve(e.then)&&Ve(e.catch),tp=((e,t)=>e?setImmediate:t?((n,s)=>(xr.addEventListener("message",({source:a,data:l})=>{a===xr&&l===n&&s.length&&s.shift()()},!1),a=>{s.push(a),xr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ve(xr.postMessage)),eg=typeof queueMicrotask<"u"?queueMicrotask.bind(xr):typeof process<"u"&&process.nextTick||tp,tg=e=>e!=null&&Ve(e[Da]),z={isArray:an,isArrayBuffer:Jm,isBuffer:os,isFormData:Cy,isArrayBufferView:gy,isString:by,isNumber:Ym,isBoolean:vy,isObject:is,isPlainObject:Bs,isEmptyObject:jy,isReadableStream:Py,isRequest:Ly,isResponse:zy,isHeaders:Ry,isUndefined:Xr,isDate:Ny,isFile:wy,isBlob:ky,isRegExp:Hy,isFunction:Ve,isStream:_y,isURLSearchParams:Ey,isTypedArray:$y,isFileList:Sy,forEach:cs,merge:bo,extend:Ty,trim:Oy,stripBOM:Ay,inherits:Fy,toFlatObject:Dy,kindOf:Ia,kindOfTest:ht,endsWith:Iy,toArray:My,forEachEntry:Uy,matchAll:By,isHTMLForm:Wy,hasOwnProperty:ld,hasOwnProp:ld,reduceDescriptors:ep,freezeMethods:qy,toObjectSet:Ky,toCamelCase:Vy,noop:Qy,toFiniteNumber:Gy,findKey:Xm,global:xr,isContextDefined:Zm,isSpecCompliantForm:Jy,toJSONObject:Yy,isAsyncFn:Xy,isThenable:Zy,setImmediate:tp,asap:eg,isIterable:tg};function Q(e,t,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}z.inherits(Q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const rp=Q.prototype,np={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{np[e]={value:e}});Object.defineProperties(Q,np);Object.defineProperty(rp,"isAxiosError",{value:!0});Q.from=(e,t,n,s,a,l)=>{const o=Object.create(rp);z.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const i=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return Q.call(o,i,d,n,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",l&&Object.assign(o,l),o};const rg=null;function vo(e){return z.isPlainObject(e)||z.isArray(e)}function sp(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function od(e,t,n){return e?e.concat(t).map(function(a,l){return a=sp(a),!n&&l?"["+a+"]":a}).join(n?".":""):t}function ng(e){return z.isArray(e)&&!e.some(vo)}const sg=z.toFlatObject(z,{},null,function(t){return/^is[A-Z]/.test(t)});function $a(e,t,n){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,j){return!z.isUndefined(j[v])});const s=n.metaTokens,a=n.visitor||u,l=n.dots,o=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(a))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(z.isDate(b))return b.toISOString();if(z.isBoolean(b))return b.toString();if(!d&&z.isBlob(b))throw new Q("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(b)||z.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,v,j){let m=b;if(b&&!j&&typeof b=="object"){if(z.endsWith(v,"{}"))v=s?v:v.slice(0,-2),b=JSON.stringify(b);else if(z.isArray(b)&&ng(b)||(z.isFileList(b)||z.endsWith(v,"[]"))&&(m=z.toArray(b)))return v=sp(v),m.forEach(function(h,g){!(z.isUndefined(h)||h===null)&&t.append(o===!0?od([v],g,l):o===null?v:v+"[]",c(h))}),!1}return vo(b)?!0:(t.append(od(j,v,l),c(b)),!1)}const p=[],f=Object.assign(sg,{defaultVisitor:u,convertValue:c,isVisitable:vo});function N(b,v){if(!z.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+v.join("."));p.push(b),z.forEach(b,function(m,x){(!(z.isUndefined(m)||m===null)&&a.call(t,m,z.isString(x)?x.trim():x,v,f))===!0&&N(m,v?v.concat(x):[x])}),p.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return N(e),t}function id(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function _i(e,t){this._pairs=[],e&&$a(e,this,t)}const ap=_i.prototype;ap.append=function(t,n){this._pairs.push([t,n])};ap.toString=function(t){const n=t?function(s){return t.call(this,s,id)}:id;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function ag(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lp(e,t,n){if(!t)return e;const s=n&&n.encode||ag;z.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(t,n):l=z.isURLSearchParams(t)?t.toString():new _i(t,n).toString(s),l){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class cd{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,function(s){s!==null&&t(s)})}}const op={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lg=typeof URLSearchParams<"u"?URLSearchParams:_i,og=typeof FormData<"u"?FormData:null,ig=typeof Blob<"u"?Blob:null,cg={isBrowser:!0,classes:{URLSearchParams:lg,FormData:og,Blob:ig},protocols:["http","https","file","blob","url","data"]},Ci=typeof window<"u"&&typeof document<"u",jo=typeof navigator=="object"&&navigator||void 0,dg=Ci&&(!jo||["ReactNative","NativeScript","NS"].indexOf(jo.product)<0),ug=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mg=Ci&&window.location.href||"http://localhost",pg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ci,hasStandardBrowserEnv:dg,hasStandardBrowserWebWorkerEnv:ug,navigator:jo,origin:mg},Symbol.toStringTag,{value:"Module"})),ze={...pg,...cg};function xg(e,t){return $a(e,new ze.classes.URLSearchParams,{visitor:function(n,s,a,l){return ze.isNode&&z.isBuffer(n)?(this.append(s,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function hg(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fg(e){const t={},n=Object.keys(e);let s;const a=n.length;let l;for(s=0;s<a;s++)l=n[s],t[l]=e[l];return t}function ip(e){function t(n,s,a,l){let o=n[l++];if(o==="__proto__")return!0;const i=Number.isFinite(+o),d=l>=n.length;return o=!o&&z.isArray(a)?a.length:o,d?(z.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!i):((!a[o]||!z.isObject(a[o]))&&(a[o]=[]),t(n,s,a[o],l)&&z.isArray(a[o])&&(a[o]=fg(a[o])),!i)}if(z.isFormData(e)&&z.isFunction(e.entries)){const n={};return z.forEachEntry(e,(s,a)=>{t(hg(s),a,n,0)}),n}return null}function yg(e,t,n){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const ds={transitional:op,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,l=z.isObject(t);if(l&&z.isHTMLForm(t)&&(t=new FormData(t)),z.isFormData(t))return a?JSON.stringify(ip(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return xg(t,this.formSerializer).toString();if((i=z.isFileList(t))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return $a(i?{"files[]":t}:t,d&&new d,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),yg(t)):t}],transformResponse:[function(t){const n=this.transitional||ds.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(s&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(i){if(o)throw i.name==="SyntaxError"?Q.from(i,Q.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ze.classes.FormData,Blob:ze.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{ds.headers[e]={}});const gg=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bg=e=>{const t={};let n,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!n||t[n]&&gg[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},dd=Symbol("internals");function gn(e){return e&&String(e).trim().toLowerCase()}function Ws(e){return e===!1||e==null?e:z.isArray(e)?e.map(Ws):String(e)}function vg(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const jg=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function bl(e,t,n,s,a){if(z.isFunction(s))return s.call(this,t,n);if(a&&(t=n),!!z.isString(t)){if(z.isString(s))return t.indexOf(s)!==-1;if(z.isRegExp(s))return s.test(t)}}function Ng(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function wg(e,t){const n=z.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(a,l,o){return this[s].call(this,t,a,l,o)},configurable:!0})})}let He=class{constructor(t){t&&this.set(t)}set(t,n,s){const a=this;function l(i,d,c){const u=gn(d);if(!u)throw new Error("header name must be a non-empty string");const p=z.findKey(a,u);(!p||a[p]===void 0||c===!0||c===void 0&&a[p]!==!1)&&(a[p||d]=Ws(i))}const o=(i,d)=>z.forEach(i,(c,u)=>l(c,u,d));if(z.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(z.isString(t)&&(t=t.trim())&&!jg(t))o(bg(t),n);else if(z.isObject(t)&&z.isIterable(t)){let i={},d,c;for(const u of t){if(!z.isArray(u))throw TypeError("Object iterator must return a key-value pair");i[c=u[0]]=(d=i[c])?z.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}o(i,n)}else t!=null&&l(n,t,s);return this}get(t,n){if(t=gn(t),t){const s=z.findKey(this,t);if(s){const a=this[s];if(!n)return a;if(n===!0)return vg(a);if(z.isFunction(n))return n.call(this,a,s);if(z.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=gn(t),t){const s=z.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||bl(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let a=!1;function l(o){if(o=gn(o),o){const i=z.findKey(s,o);i&&(!n||bl(s,s[i],i,n))&&(delete s[i],a=!0)}}return z.isArray(t)?t.forEach(l):l(t),a}clear(t){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const l=n[s];(!t||bl(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const n=this,s={};return z.forEach(this,(a,l)=>{const o=z.findKey(s,l);if(o){n[o]=Ws(a),delete n[l];return}const i=t?Ng(l):String(l).trim();i!==l&&delete n[l],n[i]=Ws(a),s[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return z.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=t&&z.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[dd]=this[dd]={accessors:{}}).accessors,a=this.prototype;function l(o){const i=gn(o);s[i]||(wg(a,o),s[i]=!0)}return z.isArray(t)?t.forEach(l):l(t),this}};He.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(He.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});z.freezeMethods(He);function vl(e,t){const n=this||ds,s=t||n,a=He.from(s.headers);let l=s.data;return z.forEach(e,function(i){l=i.call(n,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function cp(e){return!!(e&&e.__CANCEL__)}function ln(e,t,n){Q.call(this,e??"canceled",Q.ERR_CANCELED,t,n),this.name="CanceledError"}z.inherits(ln,Q,{__CANCEL__:!0});function dp(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new Q("Request failed with status code "+n.status,[Q.ERR_BAD_REQUEST,Q.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function kg(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Sg(e,t){e=e||10;const n=new Array(e),s=new Array(e);let a=0,l=0,o;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),u=s[l];o||(o=c),n[a]=d,s[a]=c;let p=l,f=0;for(;p!==a;)f+=n[p++],p=p%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),c-o<t)return;const N=u&&c-u;return N?Math.round(f*1e3/N):void 0}}function _g(e,t){let n=0,s=1e3/t,a,l;const o=(c,u=Date.now())=>{n=u,a=null,l&&(clearTimeout(l),l=null),e(...c)};return[(...c)=>{const u=Date.now(),p=u-n;p>=s?o(c,u):(a=c,l||(l=setTimeout(()=>{l=null,o(a)},s-p)))},()=>a&&o(a)]}const ya=(e,t,n=3)=>{let s=0;const a=Sg(50,250);return _g(l=>{const o=l.loaded,i=l.lengthComputable?l.total:void 0,d=o-s,c=a(d),u=o<=i;s=o;const p={loaded:o,total:i,progress:i?o/i:void 0,bytes:d,rate:c||void 0,estimated:c&&i&&u?(i-o)/c:void 0,event:l,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(p)},n)},ud=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},md=e=>(...t)=>z.asap(()=>e(...t)),Cg=ze.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ze.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ze.origin),ze.navigator&&/(msie|trident)/i.test(ze.navigator.userAgent)):()=>!0,Eg=ze.hasStandardBrowserEnv?{write(e,t,n,s,a,l,o){if(typeof document>"u")return;const i=[`${e}=${encodeURIComponent(t)}`];z.isNumber(n)&&i.push(`expires=${new Date(n).toUTCString()}`),z.isString(s)&&i.push(`path=${s}`),z.isString(a)&&i.push(`domain=${a}`),l===!0&&i.push("secure"),z.isString(o)&&i.push(`SameSite=${o}`),document.cookie=i.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Pg(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Lg(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function up(e,t,n){let s=!Pg(t);return e&&(s||n==!1)?Lg(e,t):t}const pd=e=>e instanceof He?{...e}:e;function wr(e,t){t=t||{};const n={};function s(c,u,p,f){return z.isPlainObject(c)&&z.isPlainObject(u)?z.merge.call({caseless:f},c,u):z.isPlainObject(u)?z.merge({},u):z.isArray(u)?u.slice():u}function a(c,u,p,f){if(z.isUndefined(u)){if(!z.isUndefined(c))return s(void 0,c,p,f)}else return s(c,u,p,f)}function l(c,u){if(!z.isUndefined(u))return s(void 0,u)}function o(c,u){if(z.isUndefined(u)){if(!z.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function i(c,u,p){if(p in t)return s(c,u);if(p in e)return s(void 0,c)}const d={url:l,method:l,data:l,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(c,u,p)=>a(pd(c),pd(u),p,!0)};return z.forEach(Object.keys({...e,...t}),function(u){const p=d[u]||a,f=p(e[u],t[u],u);z.isUndefined(f)&&p!==i||(n[u]=f)}),n}const mp=e=>{const t=wr({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:o,auth:i}=t;if(t.headers=o=He.from(o),t.url=lp(up(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),z.isFormData(n)){if(ze.hasStandardBrowserEnv||ze.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(z.isFunction(n.getHeaders)){const d=n.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,p])=>{c.includes(u.toLowerCase())&&o.set(u,p)})}}if(ze.hasStandardBrowserEnv&&(s&&z.isFunction(s)&&(s=s(t)),s||s!==!1&&Cg(t.url))){const d=a&&l&&Eg.read(l);d&&o.set(a,d)}return t},zg=typeof XMLHttpRequest<"u",Rg=zg&&function(e){return new Promise(function(n,s){const a=mp(e);let l=a.data;const o=He.from(a.headers).normalize();let{responseType:i,onUploadProgress:d,onDownloadProgress:c}=a,u,p,f,N,b;function v(){N&&N(),b&&b(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let j=new XMLHttpRequest;j.open(a.method.toUpperCase(),a.url,!0),j.timeout=a.timeout;function m(){if(!j)return;const h=He.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),E={data:!i||i==="text"||i==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:h,config:e,request:j};dp(function(w){n(w),v()},function(w){s(w),v()},E),j=null}"onloadend"in j?j.onloadend=m:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(m)},j.onabort=function(){j&&(s(new Q("Request aborted",Q.ECONNABORTED,e,j)),j=null)},j.onerror=function(g){const E=g&&g.message?g.message:"Network Error",T=new Q(E,Q.ERR_NETWORK,e,j);T.event=g||null,s(T),j=null},j.ontimeout=function(){let g=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||op;a.timeoutErrorMessage&&(g=a.timeoutErrorMessage),s(new Q(g,E.clarifyTimeoutError?Q.ETIMEDOUT:Q.ECONNABORTED,e,j)),j=null},l===void 0&&o.setContentType(null),"setRequestHeader"in j&&z.forEach(o.toJSON(),function(g,E){j.setRequestHeader(E,g)}),z.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),i&&i!=="json"&&(j.responseType=a.responseType),c&&([f,b]=ya(c,!0),j.addEventListener("progress",f)),d&&j.upload&&([p,N]=ya(d),j.upload.addEventListener("progress",p),j.upload.addEventListener("loadend",N)),(a.cancelToken||a.signal)&&(u=h=>{j&&(s(!h||h.type?new ln(null,e,j):h),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const x=kg(a.url);if(x&&ze.protocols.indexOf(x)===-1){s(new Q("Unsupported protocol "+x+":",Q.ERR_BAD_REQUEST,e));return}j.send(l||null)})},Og=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,a;const l=function(c){if(!a){a=!0,i();const u=c instanceof Error?c:this.reason;s.abort(u instanceof Q?u:new ln(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,l(new Q(`timeout ${t} of ms exceeded`,Q.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(l):c.removeEventListener("abort",l)}),e=null)};e.forEach(c=>c.addEventListener("abort",l));const{signal:d}=s;return d.unsubscribe=()=>z.asap(i),d}},Tg=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,a;for(;s<n;)a=s+t,yield e.slice(s,a),s=a},Ag=async function*(e,t){for await(const n of Fg(e))yield*Tg(n,t)},Fg=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},xd=(e,t,n,s)=>{const a=Ag(e,t);let l=0,o,i=d=>{o||(o=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await a.next();if(c){i(),d.close();return}let p=u.byteLength;if(n){let f=l+=p;n(f)}d.enqueue(new Uint8Array(u))}catch(c){throw i(c),c}},cancel(d){return i(d),a.return()}},{highWaterMark:2})},hd=64*1024,{isFunction:Ps}=z,Dg=(({Request:e,Response:t})=>({Request:e,Response:t}))(z.global),{ReadableStream:fd,TextEncoder:yd}=z.global,gd=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ig=e=>{e=z.merge.call({skipUndefined:!0},Dg,e);const{fetch:t,Request:n,Response:s}=e,a=t?Ps(t):typeof fetch=="function",l=Ps(n),o=Ps(s);if(!a)return!1;const i=a&&Ps(fd),d=a&&(typeof yd=="function"?(b=>v=>b.encode(v))(new yd):async b=>new Uint8Array(await new n(b).arrayBuffer())),c=l&&i&&gd(()=>{let b=!1;const v=new n(ze.origin,{body:new fd,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!v}),u=o&&i&&gd(()=>z.isReadableStream(new s("").body)),p={stream:u&&(b=>b.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!p[b]&&(p[b]=(v,j)=>{let m=v&&v[b];if(m)return m.call(v);throw new Q(`Response type '${b}' is not supported`,Q.ERR_NOT_SUPPORT,j)})});const f=async b=>{if(b==null)return 0;if(z.isBlob(b))return b.size;if(z.isSpecCompliantForm(b))return(await new n(ze.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(z.isArrayBufferView(b)||z.isArrayBuffer(b))return b.byteLength;if(z.isURLSearchParams(b)&&(b=b+""),z.isString(b))return(await d(b)).byteLength},N=async(b,v)=>{const j=z.toFiniteNumber(b.getContentLength());return j??f(v)};return async b=>{let{url:v,method:j,data:m,signal:x,cancelToken:h,timeout:g,onDownloadProgress:E,onUploadProgress:T,responseType:w,headers:C,withCredentials:S="same-origin",fetchOptions:O}=mp(b),_=t||fetch;w=w?(w+"").toLowerCase():"text";let $=Og([x,h&&h.toAbortSignal()],g),F=null;const M=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let W;try{if(T&&c&&j!=="get"&&j!=="head"&&(W=await N(C,m))!==0){let D=new n(v,{method:"POST",body:m,duplex:"half"}),L;if(z.isFormData(m)&&(L=D.headers.get("content-type"))&&C.setContentType(L),D.body){const[V,G]=ud(W,ya(md(T)));m=xd(D.body,hd,V,G)}}z.isString(S)||(S=S?"include":"omit");const H=l&&"credentials"in n.prototype,K={...O,signal:$,method:j.toUpperCase(),headers:C.normalize().toJSON(),body:m,duplex:"half",credentials:H?S:void 0};F=l&&new n(v,K);let A=await(l?_(F,O):_(v,K));const k=u&&(w==="stream"||w==="response");if(u&&(E||k&&M)){const D={};["status","statusText","headers"].forEach(q=>{D[q]=A[q]});const L=z.toFiniteNumber(A.headers.get("content-length")),[V,G]=E&&ud(L,ya(md(E),!0))||[];A=new s(xd(A.body,hd,V,()=>{G&&G(),M&&M()}),D)}w=w||"text";let R=await p[z.findKey(p,w)||"text"](A,b);return!k&&M&&M(),await new Promise((D,L)=>{dp(D,L,{data:R,headers:He.from(A.headers),status:A.status,statusText:A.statusText,config:b,request:F})})}catch(H){throw M&&M(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new Q("Network Error",Q.ERR_NETWORK,b,F),{cause:H.cause||H}):Q.from(H,H&&H.code,b,F)}}},Mg=new Map,pp=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:a}=t,l=[s,a,n];let o=l.length,i=o,d,c,u=Mg;for(;i--;)d=l[i],c=u.get(d),c===void 0&&u.set(d,c=i?new Map:Ig(t)),u=c;return c};pp();const Ei={http:rg,xhr:Rg,fetch:{get:pp}};z.forEach(Ei,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const bd=e=>`- ${e}`,$g=e=>z.isFunction(e)||e===null||e===!1;function Ug(e,t){e=z.isArray(e)?e:[e];const{length:n}=e;let s,a;const l={};for(let o=0;o<n;o++){s=e[o];let i;if(a=s,!$g(s)&&(a=Ei[(i=String(s)).toLowerCase()],a===void 0))throw new Q(`Unknown adapter '${i}'`);if(a&&(z.isFunction(a)||(a=a.get(t))))break;l[i||"#"+o]=a}if(!a){const o=Object.entries(l).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=n?o.length>1?`since :
`+o.map(bd).join(`
`):" "+bd(o[0]):"as no adapter specified";throw new Q("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return a}const xp={getAdapter:Ug,adapters:Ei};function jl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ln(null,e)}function vd(e){return jl(e),e.headers=He.from(e.headers),e.data=vl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xp.getAdapter(e.adapter||ds.adapter,e)(e).then(function(s){return jl(e),s.data=vl.call(e,e.transformResponse,s),s.headers=He.from(s.headers),s},function(s){return cp(s)||(jl(e),s&&s.response&&(s.response.data=vl.call(e,e.transformResponse,s.response),s.response.headers=He.from(s.response.headers))),Promise.reject(s)})}const hp="1.13.2",Ua={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ua[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const jd={};Ua.transitional=function(t,n,s){function a(l,o){return"[Axios v"+hp+"] Transitional option '"+l+"'"+o+(s?". "+s:"")}return(l,o,i)=>{if(t===!1)throw new Q(a(o," has been removed"+(n?" in "+n:"")),Q.ERR_DEPRECATED);return n&&!jd[o]&&(jd[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,o,i):!0}};Ua.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Bg(e,t,n){if(typeof e!="object")throw new Q("options must be an object",Q.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const l=s[a],o=t[l];if(o){const i=e[l],d=i===void 0||o(i,l,e);if(d!==!0)throw new Q("option "+l+" must be "+d,Q.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Q("Unknown option "+l,Q.ERR_BAD_OPTION)}}const Vs={assertOptions:Bg,validators:Ua},yt=Vs.validators;let yr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new cd,response:new cd}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=wr(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:l}=n;s!==void 0&&Vs.assertOptions(s,{silentJSONParsing:yt.transitional(yt.boolean),forcedJSONParsing:yt.transitional(yt.boolean),clarifyTimeoutError:yt.transitional(yt.boolean)},!1),a!=null&&(z.isFunction(a)?n.paramsSerializer={serialize:a}:Vs.assertOptions(a,{encode:yt.function,serialize:yt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Vs.assertOptions(n,{baseUrl:yt.spelling("baseURL"),withXsrfToken:yt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=l&&z.merge(l.common,l[n.method]);l&&z.forEach(["delete","get","head","post","put","patch","common"],b=>{delete l[b]}),n.headers=He.concat(o,l);const i=[];let d=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(d=d&&v.synchronous,i.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,p=0,f;if(!d){const b=[vd.bind(this),void 0];for(b.unshift(...i),b.push(...c),f=b.length,u=Promise.resolve(n);p<f;)u=u.then(b[p++],b[p++]);return u}f=i.length;let N=n;for(;p<f;){const b=i[p++],v=i[p++];try{N=b(N)}catch(j){v.call(this,j);break}}try{u=vd.call(this,N)}catch(b){return Promise.reject(b)}for(p=0,f=c.length;p<f;)u=u.then(c[p++],c[p++]);return u}getUri(t){t=wr(this.defaults,t);const n=up(t.baseURL,t.url,t.allowAbsoluteUrls);return lp(n,t.params,t.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(t){yr.prototype[t]=function(n,s){return this.request(wr(s||{},{method:t,url:n,data:(s||{}).data}))}});z.forEach(["post","put","patch"],function(t){function n(s){return function(l,o,i){return this.request(wr(i||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:o}))}}yr.prototype[t]=n(),yr.prototype[t+"Form"]=n(!0)});let Wg=class fp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const o=new Promise(i=>{s.subscribe(i),l=i}).then(a);return o.cancel=function(){s.unsubscribe(l)},o},t(function(l,o,i){s.reason||(s.reason=new ln(l,o,i),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new fp(function(a){t=a}),cancel:t}}};function Vg(e){return function(n){return e.apply(null,n)}}function Hg(e){return z.isObject(e)&&e.isAxiosError===!0}const No={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(No).forEach(([e,t])=>{No[t]=e});function yp(e){const t=new yr(e),n=Qm(yr.prototype.request,t);return z.extend(n,yr.prototype,t,{allOwnKeys:!0}),z.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return yp(wr(e,a))},n}const ie=yp(ds);ie.Axios=yr;ie.CanceledError=ln;ie.CancelToken=Wg;ie.isCancel=cp;ie.VERSION=hp;ie.toFormData=$a;ie.AxiosError=Q;ie.Cancel=ie.CanceledError;ie.all=function(t){return Promise.all(t)};ie.spread=Vg;ie.isAxiosError=Hg;ie.mergeConfig=wr;ie.AxiosHeaders=He;ie.formToJSON=e=>ip(z.isHTMLForm(e)?new FormData(e):e);ie.getAdapter=xp.getAdapter;ie.HttpStatusCode=No;ie.default=ie;const{Axios:R0,AxiosError:O0,CanceledError:T0,isCancel:A0,CancelToken:F0,VERSION:D0,all:I0,Cancel:M0,isAxiosError:$0,spread:U0,toFormData:B0,AxiosHeaders:W0,HttpStatusCode:V0,formToJSON:H0,getAdapter:q0,mergeConfig:K0}=ie,gp=y.createContext(),qg=()=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:8001":"",Pi=qg();console.log(" Backend URL:",Pi,"| Hostname:",window.location.hostname);const kn=ie.create({baseURL:Pi,headers:{"Content-Type":"application/json"}});kn.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const fe=()=>{const e=y.useContext(gp);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Kg=({children:e})=>{const[t,n]=y.useState(null),[s,a]=y.useState(!0);y.useEffect(()=>{l()},[]);const l=async()=>{if(localStorage.getItem("token"))try{const u=await kn.get("/api/auth/me");n(u.data)}catch{localStorage.removeItem("token"),localStorage.removeItem("user")}a(!1)},o=async(c,u)=>{var p,f;try{console.log("Attempting login to:",`${Pi}/api/auth/login`);const N=await kn.post("/api/auth/login",{email:c,password:u}),{access_token:b,user:v}=N.data;return localStorage.setItem("token",b),localStorage.setItem("user",JSON.stringify(v)),n(v),{success:!0}}catch(N){return console.error("Login error:",N),{success:!1,error:((f=(p=N.response)==null?void 0:p.data)==null?void 0:f.detail)||N.message||"Login failed - Network error"}}},i=async c=>{var u,p;try{return{success:!0,message:(await kn.post("/api/auth/register",c)).data.message}}catch(f){return{success:!1,error:((p=(u=f.response)==null?void 0:u.data)==null?void 0:p.detail)||"Registration failed"}}},d=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null)};return r.jsx(gp.Provider,{value:{user:t,loading:s,login:o,register:i,logout:d,api:kn},children:e})},bp=y.createContext(),Li=()=>{const e=y.useContext(bp);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},Qg=({children:e})=>{const[t,n]=y.useState(()=>localStorage.getItem("theme")||"dark"),[s,a]=y.useState(()=>localStorage.getItem("language")||"ru");y.useEffect(()=>{localStorage.setItem("theme",t),t==="light"?document.documentElement.classList.add("light-theme"):document.documentElement.classList.remove("light-theme")},[t]),y.useEffect(()=>{localStorage.setItem("language",s)},[s]);const l=()=>{n(i=>i==="dark"?"light":"dark")},o=i=>{a(i)};return r.jsx(bp.Provider,{value:{theme:t,language:s,toggleTheme:l,changeLanguage:o},children:e})},Nd={ru:{loading:"// ...",save:"",cancel:"",delete:"",edit:"",create:"",view:"",search:"",filter:"",actions:"",status:"",login:"",register:"",logout:"",email:"Email",password:"",fullName:" ",companyName:" ",inn:"",adminPanel:"",sellerPanel:"",overview:"",users:"",analytics:"",products:"",orders:"",inventory:"",apiKeys:"API ",finance:"",balance:"",promocodes:"",questions:"",reviews:"",dashboard:"",sellers:"",payouts:"",categories:"",addProduct:"+  ",editProduct:" ",createProduct:" ",productList:"",sku:"",name:"",price:"",description:"",tags:"",images:"",quality:"",variant:"",orderList:"",orderNumber:" ",customer:"",source:"",total:"",date:"",inventoryManagement:" ",fbs:"FBS ( )",fbo:"FBO ( )",history:" ",quantity:"",reserved:"",available:"",adjust:"",settings:"",theme:"",language:"",currency:"",dark:"",light:"",noDistractionsJustResults:"//  ,  ",enterCredentials:"//   ",manageProducts:"//   ",trackOrders:"//  ",warehouseManagement:"//   "},en:{loading:"// LOADING...",save:"SAVE",cancel:"CANCEL",delete:"DELETE",edit:"EDIT",create:"CREATE",view:"VIEW",search:"Search",filter:"Filter",actions:"Actions",status:"Status",login:"LOGIN",register:"REGISTER",logout:"LOGOUT",email:"Email",password:"Password",fullName:"Full Name",companyName:"Company Name",inn:"Tax ID",adminPanel:"ADMIN",sellerPanel:"SELLER",overview:"Overview",users:"Users",analytics:"Analytics",products:"Products",orders:"Orders",inventory:"Inventory",apiKeys:"API Keys",finance:"Finance",balance:"Balance",promocodes:"Promocodes",questions:"Questions",reviews:"Reviews",dashboard:"Dashboard",sellers:"Sellers",payouts:"Payouts",categories:"Categories",addProduct:"+ ADD PRODUCT",editProduct:"EDIT PRODUCT",createProduct:"CREATE PRODUCT",productList:"PRODUCTS",sku:"SKU",name:"Name",price:"Price",description:"Description",tags:"Tags",images:"Images",quality:"Quality",variant:"Variant",orderList:"ORDERS",orderNumber:"Order #",customer:"Customer",source:"Source",total:"Total",date:"Date",inventoryManagement:"INVENTORY",fbs:"FBS (Own Warehouse)",fbo:"FBO (Marketplace Warehouses)",history:"Movement History",quantity:"Quantity",reserved:"Reserved",available:"Available",adjust:"ADJUST",settings:"SETTINGS",theme:"THEME",language:"LANGUAGE",currency:"CURRENCY",dark:"Dark",light:"Light",noDistractionsJustResults:"// No distractions, Just results",enterCredentials:"// Enter your credentials",manageProducts:"// Manage your product catalog",trackOrders:"// Track your sales",warehouseManagement:"// Manage warehouse and stock levels"}},Gg=e=>({t:n=>{var s;return((s=Nd[e])==null?void 0:s[n])||Nd.en[n]||n}});function Jg(){const e=Ft(),{login:t}=fe(),{language:n}=Li(),{t:s}=Gg(n),[a,l]=y.useState({email:"",password:""}),[o,i]=y.useState(""),[d,c]=y.useState(!1),u=async f=>{f.preventDefault(),i(""),c(!0);const N=await t(a.email,a.password);N.success?e("/"):i(N.error),c(!1)},p=f=>{l({...a,[f.target.name]:f.target.value})};return r.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("h1",{className:"text-5xl font-bold mb-4 text-mm-text",children:["MINIMAL",r.jsx("span",{className:"text-mm-purple",children:"MOD"})]}),r.jsx("p",{className:"comment",children:s("noDistractionsJustResults")})]}),r.jsxs("div",{className:"card-neon",children:[r.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan",children:s("login")}),r.jsx("p",{className:"comment mb-8",children:s("enterCredentials")}),o&&r.jsx("div",{className:"mb-6 p-4 border border-mm-red bg-mm-red/10 text-mm-red text-sm font-mono",children:o}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase tracking-wider",children:s("email")}),r.jsx("input",{type:"email",name:"email",value:a.email,onChange:p,className:"input-neon w-full",placeholder:"admin@minimalmod.com",required:!0,"data-testid":"login-email-input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase tracking-wider",children:s("password")}),r.jsx("input",{type:"password",name:"password",value:a.password,onChange:p,className:"input-neon w-full",placeholder:"",required:!0,"data-testid":"login-password-input"})]}),r.jsx("button",{type:"submit",disabled:d,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"login-submit-button",children:d?s("loading"):`// ${s("login")}`})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-mm-border",children:r.jsxs("p",{className:"text-mm-text-secondary text-sm text-center",children:[r.jsx("span",{className:"comment",children:"// New seller?"})," ",r.jsx(hy,{to:"/register",className:"text-mm-cyan hover:text-mm-cyan/80 transition-colors",children:"Register here"})]})}),r.jsxs("div",{className:"mt-6 p-4 bg-mm-darker border border-mm-border",children:[r.jsx("p",{className:"comment text-xs mb-2",children:"// Demo credentials:"}),r.jsx("p",{className:"text-xs text-mm-text-secondary",children:"Admin: admin@minimalmod.com / admin123"})]})]})]})})}var vp={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wd=Et.createContext&&Et.createContext(vp),tr=function(){return tr=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},tr.apply(this,arguments)},Yg=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};function jp(e){return e&&e.map(function(t,n){return Et.createElement(t.tag,tr({key:n},t.attr),jp(t.child))})}function Y(e){return function(t){return Et.createElement(Xg,tr({attr:tr({},e.attr)},t),jp(e.child))}}function Xg(e){var t=function(n){var s=e.attr,a=e.size,l=e.title,o=Yg(e,["attr","size","title"]),i=a||n.size||"1em",d;return n.className&&(d=n.className),e.className&&(d=(d?d+" ":"")+e.className),Et.createElement("svg",tr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:d,style:tr(tr({color:e.color||n.color},n.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),l&&Et.createElement("title",null,l),e.children)};return wd!==void 0?Et.createElement(wd.Consumer,null,function(n){return t(n)}):t(vp)}function us(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}function zi(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(e)}function Zg(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function wo(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"}}]})(e)}function rr(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function ga(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}function Ba(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(e)}function ba(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(e)}function e0(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(e)}function Zn(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function t0(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(e)}function r0(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(e)}function kd(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}}]})(e)}function ko(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"}},{tag:"polyline",attr:{points:"21 15 16 10 5 21"}}]})(e)}function Np(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}}]})(e)}function n0(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"}},{tag:"polyline",attr:{points:"2 17 12 22 22 17"}},{tag:"polyline",attr:{points:"2 12 12 17 22 12"}}]})(e)}function Sd(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}}]})(e)}function s0(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}}]})(e)}function Nt(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function wp(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"}}]})(e)}function Wa(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function tt(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"polyline",attr:{points:"1 20 1 14 7 14"}},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}}]})(e)}function kp(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(e)}function es(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function Sp(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function _p(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"}},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"}},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}}]})(e)}function bn(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(e)}function a0(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"}},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"}},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}}]})(e)}function on(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function Cp(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"}},{tag:"polyline",attr:{points:"17 18 23 18 23 12"}}]})(e)}function Ep(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(e)}function l0(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"}},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"}},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"}},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"}}]})(e)}function Zr(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(e)}function o0(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function Pp(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"}}]})(e)}function Ri(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}function Lp(){const[e,t]=y.useState(!1),n=y.useRef(null),{theme:s,language:a,toggleTheme:l,changeLanguage:o}=Li();return y.useEffect(()=>{const i=d=>{n.current&&!n.current.contains(d.target)&&t(!1)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[]),r.jsxs("div",{className:"relative",ref:n,children:[r.jsx("button",{onClick:()=>t(!e),className:"p-2 border-2 border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":"settings-button",children:r.jsx(Sp,{size:20,className:e?"animate-spin":""})}),e&&r.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-mm-dark border-2 border-mm-cyan shadow-neon-cyan z-50","data-testid":"settings-dropdown",children:r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"THEME"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{onClick:()=>{s!=="dark"&&l()},className:`p-4 border-2 transition-all ${s==="dark"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"theme-dark",children:[r.jsx(s0,{className:"mx-auto mb-2",size:24}),r.jsx("p",{className:"font-mono text-sm",children:"Dark"})]}),r.jsxs("button",{onClick:()=>{s!=="light"&&l()},className:`p-4 border-2 transition-all ${s==="light"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"theme-light",children:[r.jsx(a0,{className:"mx-auto mb-2",size:24}),r.jsx("p",{className:"font-mono text-sm",children:"Light"})]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"LANGUAGE"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{onClick:()=>o("ru"),className:`p-4 border-2 transition-all ${a==="ru"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"lang-ru",children:[r.jsx(kd,{className:"mx-auto mb-2",size:24}),r.jsx("p",{className:"font-mono text-sm",children:"RU"})]}),r.jsxs("button",{onClick:()=>o("en"),className:`p-4 border-2 transition-all ${a==="en"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"lang-en",children:[r.jsx(kd,{className:"mx-auto mb-2",size:24}),r.jsx("p",{className:"font-mono text-sm",children:"EN"})]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"CURRENCY"}),r.jsxs("select",{className:"input-neon w-full",defaultValue:"RUB",children:[r.jsx("option",{value:"RUB",children:"RUB "}),r.jsx("option",{value:"USD",children:"USD $"}),r.jsx("option",{value:"EUR",children:"EUR "})]})]}),r.jsx("div",{className:"pt-4 border-t border-mm-border",children:r.jsx("p",{className:"comment text-xs text-center",children:"// Settings saved automatically"})})]})})]})}function Oi(e){return Y({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2l-2.218-.887zm3.564 1.426L5.596 5 8 5.961 14.154 3.5l-2.404-.961zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"}}]})(e)}const Ti=()=>{const{api:e}=fe(),[t,n]=y.useState([]),[s,a]=y.useState(!0),[l,o]=y.useState(!1),[i,d]=y.useState(""),[c,u]=y.useState({name:"",client_id:"",api_key:"",auto_sync_stock:!0,auto_update_prices:!1,auto_get_orders:!0}),[p,f]=y.useState(!1),[N,b]=y.useState(!1),v=[{id:"ozon",name:"Ozon",logo:"",description:"  Ozon    ,  FBS  ",fields:[{name:"name",label:" ",type:"text",placeholder:":   OZON"},{name:"client_id",label:"Client ID",type:"text",placeholder:" Client ID"},{name:"api_key",label:"API Key",type:"password",placeholder:" API "}]},{id:"wb",name:"Wildberries",logo:"",description:"  Wildberries    ,  FBS  ",fields:[{name:"name",label:" ",type:"text",placeholder:":   WB"},{name:"api_key",label:"API Token",type:"password",placeholder:" API "}]},{id:"yandex",name:"Yandex.Market",logo:"",description:"  .    ,  FBS  ",fields:[{name:"name",label:" ",type:"text",placeholder:":   "},{name:"client_id",label:"Campaign ID",type:"text",placeholder:" Campaign ID"},{name:"api_key",label:"OAuth Token",type:"password",placeholder:" OAuth "}]}];y.useEffect(()=>{j()},[]);const j=async()=>{try{const S=await e.get("/api/seller/api-keys");n(S.data)}catch(S){console.error("Error loading API keys:",S)}finally{a(!1)}},m=S=>{d(S),u({name:"",client_id:"",api_key:"",auto_sync_stock:!0,auto_update_prices:!1,auto_get_orders:!0}),o(!0)},x=async()=>{var S,O;f(!0);try{const _=await e.post("/api/seller/api-keys/test",{marketplace:i,client_id:c.client_id,api_key:c.api_key});_.data.success,alert(_.data.message)}catch(_){alert(" : "+(((O=(S=_.response)==null?void 0:S.data)==null?void 0:O.detail)||_.message))}finally{f(!1)}},h=async()=>{var S,O;if(!c.api_key||!c.api_key.trim()){alert("API  ");return}b(!0);try{await e.post("/api/seller/api-keys",{marketplace:i,name:c.name,client_id:c.client_id,api_key:c.api_key}),alert("   !"),o(!1),j()}catch(_){alert(": "+(((O=(S=_.response)==null?void 0:S.data)==null?void 0:O.detail)||_.message))}finally{b(!1)}},g=async(S,O)=>{var _,$;if(confirm(`  ${O.toUpperCase()}?`))try{await e.delete(`/api/seller/api-keys/${S}`),alert("  "),j()}catch(F){alert(": "+((($=(_=F.response)==null?void 0:_.data)==null?void 0:$.detail)||F.message))}},E=async(S,O,_)=>{var $,F;try{await e.put(`/api/seller/api-keys/${S}`,{[O]:!_}),j()}catch(M){alert(" : "+(((F=($=M.response)==null?void 0:$.data)==null?void 0:F.detail)||M.message))}},T=S=>{const O=v.find(_=>_.id===S);return O?O.logo:""},w=S=>{const O=v.find(_=>_.id===S);return O?O.name:S};if(s)return r.jsx("div",{className:"p-8",children:r.jsx("div",{className:"text-mm-cyan",children:"..."})});const C=v.find(S=>S.id===i);return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-mm-cyan mb-2",children:""}),r.jsx("p",{className:"text-gray-400",children:"    "})]}),t.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(S=>r.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 hover:border-mm-cyan transition",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"text-4xl",children:T(S.marketplace)}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-white",children:S.name||w(S.marketplace)}),r.jsx("p",{className:"text-xs text-gray-500",children:w(S.marketplace)})]})]}),r.jsx("button",{onClick:()=>g(S.id,S.marketplace),className:"p-2 text-red-500 hover:bg-red-500/10 rounded transition",title:"",children:r.jsx(on,{})})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Client ID:"}),r.jsx("span",{className:"text-gray-300",children:S.client_id||""})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"API Key:"}),r.jsx("span",{className:"text-gray-300",children:S.api_key_masked})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:":"}),r.jsx("span",{className:"text-gray-300",children:new Date(S.created_at).toLocaleDateString("ru-RU")})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-800 space-y-2",children:[r.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[r.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),r.jsx("input",{type:"checkbox",checked:S.auto_sync_stock!==!1,onChange:()=>E(S.id,"auto_sync_stock",S.auto_sync_stock!==!1),className:"w-4 h-4 rounded"})]}),r.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[r.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),r.jsx("input",{type:"checkbox",checked:S.auto_update_prices===!0,onChange:()=>E(S.id,"auto_update_prices",S.auto_update_prices===!0),className:"w-4 h-4 rounded"})]}),r.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[r.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),r.jsx("input",{type:"checkbox",checked:S.auto_get_orders!==!1,onChange:()=>E(S.id,"auto_get_orders",S.auto_get_orders!==!1),className:"w-4 h-4 rounded"})]})]})]},S.id))})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(S=>{const O=t.some(_=>_.marketplace===S.id);return r.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 hover:border-mm-cyan transition",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("div",{className:"text-6xl mb-3",children:S.logo}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:S.name}),r.jsx("p",{className:"text-sm text-gray-400",children:S.description})]}),r.jsxs("button",{onClick:()=>m(S.id),className:"w-full px-4 py-3 bg-mm-purple hover:bg-purple-600 rounded-lg transition font-medium flex items-center justify-center space-x-2",children:[r.jsx(Wa,{}),r.jsx("span",{children:O?" ":""})]})]},S.id)})})]}),l&&C&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-800",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"text-3xl",children:C.logo}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-mm-cyan",children:C.name}),r.jsx("p",{className:"text-sm text-gray-400",children:C.description})]})]}),r.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition",children:r.jsx(Ri,{size:24})})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[C.fields.map(S=>r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:[S.label,S.name!=="name"&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("input",{type:S.type,value:c[S.name],onChange:O=>u({...c,[S.name]:O.target.value}),placeholder:S.placeholder,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan text-white"})]},S.name)),r.jsxs("div",{className:"pt-4 border-t border-gray-800",children:[r.jsx("p",{className:"text-sm font-medium mb-3 text-gray-300",children:" :"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:c.auto_sync_stock,onChange:S=>u({...c,auto_sync_stock:S.target.checked}),className:"w-5 h-5 rounded"}),r.jsx("span",{className:"text-sm text-gray-400",children:"  "})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:c.auto_update_prices,onChange:S=>u({...c,auto_update_prices:S.target.checked}),className:"w-5 h-5 rounded"}),r.jsx("span",{className:"text-sm text-gray-400",children:"  "})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:c.auto_get_orders,onChange:S=>u({...c,auto_get_orders:S.target.checked}),className:"w-5 h-5 rounded"}),r.jsx("span",{className:"text-sm text-gray-400",children:"  "})]})]})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-800 flex justify-end space-x-3",children:[r.jsx("button",{onClick:x,disabled:p||!c.api_key,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:cursor-not-allowed rounded-lg transition font-medium",children:p?"...":" "}),r.jsx("button",{onClick:h,disabled:N||!c.api_key,className:"px-6 py-3 bg-mm-cyan hover:bg-cyan-400 text-black disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed rounded-lg transition font-bold",children:N?"...":""})]})]})})]})};function zp(){const{api:e}=fe(),[t,n]=y.useState([]),[s,a]=y.useState(!0),[l,o]=y.useState({status:"",source:""});y.useEffect(()=>{i()},[l]);const i=async()=>{try{const u=new URLSearchParams;l.status&&u.append("status",l.status),l.source&&u.append("source",l.source);const p=await e.get(`/api/orders?${u.toString()}`);n(p.data)}catch(u){console.error("Failed to load orders:",u)}a(!1)},d=u=>{switch(u){case"new":return r.jsx(ga,{className:"inline text-mm-blue"});case"awaiting_shipment":return r.jsx(Nt,{className:"inline text-mm-yellow"});case"shipped":return r.jsx(l0,{className:"inline text-mm-cyan"});case"delivered":return r.jsx(wo,{className:"inline text-mm-green"});case"cancelled":return r.jsx(Pp,{className:"inline text-mm-red"});default:return r.jsx(ga,{className:"inline"})}},c=u=>({minimalmod:"border-mm-purple text-mm-purple",ozon:"border-mm-blue text-mm-blue",wildberries:"border-mm-purple text-mm-purple",yandex_market:"border-mm-yellow text-mm-yellow"})[u]||"border-mm-cyan text-mm-cyan";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"Orders"}),r.jsx("p",{className:"comment",children:"// Manage all your orders"})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("select",{value:l.status,onChange:u=>o({...l,status:u.target.value}),className:"input-neon",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"new",children:"New"}),r.jsx("option",{value:"awaiting_shipment",children:"Awaiting Shipment"}),r.jsx("option",{value:"shipped",children:"Shipped"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]}),r.jsxs("select",{value:l.source,onChange:u=>o({...l,source:u.target.value}),className:"input-neon",children:[r.jsx("option",{value:"",children:"All Sources"}),r.jsx("option",{value:"minimalmod",children:"MinimalMod"}),r.jsx("option",{value:"ozon",children:"Ozon"}),r.jsx("option",{value:"wildberries",children:"Wildberries"}),r.jsx("option",{value:"yandex_market",children:"Yandex.Market"})]})]})]}),s?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?r.jsxs("div",{className:"card-neon text-center py-12",children:[r.jsx(Nt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),r.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No orders found"}),r.jsx("p",{className:"comment",children:"// Orders will appear here once created"})]}):r.jsx("div",{className:"card-neon overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-mm-border",children:[r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Order #"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Customer"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Source"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Total"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Status"}),r.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),r.jsx("tbody",{children:t.map(u=>{var p,f,N,b;return r.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[r.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:u.order_number}),r.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date((p=u.dates)==null?void 0:p.created_at).toLocaleDateString()}),r.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:((f=u.customer)==null?void 0:f.name)||"N/A"}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${c(u.source)}`,children:u.source})}),r.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:["",((b=(N=u.totals)==null?void 0:N.total)==null?void 0:b.toLocaleString())||0]}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs("span",{className:"flex items-center space-x-2",children:[d(u.status),r.jsx("span",{className:"text-sm font-mono uppercase",children:u.status})]})}),r.jsx("td",{className:"py-4 px-4 text-right",children:r.jsx("button",{onClick:()=>window.location.href=`/orders/${u.id}`,className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors text-xs uppercase font-mono","data-testid":`view-order-${u.id}`,children:"View"})})]},u.id)})})]})})})]})}function Rp(){const{api:e}=fe(),{language:t}=Li(),[n,s]=y.useState({revenue:0,costs:0,cogs:0,gross_profit:0,net_profit:0,margin:0,transactions_count:0}),[a,l]=y.useState(!0);y.useEffect(()=>{o()},[]);const o=async()=>{try{const i=await e.get("/api/finance/dashboard");s(i.data)}catch(i){console.error("Failed to load finance dashboard:",i)}l(!1)};return a?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"FINANCIAL DASHBOARD"}),r.jsx("p",{className:"comment",children:"// Your financial overview"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"card-neon",children:[r.jsx("p",{className:"comment mb-2",children:"// Revenue"}),r.jsxs("p",{className:"text-4xl font-bold text-mm-green flex items-center",children:[r.jsx(Ep,{className:"mr-2"}),"",n.revenue.toLocaleString()]})]}),r.jsxs("div",{className:"card-neon",children:[r.jsx("p",{className:"comment mb-2",children:"// Costs"}),r.jsxs("p",{className:"text-4xl font-bold text-mm-red flex items-center",children:[r.jsx(Cp,{className:"mr-2"}),"",n.costs.toLocaleString()]})]}),r.jsxs("div",{className:"card-neon",children:[r.jsx("p",{className:"comment mb-2",children:"// Net Profit"}),r.jsxs("p",{className:`text-4xl font-bold flex items-center ${n.net_profit>=0?"text-mm-green":"text-mm-red"}`,children:[r.jsx(Ba,{className:"mr-2"}),"",n.net_profit.toLocaleString()]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"card-neon",children:[r.jsx("p",{className:"comment mb-2",children:"// COGS (Cost of Goods)"}),r.jsxs("p",{className:"text-2xl font-bold text-mm-yellow",children:["",n.cogs.toLocaleString()]})]}),r.jsxs("div",{className:"card-neon",children:[r.jsx("p",{className:"comment mb-2",children:"// Gross Profit"}),r.jsxs("p",{className:"text-2xl font-bold text-mm-cyan",children:["",n.gross_profit.toLocaleString()]})]}),r.jsxs("div",{className:"card-neon",children:[r.jsx("p",{className:"comment mb-2",children:"// Margin"}),r.jsxs("p",{className:"text-2xl font-bold text-mm-purple",children:[n.margin,"%"]})]})]}),r.jsxs("div",{className:"card-neon",children:[r.jsx("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:"PROFIT BREAKDOWN"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[r.jsx("span",{className:"font-mono text-mm-text-secondary",children:"Revenue"}),r.jsxs("span",{className:"font-mono text-mm-green",children:["+ ",n.revenue.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[r.jsx("span",{className:"font-mono text-mm-text-secondary",children:"COGS"}),r.jsxs("span",{className:"font-mono text-mm-red",children:["- ",n.cogs.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border font-bold",children:[r.jsx("span",{className:"font-mono",children:"Gross Profit"}),r.jsxs("span",{className:"font-mono text-mm-cyan",children:["",n.gross_profit.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[r.jsx("span",{className:"font-mono text-mm-text-secondary",children:"Operating Costs"}),r.jsxs("span",{className:"font-mono text-mm-red",children:["- ",n.costs.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between items-center py-2 font-bold text-lg",children:[r.jsx("span",{className:"font-mono",children:"Net Profit"}),r.jsxs("span",{className:`font-mono ${n.net_profit>=0?"text-mm-green":"text-mm-red"}`,children:["",n.net_profit.toLocaleString()]})]})]})]}),r.jsx("div",{className:"card-neon",children:r.jsxs("p",{className:"comment",children:["// Transactions processed: ",n.transactions_count]})})]})}function Op({isAdmin:e=!1}){const{api:t}=fe(),[n,s]=y.useState([]),[a,l]=y.useState(!0),[o,i]=y.useState(!1),[d,c]=y.useState("");y.useEffect(()=>{u()},[]);const u=async()=>{try{const j=await t.get("/api/payouts");s(j.data)}catch(j){console.error("Failed to load payouts:",j)}l(!1)},p=async j=>{j.preventDefault();try{await t.post("/api/payouts/request",null,{params:{amount:parseFloat(d)}}),i(!1),c(""),u(),alert("Payout request submitted!")}catch{alert("Failed to request payout")}},f=async j=>{try{await t.put(`/api/admin/payouts/${j}/approve`),u()}catch(m){console.error("Failed to approve:",m)}},N=async j=>{try{await t.put(`/api/admin/payouts/${j}/paid`),u()}catch(m){console.error("Failed to mark paid:",m)}},b=async j=>{try{await t.put(`/api/admin/payouts/${j}/reject`),u()}catch(m){console.error("Failed to reject:",m)}},v=j=>{const m={pending:{class:"status-pending",icon:ga,text:"PENDING"},approved:{class:"status-new",icon:wo,text:"APPROVED"},paid:{class:"status-active",icon:wo,text:"PAID"},rejected:{class:"status-error",icon:Pp,text:"REJECTED"}};return m[j]||m.pending};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:e?"PAYOUT REQUESTS":"BALANCE & PAYOUTS"}),r.jsx("p",{className:"comment",children:e?"// Manage seller payout requests":"// Request withdrawals"})]}),!e&&r.jsx("button",{onClick:()=>i(!0),className:"btn-primary","data-testid":"request-payout-button",children:" REQUEST PAYOUT"})]}),a?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):n.length===0?r.jsxs("div",{className:"card-neon text-center py-12",children:[r.jsx(Ba,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),r.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No payout requests"}),r.jsxs("p",{className:"comment",children:["// ",e?"Requests will appear here":'Click "REQUEST PAYOUT" to withdraw funds']})]}):r.jsx("div",{className:"card-neon overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-mm-border",children:[r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),e&&r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Seller"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Amount"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Status"}),e&&r.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),r.jsx("tbody",{children:n.map(j=>{const m=v(j.status),x=m.icon;return r.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[r.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(j.created_at).toLocaleDateString()}),e&&r.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[j.seller_id.substring(0,8),"..."]}),r.jsxs("td",{className:"py-4 px-4 font-mono text-lg text-mm-green",children:["",j.amount.toLocaleString()]}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs("span",{className:m.class,children:[r.jsx(x,{className:"inline mr-1"}),m.text]})}),e&&r.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[j.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>f(j.id),className:"px-3 py-1 border border-mm-green text-mm-green hover:bg-mm-green/10 text-xs uppercase font-mono",children:"APPROVE"}),r.jsx("button",{onClick:()=>b(j.id),className:"px-3 py-1 border border-mm-red text-mm-red hover:bg-mm-red/10 text-xs uppercase font-mono",children:"REJECT"})]}),j.status==="approved"&&r.jsx("button",{onClick:()=>N(j.id),className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 text-xs uppercase font-mono",children:"MARK AS PAID"})]})]},j.id)})})]})})}),o&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"card-neon max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl text-mm-cyan",children:"REQUEST PAYOUT"}),r.jsx("button",{onClick:()=>i(!1),className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:""})]}),r.jsxs("form",{onSubmit:p,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Amount"}),r.jsx("input",{type:"number",step:"0.01",value:d,onChange:j=>c(j.target.value),className:"input-neon w-full",placeholder:"10000.00",required:!0}),r.jsx("p",{className:"comment text-xs mt-1",children:"// Enter amount in RUB"})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"REQUEST"}),r.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})})]})}const i0=()=>{const{api:e}=fe(),t=Ft(),[n,s]=y.useState([]),[a,l]=y.useState(!0),[o,i]=y.useState(!1),[d,c]=y.useState(""),[u,p]=y.useState(!1);y.useEffect(()=>{f()},[]);const f=async()=>{try{const v=await e.get("/api/warehouses");s(v.data)}catch(v){console.error("Error loading warehouses:",v)}finally{l(!1)}},N=async()=>{var v,j;if(!d.trim()){alert("  ");return}p(!0);try{const m=await e.post("/api/warehouses",{name:d,type:n.length===0?"main":"marketplace"});i(!1),c(""),await f(),t(`/warehouses/${m.data.id}`)}catch(m){console.error("Error creating warehouse:",m),alert(((j=(v=m.response)==null?void 0:v.data)==null?void 0:j.detail)||"   ")}finally{p(!1)}},b=async(v,j)=>{var m,x;if(confirm(` ,     "${j}"?`))try{await e.delete(`/api/warehouses/${v}`),await f()}catch(h){console.error("Error deleting warehouse:",h),alert(((x=(m=h.response)==null?void 0:m.data)==null?void 0:x.detail)||"   ")}};return a?r.jsx("div",{className:"p-8",children:r.jsx("div",{className:"text-mm-cyan",children:"..."})}):r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{className:"px-4 py-2 text-mm-cyan border-b-2 border-mm-cyan font-medium",children:""}),r.jsx("button",{className:"px-4 py-2 text-gray-400 hover:text-mm-cyan transition",children:""})]}),r.jsx("button",{onClick:()=>i(!0),className:"px-6 py-2 bg-mm-purple hover:bg-purple-600 rounded-lg transition font-medium",children:" "})]}),r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{className:"px-4 py-2 text-sm text-gray-400 hover:text-mm-cyan transition",children:" "}),r.jsx("button",{className:"px-4 py-2 text-sm text-gray-400 hover:text-mm-cyan transition",children:"  "}),r.jsx("button",{className:"px-4 py-2 text-sm text-gray-400 hover:text-mm-cyan transition",children:""})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-400",children:" "}),r.jsx("input",{type:"range",min:"30",max:"100",defaultValue:"50",className:"w-24"})]})]}),r.jsx("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-800",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"  "}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:""})]})}),r.jsx("tbody",{className:"divide-y divide-gray-800",children:n.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-lg",children:"  "}),r.jsx("p",{className:"text-sm",children:"     "})]})})}):n.map(v=>r.jsxs("tr",{className:"hover:bg-gray-800 transition cursor-pointer",children:[r.jsx("td",{className:"px-4 py-4",onClick:()=>t(`/warehouses/${v.id}`),children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"text-2xl",children:v.type==="main"?"":v.is_fbo?"":""}),r.jsxs("div",{children:[r.jsx("div",{className:"text-mm-cyan hover:text-cyan-400 transition font-medium",children:v.name}),v.address&&r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:v.address})]})]})}),r.jsx("td",{className:"px-4 py-4",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v.type==="main"?"bg-purple-900 text-purple-200":v.is_fbo?"bg-blue-900 text-blue-200":"bg-green-900 text-green-200"}`,children:v.type==="main"?"":v.is_fbo?"FBO":"FBS"})}),r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.load_orders&&r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-mm-cyan/20 text-mm-cyan",children:" "}),v.use_for_orders&&r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-green-900/30 text-green-400",children:" "})]})}),r.jsx("td",{className:"px-4 py-4",children:v.marketplace_links&&v.marketplace_links.length>0?r.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.marketplace_links.slice(0,3).map((j,m)=>{var x;return r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-700 text-gray-300",children:[j.marketplace_name==="ozon"&&"",j.marketplace_name==="wb"&&"",j.marketplace_name==="yandex"&&"",(x=j.marketplace_name)==null?void 0:x.toUpperCase()]},m)}),v.marketplace_links.length>3&&r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-700 text-gray-300",children:["+",v.marketplace_links.length-3]})]}):r.jsx("span",{className:"text-gray-500 text-sm",children:""})}),r.jsx("td",{className:"px-4 py-4 text-sm text-gray-300",children:v.priority||0}),r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("button",{onClick:j=>{j.stopPropagation(),t(`/warehouses/${v.id}`)},className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded transition",title:"",children:""}),r.jsx("button",{onClick:j=>{j.stopPropagation(),b(v.id,v.name)},disabled:v.type==="main",className:"p-2 text-red-500 hover:bg-red-500/10 disabled:text-gray-600 disabled:cursor-not-allowed rounded transition",title:v.type==="main"?"   ":"",children:v.type==="main"?"":""})]})})]},v.id))})]})}),r.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-400",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{children:"  "}),r.jsxs("select",{className:"bg-gray-800 border border-gray-700 rounded px-2 py-1",children:[r.jsx("option",{children:"50"}),r.jsx("option",{children:"100"}),r.jsx("option",{children:"200"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{children:[n.length>0?"1":"0"," - ",n.length,"  ",n.length,".  1  1"]}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("button",{className:"px-2 py-1 bg-gray-800 rounded hover:bg-gray-700 transition",disabled:!0,children:""}),r.jsx("button",{className:"px-2 py-1 bg-gray-800 rounded hover:bg-gray-700 transition",disabled:!0,children:""}),r.jsx("button",{className:"px-2 py-1 bg-gray-800 rounded hover:bg-gray-700 transition",disabled:!0,children:""}),r.jsx("button",{className:"px-2 py-1 bg-gray-800 rounded hover:bg-gray-700 transition",disabled:!0,children:""})]})]})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h2",{className:"text-xl font-bold text-mm-cyan mb-4",children:" "}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:[" ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:d,onChange:v=>c(v.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan",placeholder:" ",autoFocus:!0})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{i(!1),c("")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition",children:""}),r.jsx("button",{onClick:N,disabled:u,className:"px-4 py-2 bg-mm-purple hover:bg-purple-600 disabled:bg-gray-700 rounded-lg transition",children:u?"...":""})]})]})})]})};function c0(){const{api:e}=fe(),[t,n]=y.useState("fbs"),[s,a]=y.useState([]),[l,o]=y.useState([]),[i,d]=y.useState([]),[c,u]=y.useState(!0),[p,f]=y.useState(!1),[N,b]=y.useState(!1),[v,j]=y.useState({product_id:"",quantity_change:"",reason:""}),[m,x]=y.useState({marketplace:"ozon",warehouse:"",products:[]}),[h,g]=y.useState([]);y.useEffect(()=>{T(),E()},[t]);const E=async()=>{try{const C=await e.get("/api/products");g(C.data)}catch(C){console.error("Failed to load products:",C)}},T=async()=>{u(!0);try{if(t==="fbs"){const C=await e.get("/api/inventory");a(C.data)}else if(t==="fbo"){const C=await e.get("/api/inventory/fbo");o(C.data)}else if(t==="history"){const C=await e.get("/api/inventory/history");d(C.data)}}catch(C){console.error("Failed to load data:",C)}u(!1)},w=async C=>{var S,O;C.preventDefault();try{await e.post(`/api/inventory/${v.product_id}/adjust`,{quantity_change:parseInt(v.quantity_change),reason:v.reason}),f(!1),j({product_id:"",quantity_change:"",reason:""}),T(),alert("Inventory adjusted successfully!")}catch(_){console.error("Failed to adjust inventory:",_),alert("Failed to adjust: "+(((O=(S=_.response)==null?void 0:S.data)==null?void 0:O.detail)||_.message))}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"Inventory & Stock"}),r.jsx("p",{className:"comment",children:"// Manage warehouse and stock levels"})]}),t==="fbs"&&r.jsx("button",{onClick:()=>b(!0),className:"btn-primary","data-testid":"create-fbo-shipment-button",children:"+ CREATE FBO SHIPMENT"})]}),r.jsxs("div",{className:"flex space-x-4 border-b border-mm-border",children:[r.jsx("button",{onClick:()=>n("fbs"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="fbs"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"FBS (Own Warehouse)"}),r.jsx("button",{onClick:()=>n("fbo"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="fbo"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"FBO (Marketplace Warehouses)"}),r.jsx("button",{onClick:()=>n("history"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="history"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"Movement History"})]}),t==="fbs"&&r.jsx("div",{children:c?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):s.length===0?r.jsxs("div",{className:"card-neon text-center py-12",children:[r.jsx(Nt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),r.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No inventory records"}),r.jsx("p",{className:"comment",children:"// Add products first, then manage stock"})]}):r.jsx("div",{className:"card-neon overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-mm-border",children:[r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Total"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Reserved"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Available"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Alert"}),r.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),r.jsx("tbody",{children:s.map(C=>r.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[r.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:C.sku}),r.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:C.product_name||"N/A"}),r.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:C.quantity}),r.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-yellow",children:C.reserved}),r.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:r.jsx("span",{className:C.available<=(C.alert_threshold||0)?"text-mm-red":"text-mm-green",children:C.available})}),r.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:C.alert_threshold||10}),r.jsx("td",{className:"py-4 px-4 text-right",children:r.jsx("button",{onClick:()=>{j({...v,product_id:C.product_id}),f(!0)},className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors text-xs uppercase font-mono",children:"Adjust"})})]},C.id))})]})})})}),t==="fbo"&&r.jsx("div",{children:c?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):l.length===0?r.jsxs("div",{className:"card-neon text-center py-12",children:[r.jsx(Nt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),r.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No FBO inventory"}),r.jsx("p",{className:"comment",children:"// FBO stock will appear here"})]}):r.jsx("div",{className:"card-neon overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-mm-border",children:[r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Marketplace"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Warehouse"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Quantity"})]})}),r.jsx("tbody",{children:l.map(C=>r.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[r.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:C.sku}),r.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:C.product_name||"N/A"}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"px-2 py-1 text-xs font-mono border border-mm-purple text-mm-purple",children:C.marketplace})}),r.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:C.warehouse_name}),r.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-green",children:C.quantity})]},C.id))})]})})})}),t==="history"&&r.jsx("div",{children:c?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):i.length===0?r.jsxs("div",{className:"card-neon text-center py-12",children:[r.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No movement history"}),r.jsx("p",{className:"comment",children:"// All stock movements will be logged here"})]}):r.jsx("div",{className:"card-neon overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-mm-border",children:[r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Operation"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Change"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Reason"})]})}),r.jsx("tbody",{children:i.map(C=>r.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[r.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(C.created_at).toLocaleString()}),r.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:C.sku}),r.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:C.product_name||"N/A"}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"px-2 py-1 text-xs font-mono border border-mm-cyan text-mm-cyan",children:C.operation_type})}),r.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:r.jsxs("span",{className:`flex items-center space-x-1 ${C.quantity_change>0?"text-mm-green":"text-mm-red"}`,children:[C.quantity_change>0?r.jsx(Ep,{}):r.jsx(Cp,{}),r.jsxs("span",{children:[C.quantity_change>0?"+":"",C.quantity_change]})]})}),r.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:C.reason})]},C.id))})]})})})}),p&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"card-neon max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl text-mm-cyan",children:"ADJUST INVENTORY"}),r.jsx("button",{onClick:()=>f(!1),className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:""})]}),r.jsxs("form",{onSubmit:w,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Quantity Change"}),r.jsx("input",{type:"number",value:v.quantity_change,onChange:C=>j({...v,quantity_change:C.target.value}),className:"input-neon w-full",placeholder:"+100 or -50",required:!0}),r.jsx("p",{className:"comment text-xs mt-1",children:"// Use + for adding, - for removing"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Reason"}),r.jsx("textarea",{value:v.reason,onChange:C=>j({...v,reason:C.target.value}),className:"input-neon w-full",rows:"3",placeholder:"Reason for adjustment...",required:!0})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"ADJUST STOCK"}),r.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})}),N&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"card-neon max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl text-mm-cyan",children:"CREATE FBO SHIPMENT"}),r.jsx("button",{onClick:()=>b(!1),className:"text-mm-text-secondary hover:text-mm-red",children:""})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"card-neon bg-mm-darker",children:[r.jsx("p",{className:"comment mb-3",children:"// Step 1: Select Warehouse"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Marketplace"}),r.jsxs("select",{value:m.marketplace,onChange:C=>x({...m,marketplace:C.target.value}),className:"input-neon w-full",children:[r.jsx("option",{value:"ozon",children:"Ozon"}),r.jsx("option",{value:"wb",children:"Wildberries"}),r.jsx("option",{value:"yandex",children:"Yandex.Market"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Warehouse"}),r.jsxs("select",{value:m.warehouse,onChange:C=>x({...m,warehouse:C.target.value}),className:"input-neon w-full",children:[r.jsx("option",{value:"",children:"Select warehouse"}),r.jsx("option",{value:"moscow",children:"Moscow - Khoruzhino"}),r.jsx("option",{value:"spb",children:"Saint Petersburg"}),r.jsx("option",{value:"kazan",children:"Kazan"}),r.jsx("option",{value:"ekb",children:"Ekaterinburg"})]})]})]})]}),r.jsxs("div",{className:"card-neon bg-mm-darker",children:[r.jsx("p",{className:"comment mb-3",children:"// Step 2: Add Products to Shipment"}),r.jsx("div",{className:"space-y-2 mb-4",children:m.products.map((C,S)=>r.jsxs("div",{className:"flex items-center space-x-2 bg-mm-black p-2 border border-mm-border",children:[r.jsx("span",{className:"flex-1 font-mono text-sm",children:C.name}),r.jsx("span",{className:"text-mm-text-secondary",children:"Qty:"}),r.jsx("input",{type:"number",value:C.quantity,onChange:O=>{const _=[...m.products];_[S].quantity=parseInt(O.target.value)||0,x({...m,products:_})},className:"input-neon w-20",min:"1"}),r.jsx("button",{onClick:()=>{x({...m,products:m.products.filter((O,_)=>_!==S)})},className:"text-mm-red",children:""})]},S))}),r.jsxs("select",{onChange:C=>{const S=h.find(O=>O.id===C.target.value);S&&!m.products.find(O=>O.id===S.id)&&x({...m,products:[...m.products,{id:S.id,name:S.minimalmod.name,sku:S.sku,quantity:1}]}),C.target.value=""},className:"input-neon w-full",children:[r.jsx("option",{value:"",children:"+ Add product to shipment"}),h.map(C=>r.jsxs("option",{value:C.id,children:[C.sku," - ",C.minimalmod.name]},C.id))]})]}),m.products.length>0&&r.jsxs("div",{className:"card-neon bg-mm-darker",children:[r.jsx("p",{className:"comment mb-3",children:"// Step 3: Confirm Shipment"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-mm-text-secondary",children:"Total Items:"}),r.jsx("span",{className:"font-bold",children:m.products.reduce((C,S)=>C+S.quantity,0)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-mm-text-secondary",children:"Products:"}),r.jsx("span",{className:"font-bold",children:m.products.length})]})]})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:async()=>{var C,S;if(!m.warehouse){alert("Please select warehouse");return}if(m.products.length===0){alert("Please add products");return}try{const O=await e.post("/api/inventory/fbo-shipment",m);alert(O.data.message),b(!1),x({marketplace:"ozon",warehouse:"",products:[]}),T()}catch(O){alert("Failed to create shipment: "+(((S=(C=O.response)==null?void 0:C.data)==null?void 0:S.detail)||O.message))}},className:"btn-primary flex-1",disabled:!m.warehouse||m.products.length===0,children:"CREATE SHIPMENT"}),r.jsx("button",{onClick:()=>{b(!1),x({marketplace:"ozon",warehouse:"",products:[]})},className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})})]})}const d0="http://localhost:8001",u0=()=>{const[e,t]=y.useState([]),[n,s]=y.useState(!0),[a,l]=y.useState("all"),[o,i]=y.useState(!0),[d,c]=y.useState(!0),[u,p]=y.useState(!1),[f,N]=y.useState(!1),[b,v]=y.useState(""),[j,m]=y.useState([]);y.useEffect(()=>{x()},[]);const x=async()=>{try{const g=localStorage.getItem("token"),E=await ie.get(`${d0}/api/stock`,{headers:{Authorization:`Bearer ${g}`}});t(E.data),s(!1)}catch(g){console.error("Error fetching stock:",g),s(!1)}},h=e.filter(g=>{var w,C,S,O,_,$;const E=((C=(w=g.product)==null?void 0:w.name)==null?void 0:C.toLowerCase().includes(b.toLowerCase()))||((O=(S=g.product)==null?void 0:S.sku)==null?void 0:O.toLowerCase().includes(b.toLowerCase()))||(($=(_=g.product)==null?void 0:_.barcode)==null?void 0:$.toLowerCase().includes(b.toLowerCase())),T=o&&g.quantity>0||u&&g.quantity===0||!o&&!u;return E&&T});return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-mm-purple mb-4",children:"  "}),r.jsxs("div",{className:"flex gap-4 items-center mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 font-mono uppercase",children:""}),r.jsx("select",{value:a,onChange:g=>l(g.target.value),className:"px-4 py-2 bg-mm-dark border border-mm-border text-mm-text rounded",children:r.jsx("option",{value:"all",children:" "})})]}),r.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:o,onChange:g=>i(g.target.checked),className:"w-4 h-4 text-mm-cyan rounded"}),r.jsx("span",{className:"text-sm text-mm-text font-mono",children:" "})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:d,onChange:g=>c(g.target.checked),className:"w-4 h-4 text-mm-cyan rounded"}),r.jsx("span",{className:"text-sm text-mm-text font-mono",children:"  "})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:u,onChange:g=>p(g.target.checked),className:"w-4 h-4 text-mm-cyan rounded"}),r.jsx("span",{className:"text-sm text-mm-text font-mono",children:" "})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:f,onChange:g=>N(g.target.checked),className:"w-4 h-4 text-mm-cyan rounded"}),r.jsx("span",{className:"text-sm text-mm-text font-mono",children:""})]})]})]}),r.jsx("div",{className:"flex gap-3 items-center",children:r.jsx("input",{type:"text",value:b,onChange:g=>v(g.target.value),placeholder:"  , -, ...",className:"flex-1 px-4 py-2 bg-mm-dark border border-mm-border text-mm-text rounded focus:border-mm-cyan focus:outline-none"})})]}),r.jsxs("div",{className:"flex gap-1 border-b border-mm-border",children:[r.jsx("button",{className:"px-6 py-3 bg-mm-cyan text-mm-black font-mono font-bold",children:""}),r.jsx("button",{className:"px-6 py-3 text-mm-text-secondary hover:bg-mm-dark font-mono",children:""}),r.jsx("button",{className:"px-6 py-3 text-mm-text-secondary hover:bg-mm-dark font-mono",children:" "}),r.jsx("button",{className:"px-6 py-3 text-mm-text-secondary hover:bg-mm-dark font-mono",children:""}),r.jsx("button",{className:"px-6 py-3 text-mm-text-secondary hover:bg-mm-dark font-mono",children:""}),r.jsx("button",{className:"px-6 py-3 text-mm-text-secondary hover:bg-mm-dark font-mono",children:""})]}),r.jsx("div",{className:"flex justify-between items-center",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"px-3 py-1 bg-mm-dark border border-mm-border text-mm-text-secondary rounded hover:bg-mm-gray text-sm",children:" "}),r.jsx("button",{className:"px-3 py-1 bg-mm-dark border border-mm-border text-mm-text-secondary rounded hover:bg-mm-gray text-sm",children:""})]})}),r.jsxs("div",{className:"card-neon overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b border-mm-border",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left",children:r.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-mono text-mm-text-secondary uppercase",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-mono text-mm-text-secondary uppercase",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-mono text-mm-text-secondary uppercase",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-mono text-mm-text-secondary uppercase",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-mono text-mm-text-secondary uppercase",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-mono text-mm-text-secondary uppercase",children:"-"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-mono text-mm-text-secondary uppercase",children:"SKU"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-mono text-mm-text-secondary uppercase",children:""})]})}),r.jsx("tbody",{children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:"9",className:"px-4 py-8 text-center text-mm-cyan animate-pulse",children:"// LOADING..."})}):h.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"9",className:"px-4 py-8 text-center text-mm-text-secondary",children:"  "})}):h.map((g,E)=>{var T,w,C,S,O,_;return r.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),r.jsx("td",{className:"px-4 py-3",children:(w=(T=g.product)==null?void 0:T.images)!=null&&w[0]?r.jsx("img",{src:g.product.images[0],alt:g.product.name,className:"w-12 h-12 object-cover border border-mm-border"}):r.jsx("div",{className:"w-12 h-12 bg-mm-gray border border-mm-border flex items-center justify-center text-mm-text-tertiary",children:""})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-mm-cyan hover:underline cursor-pointer font-medium",children:((C=g.product)==null?void 0:C.name)||" "})}),r.jsx("td",{className:"px-4 py-3 text-sm text-mm-text-secondary",children:((S=g.warehouse)==null?void 0:S.name)||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-mm-text",children:g.quantity||0}),r.jsx("td",{className:"px-4 py-3 text-sm text-mm-text-secondary",children:g.reserved||0}),r.jsx("td",{className:"px-4 py-3 text-sm text-mm-text-secondary font-mono",children:((O=g.product)==null?void 0:O.barcode)||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-mm-text-secondary font-mono",children:((_=g.product)==null?void 0:_.sku)||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-mm-text-secondary",children:g.updated_at?new Date(g.updated_at).toLocaleDateString("ru-RU"):"-"})]},E)})})]})}),r.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-t border-mm-border",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{className:"bg-mm-dark border border-mm-border text-mm-text rounded px-2 py-1 text-sm",children:[r.jsx("option",{children:"200"}),r.jsx("option",{children:"50"}),r.jsx("option",{children:"100"})]}),r.jsx("span",{className:"text-sm text-mm-text-secondary",children:"  "})]}),r.jsxs("div",{className:"text-sm text-mm-text-secondary",children:[" 1  1 | : ",j.length]})]})]})]})};function Tp(){const[e,t]=y.useState("warehouses");return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex space-x-4 border-b border-mm-border",children:[r.jsxs("button",{onClick:()=>t("warehouses"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${e==="warehouses"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[r.jsx(Oi,{className:"inline mr-2"})," "]}),r.jsxs("button",{onClick:()=>t("stock"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${e==="stock"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[r.jsx(Zg,{className:"inline mr-2"}),""]}),r.jsxs("button",{onClick:()=>t("inventory"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${e==="inventory"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[r.jsx(n0,{className:"inline mr-2"}),""]})]}),r.jsxs("div",{children:[e==="warehouses"&&r.jsx(i0,{}),e==="stock"&&r.jsx(u0,{}),e==="inventory"&&r.jsx(c0,{})]})]})}function Ap(){const{api:e}=fe(),[t,n]=y.useState([]),[s,a]=y.useState([]),[l,o]=y.useState([]),[i,d]=y.useState(!0),[c,u]=y.useState(""),[p,f]=y.useState(""),[N,b]=y.useState(""),[v,j]=y.useState(""),[m,x]=y.useState(!1),[h,g]=y.useState(1),[E,T]=y.useState("created_at"),[w,C]=y.useState(!1);y.useEffect(()=>{S(),O()},[c,p,N,v,h,E,w]);const S=async()=>{try{const F=await e.get("/api/catalog/categories");o(F.data)}catch(F){console.error("Failed to load categories:",F)}},O=async()=>{try{d(!0);const F={page:h,limit:50,sort_by:E,ascending:w};c&&(F.search=c),p&&(F.category_id=p),N&&(F.brand=N),v&&(F.status=v);const W=(await e.get("/api/catalog/products",{params:F})).data;n(W);const H=await Promise.all(W.map(async K=>{try{const k=(await e.get(`/api/catalog/products/${K.id}/photos`)).data;return{...K,firstPhoto:k.length>0?k[0].url:null}}catch(A){return console.error(`Failed to load photos for product ${K.id}:`,A),{...K,firstPhoto:null}}}));a(H)}catch(F){console.error("Failed to load products:",F)}finally{d(!1)}},_=async F=>{if(window.confirm(" ,      ?    ."))try{await e.delete(`/api/catalog/products/${F}`),O()}catch(M){alert("   : "+M.message)}},$=F=>{const M={active:r.jsx("span",{className:"px-2 py-1 text-xs rounded bg-green-500/20 text-green-400",children:""}),draft:r.jsx("span",{className:"px-2 py-1 text-xs rounded bg-yellow-500/20 text-yellow-400",children:""}),archived:r.jsx("span",{className:"px-2 py-1 text-xs rounded bg-gray-500/20 text-gray-400",children:""})};return M[F]||M.draft};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:""}),r.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:" "})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>window.location.href="/catalog/import",className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded flex items-center gap-2",children:[r.jsx(Zr,{}),"  "]}),r.jsxs("button",{onClick:()=>window.location.href="/catalog/categories",className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded flex items-center gap-2",children:[r.jsx(Nt,{})," "]}),r.jsxs("button",{onClick:()=>window.location.href="/catalog/products/new",className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center gap-2",children:[r.jsx(Wa,{}),"  "]})]})]}),r.jsxs("div",{className:"bg-mm-secondary p-4 rounded-lg space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-mm-text-secondary"}),r.jsx("input",{type:"text",placeholder:"  , , -...",value:c,onChange:F=>u(F.target.value),className:"w-full pl-10 pr-4 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),r.jsxs("button",{onClick:()=>x(!m),className:`px-4 py-2 rounded flex items-center gap-2 ${m?"bg-mm-cyan text-mm-dark":"bg-mm-dark text-mm-text hover:bg-mm-dark/80"}`,children:[r.jsx(r0,{})," "]})]}),m&&r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),r.jsxs("select",{value:p,onChange:F=>f(F.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[r.jsx("option",{value:"",children:" "}),l.map(F=>r.jsx("option",{value:F.id,children:F.name},F.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),r.jsx("input",{type:"text",value:N,onChange:F=>b(F.target.value),placeholder:"  ",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),r.jsxs("select",{value:v,onChange:F=>j(F.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[r.jsx("option",{value:"",children:" "}),r.jsx("option",{value:"active",children:""}),r.jsx("option",{value:"draft",children:""}),r.jsx("option",{value:"archived",children:""})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),r.jsxs("select",{value:E,onChange:F=>T(F.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[r.jsx("option",{value:"created_at",children:"  "}),r.jsx("option",{value:"name",children:" "}),r.jsx("option",{value:"article",children:" "})]})]})]})]}),i?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-mm-cyan"}),r.jsx("p",{className:"text-mm-text-secondary mt-4",children:" ..."})]}):s.length===0?r.jsxs("div",{className:"text-center py-12 bg-mm-secondary rounded-lg",children:[r.jsx(Nt,{className:"mx-auto text-6xl text-mm-text-secondary mb-4"}),r.jsx("p",{className:"text-mm-text-secondary text-lg",children:" "}),r.jsx("p",{className:"text-mm-text-secondary text-sm mt-2",children:"     "}),r.jsx("button",{onClick:()=>window.location.href="/catalog/products/new",className:"mt-4 px-6 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded",children:" "})]}):r.jsx("div",{className:"bg-mm-secondary rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-mm-dark border-b border-mm-border",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""})]})}),r.jsx("tbody",{className:"divide-y divide-mm-border",children:s.map(F=>r.jsxs("tr",{className:"hover:bg-mm-dark/50 transition",children:[r.jsxs("td",{className:"px-4 py-3",children:[F.firstPhoto?r.jsx("img",{src:F.firstPhoto,alt:F.name,className:"w-12 h-12 object-cover rounded bg-mm-dark",onError:M=>{M.target.style.display="none",M.target.nextSibling.style.display="flex"}}):null,r.jsx("div",{className:"w-12 h-12 bg-mm-dark rounded flex items-center justify-center",style:{display:F.firstPhoto?"none":"flex"},children:r.jsx(Nt,{className:"text-mm-text-secondary"})})]}),r.jsx("td",{className:"px-4 py-3 text-sm text-mm-text font-mono",children:F.article}),r.jsxs("td",{className:"px-4 py-3",children:[r.jsx("div",{className:"text-sm text-mm-text",children:F.name}),F.description&&r.jsx("div",{className:"text-xs text-mm-text-secondary mt-1 truncate max-w-xs",children:F.description})]}),r.jsx("td",{className:"px-4 py-3",children:F.price_discounted?r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("span",{className:"text-mm-cyan font-bold text-base",children:[(F.price_discounted/100).toFixed(2)," "]}),r.jsxs("span",{className:"text-mm-text-secondary text-xs line-through",children:[(F.price/100).toFixed(2)," "]})]}):F.price>0?r.jsxs("span",{className:"text-mm-text text-sm",children:[(F.price/100).toFixed(2)," "]}):r.jsx("span",{className:"text-mm-text-secondary text-sm",children:""})}),r.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:F.brand||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:F.category_name||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-mm-cyan",children:F.variants_count}),F.is_grouped&&r.jsx("span",{className:"text-xs text-mm-text-secondary",children:"(.)"})]})}),r.jsx("td",{className:"px-4 py-3",children:$(F.status)}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>window.location.href=`/catalog/products/${F.id}/edit`,className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded transition",title:"",children:r.jsx(Zn,{})}),r.jsx("button",{onClick:()=>_(F.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded transition",title:" ",children:r.jsx(on,{})})]})})]},F.id))})]})}),s.length>0&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-sm text-mm-text-secondary",children:[" : ",s.length]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>g(Math.max(1,h-1)),disabled:h===1,className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:""}),r.jsxs("span",{className:"px-4 py-2 bg-mm-dark rounded text-mm-text",children:[" ",h]}),r.jsx("button",{onClick:()=>g(h+1),disabled:s.length<50,className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})]})}function m0(){const{api:e}=fe(),[t,n]=y.useState([]),[s,a]=y.useState(!0);y.useEffect(()=>{l()},[]);const l=async()=>{try{const d=await e.get("/api/admin/users");n(d.data)}catch(d){console.error("Failed to load users:",d)}a(!1)},o=async d=>{try{await e.put(`/api/admin/users/${d}/approve`),l()}catch(c){console.error("Failed to approve:",c)}},i=async d=>{try{await e.put(`/api/admin/users/${d}/block`),l()}catch(c){console.error("Failed to block:",c)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl mb-4 text-mm-cyan",children:" "}),s?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):r.jsx("div",{className:"card-neon overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-mm-border",children:[r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Email"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Name"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Role"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Status"}),r.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Actions"})]})}),r.jsx("tbody",{children:t.map(d=>r.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[r.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:d.email}),r.jsx("td",{className:"py-4 px-4",children:d.full_name}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:d.role==="admin"?"status-active":"status-new",children:d.role})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:d.is_active?"status-active":"status-pending",children:d.is_active?"ACTIVE":"PENDING"})}),r.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[!d.is_active&&d.role==="seller"&&r.jsx("button",{onClick:()=>o(d.id),className:"px-3 py-1 border border-mm-green text-mm-green text-xs",children:"APPROVE"}),d.is_active&&d.role==="seller"&&r.jsx("button",{onClick:()=>i(d.id),className:"px-3 py-1 border border-mm-red text-mm-red text-xs",children:"BLOCK"})]})]},d.id))})]})})]})}function p0(){const{user:e,logout:t}=fe(),[n,s]=y.useState("sellers");return r.jsxs("div",{className:"min-h-screen bg-mm-black",children:[r.jsx("header",{className:"border-b border-mm-border bg-mm-darker",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h1",{className:"text-2xl font-bold",children:["MINIMAL",r.jsx("span",{className:"text-mm-purple",children:"MOD"})," ",r.jsx("span",{className:"status-active",children:"ADMIN"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-mm-text-secondary",children:e==null?void 0:e.email}),r.jsx(Lp,{}),r.jsx("button",{onClick:t,className:"btn-primary",children:"LOGOUT"})]})]})})}),r.jsx("nav",{className:"border-b border-mm-border bg-mm-dark",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4",children:r.jsxs("div",{className:"flex space-x-6 h-12 overflow-x-auto",children:[r.jsxs("button",{onClick:()=>s("sellers"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${n==="sellers"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-sellers",children:[r.jsx(o0,{className:"inline mr-2"}),""]}),r.jsxs("button",{onClick:()=>s("api-keys"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${n==="api-keys"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-integrations",children:[r.jsx(Np,{className:"inline mr-2"}),""]}),r.jsxs("button",{onClick:()=>s("warehouses"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${n==="warehouses"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-warehouses",children:[r.jsx(Oi,{className:"inline mr-2"}),""]}),r.jsxs("button",{onClick:()=>s("products"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${n==="products"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-products",children:[r.jsx(Nt,{className:"inline mr-2"}),""]}),r.jsxs("button",{onClick:()=>s("orders"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${n==="orders"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-orders",children:[r.jsx(_p,{className:"inline mr-2"}),"ORDERS"]}),r.jsxs("button",{onClick:()=>s("finance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${n==="finance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-finance",children:[r.jsx(wp,{className:"inline mr-2"}),"FINANCE"]}),r.jsxs("button",{onClick:()=>s("balance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${n==="balance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-balance",children:[r.jsx(Ba,{className:"inline mr-2"}),"BALANCE"]})]})})}),r.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[n==="sellers"&&r.jsx(m0,{}),n==="api-keys"&&r.jsx(Ti,{}),n==="warehouses"&&r.jsx(Tp,{}),n==="products"&&r.jsx(Ap,{}),n==="orders"&&r.jsx(zp,{}),n==="finance"&&r.jsx(Rp,{}),n==="balance"&&r.jsx(Op,{})]})]})}function x0(){const{api:e}=fe(),[t,n]=y.useState({}),[s,a]=y.useState({}),[l,o]=y.useState(null);y.useEffect(()=>{i()},[]);const i=async()=>{try{const p=await e.get("/api/admin/categories/preload/status");a(p.data)}catch(p){console.error("Failed to load status:",p),o("  ")}},d=async p=>{var f,N;n({...t,[p]:!0}),o(null);try{const b=await e.post(`/api/admin/categories/preload?marketplace=${p}`);alert(` ${b.data.message}`),setTimeout(()=>{i()},3e3)}catch(b){console.error(`Failed to preload ${p}:`,b);const v=((N=(f=b.response)==null?void 0:f.data)==null?void 0:N.detail)||b.message;alert(`   ${p}: ${v}`),o(v)}finally{n({...t,[p]:!1})}},c=[{id:"ozon",name:"Ozon",color:"blue",description:"   Ozon"},{id:"wb",name:"Wildberries",color:"purple",description:"   WB"},{id:"yandex",name:" ",color:"yellow",description:"  "}],u=p=>p?new Date(p).toLocaleString("ru-RU"):"";return r.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),r.jsx("p",{className:"text-gray-600",children:"          "})]}),l&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-start gap-3",children:[r.jsx(us,{className:"text-red-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-red-800 font-medium",children:""}),r.jsx("p",{className:"text-red-600 text-sm",children:l})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"   ?"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:"       "}),r.jsx("li",{children:"        "}),r.jsx("li",{children:"          "}),r.jsx("li",{children:"   1-3     "})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.map(p=>{const f=s[p.id]||{},N=f.total_categories>0,b=f.last_updated;return r.jsxs("div",{className:`bg-white border-2 border-${p.color}-200 rounded-lg p-6 shadow-sm`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:`text-lg font-bold text-${p.color}-700`,children:p.name}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.description})]}),N&&r.jsx(rr,{className:"text-green-600 text-xl flex-shrink-0"})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:" :"}),r.jsx("span",{className:"font-bold text-gray-900",children:f.total_categories||0})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:" :"}),r.jsx("span",{className:"font-medium text-gray-700 text-xs",children:u(b)})]})]}),r.jsx("button",{onClick:()=>d(p.id),disabled:t[p.id],className:`w-full py-2 px-4 rounded-lg font-medium text-white transition-colors flex items-center justify-center gap-2 ${t[p.id]?`bg-${p.color}-300 cursor-not-allowed`:`bg-${p.color}-600 hover:bg-${p.color}-700`}`,children:t[p.id]?r.jsxs(r.Fragment,{children:[r.jsx(tt,{className:"animate-spin"}),"..."]}):N?r.jsxs(r.Fragment,{children:[r.jsx(tt,{})," "]}):r.jsxs(r.Fragment,{children:[r.jsx(ba,{})," "]})})]},p.id)})}),r.jsxs("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-medium text-yellow-900 mb-2",children:" "}),r.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[r.jsx("li",{children:"      API  "}),r.jsx("li",{children:' ,       ""'}),r.jsx("li",{children:"    ,      "})]})]})]})}function h0(){const{user:e,logout:t,api:n}=fe(),[s,a]=y.useState([]),[l,o]=y.useState(!0),[i,d]=y.useState("products");y.useEffect(()=>{c()},[]);const c=async()=>{try{const u=await n.get("/api/products");a(u.data)}catch(u){console.error("Failed to load products:",u)}o(!1)};return r.jsxs("div",{className:"min-h-screen bg-mm-black",children:[r.jsx("header",{className:"border-b border-mm-border bg-mm-darker",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h1",{className:"text-2xl font-bold",children:["MINIMAL",r.jsx("span",{className:"text-mm-purple",children:"MOD"})," ",r.jsx("span",{className:"status-new",children:"SELLER"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-mm-text-secondary",children:e==null?void 0:e.email}),r.jsx(Lp,{}),r.jsx("button",{onClick:t,className:"btn-primary",children:"LOGOUT"})]})]})})}),r.jsx("nav",{className:"border-b border-mm-border bg-mm-dark",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4",children:r.jsxs("div",{className:"flex space-x-6 h-12 overflow-x-auto",children:[r.jsxs("button",{onClick:()=>d("api-keys"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${i==="api-keys"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[r.jsx(Np,{className:"inline mr-2"}),""]}),r.jsxs("button",{onClick:()=>d("warehouses"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${i==="warehouses"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[r.jsx(Oi,{className:"inline mr-2"}),""]}),r.jsxs("button",{onClick:()=>d("products"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${i==="products"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[r.jsx(Nt,{className:"inline mr-2"}),""]}),r.jsxs("button",{onClick:()=>d("orders"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${i==="orders"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[r.jsx(_p,{className:"inline mr-2"}),"ORDERS"]}),r.jsxs("button",{onClick:()=>d("finance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${i==="finance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[r.jsx(wp,{className:"inline mr-2"}),"FINANCE"]}),r.jsxs("button",{onClick:()=>d("balance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${i==="balance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[r.jsx(Ba,{className:"inline mr-2"}),"BALANCE"]})]})})}),r.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[i==="api-keys"&&r.jsx(Ti,{}),i==="warehouses"&&r.jsx(Tp,{}),i==="products"&&r.jsx(Ap,{}),i==="old-products"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan",children:"PRODUCTS"}),r.jsx("button",{onClick:()=>window.location.href="/products/new/edit",className:"btn-primary",children:"+ ADD PRODUCT"})]}),l?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):s.length===0?r.jsxs("div",{className:"card-neon text-center py-12",children:[r.jsx(Nt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),r.jsx("p",{className:"text-mm-text-secondary",children:"No products yet"})]}):r.jsx("div",{className:"card-neon overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-mm-border",children:[r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Photo"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"SKU"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Name"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Category"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Characteristics"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Price"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Status"}),r.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Source"}),r.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Actions"})]})}),r.jsx("tbody",{children:s.map(u=>{var N,b;const f=(u.marketplace_data?Object.keys(u.marketplace_data):[]).includes("wb");return r.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[r.jsx("td",{className:"py-4 px-4",children:u.images&&u.images[0]?r.jsx("img",{src:u.images[0],alt:u.name,className:"w-16 h-16 object-cover border border-mm-border"}):r.jsx("div",{className:"w-16 h-16 bg-mm-gray border border-mm-border flex items-center justify-center",children:r.jsx("span",{className:"text-xs",children:"NO IMG"})})}),r.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:u.sku}),r.jsxs("td",{className:"py-4 px-4",children:[r.jsx("div",{className:"font-semibold",children:u.name}),u.description&&r.jsxs("div",{className:"text-xs text-mm-text-secondary mt-1 max-w-xs truncate",children:[u.description.substring(0,80),"..."]})]}),r.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary",children:((b=(N=u.marketplace_data)==null?void 0:N.wb)==null?void 0:b.category)||"N/A"}),r.jsx("td",{className:"py-4 px-4 text-sm",children:u.attributes&&Object.keys(u.attributes).length>0?r.jsxs("div",{className:"text-mm-green",children:[Object.keys(u.attributes).length," ",r.jsx("div",{className:"text-xs text-mm-text-tertiary mt-1",children:Object.entries(u.attributes).slice(0,2).map(([v,j])=>r.jsxs("div",{children:[v,": ",j]},v))})]}):r.jsx("span",{className:"text-mm-text-tertiary",children:"-"})}),r.jsxs("td",{className:"py-4 px-4 font-mono",children:["",u.price]}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:u.status==="active"?"status-active":"status-pending",children:u.status})}),r.jsx("td",{className:"py-4 px-4",children:f&&r.jsx("span",{className:"text-xs px-2 py-1 bg-mm-purple/20 text-mm-purple border border-mm-purple",children:"WB"})}),r.jsxs("td",{className:"py-4 px-4 text-right",children:[r.jsx("button",{onClick:async()=>{var v,j;if(confirm(`  "${u.name}"?`))try{await n.delete(`/api/products/${u.id}`),alert("  !"),c()}catch(m){alert("  : "+(((j=(v=m.response)==null?void 0:v.data)==null?void 0:j.detail)||m.message))}},className:"px-3 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors mr-2",title:" ",children:r.jsx(on,{size:16})}),r.jsx("button",{onClick:()=>window.location.href=`/products/${u.id}/edit`,className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors",title:" ",children:r.jsx(Zn,{size:16})})]})]},u.id)})})]})})]}),i==="orders"&&r.jsx(zp,{}),i==="finance"&&r.jsx(Rp,{}),i==="balance"&&r.jsx(Op,{})]})]})}function f0(){const{id:e}=ki(),t=Ft(),{api:n}=fe(),[s,a]=y.useState(!0),[l,o]=y.useState([]),[i,d]=y.useState(null),[c,u]=y.useState({sku:"",price:"",cogs:"",status:"draft",category_id:"",visibility:{show_on_minimalmod:!0,show_in_search:!0,is_featured:!1},seo:{meta_title:"",meta_description:"",url_slug:""},minimalmod:{name:"",variant_name:"",description:"",tags:[],images:[],attributes:{}},marketplaces:{images:[],ozon:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}},wildberries:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}},yandex_market:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}}}});y.useEffect(()=>{p(),e!=="new"?f():a(!1)},[e]);const p=async()=>{try{const m=await n.get("/api/admin/categories");o(m.data)}catch(m){console.error("Failed to load categories:",m)}},f=async()=>{try{const m=await n.get(`/api/products/${e}`);if(u(m.data),m.data.category_id){const x=l.find(h=>h.id===m.data.category_id);d(x)}}catch(m){console.error("Failed to load product:",m)}a(!1)},N=m=>{const x=l.find(h=>h.id===m);if(d(x),x&&x.attributes){const h={};x.attributes.forEach(g=>{h[g]=c.minimalmod.attributes[g]||""}),u({...c,category_id:m,minimalmod:{...c.minimalmod,attributes:h}})}else u({...c,category_id:m})},b=()=>{if(!i)return;const m=i.marketplace_mapping||{};if(c.marketplaces.ozon.enabled&&m.ozon){const x={};Object.entries(c.minimalmod.attributes).forEach(([h,g])=>{var T;const E=(T=m.ozon.attribute_mapping)==null?void 0:T[h];E&&g&&(x[E]=g)}),u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,attributes:x}}})}alert("    !")},v=async()=>{var m,x;try{const h={...c,visibility:{...c.visibility,show_on_minimalmod:!0},status:"active"};e==="new"?await n.post("/api/products",h):await n.put(`/api/products/${e}`,h),alert("    MinimalMod!"),t(-1)}catch(h){alert(": "+(((x=(m=h.response)==null?void 0:m.data)==null?void 0:x.detail)||h.message))}},j=async()=>{var x,h;const m=[];if(c.marketplaces.ozon.enabled&&m.push("Ozon"),c.marketplaces.wildberries.enabled&&m.push("Wildberries"),c.marketplaces.yandex_market.enabled&&m.push("."),m.length===0){alert("    !");return}try{b(),e==="new"?await n.post("/api/products",c):await n.put(`/api/products/${e}`,c),alert(`  : ${m.join(", ")}!

      API  .`),t(-1)}catch(g){alert(": "+(((h=(x=g.response)==null?void 0:x.data)==null?void 0:h.detail)||g.message))}};return s?r.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:r.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):r.jsxs("div",{className:"min-h-screen bg-mm-black",children:[r.jsx("header",{className:"border-b border-mm-border bg-mm-darker sticky top-0 z-10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-mm-cyan uppercase",children:e==="new"?" ":" "}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:v,className:"btn-primary",children:[r.jsx(Zr,{className:"inline mr-2"}),"  "]}),r.jsxs("button",{onClick:j,className:"btn-secondary border-mm-green text-mm-green",children:[r.jsx(Zr,{className:"inline mr-2"}),"  "]}),r.jsxs("button",{onClick:()=>t(-1),className:"btn-secondary",children:[r.jsx(Ri,{className:"inline mr-2"}),""]})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"card-neon mb-6",children:[r.jsx("p",{className:"comment mb-3",children:"//      :"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("label",{className:"flex items-center space-x-2 p-4 border-2 border-mm-border hover:border-mm-cyan transition-all cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:!0,disabled:!0,className:"w-5 h-5"}),r.jsx("span",{className:"font-mono text-mm-cyan",children:"  ()"})]}),r.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${c.marketplaces.ozon.enabled?"border-mm-blue bg-mm-blue/10":"border-mm-border hover:border-mm-blue"}`,children:[r.jsx("input",{type:"checkbox",checked:c.marketplaces.ozon.enabled,onChange:m=>u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,enabled:m.target.checked}}}),className:"w-5 h-5"}),r.jsx("span",{className:`font-mono ${c.marketplaces.ozon.enabled?"text-mm-blue":"text-mm-text-secondary"}`,children:" OZON"})]}),r.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${c.marketplaces.wildberries.enabled?"border-mm-purple bg-mm-purple/10":"border-mm-border hover:border-mm-purple"}`,children:[r.jsx("input",{type:"checkbox",checked:c.marketplaces.wildberries.enabled,onChange:m=>u({...c,marketplaces:{...c.marketplaces,wildberries:{...c.marketplaces.wildberries,enabled:m.target.checked}}}),className:"w-5 h-5"}),r.jsx("span",{className:`font-mono ${c.marketplaces.wildberries.enabled?"text-mm-purple":"text-mm-text-secondary"}`,children:" WILDBERRIES"})]}),r.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${c.marketplaces.yandex_market.enabled?"border-mm-yellow bg-mm-yellow/10":"border-mm-border hover:border-mm-yellow"}`,children:[r.jsx("input",{type:"checkbox",checked:c.marketplaces.yandex_market.enabled,onChange:m=>u({...c,marketplaces:{...c.marketplaces,yandex_market:{...c.marketplaces.yandex_market,enabled:m.target.checked}}}),className:"w-5 h-5"}),r.jsx("span",{className:`font-mono ${c.marketplaces.yandex_market.enabled?"text-mm-yellow":"text-mm-text-secondary"}`,children:" ."})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"card-neon",children:[r.jsx("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:" "}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"SKU *"}),r.jsx("input",{type:"text",value:c.sku,onChange:m=>u({...c,sku:m.target.value}),className:"input-neon w-full",placeholder:"PRODUCT-123"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),r.jsx("input",{type:"number",step:"0.01",value:c.price,onChange:m=>u({...c,price:m.target.value}),className:"input-neon w-full"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),r.jsx("input",{type:"text",value:c.minimalmod.name,onChange:m=>u({...c,minimalmod:{...c.minimalmod,name:m.target.value}}),className:"input-neon w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),r.jsxs("select",{value:c.category_id||"",onChange:m=>N(m.target.value),className:"input-neon w-full",children:[r.jsx("option",{value:"",children:" "}),l.map(m=>r.jsx("option",{value:m.id,children:m.name},m.id))]}),r.jsx("p",{className:"comment text-xs mt-1",children:"//     "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),r.jsx("textarea",{value:c.minimalmod.description,onChange:m=>u({...c,minimalmod:{...c.minimalmod,description:m.target.value}}),className:"input-neon w-full",rows:"6"})]})]})]}),r.jsxs("div",{className:"card-neon",children:[r.jsxs("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:[r.jsx(ko,{className:"inline mr-2"}),"   ( 8 )"]}),r.jsxs("div",{className:"space-y-2",children:[c.minimalmod.images.map((m,x)=>r.jsxs("div",{className:"flex items-center space-x-2",children:[m&&r.jsx("img",{src:m,alt:"",className:"w-16 h-16 object-cover border border-mm-border"}),r.jsx("input",{type:"text",value:m,onChange:h=>{const g=[...c.minimalmod.images];g[x]=h.target.value,u({...c,minimalmod:{...c.minimalmod,images:g}})},className:"input-neon flex-1",placeholder:"https://example.com/image.jpg"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`file-mm-${x}`,onChange:h=>{const g=h.target.files[0];if(g){const E=new FileReader;E.onload=T=>{const w=[...c.minimalmod.images];w[x]=T.target.result,u({...c,minimalmod:{...c.minimalmod,images:w}})},E.readAsDataURL(g)}}}),r.jsx("label",{htmlFor:`file-mm-${x}`,className:"btn-secondary px-3 py-2 cursor-pointer",children:""}),r.jsx("button",{onClick:()=>{u({...c,minimalmod:{...c.minimalmod,images:c.minimalmod.images.filter((h,g)=>g!==x)}})},className:"text-mm-red hover:text-mm-red/80 text-xl",children:""})]},x)),c.minimalmod.images.length<8&&r.jsx("button",{onClick:()=>u({...c,minimalmod:{...c.minimalmod,images:[...c.minimalmod.images,""]}}),className:"btn-secondary w-full",children:"+  "})]})]}),r.jsxs("div",{className:"card-neon border-2 border-mm-purple",children:[r.jsxs("h3",{className:"text-xl mb-4 text-mm-purple uppercase",children:[r.jsx(ko,{className:"inline mr-2"}),"   ( 10 ,  3:4)"]}),r.jsx("p",{className:"comment mb-3",children:"//     Ozon, Wildberries, ."}),r.jsxs("div",{className:"space-y-2",children:[c.marketplaces.images.map((m,x)=>r.jsxs("div",{className:"flex items-center space-x-2",children:[m&&r.jsx("img",{src:m,alt:"",className:"w-16 h-16 object-cover border border-mm-border"}),r.jsx("input",{type:"text",value:m,onChange:h=>{const g=[...c.marketplaces.images];g[x]=h.target.value,u({...c,marketplaces:{...c.marketplaces,images:g}})},className:"input-neon flex-1",placeholder:"https://example.com/marketplace-image.jpg"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`file-mp-${x}`,onChange:h=>{const g=h.target.files[0];if(g){const E=new FileReader;E.onload=T=>{const w=[...c.marketplaces.images];w[x]=T.target.result,u({...c,marketplaces:{...c.marketplaces,images:w}})},E.readAsDataURL(g)}}}),r.jsx("label",{htmlFor:`file-mp-${x}`,className:"btn-secondary px-3 py-2 cursor-pointer",children:""}),r.jsx("button",{onClick:()=>u({...c,marketplaces:{...c.marketplaces,images:c.marketplaces.images.filter((h,g)=>g!==x)}}),className:"text-mm-red hover:text-mm-red/80 text-xl",children:""})]},x)),c.marketplaces.images.length<10&&r.jsx("button",{onClick:()=>u({...c,marketplaces:{...c.marketplaces,images:[...c.marketplaces.images,""]}}),className:"btn-secondary w-full",children:"+  "})]}),r.jsx("p",{className:"comment text-xs mt-3",children:"//  : 3:4 (, 900x1200px)"})]}),i&&i.attributes&&r.jsxs("div",{className:"card-neon",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:""}),r.jsxs("button",{onClick:b,className:"btn-secondary text-xs",children:[r.jsx(rr,{className:"inline mr-1"}),"  "]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.attributes.map(m=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:m}),r.jsx("input",{type:"text",value:c.minimalmod.attributes[m]||"",onChange:x=>u({...c,minimalmod:{...c.minimalmod,attributes:{...c.minimalmod.attributes,[m]:x.target.value}}}),className:"input-neon w-full",placeholder:` ${m}`})]},m))}),r.jsx("p",{className:"comment text-xs mt-3",children:'//   ,   ""     '})]}),c.marketplaces.ozon.enabled&&r.jsxs("div",{className:"card-neon border-2 border-mm-blue",children:[r.jsx("h3",{className:"text-xl mb-4 text-mm-blue uppercase",children:" OZON "}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  Ozon"}),r.jsx("input",{type:"number",step:"0.01",value:c.marketplaces.ozon.price,onChange:m=>u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,price:m.target.value}}}),className:"input-neon w-full",placeholder:"   Ozon"}),r.jsx("p",{className:"comment text-xs mt-1",children:"//  ,    "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  Ozon"}),r.jsx("textarea",{value:c.marketplaces.ozon.description,onChange:m=>u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,description:m.target.value}}}),className:"input-neon w-full",rows:"4",placeholder:"  Ozon (   )"}),r.jsx("p",{className:"comment text-xs mt-1",children:"//  ,    "})]})]})]}),c.marketplaces.wildberries.enabled&&r.jsxs("div",{className:"card-neon border-2 border-mm-purple",children:[r.jsx("h3",{className:"text-xl mb-4 text-mm-purple uppercase",children:" WILDBERRIES "}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  WB"}),r.jsx("input",{type:"number",step:"0.01",value:c.marketplaces.wildberries.price,onChange:m=>u({...c,marketplaces:{...c.marketplaces,wildberries:{...c.marketplaces.wildberries,price:m.target.value}}}),className:"input-neon w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  WB"}),r.jsx("textarea",{value:c.marketplaces.wildberries.description,onChange:m=>u({...c,marketplaces:{...c.marketplaces,wildberries:{...c.marketplaces.wildberries,description:m.target.value}}}),className:"input-neon w-full",rows:"4"})]})]})]}),c.marketplaces.yandex_market.enabled&&r.jsxs("div",{className:"card-neon border-2 border-mm-yellow",children:[r.jsx("h3",{className:"text-xl mb-4 text-mm-yellow uppercase",children:" . "}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),r.jsx("input",{type:"number",step:"0.01",value:c.marketplaces.yandex_market.price,onChange:m=>u({...c,marketplaces:{...c.marketplaces,yandex_market:{...c.marketplaces.yandex_market,price:m.target.value}}}),className:"input-neon w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),r.jsx("textarea",{value:c.marketplaces.yandex_market.description,onChange:m=>u({...c,marketplaces:{...c.marketplaces,yandex_market:{...c.marketplaces.yandex_market,description:m.target.value}}}),className:"input-neon w-full",rows:"4"})]})]})]})]}),r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsxs("div",{className:"card-neon",children:[r.jsx("h3",{className:"text-lg mb-4 text-mm-cyan uppercase",children:""}),r.jsxs("select",{value:c.status,onChange:m=>u({...c,status:m.target.value}),className:"input-neon w-full",children:[r.jsx("option",{value:"draft",children:""}),r.jsx("option",{value:"active",children:""}),r.jsx("option",{value:"out_of_stock",children:"  "}),r.jsx("option",{value:"archived",children:""})]})]}),r.jsxs("div",{className:"card-neon",children:[r.jsx("h3",{className:"text-lg mb-4 text-mm-cyan uppercase",children:""}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:c.visibility.show_on_minimalmod,onChange:m=>u({...c,visibility:{...c.visibility,show_on_minimalmod:m.target.checked}}),className:"w-4 h-4"}),r.jsx("span",{className:"text-mm-text-secondary",children:"  "})]}),r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:c.visibility.is_featured,onChange:m=>u({...c,visibility:{...c.visibility,is_featured:m.target.checked}}),className:"w-4 h-4"}),r.jsx("span",{className:"text-mm-text-secondary",children:""})]})]})]}),r.jsxs("div",{className:"card-neon bg-mm-blue/5 border-mm-blue",children:[r.jsx("p",{className:"text-mm-blue font-bold text-sm mb-2",children:"   :"}),r.jsxs("ul",{className:"text-xs text-mm-text-secondary space-y-1",children:[r.jsx("li",{children:"1.   "}),r.jsx("li",{children:"2.  "}),r.jsx("li",{children:"3.  "}),r.jsx("li",{children:"4.   ( )"}),r.jsx("li",{children:"5.    "}),r.jsx("li",{children:'6.  "  "'})]})]})]})]})]})]})}const y0="http://localhost:8001",g0=()=>{const e=Ft(),[t,n]=y.useState([]),[s,a]=y.useState(!0),[l,o]=y.useState(""),[i,d]=y.useState("Wildberries"),[c,u]=y.useState([]),[p,f]=y.useState(!1),[N,b]=y.useState(2);y.useEffect(()=>{v()},[]);const v=async()=>{try{const S=localStorage.getItem("token"),O=await ie.get(`${y0}/api/products`,{headers:{Authorization:`Bearer ${S}`}});n(O.data),a(!1)}catch(S){console.error("Error fetching products:",S),a(!1)}},j=()=>{e("/products/new")},m=()=>{e("/orders/new")},x=()=>{if(c.length===0){alert("   ");return}alert("  -  ")},h=()=>{alert(" -  ")},g=()=>{if(c.length===0){alert("   ");return}confirm(` ${c.length}   ?`)&&alert(" -  ")},E=()=>{if(c.length===0){alert("   ");return}confirm(` ${c.length} ?`)&&alert(" -  ")},T=()=>{alert("  -  ")},w=S=>{c.includes(S)?u(c.filter(O=>O!==S)):u([...c,S])},C=t.filter(S=>S.name.toLowerCase().includes(l.toLowerCase())||S.sku&&S.sku.toLowerCase().includes(l.toLowerCase())||S.barcode&&S.barcode.toLowerCase().includes(l.toLowerCase()));return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:j,className:"px-6 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:" "}),r.jsx("button",{onClick:m,className:"px-6 py-2 bg-yellow-500 text-white font-semibold rounded-lg hover:bg-yellow-600",children:" "})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:" "}),r.jsx("button",{onClick:h,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:""}),r.jsx("button",{onClick:g,className:"p-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",title:"  ",children:""}),r.jsx("button",{onClick:E,className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200",title:"",children:""})]})]}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsx("button",{onClick:()=>f(!p),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-semibold",children:""}),r.jsx("input",{type:"text",value:l,onChange:S=>o(S.target.value),placeholder:"  , -, , ",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),r.jsxs("select",{value:i,onChange:S=>d(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg",children:[r.jsx("option",{children:"Wildberries"}),r.jsx("option",{children:"Ozon"}),r.jsx("option",{children:"."})]}),r.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg",children:[r.jsx("option",{children:"   "}),r.jsx("option",{children:" "})]}),r.jsx("button",{onClick:T,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold",children:""})]})]}),p&&r.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),r.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:r.jsx("option",{children:" "})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),r.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:r.jsx("option",{children:" "})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),r.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:r.jsx("option",{children:" "})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[r.jsx("option",{children:" "}),r.jsx("option",{children:""}),r.jsx("option",{children:" "})]})]})]})}),r.jsxs("div",{className:"bg-white px-6 py-3 flex justify-between items-center border-b",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:" "}),r.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:"  "}),r.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:""})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:" "}),r.jsx("input",{type:"range",min:"1",max:"3",value:N,onChange:S=>b(parseInt(S.target.value)),className:"w-24"})]})]}),r.jsxs("div",{className:"bg-white",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left",children:r.jsx("input",{type:"checkbox",onChange:S=>{S.target.checked?u(C.map(O=>O.id)):u([])},className:"w-4 h-4"})}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"-"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""})]})}),r.jsx("tbody",{children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:"12",className:"px-4 py-8 text-center text-gray-500",children:"..."})}):C.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"12",className:"px-4 py-8 text-center text-gray-500",children:"  "})}):C.map(S=>r.jsxs("tr",{className:`border-b hover:bg-gray-50 ${N===1?"h-12":N===2?"h-16":"h-24"}`,children:[r.jsx("td",{className:"px-4",children:r.jsx("input",{type:"checkbox",checked:c.includes(S.id),onChange:()=>w(S.id),className:"w-4 h-4"})}),r.jsx("td",{className:"px-4",children:r.jsx("div",{className:`bg-gray-200 rounded flex items-center justify-center text-gray-400 ${N===1?"w-10 h-10":N===2?"w-12 h-12":"w-16 h-16"}`,children:""})}),r.jsx("td",{className:"px-4",children:r.jsx("button",{onClick:()=>e(`/products/${S.id}`),className:"text-blue-600 hover:underline font-medium",children:S.name})}),r.jsx("td",{className:"px-4 text-sm text-gray-600",children:S.size||"-"}),r.jsx("td",{className:"px-4",children:r.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),r.jsx("td",{className:"px-4 text-sm text-gray-600",children:S.brand||"-"}),r.jsx("td",{className:"px-4",children:r.jsx("button",{className:"text-yellow-500 hover:text-yellow-600",children:""})}),r.jsx("td",{className:"px-4 text-sm text-gray-600",children:S.barcode||"-"}),r.jsx("td",{className:"px-4 text-sm text-gray-600",children:S.sku||"-"}),r.jsx("td",{className:"px-4 text-sm font-semibold text-gray-800",children:S.price?`${S.price} `:"-"}),r.jsx("td",{className:"px-4 text-sm text-gray-600",children:S.stock_quantity||0}),r.jsx("td",{className:"px-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>e(`/products/${S.id}/edit`),className:"text-blue-600 hover:underline text-sm",children:""}),r.jsx("button",{className:"text-red-600 hover:underline text-sm",children:""})]})})]},S.id))})]})}),r.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-t",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[r.jsx("option",{children:"50"}),r.jsx("option",{children:"100"}),r.jsx("option",{children:"200"})]}),r.jsx("span",{className:"text-sm text-gray-600",children:"  "})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[" 1  1 |  : ",c.length]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),r.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),r.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),r.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""})]})]})]}),r.jsx("div",{className:"fixed left-0 top-16 w-64 bg-gray-800 text-white h-full overflow-y-auto hidden",children:r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-2",children:""}),r.jsxs("ul",{className:"space-y-1 text-sm",children:[r.jsx("li",{children:r.jsx("a",{href:"/products",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),r.jsx("li",{children:r.jsx("a",{href:"/products/import",className:"block px-3 py-2 rounded hover:bg-gray-700",children:" "})}),r.jsx("li",{children:r.jsx("a",{href:"/products/merge",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),r.jsx("li",{children:r.jsx("a",{href:"/products/photos",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),r.jsx("li",{children:r.jsx("a",{href:"/products/categories",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),r.jsx("li",{children:r.jsx("a",{href:"/products/brands",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),r.jsx("li",{children:r.jsx("a",{href:"/products/manufacturers",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),r.jsx("li",{children:r.jsx("a",{href:"/products/parameters",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})})]})]})})]})},b0="http://localhost:8001",v0=()=>{const[e,t]=y.useState([]),[n,s]=y.useState(!0),[a,l]=y.useState("MAin"),[o,i]=y.useState(!0),[d,c]=y.useState(!0),[u,p]=y.useState(!1),[f,N]=y.useState(!1),[b,v]=y.useState(""),[j,m]=y.useState([]);y.useEffect(()=>{x()},[]);const x=async()=>{try{const g=localStorage.getItem("token"),E=await ie.get(`${b0}/api/stock`,{headers:{Authorization:`Bearer ${g}`}});t(E.data),s(!1)}catch(g){console.error("Error fetching stock:",g),s(!1)}},h=e.filter(g=>{var E,T,w;return((E=g.product_name)==null?void 0:E.toLowerCase().includes(b.toLowerCase()))||((T=g.sku)==null?void 0:T.toLowerCase().includes(b.toLowerCase()))||((w=g.barcode)==null?void 0:w.toLowerCase().includes(b.toLowerCase()))});return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:"bg-white border-b px-6 py-4",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"   "}),r.jsxs("div",{className:"flex gap-4 items-center mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:""}),r.jsxs("select",{value:a,onChange:g=>l(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg",children:[r.jsx("option",{value:"MAin",children:"MAin"}),r.jsx("option",{value:"all",children:" "})]})]}),r.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:o,onChange:g=>i(g.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:d,onChange:g=>c(g.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"  "})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:u,onChange:g=>p(g.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:f,onChange:g=>N(g.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:'  ""'})]})]})]}),r.jsxs("div",{className:"flex gap-3 items-center",children:[r.jsx("input",{type:"text",value:b,onChange:g=>v(g.target.value),placeholder:"  , -, , ",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),r.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:""})]})]}),r.jsx("div",{className:"bg-white border-b px-6",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{className:"px-6 py-3 bg-blue-500 text-white font-semibold border-b-2 border-blue-600",children:""}),r.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),r.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:" "}),r.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),r.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),r.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""})]})}),r.jsxs("div",{className:"bg-white px-6 py-3 flex justify-between items-center border-b",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:" "}),r.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:"  "}),r.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:""})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:" "}),r.jsx("input",{type:"range",min:"1",max:"3",className:"w-24"})]})]}),r.jsxs("div",{className:"bg-white",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left",children:r.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"  ..."}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:" "}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"-"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"  / "}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"SKU"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:" "}),f&&r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""})]})}),r.jsx("tbody",{children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:"20",className:"px-4 py-8 text-center text-gray-500",children:"..."})}):h.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"20",className:"px-4 py-8 text-center text-gray-500",children:"  "})}):h.map((g,E)=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),r.jsx("td",{className:"px-4 py-3",children:g.error&&r.jsx("span",{className:"text-red-600",children:""})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center text-gray-400",children:""})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-blue-600 hover:underline cursor-pointer font-medium",children:g.product_name||" "})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:g.size||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-800",children:g.quantity||0}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:g.reserved||0}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:g.location||"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:g.barcode||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:g.size||"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:g.brand||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:g.color||"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:""}),r.jsx("button",{className:"text-red-600 hover:text-red-800",children:""})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:g.sku||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:g.id||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:g.seller_sku||"-"}),f&&r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})})]},E))})]})}),r.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-t",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[r.jsx("option",{children:"200"}),r.jsx("option",{children:"50"}),r.jsx("option",{children:"100"})]}),r.jsx("span",{className:"text-sm text-gray-600",children:"  "})]}),r.jsx("div",{className:"text-sm text-gray-600",children:"0 - 0  0.  1  1"}),r.jsx("div",{className:"flex gap-1",children:r.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:" : 0"})})]})]})]})},j0=()=>{const{id:e}=ki(),t=Ft(),{api:n}=fe(),[s,a]=y.useState(null),[l,o]=y.useState(!0),[i,d]=y.useState(!1),[c,u]=y.useState(!1),[p,f]=y.useState(!1),[N,b]=y.useState(""),[v,j]=y.useState([]),[m,x]=y.useState(""),[h,g]=y.useState(!1),[E,T]=y.useState([]),[w,C]=y.useState(""),[S,O]=y.useState(""),[_,$]=y.useState({name:"",is_fbo:!1,send_stock:!0,load_orders:!0,use_for_orders:!0,priority:0,default_cell:"",description:"",longitude:null,latitude:null,address:"",brand:"",working_hours:"",assembly_hours:0,storage_days:0,online_payment:!1,cash_payment:!1,card_payment:!1,show_on_goods:!1});y.useEffect(()=>{F(),M()},[e]);const F=async()=>{try{const L=await n.get(`/api/warehouses/${e}`);a(L.data),$({name:L.data.name||"",is_fbo:L.data.is_fbo||!1,send_stock:L.data.send_stock!==!1,load_orders:L.data.load_orders!==!1,use_for_orders:L.data.use_for_orders!==!1,priority:L.data.priority||0,default_cell:L.data.default_cell||"",description:L.data.description||"",longitude:L.data.longitude,latitude:L.data.latitude,address:L.data.address||"",brand:L.data.brand||"",working_hours:L.data.working_hours||"",assembly_hours:L.data.assembly_hours||0,storage_days:L.data.storage_days||0,online_payment:L.data.online_payment||!1,cash_payment:L.data.cash_payment||!1,card_payment:L.data.card_payment||!1,show_on_goods:L.data.show_on_goods||!1}),o(!1)}catch(L){console.error("Error fetching warehouse:",L),o(!1)}},M=async()=>{try{const L=await n.get(`/api/warehouses/${e}/links`);T(L.data||[])}catch(L){console.error("Error fetching warehouse links:",L)}},W=async L=>{var V,G;if(!L){j([]);return}g(!0);try{const q=await n.get(`/api/marketplaces/${L}/all-warehouses`);j(q.data.warehouses||[]),q.data.warehouses.length===0&&q.data.message&&alert(q.data.message)}catch(q){console.error("Error loading MP warehouses:",q),alert("  : "+(((G=(V=q.response)==null?void 0:V.data)==null?void 0:G.detail)||q.message))}finally{g(!1)}},H=L=>{b(L),x(""),j([]),C(""),O(""),L&&L!=="yandex"&&W(L)},K=async()=>{var L,V;if(!N){alert(" ");return}if(N==="yandex"){if(!w||!S){alert(" ID     .");return}}else if(!m){alert("   ");return}try{let G;if(N==="yandex"){const be=(await n.get("/api/seller/api-keys")).data.find(Ie=>Ie.marketplace==="yandex");if(!be){alert("   .   ");return}G={integration_id:be.id,marketplace_name:"yandex",marketplace_warehouse_id:w,marketplace_warehouse_name:S}}else{const q=v.find(be=>be.id===m);G={integration_id:q.integration_id,marketplace_name:N,marketplace_warehouse_id:q.id,marketplace_warehouse_name:q.name}}await n.post(`/api/warehouses/${e}/links`,G),await M(),b(""),x(""),j([]),C(""),O(""),alert(`    ${N.toUpperCase()} !`)}catch(G){console.error("Error adding link:",G),alert(": "+(((V=(L=G.response)==null?void 0:L.data)==null?void 0:V.detail)||G.message))}},A=async L=>{var V,G;if(confirm(" ?"))try{await n.delete(`/api/warehouses/${e}/links/${L}`),alert("  "),M()}catch(q){console.error("Error deleting link:",q),alert(": "+(((G=(V=q.response)==null?void 0:V.data)==null?void 0:G.detail)||q.message))}},k=(L,V)=>{$(G=>({...G,[L]:V}))},R=async()=>{d(!0);try{await n.put(`/api/warehouses/${e}`,_),alert("  "),t(-1)}catch(L){console.error("Error saving warehouse:",L),alert("   ")}finally{d(!1)}},D=async()=>{if(confirm(" ,     ?"))try{await n.delete(`/api/warehouses/${e}`),alert(" "),t(-1)}catch(L){console.error("Error deleting warehouse:",L),alert("   ")}};return l?r.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:r.jsx("p",{className:"text-mm-cyan",children:"..."})}):r.jsx("div",{className:"min-h-screen bg-mm-black text-gray-100 p-8",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("button",{onClick:()=>t(-1),className:"text-mm-cyan hover:text-cyan-400 mb-4",children:" "}),r.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "})]}),r.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),r.jsx("input",{type:"text",value:_.name,onChange:L=>k("name",L.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[r.jsx("input",{type:"checkbox",checked:_.is_fbo,onChange:L=>k("is_fbo",L.target.checked),className:"w-5 h-5 rounded"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"    FBO"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"  FIFO   FBO"})]})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[r.jsx("input",{type:"checkbox",checked:_.send_stock,onChange:L=>k("send_stock",L.target.checked),className:"w-5 h-5 rounded"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:" "}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"SelSup      .   ."})]})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[r.jsx("input",{type:"checkbox",checked:_.load_orders,onChange:L=>k("load_orders",L.target.checked),className:"w-5 h-5 rounded"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:" "}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"    .   ."})]})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[r.jsx("input",{type:"checkbox",checked:_.use_for_orders,onChange:L=>k("use_for_orders",L.target.checked),className:"w-5 h-5 rounded"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"  "}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"    .    ."})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"  "}),r.jsx("input",{type:"number",value:_.priority,onChange:L=>k("priority",parseInt(L.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-3 text-mm-cyan",children:"   "}),r.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 mb-4",children:r.jsxs("p",{className:"text-xs text-blue-300",children:[" ",r.jsx("strong",{children:":"}),'   SelSup ,        .  " "     ,      .']})}),r.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg mb-4 space-y-3",children:[r.jsx("p",{className:"text-xs text-mm-cyan mb-3",children:"   FBS     "}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1 font-mono",children:"1  "}),r.jsxs("select",{value:N,onChange:L=>H(L.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm",children:[r.jsx("option",{value:"",children:"--   --"}),r.jsx("option",{value:"ozon",children:"OZON"}),r.jsx("option",{value:"wb",children:"WILDBERRIES"}),r.jsx("option",{value:"yandex",children:"YANDEX.MARKET"})]})]}),N&&N!=="yandex"&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs mb-1 font-mono",children:["2   FBS",h&&r.jsx("span",{className:"ml-2 text-mm-cyan animate-pulse",children:"..."})]}),r.jsxs("select",{value:m,onChange:L=>x(L.target.value),disabled:h,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm disabled:opacity-50",children:[r.jsx("option",{value:"",children:"--   --"}),v.map(L=>r.jsxs("option",{value:L.id,children:[L.name," (ID: ",L.id,") ",L.integration_name?`[${L.integration_name}]`:""]},L.id))]}),v.length===0&&!h&&r.jsxs("p",{className:"text-xs text-yellow-400 mt-1",children:["   .  :",r.jsx("br",{}),"      ",N.toUpperCase(),"   ",r.jsx("br",{}),"  FBS     ",N.toUpperCase()]})]}),N==="yandex"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded p-2",children:r.jsxs("p",{className:"text-xs text-yellow-300",children:[" ",r.jsx("strong",{children:".:"})," ID     API.     .    "]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1 font-mono",children:"2 ID  ."}),r.jsx("input",{type:"text",value:w,onChange:L=>C(L.target.value),placeholder:" ID    ",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1 font-mono",children:" "}),r.jsx("input",{type:"text",value:S,onChange:L=>O(L.target.value),placeholder:"  ",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm"})]})]}),r.jsxs("button",{onClick:K,disabled:!N||N==="yandex"&&(!w||!S)||N!=="yandex"&&!m,className:"w-full px-4 py-2 bg-mm-purple hover:bg-purple-600 rounded transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[r.jsx(Wa,{}),r.jsx("span",{children:" "})]})]}),E.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:" :"}),E.map((L,V)=>{var G;return r.jsxs("div",{className:"bg-gray-800 px-4 py-3 rounded flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm font-medium",children:[(G=L.marketplace_name)==null?void 0:G.toUpperCase()," - ",L.marketplace_warehouse_name]}),r.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",L.marketplace_warehouse_id]})]}),r.jsx("button",{onClick:()=>A(L.id),className:"px-3 py-2 text-red-400 hover:bg-red-400/10 rounded transition",children:r.jsx(on,{})})]},V)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"    "}),r.jsx("input",{type:"text",value:_.default_cell,onChange:L=>k("default_cell",L.target.value),placeholder:" ",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),r.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[r.jsxs("button",{onClick:()=>u(!c),className:"flex items-center space-x-2 text-mm-cyan hover:text-cyan-400 transition",children:[r.jsx("span",{className:"text-xl",children:c?"":""}),r.jsx("span",{className:"font-medium",children:"  "})]}),c&&r.jsxs("div",{className:"mt-4 space-y-4 pl-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:""}),r.jsx("textarea",{value:_.description,onChange:L=>k("description",L.target.value),rows:3,className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:""}),r.jsx("input",{type:"number",step:"0.000001",value:_.longitude||"",onChange:L=>k("longitude",parseFloat(L.target.value)||null),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:""}),r.jsx("input",{type:"number",step:"0.000001",value:_.latitude||"",onChange:L=>k("latitude",parseFloat(L.target.value)||null),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"  "}),r.jsx("input",{type:"text",value:_.address,onChange:L=>k("address",L.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:",    "}),r.jsx("input",{type:"text",value:_.brand,onChange:L=>k("brand",L.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:" "}),r.jsx("input",{type:"text",value:_.working_hours,onChange:L=>k("working_hours",L.target.value),placeholder:": - 9:00-18:00",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"-    "}),r.jsx("input",{type:"number",value:_.assembly_hours,onChange:L=>k("assembly_hours",parseInt(L.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"-   "}),r.jsx("input",{type:"number",value:_.storage_days,onChange:L=>k("storage_days",parseInt(L.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:" :"}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:_.online_payment,onChange:L=>k("online_payment",L.target.checked),className:"w-5 h-5 rounded"}),r.jsx("span",{children:" "})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:_.cash_payment,onChange:L=>k("cash_payment",L.target.checked),className:"w-5 h-5 rounded"}),r.jsx("span",{children:"  "})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:_.card_payment,onChange:L=>k("card_payment",L.target.checked),className:"w-5 h-5 rounded"}),r.jsx("span",{children:"  "})]})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:_.show_on_goods,onChange:L=>k("show_on_goods",L.target.checked),className:"w-5 h-5 rounded"}),r.jsx("span",{children:"   Goods"})]})]})]}),r.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-700",children:[r.jsx("button",{onClick:D,disabled:(s==null?void 0:s.type)==="main",className:"px-6 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:""}),r.jsx("button",{onClick:R,disabled:i,className:"px-8 py-2 bg-mm-cyan hover:bg-cyan-400 text-black font-bold rounded-lg transition disabled:opacity-50",children:i?"...":""})]})]})]})})};function N0(){const{api:e}=fe(),[t,n]=y.useState(!1),[s,a]=y.useState({}),[l,o]=y.useState({ozon:[],wb:[],yandex:[]}),[i,d]=y.useState(""),[c,u]=y.useState(!1),[p,f]=y.useState({internal_name:"",ozon_category_id:"",ozon_type_id:"",wb_category_id:"",yandex_category_id:""}),[N,b]=y.useState({ozon:"",wb:"",yandex:""}),[v,j]=y.useState({ozon:[],wb:[],yandex:[]}),[m,x]=y.useState({}),[h,g]=y.useState([]),[E,T]=y.useState(!1);y.useEffect(()=>{w(),C()},[]);const w=async()=>{n(!0);for(const k of["ozon","wb"])await O(k);n(!1)},C=async()=>{T(!0);try{const k=await e.get("/api/categories/mappings");g(k.data||[])}catch(k){console.error("Failed to load mappings:",k)}finally{T(!1)}},S=async(k,R)=>{var D,L;if(confirm(`      "${R}"?

   .`))try{await e.delete(`/api/categories/mappings/${k}`),alert("  !"),C()}catch(V){alert("  : "+(((L=(D=V.response)==null?void 0:D.data)==null?void 0:L.detail)||V.message))}},O=async k=>{a(R=>({...R,[k]:!0}));try{let R;k==="wb"?R="/api/categories/wb/cached":k==="ozon"?R="/api/categories/ozon/cached":R=`/api/categories/marketplace/${k}?limit=1000`;const D=await e.get(R);o(L=>({...L,[k]:D.data.categories||[]}))}catch(R){console.error(`Failed to load ${k} categories:`,R),alert(`   ${k}`)}finally{a(R=>({...R,[k]:!1}))}},_=async()=>{var k,R;if(confirm(`  Wildberries?

  10-20 .`)){n(!0);try{const D=await e.post("/api/categories/wb/preload");D.data.success?(alert(` ${D.data.message}`),await O("wb")):alert(` : ${D.data.error}`)}catch(D){console.error("WB preload error:",D),alert(`  : ${((R=(k=D.response)==null?void 0:k.data)==null?void 0:R.detail)||D.message}`)}finally{n(!1)}}},$=async()=>{var k,R;if(confirm(`  Ozon?

  30-60 .

11,000+     .`)){n(!0);try{const D=await e.post("/api/categories/ozon/preload");D.data.success?(alert(` ${D.data.message}

: ${D.data.loaded} `),await O("ozon")):alert(` : ${D.data.error}`)}catch(D){console.error("Ozon preload error:",D),alert(`  : ${((R=(k=D.response)==null?void 0:k.data)==null?void 0:R.detail)||D.message}`)}finally{n(!1)}}},F=()=>{u(!0),f({internal_name:"",ozon_category_id:"",ozon_type_id:"",wb_category_id:"",yandex_category_id:""}),b({ozon:"",wb:"",yandex:""}),j({ozon:[],wb:[],yandex:[]})},M=async k=>{var D,L;const R=N[k];if(!R||R.length<2){j(V=>({...V,[k]:[]}));return}x(V=>({...V,[k]:!0}));try{const G=(await e.get(`/api/categories/marketplace/${k}/search?query=${encodeURIComponent(R)}`)).data.categories||[];j(q=>({...q,[k]:G.slice(0,50)}))}catch(V){console.error(`Search error for ${k}:`,V),alert(` : ${((L=(D=V.response)==null?void 0:D.data)==null?void 0:L.detail)||V.message}`)}finally{x(V=>({...V,[k]:!1}))}},W=(k,R)=>{k==="ozon"?f(D=>({...D,ozon_category_id:R.category_id||R.id,ozon_type_id:R.type_id||""})):k==="wb"?f(D=>({...D,wb_category_id:R.category_id||R.id})):k==="yandex"&&f(D=>({...D,yandex_category_id:R.category_id||R.id})),b(D=>({...D,[k]:""})),j(D=>({...D,[k]:[]}))},H=async()=>{var k,R;if(!p.internal_name){alert("  ");return}try{const D={internal_name:p.internal_name,ozon_category_id:p.ozon_category_id||null,wb_category_id:p.wb_category_id||null,yandex_category_id:p.yandex_category_id||null};await e.post("/api/categories/mappings",D),p.ozon_category_id&&p.ozon_type_id,alert("  !"),u(!1),C()}catch(D){alert(" : "+(((R=(k=D.response)==null?void 0:k.data)==null?void 0:R.detail)||D.message))}},K=k=>{if(!i)return k.slice(0,200);const R=i.toLowerCase();return k.filter(D=>(D.category_name||D.name||"").toLowerCase().includes(R)).slice(0,200)},A=(k,R)=>{k==="ozon"?f(D=>({...D,ozon_category_id:R.category_id,ozon_type_id:R.type_id||"",internal_name:D.internal_name||R.category_name})):k==="wb"&&f(D=>({...D,wb_category_id:R.id,internal_name:D.internal_name||R.name})),console.log("Category selected:",k,R)};return r.jsxs("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:[r.jsxs("div",{className:"max-w-7xl mx-auto mb-6",children:[r.jsxs("button",{onClick:()=>window.location.href="/dashboard",className:"text-mm-cyan hover:underline mb-4 flex items-center gap-2",children:[r.jsx(zi,{}),"   "]}),r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-mm-cyan mb-2",children:" "}),r.jsx("p",{className:"text-gray-400",children:"      "})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:_,disabled:t,className:"px-6 py-3 bg-purple-600 text-white hover:bg-purple-700 rounded-lg font-bold flex items-center gap-2 disabled:opacity-50",title:"  Wildberries  ",children:[r.jsx(tt,{className:t?"animate-spin":""})," WB"]}),r.jsxs("button",{onClick:$,disabled:t,className:"px-6 py-3 bg-blue-600 text-white hover:bg-blue-700 rounded-lg font-bold flex items-center gap-2 disabled:opacity-50",title:"  Ozon  ",children:[r.jsx(tt,{className:t?"animate-spin":""})," OZON"]}),r.jsxs("button",{onClick:F,className:"px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded-lg font-bold flex items-center gap-2",children:[r.jsx(Sd,{})," "]})]})]})]}),r.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:i,onChange:k=>d(k.target.value),placeholder:"   ...",className:"w-full px-4 py-3 pl-10 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-mm-cyan focus:ring-2 focus:ring-mm-cyan/50 outline-none"}),r.jsx(es,{className:"absolute left-3 top-4 text-gray-500"})]})}),r.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:r.jsx("div",{className:"bg-blue-900/30 border border-blue-500/50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(us,{className:"text-blue-400 mt-0.5 flex-shrink-0 text-xl"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium mb-2 text-blue-300",children:"  :    !"}),r.jsxs("ul",{className:"space-y-1 text-gray-300",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"1.  WB:"}),'  " WB"      (!)']}),r.jsxs("li",{children:[r.jsx("strong",{children:"2.  :"}),"    WB   "]}),r.jsxs("li",{children:[r.jsx("strong",{children:"3. :"}),'    ""   -    ']}),r.jsx("li",{className:"text-purple-300",children:"      !"})]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto mb-8",children:r.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gray-800 px-6 py-4 border-b border-gray-700",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h2",{className:"text-xl font-bold text-mm-cyan flex items-center gap-2",children:["  ",r.jsxs("span",{className:"text-sm font-normal text-gray-400",children:["(",h.length,")"]})]}),r.jsx("button",{onClick:C,disabled:E,className:"text-mm-cyan hover:text-mm-cyan/80 p-2",title:"",children:r.jsx(tt,{className:E?"animate-spin":"",size:18})})]})}),r.jsx("div",{className:"overflow-x-auto",children:E?r.jsxs("div",{className:"text-center text-gray-400 py-12",children:[r.jsx(tt,{className:"animate-spin inline mb-2 text-3xl"}),r.jsx("p",{children:" ..."})]}):h.length>0?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-800 border-b border-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-400 uppercase tracking-wider border-r border-gray-700",children:" Ozon"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-purple-400 uppercase tracking-wider border-r border-gray-700",children:" Wildberries"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-yellow-400 uppercase tracking-wider border-r border-gray-700",children:"  "}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-mm-cyan uppercase tracking-wider border-r border-gray-700",children:"  "}),r.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-400 uppercase tracking-wider",children:""})]})}),r.jsx("tbody",{className:"divide-y divide-gray-800",children:h.map(k=>{var R,D,L,V;return r.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-300 border-r border-gray-800",children:(R=k.marketplace_categories)!=null&&R.ozon?r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-blue-300",children:["ID: ",k.marketplace_categories.ozon]}),((D=k.marketplace_type_ids)==null?void 0:D.ozon)&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Type: ",k.marketplace_type_ids.ozon]})]}):r.jsx("span",{className:"text-gray-600 italic",children:""})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-300 border-r border-gray-800",children:(L=k.marketplace_categories)!=null&&L.wildberries?r.jsxs("p",{className:"font-medium text-purple-300",children:["ID: ",k.marketplace_categories.wildberries]}):r.jsx("span",{className:"text-gray-600 italic",children:""})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-300 border-r border-gray-800",children:(V=k.marketplace_categories)!=null&&V.yandex?r.jsxs("p",{className:"font-medium text-yellow-300",children:["ID: ",k.marketplace_categories.yandex]}):r.jsx("span",{className:"text-gray-600 italic",children:""})}),r.jsxs("td",{className:"px-6 py-4 text-sm border-r border-gray-800",children:[r.jsx("p",{className:"font-bold text-mm-cyan",children:k.internal_name}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["ID: ",k.id]})]}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsxs("button",{onClick:()=>S(k.id,k.internal_name),className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white text-xs rounded transition flex items-center gap-1 mx-auto",title:" ",children:[r.jsx(FiTrash2,{size:14}),""]})})]},k.id)})})]}):r.jsxs("div",{className:"text-center text-gray-400 py-12",children:[r.jsx(Sd,{className:"inline text-5xl mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium",children:" "}),r.jsx("p",{className:"text-sm mt-2",children:'  ""    '})]})})]})}),r.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-gray-900 border-2 border-blue-500/50 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-blue-600/20 px-4 py-3 border-b border-blue-500/50",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h3",{className:"font-bold text-blue-400 flex items-center gap-2 text-lg",children:[" OZON",r.jsxs("span",{className:"text-xs font-normal text-gray-400",children:["(",K(l.ozon).length,")"]})]}),r.jsx("button",{onClick:()=>O("ozon"),disabled:s.ozon,className:"text-blue-400 hover:text-blue-300 p-2",title:"",children:r.jsx(tt,{className:s.ozon?"animate-spin":"",size:18})})]})}),r.jsx("div",{className:"p-4 max-h-96 overflow-y-auto space-y-2",children:s.ozon?r.jsxs("div",{className:"text-center text-gray-400 py-8",children:[r.jsx(tt,{className:"animate-spin inline mb-2 text-2xl"}),r.jsx("p",{children:"..."})]}):K(l.ozon).length>0?K(l.ozon).map((k,R)=>r.jsxs("div",{className:"p-3 bg-gray-800 border border-blue-500/30 rounded hover:border-blue-500 hover:bg-gray-700 cursor-pointer transition-all",onClick:()=>A("ozon",k),children:[r.jsx("p",{className:"text-sm text-white font-medium",children:k.category_name||k.name}),k.type_name&&r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[": ",k.type_name]}),k.type_id&&r.jsxs("p",{className:"text-xs text-blue-400 mt-1",children:["Type ID: ",k.type_id]})]},R)):r.jsxs("div",{className:"text-center text-gray-400 py-8",children:[r.jsx("p",{children:" "}),r.jsx("p",{className:"text-xs mt-2",children:" API  Ozon"})]})})]}),r.jsxs("div",{className:"bg-gray-900 border-2 border-purple-500/50 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-purple-600/20 px-4 py-3 border-b border-purple-500/50",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h3",{className:"font-bold text-purple-400 flex items-center gap-2 text-lg",children:[" WILDBERRIES",r.jsxs("span",{className:"text-xs font-normal text-gray-400",children:["(",K(l.wb).length,")"]})]}),r.jsx("button",{onClick:()=>O("wb"),disabled:s.wb,className:"text-purple-400 hover:text-purple-300 p-2",title:"",children:r.jsx(tt,{className:s.wb?"animate-spin":"",size:18})})]})}),r.jsx("div",{className:"p-4 max-h-96 overflow-y-auto space-y-2",children:s.wb?r.jsxs("div",{className:"text-center text-gray-400 py-8",children:[r.jsx(tt,{className:"animate-spin inline mb-2 text-2xl"}),r.jsx("p",{children:"..."})]}):K(l.wb).length>0?K(l.wb).map((k,R)=>r.jsxs("div",{className:"p-3 bg-gray-800 border border-purple-500/30 rounded hover:border-purple-500 hover:bg-gray-700 cursor-pointer transition-all",onClick:()=>A("wb",k),children:[r.jsx("p",{className:"text-sm text-white font-medium",children:k.name}),r.jsxs("p",{className:"text-xs text-purple-400 mt-1",children:["ID: ",k.id]})]},R)):r.jsxs("div",{className:"text-center text-gray-400 py-8",children:[r.jsx("p",{children:" "}),r.jsx("p",{className:"text-xs mt-2",children:" API  WB"})]})})]}),r.jsxs("div",{className:"bg-gray-900 border-2 border-yellow-500/50 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-yellow-600/20 px-4 py-3 border-b border-yellow-500/50",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h3",{className:"font-bold text-yellow-400 flex items-center gap-2 text-lg",children:["  ",r.jsxs("span",{className:"text-xs font-normal text-gray-400",children:["(",K(l.yandex).length,")"]})]}),r.jsx("button",{onClick:()=>O("yandex"),disabled:s.yandex,className:"text-yellow-400 hover:text-yellow-300 p-2",title:"",children:r.jsx(tt,{className:s.yandex?"animate-spin":"",size:18})})]})}),r.jsx("div",{className:"p-4 max-h-96 overflow-y-auto space-y-2",children:r.jsxs("div",{className:"text-center text-gray-400 py-8",children:[r.jsx("p",{children:" API "}),r.jsx("p",{className:"text-xs mt-2",children:"  "})]})})]})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-gray-900 border-2 border-mm-cyan rounded-lg max-w-2xl w-full p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-mm-cyan mb-4",children:"  "}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-gray-300 mb-2 font-medium",children:["  ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"text",value:p.internal_name,onChange:k=>f({...p,internal_name:k.target.value}),placeholder:":  ",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-mm-cyan focus:ring-2 focus:ring-mm-cyan/50 outline-none"})]}),r.jsxs("div",{className:"border-2 border-blue-500/50 rounded-lg p-4 bg-blue-900/10",children:[r.jsxs("label",{className:"block text-sm text-blue-400 mb-2 font-bold",children:["  Ozon",p.ozon_category_id&&r.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded",children:[" : ",p.ozon_category_id]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:N.ozon,onChange:k=>b(R=>({...R,ozon:k.target.value})),onKeyDown:k=>k.key==="Enter"&&M("ozon"),placeholder:"   Ozon (. 2 )...",className:"w-full px-4 py-3 pr-24 bg-gray-800 border border-blue-500/50 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 outline-none"}),r.jsx("button",{onClick:()=>M("ozon"),disabled:m.ozon||N.ozon.length<2,className:"absolute right-2 top-1.5 px-4 py-2 bg-blue-500 text-white rounded font-bold hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m.ozon?"":""})]}),v.ozon.length>0&&r.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-gray-800 border-2 border-blue-500/50 rounded-lg",children:v.ozon.map((k,R)=>r.jsxs("button",{onClick:()=>W("ozon",k),className:"w-full px-4 py-3 text-left hover:bg-blue-500/20 border-b border-gray-700 last:border-b-0 transition-colors",children:[r.jsx("p",{className:"font-medium text-white",children:k.category_name||k.name}),r.jsxs("p",{className:"text-xs text-blue-400 mt-1",children:["ID: ",k.category_id||k.id,k.type_id&&` | Type: ${k.type_id}`,k.type_name&&` | ${k.type_name}`]})]},R))}),N.ozon&&v.ozon.length===0&&!m.ozon&&r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:' ""  Enter'})]}),r.jsxs("div",{className:"border-2 border-purple-500/50 rounded-lg p-4 bg-purple-900/10",children:[r.jsxs("label",{className:"block text-sm text-purple-400 mb-2 font-bold",children:["  Wildberries",p.wb_category_id&&r.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded",children:[" : ",p.wb_category_id]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:N.wb,onChange:k=>b(R=>({...R,wb:k.target.value})),onKeyDown:k=>k.key==="Enter"&&M("wb"),placeholder:"   WB (. 2 )...",className:"w-full px-4 py-3 pr-24 bg-gray-800 border border-purple-500/50 rounded-lg text-white placeholder-gray-500 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 outline-none"}),r.jsx("button",{onClick:()=>M("wb"),disabled:m.wb||N.wb.length<2,className:"absolute right-2 top-1.5 px-4 py-2 bg-purple-500 text-white rounded font-bold hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m.wb?"":""})]}),v.wb.length>0&&r.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-gray-800 border-2 border-purple-500/50 rounded-lg",children:v.wb.map((k,R)=>r.jsxs("button",{onClick:()=>W("wb",k),className:"w-full px-4 py-3 text-left hover:bg-purple-500/20 border-b border-gray-700 last:border-b-0 transition-colors",children:[r.jsx("p",{className:"font-medium text-white",children:k.category_name||k.name}),r.jsxs("p",{className:"text-xs text-purple-400 mt-1",children:["ID: ",k.category_id||k.id]})]},R))}),N.wb&&v.wb.length===0&&!m.wb&&r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:' ""  Enter'})]}),p.internal_name&&r.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-2",children:":"}),r.jsx("p",{className:"text-white font-medium mb-2",children:p.internal_name}),r.jsxs("div",{className:"flex gap-2",children:[p.ozon_category_id&&r.jsx("span",{className:"px-2 py-1 bg-blue-600/30 border border-blue-500/50 text-blue-300 text-xs rounded",children:"Ozon"}),p.wb_category_id&&r.jsx("span",{className:"px-2 py-1 bg-purple-600/30 border border-purple-500/50 text-purple-300 text-xs rounded",children:"WB"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-gray-800 text-gray-300 hover:bg-gray-700 rounded-lg border border-gray-700",children:""}),r.jsx("button",{onClick:H,disabled:!p.internal_name,className:"px-6 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})]})}),r.jsxs("div",{className:"max-w-7xl mx-auto mt-6 grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-blue-600/20 border border-blue-500/50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-blue-400 mb-1",children:" Ozon"}),r.jsx("p",{className:"text-3xl font-bold text-blue-300",children:l.ozon.length})]}),r.jsxs("div",{className:"bg-purple-600/20 border border-purple-500/50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-purple-400 mb-1",children:" WB"}),r.jsx("p",{className:"text-3xl font-bold text-purple-300",children:l.wb.length})]}),r.jsxs("div",{className:"bg-yellow-600/20 border border-yellow-500/50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-yellow-400 mb-1",children:" "}),r.jsx("p",{className:"text-3xl font-bold text-yellow-300",children:l.yandex.length})]})]})]})}function w0({productName:e="",selectedMarketplaces:t=[],initialCategoryMappingId:n=null,onCategorySelected:s,onAttributesLoaded:a}){const{api:l}=fe(),[o,i]=y.useState(""),[d,c]=y.useState([]),[u,p]=y.useState(null),[f,N]=y.useState({}),[b,v]=y.useState({}),[j,m]=y.useState(!1),[x,h]=y.useState(!1),[g,E]=y.useState(null),T={ozon:{border:"border-blue-500",bg:"bg-blue-50",text:"text-blue-700",badge:"bg-blue-100 text-blue-700"},wb:{border:"border-purple-500",bg:"bg-purple-50",text:"text-purple-700",badge:"bg-purple-100 text-purple-700"},yandex:{border:"border-yellow-500",bg:"bg-yellow-50",text:"text-yellow-700",badge:"bg-yellow-100 text-yellow-700"}},w={ozon:"Ozon",wb:"Wildberries",yandex:""};y.useEffect(()=>{(async()=>{if(!(!n||u)){h(!0);try{console.log("[UnifiedCategory] Loading initial category:",n);const H=(await l.get(`/api/categories/mappings/${n}`)).data;console.log("[UnifiedCategory] Initial category loaded:",H),p(H),s&&s(H)}catch(W){console.error("[UnifiedCategory] Failed to load initial category:",W)}finally{h(!1)}}})()},[n]),y.useEffect(()=>{e&&e.length>3&&!u&&(console.log(`[UnifiedCategory] Auto-suggesting for: "${e}"`),i(e))},[e,u]),y.useEffect(()=>{if(!o||o.length<2){c([]);return}const M=setTimeout(()=>{C()},500);return()=>clearTimeout(M)},[o]);const C=async()=>{m(!0),E(null);try{const W=(await l.get(`/api/categories/mappings/search?query=${encodeURIComponent(o)}`)).data.mappings||[];console.log(`[UnifiedCategory] Found ${W.length} category mappings`),c(W)}catch(M){console.error("Search error:",M),E("  ")}finally{m(!1)}},S=async M=>{console.log("[UnifiedCategory] Selected mapping:",M),p(M),i(""),c([]),s(M),await O(M)},O=async M=>{var K,A,k;m(!0);const W={},H={ozon:"ozon",wb:"wildberries",yandex:"yandex"};for(const R of t){const D=H[R]||R,L=(K=M.marketplace_categories)==null?void 0:K[D];if(!L){console.log(`[UnifiedCategory] No category mapped for ${R} (dbKey: ${D})`);continue}try{let V=`/api/categories/marketplace/${R}/${L}/attributes`;R==="ozon"&&((A=M.marketplace_type_ids)!=null&&A[D])&&(V+=`?type_id=${M.marketplace_type_ids[D]}`);const q=(await l.get(V)).data.attributes||[];console.log(`[UnifiedCategory] Loaded ${q.length} attributes for ${R}`),W[R]=q;for(const be of q)if(be.dictionary_id>0||be.type==="Dictionary"){const Ie=be.attribute_id||be.id,Dt=R==="ozon"?(k=M.marketplace_type_ids)==null?void 0:k.ozon:null;await _(R,L,Ie,Dt)}}catch(V){console.error(`Failed to load attributes for ${R}:`,V)}}N(W),a(W),m(!1)},_=async(M,W,H,K=null)=>{try{let A=`/api/categories/marketplace/${M}/${W}/attribute-values?attribute_id=${H}`;K&&(A+=`&type_id=${K}`);const R=(await l.get(A)).data.values||[];v(D=>({...D,[`${M}_${H}`]:R}))}catch(A){console.error(`Failed to load values for ${M} attribute ${H}:`,A)}},F=(()=>{const M=new Map;for(const W of t){const H=f[W]||[];for(const K of H){const A=K.name||K.attribute_name||"";if(K.attribute_id||K.id,M.has(A)){const k=M.get(A);k.marketplaces.includes(W)||k.marketplaces.push(W),K.is_required&&k.required_for.push(W)}else M.set(A,{...K,original_mp:W,marketplaces:[W],required_for:K.is_required?[W]:[]})}}return Array.from(M.values())})();return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[" ",r.jsx("span",{className:"text-red-400",children:"*"})]}),u?r.jsx("div",{className:"bg-green-900/20 border-2 border-green-500/50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:r.jsx(rr,{className:"text-white",size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:" :"}),r.jsx("p",{className:"text-lg font-bold text-green-300",children:u.internal_name})]})]}),r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"  :"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.entries(u.marketplace_categories||{}).map(([M,W])=>{const H=T[M];return r.jsxs("div",{className:`rounded p-2 ${W?"bg-gray-700":"bg-gray-800 border border-gray-700 border-dashed"}`,children:[r.jsx("div",{className:"flex items-center gap-2 mb-1",children:r.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${(H==null?void 0:H.badge)||"bg-gray-600 text-gray-400"}`,children:w[M]})}),W?r.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",W]}):r.jsx("p",{className:"text-xs text-gray-500 italic",children:" "})]},M)})})]})]}),r.jsx("button",{onClick:()=>{p(null),N({})},className:"p-2 text-gray-400 hover:text-white transition flex-shrink-0",title:" ",children:r.jsx(Zn,{size:18})})]})}):r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-3 mb-3",children:r.jsxs("p",{className:"text-xs text-blue-300",children:[" ",r.jsx("strong",{children:":"}),'        ! : " WB", " Ozon", "".          .']})}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:o,onChange:M=>i(M.target.value),placeholder:"    WB, Ozon, ... (. 2 )",className:"w-full px-4 py-3 pl-10 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-mm-cyan focus:ring-2 focus:ring-mm-cyan/50 outline-none",autoComplete:"off"}),r.jsx(es,{className:"absolute left-3 top-3.5 text-gray-500"}),o.length>0&&o.length<2&&r.jsx("div",{className:"absolute right-3 top-3.5",children:r.jsxs("span",{className:"text-xs text-gray-500",children:[o.length,"/2"]})})]}),o.length>=2&&r.jsx("div",{className:"absolute z-50 mt-2 w-full bg-gray-800 border-2 border-mm-cyan rounded-lg shadow-2xl max-h-80 overflow-hidden",children:j?r.jsxs("div",{className:"p-6 text-center",children:[r.jsx(tt,{className:"animate-spin inline text-2xl text-mm-cyan mb-2"}),r.jsx("p",{className:"text-sm text-gray-400",children:" ..."})]}):g?r.jsxs("div",{className:"p-6 text-center",children:[r.jsx(us,{className:"inline text-2xl text-red-400 mb-2"}),r.jsx("p",{className:"text-sm text-red-400",children:g})]}):d.length>0?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-gray-900 px-4 py-2 border-b border-gray-700",children:r.jsxs("p",{className:"text-xs text-mm-cyan font-medium",children:[" : ",d.length]})}),r.jsx("div",{className:"max-h-64 overflow-y-auto",children:d.map((M,W)=>r.jsxs("button",{onClick:()=>S(M),className:"w-full px-4 py-3 text-left hover:bg-mm-cyan/20 border-b border-gray-700 last:border-b-0 transition-colors focus:bg-mm-cyan/30 focus:outline-none",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[r.jsx("p",{className:"font-medium text-white",children:M.internal_name}),M.matched_category_name&&r.jsxs("span",{className:"text-xs text-gray-400 italic",children:["(",M.matched_category_name,")"]})]}),r.jsx("div",{className:"flex gap-2 mt-1 flex-wrap",children:Object.entries(M.marketplace_categories||{}).map(([H,K])=>{if(!K)return null;const A=T[H];return r.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${(A==null?void 0:A.badge)||"bg-gray-700 text-gray-300"}`,children:w[H]},H)})})]},W))})]}):r.jsxs("div",{className:"p-6 text-center",children:[r.jsx(es,{className:"inline text-3xl text-gray-600 mb-2"}),r.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"  "}),r.jsx("p",{className:"text-xs text-gray-500",children:"      "})]})})]})]}),u&&F.length>0&&r.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[r.jsxs("h3",{className:"font-bold text-mm-cyan mb-4",children:[" (",F.length,")"]}),r.jsx("div",{className:"space-y-3",children:F.map((M,W)=>{const H=M.attribute_id||M.id,K=M.name||M.attribute_name||"",A=M.original_mp,k=T[A],R=M.required_for.length>0,D=`${A}_${H}`,L=b[D]||[];return r.jsxs("div",{className:`p-3 rounded border-l-4 ${k.border} ${k.bg}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("label",{className:`block text-sm font-medium ${k.text}`,children:[K,R&&r.jsx("span",{className:"text-red-600 ml-1 text-lg",children:"*"})]}),r.jsx("div",{className:"flex gap-1",children:M.marketplaces.map(V=>{const G=T[V],q=M.required_for.includes(V);return r.jsxs("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${G.badge}`,title:q?`  ${w[V]}`:w[V],children:[w[V],q&&" *"]},V)})})]}),L.length>0?r.jsxs("select",{className:`w-full px-3 py-2 border rounded focus:ring-2 outline-none ${R?"border-red-300 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-blue-500 bg-white"}`,required:R,children:[r.jsx("option",{value:"",children:R?"  ":" "}),L.map(V=>r.jsx("option",{value:V.id,children:V.value},V.id))]}):r.jsx("input",{type:"text",placeholder:R?"  ":" ",className:`w-full px-3 py-2 border rounded focus:ring-2 outline-none ${R?"border-red-300 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-blue-500 bg-white"}`,required:R}),M.description&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:M.description})]},W)})}),r.jsxs("div",{className:"border-t border-mm-border pt-3 mt-4",children:[r.jsx("p",{className:"text-xs text-mm-text-secondary mb-2",children:":"}),r.jsxs("div",{className:"flex gap-3 text-xs text-mm-text-secondary",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 border-2 border-blue-500 rounded"}),r.jsx("span",{children:"Ozon"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 border-2 border-purple-500 rounded"}),r.jsx("span",{children:"Wildberries"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 border-2 border-yellow-500 rounded"}),r.jsx("span",{children:""})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-red-600 font-bold",children:"*"}),r.jsx("span",{children:""})]})]})]})]})]})}function k0({characteristics:e,onChange:t,readonly:n=!1}){if(!e||Object.keys(e).length===0)return r.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4",children:r.jsx("p",{className:"text-yellow-200 text-sm",children:"   .      ."})});const s=(a,l)=>{t&&t({...e,[a]:l})};return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:[Object.keys(e).length," "]}),Object.entries(e).map(([a,l])=>{const o=Array.isArray(l)?l.join(", "):l;return r.jsxs("div",{className:"bg-[#1F2937] border border-[#334155] rounded-lg p-3",children:[r.jsxs("label",{className:"block text-sm font-medium text-[#A7AFB8] mb-2 flex items-center gap-2",children:[!1,a]}),n?r.jsx("div",{className:"text-white",children:o||"-"}):r.jsx("input",{type:"text",value:o||"",onChange:d=>{const c=Array.isArray(l)?d.target.value.split(",").map(u=>u.trim()):d.target.value;s(a,c)},className:"w-full px-3 py-2 bg-[#0F172A] border border-[#334155] rounded text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:Array.isArray(l)?"  ":" "}),Array.isArray(l)&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   "})]},a)})]})}function S0({selectedMarketplaces:e={},characteristicsByMarketplace:t={},valuesByMarketplace:n={},onChange:s,loading:a={},baseCharacteristics:l={}}){const o={wb:{name:"Wildberries",shortName:"WB",icon:"",color:{bg:"bg-purple-600",text:"text-purple-400",border:"border-purple-500",badge:"bg-purple-600/20 text-purple-300 border-purple-500/30"}},ozon:{name:"Ozon",shortName:"Ozon",icon:"",color:{bg:"bg-blue-600",text:"text-blue-400",border:"border-blue-500",badge:"bg-blue-600/20 text-blue-300 border-blue-500/30"}},yandex:{name:" ",shortName:"YM",icon:"",color:{bg:"bg-yellow-600",text:"text-yellow-400",border:"border-yellow-500",badge:"bg-yellow-600/20 text-yellow-300 border-yellow-500/30"}}},i=y.useMemo(()=>Object.keys(e).filter(j=>{var m;return e[j]&&((m=t[j])==null?void 0:m.length)>0}),[e,t]),d=y.useMemo(()=>{if(i.length===0)return{common:[],specific:{}};const j=new Set(Object.keys(l||{}).map(E=>E.toLowerCase().trim())),m=new Map;i.forEach(E=>{(t[E]||[]).forEach(w=>{const C=w.name||w.attribute_name||w.charcName,S=w.id||w.attribute_id||w.charcID,O=w.is_required||w.required,_=w.dictionary_id>0||w.type==="Dictionary";if(j.has(C.toLowerCase().trim())){console.log(`[UnifiedMarketplaceCharacteristics] Skipping "${C}" - already in base characteristics`);return}m.has(C)||m.set(C,{id:S,name:C,marketplaces:[],requiredIn:[],isDictionary:_,originalCharByMp:{}});const $=m.get(C);$.marketplaces.push(E),$.originalCharByMp[E]=w,O&&$.requiredIn.push(E)})});const x=[],h={};i.forEach(E=>{h[E]=[]}),m.forEach((E,T)=>{if(E.marketplaces.length>1)x.push(E);else{const w=E.marketplaces[0];h[w].push(E)}});const g=(E,T)=>E.requiredIn.length>0&&T.requiredIn.length===0?-1:E.requiredIn.length===0&&T.requiredIn.length>0?1:0;return x.sort(g),Object.keys(h).forEach(E=>{h[E].sort(g)}),{common:x,specific:h}},[i,t,l]),c=(j,m,x)=>{s&&x.forEach(h=>{var E;const g=d.common.find(T=>T.name===j)||((E=d.specific[h])==null?void 0:E.find(T=>T.name===j));g&&s(h,g.id,j,m)})},u=(j,m="common")=>{const{name:x,requiredIn:h,isDictionary:g,marketplaces:E}=j,T=E.find(S=>{var O;return(O=n[S])==null?void 0:O[x]}),w=T?n[T][x]:"",C=h.length>0;return r.jsxs("div",{className:"bg-[#1F2937] border border-[#334155] rounded-lg p-3",children:[r.jsx("label",{className:"block text-sm font-medium text-[#E5E7EB] mb-2",children:r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[C&&r.jsx(bn,{className:"text-red-500 flex-shrink-0",size:12}),r.jsx("span",{children:x}),r.jsx("div",{className:"flex items-center gap-1 ml-auto",children:E.map(S=>{const O=o[S],_=h.includes(S);return r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs border rounded ${O.color.badge}`,title:_?`  ${O.name}`:` ${O.name}`,children:[O.icon," ",O.shortName,_&&r.jsx(bn,{size:8,className:"text-red-400"})]},S)})})]})}),g?r.jsx("select",{value:w,onChange:S=>c(x,S.target.value,E),className:"w-full px-3 py-2 bg-[#0F172A] border border-[#334155] rounded text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",children:r.jsx("option",{value:"",children:" "})}):r.jsx("input",{type:"text",value:w,onChange:S=>c(x,S.target.value,E),className:"w-full px-3 py-2 bg-[#0F172A] border border-[#334155] rounded text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:C?" ":" "})]},x)};if(Object.values(a).some(j=>j))return r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-current border-t-transparent rounded-full text-[#22D3EE]",role:"status",children:r.jsx("span",{className:"sr-only",children:"..."})}),r.jsx("p",{className:"mt-2 text-gray-400",children:"  ..."})]});if(i.length===0)return r.jsx("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-blue-300 flex items-center gap-2",children:[r.jsx(us,{}),'     (" :"),   ']})});const{common:f,specific:N}=d,b=f.filter(j=>j.requiredIn.length>0),v=f.filter(j=>j.requiredIn.length===0);return r.jsxs("div",{className:"space-y-6",children:[f.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/20 to-teal-900/20 border border-cyan-600/30 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-cyan-600/30 mb-4",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500"}),r.jsx("h3",{className:"text-lg font-bold text-cyan-400",children:"      "}),r.jsxs("span",{className:"text-sm text-gray-400",children:["(",f.length," )"]})]}),b.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("h4",{className:"text-sm font-semibold text-red-400 mb-3 flex items-center gap-2",children:[r.jsx(bn,{size:12}),"  (",b.length,")"]}),r.jsx("div",{className:"space-y-3",children:b.map(j=>u(j,"common"))})]}),v.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3",children:["  (",v.length,")"]}),r.jsx("div",{className:"space-y-3",children:v.map(j=>u(j,"common"))})]})]}),i.map(j=>{const m=N[j]||[];if(m.length===0)return null;const x=o[j],h=m.filter(E=>E.requiredIn.includes(j)),g=m.filter(E=>!E.requiredIn.includes(j));return r.jsxs("div",{className:`bg-${x.color.bg}/10 border ${x.color.border} border-opacity-30 rounded-lg p-4`,children:[r.jsxs("div",{className:`flex items-center gap-3 pb-3 border-b ${x.color.border} border-opacity-30 mb-4`,children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${x.color.bg}`}),r.jsxs("h3",{className:`text-lg font-bold ${x.color.text}`,children:[x.icon,"   ",x.name.toUpperCase()]}),r.jsxs("span",{className:"text-sm text-gray-400",children:["(",m.length," )"]}),h.length>0&&r.jsxs("span",{className:"ml-auto text-xs text-red-400 flex items-center gap-1",children:[r.jsx(bn,{size:10}),h.length," "]})]}),h.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("h4",{className:"text-sm font-semibold text-red-400 mb-3 flex items-center gap-2",children:[r.jsx(bn,{size:12}),"  (",h.length,")"]}),r.jsx("div",{className:"space-y-3",children:h.map(E=>u(E,"specific"))})]}),g.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3",children:["  (",g.length,")"]}),r.jsx("div",{className:"space-y-3",children:g.map(E=>u(E,"specific"))})]})]},j)})]})}function _d(){var Ai,Fi,Di,Ii,Mi,$i;const{api:e}=fe(),{id:t}=ki(),n=Ft(),[s,a]=y.useState(!1),[l,o]=y.useState("card"),[i,d]=y.useState(!1),[c,u]=y.useState([]),[p,f]=y.useState({wb:!1,ozon:!1,yandex:!1,honest_sign:!1}),[N,b]=y.useState({wb:{name:"",description:"",characteristics:{}},ozon:{name:"",description:"",characteristics:{}},yandex:{name:"",description:"",characteristics:{}}}),[v,j]=y.useState({ozon:{category_id:null,category_name:"",type_id:null},wb:{category_id:null,category_name:""},yandex:{category_id:null,category_name:""}}),[m,x]=y.useState({ozon:{},wb:{},yandex:{}}),[h,g]=y.useState({wb:[],ozon:[],yandex:[]}),[E,T]=y.useState({wb:!1,ozon:!1,yandex:!1}),[w,C]=y.useState({article:"",name:"",brand:"",category_id:"",description:"",status:"active",manufacturer:"",country_of_origin:"",label_name:"",price_with_discount:0,price_without_discount:0,price_coefficient:1,purchase_price:0,additional_expenses:0,cost_price:0,vat:0,weight:0,dimensions:{length:0,width:0,height:0},gender:"",season:"",composition:"",care_instructions:"",additional_info:"",website_link:"",characteristics:{}}),[S,O]=y.useState([]),[_,$]=y.useState([]),[F,M]=y.useState("");y.useEffect(()=>{W(),t&&(H(),K(),A())},[t]),y.useEffect(()=>{const P=w.purchase_price+w.additional_expenses;P!==w.cost_price&&C(U=>({...U,cost_price:P}))},[w.purchase_price,w.additional_expenses]),y.useEffect(()=>{Object.keys(p).forEach(P=>{var U;p[P]&&!((U=N[P])!=null&&U.name)&&b(X=>({...X,[P]:{name:w.name,description:w.description,characteristics:w.characteristics}}))})},[p]);const W=async()=>{try{const P=await e.get("/api/catalog/categories");u(P.data)}catch(P){console.error("Failed to load categories:",P)}},H=async()=>{try{a(!0);const U=(await e.get(`/api/catalog/products/${t}`)).data;C({...U,dimensions:U.dimensions||{length:0,width:0,height:0},manufacturer:U.manufacturer||"",country_of_origin:U.country_of_origin||"",label_name:U.label_name||U.name||"",price_with_discount:U.price_with_discount||U.price||0,price_without_discount:U.price_without_discount||U.price||0,price_coefficient:U.price_coefficient||1,purchase_price:U.purchase_price||0,additional_expenses:U.additional_expenses||0,cost_price:U.cost_price||0,vat:U.vat||0,gender:U.gender||"",season:U.season||"",composition:U.composition||"",care_instructions:U.care_instructions||"",additional_info:U.additional_info||"",website_link:U.website_link||"",characteristics:U.characteristics||{}}),U.marketplace_specific_data&&b(U.marketplace_specific_data)}catch(P){alert("  : "+P.message),n("/dashboard")}finally{a(!1)}},K=async()=>{try{const P=await e.get(`/api/catalog/products/${t}/variants`);O(P.data)}catch(P){console.error("Failed to load variants:",P)}},A=async()=>{try{const P=await e.get(`/api/catalog/products/${t}/photos`);$(P.data)}catch(P){console.error("Failed to load photos:",P)}},k=async()=>{var P,U;a(!0);try{const X={...w,price:w.price_with_discount,price_discounted:w.price_with_discount<w.price_without_discount?w.price_with_discount:null};if(Object.values(p).some(te=>te)&&t){const te=await e.post(`/api/catalog/products/${t}/save-with-marketplaces`,{product:X,marketplaces:p,marketplace_data:N,category_mappings:v,required_attributes:m});let Xe=te.data.message+`

`;const le=te.data.marketplace_results||{};Object.keys(le).forEach(ce=>{const Ze=le[ce];Ze.success?Xe+=` ${ce.toUpperCase()}: ${Ze.message}
`:Xe+=` ${ce.toUpperCase()}: ${Ze.error}
`}),alert(Xe),H()}else if(t)await e.put(`/api/catalog/products/${t}`,X),alert("  !"),H();else{const te=await e.post("/api/catalog/products",X);alert("  !"),n(`/catalog/products/${te.data.id}/edit`)}}catch(X){alert(" : "+(((U=(P=X.response)==null?void 0:P.data)==null?void 0:U.detail)||X.message))}finally{a(!1)}},R=async P=>{var X,ne;if(!t){alert("  ");return}const U=prompt(` ID   ${P.toUpperCase()}:`);if(U){a(!0);try{const te=await e.post(`/api/catalog/products/${t}/update-from-marketplace`,{marketplace:P,marketplace_product_id:U});alert(` ${te.data.message}

: ${te.data.details.name}
: ${te.data.details.description_length} 
: ${te.data.details.characteristics_count}
 : ${te.data.details.photos_added}`),H(),A()}catch(te){alert(" : "+(((ne=(X=te.response)==null?void 0:X.data)==null?void 0:ne.detail)||te.message))}finally{a(!1)}}},D=async P=>{var U,X;if(!t){alert("  ");return}if(confirm(`   ${P.toUpperCase()}?`)){a(!0);try{const ne=await e.post(`/api/catalog/products/${t}/upload-media/${P}`);alert(` ${ne.data.message}`)}catch(ne){alert(" : "+(((X=(U=ne.response)==null?void 0:U.data)==null?void 0:X.detail)||ne.message))}finally{a(!1)}}},L=()=>{if(_.length===0){alert("   ");return}alert(`  ${_.length} 

     `)},V=()=>{if(!t){alert("  ");return}alert(`   

    (  )`)},G=()=>{alert(`   

       ( )`)},q=(P,U)=>{C(X=>({...X,[P]:U}))},be=async(P,U)=>{var X,ne,te,Xe;if(!U){alert("   ");return}T(le=>({...le,[P]:!0}));try{const ce={ozon:"ozon",wb:"wildberries",yandex:"yandex"}[P]||P,ke=(await e.get(`/api/categories/mappings/${U}`)).data;console.log("[loadMarketplaceCharacteristics] Mapping:",ke),console.log("[loadMarketplaceCharacteristics] Looking for key:",ce);const ye=(X=ke.marketplace_categories)==null?void 0:X[ce],wt=(ne=ke.marketplace_type_ids)==null?void 0:ne[ce];if(console.log("[loadMarketplaceCharacteristics] Found categoryId:",ye,"typeId:",wt),!ye){console.warn(`Category not mapped to ${P}`),g(Ha=>({...Ha,[P]:[]}));return}let cn=`/api/categories/marketplace/${P}/${ye}/attributes`;wt&&P==="ozon"&&(cn+=`?type_id=${wt}`);const Ui=(await e.get(cn)).data.attributes||[];g(Ha=>({...Ha,[P]:Ui})),console.log(` ${Ui.length}   ${P}`)}catch(le){console.error(`Failed to load ${P} characteristics:`,le),alert(`   ${P}: ${((Xe=(te=le.response)==null?void 0:te.data)==null?void 0:Xe.detail)||le.message}`)}finally{T(le=>({...le,[P]:!1}))}};y.useEffect(()=>{(async()=>{if(console.log("[ProductForm] Loading characteristics, category_mapping_id:",w.category_mapping_id),console.log("[ProductForm] Selected marketplaces:",p),!w.category_mapping_id){console.log("[ProductForm] No category_mapping_id, skipping");return}for(const U of["ozon","wb","yandex"])p[U]&&h[U].length===0&&!E[U]&&(console.log(`[ProductForm] Loading characteristics for ${U}`),await be(U,w.category_mapping_id))})()},[p.ozon,p.wb,p.yandex,w.category_mapping_id]),y.useEffect(()=>{if(!w.marketplace_data||Ie.length<2)return;const U=setTimeout(()=>{const X=new Set,ne={};Ie.forEach(ce=>{const Ze=h[ce]||[];ne[ce]=Ze.map(ke=>ke.name||ke.attribute_name||ke.charcName),Ze.forEach(ke=>{const ye=ke.name||ke.attribute_name||ke.charcName;X.add(ye)})});const te=Array.from(X).filter(ce=>Ie.filter(ke=>{var ye;return(ye=ne[ke])==null?void 0:ye.includes(ce)}).length>1);if(te.length===0)return;let Xe=!1;const le={...w.marketplace_data};te.forEach(ce=>{const Ze=Ie.find(ke=>{var ye,wt;return(wt=(ye=le[ke])==null?void 0:ye.characteristics)==null?void 0:wt[ce]});if(Ze){const ke=le[Ze].characteristics[ce];Ie.forEach(ye=>{var wt,cn,Va;ye!==Ze&&((wt=ne[ye])!=null&&wt.includes(ce))&&((Va=(cn=le[ye])==null?void 0:cn.characteristics)!=null&&Va[ce]||(le[ye]||(le[ye]={characteristics:{}}),le[ye].characteristics||(le[ye].characteristics={}),le[ye].characteristics[ce]=ke,Xe=!0))})}}),Xe&&(console.log("[Migration] Migrated common characteristics values between marketplaces"),C(ce=>({...ce,marketplace_data:le})))},500);return()=>clearTimeout(U)},[h,p]);const Ie=Object.keys(p).filter(P=>p[P]),Dt=(P,U,X)=>{b(ne=>({...ne,[P]:{...ne[P],[U]:X}}))},Fp=async()=>{const P=prompt(" URL :");if(P)try{const U=await e.post(`/api/catalog/products/${t}/photos`,{url:P,order:_.length+1,marketplaces:{wb:!0,ozon:!0,yandex:!0}});$([..._,U.data])}catch(U){alert(": "+U.message)}},Dp=async P=>{try{await e.delete(`/api/catalog/products/${t}/photos/${P}`),$(_.filter(U=>U.id!==P))}catch(U){alert(": "+U.message)}};return s&&t?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-mm-cyan"}),r.jsx("p",{className:"text-mm-text-secondary mt-4",children:"..."})]}):r.jsxs("div",{className:"min-h-screen bg-mm-dark pb-32",children:[r.jsxs("div",{className:"bg-mm-secondary border-b border-mm-border p-4",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[r.jsx("button",{onClick:()=>n("/dashboard"),className:"p-2 text-mm-text hover:text-mm-cyan transition",children:r.jsx(zi,{size:20})}),r.jsx("h1",{className:"text-2xl font-bold text-mm-text",children:t?` : ${w.article}`:" "})]}),t&&r.jsxs("div",{className:"flex items-center gap-1 p-2 bg-cyan-500 rounded relative",children:[r.jsx("button",{type:"button",onClick:k,title:"",className:"p-2 text-white hover:bg-white/20 rounded transition",children:r.jsx(kp,{size:18})}),r.jsx("button",{type:"button",title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:r.jsx(Zr,{size:18})}),r.jsx("button",{type:"button",onClick:k,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:r.jsx(rr,{size:18})}),r.jsx("button",{type:"button",title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition text-lg",children:""}),r.jsx("button",{type:"button",onClick:G,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:r.jsx(ga,{size:18})}),r.jsx("button",{type:"button",onClick:V,title:"",className:"p-2 text-white hover:bg-white/20 rounded transition",children:r.jsx(t0,{size:18})}),r.jsx("button",{type:"button",title:"  ",className:"p-2 text-white hover:bg-white/20 rounded transition text-lg",children:""}),r.jsx("button",{type:"button",onClick:()=>D("wb"),title:" Wildberries",className:"w-8 h-8 bg-purple-600 text-white rounded flex items-center justify-center hover:bg-purple-700 transition text-xs font-bold",children:"WB"}),r.jsx("button",{type:"button",onClick:()=>D("ozon"),title:" Ozon",className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition text-xs font-bold",children:"O"}),r.jsx("button",{type:"button",onClick:L,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:r.jsx(ba,{size:18})}),r.jsx("button",{type:"button",onClick:async()=>{if(confirm("  ?"))try{await e.delete(`/api/catalog/products/${t}`),alert("  "),n("/dashboard")}catch(P){alert(": "+P.message)}},title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:r.jsx(on,{size:18})}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{type:"button",onClick:()=>d(!i),title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:r.jsx(Sp,{size:18})}),i&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)}),r.jsx("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50",children:r.jsxs("div",{className:"py-2",children:[r.jsx("button",{onClick:()=>{alert(`    

    `),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    "}),r.jsx("button",{onClick:()=>{const P=prompt("   ? (wb, ozon, yandex)");P&&R(P),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"  ,   "}),r.jsx("button",{onClick:()=>{const P=prompt("   ? (wb, ozon, yandex)");P&&R(P),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"  "}),r.jsx("button",{onClick:()=>{L(),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    "}),r.jsx("button",{onClick:()=>{D("ozon"),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    Ozon"}),r.jsx("hr",{className:"my-2"}),r.jsx("button",{onClick:()=>{alert(`   

    `),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"   "})]})})]})]})]}),t&&r.jsx("div",{className:"flex gap-1 mt-3 border-b border-mm-border overflow-x-auto",children:["card","keywords","analytics","prices","mass_edit","hypotheses","suppliers","stock","documents","duplicates"].map(P=>{const U={card:"",keywords:" ",analytics:"",prices:"",mass_edit:" ",hypotheses:"",suppliers:"",stock:"",documents:"",duplicates:""};return r.jsxs("button",{onClick:()=>o(P),className:`px-4 py-2 font-medium transition whitespace-nowrap relative ${l===P?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-text"}`,children:[U[P],P==="hypotheses"&&r.jsx("span",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 text-[10px] bg-orange-500 text-white rounded font-bold",children:"NEW"})]},P)})})]}),r.jsx("div",{className:"max-w-[1600px] mx-auto px-6 py-6",children:r.jsxs("form",{onSubmit:P=>{P.preventDefault(),k()},children:[l==="card"&&r.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[r.jsx("div",{className:"col-span-3",children:r.jsxs("div",{className:"bg-mm-secondary p-4 rounded-lg sticky top-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-mm-text mb-3",children:""}),r.jsx("div",{className:"space-y-2",children:_.length===0?r.jsxs("div",{className:"border-2 border-dashed border-mm-border rounded-lg p-8 text-center",children:[r.jsx(ko,{className:"mx-auto text-4xl text-mm-text-secondary mb-2"}),r.jsx("p",{className:"text-sm text-mm-text-secondary",children:" "})]}):r.jsx("div",{className:"grid grid-cols-2 gap-2",children:_.map(P=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:P.url,alt:"Product",className:"w-full h-24 object-cover rounded bg-mm-dark"}),r.jsx("button",{type:"button",onClick:()=>Dp(P.id),className:"absolute top-1 right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition text-xs font-bold",children:""})]},P.id))})}),t&&r.jsx("button",{type:"button",onClick:Fp,className:"w-full mt-3 px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded text-sm font-medium",children:"+  "})]})}),r.jsxs("div",{className:"col-span-9 space-y-6",children:[t&&r.jsx("div",{className:"bg-mm-secondary p-4 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-mm-text",children:[r.jsx("span",{className:"text-mm-text-secondary",children:":"}),r.jsxs("span",{className:"ml-2 font-semibold",children:[S.length,"  ",S.length]})]}),r.jsx("button",{type:"button",onClick:async()=>{const P=prompt(":"),U=prompt(":");if(!(!P||!U))try{const X=await e.post(`/api/catalog/products/${t}/variants`,{color:P,size:U,sku:`${w.article}-${P.slice(0,3).toUpperCase()}-${U}`});O([...S,X.data])}catch(X){alert(": "+X.message)}},className:"px-4 py-2 bg-orange-500 text-white hover:bg-orange-600 rounded text-sm font-semibold",children:""})]})}),r.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[r.jsx(w0,{productName:w.name,initialCategoryMappingId:w.category_mapping_id,selectedMarketplaces:Object.keys(p).filter(P=>p[P]),onCategorySelected:P=>{console.log("[ProductForm] Category selected:",P),C(P?U=>({...U,category_mapping_id:P.id}):U=>({...U,category_mapping_id:null}))},onAttributesLoaded:P=>{console.log("[ProductForm] Attributes loaded:",P),b(U=>{const X={...U};return Object.keys(P).forEach(ne=>{X[ne]||(X[ne]={}),X[ne].attributes=P[ne]}),X})}}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["      ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"text",value:w.article,onChange:P=>q("article",P.target.value),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["  ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"text",value:w.name,onChange:P=>q("name",P.target.value),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:[" ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:w.brand,onChange:P=>q("brand",P.target.value),required:!0,className:"flex-1 px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"}),r.jsx("button",{type:"button",className:"px-4 py-2 bg-cyan-500 text-white hover:bg-cyan-600 rounded text-sm font-semibold",children:""}),r.jsx("button",{type:"button",className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded",children:r.jsx(Zn,{size:18})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:""}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:w.manufacturer,onChange:P=>q("manufacturer",P.target.value),className:"flex-1 px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"}),r.jsx("button",{type:"button",className:"px-4 py-2 bg-cyan-500 text-white hover:bg-cyan-600 rounded text-sm font-semibold",children:""}),r.jsx("button",{type:"button",className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded",children:r.jsx(Zn,{size:18})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),r.jsx("input",{type:"text",value:w.country_of_origin,onChange:P=>q("country_of_origin",P.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:"  "}),r.jsx("input",{type:"text",value:w.label_name,onChange:P=>q("label_name",P.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]}),r.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[r.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:""}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["    ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"number",value:w.price_with_discount/100,onChange:P=>q("price_with_discount",Math.round(parseFloat(P.target.value||0)*100)),step:"0.01",required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["    ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"number",value:w.price_without_discount/100,onChange:P=>q("price_without_discount",Math.round(parseFloat(P.target.value||0)*100)),step:"0.01",required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),r.jsx("input",{type:"number",value:w.purchase_price/100,onChange:P=>q("purchase_price",Math.round(parseFloat(P.target.value||0)*100)),step:"0.01",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:".  "}),r.jsx("input",{type:"number",value:w.additional_expenses/100,onChange:P=>q("additional_expenses",Math.round(parseFloat(P.target.value||0)*100)),step:"0.01",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),r.jsx("input",{type:"number",value:w.cost_price/100,readOnly:!0,className:"w-full px-3 py-2 bg-mm-dark/50 border border-mm-border rounded text-mm-text-secondary cursor-not-allowed"})]})]})]}),r.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("label",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:""}),r.jsxs("span",{className:"text-xs text-mm-text-secondary",children:[w.description.length," / 2000"]})]}),r.jsx("textarea",{value:w.description,onChange:P=>q("description",P.target.value),rows:"5",maxLength:2e3,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none resize-none"})]}),r.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[r.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase mb-3",children:"    "}),r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"number",value:w.dimensions.length,onChange:P=>q("dimensions",{...w.dimensions,length:parseInt(P.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"number",value:w.dimensions.width,onChange:P=>q("dimensions",{...w.dimensions,width:parseInt(P.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"number",value:w.dimensions.height,onChange:P=>q("dimensions",{...w.dimensions,height:parseInt(P.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"number",value:w.weight,onChange:P=>q("weight",parseInt(P.target.value)||0),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]})]}),r.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-6",children:[r.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase mb-4",children:" "}),Object.keys(w.characteristics||{}).length>0&&r.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:["  (",Object.keys(w.characteristics||{}).length," )"]}),r.jsx(k0,{characteristics:w.characteristics||{},onChange:P=>q("characteristics",P)})]}),r.jsx(S0,{selectedMarketplaces:p,characteristicsByMarketplace:h,valuesByMarketplace:{wb:((Fi=(Ai=w.marketplace_data)==null?void 0:Ai.wb)==null?void 0:Fi.characteristics)||{},ozon:((Ii=(Di=w.marketplace_data)==null?void 0:Di.ozon)==null?void 0:Ii.characteristics)||{},yandex:(($i=(Mi=w.marketplace_data)==null?void 0:Mi.yandex)==null?void 0:$i.characteristics)||{}},baseCharacteristics:w.characteristics||{},onChange:(P,U,X,ne)=>{C(te=>{var Xe,le,ce;return{...te,marketplace_data:{...te.marketplace_data,[P]:{...(Xe=te.marketplace_data)==null?void 0:Xe[P],characteristics:{...(ce=(le=te.marketplace_data)==null?void 0:le[P])==null?void 0:ce.characteristics,[X]:ne}}}}})},loading:E})]}),r.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 uppercase",children:""}),r.jsx("div",{className:"flex gap-2",children:["","","",""].map(P=>r.jsx("button",{type:"button",onClick:()=>q("gender",w.gender===P?"":P),className:`px-4 py-2 rounded border transition ${w.gender===P?"bg-mm-cyan border-mm-cyan text-mm-dark font-semibold":"bg-mm-dark border-mm-border text-mm-text hover:border-mm-cyan"}`,children:P},P))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 uppercase",children:""}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["","","","",""].map(P=>r.jsx("button",{type:"button",onClick:()=>q("season",w.season===P?"":P),className:`px-4 py-2 rounded border transition ${w.season===P?"bg-mm-cyan border-mm-cyan text-mm-dark font-semibold":"bg-mm-dark border-mm-border text-mm-text hover:border-mm-cyan"}`,children:P},P))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:""}),r.jsx("input",{type:"text",value:w.composition,onChange:P=>q("composition",P.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]}),p.wb&&r.jsxs("div",{className:"bg-purple-500/10 border-2 border-purple-500 p-6 rounded-lg space-y-4",children:[r.jsxs("h2",{className:"text-lg font-bold text-purple-400 flex items-center gap-2",children:[r.jsx("span",{className:"w-8 h-8 bg-purple-500 text-white rounded flex items-center justify-center text-sm font-bold",children:"WB"}),"WILDBERRIES -  "]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-purple-300 mb-1",children:"  WB"}),r.jsx("input",{type:"text",value:N.wb.name,onChange:P=>Dt("wb","name",P.target.value),placeholder:w.name,className:"w-full px-3 py-2 bg-mm-dark border border-purple-500/50 rounded text-mm-text focus:border-purple-400 outline-none"}),r.jsx("p",{className:"text-xs text-purple-300/70 mt-1",children:"     "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-purple-300 mb-1",children:"  WB"}),r.jsx("textarea",{value:N.wb.description,onChange:P=>Dt("wb","description",P.target.value),placeholder:w.description,rows:"3",className:"w-full px-3 py-2 bg-mm-dark border border-purple-500/50 rounded text-mm-text focus:border-purple-400 outline-none resize-none"}),r.jsx("p",{className:"text-xs text-purple-300/70 mt-1",children:"     "})]})]}),p.ozon&&r.jsxs("div",{className:"bg-blue-500/10 border-2 border-blue-500 p-6 rounded-lg space-y-4",children:[r.jsxs("h2",{className:"text-lg font-bold text-blue-400 flex items-center gap-2",children:[r.jsx("span",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"O"}),"OZON -  "]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-blue-300 mb-1",children:"  Ozon"}),r.jsx("input",{type:"text",value:N.ozon.name,onChange:P=>Dt("ozon","name",P.target.value),placeholder:w.name,className:"w-full px-3 py-2 bg-mm-dark border border-blue-500/50 rounded text-mm-text focus:border-blue-400 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-blue-300 mb-1",children:"  Ozon"}),r.jsx("textarea",{value:N.ozon.description,onChange:P=>Dt("ozon","description",P.target.value),placeholder:w.description,rows:"3",className:"w-full px-3 py-2 bg-mm-dark border border-blue-500/50 rounded text-mm-text focus:border-blue-400 outline-none resize-none"})]})]}),p.yandex&&r.jsxs("div",{className:"bg-red-500/10 border-2 border-red-500 p-6 rounded-lg space-y-4",children:[r.jsxs("h2",{className:"text-lg font-bold text-red-400 flex items-center gap-2",children:[r.jsx("span",{className:"w-8 h-8 bg-red-500 text-white rounded flex items-center justify-center text-sm font-bold",children:""}),". -  "]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-red-300 mb-1",children:"  "}),r.jsx("input",{type:"text",value:N.yandex.name,onChange:P=>Dt("yandex","name",P.target.value),placeholder:w.name,className:"w-full px-3 py-2 bg-mm-dark border border-red-500/50 rounded text-mm-text focus:border-red-400 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-red-300 mb-1",children:"  "}),r.jsx("textarea",{value:N.yandex.description,onChange:P=>Dt("yandex","description",P.target.value),placeholder:w.description,rows:"3",className:"w-full px-3 py-2 bg-mm-dark border border-red-500/50 rounded text-mm-text focus:border-red-400 outline-none resize-none"})]})]})]})]}),l==="prices"&&r.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[r.jsx("h2",{className:"text-xl font-bold text-mm-text mb-6",children:""}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[r.jsx("p",{className:"text-xs text-mm-text-secondary",children:"  "}),r.jsxs("p",{className:"text-2xl font-bold text-mm-cyan",children:[(w.price_with_discount/100).toFixed(2)," "]})]}),r.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[r.jsx("p",{className:"text-xs text-mm-text-secondary",children:"  "}),r.jsxs("p",{className:"text-2xl font-bold text-mm-text",children:[(w.price_without_discount/100).toFixed(2)," "]})]}),r.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[r.jsx("p",{className:"text-xs text-mm-text-secondary",children:""}),r.jsxs("p",{className:"text-2xl font-bold text-mm-text",children:[(w.cost_price/100).toFixed(2)," "]})]})]})]}),l!=="card"&&l!=="prices"&&r.jsx("div",{className:"bg-mm-secondary p-6 rounded-lg text-center py-12",children:r.jsxs("p",{className:"text-mm-text-secondary",children:[' "',l,'"  ']})})]})}),r.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 shadow-lg z-30",children:r.jsxs("div",{className:"max-w-[1600px] mx-auto flex justify-between items-center",children:[r.jsx("button",{type:"button",onClick:k,disabled:s,className:"px-8 py-3 bg-cyan-500 text-white hover:bg-cyan-600 rounded font-bold disabled:opacity-50",children:""}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-sm text-gray-700 font-medium",children:" :"}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:p.honest_sign,onChange:P=>f({...p,honest_sign:P.target.checked}),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:p.ozon,onChange:P=>f({...p,ozon:P.target.checked}),className:"w-4 h-4"}),r.jsx("span",{className:"w-7 h-7 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"O"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:p.wb,onChange:P=>f({...p,wb:P.target.checked}),className:"w-4 h-4"}),r.jsx("span",{className:"w-7 h-7 bg-purple-600 text-white rounded flex items-center justify-center text-xs font-bold",children:"WB"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:p.yandex,onChange:P=>f({...p,yandex:P.target.checked}),className:"w-4 h-4"}),r.jsx("span",{className:"w-7 h-7 bg-red-500 text-white rounded flex items-center justify-center text-xs font-bold",children:""})]})]})]})})]})}function _0(){const{api:e}=fe(),t=Ft(),[n,s]=y.useState(1),[a,l]=y.useState(""),[o,i]=y.useState(""),[d,c]=y.useState(null),[u,p]=y.useState(!1),[f,N]=y.useState(null),b=x=>{const h=x.target.files[0];if(h){if(!h.name.endsWith(".xlsx")&&!h.name.endsWith(".xls")){alert(",  Excel  (.xlsx  .xls)");return}c(h)}},v=()=>{alert("  Excel     ")},j=async()=>{var x,h;if(!o){alert(" ");return}p(!0);try{const g=await e.post("/api/catalog/import/marketplace",null,{params:{marketplace:o}});N(g.data),s(3)}catch(g){alert(" : "+(((h=(x=g.response)==null?void 0:x.data)==null?void 0:h.detail)||g.message))}finally{p(!1)}},m=async()=>{if(!d){alert(" ");return}p(!0);try{new FormData().append("file",d),alert("  Excel     ")}catch(x){alert(" : "+x.message)}finally{p(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>t("/dashboard"),className:"text-mm-cyan hover:underline mb-2 flex items-center gap-2",children:[r.jsx(zi,{}),"   "]}),r.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "}),r.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"       Excel"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:`flex items-center gap-2 ${n>=1?"text-mm-cyan":"text-mm-text-secondary"}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=1?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"1"}),r.jsx("span",{className:"text-sm",children:" "})]}),r.jsx("div",{className:"flex-1 h-px bg-mm-border"}),r.jsxs("div",{className:`flex items-center gap-2 ${n>=2?"text-mm-cyan":"text-mm-text-secondary"}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=2?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"2"}),r.jsx("span",{className:"text-sm",children:" "})]}),r.jsx("div",{className:"flex-1 h-px bg-mm-border"}),r.jsxs("div",{className:`flex items-center gap-2 ${n>=3?"text-mm-cyan":"text-mm-text-secondary"}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=3?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"3"}),r.jsx("span",{className:"text-sm",children:""})]})]}),n===1&&r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsx("div",{onClick:()=>{l("marketplace"),s(2)},className:`p-8 rounded-lg cursor-pointer transition border-2 ${a==="marketplace"?"border-mm-cyan bg-mm-cyan/10":"border-mm-border bg-mm-secondary hover:border-mm-cyan/50"}`,children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 mx-auto bg-mm-cyan/20 rounded-full flex items-center justify-center",children:r.jsx(ba,{className:"text-3xl text-mm-cyan"})}),r.jsx("h3",{className:"text-xl font-bold text-mm-text",children:"  "}),r.jsx("p",{className:"text-sm text-mm-text-secondary",children:"    Wildberries, Ozon  .  API"}),r.jsxs("ul",{className:"text-xs text-mm-text-secondary text-left space-y-2",children:[r.jsx("li",{children:"    "}),r.jsx("li",{children:" , , "}),r.jsx("li",{children:"  "})]})]})}),r.jsx("div",{onClick:()=>{l("excel"),s(2)},className:`p-8 rounded-lg cursor-pointer transition border-2 ${a==="excel"?"border-mm-cyan bg-mm-cyan/10":"border-mm-border bg-mm-secondary hover:border-mm-cyan/50"}`,children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 mx-auto bg-mm-cyan/20 rounded-full flex items-center justify-center",children:r.jsx(Zr,{className:"text-3xl text-mm-cyan"})}),r.jsx("h3",{className:"text-xl font-bold text-mm-text",children:"  Excel"}),r.jsx("p",{className:"text-sm text-mm-text-secondary",children:"    Excel-  "}),r.jsxs("ul",{className:"text-xs text-mm-text-secondary text-left space-y-2",children:[r.jsx("li",{children:"   "}),r.jsx("li",{children:"   Excel"}),r.jsx("li",{children:"  "})]})]})})]}),n===2&&a==="marketplace"&&r.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" "}),r.jsx("div",{className:"grid grid-cols-3 gap-4",children:["ozon","wb","yandex"].map(x=>{const h={ozon:"Ozon",wb:"Wildberries",yandex:"."},g={ozon:"blue",wb:"purple",yandex:"red"};return r.jsx("div",{onClick:()=>i(x),className:`p-6 rounded-lg cursor-pointer transition border-2 text-center ${o===x?`border-${g[x]}-500 bg-${g[x]}-500/10`:"border-mm-border hover:border-mm-cyan/50"}`,children:r.jsx("h3",{className:"text-lg font-bold text-mm-text",children:h[x]})},x)})}),r.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-4",children:r.jsxs("p",{className:"text-blue-300 text-sm",children:[" ",r.jsx("strong",{children:":"}),' ,           "".']})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>s(1),className:"px-6 py-3 bg-mm-dark text-mm-text hover:bg-mm-dark/80 rounded",children:""}),r.jsx("button",{onClick:j,disabled:!o||u,className:"flex-1 px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:u?"...":" "})]})]}),n===2&&a==="excel"&&r.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" Excel "}),r.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-bold text-mm-text mb-2",children:" 1:  "}),r.jsx("p",{className:"text-sm text-mm-text-secondary mb-4",children:"  Excel,        "}),r.jsxs("button",{onClick:v,className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center gap-2",children:[r.jsx(ba,{}),"   Excel"]})]}),r.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-bold text-mm-text mb-2",children:" 2:  "}),r.jsx("p",{className:"text-sm text-mm-text-secondary mb-4",children:"  Excel   "}),r.jsxs("div",{className:"border-2 border-dashed border-mm-border rounded-lg p-8 text-center",children:[r.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:b,className:"hidden",id:"file-upload"}),r.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer inline-block",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(Zr,{className:"mx-auto text-4xl text-mm-cyan"}),r.jsx("p",{className:"text-mm-text",children:d?d.name:"     "}),r.jsx("p",{className:"text-xs text-mm-text-secondary",children:" : .xlsx, .xls"})]})})]})]}),r.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded p-4",children:r.jsxs("p",{className:"text-yellow-300 text-sm",children:[" ",r.jsx("strong",{children:":"}),"          .    ."]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>s(1),className:"px-6 py-3 bg-mm-dark text-mm-text hover:bg-mm-dark/80 rounded",children:""}),r.jsx("button",{onClick:m,disabled:!d||u,className:"flex-1 px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:u?"...":" "})]})]}),n===3&&f&&r.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 mx-auto bg-green-500/20 rounded-full flex items-center justify-center mb-4",children:r.jsx(rr,{className:"text-4xl text-green-400"})}),r.jsx("h2",{className:"text-2xl font-bold text-mm-text mb-2",children:" !"}),r.jsx("p",{className:"text-mm-text-secondary",children:"    "})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-green-400",children:f.created||0}),r.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]}),r.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-400",children:f.updated||0}),r.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]}),r.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-red-400",children:f.errors||0}),r.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]})]}),r.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded",children:"  "})]})]})}function C0(){const{api:e}=fe(),[t,n]=y.useState([]),[s,a]=y.useState(!1),[l,o]=y.useState(!1),[i,d]=y.useState(null),[c,u]=y.useState(""),[p,f]=y.useState({internal_name:"",slug:"",site_visibility:!0,default_channels:["site"],ozon_category_id:"",ozon_type_id:"",wb_category_id:"",yandex_category_id:"",internal_attributes:[]}),[N,b]=y.useState({ozon:"",wb:"",yandex:""}),[v,j]=y.useState({ozon:[],wb:[],yandex:[]}),[m,x]=y.useState({});y.useEffect(()=>{h()},[]);const h=async()=>{a(!0);try{const _=await e.get("/api/internal-categories?limit=100");n(_.data.categories||[])}catch(_){console.error("Failed to load categories:",_),alert("  ")}finally{a(!1)}},g=()=>{d(null),f({internal_name:"",slug:"",site_visibility:!0,default_channels:["site"],ozon_category_id:"",ozon_type_id:"",wb_category_id:"",yandex_category_id:"",internal_attributes:[]}),b({ozon:"",wb:"",yandex:""}),j({ozon:[],wb:[],yandex:[]}),o(!0)},E=_=>{var $,F,M,W,H,K,A,k;d(_.id),f({internal_name:_.internal_name,slug:_.slug||"",site_visibility:_.site_visibility??!0,default_channels:_.default_channels||["site"],ozon_category_id:((F=($=_.marketplace_mappings)==null?void 0:$.ozon)==null?void 0:F.category_id)||"",ozon_type_id:((W=(M=_.marketplace_mappings)==null?void 0:M.ozon)==null?void 0:W.type_id)||"",wb_category_id:((K=(H=_.marketplace_mappings)==null?void 0:H.wb)==null?void 0:K.category_id)||"",yandex_category_id:((k=(A=_.marketplace_mappings)==null?void 0:A.yandex)==null?void 0:k.category_id)||"",internal_attributes:_.internal_attributes||[]}),b({ozon:"",wb:"",yandex:""}),j({ozon:[],wb:[],yandex:[]}),o(!0)},T=async(_,$)=>{var F,M;if(confirm(`  "${$}"?`))try{await e.delete(`/api/internal-categories/${_}`),alert("  "),h()}catch(W){alert(" : "+(((M=(F=W.response)==null?void 0:F.data)==null?void 0:M.detail)||W.message))}},w=async()=>{var _,$;if(!p.internal_name){alert("  ");return}try{i?(await e.put(`/api/internal-categories/${i}`,p),alert("  ")):(await e.post("/api/internal-categories",p),alert("  ")),o(!1),h()}catch(F){alert(" : "+((($=(_=F.response)==null?void 0:_.data)==null?void 0:$.detail)||F.message))}},C=async _=>{var F,M;const $=N[_];if(!(!$||$.length<2)){x(W=>({...W,[_]:!0}));try{const W=await e.get(`/api/categories/marketplace/${_}/search?query=${encodeURIComponent($)}`);j(H=>({...H,[_]:W.data.categories||[]}))}catch(W){console.error(`Failed to search ${_}:`,W),alert(`  ${_}: ${((M=(F=W.response)==null?void 0:F.data)==null?void 0:M.detail)||W.message}`)}finally{x(W=>({...W,[_]:!1}))}}},S=(_,$)=>{_==="ozon"?f(F=>({...F,ozon_category_id:$.category_id||$.id,ozon_type_id:$.type_id||""})):_==="wb"?f(F=>({...F,wb_category_id:$.category_id||$.id})):_==="yandex"&&f(F=>({...F,yandex_category_id:$.category_id||$.id})),j(F=>({...F,[_]:[]})),b(F=>({...F,[_]:""}))},O=t.filter(_=>_.internal_name.toLowerCase().includes(c.toLowerCase()));return r.jsx("div",{className:"min-h-screen bg-[#0F172A] text-[#E5E7EB] p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-[#06B6D4] mb-2",children:" "}),r.jsx("p",{className:"text-[#A7AFB8]",children:"        "})]}),r.jsxs("button",{onClick:g,className:"px-6 py-3 bg-[#06B6D4] text-[#0B1220] rounded-lg font-bold hover:bg-cyan-400 transition-colors flex items-center gap-2","data-testid":"create-category-button",children:[r.jsx(Wa,{}),"  "]})]}),r.jsxs("div",{className:"mb-6 relative",children:[r.jsx(es,{className:"absolute left-4 top-3.5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:" ...",value:c,onChange:_=>u(_.target.value),className:"w-full pl-12 pr-4 py-3 bg-[#111827] border border-[#334155] rounded-lg text-white placeholder-gray-500 focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none","data-testid":"category-search-input"})]}),s?r.jsx("div",{className:"text-center py-12 text-gray-400",children:"..."}):O.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-gray-400 mb-4",children:"  "}),r.jsx("button",{onClick:g,className:"px-6 py-2 bg-[#06B6D4] text-[#0B1220] rounded-lg hover:bg-cyan-400",children:"  "})]}):r.jsx("div",{className:"bg-[#111827] border border-[#334155] rounded-xl overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-[#0F172A] border-b border-[#334155]",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:"Slug"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),r.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-[#A7AFB8]",children:""})]})}),r.jsx("tbody",{children:O.map(_=>{var $,F,M,W,H,K,A;return r.jsxs("tr",{className:"border-b border-[#334155] hover:bg-slate-800/60 transition-colors","data-testid":`category-row-${_.id}`,children:[r.jsx("td",{className:"px-6 py-4 font-medium",children:_.internal_name}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:_.slug||"-"}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex gap-2",children:[((F=($=_.marketplace_mappings)==null?void 0:$.ozon)==null?void 0:F.category_id)&&r.jsx("span",{className:"px-2 py-1 bg-blue-500 text-white text-xs rounded",children:"Ozon"}),((W=(M=_.marketplace_mappings)==null?void 0:M.wb)==null?void 0:W.category_id)&&r.jsx("span",{className:"px-2 py-1 bg-purple-500 text-white text-xs rounded",children:"WB"}),((K=(H=_.marketplace_mappings)==null?void 0:H.yandex)==null?void 0:K.category_id)&&r.jsx("span",{className:"px-2 py-1 bg-yellow-500 text-black text-xs rounded",children:""})]})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:((A=_.internal_attributes)==null?void 0:A.length)||0}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>E(_),className:"p-2 text-blue-400 hover:bg-blue-500/20 rounded transition-colors","data-testid":`edit-category-${_.id}`,children:r.jsx(e0,{})}),r.jsx("button",{onClick:()=>T(_.id,_.internal_name),className:"p-2 text-red-400 hover:bg-red-500/20 rounded transition-colors","data-testid":`delete-category-${_.id}`,children:r.jsx(on,{})})]})})]},_.id)})})]})}),l&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-start justify-center z-50 p-6 overflow-y-auto",children:r.jsxs("div",{className:"bg-[#111827] border border-[#334155] rounded-xl w-full max-w-4xl my-8",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-[#334155] flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-[#06B6D4]",children:i?" ":" "}),r.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ri,{size:24})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-[#A7AFB8] mb-2",children:[" ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:p.internal_name,onChange:_=>f($=>({...$,internal_name:_.target.value})),className:"w-full px-4 py-2 bg-[#1F2937] border border-[#334155] rounded-lg text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:":  ","data-testid":"category-name-input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-[#A7AFB8] mb-2",children:"Slug"}),r.jsx("input",{type:"text",value:p.slug,onChange:_=>f($=>({...$,slug:_.target.value})),className:"w-full px-4 py-2 bg-[#1F2937] border border-[#334155] rounded-lg text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:"computer-mice"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"  "}),r.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4 mb-4",children:r.jsxs("p",{className:"text-yellow-200 text-sm flex items-start gap-2",children:[r.jsx(us,{className:"mt-0.5 flex-shrink-0"}),r.jsxs("span",{children:[r.jsx("strong",{children:":"}),"        .       ."]})]})}),r.jsxs("div",{className:"mb-4 p-4 bg-[#1F2937] border-l-4 border-blue-500 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("h4",{className:"font-bold text-blue-400",children:"Ozon"}),p.ozon_category_id&&r.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[r.jsx(rr,{size:12})," : ",p.ozon_category_id]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:N.ozon,onChange:_=>b($=>({...$,ozon:_.target.value})),onKeyDown:_=>_.key==="Enter"&&C("ozon"),placeholder:"  Ozon ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 outline-none"}),r.jsx("button",{onClick:()=>C("ozon"),disabled:m.ozon||N.ozon.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:m.ozon?"...":""})]}),v.ozon.length>0&&r.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:v.ozon.map((_,$)=>r.jsxs("button",{onClick:()=>S("ozon",_),className:"w-full px-4 py-2 text-left hover:bg-blue-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[r.jsx("div",{className:"font-medium text-white",children:_.category_name||_.name}),r.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",_.category_id||_.id,_.type_id&&` | Type: ${_.type_id}`]})]},$))})]}),r.jsxs("div",{className:"mb-4 p-4 bg-[#1F2937] border-l-4 border-purple-500 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("h4",{className:"font-bold text-purple-400",children:"Wildberries"}),p.wb_category_id&&r.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[r.jsx(rr,{size:12})," : ",p.wb_category_id]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:N.wb,onChange:_=>b($=>({...$,wb:_.target.value})),onKeyDown:_=>_.key==="Enter"&&C("wb"),placeholder:"  Wildberries ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 outline-none"}),r.jsx("button",{onClick:()=>C("wb"),disabled:m.wb||N.wb.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-purple-500 text-white rounded text-sm hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed",children:m.wb?"...":""})]}),v.wb.length>0&&r.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:v.wb.map((_,$)=>r.jsxs("button",{onClick:()=>S("wb",_),className:"w-full px-4 py-2 text-left hover:bg-purple-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[r.jsx("div",{className:"font-medium text-white",children:_.category_name||_.name}),r.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",_.category_id||_.id]})]},$))})]}),r.jsxs("div",{className:"p-4 bg-[#1F2937] border-l-4 border-yellow-500 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("h4",{className:"font-bold text-yellow-400",children:" "}),p.yandex_category_id&&r.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[r.jsx(rr,{size:12})," : ",p.yandex_category_id]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:N.yandex,onChange:_=>b($=>({...$,yandex:_.target.value})),onKeyDown:_=>_.key==="Enter"&&C("yandex"),placeholder:"    ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-yellow-500 focus:ring-2 focus:ring-yellow-500/50 outline-none"}),r.jsx("button",{onClick:()=>C("yandex"),disabled:m.yandex||N.yandex.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-yellow-500 text-black rounded text-sm hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed",children:m.yandex?"...":""})]}),v.yandex.length>0&&r.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:v.yandex.map((_,$)=>r.jsxs("button",{onClick:()=>S("yandex",_),className:"w-full px-4 py-2 text-left hover:bg-yellow-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[r.jsx("div",{className:"font-medium text-white",children:_.category_name||_.name}),r.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",_.category_id||_.id]})]},$))})]})]})]}),r.jsxs("div",{className:"px-6 py-4 border-t border-[#334155] flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>o(!1),className:"px-6 py-2 bg-[#374151] text-white rounded-lg hover:bg-[#4B5563] transition-colors",children:""}),r.jsxs("button",{onClick:w,className:"px-6 py-2 bg-[#06B6D4] text-[#0B1220] rounded-lg font-bold hover:bg-cyan-400 transition-colors flex items-center gap-2","data-testid":"save-category-button",children:[r.jsx(kp,{})," "]})]})]})})]})})}function et({children:e,requiredRole:t}){const{user:n,loading:s}=fe();return s?r.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:r.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):n?t&&n.role!==t?r.jsx(fa,{to:"/"}):e:r.jsx(fa,{to:"/login"})}function E0(){const{user:e}=fe();return r.jsxs(ay,{children:[r.jsx(Oe,{path:"/login",element:e?r.jsx(fa,{to:"/"}):r.jsx(Jg,{})}),r.jsx(Oe,{path:"/",element:r.jsx(et,{children:(e==null?void 0:e.role)==="admin"?r.jsx(p0,{}):r.jsx(h0,{})})}),r.jsx(Oe,{path:"/products/:id/edit",element:r.jsx(et,{children:r.jsx(f0,{})})}),r.jsx(Oe,{path:"/warehouses/:id",element:r.jsx(et,{children:r.jsx(j0,{})})}),r.jsx(Oe,{path:"/integrations",element:r.jsx(et,{children:r.jsx(Ti,{})})}),r.jsx(Oe,{path:"/products-new",element:r.jsx(et,{children:r.jsx(g0,{})})}),r.jsx(Oe,{path:"/stock-balances",element:r.jsx(et,{children:r.jsx(v0,{})})}),r.jsx(Oe,{path:"/catalog/categories",element:r.jsx(et,{children:r.jsx(N0,{})})}),r.jsx(Oe,{path:"/catalog/products/new",element:r.jsx(et,{children:r.jsx(_d,{})})}),r.jsx(Oe,{path:"/catalog/products/:id/edit",element:r.jsx(et,{children:r.jsx(_d,{})})}),r.jsx(Oe,{path:"/catalog/import",element:r.jsx(et,{children:r.jsx(_0,{})})}),r.jsx(Oe,{path:"/admin/categories",element:r.jsx(et,{requiredRole:"admin",children:r.jsx(x0,{})})}),r.jsx(Oe,{path:"/admin/internal-categories",element:r.jsx(et,{requiredRole:"admin",children:r.jsx(C0,{})})}),r.jsx(Oe,{path:"*",element:r.jsx(fa,{to:"/"})})]})}function P0(){return r.jsx(my,{children:r.jsx(Qg,{children:r.jsx(Kg,{children:r.jsx(E0,{})})})})}Nl.createRoot(document.getElementById("root")).render(r.jsx(Et.StrictMode,{children:r.jsx(P0,{})}));
