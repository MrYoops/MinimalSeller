var iO=Object.defineProperty;var oO=(e,t,r)=>t in e?iO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var bf=(e,t,r)=>oO(e,typeof t!="symbol"?t+"":t,r);function lO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function $n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l1={exports:{}},Ku={},c1={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=Symbol.for("react.element"),cO=Symbol.for("react.portal"),dO=Symbol.for("react.fragment"),uO=Symbol.for("react.strict_mode"),mO=Symbol.for("react.profiler"),fO=Symbol.for("react.provider"),pO=Symbol.for("react.context"),xO=Symbol.for("react.forward_ref"),hO=Symbol.for("react.suspense"),yO=Symbol.for("react.memo"),gO=Symbol.for("react.lazy"),ib=Symbol.iterator;function vO(e){return e===null||typeof e!="object"?null:(e=ib&&e[ib]||e["@@iterator"],typeof e=="function"?e:null)}var d1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u1=Object.assign,m1={};function Ui(e,t,r){this.props=e,this.context=t,this.refs=m1,this.updater=r||d1}Ui.prototype.isReactComponent={};Ui.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ui.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function f1(){}f1.prototype=Ui.prototype;function Ih(e,t,r){this.props=e,this.context=t,this.refs=m1,this.updater=r||d1}var Mh=Ih.prototype=new f1;Mh.constructor=Ih;u1(Mh,Ui.prototype);Mh.isPureReactComponent=!0;var ob=Array.isArray,p1=Object.prototype.hasOwnProperty,$h={current:null},x1={key:!0,ref:!0,__self:!0,__source:!0};function h1(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)p1.call(t,n)&&!x1.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];s.children=d}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Cl,type:e,key:i,ref:o,props:s,_owner:$h.current}}function bO(e,t){return{$$typeof:Cl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cl}function jO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var lb=/\/+/g;function jf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jO(""+e.key):t.toString(36)}function td(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Cl:case cO:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+jf(o,0):n,ob(s)?(r="",e!=null&&(r=e.replace(lb,"$&/")+"/"),td(s,t,r,"",function(c){return c})):s!=null&&(Lh(s)&&(s=bO(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(lb,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",ob(e))for(var l=0;l<e.length;l++){i=e[l];var d=n+jf(i,l);o+=td(i,t,r,d,s)}else if(d=vO(e),typeof d=="function")for(e=d.call(e),l=0;!(i=e.next()).done;)i=i.value,d=n+jf(i,l++),o+=td(i,t,r,d,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function yc(e,t,r){if(e==null)return e;var n=[],s=0;return td(e,n,"","",function(i){return t.call(r,i,s++)}),n}function wO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ur={current:null},rd={transition:null},NO={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:rd,ReactCurrentOwner:$h};function y1(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:yc,forEach:function(e,t,r){yc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return yc(e,function(){t++}),t},toArray:function(e){return yc(e,function(t){return t})||[]},only:function(e){if(!Lh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Oe.Component=Ui;Oe.Fragment=dO;Oe.Profiler=mO;Oe.PureComponent=Ih;Oe.StrictMode=uO;Oe.Suspense=hO;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NO;Oe.act=y1;Oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=u1({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=$h.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)p1.call(t,d)&&!x1.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){l=Array(d);for(var c=0;c<d;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Cl,type:e.type,key:s,ref:i,props:n,_owner:o}};Oe.createContext=function(e){return e={$$typeof:pO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fO,_context:e},e.Consumer=e};Oe.createElement=h1;Oe.createFactory=function(e){var t=h1.bind(null,e);return t.type=e,t};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(e){return{$$typeof:xO,render:e}};Oe.isValidElement=Lh;Oe.lazy=function(e){return{$$typeof:gO,_payload:{_status:-1,_result:e},_init:wO}};Oe.memo=function(e,t){return{$$typeof:yO,type:e,compare:t===void 0?null:t}};Oe.startTransition=function(e){var t=rd.transition;rd.transition={};try{e()}finally{rd.transition=t}};Oe.unstable_act=y1;Oe.useCallback=function(e,t){return ur.current.useCallback(e,t)};Oe.useContext=function(e){return ur.current.useContext(e)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(e){return ur.current.useDeferredValue(e)};Oe.useEffect=function(e,t){return ur.current.useEffect(e,t)};Oe.useId=function(){return ur.current.useId()};Oe.useImperativeHandle=function(e,t,r){return ur.current.useImperativeHandle(e,t,r)};Oe.useInsertionEffect=function(e,t){return ur.current.useInsertionEffect(e,t)};Oe.useLayoutEffect=function(e,t){return ur.current.useLayoutEffect(e,t)};Oe.useMemo=function(e,t){return ur.current.useMemo(e,t)};Oe.useReducer=function(e,t,r){return ur.current.useReducer(e,t,r)};Oe.useRef=function(e){return ur.current.useRef(e)};Oe.useState=function(e){return ur.current.useState(e)};Oe.useSyncExternalStore=function(e,t,r){return ur.current.useSyncExternalStore(e,t,r)};Oe.useTransition=function(){return ur.current.useTransition()};Oe.version="18.3.1";c1.exports=Oe;var f=c1.exports;const re=$n(f),g1=lO({__proto__:null,default:re},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kO=f,_O=Symbol.for("react.element"),SO=Symbol.for("react.fragment"),CO=Object.prototype.hasOwnProperty,PO=kO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EO={key:!0,ref:!0,__self:!0,__source:!0};function v1(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)CO.call(t,n)&&!EO.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:_O,type:e,key:i,ref:o,props:s,_owner:PO.current}}Ku.Fragment=SO;Ku.jsx=v1;Ku.jsxs=v1;l1.exports=Ku;var a=l1.exports,_p={},b1={exports:{}},$r={},j1={exports:{}},w1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var z=R.length;R.push(L);e:for(;0<z;){var Q=z-1>>>1,T=R[Q];if(0<s(T,L))R[Q]=L,R[z]=T,z=Q;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var L=R[0],z=R.pop();if(z!==L){R[0]=z;e:for(var Q=0,T=R.length,Z=T>>>1;Q<Z;){var te=2*(Q+1)-1,$=R[te],Y=te+1,le=R[Y];if(0>s($,z))Y<T&&0>s(le,$)?(R[Q]=le,R[Y]=z,Q=Y):(R[Q]=$,R[te]=z,Q=te);else if(Y<T&&0>s(le,z))R[Q]=le,R[Y]=z,Q=Y;else break e}}return L}function s(R,L){var z=R.sortIndex-L.sortIndex;return z!==0?z:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],c=[],u=1,m=null,p=3,x=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(R){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=R)n(c),L.sortIndex=L.expirationTime,t(d,L);else break;L=r(c)}}function k(R){if(g=!1,j(R),!y)if(r(d)!==null)y=!0,B(S);else{var L=r(c);L!==null&&H(k,L.startTime-R)}}function S(R,L){y=!1,g&&(g=!1,h(w),w=-1),x=!0;var z=p;try{for(j(L),m=r(d);m!==null&&(!(m.expirationTime>L)||R&&!_());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,p=m.priorityLevel;var T=Q(m.expirationTime<=L);L=e.unstable_now(),typeof T=="function"?m.callback=T:m===r(d)&&n(d),j(L)}else n(d);m=r(d)}if(m!==null)var Z=!0;else{var te=r(c);te!==null&&H(k,te.startTime-L),Z=!1}return Z}finally{m=null,p=z,x=!1}}var N=!1,P=null,w=-1,C=5,O=-1;function _(){return!(e.unstable_now()-O<C)}function E(){if(P!==null){var R=e.unstable_now();O=R;var L=!0;try{L=P(!0,R)}finally{L?I():(N=!1,P=null)}}else N=!1}var I;if(typeof b=="function")I=function(){b(E)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,M=A.port2;A.port1.onmessage=E,I=function(){M.postMessage(null)}}else I=function(){v(E,0)};function B(R){P=R,N||(N=!0,I())}function H(R,L){w=v(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||x||(y=!0,B(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var z=p;p=L;try{return R()}finally{p=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=p;p=R;try{return L()}finally{p=z}},e.unstable_scheduleCallback=function(R,L,z){var Q=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,R){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=z+T,R={id:u++,callback:L,priorityLevel:R,startTime:z,expirationTime:T,sortIndex:-1},z>Q?(R.sortIndex=z,t(c,R),r(d)===null&&R===r(c)&&(g?(h(w),w=-1):g=!0,H(k,z-Q))):(R.sortIndex=T,t(d,R),y||x||(y=!0,B(S))),R},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(R){var L=p;return function(){var z=p;p=L;try{return R.apply(this,arguments)}finally{p=z}}}})(w1);j1.exports=w1;var OO=j1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO=f,Tr=OO;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N1=new Set,Vo={};function Fs(e,t){bi(e,t),bi(e+"Capture",t)}function bi(e,t){for(Vo[e]=t,e=0;e<t.length;e++)N1.add(t[e])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sp=Object.prototype.hasOwnProperty,TO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cb={},db={};function DO(e){return Sp.call(db,e)?!0:Sp.call(cb,e)?!1:TO.test(e)?db[e]=!0:(cb[e]=!0,!1)}function IO(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function MO(e,t,r,n){if(t===null||typeof t>"u"||IO(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qt[e]=new mr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qt[t]=new mr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qt[e]=new mr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qt[e]=new mr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qt[e]=new mr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qt[e]=new mr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qt[e]=new mr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qt[e]=new mr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qt[e]=new mr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rh=/[\-:]([a-z])/g;function zh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rh,zh);qt[t]=new mr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rh,zh);qt[t]=new mr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rh,zh);qt[t]=new mr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qt[e]=new mr(e,1,!1,e.toLowerCase(),null,!1,!1)});qt.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qt[e]=new mr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fh(e,t,r,n){var s=qt.hasOwnProperty(t)?qt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(MO(t,r,s,n)&&(r=null),n||s===null?DO(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var da=AO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gc=Symbol.for("react.element"),Zs=Symbol.for("react.portal"),Js=Symbol.for("react.fragment"),Bh=Symbol.for("react.strict_mode"),Cp=Symbol.for("react.profiler"),k1=Symbol.for("react.provider"),_1=Symbol.for("react.context"),Uh=Symbol.for("react.forward_ref"),Pp=Symbol.for("react.suspense"),Ep=Symbol.for("react.suspense_list"),Wh=Symbol.for("react.memo"),ja=Symbol.for("react.lazy"),S1=Symbol.for("react.offscreen"),ub=Symbol.iterator;function lo(e){return e===null||typeof e!="object"?null:(e=ub&&e[ub]||e["@@iterator"],typeof e=="function"?e:null)}var it=Object.assign,wf;function Co(e){if(wf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);wf=t&&t[1]||""}return`
`+wf+e}var Nf=!1;function kf(e,t){if(!e||Nf)return"";Nf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var d=`
`+s[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=l);break}}}finally{Nf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Co(e):""}function $O(e){switch(e.tag){case 5:return Co(e.type);case 16:return Co("Lazy");case 13:return Co("Suspense");case 19:return Co("SuspenseList");case 0:case 2:case 15:return e=kf(e.type,!1),e;case 11:return e=kf(e.type.render,!1),e;case 1:return e=kf(e.type,!0),e;default:return""}}function Op(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Js:return"Fragment";case Zs:return"Portal";case Cp:return"Profiler";case Bh:return"StrictMode";case Pp:return"Suspense";case Ep:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _1:return(e.displayName||"Context")+".Consumer";case k1:return(e._context.displayName||"Context")+".Provider";case Uh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wh:return t=e.displayName||null,t!==null?t:Op(e.type)||"Memo";case ja:t=e._payload,e=e._init;try{return Op(e(t))}catch{}}return null}function LO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Op(t);case 8:return t===Bh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ua(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function C1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RO(e){var t=C1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vc(e){e._valueTracker||(e._valueTracker=RO(e))}function P1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=C1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function kd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ap(e,t){var r=t.checked;return it({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function mb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ua(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function E1(e,t){t=t.checked,t!=null&&Fh(e,"checked",t,!1)}function Tp(e,t){E1(e,t);var r=Ua(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Dp(e,t.type,Ua(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Dp(e,t,r){(t!=="number"||kd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Po=Array.isArray;function mi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ua(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ip(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return it({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ne(92));if(Po(r)){if(1<r.length)throw Error(ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ua(r)}}function O1(e,t){var r=Ua(t.value),n=Ua(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function A1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?A1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bc,T1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bc=bc||document.createElement("div"),bc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zO=["Webkit","ms","Moz","O"];Object.keys(Io).forEach(function(e){zO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Io[t]=Io[e]})});function D1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Io.hasOwnProperty(e)&&Io[e]?(""+t).trim():t+"px"}function I1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=D1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var FO=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $p(e,t){if(t){if(FO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function Lp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rp=null;function Kh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zp=null,fi=null,pi=null;function hb(e){if(e=Ol(e)){if(typeof zp!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Gu(t),zp(e.stateNode,e.type,t))}}function M1(e){fi?pi?pi.push(e):pi=[e]:fi=e}function $1(){if(fi){var e=fi,t=pi;if(pi=fi=null,hb(e),t)for(e=0;e<t.length;e++)hb(t[e])}}function L1(e,t){return e(t)}function R1(){}var _f=!1;function z1(e,t,r){if(_f)return e(t,r);_f=!0;try{return L1(e,t,r)}finally{_f=!1,(fi!==null||pi!==null)&&(R1(),$1())}}function Yo(e,t){var r=e.stateNode;if(r===null)return null;var n=Gu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,t,typeof r));return r}var Fp=!1;if(Xn)try{var co={};Object.defineProperty(co,"passive",{get:function(){Fp=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{Fp=!1}function BO(e,t,r,n,s,i,o,l,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Mo=!1,_d=null,Sd=!1,Bp=null,UO={onError:function(e){Mo=!0,_d=e}};function WO(e,t,r,n,s,i,o,l,d){Mo=!1,_d=null,BO.apply(UO,arguments)}function KO(e,t,r,n,s,i,o,l,d){if(WO.apply(this,arguments),Mo){if(Mo){var c=_d;Mo=!1,_d=null}else throw Error(ne(198));Sd||(Sd=!0,Bp=c)}}function Bs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function F1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yb(e){if(Bs(e)!==e)throw Error(ne(188))}function HO(e){var t=e.alternate;if(!t){if(t=Bs(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return yb(s),e;if(i===n)return yb(s),t;i=i.sibling}throw Error(ne(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:t}function B1(e){return e=HO(e),e!==null?U1(e):null}function U1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=U1(e);if(t!==null)return t;e=e.sibling}return null}var W1=Tr.unstable_scheduleCallback,gb=Tr.unstable_cancelCallback,VO=Tr.unstable_shouldYield,qO=Tr.unstable_requestPaint,ft=Tr.unstable_now,YO=Tr.unstable_getCurrentPriorityLevel,Hh=Tr.unstable_ImmediatePriority,K1=Tr.unstable_UserBlockingPriority,Cd=Tr.unstable_NormalPriority,GO=Tr.unstable_LowPriority,H1=Tr.unstable_IdlePriority,Hu=null,En=null;function XO(e){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Hu,e,void 0,(e.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:JO,QO=Math.log,ZO=Math.LN2;function JO(e){return e>>>=0,e===0?32:31-(QO(e)/ZO|0)|0}var jc=64,wc=4194304;function Eo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Eo(l):(i&=o,i!==0&&(n=Eo(i)))}else o=r&~s,o!==0?n=Eo(o):i!==0&&(n=Eo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fn(t),s=1<<r,n|=e[r],t&=~s;return n}function eA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-fn(i),l=1<<o,d=s[o];d===-1?(!(l&r)||l&n)&&(s[o]=eA(l,t)):d<=t&&(e.expiredLanes|=l),i&=~l}}function Up(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function V1(){var e=jc;return jc<<=1,!(jc&4194240)&&(jc=64),e}function Sf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fn(t),e[t]=r}function rA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-fn(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Vh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ue=0;function q1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Y1,qh,G1,X1,Q1,Wp=!1,Nc=[],Aa=null,Ta=null,Da=null,Go=new Map,Xo=new Map,_a=[],nA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vb(e,t){switch(e){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":Go.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(t.pointerId)}}function uo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ol(t),t!==null&&qh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function aA(e,t,r,n,s){switch(t){case"focusin":return Aa=uo(Aa,e,t,r,n,s),!0;case"dragenter":return Ta=uo(Ta,e,t,r,n,s),!0;case"mouseover":return Da=uo(Da,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Go.set(i,uo(Go.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Xo.set(i,uo(Xo.get(i)||null,e,t,r,n,s)),!0}return!1}function Z1(e){var t=fs(e.target);if(t!==null){var r=Bs(t);if(r!==null){if(t=r.tag,t===13){if(t=F1(r),t!==null){e.blockedOn=t,Q1(e.priority,function(){G1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Rp=n,r.target.dispatchEvent(n),Rp=null}else return t=Ol(r),t!==null&&qh(t),e.blockedOn=r,!1;t.shift()}return!0}function bb(e,t,r){nd(e)&&r.delete(t)}function sA(){Wp=!1,Aa!==null&&nd(Aa)&&(Aa=null),Ta!==null&&nd(Ta)&&(Ta=null),Da!==null&&nd(Da)&&(Da=null),Go.forEach(bb),Xo.forEach(bb)}function mo(e,t){e.blockedOn===t&&(e.blockedOn=null,Wp||(Wp=!0,Tr.unstable_scheduleCallback(Tr.unstable_NormalPriority,sA)))}function Qo(e){function t(s){return mo(s,e)}if(0<Nc.length){mo(Nc[0],e);for(var r=1;r<Nc.length;r++){var n=Nc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Aa!==null&&mo(Aa,e),Ta!==null&&mo(Ta,e),Da!==null&&mo(Da,e),Go.forEach(t),Xo.forEach(t),r=0;r<_a.length;r++)n=_a[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<_a.length&&(r=_a[0],r.blockedOn===null);)Z1(r),r.blockedOn===null&&_a.shift()}var xi=da.ReactCurrentBatchConfig,Ed=!0;function iA(e,t,r,n){var s=Ue,i=xi.transition;xi.transition=null;try{Ue=1,Yh(e,t,r,n)}finally{Ue=s,xi.transition=i}}function oA(e,t,r,n){var s=Ue,i=xi.transition;xi.transition=null;try{Ue=4,Yh(e,t,r,n)}finally{Ue=s,xi.transition=i}}function Yh(e,t,r,n){if(Ed){var s=Kp(e,t,r,n);if(s===null)$f(e,t,n,Od,r),vb(e,n);else if(aA(s,e,t,r,n))n.stopPropagation();else if(vb(e,n),t&4&&-1<nA.indexOf(e)){for(;s!==null;){var i=Ol(s);if(i!==null&&Y1(i),i=Kp(e,t,r,n),i===null&&$f(e,t,n,Od,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else $f(e,t,n,null,r)}}var Od=null;function Kp(e,t,r,n){if(Od=null,e=Kh(n),e=fs(e),e!==null)if(t=Bs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=F1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Od=e,null}function J1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YO()){case Hh:return 1;case K1:return 4;case Cd:case GO:return 16;case H1:return 536870912;default:return 16}default:return 16}}var Pa=null,Gh=null,ad=null;function e2(){if(ad)return ad;var e,t=Gh,r=t.length,n,s="value"in Pa?Pa.value:Pa.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return ad=s.slice(e,1<n?1-n:void 0)}function sd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kc(){return!0}function jb(){return!1}function Lr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?kc:jb,this.isPropagationStopped=jb,this}return it(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),t}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xh=Lr(Wi),El=it({},Wi,{view:0,detail:0}),lA=Lr(El),Cf,Pf,fo,Vu=it({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fo&&(fo&&e.type==="mousemove"?(Cf=e.screenX-fo.screenX,Pf=e.screenY-fo.screenY):Pf=Cf=0,fo=e),Cf)},movementY:function(e){return"movementY"in e?e.movementY:Pf}}),wb=Lr(Vu),cA=it({},Vu,{dataTransfer:0}),dA=Lr(cA),uA=it({},El,{relatedTarget:0}),Ef=Lr(uA),mA=it({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),fA=Lr(mA),pA=it({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xA=Lr(pA),hA=it({},Wi,{data:0}),Nb=Lr(hA),yA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vA[e])?!!t[e]:!1}function Qh(){return bA}var jA=it({},El,{key:function(e){if(e.key){var t=yA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qh,charCode:function(e){return e.type==="keypress"?sd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wA=Lr(jA),NA=it({},Vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kb=Lr(NA),kA=it({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qh}),_A=Lr(kA),SA=it({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),CA=Lr(SA),PA=it({},Vu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EA=Lr(PA),OA=[9,13,27,32],Zh=Xn&&"CompositionEvent"in window,$o=null;Xn&&"documentMode"in document&&($o=document.documentMode);var AA=Xn&&"TextEvent"in window&&!$o,t2=Xn&&(!Zh||$o&&8<$o&&11>=$o),_b=" ",Sb=!1;function r2(e,t){switch(e){case"keyup":return OA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ei=!1;function TA(e,t){switch(e){case"compositionend":return n2(t);case"keypress":return t.which!==32?null:(Sb=!0,_b);case"textInput":return e=t.data,e===_b&&Sb?null:e;default:return null}}function DA(e,t){if(ei)return e==="compositionend"||!Zh&&r2(e,t)?(e=e2(),ad=Gh=Pa=null,ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return t2&&t.locale!=="ko"?null:t.data;default:return null}}var IA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!IA[e.type]:t==="textarea"}function a2(e,t,r,n){M1(n),t=Ad(t,"onChange"),0<t.length&&(r=new Xh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Lo=null,Zo=null;function MA(e){x2(e,0)}function qu(e){var t=ni(e);if(P1(t))return e}function $A(e,t){if(e==="change")return t}var s2=!1;if(Xn){var Of;if(Xn){var Af="oninput"in document;if(!Af){var Pb=document.createElement("div");Pb.setAttribute("oninput","return;"),Af=typeof Pb.oninput=="function"}Of=Af}else Of=!1;s2=Of&&(!document.documentMode||9<document.documentMode)}function Eb(){Lo&&(Lo.detachEvent("onpropertychange",i2),Zo=Lo=null)}function i2(e){if(e.propertyName==="value"&&qu(Zo)){var t=[];a2(t,Zo,e,Kh(e)),z1(MA,t)}}function LA(e,t,r){e==="focusin"?(Eb(),Lo=t,Zo=r,Lo.attachEvent("onpropertychange",i2)):e==="focusout"&&Eb()}function RA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qu(Zo)}function zA(e,t){if(e==="click")return qu(t)}function FA(e,t){if(e==="input"||e==="change")return qu(t)}function BA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hn=typeof Object.is=="function"?Object.is:BA;function Jo(e,t){if(hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Sp.call(t,s)||!hn(e[s],t[s]))return!1}return!0}function Ob(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ab(e,t){var r=Ob(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ob(r)}}function o2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?o2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function l2(){for(var e=window,t=kd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=kd(e.document)}return t}function Jh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UA(e){var t=l2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&o2(r.ownerDocument.documentElement,r)){if(n!==null&&Jh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Ab(r,i);var o=Ab(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WA=Xn&&"documentMode"in document&&11>=document.documentMode,ti=null,Hp=null,Ro=null,Vp=!1;function Tb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vp||ti==null||ti!==kd(n)||(n=ti,"selectionStart"in n&&Jh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ro&&Jo(Ro,n)||(Ro=n,n=Ad(Hp,"onSelect"),0<n.length&&(t=new Xh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ti)))}function _c(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ri={animationend:_c("Animation","AnimationEnd"),animationiteration:_c("Animation","AnimationIteration"),animationstart:_c("Animation","AnimationStart"),transitionend:_c("Transition","TransitionEnd")},Tf={},c2={};Xn&&(c2=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function Yu(e){if(Tf[e])return Tf[e];if(!ri[e])return e;var t=ri[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in c2)return Tf[e]=t[r];return e}var d2=Yu("animationend"),u2=Yu("animationiteration"),m2=Yu("animationstart"),f2=Yu("transitionend"),p2=new Map,Db="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qa(e,t){p2.set(e,t),Fs(t,[e])}for(var Df=0;Df<Db.length;Df++){var If=Db[Df],KA=If.toLowerCase(),HA=If[0].toUpperCase()+If.slice(1);Qa(KA,"on"+HA)}Qa(d2,"onAnimationEnd");Qa(u2,"onAnimationIteration");Qa(m2,"onAnimationStart");Qa("dblclick","onDoubleClick");Qa("focusin","onFocus");Qa("focusout","onBlur");Qa(f2,"onTransitionEnd");bi("onMouseEnter",["mouseout","mouseover"]);bi("onMouseLeave",["mouseout","mouseover"]);bi("onPointerEnter",["pointerout","pointerover"]);bi("onPointerLeave",["pointerout","pointerover"]);Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oo));function Ib(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,KO(n,t,void 0,e),e.currentTarget=null}function x2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],d=l.instance,c=l.currentTarget;if(l=l.listener,d!==i&&s.isPropagationStopped())break e;Ib(s,l,c),i=d}else for(o=0;o<n.length;o++){if(l=n[o],d=l.instance,c=l.currentTarget,l=l.listener,d!==i&&s.isPropagationStopped())break e;Ib(s,l,c),i=d}}}if(Sd)throw e=Bp,Sd=!1,Bp=null,e}function Ge(e,t){var r=t[Qp];r===void 0&&(r=t[Qp]=new Set);var n=e+"__bubble";r.has(n)||(h2(t,e,2,!1),r.add(n))}function Mf(e,t,r){var n=0;t&&(n|=4),h2(r,e,n,t)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function el(e){if(!e[Sc]){e[Sc]=!0,N1.forEach(function(r){r!=="selectionchange"&&(VA.has(r)||Mf(r,!1,e),Mf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sc]||(t[Sc]=!0,Mf("selectionchange",!1,t))}}function h2(e,t,r,n){switch(J1(t)){case 1:var s=iA;break;case 4:s=oA;break;default:s=Yh}r=s.bind(null,t,r,e),s=void 0,!Fp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function $f(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;o=o.return}for(;l!==null;){if(o=fs(l),o===null)return;if(d=o.tag,d===5||d===6){n=i=o;continue e}l=l.parentNode}}n=n.return}z1(function(){var c=i,u=Kh(r),m=[];e:{var p=p2.get(e);if(p!==void 0){var x=Xh,y=e;switch(e){case"keypress":if(sd(r)===0)break e;case"keydown":case"keyup":x=wA;break;case"focusin":y="focus",x=Ef;break;case"focusout":y="blur",x=Ef;break;case"beforeblur":case"afterblur":x=Ef;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=wb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=dA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=_A;break;case d2:case u2:case m2:x=fA;break;case f2:x=CA;break;case"scroll":x=lA;break;case"wheel":x=EA;break;case"copy":case"cut":case"paste":x=xA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=kb}var g=(t&4)!==0,v=!g&&e==="scroll",h=g?p!==null?p+"Capture":null:p;g=[];for(var b=c,j;b!==null;){j=b;var k=j.stateNode;if(j.tag===5&&k!==null&&(j=k,h!==null&&(k=Yo(b,h),k!=null&&g.push(tl(b,k,j)))),v)break;b=b.return}0<g.length&&(p=new x(p,y,null,r,u),m.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&r!==Rp&&(y=r.relatedTarget||r.fromElement)&&(fs(y)||y[Qn]))break e;if((x||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,x?(y=r.relatedTarget||r.toElement,x=c,y=y?fs(y):null,y!==null&&(v=Bs(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=c),x!==y)){if(g=wb,k="onMouseLeave",h="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=kb,k="onPointerLeave",h="onPointerEnter",b="pointer"),v=x==null?p:ni(x),j=y==null?p:ni(y),p=new g(k,b+"leave",x,r,u),p.target=v,p.relatedTarget=j,k=null,fs(u)===c&&(g=new g(h,b+"enter",y,r,u),g.target=j,g.relatedTarget=v,k=g),v=k,x&&y)t:{for(g=x,h=y,b=0,j=g;j;j=Vs(j))b++;for(j=0,k=h;k;k=Vs(k))j++;for(;0<b-j;)g=Vs(g),b--;for(;0<j-b;)h=Vs(h),j--;for(;b--;){if(g===h||h!==null&&g===h.alternate)break t;g=Vs(g),h=Vs(h)}g=null}else g=null;x!==null&&Mb(m,p,x,g,!1),y!==null&&v!==null&&Mb(m,v,y,g,!0)}}e:{if(p=c?ni(c):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var S=$A;else if(Cb(p))if(s2)S=FA;else{S=RA;var N=LA}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=zA);if(S&&(S=S(e,c))){a2(m,S,r,u);break e}N&&N(e,p,c),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Dp(p,"number",p.value)}switch(N=c?ni(c):window,e){case"focusin":(Cb(N)||N.contentEditable==="true")&&(ti=N,Hp=c,Ro=null);break;case"focusout":Ro=Hp=ti=null;break;case"mousedown":Vp=!0;break;case"contextmenu":case"mouseup":case"dragend":Vp=!1,Tb(m,r,u);break;case"selectionchange":if(WA)break;case"keydown":case"keyup":Tb(m,r,u)}var P;if(Zh)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ei?r2(e,r)&&(w="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(t2&&r.locale!=="ko"&&(ei||w!=="onCompositionStart"?w==="onCompositionEnd"&&ei&&(P=e2()):(Pa=u,Gh="value"in Pa?Pa.value:Pa.textContent,ei=!0)),N=Ad(c,w),0<N.length&&(w=new Nb(w,e,null,r,u),m.push({event:w,listeners:N}),P?w.data=P:(P=n2(r),P!==null&&(w.data=P)))),(P=AA?TA(e,r):DA(e,r))&&(c=Ad(c,"onBeforeInput"),0<c.length&&(u=new Nb("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:c}),u.data=P))}x2(m,t)})}function tl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ad(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Yo(e,r),i!=null&&n.unshift(tl(e,i,s)),i=Yo(e,t),i!=null&&n.push(tl(e,i,s))),e=e.return}return n}function Vs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mb(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,d=l.alternate,c=l.stateNode;if(d!==null&&d===n)break;l.tag===5&&c!==null&&(l=c,s?(d=Yo(r,i),d!=null&&o.unshift(tl(r,d,l))):s||(d=Yo(r,i),d!=null&&o.push(tl(r,d,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var qA=/\r\n?/g,YA=/\u0000|\uFFFD/g;function $b(e){return(typeof e=="string"?e:""+e).replace(qA,`
`).replace(YA,"")}function Cc(e,t,r){if(t=$b(t),$b(e)!==t&&r)throw Error(ne(425))}function Td(){}var qp=null,Yp=null;function Gp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xp=typeof setTimeout=="function"?setTimeout:void 0,GA=typeof clearTimeout=="function"?clearTimeout:void 0,Lb=typeof Promise=="function"?Promise:void 0,XA=typeof queueMicrotask=="function"?queueMicrotask:typeof Lb<"u"?function(e){return Lb.resolve(null).then(e).catch(QA)}:Xp;function QA(e){setTimeout(function(){throw e})}function Lf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Qo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Qo(t)}function Ia(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),Cn="__reactFiber$"+Ki,rl="__reactProps$"+Ki,Qn="__reactContainer$"+Ki,Qp="__reactEvents$"+Ki,ZA="__reactListeners$"+Ki,JA="__reactHandles$"+Ki;function fs(e){var t=e[Cn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qn]||r[Cn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Rb(e);e!==null;){if(r=e[Cn])return r;e=Rb(e)}return t}e=r,r=e.parentNode}return null}function Ol(e){return e=e[Cn]||e[Qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Gu(e){return e[rl]||null}var Zp=[],ai=-1;function Za(e){return{current:e}}function Qe(e){0>ai||(e.current=Zp[ai],Zp[ai]=null,ai--)}function qe(e,t){ai++,Zp[ai]=e.current,e.current=t}var Wa={},rr=Za(Wa),gr=Za(!1),Cs=Wa;function ji(e,t){var r=e.type.contextTypes;if(!r)return Wa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function vr(e){return e=e.childContextTypes,e!=null}function Dd(){Qe(gr),Qe(rr)}function zb(e,t,r){if(rr.current!==Wa)throw Error(ne(168));qe(rr,t),qe(gr,r)}function y2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ne(108,LO(e)||"Unknown",s));return it({},r,n)}function Id(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wa,Cs=rr.current,qe(rr,e),qe(gr,gr.current),!0}function Fb(e,t,r){var n=e.stateNode;if(!n)throw Error(ne(169));r?(e=y2(e,t,Cs),n.__reactInternalMemoizedMergedChildContext=e,Qe(gr),Qe(rr),qe(rr,e)):Qe(gr),qe(gr,r)}var zn=null,Xu=!1,Rf=!1;function g2(e){zn===null?zn=[e]:zn.push(e)}function e3(e){Xu=!0,g2(e)}function Ja(){if(!Rf&&zn!==null){Rf=!0;var e=0,t=Ue;try{var r=zn;for(Ue=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}zn=null,Xu=!1}catch(s){throw zn!==null&&(zn=zn.slice(e+1)),W1(Hh,Ja),s}finally{Ue=t,Rf=!1}}return null}var si=[],ii=0,Md=null,$d=0,Kr=[],Hr=0,Ps=null,Wn=1,Kn="";function ls(e,t){si[ii++]=$d,si[ii++]=Md,Md=e,$d=t}function v2(e,t,r){Kr[Hr++]=Wn,Kr[Hr++]=Kn,Kr[Hr++]=Ps,Ps=e;var n=Wn;e=Kn;var s=32-fn(n)-1;n&=~(1<<s),r+=1;var i=32-fn(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Wn=1<<32-fn(t)+s|r<<s|n,Kn=i+e}else Wn=1<<i|r<<s|n,Kn=e}function ey(e){e.return!==null&&(ls(e,1),v2(e,1,0))}function ty(e){for(;e===Md;)Md=si[--ii],si[ii]=null,$d=si[--ii],si[ii]=null;for(;e===Ps;)Ps=Kr[--Hr],Kr[Hr]=null,Kn=Kr[--Hr],Kr[Hr]=null,Wn=Kr[--Hr],Kr[Hr]=null}var Or=null,Pr=null,et=!1,cn=null;function b2(e,t){var r=Vr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Bb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Or=e,Pr=Ia(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Or=e,Pr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ps!==null?{id:Wn,overflow:Kn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Vr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Or=e,Pr=null,!0):!1;default:return!1}}function Jp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ex(e){if(et){var t=Pr;if(t){var r=t;if(!Bb(e,t)){if(Jp(e))throw Error(ne(418));t=Ia(r.nextSibling);var n=Or;t&&Bb(e,t)?b2(n,r):(e.flags=e.flags&-4097|2,et=!1,Or=e)}}else{if(Jp(e))throw Error(ne(418));e.flags=e.flags&-4097|2,et=!1,Or=e}}}function Ub(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Or=e}function Pc(e){if(e!==Or)return!1;if(!et)return Ub(e),et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gp(e.type,e.memoizedProps)),t&&(t=Pr)){if(Jp(e))throw j2(),Error(ne(418));for(;t;)b2(e,t),t=Ia(t.nextSibling)}if(Ub(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Pr=Ia(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Pr=null}}else Pr=Or?Ia(e.stateNode.nextSibling):null;return!0}function j2(){for(var e=Pr;e;)e=Ia(e.nextSibling)}function wi(){Pr=Or=null,et=!1}function ry(e){cn===null?cn=[e]:cn.push(e)}var t3=da.ReactCurrentBatchConfig;function po(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function Ec(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wb(e){var t=e._init;return t(e._payload)}function w2(e){function t(h,b){if(e){var j=h.deletions;j===null?(h.deletions=[b],h.flags|=16):j.push(b)}}function r(h,b){if(!e)return null;for(;b!==null;)t(h,b),b=b.sibling;return null}function n(h,b){for(h=new Map;b!==null;)b.key!==null?h.set(b.key,b):h.set(b.index,b),b=b.sibling;return h}function s(h,b){return h=Ra(h,b),h.index=0,h.sibling=null,h}function i(h,b,j){return h.index=j,e?(j=h.alternate,j!==null?(j=j.index,j<b?(h.flags|=2,b):j):(h.flags|=2,b)):(h.flags|=1048576,b)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,b,j,k){return b===null||b.tag!==6?(b=Hf(j,h.mode,k),b.return=h,b):(b=s(b,j),b.return=h,b)}function d(h,b,j,k){var S=j.type;return S===Js?u(h,b,j.props.children,k,j.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ja&&Wb(S)===b.type)?(k=s(b,j.props),k.ref=po(h,b,j),k.return=h,k):(k=md(j.type,j.key,j.props,null,h.mode,k),k.ref=po(h,b,j),k.return=h,k)}function c(h,b,j,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=Vf(j,h.mode,k),b.return=h,b):(b=s(b,j.children||[]),b.return=h,b)}function u(h,b,j,k,S){return b===null||b.tag!==7?(b=js(j,h.mode,k,S),b.return=h,b):(b=s(b,j),b.return=h,b)}function m(h,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Hf(""+b,h.mode,j),b.return=h,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gc:return j=md(b.type,b.key,b.props,null,h.mode,j),j.ref=po(h,null,b),j.return=h,j;case Zs:return b=Vf(b,h.mode,j),b.return=h,b;case ja:var k=b._init;return m(h,k(b._payload),j)}if(Po(b)||lo(b))return b=js(b,h.mode,j,null),b.return=h,b;Ec(h,b)}return null}function p(h,b,j,k){var S=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return S!==null?null:l(h,b,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gc:return j.key===S?d(h,b,j,k):null;case Zs:return j.key===S?c(h,b,j,k):null;case ja:return S=j._init,p(h,b,S(j._payload),k)}if(Po(j)||lo(j))return S!==null?null:u(h,b,j,k,null);Ec(h,j)}return null}function x(h,b,j,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return h=h.get(j)||null,l(b,h,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case gc:return h=h.get(k.key===null?j:k.key)||null,d(b,h,k,S);case Zs:return h=h.get(k.key===null?j:k.key)||null,c(b,h,k,S);case ja:var N=k._init;return x(h,b,j,N(k._payload),S)}if(Po(k)||lo(k))return h=h.get(j)||null,u(b,h,k,S,null);Ec(b,k)}return null}function y(h,b,j,k){for(var S=null,N=null,P=b,w=b=0,C=null;P!==null&&w<j.length;w++){P.index>w?(C=P,P=null):C=P.sibling;var O=p(h,P,j[w],k);if(O===null){P===null&&(P=C);break}e&&P&&O.alternate===null&&t(h,P),b=i(O,b,w),N===null?S=O:N.sibling=O,N=O,P=C}if(w===j.length)return r(h,P),et&&ls(h,w),S;if(P===null){for(;w<j.length;w++)P=m(h,j[w],k),P!==null&&(b=i(P,b,w),N===null?S=P:N.sibling=P,N=P);return et&&ls(h,w),S}for(P=n(h,P);w<j.length;w++)C=x(P,h,w,j[w],k),C!==null&&(e&&C.alternate!==null&&P.delete(C.key===null?w:C.key),b=i(C,b,w),N===null?S=C:N.sibling=C,N=C);return e&&P.forEach(function(_){return t(h,_)}),et&&ls(h,w),S}function g(h,b,j,k){var S=lo(j);if(typeof S!="function")throw Error(ne(150));if(j=S.call(j),j==null)throw Error(ne(151));for(var N=S=null,P=b,w=b=0,C=null,O=j.next();P!==null&&!O.done;w++,O=j.next()){P.index>w?(C=P,P=null):C=P.sibling;var _=p(h,P,O.value,k);if(_===null){P===null&&(P=C);break}e&&P&&_.alternate===null&&t(h,P),b=i(_,b,w),N===null?S=_:N.sibling=_,N=_,P=C}if(O.done)return r(h,P),et&&ls(h,w),S;if(P===null){for(;!O.done;w++,O=j.next())O=m(h,O.value,k),O!==null&&(b=i(O,b,w),N===null?S=O:N.sibling=O,N=O);return et&&ls(h,w),S}for(P=n(h,P);!O.done;w++,O=j.next())O=x(P,h,w,O.value,k),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?w:O.key),b=i(O,b,w),N===null?S=O:N.sibling=O,N=O);return e&&P.forEach(function(E){return t(h,E)}),et&&ls(h,w),S}function v(h,b,j,k){if(typeof j=="object"&&j!==null&&j.type===Js&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case gc:e:{for(var S=j.key,N=b;N!==null;){if(N.key===S){if(S=j.type,S===Js){if(N.tag===7){r(h,N.sibling),b=s(N,j.props.children),b.return=h,h=b;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ja&&Wb(S)===N.type){r(h,N.sibling),b=s(N,j.props),b.ref=po(h,N,j),b.return=h,h=b;break e}r(h,N);break}else t(h,N);N=N.sibling}j.type===Js?(b=js(j.props.children,h.mode,k,j.key),b.return=h,h=b):(k=md(j.type,j.key,j.props,null,h.mode,k),k.ref=po(h,b,j),k.return=h,h=k)}return o(h);case Zs:e:{for(N=j.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(h,b.sibling),b=s(b,j.children||[]),b.return=h,h=b;break e}else{r(h,b);break}else t(h,b);b=b.sibling}b=Vf(j,h.mode,k),b.return=h,h=b}return o(h);case ja:return N=j._init,v(h,b,N(j._payload),k)}if(Po(j))return y(h,b,j,k);if(lo(j))return g(h,b,j,k);Ec(h,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(h,b.sibling),b=s(b,j),b.return=h,h=b):(r(h,b),b=Hf(j,h.mode,k),b.return=h,h=b),o(h)):r(h,b)}return v}var Ni=w2(!0),N2=w2(!1),Ld=Za(null),Rd=null,oi=null,ny=null;function ay(){ny=oi=Rd=null}function sy(e){var t=Ld.current;Qe(Ld),e._currentValue=t}function tx(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function hi(e,t){Rd=e,ny=oi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hr=!0),e.firstContext=null)}function Gr(e){var t=e._currentValue;if(ny!==e)if(e={context:e,memoizedValue:t,next:null},oi===null){if(Rd===null)throw Error(ne(308));oi=e,Rd.dependencies={lanes:0,firstContext:e}}else oi=oi.next=e;return t}var ps=null;function iy(e){ps===null?ps=[e]:ps.push(e)}function k2(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,iy(t)):(r.next=s.next,s.next=r),t.interleaved=r,Zn(e,n)}function Zn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wa=!1;function oy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Zn(e,r)}return s=n.interleaved,s===null?(t.next=t,iy(n)):(t.next=s.next,s.next=t),n.interleaved=t,Zn(e,r)}function id(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vh(e,r)}}function Kb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zd(e,t,r,n){var s=e.updateQueue;wa=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var d=l,c=d.next;d.next=null,o===null?i=c:o.next=c,o=d;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=d))}if(i!==null){var m=s.baseState;o=0,u=c=d=null,l=i;do{var p=l.lane,x=l.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(p=t,x=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){m=y.call(x,m,p);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(x,m,p):y,p==null)break e;m=it({},m,p);break e;case 2:wa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else x={eventTime:x,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=x,d=m):u=u.next=x,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(d=m),s.baseState=d,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Os|=o,e.lanes=o,e.memoizedState=m}}function Hb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ne(191,s));s.call(n)}}}var Al={},On=Za(Al),nl=Za(Al),al=Za(Al);function xs(e){if(e===Al)throw Error(ne(174));return e}function ly(e,t){switch(qe(al,t),qe(nl,e),qe(On,Al),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mp(t,e)}Qe(On),qe(On,t)}function ki(){Qe(On),Qe(nl),Qe(al)}function S2(e){xs(al.current);var t=xs(On.current),r=Mp(t,e.type);t!==r&&(qe(nl,e),qe(On,r))}function cy(e){nl.current===e&&(Qe(On),Qe(nl))}var at=Za(0);function Fd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zf=[];function dy(){for(var e=0;e<zf.length;e++)zf[e]._workInProgressVersionPrimary=null;zf.length=0}var od=da.ReactCurrentDispatcher,Ff=da.ReactCurrentBatchConfig,Es=0,st=null,St=null,$t=null,Bd=!1,zo=!1,sl=0,r3=0;function Yt(){throw Error(ne(321))}function uy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!hn(e[r],t[r]))return!1;return!0}function my(e,t,r,n,s,i){if(Es=i,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,od.current=e===null||e.memoizedState===null?i3:o3,e=r(n,s),zo){i=0;do{if(zo=!1,sl=0,25<=i)throw Error(ne(301));i+=1,$t=St=null,t.updateQueue=null,od.current=l3,e=r(n,s)}while(zo)}if(od.current=Ud,t=St!==null&&St.next!==null,Es=0,$t=St=st=null,Bd=!1,t)throw Error(ne(300));return e}function fy(){var e=sl!==0;return sl=0,e}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?st.memoizedState=$t=e:$t=$t.next=e,$t}function Xr(){if(St===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=$t===null?st.memoizedState:$t.next;if(t!==null)$t=t,St=e;else{if(e===null)throw Error(ne(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},$t===null?st.memoizedState=$t=e:$t=$t.next=e}return $t}function il(e,t){return typeof t=="function"?t(e):t}function Bf(e){var t=Xr(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=St,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,d=null,c=i;do{var u=c.lane;if((Es&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var m={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(l=d=m,o=n):d=d.next=m,st.lanes|=u,Os|=u}c=c.next}while(c!==null&&c!==i);d===null?o=n:d.next=l,hn(n,t.memoizedState)||(hr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,st.lanes|=i,Os|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Uf(e){var t=Xr(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);hn(i,t.memoizedState)||(hr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function C2(){}function P2(e,t){var r=st,n=Xr(),s=t(),i=!hn(n.memoizedState,s);if(i&&(n.memoizedState=s,hr=!0),n=n.queue,py(A2.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||$t!==null&&$t.memoizedState.tag&1){if(r.flags|=2048,ol(9,O2.bind(null,r,n,s,t),void 0,null),Rt===null)throw Error(ne(349));Es&30||E2(r,t,s)}return s}function E2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function O2(e,t,r,n){t.value=r,t.getSnapshot=n,T2(t)&&D2(e)}function A2(e,t,r){return r(function(){T2(t)&&D2(e)})}function T2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!hn(e,r)}catch{return!0}}function D2(e){var t=Zn(e,1);t!==null&&pn(t,e,1,-1)}function Vb(e){var t=_n();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:e},t.queue=e,e=e.dispatch=s3.bind(null,st,e),[t.memoizedState,e]}function ol(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function I2(){return Xr().memoizedState}function ld(e,t,r,n){var s=_n();st.flags|=e,s.memoizedState=ol(1|t,r,void 0,n===void 0?null:n)}function Qu(e,t,r,n){var s=Xr();n=n===void 0?null:n;var i=void 0;if(St!==null){var o=St.memoizedState;if(i=o.destroy,n!==null&&uy(n,o.deps)){s.memoizedState=ol(t,r,i,n);return}}st.flags|=e,s.memoizedState=ol(1|t,r,i,n)}function qb(e,t){return ld(8390656,8,e,t)}function py(e,t){return Qu(2048,8,e,t)}function M2(e,t){return Qu(4,2,e,t)}function $2(e,t){return Qu(4,4,e,t)}function L2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function R2(e,t,r){return r=r!=null?r.concat([e]):null,Qu(4,4,L2.bind(null,t,e),r)}function xy(){}function z2(e,t){var r=Xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&uy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function F2(e,t){var r=Xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&uy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function B2(e,t,r){return Es&21?(hn(r,t)||(r=V1(),st.lanes|=r,Os|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hr=!0),e.memoizedState=r)}function n3(e,t){var r=Ue;Ue=r!==0&&4>r?r:4,e(!0);var n=Ff.transition;Ff.transition={};try{e(!1),t()}finally{Ue=r,Ff.transition=n}}function U2(){return Xr().memoizedState}function a3(e,t,r){var n=La(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},W2(e))K2(t,r);else if(r=k2(e,t,r,n),r!==null){var s=lr();pn(r,e,n,s),H2(r,t,n)}}function s3(e,t,r){var n=La(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(W2(e))K2(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,hn(l,o)){var d=t.interleaved;d===null?(s.next=s,iy(t)):(s.next=d.next,d.next=s),t.interleaved=s;return}}catch{}finally{}r=k2(e,t,s,n),r!==null&&(s=lr(),pn(r,e,n,s),H2(r,t,n))}}function W2(e){var t=e.alternate;return e===st||t!==null&&t===st}function K2(e,t){zo=Bd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function H2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vh(e,r)}}var Ud={readContext:Gr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},i3={readContext:Gr,useCallback:function(e,t){return _n().memoizedState=[e,t===void 0?null:t],e},useContext:Gr,useEffect:qb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ld(4194308,4,L2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ld(4194308,4,e,t)},useInsertionEffect:function(e,t){return ld(4,2,e,t)},useMemo:function(e,t){var r=_n();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=_n();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=a3.bind(null,st,e),[n.memoizedState,e]},useRef:function(e){var t=_n();return e={current:e},t.memoizedState=e},useState:Vb,useDebugValue:xy,useDeferredValue:function(e){return _n().memoizedState=e},useTransition:function(){var e=Vb(!1),t=e[0];return e=n3.bind(null,e[1]),_n().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=st,s=_n();if(et){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=t(),Rt===null)throw Error(ne(349));Es&30||E2(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,qb(A2.bind(null,n,i,e),[e]),n.flags|=2048,ol(9,O2.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=_n(),t=Rt.identifierPrefix;if(et){var r=Kn,n=Wn;r=(n&~(1<<32-fn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=sl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=r3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},o3={readContext:Gr,useCallback:z2,useContext:Gr,useEffect:py,useImperativeHandle:R2,useInsertionEffect:M2,useLayoutEffect:$2,useMemo:F2,useReducer:Bf,useRef:I2,useState:function(){return Bf(il)},useDebugValue:xy,useDeferredValue:function(e){var t=Xr();return B2(t,St.memoizedState,e)},useTransition:function(){var e=Bf(il)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:C2,useSyncExternalStore:P2,useId:U2,unstable_isNewReconciler:!1},l3={readContext:Gr,useCallback:z2,useContext:Gr,useEffect:py,useImperativeHandle:R2,useInsertionEffect:M2,useLayoutEffect:$2,useMemo:F2,useReducer:Uf,useRef:I2,useState:function(){return Uf(il)},useDebugValue:xy,useDeferredValue:function(e){var t=Xr();return St===null?t.memoizedState=e:B2(t,St.memoizedState,e)},useTransition:function(){var e=Uf(il)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:C2,useSyncExternalStore:P2,useId:U2,unstable_isNewReconciler:!1};function on(e,t){if(e&&e.defaultProps){t=it({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function rx(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:it({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Zu={isMounted:function(e){return(e=e._reactInternals)?Bs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=lr(),s=La(e),i=qn(n,s);i.payload=t,r!=null&&(i.callback=r),t=Ma(e,i,s),t!==null&&(pn(t,e,s,n),id(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=lr(),s=La(e),i=qn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ma(e,i,s),t!==null&&(pn(t,e,s,n),id(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=lr(),n=La(e),s=qn(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ma(e,s,n),t!==null&&(pn(t,e,n,r),id(t,e,n))}};function Yb(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Jo(r,n)||!Jo(s,i):!0}function V2(e,t,r){var n=!1,s=Wa,i=t.contextType;return typeof i=="object"&&i!==null?i=Gr(i):(s=vr(t)?Cs:rr.current,n=t.contextTypes,i=(n=n!=null)?ji(e,s):Wa),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Gb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Zu.enqueueReplaceState(t,t.state,null)}function nx(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},oy(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Gr(i):(i=vr(t)?Cs:rr.current,s.context=ji(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(rx(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Zu.enqueueReplaceState(s,s.state,null),zd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function _i(e,t){try{var r="",n=t;do r+=$O(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Wf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ax(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var c3=typeof WeakMap=="function"?WeakMap:Map;function q2(e,t,r){r=qn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Kd||(Kd=!0,px=n),ax(e,t)},r}function Y2(e,t,r){r=qn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ax(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ax(e,t),typeof n!="function"&&($a===null?$a=new Set([this]):$a.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Xb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new c3;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=N3.bind(null,e,t,r),t.then(e,e))}function Qb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zb(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=qn(-1,1),t.tag=2,Ma(r,t,1))),r.lanes|=1),e)}var d3=da.ReactCurrentOwner,hr=!1;function sr(e,t,r,n){t.child=e===null?N2(t,null,r,n):Ni(t,e.child,r,n)}function Jb(e,t,r,n,s){r=r.render;var i=t.ref;return hi(t,s),n=my(e,t,r,n,i,s),r=fy(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jn(e,t,s)):(et&&r&&ey(t),t.flags|=1,sr(e,t,n,s),t.child)}function e0(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Ny(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,G2(e,t,i,n,s)):(e=md(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Jo,r(o,n)&&e.ref===t.ref)return Jn(e,t,s)}return t.flags|=1,e=Ra(i,n),e.ref=t.ref,e.return=t,t.child=e}function G2(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Jo(i,n)&&e.ref===t.ref)if(hr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(hr=!0);else return t.lanes=e.lanes,Jn(e,t,s)}return sx(e,t,r,n,s)}function X2(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(ci,_r),_r|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(ci,_r),_r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,qe(ci,_r),_r|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,qe(ci,_r),_r|=n;return sr(e,t,s,r),t.child}function Q2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function sx(e,t,r,n,s){var i=vr(r)?Cs:rr.current;return i=ji(t,i),hi(t,s),r=my(e,t,r,n,i,s),n=fy(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jn(e,t,s)):(et&&n&&ey(t),t.flags|=1,sr(e,t,r,s),t.child)}function t0(e,t,r,n,s){if(vr(r)){var i=!0;Id(t)}else i=!1;if(hi(t,s),t.stateNode===null)cd(e,t),V2(t,r,n),nx(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var d=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Gr(c):(c=vr(r)?Cs:rr.current,c=ji(t,c));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||d!==c)&&Gb(t,o,n,c),wa=!1;var p=t.memoizedState;o.state=p,zd(t,n,o,s),d=t.memoizedState,l!==n||p!==d||gr.current||wa?(typeof u=="function"&&(rx(t,r,u,n),d=t.memoizedState),(l=wa||Yb(t,r,l,n,p,d,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),o.props=n,o.state=d,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,_2(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:on(t.type,l),o.props=c,m=t.pendingProps,p=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=Gr(d):(d=vr(r)?Cs:rr.current,d=ji(t,d));var x=r.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==d)&&Gb(t,o,n,d),wa=!1,p=t.memoizedState,o.state=p,zd(t,n,o,s);var y=t.memoizedState;l!==m||p!==y||gr.current||wa?(typeof x=="function"&&(rx(t,r,x,n),y=t.memoizedState),(c=wa||Yb(t,r,c,n,p,y,d)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=d,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return ix(e,t,r,n,i,s)}function ix(e,t,r,n,s,i){Q2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Fb(t,r,!1),Jn(e,t,i);n=t.stateNode,d3.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ni(t,e.child,null,i),t.child=Ni(t,null,l,i)):sr(e,t,l,i),t.memoizedState=n.state,s&&Fb(t,r,!0),t.child}function Z2(e){var t=e.stateNode;t.pendingContext?zb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zb(e,t.context,!1),ly(e,t.containerInfo)}function r0(e,t,r,n,s){return wi(),ry(s),t.flags|=256,sr(e,t,r,n),t.child}var ox={dehydrated:null,treeContext:null,retryLane:0};function lx(e){return{baseLanes:e,cachePool:null,transitions:null}}function J2(e,t,r){var n=t.pendingProps,s=at.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),qe(at,s&1),e===null)return ex(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=tm(o,n,0,null),e=js(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=lx(r),t.memoizedState=ox,e):hy(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return u3(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var d={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=Ra(s,d),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ra(l,i):(i=js(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?lx(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ox,n}return i=e.child,e=i.sibling,n=Ra(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function hy(e,t){return t=tm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oc(e,t,r,n){return n!==null&&ry(n),Ni(t,e.child,null,r),e=hy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function u3(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Wf(Error(ne(422))),Oc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=tm({mode:"visible",children:n.children},s,0,null),i=js(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ni(t,e.child,null,o),t.child.memoizedState=lx(o),t.memoizedState=ox,i);if(!(t.mode&1))return Oc(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ne(419)),n=Wf(i,n,void 0),Oc(e,t,o,n)}if(l=(o&e.childLanes)!==0,hr||l){if(n=Rt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Zn(e,s),pn(n,e,s,-1))}return wy(),n=Wf(Error(ne(421))),Oc(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=k3.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Pr=Ia(s.nextSibling),Or=t,et=!0,cn=null,e!==null&&(Kr[Hr++]=Wn,Kr[Hr++]=Kn,Kr[Hr++]=Ps,Wn=e.id,Kn=e.overflow,Ps=t),t=hy(t,n.children),t.flags|=4096,t)}function n0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),tx(e.return,t,r)}function Kf(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function ek(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(sr(e,t,n.children,r),n=at.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&n0(e,r,t);else if(e.tag===19)n0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qe(at,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Fd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Kf(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Fd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Kf(t,!0,r,null,i);break;case"together":Kf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Os|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,r=Ra(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ra(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function m3(e,t,r){switch(t.tag){case 3:Z2(t),wi();break;case 5:S2(t);break;case 1:vr(t.type)&&Id(t);break;case 4:ly(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;qe(Ld,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qe(at,at.current&1),t.flags|=128,null):r&t.child.childLanes?J2(e,t,r):(qe(at,at.current&1),e=Jn(e,t,r),e!==null?e.sibling:null);qe(at,at.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ek(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(at,at.current),n)break;return null;case 22:case 23:return t.lanes=0,X2(e,t,r)}return Jn(e,t,r)}var tk,cx,rk,nk;tk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cx=function(){};rk=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,xs(On.current);var i=null;switch(r){case"input":s=Ap(e,s),n=Ap(e,n),i=[];break;case"select":s=it({},s,{value:void 0}),n=it({},n,{value:void 0}),i=[];break;case"textarea":s=Ip(e,s),n=Ip(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Td)}$p(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var d=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&d!==l&&(d!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(i||(i=[]),i.push(c,r)),r=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vo.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&Ge("scroll",e),i||l===d||(i=[])):(i=i||[]).push(c,d))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};nk=function(e,t,r,n){r!==n&&(t.flags|=4)};function xo(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function f3(e,t,r){var n=t.pendingProps;switch(ty(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(t),null;case 1:return vr(t.type)&&Dd(),Gt(t),null;case 3:return n=t.stateNode,ki(),Qe(gr),Qe(rr),dy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cn!==null&&(yx(cn),cn=null))),cx(e,t),Gt(t),null;case 5:cy(t);var s=xs(al.current);if(r=t.type,e!==null&&t.stateNode!=null)rk(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ne(166));return Gt(t),null}if(e=xs(On.current),Pc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Cn]=t,n[rl]=i,e=(t.mode&1)!==0,r){case"dialog":Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":case"embed":Ge("load",n);break;case"video":case"audio":for(s=0;s<Oo.length;s++)Ge(Oo[s],n);break;case"source":Ge("error",n);break;case"img":case"image":case"link":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"input":mb(n,i),Ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",n);break;case"textarea":pb(n,i),Ge("invalid",n)}$p(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Cc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Cc(n.textContent,l,e),s=["children",""+l]):Vo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ge("scroll",n)}switch(r){case"input":vc(n),fb(n,i,!0);break;case"textarea":vc(n),xb(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Td)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=A1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Cn]=t,e[rl]=n,tk(e,t,!1,!1),t.stateNode=e;e:{switch(o=Lp(r,n),r){case"dialog":Ge("cancel",e),Ge("close",e),s=n;break;case"iframe":case"object":case"embed":Ge("load",e),s=n;break;case"video":case"audio":for(s=0;s<Oo.length;s++)Ge(Oo[s],e);s=n;break;case"source":Ge("error",e),s=n;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),s=n;break;case"details":Ge("toggle",e),s=n;break;case"input":mb(e,n),s=Ap(e,n),Ge("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=it({},n,{value:void 0}),Ge("invalid",e);break;case"textarea":pb(e,n),s=Ip(e,n),Ge("invalid",e);break;default:s=n}$p(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="style"?I1(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&T1(e,d)):i==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&qo(e,d):typeof d=="number"&&qo(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vo.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Ge("scroll",e):d!=null&&Fh(e,i,d,o))}switch(r){case"input":vc(e),fb(e,n,!1);break;case"textarea":vc(e),xb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ua(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?mi(e,!!n.multiple,i,!1):n.defaultValue!=null&&mi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Td)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gt(t),null;case 6:if(e&&t.stateNode!=null)nk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ne(166));if(r=xs(al.current),xs(On.current),Pc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Cn]=t,(i=n.nodeValue!==r)&&(e=Or,e!==null))switch(e.tag){case 3:Cc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Cn]=t,t.stateNode=n}return Gt(t),null;case 13:if(Qe(at),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(et&&Pr!==null&&t.mode&1&&!(t.flags&128))j2(),wi(),t.flags|=98560,i=!1;else if(i=Pc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ne(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ne(317));i[Cn]=t}else wi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gt(t),i=!1}else cn!==null&&(yx(cn),cn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||at.current&1?Pt===0&&(Pt=3):wy())),t.updateQueue!==null&&(t.flags|=4),Gt(t),null);case 4:return ki(),cx(e,t),e===null&&el(t.stateNode.containerInfo),Gt(t),null;case 10:return sy(t.type._context),Gt(t),null;case 17:return vr(t.type)&&Dd(),Gt(t),null;case 19:if(Qe(at),i=t.memoizedState,i===null)return Gt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)xo(i,!1);else{if(Pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Fd(e),o!==null){for(t.flags|=128,xo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qe(at,at.current&1|2),t.child}e=e.sibling}i.tail!==null&&ft()>Si&&(t.flags|=128,n=!0,xo(i,!1),t.lanes=4194304)}else{if(!n)if(e=Fd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),xo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!et)return Gt(t),null}else 2*ft()-i.renderingStartTime>Si&&r!==1073741824&&(t.flags|=128,n=!0,xo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ft(),t.sibling=null,r=at.current,qe(at,n?r&1|2:r&1),t):(Gt(t),null);case 22:case 23:return jy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?_r&1073741824&&(Gt(t),t.subtreeFlags&6&&(t.flags|=8192)):Gt(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function p3(e,t){switch(ty(t),t.tag){case 1:return vr(t.type)&&Dd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ki(),Qe(gr),Qe(rr),dy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cy(t),null;case 13:if(Qe(at),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(at),null;case 4:return ki(),null;case 10:return sy(t.type._context),null;case 22:case 23:return jy(),null;case 24:return null;default:return null}}var Ac=!1,Qt=!1,x3=typeof WeakSet=="function"?WeakSet:Set,fe=null;function li(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ct(e,t,n)}else r.current=null}function dx(e,t,r){try{r()}catch(n){ct(e,t,n)}}var a0=!1;function h3(e,t){if(qp=Ed,e=l2(),Jh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,d=-1,c=0,u=0,m=e,p=null;t:for(;;){for(var x;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==i||n!==0&&m.nodeType!==3||(d=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(x=m.firstChild)!==null;)p=m,m=x;for(;;){if(m===e)break t;if(p===r&&++c===s&&(l=o),p===i&&++u===n&&(d=o),(x=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=x}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yp={focusedElem:e,selectionRange:r},Ed=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,h=t.stateNode,b=h.getSnapshotBeforeUpdate(t.elementType===t.type?g:on(t.type,g),v);h.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(k){ct(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return y=a0,a0=!1,y}function Fo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&dx(t,r,i)}s=s.next}while(s!==n)}}function Ju(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ux(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ak(e){var t=e.alternate;t!==null&&(e.alternate=null,ak(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cn],delete t[rl],delete t[Qp],delete t[ZA],delete t[JA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sk(e){return e.tag===5||e.tag===3||e.tag===4}function s0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Td));else if(n!==4&&(e=e.child,e!==null))for(mx(e,t,r),e=e.sibling;e!==null;)mx(e,t,r),e=e.sibling}function fx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(fx(e,t,r),e=e.sibling;e!==null;)fx(e,t,r),e=e.sibling}var Kt=null,ln=!1;function va(e,t,r){for(r=r.child;r!==null;)ik(e,t,r),r=r.sibling}function ik(e,t,r){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Hu,r)}catch{}switch(r.tag){case 5:Qt||li(r,t);case 6:var n=Kt,s=ln;Kt=null,va(e,t,r),Kt=n,ln=s,Kt!==null&&(ln?(e=Kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Kt.removeChild(r.stateNode));break;case 18:Kt!==null&&(ln?(e=Kt,r=r.stateNode,e.nodeType===8?Lf(e.parentNode,r):e.nodeType===1&&Lf(e,r),Qo(e)):Lf(Kt,r.stateNode));break;case 4:n=Kt,s=ln,Kt=r.stateNode.containerInfo,ln=!0,va(e,t,r),Kt=n,ln=s;break;case 0:case 11:case 14:case 15:if(!Qt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&dx(r,t,o),s=s.next}while(s!==n)}va(e,t,r);break;case 1:if(!Qt&&(li(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ct(r,t,l)}va(e,t,r);break;case 21:va(e,t,r);break;case 22:r.mode&1?(Qt=(n=Qt)||r.memoizedState!==null,va(e,t,r),Qt=n):va(e,t,r);break;default:va(e,t,r)}}function i0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new x3),t.forEach(function(n){var s=_3.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function sn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Kt=l.stateNode,ln=!1;break e;case 3:Kt=l.stateNode.containerInfo,ln=!0;break e;case 4:Kt=l.stateNode.containerInfo,ln=!0;break e}l=l.return}if(Kt===null)throw Error(ne(160));ik(i,o,s),Kt=null,ln=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(c){ct(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ok(t,e),t=t.sibling}function ok(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sn(t,e),wn(e),n&4){try{Fo(3,e,e.return),Ju(3,e)}catch(g){ct(e,e.return,g)}try{Fo(5,e,e.return)}catch(g){ct(e,e.return,g)}}break;case 1:sn(t,e),wn(e),n&512&&r!==null&&li(r,r.return);break;case 5:if(sn(t,e),wn(e),n&512&&r!==null&&li(r,r.return),e.flags&32){var s=e.stateNode;try{qo(s,"")}catch(g){ct(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&E1(s,i),Lp(l,o);var c=Lp(l,i);for(o=0;o<d.length;o+=2){var u=d[o],m=d[o+1];u==="style"?I1(s,m):u==="dangerouslySetInnerHTML"?T1(s,m):u==="children"?qo(s,m):Fh(s,u,m,c)}switch(l){case"input":Tp(s,i);break;case"textarea":O1(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?mi(s,!!i.multiple,x,!1):p!==!!i.multiple&&(i.defaultValue!=null?mi(s,!!i.multiple,i.defaultValue,!0):mi(s,!!i.multiple,i.multiple?[]:"",!1))}s[rl]=i}catch(g){ct(e,e.return,g)}}break;case 6:if(sn(t,e),wn(e),n&4){if(e.stateNode===null)throw Error(ne(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){ct(e,e.return,g)}}break;case 3:if(sn(t,e),wn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qo(t.containerInfo)}catch(g){ct(e,e.return,g)}break;case 4:sn(t,e),wn(e);break;case 13:sn(t,e),wn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(vy=ft())),n&4&&i0(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Qt=(c=Qt)||u,sn(t,e),Qt=c):sn(t,e),wn(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(fe=e,u=e.child;u!==null;){for(m=fe=u;fe!==null;){switch(p=fe,x=p.child,p.tag){case 0:case 11:case 14:case 15:Fo(4,p,p.return);break;case 1:li(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){ct(n,r,g)}}break;case 5:li(p,p.return);break;case 22:if(p.memoizedState!==null){l0(m);continue}}x!==null?(x.return=p,fe=x):l0(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,d=m.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=D1("display",o))}catch(g){ct(e,e.return,g)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(g){ct(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:sn(t,e),wn(e),n&4&&i0(e);break;case 21:break;default:sn(t,e),wn(e)}}function wn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(sk(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(qo(s,""),n.flags&=-33);var i=s0(e);fx(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=s0(e);mx(e,l,o);break;default:throw Error(ne(161))}}catch(d){ct(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function y3(e,t,r){fe=e,lk(e)}function lk(e,t,r){for(var n=(e.mode&1)!==0;fe!==null;){var s=fe,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ac;if(!o){var l=s.alternate,d=l!==null&&l.memoizedState!==null||Qt;l=Ac;var c=Qt;if(Ac=o,(Qt=d)&&!c)for(fe=s;fe!==null;)o=fe,d=o.child,o.tag===22&&o.memoizedState!==null?c0(s):d!==null?(d.return=o,fe=d):c0(s);for(;i!==null;)fe=i,lk(i),i=i.sibling;fe=s,Ac=l,Qt=c}o0(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,fe=i):o0(e)}}function o0(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||Ju(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:on(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Hb(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Hb(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Qo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Qt||t.flags&512&&ux(t)}catch(p){ct(t,t.return,p)}}if(t===e){fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,fe=r;break}fe=t.return}}function l0(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,fe=r;break}fe=t.return}}function c0(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ju(4,t)}catch(d){ct(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(d){ct(t,s,d)}}var i=t.return;try{ux(t)}catch(d){ct(t,i,d)}break;case 5:var o=t.return;try{ux(t)}catch(d){ct(t,o,d)}}}catch(d){ct(t,t.return,d)}if(t===e){fe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,fe=l;break}fe=t.return}}var g3=Math.ceil,Wd=da.ReactCurrentDispatcher,yy=da.ReactCurrentOwner,Yr=da.ReactCurrentBatchConfig,Ie=0,Rt=null,jt=null,Ht=0,_r=0,ci=Za(0),Pt=0,ll=null,Os=0,em=0,gy=0,Bo=null,xr=null,vy=0,Si=1/0,Rn=null,Kd=!1,px=null,$a=null,Tc=!1,Ea=null,Hd=0,Uo=0,xx=null,dd=-1,ud=0;function lr(){return Ie&6?ft():dd!==-1?dd:dd=ft()}function La(e){return e.mode&1?Ie&2&&Ht!==0?Ht&-Ht:t3.transition!==null?(ud===0&&(ud=V1()),ud):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:J1(e.type)),e):1}function pn(e,t,r,n){if(50<Uo)throw Uo=0,xx=null,Error(ne(185));Pl(e,r,n),(!(Ie&2)||e!==Rt)&&(e===Rt&&(!(Ie&2)&&(em|=r),Pt===4&&Sa(e,Ht)),br(e,n),r===1&&Ie===0&&!(t.mode&1)&&(Si=ft()+500,Xu&&Ja()))}function br(e,t){var r=e.callbackNode;tA(e,t);var n=Pd(e,e===Rt?Ht:0);if(n===0)r!==null&&gb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gb(r),t===1)e.tag===0?e3(d0.bind(null,e)):g2(d0.bind(null,e)),XA(function(){!(Ie&6)&&Ja()}),r=null;else{switch(q1(n)){case 1:r=Hh;break;case 4:r=K1;break;case 16:r=Cd;break;case 536870912:r=H1;break;default:r=Cd}r=hk(r,ck.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ck(e,t){if(dd=-1,ud=0,Ie&6)throw Error(ne(327));var r=e.callbackNode;if(yi()&&e.callbackNode!==r)return null;var n=Pd(e,e===Rt?Ht:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Vd(e,n);else{t=n;var s=Ie;Ie|=2;var i=uk();(Rt!==e||Ht!==t)&&(Rn=null,Si=ft()+500,bs(e,t));do try{j3();break}catch(l){dk(e,l)}while(!0);ay(),Wd.current=i,Ie=s,jt!==null?t=0:(Rt=null,Ht=0,t=Pt)}if(t!==0){if(t===2&&(s=Up(e),s!==0&&(n=s,t=hx(e,s))),t===1)throw r=ll,bs(e,0),Sa(e,n),br(e,ft()),r;if(t===6)Sa(e,n);else{if(s=e.current.alternate,!(n&30)&&!v3(s)&&(t=Vd(e,n),t===2&&(i=Up(e),i!==0&&(n=i,t=hx(e,i))),t===1))throw r=ll,bs(e,0),Sa(e,n),br(e,ft()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ne(345));case 2:cs(e,xr,Rn);break;case 3:if(Sa(e,n),(n&130023424)===n&&(t=vy+500-ft(),10<t)){if(Pd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){lr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Xp(cs.bind(null,e,xr,Rn),t);break}cs(e,xr,Rn);break;case 4:if(Sa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-fn(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ft()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*g3(n/1960))-n,10<n){e.timeoutHandle=Xp(cs.bind(null,e,xr,Rn),n);break}cs(e,xr,Rn);break;case 5:cs(e,xr,Rn);break;default:throw Error(ne(329))}}}return br(e,ft()),e.callbackNode===r?ck.bind(null,e):null}function hx(e,t){var r=Bo;return e.current.memoizedState.isDehydrated&&(bs(e,t).flags|=256),e=Vd(e,t),e!==2&&(t=xr,xr=r,t!==null&&yx(t)),e}function yx(e){xr===null?xr=e:xr.push.apply(xr,e)}function v3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!hn(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sa(e,t){for(t&=~gy,t&=~em,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fn(t),n=1<<r;e[r]=-1,t&=~n}}function d0(e){if(Ie&6)throw Error(ne(327));yi();var t=Pd(e,0);if(!(t&1))return br(e,ft()),null;var r=Vd(e,t);if(e.tag!==0&&r===2){var n=Up(e);n!==0&&(t=n,r=hx(e,n))}if(r===1)throw r=ll,bs(e,0),Sa(e,t),br(e,ft()),r;if(r===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cs(e,xr,Rn),br(e,ft()),null}function by(e,t){var r=Ie;Ie|=1;try{return e(t)}finally{Ie=r,Ie===0&&(Si=ft()+500,Xu&&Ja())}}function As(e){Ea!==null&&Ea.tag===0&&!(Ie&6)&&yi();var t=Ie;Ie|=1;var r=Yr.transition,n=Ue;try{if(Yr.transition=null,Ue=1,e)return e()}finally{Ue=n,Yr.transition=r,Ie=t,!(Ie&6)&&Ja()}}function jy(){_r=ci.current,Qe(ci)}function bs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,GA(r)),jt!==null)for(r=jt.return;r!==null;){var n=r;switch(ty(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Dd();break;case 3:ki(),Qe(gr),Qe(rr),dy();break;case 5:cy(n);break;case 4:ki();break;case 13:Qe(at);break;case 19:Qe(at);break;case 10:sy(n.type._context);break;case 22:case 23:jy()}r=r.return}if(Rt=e,jt=e=Ra(e.current,null),Ht=_r=t,Pt=0,ll=null,gy=em=Os=0,xr=Bo=null,ps!==null){for(t=0;t<ps.length;t++)if(r=ps[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ps=null}return e}function dk(e,t){do{var r=jt;try{if(ay(),od.current=Ud,Bd){for(var n=st.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Bd=!1}if(Es=0,$t=St=st=null,zo=!1,sl=0,yy.current=null,r===null||r.return===null){Pt=1,ll=t,jt=null;break}e:{var i=e,o=r.return,l=r,d=t;if(t=Ht,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=Qb(o);if(x!==null){x.flags&=-257,Zb(x,o,l,i,t),x.mode&1&&Xb(i,c,t),t=x,d=c;var y=t.updateQueue;if(y===null){var g=new Set;g.add(d),t.updateQueue=g}else y.add(d);break e}else{if(!(t&1)){Xb(i,c,t),wy();break e}d=Error(ne(426))}}else if(et&&l.mode&1){var v=Qb(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Zb(v,o,l,i,t),ry(_i(d,l));break e}}i=d=_i(d,l),Pt!==4&&(Pt=2),Bo===null?Bo=[i]:Bo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=q2(i,d,t);Kb(i,h);break e;case 1:l=d;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&($a===null||!$a.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Y2(i,l,t);Kb(i,k);break e}}i=i.return}while(i!==null)}fk(r)}catch(S){t=S,jt===r&&r!==null&&(jt=r=r.return);continue}break}while(!0)}function uk(){var e=Wd.current;return Wd.current=Ud,e===null?Ud:e}function wy(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Rt===null||!(Os&268435455)&&!(em&268435455)||Sa(Rt,Ht)}function Vd(e,t){var r=Ie;Ie|=2;var n=uk();(Rt!==e||Ht!==t)&&(Rn=null,bs(e,t));do try{b3();break}catch(s){dk(e,s)}while(!0);if(ay(),Ie=r,Wd.current=n,jt!==null)throw Error(ne(261));return Rt=null,Ht=0,Pt}function b3(){for(;jt!==null;)mk(jt)}function j3(){for(;jt!==null&&!VO();)mk(jt)}function mk(e){var t=xk(e.alternate,e,_r);e.memoizedProps=e.pendingProps,t===null?fk(e):jt=t,yy.current=null}function fk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=p3(r,t),r!==null){r.flags&=32767,jt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pt=6,jt=null;return}}else if(r=f3(r,t,_r),r!==null){jt=r;return}if(t=t.sibling,t!==null){jt=t;return}jt=t=e}while(t!==null);Pt===0&&(Pt=5)}function cs(e,t,r){var n=Ue,s=Yr.transition;try{Yr.transition=null,Ue=1,w3(e,t,r,n)}finally{Yr.transition=s,Ue=n}return null}function w3(e,t,r,n){do yi();while(Ea!==null);if(Ie&6)throw Error(ne(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(rA(e,i),e===Rt&&(jt=Rt=null,Ht=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Tc||(Tc=!0,hk(Cd,function(){return yi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Yr.transition,Yr.transition=null;var o=Ue;Ue=1;var l=Ie;Ie|=4,yy.current=null,h3(e,r),ok(r,e),UA(Yp),Ed=!!qp,Yp=qp=null,e.current=r,y3(r),qO(),Ie=l,Ue=o,Yr.transition=i}else e.current=r;if(Tc&&(Tc=!1,Ea=e,Hd=s),i=e.pendingLanes,i===0&&($a=null),XO(r.stateNode),br(e,ft()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Kd)throw Kd=!1,e=px,px=null,e;return Hd&1&&e.tag!==0&&yi(),i=e.pendingLanes,i&1?e===xx?Uo++:(Uo=0,xx=e):Uo=0,Ja(),null}function yi(){if(Ea!==null){var e=q1(Hd),t=Yr.transition,r=Ue;try{if(Yr.transition=null,Ue=16>e?16:e,Ea===null)var n=!1;else{if(e=Ea,Ea=null,Hd=0,Ie&6)throw Error(ne(331));var s=Ie;for(Ie|=4,fe=e.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var l=i.deletions;if(l!==null){for(var d=0;d<l.length;d++){var c=l[d];for(fe=c;fe!==null;){var u=fe;switch(u.tag){case 0:case 11:case 15:Fo(8,u,i)}var m=u.child;if(m!==null)m.return=u,fe=m;else for(;fe!==null;){u=fe;var p=u.sibling,x=u.return;if(ak(u),u===c){fe=null;break}if(p!==null){p.return=x,fe=p;break}fe=x}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fo(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,fe=h;break e}fe=i.return}}var b=e.current;for(fe=b;fe!==null;){o=fe;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,fe=j;else e:for(o=b;fe!==null;){if(l=fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ju(9,l)}}catch(S){ct(l,l.return,S)}if(l===o){fe=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,fe=k;break e}fe=l.return}}if(Ie=s,Ja(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Hu,e)}catch{}n=!0}return n}finally{Ue=r,Yr.transition=t}}return!1}function u0(e,t,r){t=_i(r,t),t=q2(e,t,1),e=Ma(e,t,1),t=lr(),e!==null&&(Pl(e,1,t),br(e,t))}function ct(e,t,r){if(e.tag===3)u0(e,e,r);else for(;t!==null;){if(t.tag===3){u0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($a===null||!$a.has(n))){e=_i(r,e),e=Y2(t,e,1),t=Ma(t,e,1),e=lr(),t!==null&&(Pl(t,1,e),br(t,e));break}}t=t.return}}function N3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=lr(),e.pingedLanes|=e.suspendedLanes&r,Rt===e&&(Ht&r)===r&&(Pt===4||Pt===3&&(Ht&130023424)===Ht&&500>ft()-vy?bs(e,0):gy|=r),br(e,t)}function pk(e,t){t===0&&(e.mode&1?(t=wc,wc<<=1,!(wc&130023424)&&(wc=4194304)):t=1);var r=lr();e=Zn(e,t),e!==null&&(Pl(e,t,r),br(e,r))}function k3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),pk(e,r)}function _3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(t),pk(e,r)}var xk;xk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gr.current)hr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return hr=!1,m3(e,t,r);hr=!!(e.flags&131072)}else hr=!1,et&&t.flags&1048576&&v2(t,$d,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;cd(e,t),e=t.pendingProps;var s=ji(t,rr.current);hi(t,r),s=my(null,t,n,e,s,r);var i=fy();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vr(n)?(i=!0,Id(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,oy(t),s.updater=Zu,t.stateNode=s,s._reactInternals=t,nx(t,n,e,r),t=ix(null,t,n,!0,i,r)):(t.tag=0,et&&i&&ey(t),sr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(cd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=C3(n),e=on(n,e),s){case 0:t=sx(null,t,n,e,r);break e;case 1:t=t0(null,t,n,e,r);break e;case 11:t=Jb(null,t,n,e,r);break e;case 14:t=e0(null,t,n,on(n.type,e),r);break e}throw Error(ne(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:on(n,s),sx(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:on(n,s),t0(e,t,n,s,r);case 3:e:{if(Z2(t),e===null)throw Error(ne(387));n=t.pendingProps,i=t.memoizedState,s=i.element,_2(e,t),zd(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=_i(Error(ne(423)),t),t=r0(e,t,n,r,s);break e}else if(n!==s){s=_i(Error(ne(424)),t),t=r0(e,t,n,r,s);break e}else for(Pr=Ia(t.stateNode.containerInfo.firstChild),Or=t,et=!0,cn=null,r=N2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wi(),n===s){t=Jn(e,t,r);break e}sr(e,t,n,r)}t=t.child}return t;case 5:return S2(t),e===null&&ex(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Gp(n,s)?o=null:i!==null&&Gp(n,i)&&(t.flags|=32),Q2(e,t),sr(e,t,o,r),t.child;case 6:return e===null&&ex(t),null;case 13:return J2(e,t,r);case 4:return ly(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ni(t,null,n,r):sr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:on(n,s),Jb(e,t,n,s,r);case 7:return sr(e,t,t.pendingProps,r),t.child;case 8:return sr(e,t,t.pendingProps.children,r),t.child;case 12:return sr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,qe(Ld,n._currentValue),n._currentValue=o,i!==null)if(hn(i.value,o)){if(i.children===s.children&&!gr.current){t=Jn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var d=l.firstContext;d!==null;){if(d.context===n){if(i.tag===1){d=qn(-1,r&-r),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}i.lanes|=r,d=i.alternate,d!==null&&(d.lanes|=r),tx(i.return,r,t),l.lanes|=r;break}d=d.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ne(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),tx(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}sr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,hi(t,r),s=Gr(s),n=n(s),t.flags|=1,sr(e,t,n,r),t.child;case 14:return n=t.type,s=on(n,t.pendingProps),s=on(n.type,s),e0(e,t,n,s,r);case 15:return G2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:on(n,s),cd(e,t),t.tag=1,vr(n)?(e=!0,Id(t)):e=!1,hi(t,r),V2(t,n,s),nx(t,n,s,r),ix(null,t,n,!0,e,r);case 19:return ek(e,t,r);case 22:return X2(e,t,r)}throw Error(ne(156,t.tag))};function hk(e,t){return W1(e,t)}function S3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,t,r,n){return new S3(e,t,r,n)}function Ny(e){return e=e.prototype,!(!e||!e.isReactComponent)}function C3(e){if(typeof e=="function")return Ny(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Uh)return 11;if(e===Wh)return 14}return 2}function Ra(e,t){var r=e.alternate;return r===null?(r=Vr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function md(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Ny(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Js:return js(r.children,s,i,t);case Bh:o=8,s|=8;break;case Cp:return e=Vr(12,r,t,s|2),e.elementType=Cp,e.lanes=i,e;case Pp:return e=Vr(13,r,t,s),e.elementType=Pp,e.lanes=i,e;case Ep:return e=Vr(19,r,t,s),e.elementType=Ep,e.lanes=i,e;case S1:return tm(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k1:o=10;break e;case _1:o=9;break e;case Uh:o=11;break e;case Wh:o=14;break e;case ja:o=16,n=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=Vr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function js(e,t,r,n){return e=Vr(7,e,n,t),e.lanes=r,e}function tm(e,t,r,n){return e=Vr(22,e,n,t),e.elementType=S1,e.lanes=r,e.stateNode={isHidden:!1},e}function Hf(e,t,r){return e=Vr(6,e,null,t),e.lanes=r,e}function Vf(e,t,r){return t=Vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function P3(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sf(0),this.expirationTimes=Sf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ky(e,t,r,n,s,i,o,l,d){return e=new P3(e,t,r,l,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Vr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},oy(i),e}function E3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function yk(e){if(!e)return Wa;e=e._reactInternals;e:{if(Bs(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var r=e.type;if(vr(r))return y2(e,r,t)}return t}function gk(e,t,r,n,s,i,o,l,d){return e=ky(r,n,!0,e,s,i,o,l,d),e.context=yk(null),r=e.current,n=lr(),s=La(r),i=qn(n,s),i.callback=t??null,Ma(r,i,s),e.current.lanes=s,Pl(e,s,n),br(e,n),e}function rm(e,t,r,n){var s=t.current,i=lr(),o=La(s);return r=yk(r),t.context===null?t.context=r:t.pendingContext=r,t=qn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ma(s,t,o),e!==null&&(pn(e,s,o,i),id(e,s,o)),o}function qd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function m0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _y(e,t){m0(e,t),(e=e.alternate)&&m0(e,t)}function O3(){return null}var vk=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sy(e){this._internalRoot=e}nm.prototype.render=Sy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));rm(e,t,null,null)};nm.prototype.unmount=Sy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;As(function(){rm(null,e,null,null)}),t[Qn]=null}};function nm(e){this._internalRoot=e}nm.prototype.unstable_scheduleHydration=function(e){if(e){var t=X1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<_a.length&&t!==0&&t<_a[r].priority;r++);_a.splice(r,0,e),r===0&&Z1(e)}};function Cy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function am(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function f0(){}function A3(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=qd(o);i.call(c)}}var o=gk(t,n,e,0,null,!1,!1,"",f0);return e._reactRootContainer=o,e[Qn]=o.current,el(e.nodeType===8?e.parentNode:e),As(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=qd(d);l.call(c)}}var d=ky(e,0,!1,null,null,!1,!1,"",f0);return e._reactRootContainer=d,e[Qn]=d.current,el(e.nodeType===8?e.parentNode:e),As(function(){rm(t,d,r,n)}),d}function sm(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var d=qd(o);l.call(d)}}rm(t,o,e,s)}else o=A3(r,t,e,s,n);return qd(o)}Y1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Eo(t.pendingLanes);r!==0&&(Vh(t,r|1),br(t,ft()),!(Ie&6)&&(Si=ft()+500,Ja()))}break;case 13:As(function(){var n=Zn(e,1);if(n!==null){var s=lr();pn(n,e,1,s)}}),_y(e,1)}};qh=function(e){if(e.tag===13){var t=Zn(e,134217728);if(t!==null){var r=lr();pn(t,e,134217728,r)}_y(e,134217728)}};G1=function(e){if(e.tag===13){var t=La(e),r=Zn(e,t);if(r!==null){var n=lr();pn(r,e,t,n)}_y(e,t)}};X1=function(){return Ue};Q1=function(e,t){var r=Ue;try{return Ue=e,t()}finally{Ue=r}};zp=function(e,t,r){switch(t){case"input":if(Tp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Gu(n);if(!s)throw Error(ne(90));P1(n),Tp(n,s)}}}break;case"textarea":O1(e,r);break;case"select":t=r.value,t!=null&&mi(e,!!r.multiple,t,!1)}};L1=by;R1=As;var T3={usingClientEntryPoint:!1,Events:[Ol,ni,Gu,M1,$1,by]},ho={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D3={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:da.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=B1(e),e===null?null:e.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||O3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Hu=Dc.inject(D3),En=Dc}catch{}}$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T3;$r.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cy(t))throw Error(ne(200));return E3(e,t,null,r)};$r.createRoot=function(e,t){if(!Cy(e))throw Error(ne(299));var r=!1,n="",s=vk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ky(e,1,!1,null,null,r,!1,n,s),e[Qn]=t.current,el(e.nodeType===8?e.parentNode:e),new Sy(t)};$r.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=B1(t),e=e===null?null:e.stateNode,e};$r.flushSync=function(e){return As(e)};$r.hydrate=function(e,t,r){if(!am(t))throw Error(ne(200));return sm(null,e,t,!0,r)};$r.hydrateRoot=function(e,t,r){if(!Cy(e))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=vk;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=gk(t,null,e,1,r??null,s,!1,i,o),e[Qn]=t.current,el(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new nm(t)};$r.render=function(e,t,r){if(!am(t))throw Error(ne(200));return sm(null,e,t,!1,r)};$r.unmountComponentAtNode=function(e){if(!am(e))throw Error(ne(40));return e._reactRootContainer?(As(function(){sm(null,null,e,!1,function(){e._reactRootContainer=null,e[Qn]=null})}),!0):!1};$r.unstable_batchedUpdates=by;$r.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!am(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return sm(e,t,r,!1,n)};$r.version="18.3.1-next-f1338f8080-20240426";function bk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bk)}catch(e){console.error(e)}}bk(),b1.exports=$r;var Tl=b1.exports;const I3=$n(Tl);var p0=Tl;_p.createRoot=p0.createRoot,_p.hydrateRoot=p0.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cl.apply(this,arguments)}var Oa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Oa||(Oa={}));const x0="popstate";function M3(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return gx("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Yd(s)}return L3(t,r,null,e)}function xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Py(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $3(){return Math.random().toString(36).substr(2,8)}function h0(e,t){return{usr:e.state,key:e.key,idx:t}}function gx(e,t,r,n){return r===void 0&&(r=null),cl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Hi(t):t,{state:r,key:t&&t.key||n||$3()})}function Yd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Hi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function L3(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Oa.Pop,d=null,c=u();c==null&&(c=0,o.replaceState(cl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=Oa.Pop;let v=u(),h=v==null?null:v-c;c=v,d&&d({action:l,location:g.location,delta:h})}function p(v,h){l=Oa.Push;let b=gx(g.location,v,h);c=u()+1;let j=h0(b,c),k=g.createHref(b);try{o.pushState(j,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(k)}i&&d&&d({action:l,location:g.location,delta:1})}function x(v,h){l=Oa.Replace;let b=gx(g.location,v,h);c=u();let j=h0(b,c),k=g.createHref(b);o.replaceState(j,"",k),i&&d&&d({action:l,location:g.location,delta:0})}function y(v){let h=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof v=="string"?v:Yd(v);return b=b.replace(/ $/,"%20"),xt(h,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,h)}let g={get action(){return l},get location(){return e(s,o)},listen(v){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(x0,m),d=v,()=>{s.removeEventListener(x0,m),d=null}},createHref(v){return t(s,v)},createURL:y,encodeLocation(v){let h=y(v);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:x,go(v){return o.go(v)}};return g}var y0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(y0||(y0={}));function R3(e,t,r){return r===void 0&&(r="/"),z3(e,t,r)}function z3(e,t,r,n){let s=typeof t=="string"?Hi(t):t,i=Ey(s.pathname||"/",r);if(i==null)return null;let o=jk(e);F3(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let c=Z3(i);l=G3(o[d],c)}return l}function jk(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(xt(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let c=za([n,d.relativePath]),u=r.concat(d);i.children&&i.children.length>0&&(xt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jk(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:q3(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let d of wk(i.path))s(i,o,d)}),t}function wk(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=wk(n.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),s&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function F3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Y3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const B3=/^:[\w-]+$/,U3=3,W3=2,K3=1,H3=10,V3=-2,g0=e=>e==="*";function q3(e,t){let r=e.split("/"),n=r.length;return r.some(g0)&&(n+=V3),t&&(n+=W3),r.filter(s=>!g0(s)).reduce((s,i)=>s+(B3.test(i)?U3:i===""?K3:H3),n)}function Y3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function G3(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let d=n[l],c=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=X3({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),p=d.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:za([i,m.pathname]),pathnameBase:nT(za([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=za([i,m.pathnameBase]))}return o}function X3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Q3(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,u,m)=>{let{paramName:p,isOptional:x}=u;if(p==="*"){let g=l[m]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[m];return x&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Q3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Py(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Z3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Py(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ey(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const J3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eT=e=>J3.test(e);function tT(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Hi(e):e,i;if(r)if(eT(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Py(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=v0(r.substring(1),"/"):i=v0(r,t)}else i=t;return{pathname:i,search:aT(n),hash:sT(s)}}function v0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function qf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Oy(e,t){let r=rT(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ay(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Hi(e):(s=cl({},e),xt(!s.pathname||!s.pathname.includes("?"),qf("?","pathname","search",s)),xt(!s.pathname||!s.pathname.includes("#"),qf("#","pathname","hash",s)),xt(!s.search||!s.search.includes("#"),qf("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}l=m>=0?t[m]:"/"}let d=tT(s,l),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const za=e=>e.join("/").replace(/\/\/+/g,"/"),nT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Nk=["post","put","patch","delete"];new Set(Nk);const oT=["get",...Nk];new Set(oT);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dl.apply(this,arguments)}const Ty=f.createContext(null),lT=f.createContext(null),es=f.createContext(null),im=f.createContext(null),ua=f.createContext({outlet:null,matches:[],isDataRoute:!1}),kk=f.createContext(null);function cT(e,t){let{relative:r}=t===void 0?{}:t;Vi()||xt(!1);let{basename:n,navigator:s}=f.useContext(es),{hash:i,pathname:o,search:l}=Sk(e,{relative:r}),d=o;return n!=="/"&&(d=o==="/"?n:za([n,o])),s.createHref({pathname:d,search:l,hash:i})}function Vi(){return f.useContext(im)!=null}function ts(){return Vi()||xt(!1),f.useContext(im).location}function _k(e){f.useContext(es).static||f.useLayoutEffect(e)}function Jr(){let{isDataRoute:e}=f.useContext(ua);return e?wT():dT()}function dT(){Vi()||xt(!1);let e=f.useContext(Ty),{basename:t,future:r,navigator:n}=f.useContext(es),{matches:s}=f.useContext(ua),{pathname:i}=ts(),o=JSON.stringify(Oy(s,r.v7_relativeSplatPath)),l=f.useRef(!1);return _k(()=>{l.current=!0}),f.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let m=Ay(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:za([t,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[t,n,o,i,e])}function om(){let{matches:e}=f.useContext(ua),t=e[e.length-1];return t?t.params:{}}function Sk(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(es),{matches:s}=f.useContext(ua),{pathname:i}=ts(),o=JSON.stringify(Oy(s,n.v7_relativeSplatPath));return f.useMemo(()=>Ay(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function uT(e,t){return mT(e,t)}function mT(e,t,r,n){Vi()||xt(!1);let{navigator:s}=f.useContext(es),{matches:i}=f.useContext(ua),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let c=ts(),u;if(t){var m;let v=typeof t=="string"?Hi(t):t;d==="/"||(m=v.pathname)!=null&&m.startsWith(d)||xt(!1),u=v}else u=c;let p=u.pathname||"/",x=p;if(d!=="/"){let v=d.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=R3(e,{pathname:x}),g=yT(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:za([d,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:za([d,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&g?f.createElement(im.Provider,{value:{location:dl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Oa.Pop}},g):g}function fT(){let e=jT(),t=iT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:s},r):null,null)}const pT=f.createElement(fT,null);class xT extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(ua.Provider,{value:this.props.routeContext},f.createElement(kk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hT(e){let{routeContext:t,match:r,children:n}=e,s=f.useContext(Ty);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(ua.Provider,{value:t},n)}function yT(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||xt(!1),o=o.slice(0,Math.min(o.length,u+1))}let d=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=u),m.route.id){let{loaderData:p,errors:x}=r,y=m.route.loader&&p[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||y){d=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,m,p)=>{let x,y=!1,g=null,v=null;r&&(x=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||pT,d&&(c<0&&p===0?(NT("route-fallback"),y=!0,v=null):c===p&&(y=!0,v=m.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,p+1)),b=()=>{let j;return x?j=g:y?j=v:m.route.Component?j=f.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=u,f.createElement(hT,{match:m,routeContext:{outlet:u,matches:h,isDataRoute:r!=null},children:j})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?f.createElement(xT,{location:r.location,revalidation:r.revalidation,component:g,error:x,children:b(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):b()},null)}var Ck=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ck||{}),Pk=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pk||{});function gT(e){let t=f.useContext(Ty);return t||xt(!1),t}function vT(e){let t=f.useContext(lT);return t||xt(!1),t}function bT(e){let t=f.useContext(ua);return t||xt(!1),t}function Ek(e){let t=bT(),r=t.matches[t.matches.length-1];return r.route.id||xt(!1),r.route.id}function jT(){var e;let t=f.useContext(kk),r=vT(),n=Ek();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function wT(){let{router:e}=gT(Ck.UseNavigateStable),t=Ek(Pk.UseNavigateStable),r=f.useRef(!1);return _k(()=>{r.current=!0}),f.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,dl({fromRouteId:t},i)))},[e,t])}const b0={};function NT(e,t,r){b0[e]||(b0[e]=!0)}function kT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Wo(e){let{to:t,replace:r,state:n,relative:s}=e;Vi()||xt(!1);let{future:i,static:o}=f.useContext(es),{matches:l}=f.useContext(ua),{pathname:d}=ts(),c=Jr(),u=Ay(t,Oy(l,i.v7_relativeSplatPath),d,s==="path"),m=JSON.stringify(u);return f.useEffect(()=>c(JSON.parse(m),{replace:r,state:n,relative:s}),[c,m,s,r,n]),null}function Ae(e){xt(!1)}function _T(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Oa.Pop,navigator:i,static:o=!1,future:l}=e;Vi()&&xt(!1);let d=t.replace(/^\/*/,"/"),c=f.useMemo(()=>({basename:d,navigator:i,static:o,future:dl({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof n=="string"&&(n=Hi(n));let{pathname:u="/",search:m="",hash:p="",state:x=null,key:y="default"}=n,g=f.useMemo(()=>{let v=Ey(u,d);return v==null?null:{location:{pathname:v,search:m,hash:p,state:x,key:y},navigationType:s}},[d,u,m,p,x,y,s]);return g==null?null:f.createElement(es.Provider,{value:c},f.createElement(im.Provider,{children:r,value:g}))}function ST(e){let{children:t,location:r}=e;return uT(vx(t),r)}new Promise(()=>{});function vx(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,s)=>{if(!f.isValidElement(n))return;let i=[...t,s];if(n.type===f.Fragment){r.push.apply(r,vx(n.props.children,i));return}n.type!==Ae&&xt(!1),!n.props.index||!n.props.children||xt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=vx(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bx.apply(this,arguments)}function CT(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function PT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ET(e,t){return e.button===0&&(!t||t==="_self")&&!PT(e)}const OT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AT="6";try{window.__reactRouterVersion=AT}catch{}const TT="startTransition",j0=g1[TT];function DT(e){let{basename:t,children:r,future:n,window:s}=e,i=f.useRef();i.current==null&&(i.current=M3({window:s,v5Compat:!0}));let o=i.current,[l,d]=f.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=f.useCallback(m=>{c&&j0?j0(()=>d(m)):d(m)},[d,c]);return f.useLayoutEffect(()=>o.listen(u),[o,u]),f.useEffect(()=>kT(n),[n]),f.createElement(_T,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const IT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fd=f.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:d,to:c,preventScrollReset:u,viewTransition:m}=t,p=CT(t,OT),{basename:x}=f.useContext(es),y,g=!1;if(typeof c=="string"&&MT.test(c)&&(y=c,IT))try{let j=new URL(window.location.href),k=c.startsWith("//")?new URL(j.protocol+c):new URL(c),S=Ey(k.pathname,x);k.origin===j.origin&&S!=null?c=S+k.search+k.hash:g=!0}catch{}let v=cT(c,{relative:s}),h=$T(c,{replace:o,state:l,target:d,preventScrollReset:u,relative:s,viewTransition:m});function b(j){n&&n(j),j.defaultPrevented||h(j)}return f.createElement("a",bx({},p,{href:y||v,onClick:g||i?n:b,ref:r,target:d}))});var w0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(w0||(w0={}));var N0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(N0||(N0={}));function $T(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,d=Jr(),c=ts(),u=Sk(e,{relative:o});return f.useCallback(m=>{if(ET(m,r)){m.preventDefault();let p=n!==void 0?n:Yd(c)===Yd(u);d(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[c,d,u,n,s,r,e,i,o,l])}function LT(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const RT=e=>{switch(e){case"success":return BT;case"info":return WT;case"warning":return UT;case"error":return KT;default:return null}},zT=Array(12).fill(0),FT=({visible:e,className:t})=>re.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},re.createElement("div",{className:"sonner-spinner"},zT.map((r,n)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),BT=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UT=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),WT=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),KT=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),HT=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),VT=()=>{const[e,t]=re.useState(document.hidden);return re.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let jx=1;class qT{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:jx++,o=this.toasts.find(d=>d.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:l,title:n}):d):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const l=s.then(async c=>{if(o=["resolve",c],re.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(GT(c)&&!c.ok){i=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description,y=typeof m=="object"&&!re.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...y})}else if(c instanceof Error){i=!1;const m=typeof r.error=="function"?await r.error(c):r.error,p=typeof r.description=="function"?await r.description(c):r.description,y=typeof m=="object"&&!re.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...y})}else if(r.success!==void 0){i=!1;const m=typeof r.success=="function"?await r.success(c):r.success,p=typeof r.description=="function"?await r.description(c):r.description,y=typeof m=="object"&&!re.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:p,...y})}}).catch(async c=>{if(o=["reject",c],r.error!==void 0){i=!1;const u=typeof r.error=="function"?await r.error(c):r.error,m=typeof r.description=="function"?await r.description(c):r.description,x=typeof u=="object"&&!re.isValidElement(u)?u:{message:u};this.create({id:n,type:"error",description:m,...x})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((c,u)=>l.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||jx++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const fr=new qT,YT=(e,t)=>{const r=(t==null?void 0:t.id)||jx++;return fr.addToast({title:e,...t,id:r}),r},GT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",XT=YT,QT=()=>fr.toasts,ZT=()=>fr.getActiveToasts(),q=Object.assign(XT,{success:fr.success,info:fr.info,warning:fr.warning,error:fr.error,custom:fr.custom,message:fr.message,promise:fr.promise,dismiss:fr.dismiss,loading:fr.loading},{getHistory:QT,getToasts:ZT});LT("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ic(e){return e.label!==void 0}const JT=3,eD="24px",tD="16px",k0=4e3,rD=356,nD=14,aD=45,sD=200;function Nn(...e){return e.filter(Boolean).join(" ")}function iD(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const oD=e=>{var t,r,n,s,i,o,l,d,c;const{invert:u,toast:m,unstyled:p,interacting:x,setHeights:y,visibleToasts:g,heights:v,index:h,toasts:b,expanded:j,removeToast:k,defaultRichColors:S,closeButton:N,style:P,cancelButtonStyle:w,actionButtonStyle:C,className:O="",descriptionClassName:_="",duration:E,position:I,gap:A,expandByDefault:M,classNames:B,icons:H,closeButtonAriaLabel:R="Close toast"}=e,[L,z]=re.useState(null),[Q,T]=re.useState(null),[Z,te]=re.useState(!1),[$,Y]=re.useState(!1),[le,se]=re.useState(!1),[K,ue]=re.useState(!1),[he,J]=re.useState(!1),[D,X]=re.useState(0),[ce,W]=re.useState(0),ee=re.useRef(m.duration||E||k0),ie=re.useRef(null),je=re.useRef(null),F=h===0,ae=h+1<=g,U=m.type,oe=m.dismissible!==!1,me=m.className||"",ke=m.descriptionClassName||"",we=re.useMemo(()=>v.findIndex(de=>de.toastId===m.id)||0,[v,m.id]),_e=re.useMemo(()=>{var de;return(de=m.closeButton)!=null?de:N},[m.closeButton,N]),Me=re.useMemo(()=>m.duration||E||k0,[m.duration,E]),ve=re.useRef(0),Pe=re.useRef(0),Ce=re.useRef(0),vt=re.useRef(null),[ga,Ln]=I.split("-"),Rr=re.useMemo(()=>v.reduce((de,Ee,Re)=>Re>=we?de:de+Ee.height,0),[v,we]),io=VT(),mc=m.invert||u,Hs=U==="loading";Pe.current=re.useMemo(()=>we*A+Rr,[we,Rr]),re.useEffect(()=>{ee.current=Me},[Me]),re.useEffect(()=>{te(!0)},[]),re.useEffect(()=>{const de=je.current;if(de){const Ee=de.getBoundingClientRect().height;return W(Ee),y(Re=>[{toastId:m.id,height:Ee,position:m.position},...Re]),()=>y(Re=>Re.filter(Bt=>Bt.toastId!==m.id))}},[y,m.id]),re.useLayoutEffect(()=>{if(!Z)return;const de=je.current,Ee=de.style.height;de.style.height="auto";const Re=de.getBoundingClientRect().height;de.style.height=Ee,W(Re),y(Bt=>Bt.find(Ut=>Ut.toastId===m.id)?Bt.map(Ut=>Ut.toastId===m.id?{...Ut,height:Re}:Ut):[{toastId:m.id,height:Re,position:m.position},...Bt])},[Z,m.title,m.description,y,m.id,m.jsx,m.action,m.cancel]);const rn=re.useCallback(()=>{Y(!0),X(Pe.current),y(de=>de.filter(Ee=>Ee.toastId!==m.id)),setTimeout(()=>{k(m)},sD)},[m,k,y,Pe]);re.useEffect(()=>{if(m.promise&&U==="loading"||m.duration===1/0||m.type==="loading")return;let de;return j||x||io?(()=>{if(Ce.current<ve.current){const Bt=new Date().getTime()-ve.current;ee.current=ee.current-Bt}Ce.current=new Date().getTime()})():(()=>{ee.current!==1/0&&(ve.current=new Date().getTime(),de=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),rn()},ee.current))})(),()=>clearTimeout(de)},[j,x,m,U,io,rn]),re.useEffect(()=>{m.delete&&(rn(),m.onDismiss==null||m.onDismiss.call(m,m))},[rn,m.delete]);function fc(){var de;if(H!=null&&H.loading){var Ee;return re.createElement("div",{className:Nn(B==null?void 0:B.loader,m==null||(Ee=m.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":U==="loading"},H.loading)}return re.createElement(FT,{className:Nn(B==null?void 0:B.loader,m==null||(de=m.classNames)==null?void 0:de.loader),visible:U==="loading"})}const pc=m.icon||(H==null?void 0:H[U])||RT(U);var oo,ge;return re.createElement("li",{tabIndex:0,ref:je,className:Nn(O,me,B==null?void 0:B.toast,m==null||(t=m.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[U],m==null||(r=m.classNames)==null?void 0:r[U]),"data-sonner-toast":"","data-rich-colors":(oo=m.richColors)!=null?oo:S,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":Z,"data-promise":!!m.promise,"data-swiped":he,"data-removed":$,"data-visible":ae,"data-y-position":ga,"data-x-position":Ln,"data-index":h,"data-front":F,"data-swiping":le,"data-dismissible":oe,"data-type":U,"data-invert":mc,"data-swipe-out":K,"data-swipe-direction":Q,"data-expanded":!!(j||M&&Z),"data-testid":m.testId,style:{"--index":h,"--toasts-before":h,"--z-index":b.length-h,"--offset":`${$?D:Pe.current}px`,"--initial-height":M?"auto":`${ce}px`,...P,...m.style},onDragEnd:()=>{se(!1),z(null),vt.current=null},onPointerDown:de=>{de.button!==2&&(Hs||!oe||(ie.current=new Date,X(Pe.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(se(!0),vt.current={x:de.clientX,y:de.clientY})))},onPointerUp:()=>{var de,Ee,Re;if(K||!oe)return;vt.current=null;const Bt=Number(((de=je.current)==null?void 0:de.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xc=Number(((Ee=je.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ut=new Date().getTime()-((Re=ie.current)==null?void 0:Re.getTime()),zr=L==="x"?Bt:xc,hc=Math.abs(zr)/Ut;if(Math.abs(zr)>=aD||hc>.11){X(Pe.current),m.onDismiss==null||m.onDismiss.call(m,m),T(L==="x"?Bt>0?"right":"left":xc>0?"down":"up"),rn(),ue(!0);return}else{var nn,an;(nn=je.current)==null||nn.style.setProperty("--swipe-amount-x","0px"),(an=je.current)==null||an.style.setProperty("--swipe-amount-y","0px")}J(!1),se(!1),z(null)},onPointerMove:de=>{var Ee,Re,Bt;if(!vt.current||!oe||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;const Ut=de.clientY-vt.current.y,zr=de.clientX-vt.current.x;var hc;const nn=(hc=e.swipeDirections)!=null?hc:iD(I);!L&&(Math.abs(zr)>1||Math.abs(Ut)>1)&&z(Math.abs(zr)>Math.abs(Ut)?"x":"y");let an={x:0,y:0};const sb=is=>1/(1.5+Math.abs(is)/20);if(L==="y"){if(nn.includes("top")||nn.includes("bottom"))if(nn.includes("top")&&Ut<0||nn.includes("bottom")&&Ut>0)an.y=Ut;else{const is=Ut*sb(Ut);an.y=Math.abs(is)<Math.abs(Ut)?is:Ut}}else if(L==="x"&&(nn.includes("left")||nn.includes("right")))if(nn.includes("left")&&zr<0||nn.includes("right")&&zr>0)an.x=zr;else{const is=zr*sb(zr);an.x=Math.abs(is)<Math.abs(zr)?is:zr}(Math.abs(an.x)>0||Math.abs(an.y)>0)&&J(!0),(Re=je.current)==null||Re.style.setProperty("--swipe-amount-x",`${an.x}px`),(Bt=je.current)==null||Bt.style.setProperty("--swipe-amount-y",`${an.y}px`)}},_e&&!m.jsx&&U!=="loading"?re.createElement("button",{"aria-label":R,"data-disabled":Hs,"data-close-button":!0,onClick:Hs||!oe?()=>{}:()=>{rn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Nn(B==null?void 0:B.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(ge=H==null?void 0:H.close)!=null?ge:HT):null,(U||m.icon||m.promise)&&m.icon!==null&&((H==null?void 0:H[U])!==null||m.icon)?re.createElement("div",{"data-icon":"",className:Nn(B==null?void 0:B.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||fc():null,m.type!=="loading"?pc:null):null,re.createElement("div",{"data-content":"",className:Nn(B==null?void 0:B.content,m==null||(i=m.classNames)==null?void 0:i.content)},re.createElement("div",{"data-title":"",className:Nn(B==null?void 0:B.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?re.createElement("div",{"data-description":"",className:Nn(_,ke,B==null?void 0:B.description,m==null||(l=m.classNames)==null?void 0:l.description)},typeof m.description=="function"?m.description():m.description):null),re.isValidElement(m.cancel)?m.cancel:m.cancel&&Ic(m.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||w,onClick:de=>{Ic(m.cancel)&&oe&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,de),rn())},className:Nn(B==null?void 0:B.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,re.isValidElement(m.action)?m.action:m.action&&Ic(m.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||C,onClick:de=>{Ic(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,de),!de.defaultPrevented&&rn())},className:Nn(B==null?void 0:B.actionButton,m==null||(c=m.classNames)==null?void 0:c.actionButton)},m.action.label):null)};function _0(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function lD(e,t){const r={};return[e,t].forEach((n,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",l=i?tD:eD;function d(c){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=l:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):d(l)}),r}const cD=re.forwardRef(function(t,r){const{id:n,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:d,className:c,offset:u,mobileOffset:m,theme:p="light",richColors:x,duration:y,style:g,visibleToasts:v=JT,toastOptions:h,dir:b=_0(),gap:j=nD,icons:k,containerAriaLabel:S="Notifications"}=t,[N,P]=re.useState([]),w=re.useMemo(()=>n?N.filter(Z=>Z.toasterId===n):N.filter(Z=>!Z.toasterId),[N,n]),C=re.useMemo(()=>Array.from(new Set([i].concat(w.filter(Z=>Z.position).map(Z=>Z.position)))),[w,i]),[O,_]=re.useState([]),[E,I]=re.useState(!1),[A,M]=re.useState(!1),[B,H]=re.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=re.useRef(null),L=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=re.useRef(null),Q=re.useRef(!1),T=re.useCallback(Z=>{P(te=>{var $;return($=te.find(Y=>Y.id===Z.id))!=null&&$.delete||fr.dismiss(Z.id),te.filter(({id:Y})=>Y!==Z.id)})},[]);return re.useEffect(()=>fr.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{P(te=>te.map($=>$.id===Z.id?{...$,delete:!0}:$))});return}setTimeout(()=>{I3.flushSync(()=>{P(te=>{const $=te.findIndex(Y=>Y.id===Z.id);return $!==-1?[...te.slice(0,$),{...te[$],...Z},...te.slice($+1)]:[Z,...te]})})})}),[N]),re.useEffect(()=>{if(p!=="system"){H(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:te})=>{H(te?"dark":"light")})}catch{Z.addListener(({matches:$})=>{try{H($?"dark":"light")}catch(Y){console.error(Y)}})}},[p]),re.useEffect(()=>{N.length<=1&&I(!1)},[N]),re.useEffect(()=>{const Z=te=>{var $;if(o.every(se=>te[se]||te.code===se)){var le;I(!0),(le=R.current)==null||le.focus()}te.code==="Escape"&&(document.activeElement===R.current||($=R.current)!=null&&$.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[o]),re.useEffect(()=>{if(R.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,Q.current=!1)}},[R.current]),re.createElement("section",{ref:r,"aria-label":`${S} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((Z,te)=>{var $;const[Y,le]=Z.split("-");return w.length?re.createElement("ol",{key:Z,dir:b==="auto"?_0():b,tabIndex:-1,ref:R,className:c,"data-sonner-toaster":!0,"data-sonner-theme":B,"data-y-position":Y,"data-x-position":le,style:{"--front-toast-height":`${(($=O[0])==null?void 0:$.height)||0}px`,"--width":`${rD}px`,"--gap":`${j}px`,...g,...lD(u,m)},onBlur:se=>{Q.current&&!se.currentTarget.contains(se.relatedTarget)&&(Q.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,z.current=se.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{A||I(!1)},onDragEnd:()=>I(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},w.filter(se=>!se.position&&te===0||se.position===Z).map((se,K)=>{var ue,he;return re.createElement(oD,{key:se.id,icons:k,index:K,toast:se,defaultRichColors:x,duration:(ue=h==null?void 0:h.duration)!=null?ue:y,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:s,visibleToasts:v,closeButton:(he=h==null?void 0:h.closeButton)!=null?he:d,interacting:A,position:Z,style:h==null?void 0:h.style,unstyled:h==null?void 0:h.unstyled,classNames:h==null?void 0:h.classNames,cancelButtonStyle:h==null?void 0:h.cancelButtonStyle,actionButtonStyle:h==null?void 0:h.actionButtonStyle,closeButtonAriaLabel:h==null?void 0:h.closeButtonAriaLabel,removeToast:T,toasts:w.filter(J=>J.position==se.position),heights:O.filter(J=>J.position==se.position),setHeights:_,expandByDefault:l,gap:j,expanded:E,swipeDirections:t.swipeDirections})})):null}))});function Ok(e,t){return function(){return e.apply(t,arguments)}}const{toString:dD}=Object.prototype,{getPrototypeOf:Dy}=Object,{iterator:lm,toStringTag:Ak}=Symbol,cm=(e=>t=>{const r=dD.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),vn=e=>(e=e.toLowerCase(),t=>cm(t)===e),dm=e=>t=>typeof t===e,{isArray:qi}=Array,Ci=dm("undefined");function Dl(e){return e!==null&&!Ci(e)&&e.constructor!==null&&!Ci(e.constructor)&&jr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Tk=vn("ArrayBuffer");function uD(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Tk(e.buffer),t}const mD=dm("string"),jr=dm("function"),Dk=dm("number"),Il=e=>e!==null&&typeof e=="object",fD=e=>e===!0||e===!1,pd=e=>{if(cm(e)!=="object")return!1;const t=Dy(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ak in e)&&!(lm in e)},pD=e=>{if(!Il(e)||Dl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},xD=vn("Date"),hD=vn("File"),yD=vn("Blob"),gD=vn("FileList"),vD=e=>Il(e)&&jr(e.pipe),bD=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||jr(e.append)&&((t=cm(e))==="formdata"||t==="object"&&jr(e.toString)&&e.toString()==="[object FormData]"))},jD=vn("URLSearchParams"),[wD,ND,kD,_D]=["ReadableStream","Request","Response","Headers"].map(vn),SD=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ml(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),qi(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Dl(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function Ik(e,t){if(Dl(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const hs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mk=e=>!Ci(e)&&e!==hs;function wx(){const{caseless:e,skipUndefined:t}=Mk(this)&&this||{},r={},n=(s,i)=>{const o=e&&Ik(r,i)||i;pd(r[o])&&pd(s)?r[o]=wx(r[o],s):pd(s)?r[o]=wx({},s):qi(s)?r[o]=s.slice():(!t||!Ci(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Ml(arguments[s],n);return r}const CD=(e,t,r,{allOwnKeys:n}={})=>(Ml(t,(s,i)=>{r&&jr(s)?e[i]=Ok(s,r):e[i]=s},{allOwnKeys:n}),e),PD=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ED=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},OD=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Dy(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},AD=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},TD=e=>{if(!e)return null;if(qi(e))return e;let t=e.length;if(!Dk(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},DD=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Dy(Uint8Array)),ID=(e,t)=>{const n=(e&&e[lm]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},MD=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},$D=vn("HTMLFormElement"),LD=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),S0=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),RD=vn("RegExp"),$k=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ml(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},zD=e=>{$k(e,(t,r)=>{if(jr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(jr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},FD=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return qi(e)?n(e):n(String(e).split(t)),r},BD=()=>{},UD=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function WD(e){return!!(e&&jr(e.append)&&e[Ak]==="FormData"&&e[lm])}const KD=e=>{const t=new Array(10),r=(n,s)=>{if(Il(n)){if(t.indexOf(n)>=0)return;if(Dl(n))return n;if(!("toJSON"in n)){t[s]=n;const i=qi(n)?[]:{};return Ml(n,(o,l)=>{const d=r(o,s+1);!Ci(d)&&(i[l]=d)}),t[s]=void 0,i}}return n};return r(e,0)},HD=vn("AsyncFunction"),VD=e=>e&&(Il(e)||jr(e))&&jr(e.then)&&jr(e.catch),Lk=((e,t)=>e?setImmediate:t?((r,n)=>(hs.addEventListener("message",({source:s,data:i})=>{s===hs&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),hs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",jr(hs.postMessage)),qD=typeof queueMicrotask<"u"?queueMicrotask.bind(hs):typeof process<"u"&&process.nextTick||Lk,YD=e=>e!=null&&jr(e[lm]),G={isArray:qi,isArrayBuffer:Tk,isBuffer:Dl,isFormData:bD,isArrayBufferView:uD,isString:mD,isNumber:Dk,isBoolean:fD,isObject:Il,isPlainObject:pd,isEmptyObject:pD,isReadableStream:wD,isRequest:ND,isResponse:kD,isHeaders:_D,isUndefined:Ci,isDate:xD,isFile:hD,isBlob:yD,isRegExp:RD,isFunction:jr,isStream:vD,isURLSearchParams:jD,isTypedArray:DD,isFileList:gD,forEach:Ml,merge:wx,extend:CD,trim:SD,stripBOM:PD,inherits:ED,toFlatObject:OD,kindOf:cm,kindOfTest:vn,endsWith:AD,toArray:TD,forEachEntry:ID,matchAll:MD,isHTMLForm:$D,hasOwnProperty:S0,hasOwnProp:S0,reduceDescriptors:$k,freezeMethods:zD,toObjectSet:FD,toCamelCase:LD,noop:BD,toFiniteNumber:UD,findKey:Ik,global:hs,isContextDefined:Mk,isSpecCompliantForm:WD,toJSONObject:KD,isAsyncFn:HD,isThenable:VD,setImmediate:Lk,asap:qD,isIterable:YD};function Se(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}G.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const Rk=Se.prototype,zk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{zk[e]={value:e}});Object.defineProperties(Se,zk);Object.defineProperty(Rk,"isAxiosError",{value:!0});Se.from=(e,t,r,n,s,i)=>{const o=Object.create(Rk);G.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return Se.call(o,l,d,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const GD=null;function Nx(e){return G.isPlainObject(e)||G.isArray(e)}function Fk(e){return G.endsWith(e,"[]")?e.slice(0,-2):e}function C0(e,t,r){return e?e.concat(t).map(function(s,i){return s=Fk(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function XD(e){return G.isArray(e)&&!e.some(Nx)}const QD=G.toFlatObject(G,{},null,function(t){return/^is[A-Z]/.test(t)});function um(e,t,r){if(!G.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=G.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!G.isUndefined(v[g])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(t);if(!G.isFunction(s))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(G.isDate(y))return y.toISOString();if(G.isBoolean(y))return y.toString();if(!d&&G.isBlob(y))throw new Se("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(y)||G.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,g,v){let h=y;if(y&&!v&&typeof y=="object"){if(G.endsWith(g,"{}"))g=n?g:g.slice(0,-2),y=JSON.stringify(y);else if(G.isArray(y)&&XD(y)||(G.isFileList(y)||G.endsWith(g,"[]"))&&(h=G.toArray(y)))return g=Fk(g),h.forEach(function(j,k){!(G.isUndefined(j)||j===null)&&t.append(o===!0?C0([g],k,i):o===null?g:g+"[]",c(j))}),!1}return Nx(y)?!0:(t.append(C0(v,g,i),c(y)),!1)}const m=[],p=Object.assign(QD,{defaultVisitor:u,convertValue:c,isVisitable:Nx});function x(y,g){if(!G.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+g.join("."));m.push(y),G.forEach(y,function(h,b){(!(G.isUndefined(h)||h===null)&&s.call(t,h,G.isString(b)?b.trim():b,g,p))===!0&&x(h,g?g.concat(b):[b])}),m.pop()}}if(!G.isObject(e))throw new TypeError("data must be an object");return x(e),t}function P0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Iy(e,t){this._pairs=[],e&&um(e,this,t)}const Bk=Iy.prototype;Bk.append=function(t,r){this._pairs.push([t,r])};Bk.toString=function(t){const r=t?function(n){return t.call(this,n,P0)}:P0;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function ZD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Uk(e,t,r){if(!t)return e;const n=r&&r.encode||ZD;G.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=G.isURLSearchParams(t)?t.toString():new Iy(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class E0{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){G.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Wk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JD=typeof URLSearchParams<"u"?URLSearchParams:Iy,eI=typeof FormData<"u"?FormData:null,tI=typeof Blob<"u"?Blob:null,rI={isBrowser:!0,classes:{URLSearchParams:JD,FormData:eI,Blob:tI},protocols:["http","https","file","blob","url","data"]},My=typeof window<"u"&&typeof document<"u",kx=typeof navigator=="object"&&navigator||void 0,nI=My&&(!kx||["ReactNative","NativeScript","NS"].indexOf(kx.product)<0),aI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sI=My&&window.location.href||"http://localhost",iI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:My,hasStandardBrowserEnv:nI,hasStandardBrowserWebWorkerEnv:aI,navigator:kx,origin:sI},Symbol.toStringTag,{value:"Module"})),Jt={...iI,...rI};function oI(e,t){return um(e,new Jt.classes.URLSearchParams,{visitor:function(r,n,s,i){return Jt.isNode&&G.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function lI(e){return G.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function cI(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function Kk(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=r.length;return o=!o&&G.isArray(s)?s.length:o,d?(G.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!G.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&G.isArray(s[o])&&(s[o]=cI(s[o])),!l)}if(G.isFormData(e)&&G.isFunction(e.entries)){const r={};return G.forEachEntry(e,(n,s)=>{t(lI(n),s,r,0)}),r}return null}function dI(e,t,r){if(G.isString(e))try{return(t||JSON.parse)(e),G.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const $l={transitional:Wk,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=G.isObject(t);if(i&&G.isHTMLForm(t)&&(t=new FormData(t)),G.isFormData(t))return s?JSON.stringify(Kk(t)):t;if(G.isArrayBuffer(t)||G.isBuffer(t)||G.isStream(t)||G.isFile(t)||G.isBlob(t)||G.isReadableStream(t))return t;if(G.isArrayBufferView(t))return t.buffer;if(G.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return oI(t,this.formSerializer).toString();if((l=G.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return um(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),dI(t)):t}],transformResponse:[function(t){const r=this.transitional||$l.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(G.isResponse(t)||G.isReadableStream(t))return t;if(t&&G.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Se.from(l,Se.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jt.classes.FormData,Blob:Jt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],e=>{$l.headers[e]={}});const uI=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mI=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&uI[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},O0=Symbol("internals");function yo(e){return e&&String(e).trim().toLowerCase()}function xd(e){return e===!1||e==null?e:G.isArray(e)?e.map(xd):String(e)}function fI(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const pI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Yf(e,t,r,n,s){if(G.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!G.isString(t)){if(G.isString(n))return t.indexOf(n)!==-1;if(G.isRegExp(n))return n.test(t)}}function xI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function hI(e,t){const r=G.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let wr=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,d,c){const u=yo(d);if(!u)throw new Error("header name must be a non-empty string");const m=G.findKey(s,u);(!m||s[m]===void 0||c===!0||c===void 0&&s[m]!==!1)&&(s[m||d]=xd(l))}const o=(l,d)=>G.forEach(l,(c,u)=>i(c,u,d));if(G.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(G.isString(t)&&(t=t.trim())&&!pI(t))o(mI(t),r);else if(G.isObject(t)&&G.isIterable(t)){let l={},d,c;for(const u of t){if(!G.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(d=l[c])?G.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=yo(t),t){const n=G.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return fI(s);if(G.isFunction(r))return r.call(this,s,n);if(G.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=yo(t),t){const n=G.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Yf(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=yo(o),o){const l=G.findKey(n,o);l&&(!r||Yf(n,n[l],l,r))&&(delete n[l],s=!0)}}return G.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Yf(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return G.forEach(this,(s,i)=>{const o=G.findKey(n,i);if(o){r[o]=xd(s),delete r[i];return}const l=t?xI(i):String(i).trim();l!==i&&delete r[i],r[l]=xd(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return G.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&G.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[O0]=this[O0]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=yo(o);n[l]||(hI(s,o),n[l]=!0)}return G.isArray(t)?t.forEach(i):i(t),this}};wr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(wr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});G.freezeMethods(wr);function Gf(e,t){const r=this||$l,n=t||r,s=wr.from(n.headers);let i=n.data;return G.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Hk(e){return!!(e&&e.__CANCEL__)}function Yi(e,t,r){Se.call(this,e??"canceled",Se.ERR_CANCELED,t,r),this.name="CanceledError"}G.inherits(Yi,Se,{__CANCEL__:!0});function Vk(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Se("Request failed with status code "+r.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function yI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function gI(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),u=n[i];o||(o=c),r[s]=d,n[s]=c;let m=i,p=0;for(;m!==s;)p+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const x=u&&c-u;return x?Math.round(p*1e3/x):void 0}}function vI(e,t){let r=0,n=1e3/t,s,i;const o=(c,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),m=u-r;m>=n?o(c,u):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},n-m)))},()=>s&&o(s)]}const Gd=(e,t,r=3)=>{let n=0;const s=gI(50,250);return vI(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-n,c=s(d),u=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-o)/c:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},A0=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},T0=e=>(...t)=>G.asap(()=>e(...t)),bI=Jt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Jt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Jt.origin),Jt.navigator&&/(msie|trident)/i.test(Jt.navigator.userAgent)):()=>!0,jI=Jt.hasStandardBrowserEnv?{write(e,t,r,n,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];G.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),G.isString(n)&&l.push(`path=${n}`),G.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),G.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function wI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function NI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function qk(e,t,r){let n=!wI(t);return e&&(n||r==!1)?NI(e,t):t}const D0=e=>e instanceof wr?{...e}:e;function Ts(e,t){t=t||{};const r={};function n(c,u,m,p){return G.isPlainObject(c)&&G.isPlainObject(u)?G.merge.call({caseless:p},c,u):G.isPlainObject(u)?G.merge({},u):G.isArray(u)?u.slice():u}function s(c,u,m,p){if(G.isUndefined(u)){if(!G.isUndefined(c))return n(void 0,c,m,p)}else return n(c,u,m,p)}function i(c,u){if(!G.isUndefined(u))return n(void 0,u)}function o(c,u){if(G.isUndefined(u)){if(!G.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function l(c,u,m){if(m in t)return n(c,u);if(m in e)return n(void 0,c)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,u,m)=>s(D0(c),D0(u),m,!0)};return G.forEach(Object.keys({...e,...t}),function(u){const m=d[u]||s,p=m(e[u],t[u],u);G.isUndefined(p)&&m!==l||(r[u]=p)}),r}const Yk=e=>{const t=Ts({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=wr.from(o),t.url=Uk(qk(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),G.isFormData(r)){if(Jt.hasStandardBrowserEnv||Jt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(G.isFunction(r.getHeaders)){const d=r.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,m])=>{c.includes(u.toLowerCase())&&o.set(u,m)})}}if(Jt.hasStandardBrowserEnv&&(n&&G.isFunction(n)&&(n=n(t)),n||n!==!1&&bI(t.url))){const d=s&&i&&jI.read(i);d&&o.set(s,d)}return t},kI=typeof XMLHttpRequest<"u",_I=kI&&function(e){return new Promise(function(r,n){const s=Yk(e);let i=s.data;const o=wr.from(s.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=s,u,m,p,x,y;function g(){x&&x(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function h(){if(!v)return;const j=wr.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:j,config:e,request:v};Vk(function(P){r(P),g()},function(P){n(P),g()},S),v=null}"onloadend"in v?v.onloadend=h:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(h)},v.onabort=function(){v&&(n(new Se("Request aborted",Se.ECONNABORTED,e,v)),v=null)},v.onerror=function(k){const S=k&&k.message?k.message:"Network Error",N=new Se(S,Se.ERR_NETWORK,e,v);N.event=k||null,n(N),v=null},v.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||Wk;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new Se(k,S.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&G.forEach(o.toJSON(),function(k,S){v.setRequestHeader(S,k)}),G.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),c&&([p,y]=Gd(c,!0),v.addEventListener("progress",p)),d&&v.upload&&([m,x]=Gd(d),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(u=j=>{v&&(n(!j||j.type?new Yi(null,e,v):j),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const b=yI(s.url);if(b&&Jt.protocols.indexOf(b)===-1){n(new Se("Unsupported protocol "+b+":",Se.ERR_BAD_REQUEST,e));return}v.send(i||null)})},SI=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(c){if(!s){s=!0,l();const u=c instanceof Error?c:this.reason;n.abort(u instanceof Se?u:new Yi(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new Se(`timeout ${t} of ms exceeded`,Se.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>G.asap(l),d}},CI=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},PI=async function*(e,t){for await(const r of EI(e))yield*CI(r,t)},EI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},I0=(e,t,r,n)=>{const s=PI(e,t);let i=0,o,l=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await s.next();if(c){l(),d.close();return}let m=u.byteLength;if(r){let p=i+=m;r(p)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),s.return()}},{highWaterMark:2})},M0=64*1024,{isFunction:Mc}=G,OI=(({Request:e,Response:t})=>({Request:e,Response:t}))(G.global),{ReadableStream:$0,TextEncoder:L0}=G.global,R0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},AI=e=>{e=G.merge.call({skipUndefined:!0},OI,e);const{fetch:t,Request:r,Response:n}=e,s=t?Mc(t):typeof fetch=="function",i=Mc(r),o=Mc(n);if(!s)return!1;const l=s&&Mc($0),d=s&&(typeof L0=="function"?(y=>g=>y.encode(g))(new L0):async y=>new Uint8Array(await new r(y).arrayBuffer())),c=i&&l&&R0(()=>{let y=!1;const g=new r(Jt.origin,{body:new $0,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!g}),u=o&&l&&R0(()=>G.isReadableStream(new n("").body)),m={stream:u&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!m[y]&&(m[y]=(g,v)=>{let h=g&&g[y];if(h)return h.call(g);throw new Se(`Response type '${y}' is not supported`,Se.ERR_NOT_SUPPORT,v)})});const p=async y=>{if(y==null)return 0;if(G.isBlob(y))return y.size;if(G.isSpecCompliantForm(y))return(await new r(Jt.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(G.isArrayBufferView(y)||G.isArrayBuffer(y))return y.byteLength;if(G.isURLSearchParams(y)&&(y=y+""),G.isString(y))return(await d(y)).byteLength},x=async(y,g)=>{const v=G.toFiniteNumber(y.getContentLength());return v??p(g)};return async y=>{let{url:g,method:v,data:h,signal:b,cancelToken:j,timeout:k,onDownloadProgress:S,onUploadProgress:N,responseType:P,headers:w,withCredentials:C="same-origin",fetchOptions:O}=Yk(y),_=t||fetch;P=P?(P+"").toLowerCase():"text";let E=SI([b,j&&j.toAbortSignal()],k),I=null;const A=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let M;try{if(N&&c&&v!=="get"&&v!=="head"&&(M=await x(w,h))!==0){let Q=new r(g,{method:"POST",body:h,duplex:"half"}),T;if(G.isFormData(h)&&(T=Q.headers.get("content-type"))&&w.setContentType(T),Q.body){const[Z,te]=A0(M,Gd(T0(N)));h=I0(Q.body,M0,Z,te)}}G.isString(C)||(C=C?"include":"omit");const B=i&&"credentials"in r.prototype,H={...O,signal:E,method:v.toUpperCase(),headers:w.normalize().toJSON(),body:h,duplex:"half",credentials:B?C:void 0};I=i&&new r(g,H);let R=await(i?_(I,O):_(g,H));const L=u&&(P==="stream"||P==="response");if(u&&(S||L&&A)){const Q={};["status","statusText","headers"].forEach($=>{Q[$]=R[$]});const T=G.toFiniteNumber(R.headers.get("content-length")),[Z,te]=S&&A0(T,Gd(T0(S),!0))||[];R=new n(I0(R.body,M0,Z,()=>{te&&te(),A&&A()}),Q)}P=P||"text";let z=await m[G.findKey(m,P)||"text"](R,y);return!L&&A&&A(),await new Promise((Q,T)=>{Vk(Q,T,{data:z,headers:wr.from(R.headers),status:R.status,statusText:R.statusText,config:y,request:I})})}catch(B){throw A&&A(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,y,I),{cause:B.cause||B}):Se.from(B,B&&B.code,y,I)}}},TI=new Map,Gk=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,d,c,u=TI;for(;l--;)d=i[l],c=u.get(d),c===void 0&&u.set(d,c=l?new Map:AI(t)),u=c;return c};Gk();const $y={http:GD,xhr:_I,fetch:{get:Gk}};G.forEach($y,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const z0=e=>`- ${e}`,DI=e=>G.isFunction(e)||e===null||e===!1;function II(e,t){e=G.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!DI(n)&&(s=$y[(l=String(n)).toLowerCase()],s===void 0))throw new Se(`Unknown adapter '${l}'`);if(s&&(G.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(z0).join(`
`):" "+z0(o[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const Xk={getAdapter:II,adapters:$y};function Xf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Yi(null,e)}function F0(e){return Xf(e),e.headers=wr.from(e.headers),e.data=Gf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Xk.getAdapter(e.adapter||$l.adapter,e)(e).then(function(n){return Xf(e),n.data=Gf.call(e,e.transformResponse,n),n.headers=wr.from(n.headers),n},function(n){return Hk(n)||(Xf(e),n&&n.response&&(n.response.data=Gf.call(e,e.transformResponse,n.response),n.response.headers=wr.from(n.response.headers))),Promise.reject(n)})}const Qk="1.13.2",mm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{mm[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const B0={};mm.transitional=function(t,r,n){function s(i,o){return"[Axios v"+Qk+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new Se(s(o," has been removed"+(r?" in "+r:"")),Se.ERR_DEPRECATED);return r&&!B0[o]&&(B0[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};mm.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function MI(e,t,r){if(typeof e!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new Se("option "+i+" must be "+d,Se.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Se("Unknown option "+i,Se.ERR_BAD_OPTION)}}const hd={assertOptions:MI,validators:mm},kn=hd.validators;let ws=class{constructor(t){this.defaults=t||{},this.interceptors={request:new E0,response:new E0}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ts(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&hd.assertOptions(n,{silentJSONParsing:kn.transitional(kn.boolean),forcedJSONParsing:kn.transitional(kn.boolean),clarifyTimeoutError:kn.transitional(kn.boolean)},!1),s!=null&&(G.isFunction(s)?r.paramsSerializer={serialize:s}:hd.assertOptions(s,{encode:kn.function,serialize:kn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),hd.assertOptions(r,{baseUrl:kn.spelling("baseURL"),withXsrfToken:kn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&G.merge(i.common,i[r.method]);i&&G.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=wr.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(d=d&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,m=0,p;if(!d){const y=[F0.bind(this),void 0];for(y.unshift(...l),y.push(...c),p=y.length,u=Promise.resolve(r);m<p;)u=u.then(y[m++],y[m++]);return u}p=l.length;let x=r;for(;m<p;){const y=l[m++],g=l[m++];try{x=y(x)}catch(v){g.call(this,v);break}}try{u=F0.call(this,x)}catch(y){return Promise.reject(y)}for(m=0,p=c.length;m<p;)u=u.then(c[m++],c[m++]);return u}getUri(t){t=Ts(this.defaults,t);const r=qk(t.baseURL,t.url,t.allowAbsoluteUrls);return Uk(r,t.params,t.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(t){ws.prototype[t]=function(r,n){return this.request(Ts(n||{},{method:t,url:r,data:(n||{}).data}))}});G.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(Ts(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ws.prototype[t]=r(),ws.prototype[t+"Form"]=r(!0)});let $I=class Zk{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Yi(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Zk(function(s){t=s}),cancel:t}}};function LI(e){return function(r){return e.apply(null,r)}}function RI(e){return G.isObject(e)&&e.isAxiosError===!0}const _x={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(_x).forEach(([e,t])=>{_x[t]=e});function Jk(e){const t=new ws(e),r=Ok(ws.prototype.request,t);return G.extend(r,ws.prototype,t,{allOwnKeys:!0}),G.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Jk(Ts(e,s))},r}const ot=Jk($l);ot.Axios=ws;ot.CanceledError=Yi;ot.CancelToken=$I;ot.isCancel=Hk;ot.VERSION=Qk;ot.toFormData=um;ot.AxiosError=Se;ot.Cancel=ot.CanceledError;ot.all=function(t){return Promise.all(t)};ot.spread=LI;ot.isAxiosError=RI;ot.mergeConfig=Ts;ot.AxiosHeaders=wr;ot.formToJSON=e=>Kk(G.isHTMLForm(e)?new FormData(e):e);ot.getAdapter=Xk.getAdapter;ot.HttpStatusCode=_x;ot.default=ot;const{Axios:ZG,AxiosError:JG,CanceledError:eX,isCancel:tX,CancelToken:rX,VERSION:nX,all:aX,Cancel:sX,isAxiosError:iX,spread:oX,toFormData:lX,AxiosHeaders:cX,HttpStatusCode:dX,formToJSON:uX,getAdapter:mX,mergeConfig:fX}=ot,e_=f.createContext(),zI=()=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:8001":"",Ly=zI();console.log(" Backend URL:",Ly,"| Hostname:",window.location.hostname);const Ao=ot.create({baseURL:Ly,headers:{"Content-Type":"application/json"}});Ao.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const Ne=()=>{const e=f.useContext(e_);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},FI=({children:e})=>{const[t,r]=f.useState(null),[n,s]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{if(localStorage.getItem("token"))try{const u=await Ao.get("/api/auth/me");r(u.data)}catch{localStorage.removeItem("token"),localStorage.removeItem("user")}s(!1)},o=async(c,u)=>{var m,p;try{console.log("Attempting login to:",`${Ly}/api/auth/login`);const x=await Ao.post("/api/auth/login",{email:c,password:u}),{access_token:y,user:g}=x.data;return localStorage.setItem("token",y),localStorage.setItem("user",JSON.stringify(g)),r(g),{success:!0}}catch(x){return console.error("Login error:",x),{success:!1,error:((p=(m=x.response)==null?void 0:m.data)==null?void 0:p.detail)||x.message||"Login failed - Network error"}}},l=async c=>{var u,m;try{return{success:!0,message:(await Ao.post("/api/auth/register",c)).data.message}}catch(p){return{success:!1,error:((m=(u=p.response)==null?void 0:u.data)==null?void 0:m.detail)||"Registration failed"}}},d=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)};return a.jsx(e_.Provider,{value:{user:t,loading:n,login:o,register:l,logout:d,api:Ao},children:e})},t_=f.createContext(),Ry=()=>{const e=f.useContext(t_);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},BI=({children:e})=>{const[t,r]=f.useState(()=>localStorage.getItem("theme")||"dark"),[n,s]=f.useState(()=>localStorage.getItem("language")||"ru");f.useEffect(()=>{localStorage.setItem("theme",t),t==="light"?document.documentElement.classList.add("light-theme"):document.documentElement.classList.remove("light-theme")},[t]),f.useEffect(()=>{localStorage.setItem("language",n)},[n]);const i=()=>{r(l=>l==="dark"?"light":"dark")},o=l=>{s(l)};return a.jsx(t_.Provider,{value:{theme:t,language:n,toggleTheme:i,changeLanguage:o},children:e})},U0={ru:{loading:"// ...",save:"",cancel:"",delete:"",edit:"",create:"",view:"",search:"",filter:"",actions:"",status:"",login:"",register:"",logout:"",email:"Email",password:"",fullName:" ",companyName:" ",inn:"",adminPanel:"",sellerPanel:"",overview:"",users:"",analytics:"",products:"",orders:"",inventory:"",apiKeys:"API ",finance:"",balance:"",promocodes:"",questions:"",reviews:"",dashboard:"",sellers:"",payouts:"",categories:"",addProduct:"+  ",editProduct:" ",createProduct:" ",productList:"",sku:"",name:"",price:"",description:"",tags:"",images:"",quality:"",variant:"",orderList:"",orderNumber:" ",customer:"",source:"",total:"",date:"",inventoryManagement:" ",fbs:"FBS ( )",fbo:"FBO ( )",history:" ",quantity:"",reserved:"",available:"",adjust:"",settings:"",theme:"",language:"",currency:"",dark:"",light:"",noDistractionsJustResults:"//  ,  ",enterCredentials:"//   ",manageProducts:"//   ",trackOrders:"//  ",warehouseManagement:"//   "},en:{loading:"// LOADING...",save:"SAVE",cancel:"CANCEL",delete:"DELETE",edit:"EDIT",create:"CREATE",view:"VIEW",search:"Search",filter:"Filter",actions:"Actions",status:"Status",login:"LOGIN",register:"REGISTER",logout:"LOGOUT",email:"Email",password:"Password",fullName:"Full Name",companyName:"Company Name",inn:"Tax ID",adminPanel:"ADMIN",sellerPanel:"SELLER",overview:"Overview",users:"Users",analytics:"Analytics",products:"Products",orders:"Orders",inventory:"Inventory",apiKeys:"API Keys",finance:"Finance",balance:"Balance",promocodes:"Promocodes",questions:"Questions",reviews:"Reviews",dashboard:"Dashboard",sellers:"Sellers",payouts:"Payouts",categories:"Categories",addProduct:"+ ADD PRODUCT",editProduct:"EDIT PRODUCT",createProduct:"CREATE PRODUCT",productList:"PRODUCTS",sku:"SKU",name:"Name",price:"Price",description:"Description",tags:"Tags",images:"Images",quality:"Quality",variant:"Variant",orderList:"ORDERS",orderNumber:"Order #",customer:"Customer",source:"Source",total:"Total",date:"Date",inventoryManagement:"INVENTORY",fbs:"FBS (Own Warehouse)",fbo:"FBO (Marketplace Warehouses)",history:"Movement History",quantity:"Quantity",reserved:"Reserved",available:"Available",adjust:"ADJUST",settings:"SETTINGS",theme:"THEME",language:"LANGUAGE",currency:"CURRENCY",dark:"Dark",light:"Light",noDistractionsJustResults:"// No distractions, Just results",enterCredentials:"// Enter your credentials",manageProducts:"// Manage your product catalog",trackOrders:"// Track your sales",warehouseManagement:"// Manage warehouse and stock levels"}},UI=e=>({t:r=>{var n;return((n=U0[e])==null?void 0:n[r])||U0.en[r]||r}});function WI(){const e=Jr(),{login:t}=Ne(),{language:r}=Ry(),{t:n}=UI(r),[s,i]=f.useState({email:"",password:""}),[o,l]=f.useState(""),[d,c]=f.useState(!1),u=async p=>{p.preventDefault(),l(""),c(!0);const x=await t(s.email,s.password);x.success?e("/"):l(x.error),c(!1)},m=p=>{i({...s,[p.target.name]:p.target.value})};return a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-5xl font-bold mb-4 text-mm-text",children:["MINIMAL",a.jsx("span",{className:"text-mm-purple",children:"MOD"})]}),a.jsx("p",{className:"comment",children:n("noDistractionsJustResults")})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan",children:n("login")}),a.jsx("p",{className:"comment mb-8",children:n("enterCredentials")}),o&&a.jsx("div",{className:"mb-6 p-4 border border-mm-red bg-mm-red/10 text-mm-red text-sm font-mono",children:o}),a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase tracking-wider",children:n("email")}),a.jsx("input",{type:"email",name:"email",value:s.email,onChange:m,className:"input-neon w-full",placeholder:"admin@minimalmod.com",required:!0,"data-testid":"login-email-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase tracking-wider",children:n("password")}),a.jsx("input",{type:"password",name:"password",value:s.password,onChange:m,className:"input-neon w-full",placeholder:"",required:!0,"data-testid":"login-password-input"})]}),a.jsx("button",{type:"submit",disabled:d,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"login-submit-button",children:d?n("loading"):`// ${n("login")}`})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-mm-border",children:a.jsxs("p",{className:"text-mm-text-secondary text-sm text-center",children:[a.jsx("span",{className:"comment",children:"// New seller?"})," ",a.jsx(fd,{to:"/register",className:"text-mm-cyan hover:text-mm-cyan/80 transition-colors",children:"Register here"})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-mm-darker border border-mm-border",children:[a.jsx("p",{className:"comment text-xs mb-2",children:"// Demo credentials:"}),a.jsx("p",{className:"text-xs text-mm-text-secondary",children:"Admin: admin@minimalmod.com / admin123"})]})]})]})})}var r_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},W0=re.createContext&&re.createContext(r_),Fa=function(){return Fa=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Fa.apply(this,arguments)},KI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function n_(e){return e&&e.map(function(t,r){return re.createElement(t.tag,Fa({key:r},t.attr),n_(t.child))})}function be(e){return function(t){return re.createElement(HI,Fa({attr:Fa({},e.attr)},t),n_(e.child))}}function HI(e){var t=function(r){var n=e.attr,s=e.size,i=e.title,o=KI(e,["attr","size","title"]),l=s||r.size||"1em",d;return r.className&&(d=r.className),e.className&&(d=(d?d+" ":"")+e.className),re.createElement("svg",Fa({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:d,style:Fa(Fa({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&re.createElement("title",null,i),e.children)};return W0!==void 0?re.createElement(W0.Consumer,null,function(r){return t(r)}):t(r_)}function a_(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(e)}function An(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}function K0(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(e)}function s_(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(e)}function VI(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"}},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"}}]})(e)}function Sx(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function ul(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"}}]})(e)}function qI(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"}},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}}]})(e)}function Vt(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function Us(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function fm(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"}}]})(e)}function ea(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}function ta(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(e)}function ut(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(e)}function zy(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(e)}function Ka(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function pm(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(e)}function Fy(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"}},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"}},{tag:"polyline",attr:{points:"10 9 9 9 8 9"}}]})(e)}function By(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(e)}function H0(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}}]})(e)}function i_(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(e)}function Cx(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"}},{tag:"polyline",attr:{points:"21 15 16 10 5 21"}}]})(e)}function YI(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"}}]})(e)}function o_(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}}]})(e)}function l_(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"}},{tag:"polyline",attr:{points:"2 17 12 22 22 17"}},{tag:"polyline",attr:{points:"2 12 12 17 22 12"}}]})(e)}function Ko(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}}]})(e)}function GI(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"}}]})(e)}function Xd(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"}},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"}},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"}},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"}},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}}]})(e)}function XI(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"}}]})(e)}function QI(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}}]})(e)}function yt(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function V0(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"}},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"}},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"}}]})(e)}function Ll(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"}}]})(e)}function Dr(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function c_(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"}},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"}}]})(e)}function pt(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"polyline",attr:{points:"1 20 1 14 7 14"}},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}}]})(e)}function Pi(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(e)}function ra(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function d_(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function u_(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"}}]})(e)}function Qd(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"}},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"}},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}}]})(e)}function ZI(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}}]})(e)}function $c(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(e)}function JI(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"}},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"}},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}}]})(e)}function m_(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"}}]})(e)}function bn(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function Ei(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"}},{tag:"polyline",attr:{points:"17 18 23 18 23 12"}}]})(e)}function Ha(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(e)}function f_(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"}},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"}},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"}},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"}}]})(e)}function er(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(e)}function Oi(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function eM(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function Uy(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"}}]})(e)}function ht(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}function p_(){const[e,t]=f.useState(!1),r=f.useRef(null),{theme:n,language:s,toggleTheme:i,changeLanguage:o}=Ry();return f.useEffect(()=>{const l=d=>{r.current&&!r.current.contains(d.target)&&t(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),a.jsxs("div",{className:"relative",ref:r,children:[a.jsx("button",{onClick:()=>t(!e),className:"p-2 border-2 border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":"settings-button",children:a.jsx(d_,{size:20,className:e?"animate-spin":""})}),e&&a.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-mm-dark border-2 border-mm-cyan shadow-neon-cyan z-50","data-testid":"settings-dropdown",children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"THEME"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>{n!=="dark"&&i()},className:`p-4 border-2 transition-all ${n==="dark"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"theme-dark",children:[a.jsx(QI,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"Dark"})]}),a.jsxs("button",{onClick:()=>{n!=="light"&&i()},className:`p-4 border-2 transition-all ${n==="light"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"theme-light",children:[a.jsx(JI,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"Light"})]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"LANGUAGE"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>o("ru"),className:`p-4 border-2 transition-all ${s==="ru"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"lang-ru",children:[a.jsx(H0,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"RU"})]}),a.jsxs("button",{onClick:()=>o("en"),className:`p-4 border-2 transition-all ${s==="en"?"border-mm-purple bg-mm-purple/10 text-mm-purple":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":"lang-en",children:[a.jsx(H0,{className:"mx-auto mb-2",size:24}),a.jsx("p",{className:"font-mono text-sm",children:"EN"})]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-mm-text-secondary uppercase text-xs mb-3 font-mono",children:"CURRENCY"}),a.jsxs("select",{className:"input-neon w-full",defaultValue:"RUB",children:[a.jsx("option",{value:"RUB",children:"RUB "}),a.jsx("option",{value:"USD",children:"USD $"}),a.jsx("option",{value:"EUR",children:"EUR "})]})]}),a.jsx("div",{className:"pt-4 border-t border-mm-border",children:a.jsx("p",{className:"comment text-xs text-center",children:"// Settings saved automatically"})})]})})]})}function Ai(e){return be({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2l-2.218-.887zm3.564 1.426L5.596 5 8 5.961 14.154 3.5l-2.404-.961zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"}}]})(e)}const x_=()=>{const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,d]=f.useState(""),[c,u]=f.useState({name:"",client_id:"",api_key:"",auto_sync_stock:!0,auto_update_prices:!1,auto_get_orders:!0}),[m,p]=f.useState(!1),[x,y]=f.useState(!1),g=[{id:"ozon",name:"Ozon",logo:"",description:"  Ozon    ,  FBS  ",helpText:"        : Admin, Product, Posting, Finance, Analytics, Warehouse, Orders",requiredPermissions:["Admin","Product","Posting","Finance","Analytics","Warehouse","Orders"],docsLink:"https://seller.ozon.ru/app/settings/api-keys?currentTab=sellerApi",fields:[{name:"name",label:" ",type:"text",placeholder:":   OZON"},{name:"client_id",label:"Client ID",type:"text",placeholder:" Client ID"},{name:"api_key",label:"API Key",type:"password",placeholder:" API ",helpText:"   "}]},{id:"wb",name:"Wildberries",logo:"",description:"  Wildberries    ,  FBS  ",fields:[{name:"name",label:" ",type:"text",placeholder:":   WB"},{name:"api_key",label:"API Token",type:"password",placeholder:" API "}]},{id:"yandex",name:"Yandex.Market",logo:"",description:"  .    ,  FBS  ",fields:[{name:"name",label:" ",type:"text",placeholder:":   "},{name:"client_id",label:"Campaign ID",type:"text",placeholder:" Campaign ID"},{name:"api_key",label:"OAuth Token",type:"password",placeholder:" OAuth "}]}];f.useEffect(()=>{v()},[]);const v=async()=>{try{const C=await e.get("/api/seller/api-keys");r(C.data)}catch(C){console.error("Error loading API keys:",C)}finally{s(!1)}},h=C=>{d(C),u({name:"",client_id:"",api_key:"",auto_sync_stock:!0,auto_update_prices:!1,auto_get_orders:!0}),o(!0)},b=async()=>{var C,O;p(!0);try{const _=await e.post("/api/seller/api-keys/test",{marketplace:l,client_id:c.client_id,api_key:c.api_key});_.data.success,alert(_.data.message)}catch(_){alert(" : "+(((O=(C=_.response)==null?void 0:C.data)==null?void 0:O.detail)||_.message))}finally{p(!1)}},j=async()=>{var C,O;if(!c.api_key||!c.api_key.trim()){alert("API  ");return}y(!0);try{await e.post("/api/seller/api-keys",{marketplace:l,name:c.name,client_id:c.client_id,api_key:c.api_key}),alert("   !"),o(!1),v()}catch(_){alert(": "+(((O=(C=_.response)==null?void 0:C.data)==null?void 0:O.detail)||_.message))}finally{y(!1)}},k=async(C,O)=>{var _,E;if(confirm(`  ${O.toUpperCase()}?`))try{await e.delete(`/api/seller/api-keys/${C}`),alert("  "),v()}catch(I){alert(": "+(((E=(_=I.response)==null?void 0:_.data)==null?void 0:E.detail)||I.message))}},S=async(C,O,_)=>{var E,I;try{await e.put(`/api/seller/api-keys/${C}`,{[O]:!_}),v()}catch(A){alert(" : "+(((I=(E=A.response)==null?void 0:E.data)==null?void 0:I.detail)||A.message))}},N=C=>{const O=g.find(_=>_.id===C);return O?O.logo:""},P=C=>{const O=g.find(_=>_.id===C);return O?O.name:C};if(n)return a.jsx("div",{className:"p-8",children:a.jsx("div",{className:"text-mm-cyan",children:"..."})});const w=g.find(C=>C.id===l);return a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan mb-2",children:""}),a.jsx("p",{className:"text-gray-400",children:"    "})]}),t.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(C=>a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 hover:border-mm-cyan transition",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-4xl",children:N(C.marketplace)}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-white",children:C.name||P(C.marketplace)}),a.jsx("p",{className:"text-xs text-gray-500",children:P(C.marketplace)})]})]}),a.jsx("button",{onClick:()=>k(C.id,C.marketplace),className:"p-2 text-red-500 hover:bg-red-500/10 rounded transition",title:"",children:a.jsx(bn,{})})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Client ID:"}),a.jsx("span",{className:"text-gray-300",children:C.client_id||""})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"API Key:"}),a.jsx("span",{className:"text-gray-300",children:C.api_key_masked})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:":"}),a.jsx("span",{className:"text-gray-300",children:new Date(C.created_at).toLocaleDateString("ru-RU")})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-800 space-y-2",children:[a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[a.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),a.jsx("input",{type:"checkbox",checked:C.auto_sync_stock!==!1,onChange:()=>S(C.id,"auto_sync_stock",C.auto_sync_stock!==!1),className:"w-4 h-4 rounded"})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[a.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),a.jsx("input",{type:"checkbox",checked:C.auto_update_prices===!0,onChange:()=>S(C.id,"auto_update_prices",C.auto_update_prices===!0),className:"w-4 h-4 rounded"})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[a.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:" "}),a.jsx("input",{type:"checkbox",checked:C.auto_get_orders!==!1,onChange:()=>S(C.id,"auto_get_orders",C.auto_get_orders!==!1),className:"w-4 h-4 rounded"})]})]})]},C.id))})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:" "}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(C=>{const O=t.some(_=>_.marketplace===C.id);return a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 hover:border-mm-cyan transition",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"text-6xl mb-3",children:C.logo}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:C.name}),a.jsx("p",{className:"text-sm text-gray-400",children:C.description})]}),a.jsxs("button",{onClick:()=>h(C.id),className:"w-full px-4 py-3 bg-mm-purple hover:bg-purple-600 rounded-lg transition font-medium flex items-center justify-center space-x-2",children:[a.jsx(Dr,{}),a.jsx("span",{children:O?" ":""})]})]},C.id)})})]}),i&&w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-3xl",children:w.logo}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-cyan",children:w.name}),a.jsx("p",{className:"text-sm text-gray-400",children:w.description})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition",children:a.jsx(ht,{size:24})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[w.helpText&&a.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-yellow-200 mb-3 font-semibold",children:w.helpText}),w.requiredPermissions&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-xs text-yellow-300/80 mb-2",children:"  :"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:w.requiredPermissions.map(C=>a.jsxs("span",{className:"px-2 py-1 bg-yellow-600/20 text-yellow-200 text-xs rounded border border-yellow-600/30",children:[" ",C]},C))})]}),w.docsLink&&a.jsx("a",{href:w.docsLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-xs text-cyan-400 hover:text-cyan-300 underline",children:"    Ozon Seller (  !)"})]}),w.fields.map(C=>a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:[C.label,C.name!=="name"&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"}),C.helpText&&a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",C.helpText,")"]})]}),a.jsx("input",{type:C.type,value:c[C.name],onChange:O=>u({...c,[C.name]:O.target.value}),placeholder:C.placeholder,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan text-white"})]},C.name)),a.jsxs("div",{className:"pt-4 border-t border-gray-800",children:[a.jsx("p",{className:"text-sm font-medium mb-3 text-gray-300",children:" :"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.auto_sync_stock,onChange:C=>u({...c,auto_sync_stock:C.target.checked}),className:"w-5 h-5 rounded"}),a.jsx("span",{className:"text-sm text-gray-400",children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.auto_update_prices,onChange:C=>u({...c,auto_update_prices:C.target.checked}),className:"w-5 h-5 rounded"}),a.jsx("span",{className:"text-sm text-gray-400",children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.auto_get_orders,onChange:C=>u({...c,auto_get_orders:C.target.checked}),className:"w-5 h-5 rounded"}),a.jsx("span",{className:"text-sm text-gray-400",children:"  "})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-800 flex justify-end space-x-3",children:[a.jsx("button",{onClick:b,disabled:m||!c.api_key,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:cursor-not-allowed rounded-lg transition font-medium",children:m?"...":" "}),a.jsx("button",{onClick:j,disabled:x||!c.api_key,className:"px-6 py-3 bg-mm-cyan hover:bg-cyan-400 text-black disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed rounded-lg transition font-bold",children:x?"...":""})]})]})})]})};function tM(){const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState({status:"",source:""});f.useEffect(()=>{l()},[i]);const l=async()=>{try{const u=new URLSearchParams;i.status&&u.append("status",i.status),i.source&&u.append("source",i.source);const m=await e.get(`/api/orders?${u.toString()}`);r(m.data)}catch(u){console.error("Failed to load orders:",u)}s(!1)},d=u=>{switch(u){case"new":return a.jsx(ea,{className:"inline text-mm-blue"});case"awaiting_shipment":return a.jsx(yt,{className:"inline text-mm-yellow"});case"shipped":return a.jsx(f_,{className:"inline text-mm-cyan"});case"delivered":return a.jsx(ul,{className:"inline text-mm-green"});case"cancelled":return a.jsx(Uy,{className:"inline text-mm-red"});default:return a.jsx(ea,{className:"inline"})}},c=u=>({minimalmod:"border-mm-purple text-mm-purple",ozon:"border-mm-blue text-mm-blue",wildberries:"border-mm-purple text-mm-purple",yandex_market:"border-mm-yellow text-mm-yellow"})[u]||"border-mm-cyan text-mm-cyan";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"Orders"}),a.jsx("p",{className:"comment",children:"// Manage all your orders"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("select",{value:i.status,onChange:u=>o({...i,status:u.target.value}),className:"input-neon",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"new",children:"New"}),a.jsx("option",{value:"awaiting_shipment",children:"Awaiting Shipment"}),a.jsx("option",{value:"shipped",children:"Shipped"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:i.source,onChange:u=>o({...i,source:u.target.value}),className:"input-neon",children:[a.jsx("option",{value:"",children:"All Sources"}),a.jsx("option",{value:"minimalmod",children:"MinimalMod"}),a.jsx("option",{value:"ozon",children:"Ozon"}),a.jsx("option",{value:"wildberries",children:"Wildberries"}),a.jsx("option",{value:"yandex_market",children:"Yandex.Market"})]})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(yt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No orders found"}),a.jsx("p",{className:"comment",children:"// Orders will appear here once created"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Order #"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Customer"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Source"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Total"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Status"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),a.jsx("tbody",{children:t.map(u=>{var m,p,x,y;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:u.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date((m=u.dates)==null?void 0:m.created_at).toLocaleDateString()}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:((p=u.customer)==null?void 0:p.name)||"N/A"}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${c(u.source)}`,children:u.source})}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:["",((y=(x=u.totals)==null?void 0:x.total)==null?void 0:y.toLocaleString())||0]}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("span",{className:"flex items-center space-x-2",children:[d(u.status),a.jsx("span",{className:"text-sm font-mono uppercase",children:u.status})]})}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsx("button",{onClick:()=>window.location.href=`/orders/${u.id}`,className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors text-xs uppercase font-mono","data-testid":`view-order-${u.id}`,children:"View"})})]},u.id)})})]})})})]})}function h_(){const{api:e}=Ne(),{language:t}=Ry(),[r,n]=f.useState({revenue:0,costs:0,cogs:0,gross_profit:0,net_profit:0,margin:0,transactions_count:0}),[s,i]=f.useState(!0);f.useEffect(()=>{o()},[]);const o=async()=>{try{const l=await e.get("/api/finance/dashboard");n(l.data)}catch(l){console.error("Failed to load finance dashboard:",l)}i(!1)};return s?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"FINANCIAL DASHBOARD"}),a.jsx("p",{className:"comment",children:"// Your financial overview"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Revenue"}),a.jsxs("p",{className:"text-4xl font-bold text-mm-green flex items-center",children:[a.jsx(Ha,{className:"mr-2"}),"",r.revenue.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Costs"}),a.jsxs("p",{className:"text-4xl font-bold text-mm-red flex items-center",children:[a.jsx(Ei,{className:"mr-2"}),"",r.costs.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Net Profit"}),a.jsxs("p",{className:`text-4xl font-bold flex items-center ${r.net_profit>=0?"text-mm-green":"text-mm-red"}`,children:[a.jsx(ta,{className:"mr-2"}),"",r.net_profit.toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// COGS (Cost of Goods)"}),a.jsxs("p",{className:"text-2xl font-bold text-mm-yellow",children:["",r.cogs.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Gross Profit"}),a.jsxs("p",{className:"text-2xl font-bold text-mm-cyan",children:["",r.gross_profit.toLocaleString()]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("p",{className:"comment mb-2",children:"// Margin"}),a.jsxs("p",{className:"text-2xl font-bold text-mm-purple",children:[r.margin,"%"]})]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:"PROFIT BREAKDOWN"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[a.jsx("span",{className:"font-mono text-mm-text-secondary",children:"Revenue"}),a.jsxs("span",{className:"font-mono text-mm-green",children:["+ ",r.revenue.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[a.jsx("span",{className:"font-mono text-mm-text-secondary",children:"COGS"}),a.jsxs("span",{className:"font-mono text-mm-red",children:["- ",r.cogs.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border font-bold",children:[a.jsx("span",{className:"font-mono",children:"Gross Profit"}),a.jsxs("span",{className:"font-mono text-mm-cyan",children:["",r.gross_profit.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-mm-border",children:[a.jsx("span",{className:"font-mono text-mm-text-secondary",children:"Operating Costs"}),a.jsxs("span",{className:"font-mono text-mm-red",children:["- ",r.costs.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 font-bold text-lg",children:[a.jsx("span",{className:"font-mono",children:"Net Profit"}),a.jsxs("span",{className:`font-mono ${r.net_profit>=0?"text-mm-green":"text-mm-red"}`,children:["",r.net_profit.toLocaleString()]})]})]})]}),a.jsx("div",{className:"card-neon",children:a.jsxs("p",{className:"comment",children:["// Transactions processed: ",r.transactions_count]})})]})}function y_({isAdmin:e=!1}){const{api:t}=Ne(),[r,n]=f.useState([]),[s,i]=f.useState(!0),[o,l]=f.useState(!1),[d,c]=f.useState("");f.useEffect(()=>{u()},[]);const u=async()=>{try{const v=await t.get("/api/payouts");n(v.data)}catch(v){console.error("Failed to load payouts:",v)}i(!1)},m=async v=>{v.preventDefault();try{await t.post("/api/payouts/request",null,{params:{amount:parseFloat(d)}}),l(!1),c(""),u(),alert("Payout request submitted!")}catch{alert("Failed to request payout")}},p=async v=>{try{await t.put(`/api/admin/payouts/${v}/approve`),u()}catch(h){console.error("Failed to approve:",h)}},x=async v=>{try{await t.put(`/api/admin/payouts/${v}/paid`),u()}catch(h){console.error("Failed to mark paid:",h)}},y=async v=>{try{await t.put(`/api/admin/payouts/${v}/reject`),u()}catch(h){console.error("Failed to reject:",h)}},g=v=>{const h={pending:{class:"status-pending",icon:ea,text:"PENDING"},approved:{class:"status-new",icon:ul,text:"APPROVED"},paid:{class:"status-active",icon:ul,text:"PAID"},rejected:{class:"status-error",icon:Uy,text:"REJECTED"}};return h[v]||h.pending};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:e?"PAYOUT REQUESTS":"BALANCE & PAYOUTS"}),a.jsx("p",{className:"comment",children:e?"// Manage seller payout requests":"// Request withdrawals"})]}),!e&&a.jsx("button",{onClick:()=>l(!0),className:"btn-primary","data-testid":"request-payout-button",children:" REQUEST PAYOUT"})]}),s?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):r.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(ta,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No payout requests"}),a.jsxs("p",{className:"comment",children:["// ",e?"Requests will appear here":'Click "REQUEST PAYOUT" to withdraw funds']})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),e&&a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Seller"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Amount"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Status"}),e&&a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),a.jsx("tbody",{children:r.map(v=>{const h=g(v.status),b=h.icon;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(v.created_at).toLocaleDateString()}),e&&a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[v.seller_id.substring(0,8),"..."]}),a.jsxs("td",{className:"py-4 px-4 font-mono text-lg text-mm-green",children:["",v.amount.toLocaleString()]}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("span",{className:h.class,children:[a.jsx(b,{className:"inline mr-1"}),h.text]})}),e&&a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[v.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>p(v.id),className:"px-3 py-1 border border-mm-green text-mm-green hover:bg-mm-green/10 text-xs uppercase font-mono",children:"APPROVE"}),a.jsx("button",{onClick:()=>y(v.id),className:"px-3 py-1 border border-mm-red text-mm-red hover:bg-mm-red/10 text-xs uppercase font-mono",children:"REJECT"})]}),v.status==="approved"&&a.jsx("button",{onClick:()=>x(v.id),className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 text-xs uppercase font-mono",children:"MARK AS PAID"})]})]},v.id)})})]})})}),o&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"card-neon max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan",children:"REQUEST PAYOUT"}),a.jsx("button",{onClick:()=>l(!1),className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:""})]}),a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Amount"}),a.jsx("input",{type:"number",step:"0.01",value:d,onChange:v=>c(v.target.value),className:"input-neon w-full",placeholder:"10000.00",required:!0}),a.jsx("p",{className:"comment text-xs mt-1",children:"// Enter amount in RUB"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"REQUEST"}),a.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})})]})}function g_(){const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,d]=f.useState(null);f.useEffect(()=>{c()},[]);const c=async()=>{s(!0);try{const m=await e.get("/api/warehouses");r(m.data)}catch(m){q.error("  "),console.error(m)}s(!1)},u=async m=>{var p,x;if(confirm(`  "${m.name}"?`))try{await e.delete(`/api/warehouses/${m.id}`),q.success(" "),c()}catch(y){q.error(((x=(p=y.response)==null?void 0:p.data)==null?void 0:x.detail)||" ")}};return a.jsx("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan uppercase mb-2","data-testid":"warehouses-title",children:""}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"//    "})]}),a.jsxs("button",{onClick:()=>{d(null),o(!0)},className:"btn-primary flex items-center space-x-2","data-testid":"create-warehouse-btn",children:[a.jsx(Dr,{}),a.jsx("span",{children:" "})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16","data-testid":"empty-state",children:[a.jsx(Ai,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-6",children:"//      "}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[a.jsx(Dr,{className:"inline mr-2"})," "]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(m=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`warehouse-row-${m.id}`,children:[a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ai,{className:"text-mm-cyan",size:20}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:m.name}),m.address&&a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:m.address})]})]})}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:`px-3 py-1 text-xs font-mono uppercase rounded ${m.type==="main"?"bg-mm-cyan/20 text-mm-cyan border border-mm-cyan":m.type==="marketplace"?"bg-mm-purple/20 text-mm-purple border border-mm-purple":"bg-mm-yellow/20 text-mm-yellow border border-mm-yellow"}`,children:m.type})}),a.jsx("td",{className:"py-4 px-4 text-center",children:a.jsx("span",{className:"text-mm-cyan font-mono font-bold",children:m.priority||1})}),a.jsx("td",{className:"py-4 px-4 text-center",children:m.transfer_stock?a.jsx(Vt,{className:"inline text-mm-green",size:20}):a.jsx(ht,{className:"inline text-mm-red",size:20})}),a.jsx("td",{className:"py-4 px-4 text-center",children:m.use_for_orders?a.jsx(Vt,{className:"inline text-mm-green",size:20}):a.jsx(ht,{className:"inline text-mm-red",size:20})}),a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[a.jsx("button",{onClick:()=>{d(m),o(!0)},className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":`edit-warehouse-${m.id}`,children:a.jsx(Ka,{size:16})}),m.type!=="main"&&a.jsx("button",{onClick:()=>u(m),className:"px-3 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors","data-testid":`delete-warehouse-${m.id}`,children:a.jsx(bn,{size:16})})]})]},m.id))})]})}),i&&a.jsx(rM,{warehouse:l,onClose:()=>{o(!1),d(null)},onSuccess:()=>{o(!1),d(null),c()}})]})})}function rM({warehouse:e,onClose:t,onSuccess:r}){const{api:n}=Ne(),[s,i]=f.useState({name:"",type:"main",address:"",comment:"",transfer_stock:!0,load_orders:!0,use_for_orders:!0,priority:1,fbo_accounting:!1,return_on_cancel:!0}),[o,l]=f.useState([]),[d,c]=f.useState([]),[u,m]=f.useState(""),[p,x]=f.useState([]),[y,g]=f.useState(!1);f.useEffect(()=>{e&&(i({name:e.name||"",type:e.type||"main",address:e.address||"",comment:e.comment||"",transfer_stock:e.transfer_stock!==!1,load_orders:e.load_orders!==!1,use_for_orders:e.use_for_orders!==!1,priority:e.priority||1,fbo_accounting:e.fbo_accounting||!1,return_on_cancel:e.return_on_cancel!==void 0?e.return_on_cancel:!0}),v(),h())},[e]);const v=async()=>{if(e)try{const N=await n.get(`/api/warehouse-links/${e.id}/links`);l(N.data)}catch(N){console.error("Failed to load links:",N)}},h=async()=>{try{const N=await n.get("/api/seller/api-keys");c(N.data)}catch(N){console.error("Failed to load integrations:",N)}},b=async()=>{var N,P,w;if(!u){q.error(" ");return}g(!0);try{const C=await n.get(`/api/marketplace/${u}/warehouses`);x(C.data.warehouses||[]),((N=C.data.warehouses)==null?void 0:N.length)===0?q.error("  FBS   "):q.success(` ${C.data.warehouses.length} `)}catch(C){q.error(((w=(P=C.response)==null?void 0:P.data)==null?void 0:w.detail)||"  "),x([])}g(!1)},j=async N=>{var P,w;if(e)try{const C=d.find(O=>O.marketplace===u);await n.post(`/api/warehouse-links/${e.id}/links`,{integration_id:C.id,marketplace_name:u,marketplace_warehouse_id:N.id,marketplace_warehouse_name:N.name}),q.success(" "),v(),x([]),m("")}catch(C){q.error(((w=(P=C.response)==null?void 0:P.data)==null?void 0:w.detail)||"  ")}},k=async N=>{if(confirm(" ?"))try{await n.delete(`/api/warehouse-links/${e.id}/links/${N}`),q.success(" "),v()}catch{q.error("  ")}},S=async N=>{var P,w;N.preventDefault();try{e?(await n.put(`/api/warehouses/${e.id}`,s),q.success(" ")):(await n.post("/api/warehouses",s),q.success(" ")),r()}catch(C){q.error(((w=(P=C.response)==null?void 0:P.data)==null?void 0:w.detail)||" ")}};return a.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 z-50","data-testid":"warehouse-modal",children:a.jsxs("div",{className:"card-neon max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:e?" ":" "}),a.jsx("button",{onClick:t,className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:a.jsx(ht,{size:24})})]}),a.jsxs("form",{onSubmit:S,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsx("input",{type:"text",value:s.name,onChange:N=>i({...s,name:N.target.value}),className:"input-neon w-full",placeholder:"  ",required:!0,"data-testid":"warehouse-name-input"})]}),!e&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsxs("select",{value:s.type,onChange:N=>i({...s,type:N.target.value}),className:"input-neon w-full","data-testid":"warehouse-type-select",children:[a.jsx("option",{value:"main",children:""}),a.jsx("option",{value:"marketplace",children:""}),a.jsx("option",{value:"transit",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"text",value:s.address,onChange:N=>i({...s,address:N.target.value}),className:"input-neon w-full",placeholder:". , . , 10","data-testid":"warehouse-address-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("textarea",{value:s.comment,onChange:N=>i({...s,comment:N.target.value}),className:"input-neon w-full",rows:"3",placeholder:" ","data-testid":"warehouse-comment-input"})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsx("h4",{className:"text-mm-cyan uppercase text-sm mb-4",children:"//  "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:"   "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"  "})]}),a.jsx("input",{type:"checkbox",checked:s.transfer_stock,onChange:N=>i({...s,transfer_stock:N.target.checked}),className:"toggle-switch","data-testid":"transfer-stock-toggle"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:" "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"   "})]}),a.jsx("input",{type:"checkbox",checked:s.load_orders,onChange:N=>i({...s,load_orders:N.target.checked}),className:"toggle-switch","data-testid":"load-orders-toggle"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:"  "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"   "})]}),a.jsx("input",{type:"checkbox",checked:s.use_for_orders,onChange:N=>i({...s,use_for_orders:N.target.checked}),className:"toggle-switch","data-testid":"use-for-orders-toggle"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" "}),a.jsx("input",{type:"number",min:"1",max:"10",value:s.priority,onChange:N=>i({...s,priority:parseInt(N.target.value)||1}),className:"input-neon w-32","data-testid":"priority-input"}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-1",children:"//  =   (1, 2, 3...)"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:" FBO"}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"   FBO (FIFO)"})]}),a.jsx("input",{type:"checkbox",checked:s.fbo_accounting,onChange:N=>i({...s,fbo_accounting:N.target.checked}),className:"toggle-switch","data-testid":"fbo-accounting-toggle"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 border border-mm-border hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:"  "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"      "})]}),a.jsx("input",{type:"checkbox",checked:s.return_on_cancel!==void 0?s.return_on_cancel:!0,onChange:N=>i({...s,return_on_cancel:N.target.checked}),className:"toggle-switch","data-testid":"return-on-cancel-toggle"})]})]})]}),e&&a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsx("h4",{className:"text-mm-cyan uppercase text-sm mb-4",children:"//    "}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mb-4",children:"  FBS  ,    "}),o.length>0&&a.jsx("div",{className:"mb-4 space-y-2",children:o.map(N=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-mm-darker border border-mm-border",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-semibold text-sm",children:[a.jsx("span",{className:"text-mm-purple uppercase",children:N.marketplace_name}),"  ",N.marketplace_warehouse_name]}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:["ID: ",N.marketplace_warehouse_id]})]}),a.jsx("button",{type:"button",onClick:()=>k(N.id),className:"px-3 py-1 border border-mm-red text-mm-red hover:bg-mm-red/10 text-xs",children:""})]},N.id))}),a.jsxs("div",{className:"space-y-3 p-4 bg-mm-darker border border-mm-border",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 text-mm-text-tertiary uppercase",children:" 1: "}),a.jsxs("select",{value:u,onChange:N=>{m(N.target.value),x([])},className:"input-neon w-full text-sm","data-testid":"marketplace-select",children:[a.jsx("option",{value:"",children:"..."}),d.map(N=>a.jsx("option",{value:N.marketplace,children:N.name||N.marketplace.toUpperCase()},N.id))]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:b,disabled:!u||y,className:"btn-secondary w-full text-xs disabled:opacity-50","data-testid":"load-mp-warehouses-btn",children:y?"...":" 2:  "})})]}),p.length>0&&a.jsx("div",{className:"mt-3 max-h-48 overflow-y-auto border border-mm-border",children:p.map(N=>a.jsxs("button",{type:"button",onClick:()=>j(N),className:"w-full text-left px-3 py-2 hover:bg-mm-gray transition-colors border-b border-mm-border last:border-b-0","data-testid":`add-link-${N.id}`,children:[a.jsx("div",{className:"text-sm font-semibold",children:N.name}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary",children:[": ",N.type," | ID: ",N.id]})]},N.id))})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1","data-testid":"cancel-btn",children:""}),a.jsx("button",{type:"submit",className:"btn-primary flex-1","data-testid":"submit-btn",children:e?"":""})]})]})]})})}function nM(){const{api:e}=Ne(),[t,r]=f.useState("fbs"),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,d]=f.useState([]),[c,u]=f.useState(!0),[m,p]=f.useState(!1),[x,y]=f.useState(!1),[g,v]=f.useState({product_id:"",quantity_change:"",reason:""}),[h,b]=f.useState({marketplace:"ozon",warehouse:"",products:[]}),[j,k]=f.useState([]);f.useEffect(()=>{N(),S()},[t]);const S=async()=>{try{const w=await e.get("/api/products");k(w.data)}catch(w){console.error("Failed to load products:",w)}},N=async()=>{u(!0);try{if(t==="fbs"){const w=await e.get("/api/inventory");s(w.data)}else if(t==="fbo"){const w=await e.get("/api/inventory/fbo");o(w.data)}else if(t==="history"){const w=await e.get("/api/inventory/history");d(w.data)}}catch(w){console.error("Failed to load data:",w)}u(!1)},P=async w=>{var C,O;w.preventDefault();try{await e.post(`/api/inventory/${g.product_id}/adjust`,{quantity_change:parseInt(g.quantity_change),reason:g.reason}),p(!1),v({product_id:"",quantity_change:"",reason:""}),N(),alert("Inventory adjusted successfully!")}catch(_){console.error("Failed to adjust inventory:",_),alert("Failed to adjust: "+(((O=(C=_.response)==null?void 0:C.data)==null?void 0:O.detail)||_.message))}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"Inventory & Stock"}),a.jsx("p",{className:"comment",children:"// Manage warehouse and stock levels"})]}),t==="fbs"&&a.jsx("button",{onClick:()=>y(!0),className:"btn-primary","data-testid":"create-fbo-shipment-button",children:"+ CREATE FBO SHIPMENT"})]}),a.jsxs("div",{className:"flex space-x-4 border-b border-mm-border",children:[a.jsx("button",{onClick:()=>r("fbs"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="fbs"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"FBS (Own Warehouse)"}),a.jsx("button",{onClick:()=>r("fbo"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="fbo"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"FBO (Marketplace Warehouses)"}),a.jsx("button",{onClick:()=>r("history"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors ${t==="history"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:"Movement History"})]}),t==="fbs"&&a.jsx("div",{children:c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):n.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(yt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No inventory records"}),a.jsx("p",{className:"comment",children:"// Add products first, then manage stock"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Total"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Reserved"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Available"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Alert"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Actions"})]})}),a.jsx("tbody",{children:n.map(w=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:w.sku}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:w.product_name||"N/A"}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:w.quantity}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-yellow",children:w.reserved}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:a.jsx("span",{className:w.available<=(w.alert_threshold||0)?"text-mm-red":"text-mm-green",children:w.available})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:w.alert_threshold||10}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsx("button",{onClick:()=>{v({...g,product_id:w.product_id}),p(!0)},className:"px-3 py-1 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors text-xs uppercase font-mono",children:"Adjust"})})]},w.id))})]})})})}),t==="fbo"&&a.jsx("div",{children:c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):i.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(yt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No FBO inventory"}),a.jsx("p",{className:"comment",children:"// FBO stock will appear here"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Marketplace"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Warehouse"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Quantity"})]})}),a.jsx("tbody",{children:i.map(w=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:w.sku}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:w.product_name||"N/A"}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-mono border border-mm-purple text-mm-purple",children:w.marketplace})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:w.warehouse_name}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-green",children:w.quantity})]},w.id))})]})})})}),t==="history"&&a.jsx("div",{children:c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):l.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx("p",{className:"text-mm-text-secondary mb-2",children:"No movement history"}),a.jsx("p",{className:"comment",children:"// All stock movements will be logged here"})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Date"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Operation"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Change"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"Reason"})]})}),a.jsx("tbody",{children:l.map(w=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(w.created_at).toLocaleString()}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:w.sku}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:w.product_name||"N/A"}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-mono border border-mm-cyan text-mm-cyan",children:w.operation_type})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:a.jsxs("span",{className:`flex items-center space-x-1 ${w.quantity_change>0?"text-mm-green":"text-mm-red"}`,children:[w.quantity_change>0?a.jsx(Ha,{}):a.jsx(Ei,{}),a.jsxs("span",{children:[w.quantity_change>0?"+":"",w.quantity_change]})]})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:w.reason})]},w.id))})]})})})}),m&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"card-neon max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan",children:"ADJUST INVENTORY"}),a.jsx("button",{onClick:()=>p(!1),className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:""})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Quantity Change"}),a.jsx("input",{type:"number",value:g.quantity_change,onChange:w=>v({...g,quantity_change:w.target.value}),className:"input-neon w-full",placeholder:"+100 or -50",required:!0}),a.jsx("p",{className:"comment text-xs mt-1",children:"// Use + for adding, - for removing"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Reason"}),a.jsx("textarea",{value:g.reason,onChange:w=>v({...g,reason:w.target.value}),className:"input-neon w-full",rows:"3",placeholder:"Reason for adjustment...",required:!0})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"ADJUST STOCK"}),a.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})}),x&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"card-neon max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan",children:"CREATE FBO SHIPMENT"}),a.jsx("button",{onClick:()=>y(!1),className:"text-mm-text-secondary hover:text-mm-red",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card-neon bg-mm-darker",children:[a.jsx("p",{className:"comment mb-3",children:"// Step 1: Select Warehouse"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Marketplace"}),a.jsxs("select",{value:h.marketplace,onChange:w=>b({...h,marketplace:w.target.value}),className:"input-neon w-full",children:[a.jsx("option",{value:"ozon",children:"Ozon"}),a.jsx("option",{value:"wb",children:"Wildberries"}),a.jsx("option",{value:"yandex",children:"Yandex.Market"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Warehouse"}),a.jsxs("select",{value:h.warehouse,onChange:w=>b({...h,warehouse:w.target.value}),className:"input-neon w-full",children:[a.jsx("option",{value:"",children:"Select warehouse"}),a.jsx("option",{value:"moscow",children:"Moscow - Khoruzhino"}),a.jsx("option",{value:"spb",children:"Saint Petersburg"}),a.jsx("option",{value:"kazan",children:"Kazan"}),a.jsx("option",{value:"ekb",children:"Ekaterinburg"})]})]})]})]}),a.jsxs("div",{className:"card-neon bg-mm-darker",children:[a.jsx("p",{className:"comment mb-3",children:"// Step 2: Add Products to Shipment"}),a.jsx("div",{className:"space-y-2 mb-4",children:h.products.map((w,C)=>a.jsxs("div",{className:"flex items-center space-x-2 bg-mm-black p-2 border border-mm-border",children:[a.jsx("span",{className:"flex-1 font-mono text-sm",children:w.name}),a.jsx("span",{className:"text-mm-text-secondary",children:"Qty:"}),a.jsx("input",{type:"number",value:w.quantity,onChange:O=>{const _=[...h.products];_[C].quantity=parseInt(O.target.value)||0,b({...h,products:_})},className:"input-neon w-20",min:"1"}),a.jsx("button",{onClick:()=>{b({...h,products:h.products.filter((O,_)=>_!==C)})},className:"text-mm-red",children:""})]},C))}),a.jsxs("select",{onChange:w=>{const C=j.find(O=>O.id===w.target.value);C&&!h.products.find(O=>O.id===C.id)&&b({...h,products:[...h.products,{id:C.id,name:C.minimalmod.name,sku:C.sku,quantity:1}]}),w.target.value=""},className:"input-neon w-full",children:[a.jsx("option",{value:"",children:"+ Add product to shipment"}),j.map(w=>a.jsxs("option",{value:w.id,children:[w.sku," - ",w.minimalmod.name]},w.id))]})]}),h.products.length>0&&a.jsxs("div",{className:"card-neon bg-mm-darker",children:[a.jsx("p",{className:"comment mb-3",children:"// Step 3: Confirm Shipment"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"Total Items:"}),a.jsx("span",{className:"font-bold",children:h.products.reduce((w,C)=>w+C.quantity,0)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"Products:"}),a.jsx("span",{className:"font-bold",children:h.products.length})]})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:async()=>{var w,C;if(!h.warehouse){alert("Please select warehouse");return}if(h.products.length===0){alert("Please add products");return}try{const O=await e.post("/api/inventory/fbo-shipment",h);alert(O.data.message),y(!1),b({marketplace:"ozon",warehouse:"",products:[]}),N()}catch(O){alert("Failed to create shipment: "+(((C=(w=O.response)==null?void 0:w.data)==null?void 0:C.detail)||O.message))}},className:"btn-primary flex-1",disabled:!h.warehouse||h.products.length===0,children:"CREATE SHIPMENT"}),a.jsx("button",{onClick:()=>{y(!1),b({marketplace:"ozon",warehouse:"",products:[]})},className:"btn-secondary flex-1",children:"CANCEL"})]})]})]})})]})}function v_(){const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState([]),[i,o]=f.useState(null),[l,d]=f.useState(!0),[c,u]=f.useState(!1),[m,p]=f.useState(null),[x,y]=f.useState(""),[g,v]=f.useState(""),[h,b]=f.useState("all"),[j,k]=f.useState({field:"sku",direction:"asc"}),[S,N]=f.useState(!1),[P,w]=f.useState(!1),[C,O]=f.useState(!1),[_,E]=f.useState([]),[I,A]=f.useState(null),[M,B]=f.useState([]),[H,R]=f.useState(null),[L,z]=f.useState(!1),Q=f.useMemo(()=>{let W=[...t];if(g.trim()){const ee=g.toLowerCase();W=W.filter(ie=>ie.sku.toLowerCase().includes(ee)||ie.product_name&&ie.product_name.toLowerCase().includes(ee))}return h==="in_stock"?W=W.filter(ee=>ee.quantity>0):h==="out_of_stock"&&(W=W.filter(ee=>ee.quantity===0)),S&&(W=W.filter(ee=>ee.quantity<ee.alert_threshold)),P&&(W=W.filter(ee=>ee.reserved>0)),W.sort((ee,ie)=>{let je,F;return j.field==="name"?(je=ee.product_name||"",F=ie.product_name||""):j.field==="sku"?(je=ee.sku||"",F=ie.sku||""):j.field==="quantity"&&(je=ee.quantity||0,F=ie.quantity||0),j.direction==="asc"?je>F?1:-1:je<F?1:-1}),W},[t,g,h,j,S,P]),T=()=>{v(""),b("all"),k({field:"sku",direction:"asc"}),N(!1),w(!1)},Z=W=>{k(ee=>({field:W,direction:ee.field===W&&ee.direction==="asc"?"desc":"asc"}))};f.useEffect(()=>{(async()=>{await te(),await Y(),i&&await $()})()},[]),f.useEffect(()=>{i&&$()},[i]);const te=async()=>{try{const ee=(await e.get("/api/warehouses")).data;s(ee);const ie=localStorage.getItem("selectedWarehouseId");if(ie){const je=ee.find(F=>F.id===ie);je?o(je):ee.length>0&&o(ee[0])}else ee.length>0&&o(ee[0])}catch(W){q.error("  "),console.error(W)}},$=async()=>{d(!0);try{const W=await e.get("/api/inventory/fbs");r(W.data)}catch(W){q.error("  "),console.error(W)}d(!1)},Y=async()=>{try{const W=await e.post("/api/inventory/sync-catalog");return console.log("Inventory synced:",W.data),W.data}catch(W){return console.error("Failed to sync inventory:",W),null}},le=W=>{const ee=n.find(ie=>ie.id===W);ee&&(o(ee),localStorage.setItem("selectedWarehouseId",W))},se=W=>{p(W.id),y(W.quantity.toString())},K=()=>{p(null),y("")},ue=async W=>{var je,F,ae,U;const ee=parseInt(x,10);if(console.log("[SAVE STOCK]  :",{stock_id:W.id,product_id:W.product_id,sku:W.sku,editValue:x,parsedQuantity:ee,selectedWarehouse:i}),isNaN(ee)||ee<0){console.error("[SAVE STOCK]   :",ee),q.error(" ");return}if(!i){console.error("[SAVE STOCK]    "),q.error(" ");return}const ie={product_id:W.product_id,article:W.sku,new_quantity:ee,warehouse_id:i.id};console.log("[SAVE STOCK]     /api/inventory/update-stock:",ie);try{const oe=await e.put("/api/inventory/update-stock",ie);console.log("[SAVE STOCK]     :",oe.data),q.success(oe.data.message||" "),r(t.map(me=>me.id===W.id?{...me,quantity:ee,available:ee-me.reserved}:me)),K()}catch(oe){console.error("[SAVE STOCK]   :",{message:oe.message,response:(je=oe.response)==null?void 0:je.data,status:(F=oe.response)==null?void 0:F.status}),q.error(((U=(ae=oe.response)==null?void 0:ae.data)==null?void 0:U.detail)||"  "),console.error(oe)}},he=async()=>{d(!0);try{const W=await Y();W&&W.created>0?q.success(` ${W.created}    `):q.success(" "),await $()}catch(W){q.error("  "),console.error(W)}d(!1)},J=async()=>{var W,ee;if(!i){q.error("   ");return}if(confirm(`     "${i.name}"?`)){u(!0);try{const ie=await e.post("/api/inventory/sync-all-stocks",{warehouse_id:i.id});q.success(ie.data.message||" ")}catch(ie){q.error(((ee=(W=ie.response)==null?void 0:W.data)==null?void 0:ee.detail)||" "),console.error(ie)}u(!1)}},D=async()=>{try{const W=await e.get("/api/seller/api-keys");E(W.data),O(!0)}catch(W){q.error("  "),console.error(W)}},X=async W=>{if(A(W),R(null),B([]),!!W)try{const ee=await e.get(`/api/inventory/marketplace-warehouses/${W}`);B(ee.data.warehouses||[])}catch(ee){q.error("   "),console.error(ee)}},ce=async()=>{var W,ee;if(!I||!H){q.error("   ");return}z(!0);try{const ie=await e.post("/api/inventory/import-stocks-from-marketplace",{integration_id:I,marketplace_warehouse_id:H});q.success(ie.data.message||" "),O(!1),await $()}catch(ie){q.error(((ee=(W=ie.response)==null?void 0:W.data)==null?void 0:ee.detail)||"  "),console.error(ie)}z(!1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl text-mm-cyan uppercase mb-2","data-testid":"stocks-title",children:"  "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"      "})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:D,className:"btn-secondary flex items-center space-x-2 text-sm","data-testid":"import-stocks-btn",children:[a.jsx(ut,{}),a.jsx("span",{children:"  "})]}),a.jsxs("button",{onClick:he,disabled:l,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50","data-testid":"sync-catalog-btn",children:[a.jsx(pt,{className:l?"animate-spin":""}),a.jsx("span",{children:" "})]}),a.jsxs("button",{onClick:J,disabled:!i||c,className:"btn-primary flex items-center space-x-2 disabled:opacity-50","data-testid":"sync-all-btn",children:[a.jsx(er,{}),a.jsx("span",{children:c?"...":"   "})]}),a.jsxs("button",{onClick:$,disabled:l,className:"btn-secondary flex items-center space-x-2","data-testid":"refresh-btn",children:[a.jsx(pt,{className:l?"animate-spin":""}),a.jsx("span",{children:""})]})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsxs("select",{value:(i==null?void 0:i.id)||"",onChange:W=>le(W.target.value),className:"input-neon w-full max-w-md","data-testid":"warehouse-select",children:[a.jsx("option",{value:"",children:" ..."}),n.map(W=>a.jsxs("option",{value:W.id,children:[W.name," ",W.sends_stock?"( )":""]},W.id))]}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-2",children:i?` : ${i.name}.      .`:"     "})]}),i&&t.length>0&&a.jsxs("div",{className:"card-neon p-4 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsxs("div",{className:"flex-1 min-w-[250px]",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary uppercase mb-2",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-mm-text-tertiary"}),a.jsx("input",{type:"text",placeholder:"    ...",value:g,onChange:W=>v(W.target.value),className:"input-neon w-full pl-10","data-testid":"search-input"})]})]}),a.jsxs("div",{className:"min-w-[200px]",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary uppercase mb-2",children:""}),a.jsxs("select",{value:h,onChange:W=>b(W.target.value),className:"input-neon w-full","data-testid":"availability-filter",children:[a.jsx("option",{value:"all",children:" "}),a.jsx("option",{value:"in_stock",children:" "}),a.jsx("option",{value:"out_of_stock",children:"  "})]})]}),a.jsxs("div",{className:"min-w-[200px]",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary uppercase mb-2",children:""}),a.jsxs("select",{value:j.field,onChange:W=>Z(W.target.value),className:"input-neon w-full","data-testid":"sort-select",children:[a.jsx("option",{value:"sku",children:" "}),a.jsx("option",{value:"name",children:" "}),a.jsx("option",{value:"quantity",children:" "})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer","data-testid":"critical-filter",children:[a.jsx("input",{type:"checkbox",checked:S,onChange:W=>N(W.target.checked),className:"w-4 h-4 bg-mm-dark border-mm-border rounded text-mm-cyan focus:ring-mm-cyan focus:ring-offset-0"}),a.jsx("span",{className:"text-sm text-mm-text-secondary",children:" "})]}),a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer","data-testid":"reserved-filter",children:[a.jsx("input",{type:"checkbox",checked:P,onChange:W=>w(W.target.checked),className:"w-4 h-4 bg-mm-dark border-mm-border rounded text-mm-cyan focus:ring-mm-cyan focus:ring-offset-0"}),a.jsx("span",{className:"text-sm text-mm-text-secondary",children:" "})]}),(g||h!=="all"||S||P||j.field!=="sku")&&a.jsxs("button",{onClick:T,className:"text-sm text-mm-cyan hover:text-mm-green transition-colors flex items-center space-x-1","data-testid":"reset-filters-btn",children:[a.jsx(ht,{size:16}),a.jsx("span",{children:" "})]}),a.jsxs("div",{className:"ml-auto text-sm text-mm-text-tertiary",children:[": ",a.jsx("span",{className:"text-mm-cyan font-mono",children:Q.length}),"  ",t.length]})]})]}),i?l?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16",children:[a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary",children:"     "})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:Q.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:"7",className:"py-12 text-center",children:[a.jsx("p",{className:"text-mm-text-secondary",children:" ,  "}),a.jsx("button",{onClick:T,className:"mt-2 text-sm text-mm-cyan hover:underline",children:" "})]})}):Q.map(W=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsxs("td",{className:"py-4 px-4",children:[W.product_image?a.jsx("img",{src:W.product_image,alt:W.product_name||W.sku,className:"w-12 h-12 object-cover rounded bg-mm-dark",onError:ee=>{ee.target.style.display="none",ee.target.nextSibling.style.display="flex"}}):null,a.jsx("div",{className:"w-12 h-12 bg-mm-dark rounded flex items-center justify-center text-mm-text-secondary text-xs",style:{display:W.product_image?"none":"flex"},children:" "})]}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:W.sku}),a.jsx("td",{className:"py-4 px-4 text-sm",children:W.product_name||""}),a.jsx("td",{className:"py-4 px-4 text-center",children:m===W.id?a.jsx("input",{type:"number",value:x,onChange:ee=>y(ee.target.value),className:"input-neon w-24 text-center",autoFocus:!0,"data-testid":`edit-input-${W.sku}`}):a.jsx("span",{className:"font-mono font-bold",children:W.quantity})}),a.jsx("td",{className:"py-4 px-4 text-center font-mono text-mm-yellow",children:W.reserved}),a.jsx("td",{className:"py-4 px-4 text-center font-mono font-bold text-mm-green",children:W.available}),a.jsx("td",{className:"py-4 px-4 text-center",children:m===W.id?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("button",{onClick:()=>ue(W),className:"text-mm-green hover:text-mm-cyan transition-colors","data-testid":`save-btn-${W.sku}`,children:a.jsx(Vt,{size:20})}),a.jsx("button",{onClick:K,className:"text-mm-red hover:text-mm-text-secondary transition-colors","data-testid":`cancel-btn-${W.sku}`,children:a.jsx(ht,{size:20})})]}):a.jsx("button",{onClick:()=>se(W),className:"text-mm-cyan hover:text-mm-green transition-colors","data-testid":`edit-btn-${W.sku}`,children:a.jsx(zy,{size:18})})})]},W.id))})]})}):a.jsx("div",{className:"card-neon text-center py-16",children:a.jsx("p",{className:"text-mm-text-secondary text-lg",children:"     "})}),a.jsx("div",{className:"card-neon p-4 bg-mm-dark-secondary/30",children:a.jsxs("p",{className:"text-sm text-mm-text-secondary",children:[a.jsx("span",{className:"text-mm-cyan font-bold",children:" :"}),"       15 .    ,      ."]})}),C&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"card-neon max-w-md w-full p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase font-mono",children:"   "}),a.jsx("button",{onClick:()=>O(!1),className:"text-mm-text-secondary hover:text-mm-cyan transition-colors",children:a.jsx(ht,{size:24})})]}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:"      "}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsxs("select",{value:I||"",onChange:W=>X(W.target.value),className:"input-neon w-full",children:[a.jsx("option",{value:"",children:" ..."}),_.map(W=>a.jsxs("option",{value:W.id,children:[W.marketplace.toUpperCase()," - ",W.name||W.client_id]},W.id))]})]}),I&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsxs("select",{value:H||"",onChange:W=>R(W.target.value),className:"input-neon w-full",disabled:M.length===0,children:[a.jsx("option",{value:"",children:" ..."}),M.map(W=>a.jsx("option",{value:W.id,children:W.name},W.id))]}),M.length===0&&a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-2",children:" ..."})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>O(!1),className:"btn-secondary flex-1",disabled:L,children:""}),a.jsx("button",{onClick:ce,disabled:!I||!H||L,className:"btn-primary flex-1 disabled:opacity-50",children:L?"...":""})]}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary space-y-1",children:[a.jsx("p",{children:"       "}),a.jsx("p",{children:"    "}),a.jsx("p",{children:"      "})]})]})})]})}function b_(){const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,d]=f.useState(null);f.useEffect(()=>{c()},[]);const c=async()=>{s(!0);try{const m=await e.get("/api/suppliers");r(m.data)}catch(m){q.error("  "),console.error(m)}s(!1)},u=async m=>{var p,x;if(confirm(`  "${m.name}"?`))try{await e.delete(`/api/suppliers/${m.id}`),q.success(" "),c()}catch(y){q.error(((x=(p=y.response)==null?void 0:p.data)==null?void 0:x.detail)||" ")}};return a.jsx("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan uppercase mb-2","data-testid":"suppliers-title",children:""}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"//  "})]}),a.jsxs("button",{onClick:()=>{d(null),o(!0)},className:"btn-primary flex items-center space-x-2","data-testid":"create-supplier-btn",children:[a.jsx(Dr,{}),a.jsx("span",{children:" "})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16","data-testid":"empty-state",children:[a.jsx(Oi,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-6",children:"//   "}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[a.jsx(Dr,{className:"inline mr-2"})," "]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(m=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`supplier-row-${m.id}`,children:[a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Oi,{className:"text-mm-cyan",size:20}),a.jsx("div",{className:"font-semibold",children:m.name})]})}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary",children:m.contact_person||""}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary font-mono",children:m.phone||""}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary font-mono",children:m.inn||""}),a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[a.jsx("button",{onClick:()=>{d(m),o(!0)},className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors","data-testid":`edit-supplier-${m.id}`,children:a.jsx(Ka,{size:16})}),a.jsx("button",{onClick:()=>u(m),className:"px-3 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors","data-testid":`delete-supplier-${m.id}`,children:a.jsx(bn,{size:16})})]})]},m.id))})]})}),i&&a.jsx(aM,{supplier:l,onClose:()=>{o(!1),d(null)},onSuccess:()=>{o(!1),d(null),c()}})]})})}function aM({supplier:e,onClose:t,onSuccess:r}){const{api:n}=Ne(),[s,i]=f.useState({name:"",contact_person:"",phone:"",email:"",inn:"",address:"",comment:""});f.useEffect(()=>{e&&i({name:e.name||"",contact_person:e.contact_person||"",phone:e.phone||"",email:e.email||"",inn:e.inn||"",address:e.address||"",comment:e.comment||""})},[e]);const o=async l=>{var d,c;l.preventDefault();try{e?(await n.put(`/api/suppliers/${e.id}`,s),q.success(" ")):(await n.post("/api/suppliers",s),q.success(" ")),r()}catch(u){q.error(((c=(d=u.response)==null?void 0:d.data)==null?void 0:c.detail)||" ")}};return a.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 z-50","data-testid":"supplier-modal",children:a.jsxs("div",{className:"card-neon max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:e?" ":" "}),a.jsx("button",{onClick:t,className:"text-mm-text-secondary hover:text-mm-red transition-colors",children:a.jsx(ht,{size:24})})]}),a.jsxs("form",{onSubmit:o,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsx("input",{type:"text",value:s.name,onChange:l=>i({...s,name:l.target.value}),className:"input-neon w-full",placeholder:" ",required:!0,"data-testid":"supplier-name-input"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" "}),a.jsx("input",{type:"text",value:s.contact_person,onChange:l=>i({...s,contact_person:l.target.value}),className:"input-neon w-full",placeholder:" ","data-testid":"contact-person-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"tel",value:s.phone,onChange:l=>i({...s,phone:l.target.value}),className:"input-neon w-full",placeholder:"+7 (900) 123-45-67","data-testid":"phone-input"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"Email"}),a.jsx("input",{type:"email",value:s.email,onChange:l=>i({...s,email:l.target.value}),className:"input-neon w-full",placeholder:"supplier@example.com","data-testid":"email-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"text",value:s.inn,onChange:l=>i({...s,inn:l.target.value}),className:"input-neon w-full",placeholder:"1234567890","data-testid":"inn-input"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("input",{type:"text",value:s.address,onChange:l=>i({...s,address:l.target.value}),className:"input-neon w-full",placeholder:". , . , 5","data-testid":"address-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("textarea",{value:s.comment,onChange:l=>i({...s,comment:l.target.value}),className:"input-neon w-full",rows:"3",placeholder:" ","data-testid":"comment-input"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1","data-testid":"cancel-btn",children:""}),a.jsx("button",{type:"submit",className:"btn-primary flex-1","data-testid":"submit-btn",children:e?"":""})]})]})]})})}function j_(){const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState("all");f.useEffect(()=>{l()},[i]);const l=async()=>{s(!0);try{const u=i!=="all"?`?status=${i}`:"",m=await e.get(`/api/income-orders${u}`);r(m.data)}catch(u){q.error(" "),console.error(u)}s(!1)},d=u=>u?new Date(u).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"",c=u=>u==="draft"?a.jsx("span",{className:"px-3 py-1 text-xs font-mono uppercase bg-mm-yellow/20 text-mm-yellow border border-mm-yellow",children:""}):u==="accepted"?a.jsx("span",{className:"px-3 py-1 text-xs font-mono uppercase bg-mm-green/20 text-mm-green border border-mm-green",children:""}):a.jsx("span",{className:"px-3 py-1 text-xs font-mono uppercase bg-mm-text-tertiary/20 text-mm-text-tertiary",children:u});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl text-mm-cyan uppercase mb-2","data-testid":"title",children:"  "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:" "})]}),a.jsxs(fd,{to:"/income-orders/new",className:"btn-primary flex items-center space-x-2","data-testid":"create-btn",children:[a.jsx(Dr,{}),a.jsx("span",{children:" "})]})]}),a.jsx("div",{className:"card-neon",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm text-mm-text-secondary uppercase",children:":"}),a.jsx("div",{className:"flex space-x-2",children:["all","draft","accepted"].map(u=>a.jsx("button",{onClick:()=>o(u),className:`px-4 py-2 text-xs font-mono uppercase border transition-colors ${i===u?"border-mm-cyan text-mm-cyan bg-mm-cyan/10":"border-mm-border text-mm-text-secondary hover:border-mm-cyan"}`,"data-testid":`filter-${u}`,children:u==="all"?"":u==="draft"?"":""},u))})]})}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16","data-testid":"empty-state",children:[a.jsx(yt,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-6",children:"   "}),a.jsxs(fd,{to:"/income-orders/new",className:"btn-primary inline-flex items-center space-x-2",children:[a.jsx(Dr,{}),a.jsx("span",{children:" "})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"-"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(u=>{var m;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${u.id}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:u.id.substring(0,8)}),a.jsx("td",{className:"py-4 px-4 text-sm text-mm-text-secondary",children:d(u.created_at)}),a.jsx("td",{className:"py-4 px-4 text-sm",children:u.supplier_name||""}),a.jsx("td",{className:"py-4 px-4 text-sm",children:u.warehouse_name||""}),a.jsx("td",{className:"py-4 px-4 text-center font-mono text-sm",children:((m=u.items)==null?void 0:m.length)||0}),a.jsx("td",{className:"py-4 px-4 text-center font-mono text-sm text-mm-cyan font-bold",children:u.total_quantity||0}),a.jsx("td",{className:"py-4 px-4",children:c(u.status)}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsx(fd,{to:`/income-orders/${u.id}/edit`,className:"px-3 py-2 border border-mm-cyan text-mm-cyan hover:bg-mm-cyan/10 transition-colors inline-flex items-center","data-testid":`edit-order-${u.id}`,children:a.jsx(Ka,{size:16})})})]},u.id)})})]})})]})}function w_(){const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState({marketplace:"",status:""});f.useEffect(()=>{l()},[i]);const l=async()=>{s(!0);try{const c=new URLSearchParams;i.marketplace&&c.append("marketplace",i.marketplace),i.status&&c.append("status",i.status);const u=await e.get(`/api/stock-sync/history?${c}`);r(u.data)}catch(c){q.error("  "),console.error(c)}s(!1)},d=c=>c?new Date(c).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl text-mm-cyan uppercase mb-2",children:"  "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:"    "})]}),a.jsxs("button",{onClick:l,className:"btn-secondary flex items-center space-x-2","data-testid":"refresh-btn",children:[a.jsx(pt,{}),a.jsx("span",{children:""})]})]}),a.jsx("div",{className:"card-neon",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(By,{className:"text-mm-cyan"}),a.jsxs("select",{value:i.marketplace,onChange:c=>o({...i,marketplace:c.target.value}),className:"input-neon text-sm",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"ozon",children:"Ozon"}),a.jsx("option",{value:"wb",children:"Wildberries"}),a.jsx("option",{value:"yandex",children:"Yandex"})]}),a.jsxs("select",{value:i.status,onChange:c=>o({...i,status:c.target.value}),className:"input-neon text-sm",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"success",children:""}),a.jsx("option",{value:"failed",children:""})]})]})}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-16",children:[a.jsx(pt,{className:"mx-auto text-mm-text-tertiary mb-6",size:64}),a.jsx("p",{className:"text-mm-text-secondary text-lg mb-2",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary",children:"    "})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:" "}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-center py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-3 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(c=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-3 px-3 font-mono text-xs text-mm-text-secondary",children:d(c.synced_at)}),a.jsx("td",{className:"py-3 px-3",children:a.jsx("span",{className:"px-2 py-1 text-xs font-mono uppercase bg-mm-purple/20 text-mm-purple border border-mm-purple",children:c.marketplace})}),a.jsx("td",{className:"py-3 px-3 font-mono text-xs text-mm-text-secondary",children:c.marketplace_warehouse_id}),a.jsx("td",{className:"py-3 px-3 font-mono text-xs text-mm-cyan",children:c.product_article}),a.jsx("td",{className:"py-3 px-3 text-center font-mono font-bold text-mm-green",children:c.quantity_sent}),a.jsx("td",{className:"py-3 px-3",children:c.status==="success"?a.jsxs("span",{className:"flex items-center text-mm-green text-xs",children:[a.jsx(Vt,{className:"mr-1"}),""]}):a.jsxs("span",{className:"flex items-center text-mm-red text-xs",children:[a.jsx(ht,{className:"mr-1"}),""]})}),a.jsx("td",{className:"py-3 px-3 text-xs text-mm-red",children:c.error_message||""})]},c.id))})]})})]})}function sM(){const[e,t]=f.useState("warehouses");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex space-x-4 border-b border-mm-border overflow-x-auto",children:[a.jsxs("button",{onClick:()=>t("warehouses"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="warehouses"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-warehouses",children:[a.jsx(Ai,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("suppliers"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="suppliers"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-suppliers",children:[a.jsx(Oi,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("income"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="income"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-income",children:[a.jsx(ut,{className:"inline mr-2"}),"  "]}),a.jsxs("button",{onClick:()=>t("stock"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="stock"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-stock",children:[a.jsx(Sx,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("inventory"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="inventory"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-inventory",children:[a.jsx(l_,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>t("sync"),className:`px-4 py-3 font-mono uppercase text-sm transition-colors whitespace-nowrap ${e==="sync"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"tab-sync",children:[a.jsx(a_,{className:"inline mr-2"}),""]})]}),a.jsxs("div",{children:[e==="warehouses"&&a.jsx(g_,{}),e==="suppliers"&&a.jsx(b_,{}),e==="income"&&a.jsx(j_,{}),e==="stock"&&a.jsx(v_,{}),e==="inventory"&&a.jsx(nM,{}),e==="sync"&&a.jsx(w_,{})]})]})}function iM(){const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState("all");f.useEffect(()=>{l()},[i]);const l=async()=>{try{s(!0);const u=await e.get("/api/sync/logs",{params:{status:i!=="all"?i:void 0}});r(u.data.logs||[])}catch(u){console.error("Failed to load sync logs:",u),r([])}finally{s(!1)}},d=u=>{switch(u){case"success":return a.jsx(Vt,{className:"w-5 h-5 text-green-400"});case"error":return a.jsx(ht,{className:"w-5 h-5 text-red-400"});case"pending":return a.jsx(ea,{className:"w-5 h-5 text-yellow-400"});default:return a.jsx(An,{className:"w-5 h-5 text-gray-400"})}},c=u=>{const m={success:"bg-green-500/20 text-green-400 border-green-500/30",error:"bg-red-500/20 text-red-400 border-red-500/30",pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"};return a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${m[u]||"bg-gray-500/20 text-gray-400"}`,children:u==="success"?"":u==="error"?"":" "})};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(pt,{className:"w-8 h-8 animate-spin text-mm-cyan"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"      "})]}),a.jsxs("button",{onClick:l,className:"px-4 py-2 bg-mm-secondary text-mm-text border border-mm-border rounded hover:border-mm-cyan transition-colors flex items-center gap-2",children:[a.jsx(pt,{className:"w-4 h-4"}),""]})]}),a.jsx("div",{className:"flex gap-2",children:["all","success","error"].map(u=>a.jsx("button",{onClick:()=>o(u),className:`px-4 py-2 rounded transition-colors ${i===u?"bg-mm-cyan text-mm-dark font-medium":"bg-mm-secondary text-mm-text hover:border-mm-cyan border border-mm-border"}`,children:u==="all"?"":u==="success"?"":""},u))}),a.jsx("div",{className:"bg-mm-secondary rounded-lg border border-mm-border overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-mm-dark",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:"/"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""})]})}),a.jsx("tbody",{children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"px-4 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(ea,{className:"w-12 h-12 text-mm-text-secondary opacity-50"}),a.jsx("p",{className:"text-mm-text-secondary",children:"   "}),a.jsx("p",{className:"text-sm text-mm-text-secondary opacity-70",children:"        "})]})})}):t.map((u,m)=>a.jsxs("tr",{className:"border-t border-mm-border hover:bg-mm-dark/30 transition-colors",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:new Date(u.timestamp).toLocaleString("ru-RU")}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsx("span",{className:"px-2 py-1 bg-mm-dark rounded text-xs text-mm-cyan",children:u.type==="product"?"":u.type==="price"?"":u.type})}),a.jsxs("td",{className:"px-4 py-3 text-sm",children:[u.marketplace==="ozon"&&a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"O"}),a.jsx("span",{className:"text-mm-text",children:"Ozon"})]}),u.marketplace==="wb"&&a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"w-6 h-6 bg-purple-600 text-white rounded flex items-center justify-center text-xs font-bold",children:"WB"}),a.jsx("span",{className:"text-mm-text",children:"Wildberries"})]})]}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-sm text-mm-text font-mono",children:u.product_article}),a.jsx("div",{className:"text-xs text-mm-text-secondary truncate max-w-xs",children:u.product_name})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[d(u.status),c(u.status)]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text-secondary max-w-md truncate",children:u.message||u.error||""})]},m))})]})}),a.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(An,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-blue-300",children:[a.jsx("p",{className:"font-medium mb-1",children:"  "}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-300/80",children:[a.jsx("li",{children:"      "}),a.jsx("li",{children:"       "}),a.jsx("li",{children:"     "})]})]})]})})]})}const q0=e=>{const t=["bg-blue-500/20 text-blue-300 border-blue-500/30","bg-purple-500/20 text-purple-300 border-purple-500/30","bg-green-500/20 text-green-300 border-green-500/30","bg-yellow-500/20 text-yellow-300 border-yellow-500/30","bg-pink-500/20 text-pink-300 border-pink-500/30","bg-cyan-500/20 text-cyan-300 border-cyan-500/30","bg-orange-500/20 text-orange-300 border-orange-500/30","bg-red-500/20 text-red-300 border-red-500/30"],r=e.split("").reduce((n,s)=>n+s.charCodeAt(0),0);return t[r%t.length]};function N_(){const{api:e}=Ne(),[t,r]=f.useState("products"),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,d]=f.useState([]),[c,u]=f.useState(!0),[m,p]=f.useState(""),[x,y]=f.useState(""),[g,v]=f.useState(""),[h,b]=f.useState(""),[j,k]=f.useState(!1),[S,N]=f.useState(1),[P,w]=f.useState("created_at"),[C,O]=f.useState(!1),[_,E]=f.useState([]),[I,A]=f.useState([]),[M,B]=f.useState(!1),[H,R]=f.useState(""),[L,z]=f.useState("");f.useEffect(()=>{Q(),T(),te()},[m,x,g,h,S,P,C]);const Q=async()=>{try{const D=await e.get("/api/catalog/categories");d(D.data)}catch(D){console.error("Failed to load categories:",D)}},T=async()=>{try{u(!0);const D={page:S,limit:50,sort_by:P,ascending:C};m&&(D.search=m),x&&(D.category_id=x),g&&(D.brand=g),h&&(D.status=h);const ce=(await e.get("/api/catalog/products",{params:D})).data;s(ce);const W=await Promise.all(ce.map(async ee=>{try{const je=(await e.get(`/api/catalog/products/${ee.id}/photos`)).data;return{...ee,firstPhoto:je.length>0?je[0].url:null}}catch(ie){return console.error(`Failed to load photos for product ${ee.id}:`,ie),{...ee,firstPhoto:null}}}));o(W)}catch(D){console.error("Failed to load products:",D)}finally{u(!1)}},Z=async D=>{if(window.confirm(" ,      ?    ."))try{await e.delete(`/api/catalog/products/${D}`),T()}catch(X){alert("   : "+X.message)}},te=async()=>{try{const D=await e.get("/api/products/tags");E(D.data.tags||[])}catch(D){console.error("Error fetching tags:",D)}},$=async()=>{var D,X;if(!H.trim()){alert("  ");return}try{await e.post(`/api/products/tags?tag_name=${encodeURIComponent(H.trim())}`),E([..._,H.trim()]),R(""),alert(` "${H.trim()}" `)}catch(ce){alert(((X=(D=ce.response)==null?void 0:D.data)==null?void 0:X.detail)||"  ")}},Y=async D=>{if(confirm(`  "${D}"   ?`))try{await e.delete(`/api/products/tags/${encodeURIComponent(D)}`),E(_.filter(X=>X!==D)),await T(),alert(` "${D}" `)}catch{alert("  ")}},le=async()=>{if(!L){alert(" ");return}try{await e.post("/api/products/bulk-assign-tags",{product_ids:I,tag:L}),await T(),await te(),A([]),z(""),alert(` "${L}"   `)}catch{alert("  ")}},se=async()=>{if(!L){alert("   ");return}try{await e.post("/api/products/bulk-remove-tags",{product_ids:I,tag:L}),await T(),await te(),A([]),z(""),alert(` "${L}"    `)}catch{alert("  ")}},K=async(D,X)=>{try{await e.post("/api/products/bulk-remove-tags",{product_ids:[D],tag:X}),await T(),await te()}catch{alert("  ")}},ue=D=>{I.includes(D)?A(I.filter(X=>X!==D)):A([...I,D])},he=D=>{A(D?i.map(X=>X.id):[])},J=D=>{const X={active:a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-green-500/20 text-green-400",children:""}),draft:a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-yellow-500/20 text-yellow-400",children:""}),archived:a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-gray-500/20 text-gray-400",children:""})};return X[D]||X.draft};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:""}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:" "})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:()=>window.location.href="/catalog/products/new",className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center gap-2",children:[a.jsx(Dr,{}),"  "]})})]}),a.jsx("div",{className:"border-b border-mm-border mb-6",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{onClick:()=>r("products"),className:`px-6 py-3 font-medium transition-colors relative ${t==="products"?"text-mm-cyan":"text-mm-text-secondary hover:text-mm-text"}`,children:[" ",t==="products"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-mm-cyan"})]}),a.jsxs("button",{onClick:()=>r("sync"),className:`px-6 py-3 font-medium transition-colors relative ${t==="sync"?"text-mm-cyan":"text-mm-text-secondary hover:text-mm-text"}`,children:["",t==="sync"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-mm-cyan"})]})]})}),t==="sync"?a.jsx(iM,{}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-mm-text-secondary"}),a.jsx("input",{type:"text",placeholder:"  , , -...",value:m,onChange:D=>p(D.target.value),className:"w-full pl-10 pr-4 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("button",{onClick:()=>k(!j),className:`px-4 py-2 rounded flex items-center gap-2 ${j?"bg-mm-cyan text-mm-dark":"bg-mm-dark text-mm-text hover:bg-mm-dark/80"}`,children:[a.jsx(By,{})," "]})]}),j&&a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsxs("select",{value:x,onChange:D=>y(D.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[a.jsx("option",{value:"",children:" "}),l.map(D=>a.jsx("option",{value:D.id,children:D.name},D.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsx("input",{type:"text",value:g,onChange:D=>v(D.target.value),placeholder:"  ",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsxs("select",{value:h,onChange:D=>b(D.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"draft",children:""}),a.jsx("option",{value:"archived",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1",children:""}),a.jsxs("select",{value:P,onChange:D=>w(D.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:[a.jsx("option",{value:"created_at",children:"  "}),a.jsx("option",{value:"name",children:" "}),a.jsx("option",{value:"article",children:" "})]})]})]})]}),a.jsx("div",{className:"flex justify-start",children:a.jsxs("button",{onClick:()=>B(!0),className:"px-4 py-2 bg-purple-500/20 border border-purple-500/30 text-purple-300 rounded hover:bg-purple-500/30 flex items-center gap-2 transition",children:[a.jsx(m_,{}),"  "]})}),I.length>0&&a.jsx("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-mm-text font-mono",children:[" : ",a.jsx("span",{className:"text-purple-300 font-bold",children:I.length})]}),a.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[a.jsxs("select",{value:L,onChange:D=>z(D.target.value),className:"px-3 py-2 bg-mm-dark border border-mm-border text-mm-text rounded",children:[a.jsx("option",{value:"",children:"--   --"}),_.map(D=>a.jsx("option",{value:D,children:D},D))]}),a.jsx("button",{onClick:le,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition",children:" "}),a.jsx("button",{onClick:se,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:" "})]}),a.jsx("button",{onClick:()=>A([]),className:"px-3 py-2 bg-mm-dark border border-mm-border text-mm-text-secondary rounded hover:bg-mm-gray transition",children:" "})]})}),c?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-mm-cyan"}),a.jsx("p",{className:"text-mm-text-secondary mt-4",children:" ..."})]}):i.length===0?a.jsxs("div",{className:"text-center py-12 bg-mm-secondary rounded-lg",children:[a.jsx(yt,{className:"mx-auto text-6xl text-mm-text-secondary mb-4"}),a.jsx("p",{className:"text-mm-text-secondary text-lg",children:" "}),a.jsx("p",{className:"text-mm-text-secondary text-sm mt-2",children:"     "}),a.jsx("button",{onClick:()=>window.location.href="/catalog/products/new",className:"mt-4 px-6 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded",children:" "})]}):a.jsx("div",{className:"bg-mm-secondary rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-mm-dark border-b border-mm-border",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsx("input",{type:"checkbox",checked:I.length===i.length&&i.length>0,onChange:D=>he(D.target.checked),className:"w-4 h-4"})}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-mm-text-secondary uppercase",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-mm-border",children:i.map(D=>a.jsxs("tr",{className:"hover:bg-mm-dark/50 transition",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"checkbox",checked:I.includes(D.id),onChange:()=>ue(D.id),className:"w-4 h-4"})}),a.jsxs("td",{className:"px-4 py-3",children:[D.firstPhoto?a.jsx("img",{src:D.firstPhoto,alt:D.name,className:"w-12 h-12 object-cover rounded bg-mm-dark",onError:X=>{X.target.style.display="none",X.target.nextSibling.style.display="flex"}}):null,a.jsx("div",{className:"w-12 h-12 bg-mm-dark rounded flex items-center justify-center",style:{display:D.firstPhoto?"none":"flex"},children:a.jsx(yt,{className:"text-mm-text-secondary"})})]}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text font-mono",children:D.article}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-sm text-mm-text",children:D.name}),D.description&&a.jsx("div",{className:"text-xs text-mm-text-secondary mt-1 truncate max-w-xs",children:D.description})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex flex-wrap gap-1 max-w-xs",children:D.tags&&D.tags.length>0?D.tags.map(X=>a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs border ${q0(X)}`,children:[X,a.jsx("button",{onClick:()=>K(D.id,X),className:"hover:opacity-70",title:" ",children:a.jsx(ht,{size:12})})]},X)):a.jsx("span",{className:"text-mm-text-secondary text-xs",children:""})})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex items-center gap-1",children:(()=>{var W,ee,ie,je,F,ae,U,oe;const X=D.marketplace_specific_data||D.marketplace_data||{},ce=[];return((W=X.ozon)!=null&&W.product_id||(ee=X.ozon)!=null&&ee.offer_id||(ie=X.ozon)!=null&&ie.id)&&ce.push(a.jsx("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-[10px] font-bold",title:"Ozon ()",children:"O"},"ozon")),((je=X.wb)!=null&&je.nm_id||(F=X.wb)!=null&&F.id||(ae=X.wb)!=null&&ae.vendor_code)&&ce.push(a.jsx("div",{className:"w-6 h-6 bg-purple-600 text-white rounded flex items-center justify-center text-[9px] font-bold",title:"Wildberries ()",children:"WB"},"wb")),((U=X.yandex)!=null&&U.offer_id||(oe=X.yandex)!=null&&oe.shop_sku)&&ce.push(a.jsx("div",{className:"w-6 h-6 bg-red-500 text-white rounded flex items-center justify-center text-[10px] font-bold",title:". ()",children:""},"yandex")),ce.length>0?ce:a.jsx("span",{className:"text-xs text-mm-text-secondary",children:""})})()})}),a.jsx("td",{className:"px-4 py-3",children:D.price_discounted?a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-mm-cyan font-bold text-base",children:[(D.price_discounted/100).toFixed(2)," "]}),a.jsxs("span",{className:"text-mm-text-secondary text-xs line-through",children:[(D.price/100).toFixed(2)," "]})]}):D.price>0?a.jsxs("span",{className:"text-mm-text text-sm",children:[(D.price/100).toFixed(2)," "]}):a.jsx("span",{className:"text-mm-text-secondary text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:D.brand||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:D.category_name||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-mm-text",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-mm-cyan",children:D.variants_count}),D.is_grouped&&a.jsx("span",{className:"text-xs text-mm-text-secondary",children:"(.)"})]})}),a.jsx("td",{className:"px-4 py-3",children:J(D.status)}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>window.location.href=`/catalog/products/${D.id}/edit`,className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded transition",title:"",children:a.jsx(Ka,{})}),a.jsx("button",{onClick:()=>Z(D.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded transition",title:" ",children:a.jsx(bn,{})})]})})]},D.id))})]})}),i.length>0&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-mm-text-secondary",children:[" : ",i.length]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>N(Math.max(1,S-1)),disabled:S===1,className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:""}),a.jsxs("span",{className:"px-4 py-2 bg-mm-dark rounded text-mm-text",children:[" ",S]}),a.jsx("button",{onClick:()=>N(S+1),disabled:i.length<50,className:"px-4 py-2 bg-mm-secondary text-mm-text hover:bg-mm-secondary/80 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]}),M&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:()=>B(!1),children:a.jsxs("div",{className:"bg-mm-dark border-2 border-purple-500 rounded-lg p-6 w-full max-w-2xl",onClick:D=>D.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-mono text-purple-300",children:"//  "}),a.jsx("button",{onClick:()=>B(!1),className:"text-mm-text-secondary hover:text-mm-text",children:a.jsx(ht,{size:24})})]}),a.jsxs("div",{className:"mb-6 p-4 bg-mm-gray rounded border border-mm-border",children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2",children:"  "}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:H,onChange:D=>R(D.target.value),placeholder:" ...",className:"flex-1 px-3 py-2 bg-mm-dark border border-mm-border text-mm-text rounded focus:border-mm-cyan focus:outline-none",onKeyDown:D=>{D.key==="Enter"&&$()}}),a.jsx("button",{onClick:$,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition",children:""})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-mm-text mb-2 font-mono",children:" :"}),_.length===0?a.jsx("p",{className:"text-mm-text-secondary text-sm",children:" .    ."}):a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:_.map(D=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-mm-gray rounded border border-mm-border hover:border-purple-500 transition",children:[a.jsx("span",{className:`px-3 py-1 rounded border ${q0(D)}`,children:D}),a.jsx("button",{onClick:()=>Y(D),className:"px-3 py-1 bg-red-600/20 text-red-400 border border-red-600/30 rounded hover:bg-red-600/30 transition",children:""})]},D))})]})]})})]})]})}function oM(){const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{try{const d=await e.get("/api/admin/users");r(d.data)}catch(d){console.error("Failed to load users:",d)}s(!1)},o=async d=>{try{await e.put(`/api/admin/users/${d}/approve`),i()}catch(c){console.error("Failed to approve:",c)}},l=async d=>{try{await e.put(`/api/admin/users/${d}/block`),i()}catch(c){console.error("Failed to block:",c)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl mb-4 text-mm-cyan",children:" "}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Email"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Name"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Role"}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Status"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm",children:"Actions"})]})}),a.jsx("tbody",{children:t.map(d=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:d.email}),a.jsx("td",{className:"py-4 px-4",children:d.full_name}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:d.role==="admin"?"status-active":"status-new",children:d.role})}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:d.is_active?"status-active":"status-pending",children:d.is_active?"ACTIVE":"PENDING"})}),a.jsxs("td",{className:"py-4 px-4 text-right space-x-2",children:[!d.is_active&&d.role==="seller"&&a.jsx("button",{onClick:()=>o(d.id),className:"px-3 py-1 border border-mm-green text-mm-green text-xs",children:"APPROVE"}),d.is_active&&d.role==="seller"&&a.jsx("button",{onClick:()=>l(d.id),className:"px-3 py-1 border border-mm-red text-mm-red text-xs",children:"BLOCK"})]})]},d.id))})]})})]})}function lM(){const{user:e,logout:t}=Ne(),[r,n]=f.useState("sellers");return a.jsxs("div",{className:"min-h-screen bg-mm-black",children:[a.jsx("header",{className:"border-b border-mm-border bg-mm-darker",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h1",{className:"text-2xl font-bold",children:["MINIMAL",a.jsx("span",{className:"text-mm-purple",children:"MOD"})," ",a.jsx("span",{className:"status-active",children:"ADMIN"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-mm-text-secondary",children:e==null?void 0:e.email}),a.jsx(p_,{}),a.jsx("button",{onClick:t,className:"btn-primary",children:"LOGOUT"})]})]})})}),a.jsx("nav",{className:"border-b border-mm-border bg-mm-dark",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsxs("div",{className:"flex space-x-6 h-12 overflow-x-auto",children:[a.jsxs("button",{onClick:()=>n("sellers"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="sellers"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-sellers",children:[a.jsx(eM,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("api-keys"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="api-keys"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-integrations",children:[a.jsx(o_,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("warehouses"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="warehouses"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-warehouses",children:[a.jsx(Ai,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("products"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="products"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-products",children:[a.jsx(yt,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>n("orders"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="orders"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-orders",children:[a.jsx(Qd,{className:"inline mr-2"}),"ORDERS"]}),a.jsxs("button",{onClick:()=>n("finance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="finance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-finance",children:[a.jsx(Ll,{className:"inline mr-2"}),"FINANCE"]}),a.jsxs("button",{onClick:()=>n("balance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap ${r==="balance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,"data-testid":"admin-tab-balance",children:[a.jsx(ta,{className:"inline mr-2"}),"BALANCE"]})]})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[r==="sellers"&&a.jsx(oM,{}),r==="api-keys"&&a.jsx(x_,{}),r==="warehouses"&&a.jsx(sM,{}),r==="products"&&a.jsx(N_,{}),r==="orders"&&a.jsx(tM,{}),r==="finance"&&a.jsx(h_,{}),r==="balance"&&a.jsx(y_,{})]})]})}function cM(){const{api:e}=Ne(),[t,r]=f.useState({}),[n,s]=f.useState({}),[i,o]=f.useState(null);f.useEffect(()=>{l()},[]);const l=async()=>{try{const m=await e.get("/api/admin/categories/preload/status");s(m.data)}catch(m){console.error("Failed to load status:",m),o("  ")}},d=async m=>{var p,x;r({...t,[m]:!0}),o(null);try{const y=await e.post(`/api/admin/categories/preload?marketplace=${m}`);alert(` ${y.data.message}`),setTimeout(()=>{l()},3e3)}catch(y){console.error(`Failed to preload ${m}:`,y);const g=((x=(p=y.response)==null?void 0:p.data)==null?void 0:x.detail)||y.message;alert(`   ${m}: ${g}`),o(g)}finally{r({...t,[m]:!1})}},c=[{id:"ozon",name:"Ozon",color:"blue",description:"   Ozon"},{id:"wb",name:"Wildberries",color:"purple",description:"   WB"},{id:"yandex",name:" ",color:"yellow",description:"  "}],u=m=>m?new Date(m).toLocaleString("ru-RU"):"";return a.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),a.jsx("p",{className:"text-gray-600",children:"          "})]}),i&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-start gap-3",children:[a.jsx(An,{className:"text-red-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-800 font-medium",children:""}),a.jsx("p",{className:"text-red-600 text-sm",children:i})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"   ?"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"       "}),a.jsx("li",{children:"        "}),a.jsx("li",{children:"          "}),a.jsx("li",{children:"   1-3     "})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.map(m=>{const p=n[m.id]||{},x=p.total_categories>0,y=p.last_updated;return a.jsxs("div",{className:`bg-white border-2 border-${m.color}-200 rounded-lg p-6 shadow-sm`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`text-lg font-bold text-${m.color}-700`,children:m.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description})]}),x&&a.jsx(Vt,{className:"text-green-600 text-xl flex-shrink-0"})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:" :"}),a.jsx("span",{className:"font-bold text-gray-900",children:p.total_categories||0})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:" :"}),a.jsx("span",{className:"font-medium text-gray-700 text-xs",children:u(y)})]})]}),a.jsx("button",{onClick:()=>d(m.id),disabled:t[m.id],className:`w-full py-2 px-4 rounded-lg font-medium text-white transition-colors flex items-center justify-center gap-2 ${t[m.id]?`bg-${m.color}-300 cursor-not-allowed`:`bg-${m.color}-600 hover:bg-${m.color}-700`}`,children:t[m.id]?a.jsxs(a.Fragment,{children:[a.jsx(pt,{className:"animate-spin"}),"..."]}):x?a.jsxs(a.Fragment,{children:[a.jsx(pt,{})," "]}):a.jsxs(a.Fragment,{children:[a.jsx(ut,{})," "]})})]},m.id)})}),a.jsxs("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-yellow-900 mb-2",children:" "}),a.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[a.jsx("li",{children:"      API  "}),a.jsx("li",{children:' ,       ""'}),a.jsx("li",{children:"    ,      "})]})]})]})}function dM(){const{id:e}=om(),t=Jr(),{api:r}=Ne(),[n,s]=f.useState(!0),[i,o]=f.useState([]),[l,d]=f.useState(null),[c,u]=f.useState({sku:"",price:"",cogs:"",status:"draft",category_id:"",visibility:{show_on_minimalmod:!0,show_in_search:!0,is_featured:!1},seo:{meta_title:"",meta_description:"",url_slug:""},minimalmod:{name:"",variant_name:"",description:"",tags:[],images:[],attributes:{}},marketplaces:{images:[],ozon:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}},wildberries:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}},yandex_market:{enabled:!1,product_id:"",name:"",description:"",price:"",category_id:"",attributes:{}}}});f.useEffect(()=>{m(),e!=="new"?p():s(!1)},[e]);const m=async()=>{try{const h=await r.get("/api/admin/categories");o(h.data)}catch(h){console.error("Failed to load categories:",h)}},p=async()=>{try{const h=await r.get(`/api/products/${e}`);if(u(h.data),h.data.category_id){const b=i.find(j=>j.id===h.data.category_id);d(b)}}catch(h){console.error("Failed to load product:",h)}s(!1)},x=h=>{const b=i.find(j=>j.id===h);if(d(b),b&&b.attributes){const j={};b.attributes.forEach(k=>{j[k]=c.minimalmod.attributes[k]||""}),u({...c,category_id:h,minimalmod:{...c.minimalmod,attributes:j}})}else u({...c,category_id:h})},y=()=>{if(!l)return;const h=l.marketplace_mapping||{};if(c.marketplaces.ozon.enabled&&h.ozon){const b={};Object.entries(c.minimalmod.attributes).forEach(([j,k])=>{var N;const S=(N=h.ozon.attribute_mapping)==null?void 0:N[j];S&&k&&(b[S]=k)}),u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,attributes:b}}})}alert("    !")},g=async()=>{var h,b;try{const j={...c,visibility:{...c.visibility,show_on_minimalmod:!0},status:"active"};e==="new"?await r.post("/api/products",j):await r.put(`/api/products/${e}`,j),alert("    MinimalMod!"),t(-1)}catch(j){alert(": "+(((b=(h=j.response)==null?void 0:h.data)==null?void 0:b.detail)||j.message))}},v=async()=>{var b,j;const h=[];if(c.marketplaces.ozon.enabled&&h.push("Ozon"),c.marketplaces.wildberries.enabled&&h.push("Wildberries"),c.marketplaces.yandex_market.enabled&&h.push("."),h.length===0){alert("    !");return}try{y(),e==="new"?await r.post("/api/products",c):await r.put(`/api/products/${e}`,c),alert(`  : ${h.join(", ")}!

      API  .`),t(-1)}catch(k){alert(": "+(((j=(b=k.response)==null?void 0:b.data)==null?void 0:j.detail)||k.message))}};return n?a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):a.jsxs("div",{className:"min-h-screen bg-mm-black",children:[a.jsx("header",{className:"border-b border-mm-border bg-mm-darker sticky top-0 z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold text-mm-cyan uppercase",children:e==="new"?" ":" "}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:g,className:"btn-primary",children:[a.jsx(er,{className:"inline mr-2"}),"  "]}),a.jsxs("button",{onClick:v,className:"btn-secondary border-mm-green text-mm-green",children:[a.jsx(er,{className:"inline mr-2"}),"  "]}),a.jsxs("button",{onClick:()=>t(-1),className:"btn-secondary",children:[a.jsx(ht,{className:"inline mr-2"}),""]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"card-neon mb-6",children:[a.jsx("p",{className:"comment mb-3",children:"//      :"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center space-x-2 p-4 border-2 border-mm-border hover:border-mm-cyan transition-all cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:!0,disabled:!0,className:"w-5 h-5"}),a.jsx("span",{className:"font-mono text-mm-cyan",children:"  ()"})]}),a.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${c.marketplaces.ozon.enabled?"border-mm-blue bg-mm-blue/10":"border-mm-border hover:border-mm-blue"}`,children:[a.jsx("input",{type:"checkbox",checked:c.marketplaces.ozon.enabled,onChange:h=>u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,enabled:h.target.checked}}}),className:"w-5 h-5"}),a.jsx("span",{className:`font-mono ${c.marketplaces.ozon.enabled?"text-mm-blue":"text-mm-text-secondary"}`,children:" OZON"})]}),a.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${c.marketplaces.wildberries.enabled?"border-mm-purple bg-mm-purple/10":"border-mm-border hover:border-mm-purple"}`,children:[a.jsx("input",{type:"checkbox",checked:c.marketplaces.wildberries.enabled,onChange:h=>u({...c,marketplaces:{...c.marketplaces,wildberries:{...c.marketplaces.wildberries,enabled:h.target.checked}}}),className:"w-5 h-5"}),a.jsx("span",{className:`font-mono ${c.marketplaces.wildberries.enabled?"text-mm-purple":"text-mm-text-secondary"}`,children:" WILDBERRIES"})]}),a.jsxs("label",{className:`flex items-center space-x-2 p-4 border-2 transition-all cursor-pointer ${c.marketplaces.yandex_market.enabled?"border-mm-yellow bg-mm-yellow/10":"border-mm-border hover:border-mm-yellow"}`,children:[a.jsx("input",{type:"checkbox",checked:c.marketplaces.yandex_market.enabled,onChange:h=>u({...c,marketplaces:{...c.marketplaces,yandex_market:{...c.marketplaces.yandex_market,enabled:h.target.checked}}}),className:"w-5 h-5"}),a.jsx("span",{className:`font-mono ${c.marketplaces.yandex_market.enabled?"text-mm-yellow":"text-mm-text-secondary"}`,children:" ."})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:" "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"SKU *"}),a.jsx("input",{type:"text",value:c.sku,onChange:h=>u({...c,sku:h.target.value}),className:"input-neon w-full",placeholder:"PRODUCT-123"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsx("input",{type:"number",step:"0.01",value:c.price,onChange:h=>u({...c,price:h.target.value}),className:"input-neon w-full"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsx("input",{type:"text",value:c.minimalmod.name,onChange:h=>u({...c,minimalmod:{...c.minimalmod,name:h.target.value}}),className:"input-neon w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsxs("select",{value:c.category_id||"",onChange:h=>x(h.target.value),className:"input-neon w-full",children:[a.jsx("option",{value:"",children:" "}),i.map(h=>a.jsx("option",{value:h.id,children:h.name},h.id))]}),a.jsx("p",{className:"comment text-xs mt-1",children:"//     "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:""}),a.jsx("textarea",{value:c.minimalmod.description,onChange:h=>u({...c,minimalmod:{...c.minimalmod,description:h.target.value}}),className:"input-neon w-full",rows:"6"})]})]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsxs("h3",{className:"text-xl mb-4 text-mm-cyan uppercase",children:[a.jsx(Cx,{className:"inline mr-2"}),"   ( 8 )"]}),a.jsxs("div",{className:"space-y-2",children:[c.minimalmod.images.map((h,b)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[h&&a.jsx("img",{src:h,alt:"",className:"w-16 h-16 object-cover border border-mm-border"}),a.jsx("input",{type:"text",value:h,onChange:j=>{const k=[...c.minimalmod.images];k[b]=j.target.value,u({...c,minimalmod:{...c.minimalmod,images:k}})},className:"input-neon flex-1",placeholder:"https://example.com/image.jpg"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`file-mm-${b}`,onChange:j=>{const k=j.target.files[0];if(k){const S=new FileReader;S.onload=N=>{const P=[...c.minimalmod.images];P[b]=N.target.result,u({...c,minimalmod:{...c.minimalmod,images:P}})},S.readAsDataURL(k)}}}),a.jsx("label",{htmlFor:`file-mm-${b}`,className:"btn-secondary px-3 py-2 cursor-pointer",children:""}),a.jsx("button",{onClick:()=>{u({...c,minimalmod:{...c.minimalmod,images:c.minimalmod.images.filter((j,k)=>k!==b)}})},className:"text-mm-red hover:text-mm-red/80 text-xl",children:""})]},b)),c.minimalmod.images.length<8&&a.jsx("button",{onClick:()=>u({...c,minimalmod:{...c.minimalmod,images:[...c.minimalmod.images,""]}}),className:"btn-secondary w-full",children:"+  "})]})]}),a.jsxs("div",{className:"card-neon border-2 border-mm-purple",children:[a.jsxs("h3",{className:"text-xl mb-4 text-mm-purple uppercase",children:[a.jsx(Cx,{className:"inline mr-2"}),"   ( 10 ,  3:4)"]}),a.jsx("p",{className:"comment mb-3",children:"//     Ozon, Wildberries, ."}),a.jsxs("div",{className:"space-y-2",children:[c.marketplaces.images.map((h,b)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[h&&a.jsx("img",{src:h,alt:"",className:"w-16 h-16 object-cover border border-mm-border"}),a.jsx("input",{type:"text",value:h,onChange:j=>{const k=[...c.marketplaces.images];k[b]=j.target.value,u({...c,marketplaces:{...c.marketplaces,images:k}})},className:"input-neon flex-1",placeholder:"https://example.com/marketplace-image.jpg"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`file-mp-${b}`,onChange:j=>{const k=j.target.files[0];if(k){const S=new FileReader;S.onload=N=>{const P=[...c.marketplaces.images];P[b]=N.target.result,u({...c,marketplaces:{...c.marketplaces,images:P}})},S.readAsDataURL(k)}}}),a.jsx("label",{htmlFor:`file-mp-${b}`,className:"btn-secondary px-3 py-2 cursor-pointer",children:""}),a.jsx("button",{onClick:()=>u({...c,marketplaces:{...c.marketplaces,images:c.marketplaces.images.filter((j,k)=>k!==b)}}),className:"text-mm-red hover:text-mm-red/80 text-xl",children:""})]},b)),c.marketplaces.images.length<10&&a.jsx("button",{onClick:()=>u({...c,marketplaces:{...c.marketplaces,images:[...c.marketplaces.images,""]}}),className:"btn-secondary w-full",children:"+  "})]}),a.jsx("p",{className:"comment text-xs mt-3",children:"//  : 3:4 (, 900x1200px)"})]}),l&&l.attributes&&a.jsxs("div",{className:"card-neon",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl text-mm-cyan uppercase",children:""}),a.jsxs("button",{onClick:y,className:"btn-secondary text-xs",children:[a.jsx(Vt,{className:"inline mr-1"}),"  "]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.attributes.map(h=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:h}),a.jsx("input",{type:"text",value:c.minimalmod.attributes[h]||"",onChange:b=>u({...c,minimalmod:{...c.minimalmod,attributes:{...c.minimalmod.attributes,[h]:b.target.value}}}),className:"input-neon w-full",placeholder:` ${h}`})]},h))}),a.jsx("p",{className:"comment text-xs mt-3",children:'//   ,   ""     '})]}),c.marketplaces.ozon.enabled&&a.jsxs("div",{className:"card-neon border-2 border-mm-blue",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-blue uppercase",children:" OZON "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  Ozon"}),a.jsx("input",{type:"number",step:"0.01",value:c.marketplaces.ozon.price,onChange:h=>u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,price:h.target.value}}}),className:"input-neon w-full",placeholder:"   Ozon"}),a.jsx("p",{className:"comment text-xs mt-1",children:"//  ,    "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  Ozon"}),a.jsx("textarea",{value:c.marketplaces.ozon.description,onChange:h=>u({...c,marketplaces:{...c.marketplaces,ozon:{...c.marketplaces.ozon,description:h.target.value}}}),className:"input-neon w-full",rows:"4",placeholder:"  Ozon (   )"}),a.jsx("p",{className:"comment text-xs mt-1",children:"//  ,    "})]})]})]}),c.marketplaces.wildberries.enabled&&a.jsxs("div",{className:"card-neon border-2 border-mm-purple",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-purple uppercase",children:" WILDBERRIES "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  WB"}),a.jsx("input",{type:"number",step:"0.01",value:c.marketplaces.wildberries.price,onChange:h=>u({...c,marketplaces:{...c.marketplaces,wildberries:{...c.marketplaces.wildberries,price:h.target.value}}}),className:"input-neon w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  WB"}),a.jsx("textarea",{value:c.marketplaces.wildberries.description,onChange:h=>u({...c,marketplaces:{...c.marketplaces,wildberries:{...c.marketplaces.wildberries,description:h.target.value}}}),className:"input-neon w-full",rows:"4"})]})]})]}),c.marketplaces.yandex_market.enabled&&a.jsxs("div",{className:"card-neon border-2 border-mm-yellow",children:[a.jsx("h3",{className:"text-xl mb-4 text-mm-yellow uppercase",children:" . "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsx("input",{type:"number",step:"0.01",value:c.marketplaces.yandex_market.price,onChange:h=>u({...c,marketplaces:{...c.marketplaces,yandex_market:{...c.marketplaces.yandex_market,price:h.target.value}}}),className:"input-neon w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  "}),a.jsx("textarea",{value:c.marketplaces.yandex_market.description,onChange:h=>u({...c,marketplaces:{...c.marketplaces,yandex_market:{...c.marketplaces.yandex_market,description:h.target.value}}}),className:"input-neon w-full",rows:"4"})]})]})]})]}),a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-lg mb-4 text-mm-cyan uppercase",children:""}),a.jsxs("select",{value:c.status,onChange:h=>u({...c,status:h.target.value}),className:"input-neon w-full",children:[a.jsx("option",{value:"draft",children:""}),a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"out_of_stock",children:"  "}),a.jsx("option",{value:"archived",children:""})]})]}),a.jsxs("div",{className:"card-neon",children:[a.jsx("h3",{className:"text-lg mb-4 text-mm-cyan uppercase",children:""}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:c.visibility.show_on_minimalmod,onChange:h=>u({...c,visibility:{...c.visibility,show_on_minimalmod:h.target.checked}}),className:"w-4 h-4"}),a.jsx("span",{className:"text-mm-text-secondary",children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:c.visibility.is_featured,onChange:h=>u({...c,visibility:{...c.visibility,is_featured:h.target.checked}}),className:"w-4 h-4"}),a.jsx("span",{className:"text-mm-text-secondary",children:""})]})]})]}),a.jsxs("div",{className:"card-neon bg-mm-blue/5 border-mm-blue",children:[a.jsx("p",{className:"text-mm-blue font-bold text-sm mb-2",children:"   :"}),a.jsxs("ul",{className:"text-xs text-mm-text-secondary space-y-1",children:[a.jsx("li",{children:"1.   "}),a.jsx("li",{children:"2.  "}),a.jsx("li",{children:"3.  "}),a.jsx("li",{children:"4.   ( )"}),a.jsx("li",{children:"5.    "}),a.jsx("li",{children:'6.  "  "'})]})]})]})]})]})]})}const uM="http://localhost:8001",mM=()=>{const e=Jr(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(""),[l,d]=f.useState("Wildberries"),[c,u]=f.useState([]),[m,p]=f.useState(!1),[x,y]=f.useState(2);f.useEffect(()=>{g()},[]);const g=async()=>{try{const C=localStorage.getItem("token"),O=await ot.get(`${uM}/api/products`,{headers:{Authorization:`Bearer ${C}`}});r(O.data),s(!1)}catch(C){console.error("Error fetching products:",C),s(!1)}},v=()=>{e("/products/new")},h=()=>{e("/orders/new")},b=()=>{if(c.length===0){alert("   ");return}alert("  -  ")},j=()=>{alert(" -  ")},k=()=>{if(c.length===0){alert("   ");return}confirm(` ${c.length}   ?`)&&alert(" -  ")},S=()=>{if(c.length===0){alert("   ");return}confirm(` ${c.length} ?`)&&alert(" -  ")},N=()=>{alert("  -  ")},P=C=>{c.includes(C)?u(c.filter(O=>O!==C)):u([...c,C])},w=t.filter(C=>C.name.toLowerCase().includes(i.toLowerCase())||C.sku&&C.sku.toLowerCase().includes(i.toLowerCase())||C.barcode&&C.barcode.toLowerCase().includes(i.toLowerCase()));return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:v,className:"px-6 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:" "}),a.jsx("button",{onClick:h,className:"px-6 py-2 bg-yellow-500 text-white font-semibold rounded-lg hover:bg-yellow-600",children:" "})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:" "}),a.jsx("button",{onClick:j,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:""}),a.jsx("button",{onClick:k,className:"p-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",title:"  ",children:""}),a.jsx("button",{onClick:S,className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200",title:"",children:""})]})]}),a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx("button",{onClick:()=>p(!m),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-semibold",children:""}),a.jsx("input",{type:"text",value:i,onChange:C=>o(C.target.value),placeholder:"  , -, , ",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.jsxs("select",{value:l,onChange:C=>d(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:"Wildberries"}),a.jsx("option",{children:"Ozon"}),a.jsx("option",{children:"."})]}),a.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:"   "}),a.jsx("option",{children:" "})]}),a.jsx("button",{onClick:N,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold",children:""})]})]}),m&&a.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:a.jsx("option",{children:" "})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:a.jsx("option",{children:" "})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:a.jsx("option",{children:" "})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:""}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:" "}),a.jsx("option",{children:""}),a.jsx("option",{children:" "})]})]})]})}),a.jsxs("div",{className:"bg-white px-6 py-3 flex justify-between items-center border-b",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:" "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:"  "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" "}),a.jsx("input",{type:"range",min:"1",max:"3",value:x,onChange:C=>y(parseInt(C.target.value)),className:"w-24"})]})]}),a.jsxs("div",{className:"bg-white",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsx("input",{type:"checkbox",onChange:C=>{C.target.checked?u(w.map(O=>O.id)):u([])},className:"w-4 h-4"})}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"-"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""})]})}),a.jsx("tbody",{children:n?a.jsx("tr",{children:a.jsx("td",{colSpan:"12",className:"px-4 py-8 text-center text-gray-500",children:"..."})}):w.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"12",className:"px-4 py-8 text-center text-gray-500",children:"  "})}):w.map(C=>a.jsxs("tr",{className:`border-b hover:bg-gray-50 ${x===1?"h-12":x===2?"h-16":"h-24"}`,children:[a.jsx("td",{className:"px-4",children:a.jsx("input",{type:"checkbox",checked:c.includes(C.id),onChange:()=>P(C.id),className:"w-4 h-4"})}),a.jsx("td",{className:"px-4",children:a.jsx("div",{className:`bg-gray-200 rounded flex items-center justify-center text-gray-400 ${x===1?"w-10 h-10":x===2?"w-12 h-12":"w-16 h-16"}`,children:""})}),a.jsx("td",{className:"px-4",children:a.jsx("button",{onClick:()=>e(`/products/${C.id}`),className:"text-blue-600 hover:underline font-medium",children:C.name})}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:C.size||"-"}),a.jsx("td",{className:"px-4",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:C.brand||"-"}),a.jsx("td",{className:"px-4",children:a.jsx("button",{className:"text-yellow-500 hover:text-yellow-600",children:""})}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:C.barcode||"-"}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:C.sku||"-"}),a.jsx("td",{className:"px-4 text-sm font-semibold text-gray-800",children:C.price?`${C.price} `:"-"}),a.jsx("td",{className:"px-4 text-sm text-gray-600",children:C.stock_quantity||0}),a.jsx("td",{className:"px-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>e(`/products/${C.id}/edit`),className:"text-blue-600 hover:underline text-sm",children:""}),a.jsx("button",{className:"text-red-600 hover:underline text-sm",children:""})]})})]},C.id))})]})}),a.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-t",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[a.jsx("option",{children:"50"}),a.jsx("option",{children:"100"}),a.jsx("option",{children:"200"})]}),a.jsx("span",{className:"text-sm text-gray-600",children:"  "})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[" 1  1 |  : ",c.length]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""}),a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:""})]})]})]}),a.jsx("div",{className:"fixed left-0 top-16 w-64 bg-gray-800 text-white h-full overflow-y-auto hidden",children:a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:""}),a.jsxs("ul",{className:"space-y-1 text-sm",children:[a.jsx("li",{children:a.jsx("a",{href:"/products",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/import",className:"block px-3 py-2 rounded hover:bg-gray-700",children:" "})}),a.jsx("li",{children:a.jsx("a",{href:"/products/merge",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/photos",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/categories",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/brands",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/manufacturers",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"/products/parameters",className:"block px-3 py-2 rounded hover:bg-gray-700",children:""})})]})]})})]})},fM="http://localhost:8001",pM=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[s,i]=f.useState("MAin"),[o,l]=f.useState(!0),[d,c]=f.useState(!0),[u,m]=f.useState(!1),[p,x]=f.useState(!1),[y,g]=f.useState(""),[v,h]=f.useState([]);f.useEffect(()=>{b()},[]);const b=async()=>{try{const k=localStorage.getItem("token"),S=await ot.get(`${fM}/api/stock`,{headers:{Authorization:`Bearer ${k}`}});t(S.data),n(!1)}catch(k){console.error("Error fetching stock:",k),n(!1)}},j=e.filter(k=>{var S,N,P;return((S=k.product_name)==null?void 0:S.toLowerCase().includes(y.toLowerCase()))||((N=k.sku)==null?void 0:N.toLowerCase().includes(y.toLowerCase()))||((P=k.barcode)==null?void 0:P.toLowerCase().includes(y.toLowerCase()))});return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"bg-white border-b px-6 py-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"   "}),a.jsxs("div",{className:"flex gap-4 items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:""}),a.jsxs("select",{value:s,onChange:k=>i(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{value:"MAin",children:"MAin"}),a.jsx("option",{value:"all",children:" "})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:o,onChange:k=>l(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:k=>c(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"  "})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:u,onChange:k=>m(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:k=>x(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:'  ""'})]})]})]}),a.jsxs("div",{className:"flex gap-3 items-center",children:[a.jsx("input",{type:"text",value:y,onChange:k=>g(k.target.value),placeholder:"  , -, , ",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:""})]})]}),a.jsx("div",{className:"bg-white border-b px-6",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"px-6 py-3 bg-blue-500 text-white font-semibold border-b-2 border-blue-600",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:" "}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""}),a.jsx("button",{className:"px-6 py-3 text-gray-600 hover:bg-gray-50",children:""})]})}),a.jsxs("div",{className:"bg-white px-6 py-3 flex justify-between items-center border-b",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:" "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:"  "}),a.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" "}),a.jsx("input",{type:"range",min:"1",max:"3",className:"w-24"})]})]}),a.jsxs("div",{className:"bg-white",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"  ..."}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:" "}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"-"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"  / "}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"SKU"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"ID"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:" "}),p&&a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:""})]})}),a.jsx("tbody",{children:r?a.jsx("tr",{children:a.jsx("td",{colSpan:"20",className:"px-4 py-8 text-center text-gray-500",children:"..."})}):j.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"20",className:"px-4 py-8 text-center text-gray-500",children:"  "})}):j.map((k,S)=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),a.jsx("td",{className:"px-4 py-3",children:k.error&&a.jsx("span",{className:"text-red-600",children:""})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center text-gray-400",children:""})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"text-blue-600 hover:underline cursor-pointer font-medium",children:k.product_name||" "})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.size||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-800",children:k.quantity||0}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.reserved||0}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.location||"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.barcode||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.size||"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.brand||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.color||"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:""}),a.jsx("button",{className:"text-red-600 hover:text-red-800",children:""})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.sku||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.id||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.seller_sku||"-"}),p&&a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{className:"text-blue-600 hover:underline text-sm",children:""})})]},S))})]})}),a.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-t",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[a.jsx("option",{children:"200"}),a.jsx("option",{children:"50"}),a.jsx("option",{children:"100"})]}),a.jsx("span",{className:"text-sm text-gray-600",children:"  "})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"0 - 0  0.  1  1"}),a.jsx("div",{className:"flex gap-1",children:a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:" : 0"})})]})]})]})},xM=()=>{const{id:e}=om(),t=Jr(),{api:r}=Ne(),[n,s]=f.useState(null),[i,o]=f.useState(!0),[l,d]=f.useState(!1),[c,u]=f.useState(!1),[m,p]=f.useState(!1),[x,y]=f.useState(""),[g,v]=f.useState([]),[h,b]=f.useState(""),[j,k]=f.useState(!1),[S,N]=f.useState([]),[P,w]=f.useState(""),[C,O]=f.useState(""),[_,E]=f.useState({name:"",is_fbo:!1,send_stock:!0,load_orders:!0,use_for_orders:!0,priority:0,default_cell:"",description:"",longitude:null,latitude:null,address:"",brand:"",working_hours:"",assembly_hours:0,storage_days:0,online_payment:!1,cash_payment:!1,card_payment:!1,show_on_goods:!1});f.useEffect(()=>{I(),A()},[e]);const I=async()=>{try{const T=await r.get(`/api/warehouses/${e}`);s(T.data),E({name:T.data.name||"",is_fbo:T.data.is_fbo||!1,send_stock:T.data.send_stock!==!1,load_orders:T.data.load_orders!==!1,use_for_orders:T.data.use_for_orders!==!1,priority:T.data.priority||0,default_cell:T.data.default_cell||"",description:T.data.description||"",longitude:T.data.longitude,latitude:T.data.latitude,address:T.data.address||"",brand:T.data.brand||"",working_hours:T.data.working_hours||"",assembly_hours:T.data.assembly_hours||0,storage_days:T.data.storage_days||0,online_payment:T.data.online_payment||!1,cash_payment:T.data.cash_payment||!1,card_payment:T.data.card_payment||!1,show_on_goods:T.data.show_on_goods||!1}),o(!1)}catch(T){console.error("Error fetching warehouse:",T),o(!1)}},A=async()=>{try{const T=await r.get(`/api/warehouses/${e}/links`);N(T.data||[])}catch(T){console.error("Error fetching warehouse links:",T)}},M=async T=>{var Z,te;if(!T){v([]);return}k(!0);try{const $=await r.get(`/api/marketplaces/${T}/all-warehouses`);v($.data.warehouses||[]),$.data.warehouses.length===0&&$.data.message&&alert($.data.message)}catch($){console.error("Error loading MP warehouses:",$),alert("  : "+(((te=(Z=$.response)==null?void 0:Z.data)==null?void 0:te.detail)||$.message))}finally{k(!1)}},B=T=>{y(T),b(""),v([]),w(""),O(""),T&&T!=="yandex"&&M(T)},H=async()=>{var T,Z;if(!x){alert(" ");return}if(x==="yandex"){if(!P||!C){alert(" ID     .");return}}else if(!h){alert("   ");return}try{let te;if(x==="yandex"){const Y=(await r.get("/api/seller/api-keys")).data.find(le=>le.marketplace==="yandex");if(!Y){alert("   .   ");return}te={integration_id:Y.id,marketplace_name:"yandex",marketplace_warehouse_id:P,marketplace_warehouse_name:C}}else{const $=g.find(Y=>Y.id===h);te={integration_id:$.integration_id,marketplace_name:x,marketplace_warehouse_id:$.id,marketplace_warehouse_name:$.name}}await r.post(`/api/warehouses/${e}/links`,te),await A(),y(""),b(""),v([]),w(""),O(""),alert(`    ${x.toUpperCase()} !`)}catch(te){console.error("Error adding link:",te),alert(": "+(((Z=(T=te.response)==null?void 0:T.data)==null?void 0:Z.detail)||te.message))}},R=async T=>{var Z,te;if(confirm(" ?"))try{await r.delete(`/api/warehouses/${e}/links/${T}`),alert("  "),A()}catch($){console.error("Error deleting link:",$),alert(": "+(((te=(Z=$.response)==null?void 0:Z.data)==null?void 0:te.detail)||$.message))}},L=(T,Z)=>{E(te=>({...te,[T]:Z}))},z=async()=>{d(!0);try{await r.put(`/api/warehouses/${e}`,_),alert("  "),t(-1)}catch(T){console.error("Error saving warehouse:",T),alert("   ")}finally{d(!1)}},Q=async()=>{if(confirm(" ,     ?"))try{await r.delete(`/api/warehouses/${e}`),alert(" "),t(-1)}catch(T){console.error("Error deleting warehouse:",T),alert("   ")}};return i?a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:a.jsx("p",{className:"text-mm-cyan",children:"..."})}):a.jsx("div",{className:"min-h-screen bg-mm-black text-gray-100 p-8",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("button",{onClick:()=>t(-1),className:"text-mm-cyan hover:text-cyan-400 mb-4",children:" "}),a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "})]}),a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),a.jsx("input",{type:"text",value:_.name,onChange:T=>L("name",T.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:_.is_fbo,onChange:T=>L("is_fbo",T.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"    FBO"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"  FIFO   FBO"})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:_.send_stock,onChange:T=>L("send_stock",T.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:" "}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"SelSup      .   ."})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:_.load_orders,onChange:T=>L("load_orders",T.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:" "}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"    .   ."})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-800 p-2 rounded transition",children:[a.jsx("input",{type:"checkbox",checked:_.use_for_orders,onChange:T=>L("use_for_orders",T.target.checked),className:"w-5 h-5 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"  "}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"    .    ."})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"  "}),a.jsx("input",{type:"number",value:_.priority,onChange:T=>L("priority",parseInt(T.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-3 text-mm-cyan",children:"   "}),a.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 mb-4",children:a.jsxs("p",{className:"text-xs text-blue-300",children:[" ",a.jsx("strong",{children:":"}),'   SelSup ,        .  " "     ,      .']})}),a.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg mb-4 space-y-3",children:[a.jsx("p",{className:"text-xs text-mm-cyan mb-3",children:"   FBS     "}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 font-mono",children:"1  "}),a.jsxs("select",{value:x,onChange:T=>B(T.target.value),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm",children:[a.jsx("option",{value:"",children:"--   --"}),a.jsx("option",{value:"ozon",children:"OZON"}),a.jsx("option",{value:"wb",children:"WILDBERRIES"}),a.jsx("option",{value:"yandex",children:"YANDEX.MARKET"})]})]}),x&&x!=="yandex"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs mb-1 font-mono",children:["2   FBS",j&&a.jsx("span",{className:"ml-2 text-mm-cyan animate-pulse",children:"..."})]}),a.jsxs("select",{value:h,onChange:T=>b(T.target.value),disabled:j,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm disabled:opacity-50",children:[a.jsx("option",{value:"",children:"--   --"}),g.map(T=>a.jsxs("option",{value:T.id,children:[T.name," (ID: ",T.id,") ",T.integration_name?`[${T.integration_name}]`:""]},T.id))]}),g.length===0&&!j&&a.jsxs("p",{className:"text-xs text-yellow-400 mt-1",children:["   .  :",a.jsx("br",{}),"      ",x.toUpperCase(),"   ",a.jsx("br",{}),"  FBS     ",x.toUpperCase()]})]}),x==="yandex"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded p-2",children:a.jsxs("p",{className:"text-xs text-yellow-300",children:[" ",a.jsx("strong",{children:".:"})," ID     API.     .    "]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 font-mono",children:"2 ID  ."}),a.jsx("input",{type:"text",value:P,onChange:T=>w(T.target.value),placeholder:" ID    ",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1 font-mono",children:" "}),a.jsx("input",{type:"text",value:C,onChange:T=>O(T.target.value),placeholder:"  ",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-mm-cyan text-sm"})]})]}),a.jsxs("button",{onClick:H,disabled:!x||x==="yandex"&&(!P||!C)||x!=="yandex"&&!h,className:"w-full px-4 py-2 bg-mm-purple hover:bg-purple-600 rounded transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[a.jsx(Dr,{}),a.jsx("span",{children:" "})]})]}),S.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:" :"}),S.map((T,Z)=>{var te;return a.jsxs("div",{className:"bg-gray-800 px-4 py-3 rounded flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm font-medium",children:[(te=T.marketplace_name)==null?void 0:te.toUpperCase()," - ",T.marketplace_warehouse_name]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",T.marketplace_warehouse_id]})]}),a.jsx("button",{onClick:()=>R(T.id),className:"px-3 py-2 text-red-400 hover:bg-red-400/10 rounded transition",children:a.jsx(bn,{})})]},Z)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"    "}),a.jsx("input",{type:"text",value:_.default_cell,onChange:T=>L("default_cell",T.target.value),placeholder:" ",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[a.jsxs("button",{onClick:()=>u(!c),className:"flex items-center space-x-2 text-mm-cyan hover:text-cyan-400 transition",children:[a.jsx("span",{className:"text-xl",children:c?"":""}),a.jsx("span",{className:"font-medium",children:"  "})]}),c&&a.jsxs("div",{className:"mt-4 space-y-4 pl-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:""}),a.jsx("textarea",{value:_.description,onChange:T=>L("description",T.target.value),rows:3,className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:""}),a.jsx("input",{type:"number",step:"0.000001",value:_.longitude||"",onChange:T=>L("longitude",parseFloat(T.target.value)||null),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:""}),a.jsx("input",{type:"number",step:"0.000001",value:_.latitude||"",onChange:T=>L("latitude",parseFloat(T.target.value)||null),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:"  "}),a.jsx("input",{type:"text",value:_.address,onChange:T=>L("address",T.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:",    "}),a.jsx("input",{type:"text",value:_.brand,onChange:T=>L("brand",T.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:" "}),a.jsx("input",{type:"text",value:_.working_hours,onChange:T=>L("working_hours",T.target.value),placeholder:": - 9:00-18:00",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:"-    "}),a.jsx("input",{type:"number",value:_.assembly_hours,onChange:T=>L("assembly_hours",parseInt(T.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",children:"-   "}),a.jsx("input",{type:"number",value:_.storage_days,onChange:T=>L("storage_days",parseInt(T.target.value)||0),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-mm-cyan"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:" :"}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:_.online_payment,onChange:T=>L("online_payment",T.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:" "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:_.cash_payment,onChange:T=>L("cash_payment",T.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:"  "})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:_.card_payment,onChange:T=>L("card_payment",T.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:"  "})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:_.show_on_goods,onChange:T=>L("show_on_goods",T.target.checked),className:"w-5 h-5 rounded"}),a.jsx("span",{children:"   Goods"})]})]})]}),a.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-700",children:[a.jsx("button",{onClick:Q,disabled:(n==null?void 0:n.type)==="main",className:"px-6 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:""}),a.jsx("button",{onClick:z,disabled:l,className:"px-8 py-2 bg-mm-cyan hover:bg-cyan-400 text-black font-bold rounded-lg transition disabled:opacity-50",children:l?"...":""})]})]})]})})},Wy=()=>{const[e,t]=f.useState(!1),r=f.useRef(null),n=Jr(),s=ts(),i=[{label:"",path:"/catalog/products",icon:i_},{label:"",path:"/catalog/categories",icon:yt},{label:"",path:"/catalog/pricing",icon:ta},{label:"",path:"/catalog/matching",icon:Ko},{label:" ",path:"/catalog/import",icon:er}],o=i.find(c=>s.pathname===c.path),l=o?o.label:"";f.useEffect(()=>{const c=u=>{r.current&&!r.current.contains(u.target)&&t(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const d=c=>{t(!1),n(c)};return a.jsxs("div",{className:"relative inline-block",ref:r,children:[a.jsxs("button",{onClick:()=>t(!e),className:"px-4 py-2 bg-mm-secondary text-mm-cyan hover:bg-mm-secondary/80 rounded flex items-center gap-2 font-mono uppercase text-sm",children:[a.jsx(yt,{className:"w-4 h-4"}),l,a.jsx(Us,{className:`w-4 h-4 transition-transform ${e?"rotate-180":""}`})]}),e&&a.jsx("div",{className:"absolute left-0 mt-2 bg-white rounded-lg shadow-2xl border-2 border-gray-300 py-2 z-[9999] min-w-[220px]",children:i.map((c,u)=>{const m=c.icon,p=s.pathname===c.path;return a.jsxs("button",{onClick:()=>d(c.path),className:`w-full text-left px-4 py-3 hover:bg-gray-100 flex items-center gap-3 text-sm transition-colors font-medium ${p?"bg-blue-50 text-blue-600":"text-gray-700 hover:text-blue-600"}`,children:[a.jsx(m,{className:"w-4 h-4"}),c.label,p&&a.jsx("span",{className:"ml-auto text-xs text-blue-500",children:""})]},u)})})]})};function hM(){const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState({});f.useEffect(()=>{l()},[]);const l=async()=>{s(!0);try{const p=(await e.get("/api/categories/mappings")).data||[];r(p),await d(p)}catch(m){console.error("Failed to load mappings:",m)}finally{s(!1)}},d=async m=>{try{const x=(await e.get("/api/catalog/products?limit=1000")).data.products||[],y={};m.forEach(g=>{const v=x.filter(h=>h.category_mapping_id===g.id).length;y[g.id]=v}),o(y)}catch(p){console.error("Failed to load product counts:",p)}},c=async(m,p)=>{var g,v;const x=i[m]||0;let y=`      "${p}"?`;if(x>0&&(y+=`

 : ${x}    !
      .`),y+=`

   .`,!!confirm(y))try{await e.delete(`/api/categories/mappings/${m}`),alert("  !"),l()}catch(h){alert("  : "+(((v=(g=h.response)==null?void 0:g.data)==null?void 0:v.detail)||h.message))}},u=m=>{var g,v,h;const p=!!((g=m.marketplace_categories)!=null&&g.ozon),x=!!((v=m.marketplace_categories)!=null&&v.wildberries),y=!!((h=m.marketplace_categories)!=null&&h.yandex);return{hasOzon:p,hasWB:x,hasYandex:y}};return a.jsxs("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto mb-6",children:[a.jsxs("button",{onClick:()=>window.location.href="/dashboard",className:"text-mm-cyan hover:underline mb-4 flex items-center gap-2",children:[a.jsx(s_,{}),"   "]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Wy,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan mb-2",children:""}),a.jsx("p",{className:"text-gray-400 text-sm",children:"   "})]})]}),a.jsxs("button",{onClick:l,disabled:n,className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded font-semibold flex items-center gap-2 disabled:opacity-50",children:[a.jsx(pt,{className:n?"animate-spin":""}),""]})]})]}),a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-mm-cyan",children:t.length}),a.jsx("div",{className:"text-sm text-gray-400",children:" "})]}),a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:t.filter(m=>{var p;return(p=m.marketplace_categories)==null?void 0:p.wildberries}).length}),a.jsx("div",{className:"text-sm text-gray-400",children:" Wildberries"})]}),a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:t.filter(m=>{var p;return(p=m.marketplace_categories)==null?void 0:p.ozon}).length}),a.jsx("div",{className:"text-sm text-gray-400",children:" Ozon"})]})]}),a.jsx("div",{className:"bg-cyan-900/20 border border-cyan-600/30 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{className:"flex-1 text-sm text-cyan-200",children:[a.jsx("p",{className:"font-semibold mb-1",children:"  "}),a.jsx("p",{className:"text-cyan-300/80",children:"                .           ."})]})]})}),n?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-mm-cyan border-t-transparent"}),a.jsx("p",{className:"mt-4 text-gray-400",children:"..."})]}):t.length===0?a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-12 text-center",children:[a.jsx(yt,{className:"mx-auto text-6xl text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400 mb-2",children:" "}),a.jsx("p",{className:"text-sm text-gray-500",children:"       "})]}):a.jsx("div",{className:"bg-mm-secondary border border-mm-border rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border bg-mm-dark",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-semibold",children:" "}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:" Ozon"}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:" WB"}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:" Yandex"}),a.jsx("th",{className:"text-center py-4 px-3 text-mm-text-secondary uppercase text-xs font-semibold",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-semibold",children:""})]})}),a.jsx("tbody",{children:t.map(m=>{const{hasOzon:p,hasWB:x,hasYandex:y}=u(m),g=i[m.id]||0;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition",children:[a.jsxs("td",{className:"py-4 px-4",children:[a.jsx("div",{className:"font-medium text-white",children:m.internal_name}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["ID: ",m.id]})]}),a.jsx("td",{className:"py-4 px-3 text-center",children:p?a.jsxs("div",{children:[a.jsx("span",{className:"inline-block px-2 py-1 bg-blue-600/20 text-blue-300 rounded text-xs border border-blue-600/30",children:""}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m.marketplace_categories.ozon})]}):a.jsx("span",{className:"text-gray-600",children:""})}),a.jsx("td",{className:"py-4 px-3 text-center",children:x?a.jsxs("div",{children:[a.jsx("span",{className:"inline-block px-2 py-1 bg-purple-600/20 text-purple-300 rounded text-xs border border-purple-600/30",children:""}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m.marketplace_categories.wildberries})]}):a.jsx("span",{className:"text-gray-600",children:""})}),a.jsx("td",{className:"py-4 px-3 text-center",children:y?a.jsxs("div",{children:[a.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-600/20 text-yellow-300 rounded text-xs border border-yellow-600/30",children:""}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m.marketplace_categories.yandex})]}):a.jsx("span",{className:"text-gray-600",children:""})}),a.jsx("td",{className:"py-4 px-3 text-center",children:a.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 bg-cyan-600/20 text-cyan-300 rounded border border-cyan-600/30",children:[a.jsx(yt,{size:12}),a.jsx("span",{className:"font-semibold",children:g})]})}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{onClick:()=>c(m.id,m.internal_name),className:"px-3 py-2 border border-red-500 text-red-500 hover:bg-red-500/10 rounded transition inline-flex items-center gap-2",title:" ",children:[a.jsx(bn,{size:14}),""]})})]},m.id)})})]})})]})]})}function yM({productName:e="",selectedMarketplaces:t=[],initialCategoryMappingId:r=null,onCategorySelected:n,onAttributesLoaded:s}){const{api:i}=Ne(),[o,l]=f.useState(""),[d,c]=f.useState([]),[u,m]=f.useState(null),[p,x]=f.useState({}),[y,g]=f.useState({}),[v,h]=f.useState(!1),[b,j]=f.useState(!1),[k,S]=f.useState(null),N={ozon:{border:"border-blue-500",bg:"bg-blue-50",text:"text-blue-700",badge:"bg-blue-100 text-blue-700"},wb:{border:"border-purple-500",bg:"bg-purple-50",text:"text-purple-700",badge:"bg-purple-100 text-purple-700"},yandex:{border:"border-yellow-500",bg:"bg-yellow-50",text:"text-yellow-700",badge:"bg-yellow-100 text-yellow-700"}},P={ozon:"Ozon",wb:"Wildberries",yandex:""};f.useEffect(()=>{(async()=>{if(!(!r||u)){j(!0);try{console.log("[UnifiedCategory] Loading initial category:",r);const B=(await i.get(`/api/categories/mappings/${r}`)).data;console.log("[UnifiedCategory] Initial category loaded:",B),m(B),n&&n(B)}catch(M){console.error("[UnifiedCategory] Failed to load initial category:",M)}finally{j(!1)}}})()},[r]),f.useEffect(()=>{e&&e.length>3&&!u&&(console.log(`[UnifiedCategory] Auto-suggesting for: "${e}"`),l(e))},[e,u]),f.useEffect(()=>{if(!o||o.length<2){c([]);return}const A=setTimeout(()=>{w()},500);return()=>clearTimeout(A)},[o]);const w=async()=>{h(!0),S(null);try{const M=(await i.get(`/api/categories/mappings/search?query=${encodeURIComponent(o)}`)).data.mappings||[];console.log(`[UnifiedCategory] Found ${M.length} category mappings`),c(M)}catch(A){console.error("Search error:",A),S("  ")}finally{h(!1)}},C=async A=>{console.log("[UnifiedCategory] Selected mapping:",A),m(A),l(""),c([]),n(A),await O(A)},O=async A=>{var H,R,L;h(!0);const M={},B={ozon:"ozon",wb:"wildberries",yandex:"yandex"};for(const z of t){const Q=B[z]||z,T=(H=A.marketplace_categories)==null?void 0:H[Q];if(!T){console.log(`[UnifiedCategory] No category mapped for ${z} (dbKey: ${Q})`);continue}try{let Z=`/api/categories/marketplace/${z}/${T}/attributes`;z==="ozon"&&((R=A.marketplace_type_ids)!=null&&R[Q])&&(Z+=`?type_id=${A.marketplace_type_ids[Q]}`);const $=(await i.get(Z)).data.attributes||[];console.log(`[UnifiedCategory] Loaded ${$.length} attributes for ${z}`),M[z]=$;for(const Y of $)if(Y.dictionary_id>0||Y.type==="Dictionary"){const le=Y.attribute_id||Y.id,se=z==="ozon"?(L=A.marketplace_type_ids)==null?void 0:L.ozon:null;await _(z,T,le,se)}}catch(Z){console.error(`Failed to load attributes for ${z}:`,Z)}}x(M),s(M),h(!1)},_=async(A,M,B,H=null)=>{try{let R=`/api/categories/marketplace/${A}/${M}/attribute-values?attribute_id=${B}`;H&&(R+=`&type_id=${H}`);const z=(await i.get(R)).data.values||[];g(Q=>({...Q,[`${A}_${B}`]:z}))}catch(R){console.error(`Failed to load values for ${A} attribute ${B}:`,R)}},I=(()=>{const A=new Map;for(const M of t){const B=p[M]||[];for(const H of B){const R=H.name||H.attribute_name||"";if(H.attribute_id||H.id,A.has(R)){const L=A.get(R);L.marketplaces.includes(M)||L.marketplaces.push(M),H.is_required&&L.required_for.push(M)}else A.set(R,{...H,original_mp:M,marketplaces:[M],required_for:H.is_required?[M]:[]})}}return Array.from(A.values())})();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[" ",a.jsx("span",{className:"text-red-400",children:"*"})]}),u?a.jsx("div",{className:"bg-green-900/20 border-2 border-green-500/50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:a.jsx(Vt,{className:"text-white",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400",children:" :"}),a.jsx("p",{className:"text-lg font-bold text-green-300",children:u.internal_name})]})]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"  :"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.entries(u.marketplace_categories||{}).map(([A,M])=>{const B=N[A];return a.jsxs("div",{className:`rounded p-2 ${M?"bg-gray-700":"bg-gray-800 border border-gray-700 border-dashed"}`,children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${(B==null?void 0:B.badge)||"bg-gray-600 text-gray-400"}`,children:P[A]})}),M?a.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",M]}):a.jsx("p",{className:"text-xs text-gray-500 italic",children:" "})]},A)})})]})]}),a.jsx("button",{onClick:()=>{m(null),x({})},className:"p-2 text-gray-400 hover:text-white transition flex-shrink-0",title:" ",children:a.jsx(Ka,{size:18})})]})}):a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-3 mb-3",children:a.jsxs("p",{className:"text-xs text-blue-300",children:[" ",a.jsx("strong",{children:":"}),'        ! : " WB", " Ozon", "".          .']})}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:o,onChange:A=>l(A.target.value),placeholder:"    WB, Ozon, ... (. 2 )",className:"w-full px-4 py-3 pl-10 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-mm-cyan focus:ring-2 focus:ring-mm-cyan/50 outline-none",autoComplete:"off"}),a.jsx(ra,{className:"absolute left-3 top-3.5 text-gray-500"}),o.length>0&&o.length<2&&a.jsx("div",{className:"absolute right-3 top-3.5",children:a.jsxs("span",{className:"text-xs text-gray-500",children:[o.length,"/2"]})})]}),o.length>=2&&a.jsx("div",{className:"absolute z-50 mt-2 w-full bg-gray-800 border-2 border-mm-cyan rounded-lg shadow-2xl max-h-80 overflow-hidden",children:v?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(pt,{className:"animate-spin inline text-2xl text-mm-cyan mb-2"}),a.jsx("p",{className:"text-sm text-gray-400",children:" ..."})]}):k?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(An,{className:"inline text-2xl text-red-400 mb-2"}),a.jsx("p",{className:"text-sm text-red-400",children:k})]}):d.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-gray-900 px-4 py-2 border-b border-gray-700",children:a.jsxs("p",{className:"text-xs text-mm-cyan font-medium",children:[" : ",d.length]})}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:d.map((A,M)=>a.jsxs("button",{onClick:()=>C(A),className:"w-full px-4 py-3 text-left hover:bg-mm-cyan/20 border-b border-gray-700 last:border-b-0 transition-colors focus:bg-mm-cyan/30 focus:outline-none",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("p",{className:"font-medium text-white",children:A.internal_name}),A.matched_category_name&&a.jsxs("span",{className:"text-xs text-gray-400 italic",children:["(",A.matched_category_name,")"]})]}),a.jsx("div",{className:"flex gap-2 mt-1 flex-wrap",children:Object.entries(A.marketplace_categories||{}).map(([B,H])=>{if(!H)return null;const R=N[B];return a.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${(R==null?void 0:R.badge)||"bg-gray-700 text-gray-300"}`,children:P[B]},B)})})]},M))})]}):a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(ra,{className:"inline text-3xl text-gray-600 mb-2"}),a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"  "}),a.jsx("p",{className:"text-xs text-gray-500",children:"      "})]})})]})]}),u&&I.length>0&&a.jsxs("div",{className:"bg-mm-secondary border border-mm-border rounded-lg p-4",children:[a.jsxs("h3",{className:"font-bold text-mm-cyan mb-4",children:[" (",I.length,")"]}),a.jsx("div",{className:"space-y-3",children:I.map((A,M)=>{const B=A.attribute_id||A.id,H=A.name||A.attribute_name||"",R=A.original_mp,L=N[R],z=A.required_for.length>0,Q=`${R}_${B}`,T=y[Q]||[];return a.jsxs("div",{className:`p-3 rounded border-l-4 ${L.border} ${L.bg}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("label",{className:`block text-sm font-medium ${L.text}`,children:[H,z&&a.jsx("span",{className:"text-red-600 ml-1 text-lg",children:"*"})]}),a.jsx("div",{className:"flex gap-1",children:A.marketplaces.map(Z=>{const te=N[Z],$=A.required_for.includes(Z);return a.jsxs("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${te.badge}`,title:$?`  ${P[Z]}`:P[Z],children:[P[Z],$&&" *"]},Z)})})]}),T.length>0?a.jsxs("select",{className:`w-full px-3 py-2 border rounded focus:ring-2 outline-none ${z?"border-red-300 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-blue-500 bg-white"}`,required:z,children:[a.jsx("option",{value:"",children:z?"  ":" "}),T.map(Z=>a.jsx("option",{value:Z.id,children:Z.value},Z.id))]}):a.jsx("input",{type:"text",placeholder:z?"  ":" ",className:`w-full px-3 py-2 border rounded focus:ring-2 outline-none ${z?"border-red-300 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-blue-500 bg-white"}`,required:z}),A.description&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:A.description})]},M)})}),a.jsxs("div",{className:"border-t border-mm-border pt-3 mt-4",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary mb-2",children:":"}),a.jsxs("div",{className:"flex gap-3 text-xs text-mm-text-secondary",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 border-2 border-blue-500 rounded"}),a.jsx("span",{children:"Ozon"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 border-2 border-purple-500 rounded"}),a.jsx("span",{children:"Wildberries"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 border-2 border-yellow-500 rounded"}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-red-600 font-bold",children:"*"}),a.jsx("span",{children:""})]})]})]})]})]})}function gM({marketplace:e,currentMappingId:t,currentCategoryName:r="",onCategorySelected:n,onSkip:s}){const{api:i}=Ne(),[o,l]=f.useState([]),[d,c]=f.useState(!0),[u,m]=f.useState(""),[p,x]=f.useState(!1),[y,g]=f.useState(!1),v={ozon:{name:"Ozon",color:"blue",icon:"",borderClass:"border-blue-500",bgClass:"bg-blue-900/20",textClass:"text-blue-400"},wb:{name:"Wildberries",color:"purple",icon:"",borderClass:"border-purple-500",bgClass:"bg-purple-900/20",textClass:"text-purple-400"},yandex:{name:" ",color:"yellow",icon:"",borderClass:"border-yellow-500",bgClass:"bg-yellow-900/20",textClass:"text-yellow-400"}},h=v[e]||v.ozon;f.useEffect(()=>{r?b(r):c(!1)},[r,e]);const b=async S=>{c(!0);try{const P=(await i.get(`/api/categories/marketplace/${e}/search?query=${encodeURIComponent(S)}&limit=5`)).data.categories||[];console.log(`[QuickMatcher] Found ${P.length} similar ${e} categories for "${S}"`),l(P)}catch(N){console.error("[QuickMatcher] Search error:",N),l([])}finally{c(!1)}},j=async()=>{if(!(!u||u.length<2)){c(!0);try{const N=(await i.get(`/api/categories/marketplace/${e}/search?query=${encodeURIComponent(u)}&limit=10`)).data.categories||[];l(N)}catch(S){console.error("[QuickMatcher] Manual search error:",S)}finally{c(!1)}}},k=async S=>{var N,P;g(!0);try{const w=String(S.category_id||S.id),C=S.category_name||S.name,O=S.type_id||null;console.log(`[QuickMatcher] Selecting ${e} category:`,w,C);const _={mapping_id:t,marketplace:e,category_id:w,category_name:C};O&&e==="ozon"&&(_.type_id=O);const E=await i.post("/api/categories/mappings/quick-update",_);console.log("[QuickMatcher] Mapping updated:",E.data),n&&n(e,w,C,O)}catch(w){console.error("[QuickMatcher] Selection error:",w),alert(`: ${((P=(N=w.response)==null?void 0:N.data)==null?void 0:P.detail)||w.message}`)}finally{g(!1)}};return d?a.jsx("div",{className:`${h.bgClass} border ${h.borderClass} border-opacity-30 rounded-lg p-4`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Xd,{className:`animate-spin ${h.textClass}`,size:20}),a.jsxs("p",{className:"text-sm text-gray-300",children:["   ",h.name,"..."]})]})}):a.jsxs("div",{className:`${h.bgClass} border ${h.borderClass} border-opacity-30 rounded-lg p-4`,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(An,{className:`${h.textClass} flex-shrink-0 mt-0.5`,size:20}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:`font-semibold ${h.textClass} mb-1`,children:[h.icon,"  ",h.name,"  "]}),a.jsxs("p",{className:"text-sm text-gray-400",children:[" : ",a.jsxs("span",{className:"text-white font-medium",children:['"',r,'"']})]})]})]}),!p&&o.length>0&&a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase font-semibold",children:" :"}),o.slice(0,3).map((S,N)=>{const P=S.category_id||S.id,w=S.category_name||S.name;return a.jsx("button",{onClick:()=>k(S),disabled:y,className:`w-full text-left p-3 rounded border ${h.borderClass} border-opacity-40 hover:border-opacity-100 bg-gray-800/50 hover:bg-gray-700/50 transition-all group disabled:opacity-50`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[N===0&&a.jsx("span",{className:"text-yellow-400 mr-2",children:""}),a.jsx("span",{className:"text-white font-medium",children:w}),a.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["ID: ",P]})]}),a.jsx("span",{className:`px-3 py-1 rounded text-xs font-semibold ${h.textClass} border ${h.borderClass} border-opacity-50 group-hover:border-opacity-100 transition-all`,children:y?"...":" "})]})},P)}),o.length>3&&a.jsxs("button",{onClick:()=>x(!0),className:"text-sm text-gray-400 hover:text-gray-200 transition",children:["  ",o.length-3,"..."]})]}),p&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:16}),a.jsx("input",{type:"text",value:u,onChange:S=>m(S.target.value),onKeyDown:S=>S.key==="Enter"&&j(),placeholder:`  ${h.name}...`,className:"w-full pl-10 pr-3 py-2 bg-gray-900 border border-gray-700 rounded text-white placeholder-gray-500 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/50 outline-none"})]}),a.jsx("button",{onClick:j,disabled:!u||d,className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded font-semibold disabled:opacity-50 transition",children:d?a.jsx(Xd,{className:"animate-spin"}):""})]}),o.length>0&&a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:o.map(S=>{const N=S.category_id||S.id,P=S.category_name||S.name;return a.jsx("button",{onClick:()=>k(S),disabled:y,className:"w-full text-left p-2 rounded border border-gray-700 hover:border-gray-500 bg-gray-800/50 hover:bg-gray-700/50 transition group disabled:opacity-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"text-white text-sm",children:P}),a.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["ID: ",N]})]}),a.jsx("span",{className:"text-xs text-cyan-400 group-hover:text-cyan-300",children:y?"...":""})]})},N)})})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[!p&&a.jsx("button",{onClick:()=>x(!0),className:"px-4 py-2 text-sm border border-gray-600 text-gray-300 hover:border-gray-400 hover:text-white rounded transition",children:"  "}),p&&a.jsx("button",{onClick:()=>{x(!1),b(r)},className:"px-4 py-2 text-sm border border-gray-600 text-gray-300 hover:border-gray-400 hover:text-white rounded transition",children:"   "}),a.jsx("button",{onClick:s,className:"px-4 py-2 text-sm text-gray-500 hover:text-gray-300 transition ml-auto",children:""})]}),o.length===0&&!d&&a.jsx("div",{className:"mt-3 text-sm text-gray-400 text-center py-4",children:"  .   ."})]})}function vM({marketplace:e,categoryId:t,typeId:r,attributeId:n,attributeName:s,value:i,onChange:o,placeholder:l=" ..."}){const{api:d}=Ne(),[c,u]=f.useState(""),[m,p]=f.useState([]),[x,y]=f.useState([]),[g,v]=f.useState(!1),[h,b]=f.useState(!1),[j,k]=f.useState(null),S=f.useRef(null);f.useEffect(()=>{t&&n&&N()},[t,n,r]),f.useEffect(()=>{if(!c)y(m.slice(0,50));else{const O=m.filter(_=>(_.value||"").toLowerCase().includes(c.toLowerCase()));y(O.slice(0,50))}},[c,m]),f.useEffect(()=>{const O=_=>{S.current&&!S.current.contains(_.target)&&b(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),f.useEffect(()=>{if(i&&m.length>0){const O=m.find(_=>_.id===i||_.value===i);O&&(k(O),u(O.value))}},[i,m]);const N=async()=>{v(!0);try{const O=new URLSearchParams({attribute_id:n});r&&O.append("type_id",r);const E=(await d.get(`/api/categories/marketplace/${e}/${t}/attribute-values?${O}`)).data.values||[];p(E),y(E.slice(0,50)),console.log(`[DictionaryAutocomplete] Loaded ${E.length} values for ${s}`)}catch(O){console.error("Failed to load dictionary values:",O),p([])}v(!1)},P=O=>{k(O),u(O.value),b(!1),o({value_id:O.id,value:O.value})},w=O=>{const _=O.target.value;u(_),b(!0),h||b(!0)},C=()=>{b(!0)};return a.jsxs("div",{ref:S,className:"relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:c,onChange:w,onFocus:C,placeholder:l,className:"w-full px-3 py-2 bg-[#0F172A] border border-[#334155] rounded text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none pr-10",disabled:g}),a.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[g&&a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-[#22D3EE] border-t-transparent rounded-full"}),a.jsx(Us,{className:`text-gray-400 transition-transform ${h?"rotate-180":""}`})]})]}),h&&!g&&x.length>0&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-[#1E293B] border border-[#334155] rounded-lg shadow-xl max-h-60 overflow-y-auto",children:[x.map((O,_)=>a.jsxs("button",{type:"button",onClick:()=>P(O),className:"w-full text-left px-3 py-2 hover:bg-[#22D3EE]/10 text-white text-sm border-b border-[#334155] last:border-b-0 transition-colors",children:[O.value,O.info&&a.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",O.info,")"]})]},O.id||_)),m.length>50&&a.jsxs("div",{className:"px-3 py-2 text-xs text-gray-400 bg-[#0F172A] border-t border-[#334155]",children:[" ",x.length,"  ",m.length,".     ."]})]}),h&&!g&&c&&x.length===0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-[#1E293B] border border-[#334155] rounded-lg shadow-xl p-3",children:a.jsx("p",{className:"text-sm text-gray-400",children:"  "})}),m.length>0&&!h&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",m.length," .    ."]})]})}function bM({selectedMarketplaces:e={},characteristicsByMarketplace:t={},valuesByMarketplace:r={},onChange:n,loading:s={},baseCharacteristics:i={},currentMappingId:o=null,currentCategoryName:l="",onMappingUpdated:d,onBaseCharacteristicChange:c,categoryMappings:u={}}){const m={wb:{name:"Wildberries",shortName:"WB",icon:"",color:{bg:"bg-purple-600",text:"text-purple-400",border:"border-purple-500",badge:"bg-purple-600/20 text-purple-300 border-purple-500/30"}},ozon:{name:"Ozon",shortName:"Ozon",icon:"",color:{bg:"bg-blue-600",text:"text-blue-400",border:"border-blue-500",badge:"bg-blue-600/20 text-blue-300 border-blue-500/30"}},yandex:{name:" ",shortName:"YM",icon:"",color:{bg:"bg-yellow-600",text:"text-yellow-400",border:"border-yellow-500",badge:"bg-yellow-600/20 text-yellow-300 border-yellow-500/30"}},base:{name:"",shortName:"",icon:"",color:{badge:"bg-gray-600/20 text-gray-300 border-gray-500/30"}}},p=f.useMemo(()=>Object.keys(e).filter(N=>e[N]),[e]),x=f.useMemo(()=>{const N=new Map;Object.keys(i||{}).forEach(w=>{!w||!w.trim()||N.set(w,{name:w,sources:["base"],requiredIn:[],isDictionary:!1,mpData:{}})}),p.forEach(w=>{(t[w]||[]).forEach(O=>{const _=O.name||O.attribute_name||O.charcName,E=O.id||O.attribute_id||O.charcID,I=O.is_required||O.required,A=O.dictionary_id>0||O.type==="Dictionary";N.has(_)||N.set(_,{name:_,sources:[],requiredIn:[],isDictionary:!1,mpData:{}});const M=N.get(_);M.sources.includes(w)||M.sources.push(w),A&&(M.isDictionary=!0),M.mpData[w]={id:E,isRequired:I,originalChar:O},I&&M.requiredIn.push(w)})});const P=Array.from(N.values());return P.sort((w,C)=>{const O=w.requiredIn.length>0,_=C.requiredIn.length>0;return O&&!_?-1:!O&&_?1:0}),P},[p,t,i]),y=(N,P,w)=>{console.log(`[Unified] Changing "${N}" = "${P}" for sources:`,w),w.forEach(C=>{var O;if(C==="base")c&&c(N,P);else if(n){const _=x.find(A=>A.name===N),E=(O=_==null?void 0:_.mpData)==null?void 0:O[C],I=(E==null?void 0:E.id)||N;n(C,I,N,P)}})},g=(N,P)=>{var w;if(P.includes("base")&&i[N])return i[N];for(const C of P){if(C==="base")continue;const O=(w=r[C])==null?void 0:w[N];if(O)return O}return""},v=N=>{var I,A,M,B;const{name:P,sources:w,requiredIn:C,isDictionary:O}=N,_=g(P,w),E=C.length>0;return a.jsxs("div",{className:"bg-[#1F2937] border border-[#334155] rounded-lg p-3",children:[a.jsx("label",{className:"block text-sm font-medium text-[#E5E7EB] mb-2",children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[E&&a.jsx($c,{className:"text-red-500 flex-shrink-0",size:12}),a.jsx("span",{children:P}),a.jsx("div",{className:"flex items-center gap-1 ml-auto flex-wrap",children:w.map(H=>{var Q;if(H==="base"){const T=m.base;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs border rounded ${T.color.badge}`,title:" ",children:[T.icon," ",T.shortName]},H)}const R=m[H],L=(Q=N.mpData)==null?void 0:Q[H],z=L==null?void 0:L.isRequired;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs border rounded ${R.color.badge}`,title:z?`  ${R.name}`:` ${R.name}`,children:[R.icon," ",R.shortName,z&&a.jsx($c,{size:8,className:"text-red-400"})]},H)})})]})}),O?a.jsx(vM,{marketplace:w.find(H=>H!=="base")||"ozon",categoryId:(I=u[w.find(H=>H!=="base")])==null?void 0:I.category_id,typeId:(A=u[w.find(H=>H!=="base")])==null?void 0:A.type_id,attributeId:(B=(M=N.mpData)==null?void 0:M[w.find(H=>H!=="base")])==null?void 0:B.id,attributeName:P,value:_,onChange:H=>{y(P,H.value,w)},placeholder:" ..."}):a.jsx("input",{type:"text",value:_,onChange:H=>y(P,H.target.value,w),className:"w-full px-3 py-2 bg-[#0F172A] border border-[#334155] rounded text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:E?" ":" "})]},P)};if(Object.values(s).some(N=>N))return a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-current border-t-transparent rounded-full text-[#22D3EE]",role:"status",children:a.jsx("span",{className:"sr-only",children:"..."})}),a.jsx("p",{className:"mt-2 text-gray-400",children:"  ..."})]});if(p.length===0)return a.jsx("div",{className:"bg-blue-900/20 border border-blue-600/30 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-blue-300 flex items-center gap-2",children:[a.jsx(An,{}),'     (" :"),   ']})});const b=p.filter(N=>(t[N]||[]).length===0),j=p.filter(N=>(t[N]||[]).length>0),k=x.filter(N=>N.requiredIn.length>0),S=x.filter(N=>N.requiredIn.length===0);return a.jsxs("div",{className:"space-y-6",children:[b.map(N=>a.jsx(gM,{marketplace:N,currentMappingId:o,currentCategoryName:l,onCategorySelected:(P,w,C,O)=>{console.log(`[UnifiedCharacteristics] Category selected for ${P}:`,w),d&&d(P,w,C,O)},onSkip:()=>{console.log(`[UnifiedCharacteristics] Skipped ${N} category selection`)}},`matcher-${N}`)),j.map(N=>{const P=m[N],w=u[N]||{};return a.jsx("div",{className:`${P.color.bg} border ${P.color.border} border-opacity-30 rounded-lg p-4`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 ${P.color.bg} text-white rounded flex items-center justify-center text-xs font-bold`,children:P.shortName}),a.jsxs("div",{children:[a.jsxs("p",{className:`text-sm font-semibold ${P.color.text}`,children:[P.name,": ",l]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",w.category_id," ",w.type_id?`| Type: ${w.type_id}`:""]})]})]}),a.jsxs("button",{type:"button",onClick:()=>{confirm(`  ${P.name}?

  .`)&&d&&d(N,null,null,null)},className:`px-3 py-1.5 ${P.color.bg} bg-opacity-80 hover:bg-opacity-100 text-white text-xs font-semibold rounded flex items-center gap-1.5 transition`,children:[a.jsx(An,{size:14}),"  "]})]})},`info-${N}`)}),x.length>0&&a.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-cyan-600/30 rounded-lg p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-cyan-600/30 mb-5",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500"}),a.jsx("h3",{className:"text-xl font-bold text-cyan-400",children:"   "}),a.jsxs("span",{className:"text-sm text-gray-400",children:["(",x.length," )"]}),k.length>0&&a.jsxs("span",{className:"ml-auto text-xs text-red-400 flex items-center gap-1",children:[a.jsx($c,{size:10}),k.length," "]})]}),k.length>0&&a.jsxs("div",{className:"mb-5",children:[a.jsxs("h4",{className:"text-sm font-semibold text-red-400 mb-3 flex items-center gap-2",children:[a.jsx($c,{size:12}),"  (",k.length,")"]}),a.jsx("div",{className:"space-y-3",children:k.map(N=>v(N))})]}),S.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-semibold text-gray-400 mb-3",children:["  (",S.length,")"]}),a.jsx("div",{className:"space-y-3",children:S.map(N=>v(N))})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-2",children:[a.jsx(An,{size:12}),"        "]})})]})]})}function Y0(){var X,ce,W,ee,ie,je;const{api:e}=Ne(),{id:t}=om(),r=Jr(),[n,s]=f.useState(!1),[i,o]=f.useState("card"),[l,d]=f.useState(!1),[c,u]=f.useState([]),[m,p]=f.useState({wb:!1,ozon:!1,yandex:!1,honest_sign:!1}),[x,y]=f.useState({wb:{name:"",description:"",characteristics:{}},ozon:{name:"",description:"",characteristics:{}},yandex:{name:"",description:"",characteristics:{}}}),[g,v]=f.useState({ozon:{category_id:null,category_name:"",type_id:null},wb:{category_id:null,category_name:""},yandex:{category_id:null,category_name:""}}),[h,b]=f.useState({ozon:{},wb:{},yandex:{}}),[j,k]=f.useState({wb:[],ozon:[],yandex:[]}),[S,N]=f.useState({wb:!1,ozon:!1,yandex:!1}),[P,w]=f.useState({wb:!1,ozon:!1,yandex:!1}),[C,O]=f.useState(null),[_,E]=f.useState({article:"",name:"",brand:"",category_id:"",description:"",status:"active",manufacturer:"",country_of_origin:"",label_name:"",price_with_discount:0,price_without_discount:0,price_coefficient:1,purchase_price:0,additional_expenses:0,cost_price:0,vat:0,weight:0,dimensions:{length:0,width:0,height:0},gender:"",season:"",composition:"",care_instructions:"",additional_info:"",website_link:"",characteristics:{}}),[I,A]=f.useState([]),[M,B]=f.useState([]),[H,R]=f.useState("");f.useEffect(()=>{L(),t&&(z(),Q(),T())},[t]),f.useEffect(()=>{const F=_.purchase_price+_.additional_expenses;F!==_.cost_price&&E(ae=>({...ae,cost_price:F}))},[_.purchase_price,_.additional_expenses]),f.useEffect(()=>{let F=!1;const ae={};Object.keys(m).forEach(U=>{var oe;m[U]&&!((oe=x[U])!=null&&oe.name)&&(F=!0,ae[U]={name:_.name,description:_.description,characteristics:_.characteristics})}),F&&y(U=>({...U,...ae}))},[m.ozon,m.wb,m.yandex,m.honest_sign]);const L=async()=>{try{const F=await e.get("/api/catalog/categories");u(F.data)}catch(F){console.error("Failed to load categories:",F)}},z=async()=>{try{s(!0);const ae=(await e.get(`/api/catalog/products/${t}`)).data;E({...ae,dimensions:ae.dimensions||{length:0,width:0,height:0},manufacturer:ae.manufacturer||"",country_of_origin:ae.country_of_origin||"",label_name:ae.label_name||ae.name||"",price_with_discount:ae.price_with_discount||ae.price||0,price_without_discount:ae.price_without_discount||ae.price||0,price_coefficient:ae.price_coefficient||1,purchase_price:ae.purchase_price||0,additional_expenses:ae.additional_expenses||0,cost_price:ae.cost_price||0,vat:ae.vat||0,gender:ae.gender||"",season:ae.season||"",composition:ae.composition||"",care_instructions:ae.care_instructions||"",additional_info:ae.additional_info||"",website_link:ae.website_link||"",characteristics:ae.characteristics||{}}),ae.marketplace_specific_data&&y(ae.marketplace_specific_data)}catch(F){alert("  : "+F.message),r("/dashboard")}finally{s(!1)}},Q=async()=>{try{const F=await e.get(`/api/catalog/products/${t}/variants`);A(F.data)}catch(F){console.error("Failed to load variants:",F)}},T=async()=>{try{const F=await e.get(`/api/catalog/products/${t}/photos`);B(F.data)}catch(F){console.error("Failed to load photos:",F)}},Z=async()=>{var F,ae;s(!0);try{const U={..._,price:_.price_with_discount,price_discounted:_.price_with_discount<_.price_without_discount?_.price_with_discount:null};if(Object.values(m).some(me=>me)&&t){const me=await e.post(`/api/catalog/products/${t}/save-with-marketplaces`,{product:U,marketplaces:m,marketplace_data:x,category_mappings:g,required_attributes:h});let ke=me.data.message+`

`;const we=me.data.marketplace_results||{};Object.keys(we).forEach(_e=>{const Me=we[_e];Me.success?ke+=` ${_e.toUpperCase()}: ${Me.message}
`:ke+=` ${_e.toUpperCase()}: ${Me.error}
`}),alert(ke),z()}else if(t)await e.put(`/api/catalog/products/${t}`,U),alert("  !"),z();else{const me=await e.post("/api/catalog/products",U);alert("  !"),r(`/catalog/products/${me.data.id}/edit`)}}catch(U){alert(" : "+(((ae=(F=U.response)==null?void 0:F.data)==null?void 0:ae.detail)||U.message))}finally{s(!1)}},te=async F=>{var U,oe;if(!t){alert("  ");return}const ae=prompt(` ID   ${F.toUpperCase()}:`);if(ae){s(!0);try{const me=await e.post(`/api/catalog/products/${t}/update-from-marketplace`,{marketplace:F,marketplace_product_id:ae});alert(` ${me.data.message}

: ${me.data.details.name}
: ${me.data.details.description_length} 
: ${me.data.details.characteristics_count}
 : ${me.data.details.photos_added}`),z(),T()}catch(me){alert(" : "+(((oe=(U=me.response)==null?void 0:U.data)==null?void 0:oe.detail)||me.message))}finally{s(!1)}}},$=async F=>{var ae,U;if(!t){alert("  ");return}if(confirm(`   ${F.toUpperCase()}?`)){s(!0);try{const oe=await e.post(`/api/catalog/products/${t}/upload-media/${F}`);alert(` ${oe.data.message}`)}catch(oe){alert(" : "+(((U=(ae=oe.response)==null?void 0:ae.data)==null?void 0:U.detail)||oe.message))}finally{s(!1)}}},Y=()=>{if(M.length===0){alert("   ");return}alert(`  ${M.length} 

     `)},le=()=>{if(!t){alert("  ");return}alert(`   

    (  )`)},se=()=>{alert(`   

       ( )`)},K=(F,ae)=>{E(U=>({...U,[F]:ae}))},ue=async(F,ae)=>{var U,oe,me,ke;if(!ae){alert("   ");return}N(we=>({...we,[F]:!0})),w(we=>({...we,[F]:!0}));try{const _e={ozon:"ozon",wb:"wildberries",yandex:"yandex"}[F]||F,ve=(await e.get(`/api/categories/mappings/${ae}`)).data;console.log("[loadMarketplaceCharacteristics] Mapping:",ve),console.log("[loadMarketplaceCharacteristics] Looking for key:",_e);const Pe=(U=ve.marketplace_categories)==null?void 0:U[_e],Ce=(oe=ve.marketplace_type_ids)==null?void 0:oe[_e];if(console.log("[loadMarketplaceCharacteristics] Found categoryId:",Pe,"typeId:",Ce),!Pe){console.warn(`Category not mapped to ${F}`),k(Rr=>({...Rr,[F]:[]}));return}let vt=`/api/categories/marketplace/${F}/${Pe}/attributes`;Ce&&F==="ozon"&&(vt+=`?type_id=${Ce}`),console.log("[loadMarketplaceCharacteristics]  LOADING FROM:",vt),console.log("[loadMarketplaceCharacteristics]  CATEGORY ID:",Pe),console.log("[loadMarketplaceCharacteristics]  TYPE ID:",Ce);const Ln=(await e.get(vt)).data.attributes||[];console.log(`[loadMarketplaceCharacteristics]  RECEIVED ${Ln.length} CHARACTERISTICS`),console.log("[loadMarketplaceCharacteristics]  FIRST 3 CHARS:",Ln.slice(0,3).map(Rr=>Rr.name||Rr.attribute_name)),k(Rr=>({...Rr,[F]:Ln})),console.log(`  ${Ln.length}   ${F}`)}catch(we){console.error(`Failed to load ${F} characteristics:`,we),alert(`   ${F}: ${((ke=(me=we.response)==null?void 0:me.data)==null?void 0:ke.detail)||we.message}`)}finally{N(we=>({...we,[F]:!1}))}};f.useEffect(()=>{(async()=>{if(console.log("[ProductForm] Loading characteristics, category_mapping_id:",_.category_mapping_id),console.log("[ProductForm] Selected marketplaces:",m),!_.category_mapping_id){console.log("[ProductForm] No category_mapping_id, skipping");return}for(const ae of["ozon","wb","yandex"])m[ae]&&!S[ae]&&(console.log(`[ProductForm] Loading characteristics for ${ae} (category: ${_.category_mapping_id})`),await ue(ae,_.category_mapping_id))})()},[m.ozon,m.wb,m.yandex,_.category_mapping_id]),f.useEffect(()=>{if(!_.marketplace_data||he.length<2)return;const ae=setTimeout(()=>{const U=new Set,oe={};he.forEach(_e=>{const Me=j[_e]||[];oe[_e]=Me.map(ve=>ve.name||ve.attribute_name||ve.charcName),Me.forEach(ve=>{const Pe=ve.name||ve.attribute_name||ve.charcName;U.add(Pe)})});const me=Array.from(U).filter(_e=>he.filter(ve=>{var Pe;return(Pe=oe[ve])==null?void 0:Pe.includes(_e)}).length>1);if(me.length===0)return;let ke=!1;const we={..._.marketplace_data};me.forEach(_e=>{const Me=he.find(ve=>{var Pe,Ce;return(Ce=(Pe=we[ve])==null?void 0:Pe.characteristics)==null?void 0:Ce[_e]});if(Me){const ve=we[Me].characteristics[_e];he.forEach(Pe=>{var Ce,vt,ga;Pe!==Me&&((Ce=oe[Pe])!=null&&Ce.includes(_e))&&((ga=(vt=we[Pe])==null?void 0:vt.characteristics)!=null&&ga[_e]||(we[Pe]||(we[Pe]={characteristics:{}}),we[Pe].characteristics||(we[Pe].characteristics={}),we[Pe].characteristics[_e]=ve,ke=!0))})}}),ke&&(console.log("[Migration] Migrated common characteristics values between marketplaces"),E(_e=>({..._e,marketplace_data:we})))},500);return()=>clearTimeout(ae)},[j,m]);const he=Object.keys(m).filter(F=>m[F]),J=async()=>{const F=prompt(" URL :");if(F)try{const ae=await e.post(`/api/catalog/products/${t}/photos`,{url:F,order:M.length+1,marketplaces:{wb:!0,ozon:!0,yandex:!0}});B([...M,ae.data])}catch(ae){alert(": "+ae.message)}},D=async F=>{try{await e.delete(`/api/catalog/products/${t}/photos/${F}`),B(M.filter(ae=>ae.id!==F))}catch(ae){alert(": "+ae.message)}};return n&&t?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-mm-cyan"}),a.jsx("p",{className:"text-mm-text-secondary mt-4",children:"..."})]}):a.jsxs("div",{className:"min-h-screen bg-mm-dark pb-32",children:[a.jsxs("div",{className:"bg-mm-secondary border-b border-mm-border p-4",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[a.jsx("button",{onClick:()=>r("/dashboard"),className:"p-2 text-mm-text hover:text-mm-cyan transition",children:a.jsx(s_,{size:20})}),a.jsx("h1",{className:"text-2xl font-bold text-mm-text",children:t?` : ${_.article}`:" "})]}),t&&a.jsxs("div",{className:"flex items-center gap-1 p-2 bg-cyan-500 rounded relative",children:[a.jsx("button",{type:"button",onClick:Z,title:"",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(Pi,{size:18})}),a.jsx("button",{type:"button",title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(er,{size:18})}),a.jsx("button",{type:"button",onClick:Z,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(Vt,{size:18})}),a.jsx("button",{type:"button",title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition text-lg",children:""}),a.jsx("button",{type:"button",onClick:se,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(ea,{size:18})}),a.jsx("button",{type:"button",onClick:le,title:"",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(pm,{size:18})}),a.jsx("button",{type:"button",title:"  ",className:"p-2 text-white hover:bg-white/20 rounded transition text-lg",children:""}),a.jsx("button",{type:"button",onClick:()=>$("wb"),title:" Wildberries",className:"w-8 h-8 bg-purple-600 text-white rounded flex items-center justify-center hover:bg-purple-700 transition text-xs font-bold",children:"WB"}),a.jsx("button",{type:"button",onClick:()=>$("ozon"),title:" Ozon",className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition text-xs font-bold",children:"O"}),a.jsx("button",{type:"button",onClick:Y,title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(ut,{size:18})}),a.jsx("button",{type:"button",onClick:async()=>{if(confirm("  ?"))try{await e.delete(`/api/catalog/products/${t}`),alert("  "),r("/dashboard")}catch(F){alert(": "+F.message)}},title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(bn,{size:18})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{type:"button",onClick:()=>d(!l),title:" ",className:"p-2 text-white hover:bg-white/20 rounded transition",children:a.jsx(d_,{size:18})}),l&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)}),a.jsx("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50",children:a.jsxs("div",{className:"py-2",children:[a.jsx("button",{onClick:()=>{alert(`    

    `),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    "}),a.jsx("button",{onClick:()=>{const F=prompt("   ? (wb, ozon, yandex)");F&&te(F),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"  ,   "}),a.jsx("button",{onClick:()=>{const F=prompt("   ? (wb, ozon, yandex)");F&&te(F),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"  "}),a.jsx("button",{onClick:()=>{Y(),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    "}),a.jsx("button",{onClick:()=>{$("ozon"),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"    Ozon"}),a.jsx("hr",{className:"my-2"}),a.jsx("button",{onClick:()=>{alert(`   

    `),d(!1)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 transition",children:"   "})]})})]})]})]}),t&&a.jsx("div",{className:"flex gap-1 mt-3 border-b border-mm-border overflow-x-auto",children:["card","keywords","analytics","prices","mass_edit","hypotheses","suppliers","stock","documents","duplicates"].map(F=>{const ae={card:"",keywords:" ",analytics:"",prices:"",mass_edit:" ",hypotheses:"",suppliers:"",stock:"",documents:"",duplicates:""};return a.jsxs("button",{onClick:()=>o(F),className:`px-4 py-2 font-medium transition whitespace-nowrap relative ${i===F?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-text"}`,children:[ae[F],F==="hypotheses"&&a.jsx("span",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 text-[10px] bg-orange-500 text-white rounded font-bold",children:"NEW"})]},F)})})]}),a.jsx("div",{className:"max-w-[1600px] mx-auto px-6 py-6",children:a.jsxs("form",{onSubmit:F=>{F.preventDefault(),Z()},children:[i==="card"&&a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-3",children:a.jsxs("div",{className:"bg-mm-secondary p-4 rounded-lg sticky top-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-mm-text mb-3",children:""}),a.jsx("div",{className:"space-y-2",children:M.length===0?a.jsxs("div",{className:"border-2 border-dashed border-mm-border rounded-lg p-8 text-center",children:[a.jsx(Cx,{className:"mx-auto text-4xl text-mm-text-secondary mb-2"}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:" "})]}):a.jsx("div",{className:"grid grid-cols-2 gap-2",children:M.map(F=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:F.url,alt:"Product",className:"w-full h-24 object-cover rounded bg-mm-dark"}),a.jsx("button",{type:"button",onClick:()=>D(F.id),className:"absolute top-1 right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition text-xs font-bold",children:""})]},F.id))})}),t&&a.jsx("button",{type:"button",onClick:J,className:"w-full mt-3 px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded text-sm font-medium",children:"+  "})]})}),a.jsxs("div",{className:"col-span-9 space-y-6",children:[t&&a.jsx("div",{className:"bg-mm-secondary p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-mm-text",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsxs("span",{className:"ml-2 font-semibold",children:[I.length,"  ",I.length]})]}),a.jsx("button",{type:"button",onClick:async()=>{const F=prompt(":"),ae=prompt(":");if(!(!F||!ae))try{const U=await e.post(`/api/catalog/products/${t}/variants`,{color:F,size:ae,sku:`${_.article}-${F.slice(0,3).toUpperCase()}-${ae}`});A([...I,U.data])}catch(U){alert(": "+U.message)}},className:"px-4 py-2 bg-orange-500 text-white hover:bg-orange-600 rounded text-sm font-semibold",children:""})]})}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsx(yM,{productName:_.name,initialCategoryMappingId:_.category_mapping_id,selectedMarketplaces:Object.keys(m).filter(F=>m[F]),onCategorySelected:F=>{var ae,U,oe,me;console.log("[ProductForm] Category selected:",F),F?(O(F),v({ozon:{category_id:(ae=F.marketplace_categories)==null?void 0:ae.ozon,category_name:F.internal_name,type_id:(U=F.marketplace_type_ids)==null?void 0:U.ozon},wb:{category_id:(oe=F.marketplace_categories)==null?void 0:oe.wildberries,category_name:F.internal_name},yandex:{category_id:(me=F.marketplace_categories)==null?void 0:me.yandex,category_name:F.internal_name}}),w({wb:!1,ozon:!1,yandex:!1}),k({wb:[],ozon:[],yandex:[]}),E(ke=>{var we,_e,Me;return{...ke,category_mapping_id:F.id,marketplace_data:{wb:{...((we=ke.marketplace_data)==null?void 0:we.wb)||{},characteristics:{}},ozon:{...((_e=ke.marketplace_data)==null?void 0:_e.ozon)||{},characteristics:{}},yandex:{...((Me=ke.marketplace_data)==null?void 0:Me.yandex)||{},characteristics:{}}}}})):(E(ke=>({...ke,category_mapping_id:null})),O(null),v({ozon:{},wb:{},yandex:{}}))},onAttributesLoaded:F=>{console.log("[ProductForm] Attributes loaded:",F),y(ae=>{const U={...ae};return Object.keys(F).forEach(oe=>{U[oe]||(U[oe]={}),U[oe].attributes=F[oe]}),U})}}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["      ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",value:_.article,onChange:F=>K("article",F.target.value),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",value:_.name,onChange:F=>K("name",F.target.value),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:[" ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:_.brand,onChange:F=>K("brand",F.target.value),required:!0,className:"flex-1 px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"}),a.jsx("button",{type:"button",className:"px-4 py-2 bg-cyan-500 text-white hover:bg-cyan-600 rounded text-sm font-semibold",children:""}),a.jsx("button",{type:"button",className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded",children:a.jsx(Ka,{size:18})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:_.manufacturer,onChange:F=>K("manufacturer",F.target.value),className:"flex-1 px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"}),a.jsx("button",{type:"button",className:"px-4 py-2 bg-cyan-500 text-white hover:bg-cyan-600 rounded text-sm font-semibold",children:""}),a.jsx("button",{type:"button",className:"p-2 text-mm-cyan hover:bg-mm-cyan/10 rounded",children:a.jsx(Ka,{size:18})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),a.jsx("input",{type:"text",value:_.country_of_origin,onChange:F=>K("country_of_origin",F.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:"  "}),a.jsx("input",{type:"text",value:_.label_name,onChange:F=>K("label_name",F.target.value),className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:""}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["    ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:_.price_with_discount/100,onChange:F=>K("price_with_discount",Math.round(parseFloat(F.target.value||0)*100)),step:"0.01",required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:["    ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:_.price_without_discount/100,onChange:F=>K("price_without_discount",Math.round(parseFloat(F.target.value||0)*100)),step:"0.01",required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),a.jsx("input",{type:"number",value:_.purchase_price/100,onChange:F=>K("purchase_price",Math.round(parseFloat(F.target.value||0)*100)),step:"0.01",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:".  "}),a.jsx("input",{type:"number",value:_.additional_expenses/100,onChange:F=>K("additional_expenses",Math.round(parseFloat(F.target.value||0)*100)),step:"0.01",className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-1 uppercase",children:" "}),a.jsx("input",{type:"number",value:_.cost_price/100,readOnly:!0,className:"w-full px-3 py-2 bg-mm-dark/50 border border-mm-border rounded text-mm-text-secondary cursor-not-allowed"})]})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:""}),a.jsxs("span",{className:"text-xs text-mm-text-secondary",children:[_.description.length," / 2000"]})]}),a.jsx("textarea",{value:_.description,onChange:F=>K("description",F.target.value),rows:"5",maxLength:2e3,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none resize-none"})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase mb-3",children:"    "}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:_.dimensions.length,onChange:F=>K("dimensions",{..._.dimensions,length:parseInt(F.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:_.dimensions.width,onChange:F=>K("dimensions",{..._.dimensions,width:parseInt(F.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:_.dimensions.height,onChange:F=>K("dimensions",{..._.dimensions,height:parseInt(F.target.value)||0}),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-mm-text-secondary mb-1",children:[",  ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",value:_.weight,onChange:F=>K("weight",parseInt(F.target.value)||0),required:!0,className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none"})]})]})]}),(m.ozon||m.wb)&&a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-4",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase",children:"  "}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.ozon&&a.jsxs("div",{className:"p-4 bg-mm-dark rounded border border-blue-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"O"}),a.jsx("span",{className:"text-sm font-semibold text-blue-400",children:"Ozon"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"   "}),a.jsx("input",{type:"number",value:_.ozon_price||"",onChange:F=>E({..._,ozon_price:parseFloat(F.target.value)||0}),placeholder:"1990",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-blue-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"   "}),a.jsx("input",{type:"number",value:_.ozon_old_price||"",onChange:F=>E({..._,ozon_old_price:parseFloat(F.target.value)||0}),placeholder:"2490",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-blue-500 outline-none"})]}),_.ozon_price&&_.ozon_old_price&&a.jsxs("p",{className:"text-xs text-green-400 font-medium",children:[": ",Math.round((_.ozon_old_price-_.ozon_price)/_.ozon_old_price*100),"%"]})]})]}),m.wb&&a.jsxs("div",{className:"p-4 bg-mm-dark rounded border border-purple-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"w-6 h-6 bg-purple-600 text-white rounded flex items-center justify-center text-xs font-bold",children:"WB"}),a.jsx("span",{className:"text-sm font-semibold text-purple-400",children:"Wildberries"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"  "}),a.jsx("input",{type:"number",value:_.wb_regular_price||"",onChange:F=>E({..._,wb_regular_price:parseFloat(F.target.value)||0}),placeholder:"2490",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-purple-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1",children:"   "}),a.jsx("input",{type:"number",value:_.wb_discount_price||"",onChange:F=>E({..._,wb_discount_price:parseFloat(F.target.value)||0}),placeholder:"1990",className:"w-full px-3 py-2 text-sm bg-mm-dark border border-mm-border rounded text-mm-text focus:border-purple-500 outline-none"})]}),_.wb_regular_price&&_.wb_discount_price&&a.jsxs("p",{className:"text-xs text-green-400 font-medium",children:[": ",Math.round((_.wb_regular_price-_.wb_discount_price)/_.wb_regular_price*100),"%"]})]})]})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg space-y-6",children:[a.jsx("h2",{className:"text-sm font-bold text-mm-text-secondary uppercase mb-4",children:" "}),a.jsx(bM,{selectedMarketplaces:m,characteristicsByMarketplace:j,valuesByMarketplace:{wb:((ce=(X=_.marketplace_data)==null?void 0:X.wb)==null?void 0:ce.characteristics)||{},ozon:((ee=(W=_.marketplace_data)==null?void 0:W.ozon)==null?void 0:ee.characteristics)||{},yandex:((je=(ie=_.marketplace_data)==null?void 0:ie.yandex)==null?void 0:je.characteristics)||{}},baseCharacteristics:_.characteristics||{},currentMappingId:_.category_mapping_id,currentCategoryName:(C==null?void 0:C.internal_name)||"",categoryMappings:g,onMappingUpdated:async(F,ae,U,oe)=>{if(console.log(`[ProductForm] Mapping updated for ${F}:`,ae),ae===null){console.log(`[ProductForm] Resetting mapping for ${F}`),w(me=>({...me,[F]:!1})),k(me=>({...me,[F]:[]})),v(me=>({...me,[F]:{}})),E(me=>{var ke;return{...me,marketplace_data:{...me.marketplace_data,[F]:{...((ke=me.marketplace_data)==null?void 0:ke[F])||{},characteristics:{}}}}});return}v(me=>({...me,[F]:{category_id:ae,category_name:U,type_id:oe}})),w(me=>({...me,[F]:!1})),await ue(F,_.category_mapping_id)},onBaseCharacteristicChange:(F,ae)=>{E(U=>({...U,characteristics:{...U.characteristics,[F]:ae}}))},onChange:(F,ae,U,oe)=>{E(me=>{var ke,we,_e;return{...me,marketplace_data:{...me.marketplace_data,[F]:{...(ke=me.marketplace_data)==null?void 0:ke[F],characteristics:{...(_e=(we=me.marketplace_data)==null?void 0:we[F])==null?void 0:_e.characteristics,[U]:oe}}}}})},loading:S})]})]})]}),i==="prices"&&a.jsxs("div",{className:"bg-mm-secondary p-6 rounded-lg",children:[a.jsx("h2",{className:"text-xl font-bold text-mm-text mb-6",children:""}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:"  "}),a.jsxs("p",{className:"text-2xl font-bold text-mm-cyan",children:[(_.price_with_discount/100).toFixed(2)," "]})]}),a.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:"  "}),a.jsxs("p",{className:"text-2xl font-bold text-mm-text",children:[(_.price_without_discount/100).toFixed(2)," "]})]}),a.jsxs("div",{className:"p-4 bg-mm-dark rounded-lg",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:""}),a.jsxs("p",{className:"text-2xl font-bold text-mm-text",children:[(_.cost_price/100).toFixed(2)," "]})]})]})]}),i!=="card"&&i!=="prices"&&a.jsx("div",{className:"bg-mm-secondary p-6 rounded-lg text-center py-12",children:a.jsxs("p",{className:"text-mm-text-secondary",children:[' "',i,'"  ']})})]})}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 shadow-lg z-30",children:a.jsxs("div",{className:"max-w-[1600px] mx-auto flex justify-between items-center",children:[a.jsx("button",{type:"button",onClick:Z,disabled:n,className:"px-8 py-3 bg-cyan-500 text-white hover:bg-cyan-600 rounded font-bold disabled:opacity-50",children:""}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-gray-700 font-medium",children:" :"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.honest_sign,onChange:F=>p({...m,honest_sign:F.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.ozon,onChange:F=>p({...m,ozon:F.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"w-7 h-7 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"O"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.wb,onChange:F=>p({...m,wb:F.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"w-7 h-7 bg-purple-600 text-white rounded flex items-center justify-center text-xs font-bold",children:"WB"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.yandex,onChange:F=>p({...m,yandex:F.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"w-7 h-7 bg-red-500 text-white rounded flex items-center justify-center text-xs font-bold",children:""})]})]})]})})]})}function jM(){const{api:e}=Ne(),t=Jr(),[r,n]=f.useState(1),[s,i]=f.useState(""),[o,l]=f.useState(""),[d,c]=f.useState(null),[u,m]=f.useState(!1),[p,x]=f.useState(null),y=b=>{const j=b.target.files[0];if(j){if(!j.name.endsWith(".xlsx")&&!j.name.endsWith(".xls")){alert(",  Excel  (.xlsx  .xls)");return}c(j)}},g=()=>{alert("  Excel     ")},v=async()=>{var b,j;if(!o){alert(" ");return}m(!0);try{const k=await e.post("/api/catalog/import/marketplace",null,{params:{marketplace:o}});x(k.data),n(3)}catch(k){alert(" : "+(((j=(b=k.response)==null?void 0:b.data)==null?void 0:j.detail)||k.message))}finally{m(!1)}},h=async()=>{if(!d){alert(" ");return}m(!0);try{new FormData().append("file",d),alert("  Excel     ")}catch(b){alert(" : "+b.message)}finally{m(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Wy,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"       Excel"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:`flex items-center gap-2 ${r>=1?"text-mm-cyan":"text-mm-text-secondary"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=1?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"1"}),a.jsx("span",{className:"text-sm",children:" "})]}),a.jsx("div",{className:"flex-1 h-px bg-mm-border"}),a.jsxs("div",{className:`flex items-center gap-2 ${r>=2?"text-mm-cyan":"text-mm-text-secondary"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=2?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"2"}),a.jsx("span",{className:"text-sm",children:" "})]}),a.jsx("div",{className:"flex-1 h-px bg-mm-border"}),a.jsxs("div",{className:`flex items-center gap-2 ${r>=3?"text-mm-cyan":"text-mm-text-secondary"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=3?"bg-mm-cyan text-mm-dark":"bg-mm-dark"}`,children:"3"}),a.jsx("span",{className:"text-sm",children:""})]})]}),r===1&&a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsx("div",{onClick:()=>{i("marketplace"),n(2)},className:`p-8 rounded-lg cursor-pointer transition border-2 ${s==="marketplace"?"border-mm-cyan bg-mm-cyan/10":"border-mm-border bg-mm-secondary hover:border-mm-cyan/50"}`,children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-mm-cyan/20 rounded-full flex items-center justify-center",children:a.jsx(ut,{className:"text-3xl text-mm-cyan"})}),a.jsx("h3",{className:"text-xl font-bold text-mm-text",children:"  "}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:"    Wildberries, Ozon  .  API"}),a.jsxs("ul",{className:"text-xs text-mm-text-secondary text-left space-y-2",children:[a.jsx("li",{children:"    "}),a.jsx("li",{children:" , , "}),a.jsx("li",{children:"  "})]})]})}),a.jsx("div",{onClick:()=>{i("excel"),n(2)},className:`p-8 rounded-lg cursor-pointer transition border-2 ${s==="excel"?"border-mm-cyan bg-mm-cyan/10":"border-mm-border bg-mm-secondary hover:border-mm-cyan/50"}`,children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-mm-cyan/20 rounded-full flex items-center justify-center",children:a.jsx(er,{className:"text-3xl text-mm-cyan"})}),a.jsx("h3",{className:"text-xl font-bold text-mm-text",children:"  Excel"}),a.jsx("p",{className:"text-sm text-mm-text-secondary",children:"    Excel-  "}),a.jsxs("ul",{className:"text-xs text-mm-text-secondary text-left space-y-2",children:[a.jsx("li",{children:"   "}),a.jsx("li",{children:"   Excel"}),a.jsx("li",{children:"  "})]})]})})]}),r===2&&s==="marketplace"&&a.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" "}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:["ozon","wb","yandex"].map(b=>{const j={ozon:"Ozon",wb:"Wildberries",yandex:"."},k={ozon:"blue",wb:"purple",yandex:"red"};return a.jsx("div",{onClick:()=>l(b),className:`p-6 rounded-lg cursor-pointer transition border-2 text-center ${o===b?`border-${k[b]}-500 bg-${k[b]}-500/10`:"border-mm-border hover:border-mm-cyan/50"}`,children:a.jsx("h3",{className:"text-lg font-bold text-mm-text",children:j[b]})},b)})}),a.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-4",children:a.jsxs("p",{className:"text-blue-300 text-sm",children:[" ",a.jsx("strong",{children:":"}),' ,           "".']})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>n(1),className:"px-6 py-3 bg-mm-dark text-mm-text hover:bg-mm-dark/80 rounded",children:""}),a.jsx("button",{onClick:v,disabled:!o||u,className:"flex-1 px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:u?"...":" "})]})]}),r===2&&s==="excel"&&a.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-mm-text",children:" Excel "}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-bold text-mm-text mb-2",children:" 1:  "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mb-4",children:"  Excel,        "}),a.jsxs("button",{onClick:g,className:"px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center gap-2",children:[a.jsx(ut,{}),"   Excel"]})]}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-bold text-mm-text mb-2",children:" 2:  "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mb-4",children:"  Excel   "}),a.jsxs("div",{className:"border-2 border-dashed border-mm-border rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:y,className:"hidden",id:"file-upload"}),a.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer inline-block",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(er,{className:"mx-auto text-4xl text-mm-cyan"}),a.jsx("p",{className:"text-mm-text",children:d?d.name:"     "}),a.jsx("p",{className:"text-xs text-mm-text-secondary",children:" : .xlsx, .xls"})]})})]})]}),a.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded p-4",children:a.jsxs("p",{className:"text-yellow-300 text-sm",children:[" ",a.jsx("strong",{children:":"}),"          .    ."]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>n(1),className:"px-6 py-3 bg-mm-dark text-mm-text hover:bg-mm-dark/80 rounded",children:""}),a.jsx("button",{onClick:h,disabled:!d||u,className:"flex-1 px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:u?"...":" "})]})]}),r===3&&p&&a.jsxs("div",{className:"bg-mm-secondary p-8 rounded-lg space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-green-500/20 rounded-full flex items-center justify-center mb-4",children:a.jsx(Vt,{className:"text-4xl text-green-400"})}),a.jsx("h2",{className:"text-2xl font-bold text-mm-text mb-2",children:" !"}),a.jsx("p",{className:"text-mm-text-secondary",children:"    "})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold text-green-400",children:p.created||0}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-400",children:p.updated||0}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]}),a.jsxs("div",{className:"bg-mm-dark p-4 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold text-red-400",children:p.errors||0}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:""})]})]}),a.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full px-6 py-3 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded",children:"  "})]})]})}function wM(){const{api:e}=Ne(),[t,r]=f.useState("ozon"),[n,s]=f.useState(""),[i,o]=f.useState([]),[l,d]=f.useState(!1),[c,u]=f.useState([]),[m,p]=f.useState([]),[x,y]=f.useState([]),[g,v]=f.useState([]),[h,b]=f.useState(""),[j,k]=f.useState(!1);f.useEffect(()=>{S(),N()},[]);const S=async()=>{try{const M=(await e.get("/api/seller/api-keys")).data||[];if(o(M),M.length>0){const B=M[M.length-1];s(B.id),r(B.marketplace)}}catch(A){console.error("Failed to load integrations:",A)}},N=async()=>{try{const A=await e.get("/api/catalog/products",{params:{limit:1e3}});p(A.data)}catch(A){console.error("Failed to load local products:",A)}},P=async()=>{var A,M;if(!n){alert(" ");return}d(!0);try{const H=(await e.get(`/api/marketplaces/${t}/products`,{params:{integration_id:n}})).data;console.log(` Loaded ${H.length} products from ${t} (integration: ${n})`),u(H),w(H,m)}catch(B){alert("  : "+(((M=(A=B.response)==null?void 0:A.data)==null?void 0:M.detail)||B.message))}finally{d(!1)}},w=(A,M)=>{const B=[],H=[];console.log(` Matching ${A.length} MP products with ${M.length} local products`),console.log(` Selected marketplace: ${t}`),A.forEach(R=>{const L=M.find(z=>{const T=(z.marketplace_specific_data||z.marketplace_data||{})[t];if(console.log(`  Checking ${z.article}: mpInfo =`,T),t==="ozon"){const Z=(T==null?void 0:T.id)===R.id||(T==null?void 0:T.offer_id)===R.sku;return Z&&console.log(`     Matched Ozon: ${T.id} === ${R.id}`),Z}else if(t==="wb"){const Z=(T==null?void 0:T.nm_id)===R.id||(T==null?void 0:T.id)===R.id||(T==null?void 0:T.vendor_code)===R.sku;return Z&&console.log(`     Matched WB: ${T.nm_id||T.id} === ${R.id}`),Z}else if(t==="yandex"){const Z=(T==null?void 0:T.offer_id)===R.sku;return Z&&console.log(`     Matched Yandex: ${T.offer_id} === ${R.sku}`),Z}return!1});if(L)console.log(`   Found link: ${R.sku}  ${L.article}`),B.push({mpProduct:R,localProduct:L,matchType:"linked"});else{const z=M.filter(Q=>Q.article.toLowerCase().includes(R.sku.toLowerCase())||R.sku.toLowerCase().includes(Q.article.toLowerCase()));H.push({mpProduct:R,suggestions:z.slice(0,3),matchType:"unmatched"})}}),y(B),v(H),console.log(` Matched: ${B.length}, Unmatched: ${H.length}`),(B.length>0||H.length>0)&&q.success(` !

 : ${B.length}
  : ${H.length}`,{duration:5e3})},C=async(A,M)=>{var B,H,R;try{console.log(" Linking:",A.sku,"",M.article),console.log("MP Product:",A),console.log("Local Product:",M);const L={product:A,duplicate_action:"link_only"};console.log("Sending payload:",L);const z=await e.post("/api/products/import-from-marketplace",L);if(console.log("Response:",z.data),z.data.status==="duplicate_found"){alert("   .     .");return}alert(`  !

${A.name} (${t.toUpperCase()})   ${M.name}`);const T=(await e.get("/api/catalog/products",{params:{limit:1e3}})).data;p(T),w(c,T)}catch(L){console.error("Link error:",L),console.error("Error response:",(B=L.response)==null?void 0:B.data),alert(" : "+(((R=(H=L.response)==null?void 0:H.data)==null?void 0:R.detail)||L.message))}},O=async A=>{var M,B;if(confirm("   ?"))try{const H=m.find(Q=>Q.id===A);if(!H){alert("  ");return}const R={...H.marketplace_data||{}};delete R[t],await e.put(`/api/catalog/products/${A}`,{marketplace_data:R}),alert("  ");const z=(await e.get("/api/catalog/products",{params:{limit:1e3}})).data;p(z),w(c,z)}catch(H){console.error("Unlink error:",H),alert(": "+(((B=(M=H.response)==null?void 0:M.data)==null?void 0:B.detail)||H.message))}},_=()=>{let A=g;return h&&(A=A.filter(M=>M.mpProduct.sku.toLowerCase().includes(h.toLowerCase())||M.mpProduct.name.toLowerCase().includes(h.toLowerCase()))),j&&(A=A.filter(M=>M.suggestions.length>0)),A},E={ozon:{icon:"O",color:"bg-blue-500",name:"Ozon"},wb:{icon:"WB",color:"bg-purple-600",name:"Wildberries"},yandex:{icon:"",color:"bg-red-500",name:"."}},I=E[t]||E.ozon;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Wy,{}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:" "}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"       "})]})]}),a.jsxs("div",{className:"bg-mm-secondary p-4 rounded-lg space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 uppercase",children:""}),a.jsx("select",{value:n,onChange:A=>{s(A.target.value);const M=i.find(B=>B.id===A.target.value);M&&r(M.marketplace)},className:"w-full px-3 py-2 bg-mm-dark border border-mm-border rounded text-mm-text focus:border-mm-cyan outline-none",children:i.filter(A=>["ozon","wb","yandex"].includes(A.marketplace)).map(A=>a.jsxs("option",{value:A.id,children:[A.marketplace.toUpperCase(),": ",A.name||A.client_id||"API"]},A.id))})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:P,disabled:l,className:"w-full px-4 py-2 bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 rounded flex items-center justify-center gap-2 disabled:opacity-50",children:[a.jsx(pt,{className:l?"animate-spin":""}),l?"...":" "]})}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:()=>w(c,m),disabled:c.length===0,className:"w-full px-4 py-2 bg-green-600 text-white hover:bg-green-700 rounded flex items-center justify-center gap-2 disabled:opacity-50",children:[a.jsx(Ko,{}),""]})})]}),c.length>0&&a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-mm-dark p-3 rounded",children:[a.jsxs("p",{className:"text-xs text-mm-text-secondary",children:["  ",I.name]}),a.jsx("p",{className:"text-2xl font-bold text-mm-cyan",children:c.length})]}),a.jsxs("div",{className:"bg-mm-dark p-3 rounded",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:""}),a.jsx("p",{className:"text-2xl font-bold text-green-400",children:x.length})]}),a.jsxs("div",{className:"bg-mm-dark p-3 rounded",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary",children:" "}),a.jsx("p",{className:"text-2xl font-bold text-orange-400",children:g.length})]})]})]}),c.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-mm-secondary rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-mm-dark p-4 border-b border-mm-border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-lg font-bold text-orange-400 flex items-center gap-2",children:[a.jsx(ht,{className:"text-orange-400"}),"  (",g.length,")"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-mm-text-secondary"}),a.jsx("input",{type:"text",placeholder:"...",value:h,onChange:A=>b(A.target.value),className:"pl-10 pr-4 py-2 bg-mm-dark border border-mm-border rounded text-mm-text text-sm focus:border-mm-cyan outline-none w-64"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-mm-text cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:j,onChange:A=>k(A.target.checked),className:"w-4 h-4"}),a.jsx(By,{className:"text-mm-cyan"}),"  "]})]})]})}),a.jsxs("div",{className:"divide-y divide-mm-border max-h-[500px] overflow-y-auto",children:[_().map((A,M)=>a.jsx("div",{className:"p-4 hover:bg-mm-dark/50 transition",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 items-start",children:[a.jsx("div",{className:"col-span-5",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-10 h-10 ${I.color} text-white rounded flex items-center justify-center text-xs font-bold flex-shrink-0`,children:I.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-mm-text truncate",children:A.mpProduct.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",A.mpProduct.sku]}),A.mpProduct.barcode&&a.jsxs("p",{className:"text-xs text-mm-text-secondary",children:[": ",A.mpProduct.barcode]})]})]})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsx("div",{className:"text-2xl text-mm-text-secondary",children:""})}),a.jsx("div",{className:"col-span-5",children:A.suggestions.length>0?a.jsx("div",{className:"space-y-2",children:A.suggestions.map(B=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-mm-dark rounded border border-green-500/30",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-mm-text truncate",children:B.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",B.article]})]}),a.jsxs("button",{onClick:()=>C(A.mpProduct,B),className:"ml-2 px-3 py-1 bg-green-600 text-white hover:bg-green-700 rounded text-xs font-medium flex items-center gap-1",children:[a.jsx(Ko,{size:12}),""]})]},B.id))}):a.jsx("div",{className:"text-sm text-mm-text-secondary italic",children:"  "})})]})},M)),_().length===0&&a.jsx("div",{className:"p-8 text-center text-mm-text-secondary",children:h||j?"   ":"  "})]})]}),a.jsxs("div",{className:"bg-mm-secondary rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-mm-dark p-4 border-b border-mm-border",children:a.jsxs("h2",{className:"text-lg font-bold text-green-400 flex items-center gap-2",children:[a.jsx(Vt,{className:"text-green-400"}),"  (",x.length,")"]})}),a.jsxs("div",{className:"divide-y divide-mm-border max-h-[400px] overflow-y-auto",children:[x.map((A,M)=>a.jsx("div",{className:"p-4 hover:bg-mm-dark/50 transition",children:a.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[a.jsx("div",{className:"col-span-5",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-10 h-10 ${I.color} text-white rounded flex items-center justify-center text-xs font-bold flex-shrink-0`,children:I.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-mm-text truncate",children:A.mpProduct.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",A.mpProduct.sku]})]})]})}),a.jsx("div",{className:"col-span-2 flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center gap-1 text-green-400",children:[a.jsx(Ko,{}),a.jsx("span",{className:"text-xs",children:""})]})}),a.jsx("div",{className:"col-span-4",children:a.jsx("div",{className:"flex items-start gap-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-mm-text truncate",children:A.localProduct.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",A.localProduct.article]})]})})}),a.jsx("div",{className:"col-span-1 flex justify-end",children:a.jsx("button",{onClick:()=>O(A.localProduct.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded transition",title:" ",children:a.jsx(ht,{})})})]})},M)),x.length===0&&a.jsx("div",{className:"p-8 text-center text-mm-text-secondary",children:"  "})]})]})]}),c.length===0&&a.jsxs("div",{className:"bg-mm-secondary p-12 rounded-lg text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("p",{className:"text-mm-text-secondary text-lg",children:'    " "'})]})]})}const ba=({value:e,onChange:t,suffix:r=""})=>{const[n,s]=f.useState(!1),[i,o]=f.useState(e||"");f.useEffect(()=>{o(e||"")},[e]);const l=()=>{s(!1),i!==e&&t(i)},d=c=>{c.key==="Enter"&&l(),c.key==="Escape"&&(o(e||""),s(!1))};return n?a.jsx("input",{type:"number",value:i,onChange:c=>o(c.target.value),onBlur:l,onKeyDown:d,autoFocus:!0,className:"w-[70px] px-2 py-1 bg-mm-dark border-2 border-mm-cyan rounded text-mm-cyan text-sm focus:outline-none text-center"}):a.jsx("div",{onClick:()=>s(!0),className:"cursor-pointer px-1 py-1 rounded transition-all min-w-[70px] text-center bg-mm-dark border border-dashed border-mm-border hover:border-mm-cyan hover:bg-mm-dark/80",children:e?a.jsxs("span",{className:"text-mm-cyan font-medium text-sm",children:[e,r]}):a.jsx("span",{className:"text-mm-text-secondary/40 text-xs",children:""})})},qs=({value:e,suffix:t=""})=>a.jsx("div",{className:"text-mm-text text-center px-1 py-1 min-w-[70px] font-medium text-sm",children:e?`${e}${t}`:""}),NM=({fbo:e,fbs:t})=>!e&&!t?a.jsx("span",{className:"text-mm-text-secondary text-xs",children:""}):a.jsx("div",{className:"text-xs text-center",children:a.jsxs("span",{className:"text-orange-400",children:[e||t,"%"]})}),kM=()=>{const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState([]),[i,o]=f.useState(!0),[l,d]=f.useState(!1),[c,u]=f.useState(!1),[m,p]=f.useState(""),[x,y]=f.useState(null),[g,v]=f.useState(new Set),[h,b]=f.useState({ozon:!0,wb:!0}),[j,k]=f.useState({});f.useEffect(()=>{S()},[]),f.useEffect(()=>{w()},[t,m]);const S=async()=>{try{o(!0);const $=await e.get("/api/catalog/pricing");r($.data.products||[]),k({}),v(new Set)}catch($){console.error("Error fetching products:",$),q.error("  ")}finally{o(!1)}},N=async()=>{d(!0);try{const $=await e.get("/api/catalog/pricing/sync-from-mp");$.data.success?(q.success(` ${$.data.message}`),await S()):q.error($.data.message||" ")}catch($){console.error("Sync error:",$),q.error("   ")}finally{d(!1)}},P=async()=>{var Y,le,se,K,ue,he,J,D,X,ce;const $=n.filter(W=>{if(!g.has(W.product_id))return!1;const ee=j[W.product_id];return ee?ee["ozon.price"]||ee["ozon.old_price"]||ee["ozon.min_price"]||ee["wb.regular_price"]||ee["wb.discount_price"]||ee["wb.discount"]:!1});if($.length===0){q.error("      ");return}u(!0);try{const W={};for(const ie of $){const je=j[ie.product_id]||{};W[ie.product_id]={ozon:ie.ozon_linked?{price:parseFloat(je["ozon.price"])||((Y=ie.ozon)==null?void 0:Y.price)||0,old_price:parseFloat(je["ozon.old_price"])||((le=ie.ozon)==null?void 0:le.old_price)||0,min_price:parseFloat(je["ozon.min_price"])||((se=ie.ozon)==null?void 0:se.min_price)||0}:null,wb:ie.wb_linked?{regular_price:parseFloat(je["wb.regular_price"])||((K=ie.wb)==null?void 0:K.regular_price)||0,discount_price:parseFloat(je["wb.discount_price"])||((ue=ie.wb)==null?void 0:ue.discount_price)||0,discount:parseFloat(je["wb.discount"])||((he=ie.wb)==null?void 0:he.discount)||0}:null}}const ee=await e.post("/api/catalog/pricing/push-to-mp",{product_ids:$.map(ie=>ie.product_id),prices:W});if(console.log("Push to MP response:",ee.data),ee.data.success){const{results:ie}=ee.data,je=[];ie.ozon.success>0&&je.push(`Ozon: ${ie.ozon.success} `),ie.wb.success>0&&je.push(`WB: ${ie.wb.success} `),je.length>0?q.success(`   : ${je.join(", ")}`,{duration:5e3}):q.warning("  ,    .    ."),((J=ie.ozon.errors)==null?void 0:J.length)>0&&q.error(`Ozon : ${ie.ozon.errors.join(", ")}`,{duration:7e3}),((D=ie.wb.errors)==null?void 0:D.length)>0&&q.error(`WB : ${ie.wb.errors.join(", ")}`,{duration:7e3}),await S()}else q.error(ee.data.message||" ")}catch(W){console.error("Push error:",W),q.error(` : ${((ce=(X=W.response)==null?void 0:X.data)==null?void 0:ce.detail)||W.message}`)}finally{u(!1)}},w=()=>{let $=[...t];if(m){const Y=m.toLowerCase();$=$.filter(le=>{var se,K;return((se=le.article)==null?void 0:se.toLowerCase().includes(Y))||((K=le.name)==null?void 0:K.toLowerCase().includes(Y))})}s($)},C=$=>{b(Y=>({...Y,[$]:!Y[$]}))},O=$=>{v(Y=>{const le=new Set(Y);return le.has($)?le.delete($):le.add($),le})},_=()=>{const $=n.filter(Y=>M(Y.product_id));v(new Set($.map(Y=>Y.product_id)))},E=($,Y,le)=>{k(se=>({...se,[$]:{...se[$],[Y]:le}}))},I=($,Y)=>{var le;return((le=j[$.product_id])==null?void 0:le[Y])!==void 0?j[$.product_id][Y]:""},A=($,Y)=>{const le=Y.split(".");let se=$;for(const K of le)se=se==null?void 0:se[K];return se||""},M=$=>j[$]&&Object.keys(j[$]).length>0,B=async $=>{var le,se,K,ue,he,J;const Y=j[$.product_id];if(Y){y($.product_id);try{const D={};Y.min_allowed_price&&(D.min_allowed_price=parseFloat(Y.min_allowed_price)||0),Y.cost_price&&(D.cost_price=parseFloat(Y.cost_price)||0),$.ozon_linked&&(Y["ozon.price"]||Y["ozon.old_price"]||Y["ozon.min_price"])&&(D.ozon={price:parseFloat(Y["ozon.price"])||((le=$.ozon)==null?void 0:le.price)||0,old_price:parseFloat(Y["ozon.old_price"])||((se=$.ozon)==null?void 0:se.old_price)||0,min_price:parseFloat(Y["ozon.min_price"])||((K=$.ozon)==null?void 0:K.min_price)||0}),$.wb_linked&&(Y["wb.regular_price"]||Y["wb.discount_price"]||Y["wb.discount"])&&(D.wb={regular_price:parseFloat(Y["wb.regular_price"])||((ue=$.wb)==null?void 0:ue.regular_price)||0,discount_price:parseFloat(Y["wb.discount_price"])||((he=$.wb)==null?void 0:he.discount_price)||0,discount:parseFloat(Y["wb.discount"])||((J=$.wb)==null?void 0:J.discount)||0}),await e.put(`/api/catalog/pricing/${$.product_id}`,D),q.success(` : ${$.article}`),k(X=>{const ce={...X};return delete ce[$.product_id],ce}),S()}catch(D){console.error("Save error:",D),q.error(" ")}finally{y(null)}}},H=t.filter($=>$.ozon_linked).length,R=t.filter($=>$.wb_linked).length,L=Object.keys(j).length,z=g.size,Q=L>0,Z=n.filter($=>{if(!g.has($.product_id))return!1;const Y=j[$.product_id];return Y?Y["ozon.price"]||Y["ozon.old_price"]||Y["ozon.min_price"]||Y["wb.regular_price"]||Y["wb.discount_price"]||Y["wb.discount"]||Y.cost_price||Y.min_allowed_price:!1}).length>0,te=async()=>{const $=n.filter(se=>M(se.product_id));if($.length===0){q.error("   ");return}let Y=0,le=0;for(const se of $)try{await B(se),Y++}catch{le++}Y>0&&q.success(`  : ${Y}`),le>0&&q.error(`   : ${le}`)};return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(pt,{className:"w-8 h-8 animate-spin text-mm-cyan"})}):a.jsxs("div",{className:"space-y-6","data-testid":"pricing-page",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan",children:""}),a.jsx("p",{className:"text-sm text-mm-text-secondary mt-1",children:"   "})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:N,disabled:l,className:"px-4 py-2 bg-mm-secondary text-mm-text border border-mm-border rounded hover:border-mm-cyan transition-colors flex items-center gap-2 disabled:opacity-50",children:[l?a.jsx(pt,{className:"w-4 h-4 animate-spin"}):a.jsx(ut,{className:"w-4 h-4"}),"  "]}),a.jsxs("button",{onClick:te,disabled:!Q||x!==null,className:`px-4 py-2 font-medium rounded transition-colors flex items-center gap-2 ${Q&&x===null?"bg-green-600 text-white hover:bg-green-700 cursor-pointer":"bg-mm-secondary text-mm-text-secondary cursor-not-allowed opacity-50"}`,children:[x!==null?a.jsx(pt,{className:"w-4 h-4 animate-spin"}):a.jsx(Pi,{className:"w-4 h-4"})," ",L>0&&a.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${Q?"bg-white/20":"bg-mm-border"}`,children:L})]}),a.jsxs("button",{onClick:P,disabled:c||!Z,className:`px-4 py-2 font-medium rounded transition-colors flex items-center gap-2 ${Z&&!c?"bg-mm-cyan text-mm-dark hover:bg-mm-cyan/90 cursor-pointer":"bg-mm-secondary text-mm-text-secondary cursor-not-allowed opacity-50"}`,children:[c?a.jsx(pt,{className:"w-4 h-4 animate-spin"}):a.jsx(er,{className:"w-4 h-4"}),"  ",z>0&&a.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${Z?"bg-mm-dark/20":"bg-mm-border"}`,children:z})]})]})]}),a.jsx("div",{className:"bg-mm-secondary p-4 rounded-lg border border-mm-border",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsx("span",{className:"text-sm text-mm-text-secondary",children:":"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:h.ozon,onChange:()=>C("ozon"),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${h.ozon?"bg-blue-500 border-blue-500":"bg-mm-dark border-mm-border group-hover:border-blue-500"}`,children:h.ozon&&a.jsx(Vt,{className:"w-3 h-3 text-white"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"O"}),a.jsx("span",{className:"text-mm-text",children:"Ozon"}),a.jsxs("span",{className:"text-xs text-mm-text-secondary",children:["(",H,")"]})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:h.wb,onChange:()=>C("wb"),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${h.wb?"bg-purple-500 border-purple-500":"bg-mm-dark border-mm-border group-hover:border-purple-500"}`,children:h.wb&&a.jsx(Vt,{className:"w-3 h-3 text-white"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"W"}),a.jsx("span",{className:"text-mm-text",children:"Wildberries"}),a.jsxs("span",{className:"text-xs text-mm-text-secondary",children:["(",R,")"]})]})]}),L>0&&a.jsxs("button",{onClick:_,className:"text-sm text-mm-cyan hover:underline",children:["    (",L,")"]}),a.jsx("div",{className:"flex-1 min-w-[200px] ml-auto",children:a.jsxs("div",{className:"relative",children:[a.jsx(ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-mm-text-secondary"}),a.jsx("input",{type:"text",placeholder:"  ...",value:m,onChange:$=>p($.target.value),className:"w-full pl-10 pr-4 py-2 bg-mm-dark border border-mm-border rounded text-mm-text text-sm focus:border-mm-cyan outline-none"})]})})]})}),a.jsx("div",{className:"bg-mm-secondary rounded-lg border border-mm-border overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsxs("thead",{className:"bg-mm-dark",children:[a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"p-2 w-[30px]",rowSpan:"2"}),a.jsx("th",{className:"text-left p-2 font-medium text-mm-text-secondary uppercase text-xs w-[50px]",rowSpan:"2",children:""}),a.jsx("th",{className:"text-left p-2 font-medium text-mm-text-secondary uppercase text-xs min-w-[130px]",rowSpan:"2",children:""}),a.jsx("th",{className:"text-center p-2 font-medium text-green-400 uppercase text-xs w-[80px]",rowSpan:"2",children:"."}),h.ozon&&a.jsx("th",{className:"text-center p-2 font-medium text-blue-400 uppercase text-xs border-l border-mm-border",colSpan:"7",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"O"}),"Ozon"]})}),h.wb&&a.jsx("th",{className:"text-center p-2 font-medium text-purple-400 uppercase text-xs border-l border-mm-border",colSpan:"6",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-purple-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"W"}),"Wildberries"]})}),a.jsxs("th",{className:"text-center p-2 font-medium text-mm-text-secondary uppercase text-xs border-l border-mm-border w-[80px]",rowSpan:"2",children:[".",a.jsx("br",{}),""]})]}),a.jsxs("tr",{className:"border-b border-mm-border bg-mm-dark/70 text-[11px]",children:[h.ozon&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"p-1 text-center text-blue-300/70 font-normal border-l border-mm-border",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-blue-300/70 font-normal",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-blue-300/70 font-normal",children:"."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-orange-400/70 font-normal",children:a.jsx(V0,{className:"inline w-3 h-3"})})]}),h.wb&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"p-1 text-center text-purple-300/70 font-normal border-l border-mm-border",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-purple-300/70 font-normal",children:" ."}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""}),a.jsx("th",{className:"p-1 text-center text-purple-300/70 font-normal",children:""}),a.jsx("th",{className:"p-1 text-center text-mm-cyan/70 font-normal bg-mm-cyan/5",children:""})]})]})]}),a.jsx("tbody",{children:n.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"20",className:"text-center p-8 text-mm-text-secondary",children:"  "})}):n.map($=>a.jsxs("tr",{className:`border-b border-mm-border hover:bg-mm-dark/30 transition-colors ${M($.product_id)?"bg-yellow-500/5":""} ${g.has($.product_id)?"bg-mm-cyan/5":""}`,children:[a.jsx("td",{className:"p-2 text-center",children:a.jsx("button",{onClick:()=>O($.product_id),className:"text-mm-text-secondary hover:text-mm-cyan",children:g.has($.product_id)?a.jsx(qI,{className:"w-4 h-4 text-mm-cyan"}):a.jsx(ZI,{className:"w-4 h-4"})})}),a.jsx("td",{className:"p-2",children:$.photo?a.jsx("img",{src:$.photo,alt:"",className:"w-10 h-10 object-cover rounded"}):a.jsx("div",{className:"w-10 h-10 bg-mm-dark rounded flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-mm-text-secondary",children:""})})}),a.jsxs("td",{className:"p-2",children:[a.jsx("div",{className:"font-mono text-sm text-mm-cyan",children:$.article}),a.jsx("div",{className:"text-xs text-mm-text-secondary truncate max-w-[120px]",children:$.name})]}),a.jsx("td",{className:"p-1",children:a.jsx(ba,{value:I($,"cost_price")||A($,"cost_price"),onChange:Y=>E($.product_id,"cost_price",Y)})}),h.ozon&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-1 border-l border-mm-border",children:$.ozon_linked?a.jsx(qs,{value:A($,"ozon.price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:$.ozon_linked?a.jsx(ba,{value:I($,"ozon.price"),onChange:Y=>E($.product_id,"ozon.price",Y)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:$.ozon_linked?a.jsx(qs,{value:A($,"ozon.old_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:$.ozon_linked?a.jsx(ba,{value:I($,"ozon.old_price"),onChange:Y=>E($.product_id,"ozon.old_price",Y)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:$.ozon_linked?a.jsx(qs,{value:A($,"ozon.min_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:$.ozon_linked?a.jsx(ba,{value:I($,"ozon.min_price"),onChange:Y=>E($.product_id,"ozon.min_price",Y)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:$.ozon_linked?a.jsx(NM,{fbo:A($,"ozon.fbo_commission"),fbs:A($,"ozon.fbs_commission")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})})]}),h.wb&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-1 border-l border-mm-border",children:$.wb_linked?a.jsx(qs,{value:A($,"wb.regular_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:$.wb_linked?a.jsx(ba,{value:I($,"wb.regular_price"),onChange:Y=>E($.product_id,"wb.regular_price",Y)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:$.wb_linked?a.jsx(qs,{value:A($,"wb.discount_price")}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:$.wb_linked?a.jsx(ba,{value:I($,"wb.discount_price"),onChange:Y=>E($.product_id,"wb.discount_price",Y)}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1",children:$.wb_linked?a.jsx(qs,{value:A($,"wb.discount"),suffix:"%"}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})}),a.jsx("td",{className:"p-1 bg-mm-cyan/5",children:$.wb_linked?a.jsx(ba,{value:I($,"wb.discount"),onChange:Y=>E($.product_id,"wb.discount",Y),suffix:"%"}):a.jsx("span",{className:"text-mm-text-secondary/30 text-xs block text-center",children:""})})]}),a.jsx("td",{className:"p-1 border-l border-mm-border",children:a.jsx(ba,{value:I($,"min_allowed_price")||A($,"min_allowed_price"),onChange:Y=>E($.product_id,"min_allowed_price",Y)})})]},$.product_id))})]})})}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-mm-text-secondary",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-14 h-5 bg-mm-secondary rounded border border-mm-border"}),a.jsx("span",{children:" "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-14 h-5 bg-mm-dark rounded border border-dashed border-mm-border"}),a.jsx("span",{children:"  "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(V0,{className:"w-4 h-4 text-orange-400"}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pi,{className:"w-4 h-4 text-mm-cyan"}),a.jsx("span",{children:"  "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(er,{className:"w-4 h-4 text-mm-cyan"}),a.jsx("span",{children:"  "})]})]})]})};function _M(){const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState(!1),[l,d]=f.useState(null),[c,u]=f.useState(""),[m,p]=f.useState({internal_name:"",slug:"",site_visibility:!0,default_channels:["site"],ozon_category_id:"",ozon_type_id:"",wb_category_id:"",yandex_category_id:"",internal_attributes:[]}),[x,y]=f.useState({ozon:"",wb:"",yandex:""}),[g,v]=f.useState({ozon:[],wb:[],yandex:[]}),[h,b]=f.useState({});f.useEffect(()=>{j()},[]);const j=async()=>{s(!0);try{const _=await e.get("/api/internal-categories?limit=100");r(_.data.categories||[])}catch(_){console.error("Failed to load categories:",_),alert("  ")}finally{s(!1)}},k=()=>{d(null),p({internal_name:"",slug:"",site_visibility:!0,default_channels:["site"],ozon_category_id:"",ozon_type_id:"",wb_category_id:"",yandex_category_id:"",internal_attributes:[]}),y({ozon:"",wb:"",yandex:""}),v({ozon:[],wb:[],yandex:[]}),o(!0)},S=_=>{var E,I,A,M,B,H,R,L;d(_.id),p({internal_name:_.internal_name,slug:_.slug||"",site_visibility:_.site_visibility??!0,default_channels:_.default_channels||["site"],ozon_category_id:((I=(E=_.marketplace_mappings)==null?void 0:E.ozon)==null?void 0:I.category_id)||"",ozon_type_id:((M=(A=_.marketplace_mappings)==null?void 0:A.ozon)==null?void 0:M.type_id)||"",wb_category_id:((H=(B=_.marketplace_mappings)==null?void 0:B.wb)==null?void 0:H.category_id)||"",yandex_category_id:((L=(R=_.marketplace_mappings)==null?void 0:R.yandex)==null?void 0:L.category_id)||"",internal_attributes:_.internal_attributes||[]}),y({ozon:"",wb:"",yandex:""}),v({ozon:[],wb:[],yandex:[]}),o(!0)},N=async(_,E)=>{var I,A;if(confirm(`  "${E}"?`))try{await e.delete(`/api/internal-categories/${_}`),alert("  "),j()}catch(M){alert(" : "+(((A=(I=M.response)==null?void 0:I.data)==null?void 0:A.detail)||M.message))}},P=async()=>{var _,E;if(!m.internal_name){alert("  ");return}try{l?(await e.put(`/api/internal-categories/${l}`,m),alert("  ")):(await e.post("/api/internal-categories",m),alert("  ")),o(!1),j()}catch(I){alert(" : "+(((E=(_=I.response)==null?void 0:_.data)==null?void 0:E.detail)||I.message))}},w=async _=>{var I,A;const E=x[_];if(!(!E||E.length<2)){b(M=>({...M,[_]:!0}));try{const M=await e.get(`/api/categories/marketplace/${_}/search?query=${encodeURIComponent(E)}`);v(B=>({...B,[_]:M.data.categories||[]}))}catch(M){console.error(`Failed to search ${_}:`,M),alert(`  ${_}: ${((A=(I=M.response)==null?void 0:I.data)==null?void 0:A.detail)||M.message}`)}finally{b(M=>({...M,[_]:!1}))}}},C=(_,E)=>{_==="ozon"?p(I=>({...I,ozon_category_id:E.category_id||E.id,ozon_type_id:E.type_id||""})):_==="wb"?p(I=>({...I,wb_category_id:E.category_id||E.id})):_==="yandex"&&p(I=>({...I,yandex_category_id:E.category_id||E.id})),v(I=>({...I,[_]:[]})),y(I=>({...I,[_]:""}))},O=t.filter(_=>_.internal_name.toLowerCase().includes(c.toLowerCase()));return a.jsx("div",{className:"min-h-screen bg-[#0F172A] text-[#E5E7EB] p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold text-[#06B6D4] mb-2",children:" "}),a.jsx("p",{className:"text-[#A7AFB8]",children:"        "})]}),a.jsxs("button",{onClick:k,className:"px-6 py-3 bg-[#06B6D4] text-[#0B1220] rounded-lg font-bold hover:bg-cyan-400 transition-colors flex items-center gap-2","data-testid":"create-category-button",children:[a.jsx(Dr,{}),"  "]})]}),a.jsxs("div",{className:"mb-6 relative",children:[a.jsx(ra,{className:"absolute left-4 top-3.5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:" ...",value:c,onChange:_=>u(_.target.value),className:"w-full pl-12 pr-4 py-3 bg-[#111827] border border-[#334155] rounded-lg text-white placeholder-gray-500 focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none","data-testid":"category-search-input"})]}),n?a.jsx("div",{className:"text-center py-12 text-gray-400",children:"..."}):O.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-400 mb-4",children:"  "}),a.jsx("button",{onClick:k,className:"px-6 py-2 bg-[#06B6D4] text-[#0B1220] rounded-lg hover:bg-cyan-400",children:"  "})]}):a.jsx("div",{className:"bg-[#111827] border border-[#334155] rounded-xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-[#0F172A] border-b border-[#334155]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:"Slug"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A7AFB8]",children:""}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-[#A7AFB8]",children:""})]})}),a.jsx("tbody",{children:O.map(_=>{var E,I,A,M,B,H,R;return a.jsxs("tr",{className:"border-b border-[#334155] hover:bg-slate-800/60 transition-colors","data-testid":`category-row-${_.id}`,children:[a.jsx("td",{className:"px-6 py-4 font-medium",children:_.internal_name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:_.slug||"-"}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-2",children:[((I=(E=_.marketplace_mappings)==null?void 0:E.ozon)==null?void 0:I.category_id)&&a.jsx("span",{className:"px-2 py-1 bg-blue-500 text-white text-xs rounded",children:"Ozon"}),((M=(A=_.marketplace_mappings)==null?void 0:A.wb)==null?void 0:M.category_id)&&a.jsx("span",{className:"px-2 py-1 bg-purple-500 text-white text-xs rounded",children:"WB"}),((H=(B=_.marketplace_mappings)==null?void 0:B.yandex)==null?void 0:H.category_id)&&a.jsx("span",{className:"px-2 py-1 bg-yellow-500 text-black text-xs rounded",children:""})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:((R=_.internal_attributes)==null?void 0:R.length)||0}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>S(_),className:"p-2 text-blue-400 hover:bg-blue-500/20 rounded transition-colors","data-testid":`edit-category-${_.id}`,children:a.jsx(zy,{})}),a.jsx("button",{onClick:()=>N(_.id,_.internal_name),className:"p-2 text-red-400 hover:bg-red-500/20 rounded transition-colors","data-testid":`delete-category-${_.id}`,children:a.jsx(bn,{})})]})})]},_.id)})})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-start justify-center z-50 p-6 overflow-y-auto",children:a.jsxs("div",{className:"bg-[#111827] border border-[#334155] rounded-xl w-full max-w-4xl my-8",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-[#334155] flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-[#06B6D4]",children:l?" ":" "}),a.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(ht,{size:24})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-[#A7AFB8] mb-2",children:[" ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:m.internal_name,onChange:_=>p(E=>({...E,internal_name:_.target.value})),className:"w-full px-4 py-2 bg-[#1F2937] border border-[#334155] rounded-lg text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:":  ","data-testid":"category-name-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#A7AFB8] mb-2",children:"Slug"}),a.jsx("input",{type:"text",value:m.slug,onChange:_=>p(E=>({...E,slug:_.target.value})),className:"w-full px-4 py-2 bg-[#1F2937] border border-[#334155] rounded-lg text-white focus:border-[#22D3EE] focus:ring-2 focus:ring-[#22D3EE]/50 outline-none",placeholder:"computer-mice"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"  "}),a.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4 mb-4",children:a.jsxs("p",{className:"text-yellow-200 text-sm flex items-start gap-2",children:[a.jsx(An,{className:"mt-0.5 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("strong",{children:":"}),"        .       ."]})]})}),a.jsxs("div",{className:"mb-4 p-4 bg-[#1F2937] border-l-4 border-blue-500 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h4",{className:"font-bold text-blue-400",children:"Ozon"}),m.ozon_category_id&&a.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[a.jsx(Vt,{size:12})," : ",m.ozon_category_id]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:x.ozon,onChange:_=>y(E=>({...E,ozon:_.target.value})),onKeyDown:_=>_.key==="Enter"&&w("ozon"),placeholder:"  Ozon ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 outline-none"}),a.jsx("button",{onClick:()=>w("ozon"),disabled:h.ozon||x.ozon.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:h.ozon?"...":""})]}),g.ozon.length>0&&a.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:g.ozon.map((_,E)=>a.jsxs("button",{onClick:()=>C("ozon",_),className:"w-full px-4 py-2 text-left hover:bg-blue-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[a.jsx("div",{className:"font-medium text-white",children:_.category_name||_.name}),a.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",_.category_id||_.id,_.type_id&&` | Type: ${_.type_id}`]})]},E))})]}),a.jsxs("div",{className:"mb-4 p-4 bg-[#1F2937] border-l-4 border-purple-500 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h4",{className:"font-bold text-purple-400",children:"Wildberries"}),m.wb_category_id&&a.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[a.jsx(Vt,{size:12})," : ",m.wb_category_id]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:x.wb,onChange:_=>y(E=>({...E,wb:_.target.value})),onKeyDown:_=>_.key==="Enter"&&w("wb"),placeholder:"  Wildberries ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 outline-none"}),a.jsx("button",{onClick:()=>w("wb"),disabled:h.wb||x.wb.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-purple-500 text-white rounded text-sm hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed",children:h.wb?"...":""})]}),g.wb.length>0&&a.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:g.wb.map((_,E)=>a.jsxs("button",{onClick:()=>C("wb",_),className:"w-full px-4 py-2 text-left hover:bg-purple-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[a.jsx("div",{className:"font-medium text-white",children:_.category_name||_.name}),a.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",_.category_id||_.id]})]},E))})]}),a.jsxs("div",{className:"p-4 bg-[#1F2937] border-l-4 border-yellow-500 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h4",{className:"font-bold text-yellow-400",children:" "}),m.yandex_category_id&&a.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded flex items-center gap-1",children:[a.jsx(Vt,{size:12})," : ",m.yandex_category_id]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:x.yandex,onChange:_=>y(E=>({...E,yandex:_.target.value})),onKeyDown:_=>_.key==="Enter"&&w("yandex"),placeholder:"    ( 2 )...",className:"w-full px-4 py-2 pr-24 bg-[#0F172A] border border-[#334155] rounded-lg text-white focus:border-yellow-500 focus:ring-2 focus:ring-yellow-500/50 outline-none"}),a.jsx("button",{onClick:()=>w("yandex"),disabled:h.yandex||x.yandex.length<2,className:"absolute right-2 top-1.5 px-3 py-1.5 bg-yellow-500 text-black rounded text-sm hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed",children:h.yandex?"...":""})]}),g.yandex.length>0&&a.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-[#0F172A] border border-[#334155] rounded",children:g.yandex.map((_,E)=>a.jsxs("button",{onClick:()=>C("yandex",_),className:"w-full px-4 py-2 text-left hover:bg-yellow-500/20 border-b border-[#334155] last:border-b-0 transition-colors",children:[a.jsx("div",{className:"font-medium text-white",children:_.category_name||_.name}),a.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",_.category_id||_.id]})]},E))})]})]})]}),a.jsxs("div",{className:"px-6 py-4 border-t border-[#334155] flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>o(!1),className:"px-6 py-2 bg-[#374151] text-white rounded-lg hover:bg-[#4B5563] transition-colors",children:""}),a.jsxs("button",{onClick:P,className:"px-6 py-2 bg-[#06B6D4] text-[#0B1220] rounded-lg font-bold hover:bg-cyan-400 transition-colors flex items-center gap-2","data-testid":"save-category-button",children:[a.jsx(Pi,{})," "]})]})]})})]})})}function G0(){const{api:e}=Ne(),{id:t}=om(),r=Jr(),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,d]=f.useState([]),[c,u]=f.useState({warehouse_id:"",supplier_id:"",items:[]}),[m,p]=f.useState(""),[x,y]=f.useState(!1),[g,v]=f.useState(null);f.useEffect(()=>{h(),t&&b()},[t]);const h=async()=>{try{const[E,I,A]=await Promise.all([e.get("/api/warehouses"),e.get("/api/suppliers"),e.get("/api/catalog/products?limit=500")]);s(E.data),o(I.data),d(A.data)}catch(E){q.error("  "),console.error(E)}},b=async()=>{try{const E=await e.get(`/api/income-orders/${t}`);v(E.data),u({warehouse_id:E.data.warehouse_id||"",supplier_id:E.data.supplier_id||"",items:E.data.items||[]})}catch(E){q.error("  "),console.error(E)}},j=E=>{const I=c.items.find(A=>A.article===E.article);u(I?{...c,items:c.items.map(A=>A.article===E.article?{...A,quantity:A.quantity+1}:A)}:{...c,items:[...c.items,{article:E.article,name:E.name,quantity:1,purchase_price:0,additional_expenses:0,total:0}]}),p("")},k=(E,I,A)=>{const M=[...c.items];if(M[E][I]=A,I==="quantity"||I==="purchase_price"||I==="additional_expenses"){const B=M[E];B.total=(B.purchase_price+B.additional_expenses)*B.quantity}u({...c,items:M})},S=E=>{u({...c,items:c.items.filter((I,A)=>A!==E)})},N=async()=>{var E,I;if(!c.warehouse_id||!c.supplier_id){q.error("   ");return}y(!0);try{if(t)await e.put(`/api/income-orders/${t}`,c),q.success(" ");else{const A=await e.post("/api/income-orders",c);q.success(" "),r(`/income-orders/${A.data.order.id}/edit`)}}catch(A){q.error(((I=(E=A.response)==null?void 0:E.data)==null?void 0:I.detail)||" ")}y(!1)},P=async()=>{var E,I;if(!t){q.error("  ");return}if(confirm(" ?   !")){y(!0);try{await e.post(`/api/income-orders/${t}/accept`),q.success(" !  ."),r("/income-orders")}catch(A){q.error(((I=(E=A.response)==null?void 0:E.data)==null?void 0:I.detail)||" ")}y(!1)}},w=async()=>{var E,I;if(confirm(" ?   !")){y(!0);try{await e.post(`/api/income-orders/${t}/cancel`),q.success(" "),b()}catch(A){q.error(((I=(E=A.response)==null?void 0:E.data)==null?void 0:I.detail)||" ")}y(!1)}},C=l.filter(E=>{var I,A;return((I=E.article)==null?void 0:I.toLowerCase().includes(m.toLowerCase()))||((A=E.name)==null?void 0:A.toLowerCase().includes(m.toLowerCase()))}),O=c.items.reduce((E,I)=>({quantity:E.quantity+(I.quantity||0),amount:E.amount+(I.total||0)}),{quantity:0,amount:0}),_=(g==null?void 0:g.status)==="accepted";return a.jsx("div",{className:"min-h-screen bg-mm-black text-mm-text p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-mm-cyan uppercase mb-2","data-testid":"form-title",children:t?` #${t.substring(0,8)}`:" "}),a.jsx("p",{className:"text-mm-text-secondary text-sm",children:_?"// ":"// "})]}),a.jsx("div",{className:"flex items-center space-x-2",children:_?a.jsxs("span",{className:"px-4 py-2 bg-mm-green/20 text-mm-green border border-mm-green uppercase text-sm font-mono",children:[a.jsx(FiCheck,{className:"inline mr-2"}),""]}):a.jsx("span",{className:"px-4 py-2 bg-mm-yellow/20 text-mm-yellow border border-mm-yellow uppercase text-sm font-mono",children:""})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card-neon","data-testid":"warehouse-supplier-section",children:[a.jsx("h3",{className:"text-mm-cyan uppercase text-sm mb-4",children:" "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:"  *"}),a.jsxs("select",{value:c.warehouse_id,onChange:E=>u({...c,warehouse_id:E.target.value}),className:"input-neon w-full",disabled:_,"data-testid":"warehouse-select",required:!0,children:[a.jsx("option",{value:"",children:" ..."}),n.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2 text-mm-text-secondary uppercase",children:" *"}),a.jsxs("select",{value:c.supplier_id,onChange:E=>u({...c,supplier_id:E.target.value}),className:"input-neon w-full",disabled:_,"data-testid":"supplier-select",required:!0,children:[a.jsx("option",{value:"",children:" ..."}),i.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]})]})]}),a.jsxs("div",{className:"card-neon bg-mm-darker","data-testid":"totals-section",children:[a.jsx("h3",{className:"text-mm-cyan uppercase text-sm mb-4",children:""}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsx("span",{className:"text-2xl font-mono font-bold text-mm-text",children:c.items.length})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" :"}),a.jsx("span",{className:"text-2xl font-mono font-bold text-mm-cyan",children:O.quantity})]}),a.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsxs("span",{className:"text-2xl font-mono font-bold text-mm-green",children:[(O.amount/100).toFixed(2)," "]})]})]})]})]}),!_&&a.jsxs("div",{className:"card-neon","data-testid":"add-products-section",children:[a.jsx("h3",{className:"text-mm-cyan uppercase text-sm mb-4",children:" "}),a.jsxs("div",{className:"relative",children:[a.jsx(ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-mm-text-tertiary"}),a.jsx("input",{type:"text",value:m,onChange:E=>p(E.target.value),className:"input-neon w-full pl-10",placeholder:"    ...","data-testid":"product-search-input"})]}),m&&C.length>0&&a.jsx("div",{className:"mt-2 max-h-60 overflow-y-auto border border-mm-border bg-mm-darker",children:C.slice(0,10).map(E=>a.jsxs("button",{onClick:()=>j(E),className:"w-full text-left px-4 py-3 hover:bg-mm-gray transition-colors border-b border-mm-border last:border-b-0","data-testid":`add-product-${E.article}`,children:[a.jsx("div",{className:"font-mono text-sm text-mm-cyan",children:E.article}),a.jsx("div",{className:"text-sm text-mm-text-secondary",children:E.name})]},E.article))})]}),c.items.length>0&&a.jsx("div",{className:"card-neon overflow-hidden","data-testid":"items-table",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" ()"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" ()"}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" ()"}),!_&&a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:c.items.map((E,I)=>a.jsxs("tr",{className:"border-b border-mm-border","data-testid":`item-row-${I}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:E.article}),a.jsx("td",{className:"py-4 px-4 text-sm",children:E.name}),a.jsx("td",{className:"py-4 px-4",children:_?a.jsx("div",{className:"text-center font-mono font-bold",children:E.quantity}):a.jsx("input",{type:"number",min:"1",value:E.quantity,onChange:A=>k(I,"quantity",parseInt(A.target.value)||0),className:"input-neon w-24 text-center font-mono","data-testid":`quantity-${I}`})}),a.jsx("td",{className:"py-4 px-4",children:_?a.jsx("div",{className:"text-right font-mono",children:(E.purchase_price/100).toFixed(2)}):a.jsx("input",{type:"number",min:"0",step:"0.01",value:(E.purchase_price/100).toFixed(2),onChange:A=>k(I,"purchase_price",Math.round(parseFloat(A.target.value||0)*100)),className:"input-neon w-32 text-right font-mono","data-testid":`purchase-price-${I}`})}),a.jsx("td",{className:"py-4 px-4",children:_?a.jsx("div",{className:"text-right font-mono",children:(E.additional_expenses/100).toFixed(2)}):a.jsx("input",{type:"number",min:"0",step:"0.01",value:(E.additional_expenses/100).toFixed(2),onChange:A=>k(I,"additional_expenses",Math.round(parseFloat(A.target.value||0)*100)),className:"input-neon w-32 text-right font-mono","data-testid":`expenses-${I}`})}),a.jsx("td",{className:"py-4 px-4 text-right font-mono font-bold text-mm-green",children:(E.total/100).toFixed(2)}),!_&&a.jsx("td",{className:"py-4 px-4 text-center",children:a.jsx("button",{onClick:()=>S(I),className:"px-2 py-2 border border-mm-red text-mm-red hover:bg-mm-red/10 transition-colors","data-testid":`remove-item-${I}`,children:a.jsx(bn,{size:16})})})]},I))})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>r("/income-orders"),className:"btn-secondary","data-testid":"back-btn",children:"   "}),a.jsxs("div",{className:"flex items-center space-x-3",children:[!_&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:N,disabled:x||!c.warehouse_id||!c.supplier_id,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50","data-testid":"save-draft-btn",children:[a.jsx(Pi,{}),a.jsx("span",{children:" "})]}),a.jsxs("button",{onClick:P,disabled:x||!t||c.items.length===0,className:"btn-primary flex items-center space-x-2 disabled:opacity-50 bg-mm-green border-mm-green hover:bg-mm-green/20","data-testid":"accept-btn",children:[a.jsx(ul,{}),a.jsx("span",{children:""})]})]}),_&&a.jsxs("button",{onClick:w,disabled:x,className:"btn-secondary flex items-center space-x-2 border-mm-red text-mm-red hover:bg-mm-red/10","data-testid":"cancel-btn",children:[a.jsx(Uy,{}),a.jsx("span",{children:" "})]})]})]})]})})}function k_({type:e="fbs",onClose:t,onSuccess:r}){const{api:n}=Ne(),[s,i]=f.useState(!1),[o,l]=f.useState([]),[d,c]=f.useState(!0),[u,m]=f.useState({integration_id:"",date_from:new Date(Date.now()-180*24*60*60*1e3).toISOString().split("T")[0],date_to:new Date().toISOString().split("T")[0],update_stock:!0});f.useEffect(()=>{p()},[]);const p=async()=>{try{c(!0);const v=(await n.get("/api/seller/api-keys")).data||[],h=e==="fbo"?v.filter(b=>b.marketplace==="ozon"):v;if(l(h),h.length>0){const b=h[h.length-1];m(j=>({...j,integration_id:b.id}))}}catch(g){console.error("Failed to load integrations:",g),q.error("  ")}finally{c(!1)}},x=async()=>{var g,v;if(!u.integration_id){q.error(" ");return}if(!u.date_from||!u.date_to){q.error(" ");return}try{i(!0);const h=e==="fbs"?"/api/orders/fbs/import":"/api/orders/fbo/import",b=e==="fbs"?{...u}:{integration_id:u.integration_id,date_from:u.date_from,date_to:u.date_to},j=await n.post(h,b),k=e==="fbs"&&u.update_stock?` ${j.data.imported} ,  ${j.data.stock_updated} `:` ${j.data.imported}  (  )`;q.success(k),r(),t()}catch(h){console.error("Failed to import orders:",h),q.error(((v=(g=h.response)==null?void 0:g.data)==null?void 0:v.detail)||"  ")}finally{i(!1)}},y=g=>{const h={ozon:"Ozon",wb:"Wildberries",yandex:"Yandex Market"}[g.marketplace]||g.marketplace;return g.name||`${h} (${g.client_id||"API"})`};return d?a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-mm-darker border border-mm-cyan rounded-lg p-6",children:a.jsx("p",{className:"text-mm-cyan font-mono",children:" ..."})})}):o.length===0?a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:t,children:a.jsxs("div",{className:"bg-mm-darker border border-mm-red rounded-lg p-6 max-w-md",onClick:g=>g.stopPropagation(),children:[a.jsx("h3",{className:"text-xl font-mono text-mm-red mb-4",children:"   "}),a.jsx("p",{className:"text-mm-text-secondary mb-4",children:e==="fbo"?"  FBO    Ozon.":"      ."}),a.jsx("p",{className:"text-sm text-mm-text-tertiary mb-4",children:'   ""   API .'}),a.jsx("button",{onClick:t,className:"btn-neon w-full",children:""})]})}):a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:t,children:a.jsxs("div",{className:"bg-mm-darker border border-mm-cyan rounded-lg p-6 max-w-2xl w-full mx-4",onClick:g=>g.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-mono text-mm-cyan uppercase",children:["  ",e==="fbs"?"FBS":"FBO"]}),a.jsx("button",{onClick:t,className:"text-mm-text-secondary hover:text-mm-cyan transition-colors",children:a.jsx(ht,{size:24})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" *"}),a.jsx("select",{className:"input-neon w-full",value:u.integration_id,onChange:g=>m({...u,integration_id:g.target.value}),children:o.map(g=>a.jsx("option",{value:g.id,children:y(g)},g.id))}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-1",children:'//      ""'})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:"  *"}),a.jsx("input",{type:"date",className:"input-neon w-full",value:u.date_from,onChange:g=>m({...u,date_from:g.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:"  *"}),a.jsx("input",{type:"date",className:"input-neon w-full",value:u.date_to,onChange:g=>m({...u,date_to:g.target.value})})]})]}),e==="fbs"&&a.jsxs("label",{className:"flex items-center space-x-3 border border-mm-border p-4 rounded hover:border-mm-cyan transition-colors cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:u.update_stock,onChange:g=>m({...u,update_stock:g.target.checked}),className:"toggle-switch"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-mm-text",children:" "}),a.jsx("div",{className:"text-xs text-mm-text-tertiary",children:"     "})]})]}),e==="fbo"&&a.jsx("div",{className:"bg-mm-purple/10 border border-mm-purple p-4 rounded",children:a.jsx("p",{className:"text-sm text-mm-text-secondary font-mono",children:" FBO      (  )"})}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx("button",{onClick:t,className:"btn-neon-outline",disabled:s,children:""}),a.jsxs("button",{onClick:x,disabled:s,className:"btn-neon flex items-center space-x-2",children:[a.jsx(ut,{}),a.jsx("span",{children:s?"...":" "})]})]})]})]})})}function SM({order:e,onStatusUpdate:t}){var d,c,u,m,p,x;const{api:r}=Ne(),[n,s]=f.useState(!1),i=y=>{const v={new:{color:"bg-mm-blue/20 text-mm-blue border-mm-blue",label:""},awaiting_shipment:{color:"bg-mm-yellow/20 text-mm-yellow border-mm-yellow",label:" "},delivering:{color:"bg-mm-cyan/20 text-mm-cyan border-mm-cyan",label:""},delivered:{color:"bg-mm-green/20 text-mm-green border-mm-green",label:""},cancelled:{color:"bg-mm-red/20 text-mm-red border-mm-red",label:""},imported:{color:"bg-mm-blue/20 text-mm-blue border-mm-blue",label:""}}[y]||{color:"bg-mm-gray text-mm-text-secondary border-mm-border",label:y};return a.jsx("span",{className:`px-3 py-1 text-sm font-mono border rounded ${v.color}`,children:v.label})},o=async()=>{var y,g;try{s(!0);const v=await r.get(`/api/orders/fbs/${e.id}/label`);v.data.label_url?(window.open(v.data.label_url,"_blank"),q.success(" ")):q.error(" ")}catch(v){console.error("Failed to print label:",v),q.error("  : "+(((g=(y=v.response)==null?void 0:y.data)==null?void 0:g.detail)||v.message))}finally{s(!1)}},l=async()=>{try{s(!0),await r.post(`/api/orders/fbs/${e.id}/label/refresh`),q.success(" ")}catch(y){console.error("Failed to refresh label:",y),q.error("  ")}finally{s(!1)}};return a.jsxs("div",{className:"space-y-6","data-testid":"order-info-tab",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"//  "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.order_number})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-cyan font-mono uppercase",children:e.marketplace})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),i(e.status)]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"//  "}),a.jsx("p",{className:"text-mm-text font-mono",children:new Date(e.created_at).toLocaleString("ru-RU")})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// External ID"}),a.jsx("p",{className:"text-mm-text font-mono",children:e.external_order_id})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.warehouse_id})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"//  "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.stock_updated?"":""})]})]})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsxs("h3",{className:"flex items-center space-x-2 text-sm uppercase font-mono text-mm-cyan mb-4",children:[a.jsx(Oi,{}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:((d=e.customer)==null?void 0:d.full_name)||" "})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:((c=e.customer)==null?void 0:c.phone)||" "})]}),((u=e.customer)==null?void 0:u.address)&&a.jsxs("div",{className:"col-span-2",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text font-mono",children:e.customer.address})]})]})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsxs("h3",{className:"flex items-center space-x-2 text-sm uppercase font-mono text-mm-cyan mb-4",children:[a.jsx(yt,{}),a.jsx("span",{children:" "})]}),a.jsx("div",{className:"border border-mm-border rounded overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-mm-border/30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:"-"}),a.jsx("th",{className:"text-right py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-xs text-mm-text-secondary uppercase font-mono",children:""})]})}),a.jsx("tbody",{children:(m=e.items)==null?void 0:m.map((y,g)=>a.jsxs("tr",{className:"border-t border-mm-border",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text",children:y.article}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text",children:y.name}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text text-right",children:y.quantity}),a.jsxs("td",{className:"py-3 px-4 font-mono text-sm text-mm-text text-right",children:[y.price.toFixed(2)," "]}),a.jsxs("td",{className:"py-3 px-4 font-mono text-sm text-mm-cyan text-right",children:[y.total.toFixed(2)," "]})]},g))}),a.jsx("tfoot",{className:"bg-mm-border/30 border-t border-mm-border",children:a.jsxs("tr",{children:[a.jsx("td",{colSpan:"4",className:"py-3 px-4 text-sm font-mono text-mm-text-secondary text-right uppercase",children:":"}),a.jsxs("td",{className:"py-3 px-4 font-mono text-lg text-mm-cyan text-right font-bold",children:[((x=(p=e.totals)==null?void 0:p.total)==null?void 0:x.toFixed(2))||"0.00"," "]})]})})]})})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsx("h3",{className:"text-sm uppercase font-mono text-mm-cyan mb-4",children:"//   "}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("button",{onClick:o,disabled:n,className:"btn-neon flex items-center space-x-2","data-testid":"print-label-btn",children:[a.jsx(c_,{}),a.jsx("span",{children:n?"...":" "})]}),a.jsxs("button",{onClick:l,disabled:n,className:"px-4 py-2 font-mono text-sm border border-mm-border rounded hover:bg-mm-border transition-colors flex items-center space-x-2","data-testid":"refresh-label-btn",children:[a.jsx(pt,{className:n?"animate-spin":""}),a.jsx("span",{children:""})]})]})]})]})}function CM({order:e,onSplit:t}){const[r,n]=f.useState([{box_number:1,items:e.items.map(u=>({...u}))}]),s=()=>{n([...r,{box_number:r.length+1,items:[]}]),q.success(" ")},i=u=>{if(r.length===1){q.error("   ");return}const m=r.filter((p,x)=>x!==u);n(m),q.success(" ")},o=(u,m,p)=>{const x=[...r];x[u].items[m].quantity=parseInt(p)||0,n(x)},l=(u,m,p)=>{const x=[...r],y=x[u].items[m];x[u].items.splice(m,1),x[p].items.push({...y}),n(x),q.success(" ")},d=async()=>{const u={};e.items.forEach(x=>{u[x.article]=x.quantity});const m={};r.forEach(x=>{x.items.forEach(y=>{m[y.article]=(m[y.article]||0)+y.quantity})});for(const x in u)if(!m[x]||m[x]!==u[x]){q.error(`    ${x}. : ${u[x]}, : ${m[x]||0}`);return}if(r.some(x=>x.items.length===0)){q.error("  ");return}const p={boxes:r.map(x=>({box_number:x.box_number,items:x.items.map(y=>({article:y.article,quantity:y.quantity}))}))};await t(p)},c=e.marketplace!=="wb"&&r.length>1;return e.marketplace==="wb"?a.jsxs("div",{className:"text-center py-12","data-testid":"order-split-tab",children:[a.jsx(yt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary font-mono mb-2",children:"//      Wildberries"}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono",children:"Wildberries    "})]}):a.jsxs("div",{className:"space-y-6","data-testid":"order-split-tab",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm uppercase font-mono text-mm-cyan",children:"//   "}),a.jsx("p",{className:"text-xs text-mm-text-secondary font-mono mt-1",children:"   .    ."})]}),a.jsxs("button",{onClick:s,className:"btn-neon flex items-center space-x-2","data-testid":"add-box-btn",children:[a.jsx(Dr,{}),a.jsx("span",{children:" "})]})]}),a.jsx("div",{className:"space-y-4",children:r.map((u,m)=>a.jsxs("div",{className:"border border-mm-border rounded-lg p-4","data-testid":`box-${m}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h4",{className:"font-mono text-mm-cyan uppercase",children:[" #",u.box_number]}),r.length>1&&a.jsx("button",{onClick:()=>i(m),className:"p-2 text-mm-red hover:bg-mm-red/10 rounded transition-colors","data-testid":`remove-box-${m}`,children:a.jsx(bn,{size:16})})]}),u.items.length===0?a.jsx("p",{className:"text-sm text-mm-text-secondary font-mono text-center py-4",children:"//  .      ."}):a.jsx("div",{className:"space-y-2",children:u.items.map((p,x)=>a.jsxs("div",{className:"flex items-center justify-between bg-mm-border/20 p-3 rounded",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-mono text-mm-text",children:p.name}),a.jsxs("p",{className:"text-xs text-mm-text-secondary font-mono",children:[": ",p.article]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary uppercase font-mono block mb-1",children:"-:"}),a.jsx("input",{type:"number",min:"0",max:p.quantity,value:p.quantity,onChange:y=>o(m,x,y.target.value),className:"w-20 px-2 py-1 bg-mm-dark border border-mm-border rounded text-mm-text font-mono text-center focus:border-mm-cyan outline-none","data-testid":`item-quantity-${m}-${x}`})]}),r.length>1&&a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary uppercase font-mono block mb-1",children:" :"}),a.jsx("select",{onChange:y=>{const g=parseInt(y.target.value);g!==m&&l(m,x,g)},value:m,className:"px-2 py-1 bg-mm-dark border border-mm-border rounded text-mm-text font-mono focus:border-mm-cyan outline-none",children:r.map((y,g)=>a.jsxs("option",{value:g,children:["#",g+1]},g))})]})]})]},x))})]},m))}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-mm-border",children:a.jsx("button",{onClick:d,disabled:!c,className:"btn-neon disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"save-split-btn",children:" "})}),r.length===1&&a.jsx("p",{className:"text-xs text-mm-text-tertiary font-mono text-center",children:"//       "})]})}function PM({history:e}){const t=r=>({status_changed:" ",split:" ",label_printed:" ",label_refreshed:" ",note_added:" ",created:""})[r]||r;return!e||e.length===0?a.jsxs("div",{className:"text-center py-12","data-testid":"order-history-tab",children:[a.jsx(ea,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary font-mono mb-2",children:"//   "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono",children:"     "})]}):a.jsxs("div",{className:"space-y-4","data-testid":"order-history-tab",children:[a.jsx("h3",{className:"text-sm uppercase font-mono text-mm-cyan mb-4",children:"//  "}),a.jsx("div",{className:"space-y-3",children:e.map((r,n)=>a.jsxs("div",{className:"border border-mm-border rounded-lg p-4 hover:bg-mm-border/10 transition-colors","data-testid":`history-entry-${n}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-mm-cyan/10 rounded",children:a.jsx(ea,{className:"text-mm-cyan",size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-mono text-mm-text",children:t(r.action||"status_changed")}),a.jsx("p",{className:"text-xs text-mm-text-secondary font-mono",children:new Date(r.changed_at||r.timestamp).toLocaleString("ru-RU")})]})]}),r.changed_by&&a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-mm-text-secondary font-mono",children:[a.jsx(Oi,{size:12}),a.jsx("span",{children:r.changed_by})]})]}),r.status&&a.jsxs("div",{className:"mt-3 pl-11",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-1",children:"// "}),a.jsx("p",{className:"text-sm font-mono text-mm-cyan",children:r.status})]}),r.comment&&a.jsxs("div",{className:"mt-3 pl-11",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-1",children:"// "}),a.jsx("p",{className:"text-sm font-mono text-mm-text",children:r.comment})]}),r.details&&a.jsxs("div",{className:"mt-3 pl-11",children:[a.jsx("p",{className:"text-xs text-mm-text-secondary uppercase font-mono mb-1",children:"// "}),a.jsx("pre",{className:"text-xs font-mono text-mm-text-tertiary bg-mm-dark p-2 rounded overflow-x-auto",children:JSON.stringify(r.details,null,2)})]})]},n))})]})}function EM({order:e,isOpen:t,onClose:r,onUpdate:n}){const{api:s}=Ne(),[i,o]=f.useState("info"),[l,d]=f.useState(e),[c,u]=f.useState(!1);f.useEffect(()=>{e&&t&&m()},[e,t]);const m=async()=>{try{u(!0);const g=await s.get(`/api/orders/fbs/${e.id}`);d(g.data)}catch(g){console.error("Failed to load order details:",g),q.error("   ")}finally{u(!1)}},p=async g=>{var v,h;try{await s.post(`/api/orders/fbs/${e.id}/split`,g),q.success("  "),await m(),n&&n()}catch(b){console.error("Failed to split order:",b),q.error("  : "+(((h=(v=b.response)==null?void 0:v.data)==null?void 0:h.detail)||b.message))}},x=async(g,v)=>{try{await s.put(`/api/orders/fbs/${e.id}/status`,{status:g,comment:v}),q.success("  "),await m(),n&&n()}catch(h){console.error("Failed to update status:",h),q.error("  ")}};if(!t||!l)return null;const y=[{id:"info",label:" ",icon:Fy},{id:"split",label:" ",icon:yt},{id:"history",label:" ",icon:ea}];return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-mm-dark/80 backdrop-blur-sm","data-testid":"order-detail-modal",children:a.jsxs("div",{className:"card-neon w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-mm-border p-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-mono text-mm-cyan uppercase mb-1",children:[" ",l.order_number]}),a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:["// ",l.marketplace.toUpperCase()," | ",new Date(l.created_at).toLocaleString("ru-RU")]})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-mm-border rounded transition-colors","data-testid":"close-modal",children:a.jsx(ht,{size:24,className:"text-mm-text-secondary"})})]}),a.jsx("div",{className:"flex border-b border-mm-border px-6",children:y.map(g=>a.jsxs("button",{onClick:()=>o(g.id),className:`flex items-center space-x-2 px-4 py-3 font-mono text-sm transition-colors border-b-2 ${i===g.id?"border-mm-cyan text-mm-cyan":"border-transparent text-mm-text-secondary hover:text-mm-text"}`,"data-testid":`tab-${g.id}`,children:[a.jsx(g.icon,{size:16}),a.jsx("span",{children:g.label})]},g.id))}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:c?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):a.jsxs(a.Fragment,{children:[i==="info"&&a.jsx(SM,{order:l,onStatusUpdate:x}),i==="split"&&a.jsx(CM,{order:l,onSplit:p}),i==="history"&&a.jsx(PM,{history:l.status_history||[]})]})}),a.jsx("div",{className:"border-t border-mm-border p-6 flex justify-end space-x-4",children:a.jsx("button",{onClick:r,className:"px-6 py-2 font-mono text-mm-text-secondary border border-mm-border rounded hover:bg-mm-border transition-colors",children:""})})]})})}function OM({activeStatus:e,onStatusChange:t,stats:r}){const n=[{key:"all",label:"",color:"text-mm-text"},{key:"new",label:"",color:"text-mm-blue"},{key:"imported",label:"",color:"text-mm-blue"},{key:"awaiting_shipment",label:" ",color:"text-mm-yellow"},{key:"delivering",label:" ",color:"text-mm-cyan"},{key:"delivered",label:"",color:"text-mm-green"},{key:"cancelled",label:"",color:"text-mm-red"}],s=i=>i==="all"?r.total||0:r[i]||0;return a.jsx("div",{className:"flex flex-wrap gap-2 mb-6","data-testid":"status-filters",children:n.map(i=>a.jsxs("button",{onClick:()=>t(i.key),className:`px-4 py-2 rounded border font-mono text-sm transition-all ${e===i.key?`${i.color} border-current bg-current/10`:"text-mm-text-secondary border-mm-border hover:border-mm-text-secondary"}`,"data-testid":`status-filter-${i.key}`,children:[i.label,a.jsx("span",{className:"ml-2 opacity-70",children:s(i.key)})]},i.key))})}function AM({selectedCount:e,onPrintLabels:t,onExportExcel:r,onChangeStatus:n,onClearSelection:s}){return e===0?null:a.jsxs("div",{className:"fixed bottom-8 right-8 card-neon p-6 shadow-2xl z-40 min-w-96","data-testid":"bulk-actions-panel",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-mm-text-secondary uppercase font-mono",children:"// "}),a.jsx("p",{className:"text-2xl text-mm-cyan font-mono font-bold",children:e})]}),a.jsx("button",{onClick:s,className:"p-2 hover:bg-mm-border rounded transition-colors","data-testid":"clear-selection",children:a.jsx(ht,{size:20,className:"text-mm-text-secondary"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:t,className:"w-full btn-neon flex items-center justify-center space-x-2","data-testid":"bulk-print-labels",children:[a.jsx(c_,{}),a.jsx("span",{children:" "})]}),a.jsxs("button",{onClick:r,className:"w-full px-4 py-2 bg-mm-green/20 text-mm-green border border-mm-green rounded hover:bg-mm-green/30 transition-colors font-mono text-sm flex items-center justify-center space-x-2","data-testid":"bulk-export-excel",children:[a.jsx(ut,{}),a.jsx("span",{children:"  EXCEL"})]}),a.jsxs("button",{onClick:n,className:"w-full px-4 py-2 bg-mm-border/50 text-mm-text border border-mm-border rounded hover:bg-mm-border transition-colors font-mono text-sm flex items-center justify-center space-x-2","data-testid":"bulk-change-status",children:[a.jsx(Ka,{}),a.jsx("span",{children:" "})]})]})]})}function TM(){const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState([]),[i,o]=f.useState(!1),[l,d]=f.useState(!1),[c,u]=f.useState(null),[m,p]=f.useState(!1),[x,y]=f.useState("all"),[g,v]=f.useState([]),[h,b]=f.useState({}),[j,k]=f.useState(!1),[S,N]=f.useState("");f.useEffect(()=>{P()},[]),f.useEffect(()=>{C()},[t,x,S]);const P=async()=>{try{o(!0);const z=await e.get("/api/orders/fbs");r(z.data),w(z.data)}catch(z){console.error("Failed to load FBS orders:",z)}finally{o(!1)}},w=z=>{const Q={total:z.length,new:0,imported:0,awaiting_shipment:0,delivering:0,delivered:0,cancelled:0};z.forEach(T=>{Q.hasOwnProperty(T.status)&&Q[T.status]++}),b(Q)},C=()=>{let z=t;if(x!=="all"&&(z=z.filter(Q=>Q.status===x)),S.trim()){const Q=S.toLowerCase().trim();z=z.filter(T=>{var $,Y;const Z=($=T.items)==null?void 0:$.some(le=>{var se,K;return((se=le.article)==null?void 0:se.toLowerCase().includes(Q))||((K=le.name)==null?void 0:K.toLowerCase().includes(Q))}),te=(Y=T.order_number)==null?void 0:Y.toLowerCase().includes(Q);return Z||te})}s(z)},O=z=>{u(z),p(!0)},_=()=>{p(!1),u(null)},E=()=>{P()},I=z=>{v(Q=>Q.includes(z)?Q.filter(T=>T!==z):[...Q,z])},A=()=>{g.length===n.length?v([]):v(n.map(z=>z.id))},M=async()=>{try{q.loading(" ...");const z=await e.post("/api/orders/fbs/labels/bulk",{order_ids:g});z.data.labels.forEach((Q,T)=>{setTimeout(()=>{window.open(Q.label_url,"_blank")},T*500)}),q.dismiss(),q.success(` ${z.data.labels.length} `),z.data.errors.length>0&&q.warning(`: ${z.data.errors.length}`)}catch{q.dismiss(),q.error("  ")}},B=async()=>{try{q.loading(" ...");const z=n.filter(Y=>g.includes(Y.id)),Q=["ID ",""," ","","","",""," "],T=z.map(Y=>{var le,se,K;return[Y.order_number,Y.marketplace.toUpperCase(),new Date(Y.created_at).toLocaleString("ru-RU"),Y.status,((le=Y.customer)==null?void 0:le.full_name)||"",(se=Y.items)==null?void 0:se.map(ue=>`${ue.article} (${ue.quantity})`).join("; "),((K=Y.totals)==null?void 0:K.total)||0,Y.stock_updated?"":""]}),Z=[Q.join(","),...T.map(Y=>Y.map(le=>`"${le}"`).join(","))].join(`
`),te=new Blob(["\uFEFF"+Z],{type:"text/csv;charset=utf-8;"}),$=document.createElement("a");$.href=URL.createObjectURL(te),$.download=`orders_fbs_${new Date().toISOString().split("T")[0]}.csv`,$.click(),q.dismiss(),q.success(" ")}catch{q.dismiss(),q.error(" ")}},H=()=>{q.info("  ")},R=async()=>{var z,Q;try{k(!0),q.loading("   ...");const T=await e.post("/api/orders/fbs/refresh-statuses",{});q.dismiss(),q.success(` : ${T.data.updated}`),await P()}catch(T){q.dismiss(),q.error("  : "+(((Q=(z=T.response)==null?void 0:z.data)==null?void 0:Q.detail)||T.message))}finally{k(!1)}},L=z=>{const T={new:{color:"text-mm-blue border-mm-blue",label:""},awaiting_shipment:{color:"text-mm-yellow border-mm-yellow",label:" "},delivering:{color:"text-mm-cyan border-mm-cyan",label:""},delivered:{color:"text-mm-green border-mm-green",label:""},cancelled:{color:"text-mm-red border-mm-red",label:""},imported:{color:"text-mm-blue border-mm-blue",label:""}}[z]||{color:"text-mm-text-secondary border-mm-border",label:z};return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${T.color} rounded`,children:T.label})};return a.jsxs("div",{className:"space-y-4","data-testid":"fbs-orders-list",children:[a.jsx(OM,{activeStatus:x,onStatusChange:y,stats:h}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(yt,{className:"text-mm-cyan"}),a.jsx("input",{type:"text",placeholder:"  ,     ...",value:S,onChange:z=>N(z.target.value),className:"input-neon flex-1","data-testid":"search-input"}),S&&a.jsx("button",{onClick:()=>N(""),className:"text-mm-text-secondary hover:text-mm-cyan transition-colors",children:""})]}),S&&a.jsxs("p",{className:"text-xs text-mm-text-tertiary mt-2 font-mono",children:[" : ",n.length]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[" : ",a.jsx("span",{className:"text-mm-cyan",children:n.length}),g.length>0&&a.jsxs("span",{className:"ml-4",children:[": ",a.jsx("span",{className:"text-mm-cyan",children:g.length})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:R,disabled:j,className:"px-4 py-2 border border-mm-cyan text-mm-cyan rounded hover:bg-mm-cyan/10 transition-colors font-mono text-sm flex items-center space-x-2 disabled:opacity-50","data-testid":"refresh-statuses-btn",children:[a.jsx(pt,{className:j?"animate-spin":""}),a.jsx("span",{children:j?"...":" "})]}),a.jsxs("button",{onClick:()=>d(!0),className:"btn-neon flex items-center space-x-2","data-testid":"open-import-modal",children:[a.jsx(ut,{}),a.jsx("span",{children:" "})]})]})]}),i?a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):n.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(yt,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2 font-mono",children:x==="all"?" FBS  ":`    "${x}"`}),a.jsxs("p",{className:"text-sm text-mm-text-tertiary font-mono mb-4",children:["// ",x==="all"?' " "  ':"    "]}),x==="all"&&a.jsxs("button",{onClick:()=>d(!0),className:"btn-neon inline-flex items-center space-x-2",children:[a.jsx(ut,{}),a.jsx("span",{children:" "})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"py-4 px-4",children:a.jsx("input",{type:"checkbox",checked:g.length===n.length&&n.length>0,onChange:A,className:"w-4 h-4 bg-mm-dark border-mm-border rounded cursor-pointer","data-testid":"select-all-checkbox"})}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:" "}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:n.map(z=>{var Q,T,Z;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${z.id}`,children:[a.jsx("td",{className:"py-4 px-4",children:a.jsx("input",{type:"checkbox",checked:g.includes(z.id),onChange:()=>I(z.id),className:"w-4 h-4 bg-mm-dark border-mm-border rounded cursor-pointer","data-testid":`select-order-${z.id}`})}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:z.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm uppercase",children:z.marketplace}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(z.created_at).toLocaleDateString("ru-RU")}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:((Q=z.items)==null?void 0:Q.length)>0?a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"text-mm-cyan text-xs mb-1",children:z.items.map(te=>te.article).join(", ")}),a.jsxs("div",{className:"text-mm-text-tertiary text-xs",children:[z.items.length," ",z.items.length===1?"":z.items.length<5?"":""]})]}):a.jsx("span",{className:"text-mm-text-tertiary",children:""})}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[(Z=(T=z.totals)==null?void 0:T.total)==null?void 0:Z.toLocaleString("ru-RU"),""]}),a.jsx("td",{className:"py-4 px-4",children:L(z.status)}),a.jsx("td",{className:"py-4 px-4 text-center",children:z.stock_updated?a.jsx("span",{className:"text-mm-green",children:""}):a.jsx("span",{className:"text-mm-text-tertiary",children:"-"})}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{onClick:()=>O(z),className:"btn-neon-sm flex items-center space-x-1 ml-auto","data-testid":`view-order-${z.id}`,children:[a.jsx(pm,{size:14}),a.jsx("span",{children:""})]})})]},z.id)})})]})})}),l&&a.jsx(k_,{type:"fbs",onClose:()=>d(!1),onSuccess:P}),m&&c&&a.jsx(EM,{order:c,isOpen:m,onClose:_,onUpdate:E}),a.jsx(AM,{selectedCount:g.length,onPrintLabels:M,onExportExcel:B,onChangeStatus:H,onClearSelection:()=>v([])})]})}function DM(){const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState(!1);f.useEffect(()=>{l()},[]);const l=async()=>{try{s(!0);const c=await e.get("/api/orders/fbo");r(c.data)}catch(c){console.error("Failed to load FBO orders:",c)}finally{s(!1)}},d=c=>{const m={processing:{color:"text-mm-blue border-mm-blue",label:""},shipped:{color:"text-mm-cyan border-mm-cyan",label:""},delivered:{color:"text-mm-green border-mm-green",label:""},cancelled:{color:"text-mm-red border-mm-red",label:""},imported:{color:"text-mm-blue border-mm-blue",label:""}}[c]||{color:"text-mm-text-secondary border-mm-border",label:c};return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${m.color} rounded`,children:m.label})};return a.jsxs("div",{className:"space-y-4","data-testid":"fbo-orders-list",children:[a.jsx("div",{className:"bg-mm-purple/10 border border-mm-purple p-4 rounded",children:a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[a.jsx("span",{className:"text-mm-purple font-bold",children:" FBO :"}),"    .    ,      ."]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[" : ",a.jsx("span",{className:"text-mm-purple",children:t.length})]}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon flex items-center space-x-2","data-testid":"open-import-modal",children:[a.jsx(ut,{}),a.jsx("span",{children:"  FBO"})]})]}),n?a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(f_,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2 font-mono",children:" FBO  "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono mb-4",children:'//  "  FBO"  '}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon inline-flex items-center space-x-2",children:[a.jsx(ut,{}),a.jsx("span",{children:"  FBO"})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:" "}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(c=>{var u,m,p;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${c.id}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-purple",children:c.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm uppercase",children:c.marketplace}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:c.warehouse_name}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(c.created_at).toLocaleDateString("ru-RU")}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[((u=c.items)==null?void 0:u.length)||0," "]}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[(p=(m=c.totals)==null?void 0:m.total)==null?void 0:p.toLocaleString("ru-RU"),""]}),a.jsx("td",{className:"py-4 px-4",children:d(c.status)}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{className:"btn-neon-sm flex items-center space-x-1 ml-auto","data-testid":`view-order-${c.id}`,children:[a.jsx(pm,{size:14}),a.jsx("span",{children:""})]})})]},c.id)})})]})})}),i&&a.jsx(k_,{type:"fbo",onClose:()=>o(!1),onSuccess:l})]})}function IM({onCancel:e,onSuccess:t}){const{api:r}=Ne(),[n,s]=f.useState([]),[i,o]=f.useState([]),[l,d]=f.useState(!1),[c,u]=f.useState({warehouse_id:"",order_date:new Date().toISOString().split("T")[0],customer:{full_name:"",phone:"",email:"",address:""},items:[],payment_method:"cash",notes:""}),[m,p]=f.useState(""),[x,y]=f.useState([]);f.useEffect(()=>{g(),v()},[]);const g=async()=>{try{const w=await r.get("/api/warehouses");s(w.data)}catch(w){console.error("Failed to load warehouses:",w),q.error("  ")}},v=async()=>{try{const w=await r.get("/api/catalog/products?limit=1000"),C=Array.isArray(w.data)?w.data:w.data.products||[];o(C),console.log(`Loaded ${C.length} products for search`)}catch(w){console.error("Failed to load products:",w),q.error("  ")}},h=w=>{if(p(w),!w){y([]);return}const C=i.filter(O=>{var _,E;return((_=O.article)==null?void 0:_.toLowerCase().includes(w.toLowerCase()))||((E=O.name)==null?void 0:E.toLowerCase().includes(w.toLowerCase()))});y(C.slice(0,10))},b=w=>{var O;if(c.items.find(_=>_.article===w.article)){q.warning("  ");return}const C={product_id:w.id,article:w.article,name:w.name,image:((O=w.images)==null?void 0:O[0])||null,price:w.price_with_discount/100||0,quantity:1,total:w.price_with_discount/100||0};u({...c,items:[...c.items,C]}),p(""),y([])},j=w=>{const C=c.items.filter((O,_)=>_!==w);u({...c,items:C})},k=(w,C)=>{const O=[...c.items];O[w].quantity=parseInt(C)||1,O[w].total=O[w].price*O[w].quantity,u({...c,items:O})},S=(w,C)=>{const O=[...c.items];O[w].price=parseFloat(C)||0,O[w].total=O[w].price*O[w].quantity,u({...c,items:O})},N=()=>c.items.reduce((w,C)=>w+C.total,0),P=async w=>{var C,O;if(w.preventDefault(),!c.warehouse_id){q.error(" ");return}if(c.items.length===0){q.error("    ");return}if(!c.customer.full_name||!c.customer.phone){q.error("  ");return}try{d(!0),await r.post("/api/orders/retail",c),t()}catch(_){console.error("Failed to create retail order:",_),q.error(((O=(C=_.response)==null?void 0:C.data)==null?void 0:O.detail)||"  ")}finally{d(!1)}};return a.jsxs("div",{className:"space-y-6","data-testid":"retail-order-form",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-mono text-mm-green uppercase",children:"  "}),a.jsx("button",{onClick:e,className:"btn-neon-sm","data-testid":"cancel-form",children:a.jsx(ht,{})})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("h4",{className:"text-sm font-mono text-mm-text-secondary mb-4 uppercase",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:"  *"}),a.jsx("input",{type:"date",className:"input-neon w-full",value:c.order_date,onChange:w=>u({...c,order_date:w.target.value}),required:!0,"data-testid":"order-date"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" *"}),a.jsxs("select",{className:"input-neon w-full",value:c.warehouse_id,onChange:w=>u({...c,warehouse_id:w.target.value}),required:!0,"data-testid":"select-warehouse",children:[a.jsx("option",{value:"",children:" "}),n.map(w=>a.jsx("option",{value:w.id,children:w.name},w.id))]})]})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("h4",{className:"text-sm font-mono text-mm-text-secondary mb-4 uppercase",children:""}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("input",{type:"text",placeholder:"  *",className:"input-neon",value:c.customer.full_name,onChange:w=>u({...c,customer:{...c.customer,full_name:w.target.value}}),required:!0,"data-testid":"customer-name"}),a.jsx("input",{type:"tel",placeholder:" *",className:"input-neon",value:c.customer.phone,onChange:w=>u({...c,customer:{...c.customer,phone:w.target.value}}),required:!0,"data-testid":"customer-phone"}),a.jsx("input",{type:"email",placeholder:"Email",className:"input-neon",value:c.customer.email,onChange:w=>u({...c,customer:{...c.customer,email:w.target.value}}),"data-testid":"customer-email"}),a.jsx("input",{type:"text",placeholder:"",className:"input-neon",value:c.customer.address,onChange:w=>u({...c,customer:{...c.customer,address:w.target.value}}),"data-testid":"customer-address"})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("h4",{className:"text-sm font-mono text-mm-text-secondary mb-4 uppercase",children:""}),a.jsxs("div",{className:"mb-4 relative",children:[a.jsx("input",{type:"text",placeholder:"     ...",className:"input-neon w-full",value:m,onChange:w=>h(w.target.value),"data-testid":"product-search"}),x.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-2 bg-mm-gray border border-mm-border rounded max-h-60 overflow-y-auto",children:x.map(w=>a.jsxs("div",{className:"p-3 hover:bg-mm-cyan/10 cursor-pointer border-b border-mm-border last:border-b-0",onClick:()=>b(w),"data-testid":`search-result-${w.id}`,children:[a.jsx("p",{className:"font-mono text-sm text-mm-cyan",children:w.article}),a.jsx("p",{className:"font-mono text-xs text-mm-text-secondary",children:w.name}),a.jsxs("p",{className:"font-mono text-xs text-mm-text-tertiary",children:[(w.price_with_discount/100).toFixed(2),""]})]},w.id))})]}),c.items.length===0?a.jsx("p",{className:"text-center text-mm-text-tertiary font-mono text-sm py-4",children:"//    "}):a.jsxs("div",{className:"space-y-2",children:[c.items.map((w,C)=>a.jsxs("div",{className:"flex items-center space-x-4 border border-mm-border rounded p-3","data-testid":`item-${C}`,children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-mono text-sm text-mm-cyan",children:w.article}),a.jsx("p",{className:"font-mono text-xs text-mm-text-secondary",children:w.name})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary block mb-1",children:"-"}),a.jsx("input",{type:"number",min:"1",className:"input-neon w-20 text-center",value:w.quantity,onChange:O=>k(C,O.target.value),"data-testid":`quantity-${C}`})]}),a.jsx("span",{className:"font-mono text-sm text-mm-text-secondary pt-5",children:""}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-mm-text-secondary block mb-1",children:", "}),a.jsx("input",{type:"number",min:"0",step:"0.01",className:"input-neon w-32 text-right",value:w.price,onChange:O=>S(C,O.target.value),"data-testid":`price-${C}`})]}),a.jsx("div",{className:"pt-5",children:a.jsx("span",{className:"font-mono text-sm text-mm-text-secondary",children:"="})}),a.jsx("div",{className:"pt-5",children:a.jsxs("span",{className:"font-mono text-sm text-mm-green w-32 text-right block font-bold",children:[w.total.toFixed(2),""]})}),a.jsx("button",{type:"button",onClick:()=>j(C),className:"text-mm-red hover:text-mm-red/80 pt-5","data-testid":`remove-${C}`,children:a.jsx(bn,{})})]})]},C)),a.jsx("div",{className:"border-t border-mm-border pt-4 mt-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-mono text-sm text-mm-text-secondary uppercase",children:":"}),a.jsxs("span",{className:"font-mono text-xl text-mm-green",children:[N().toFixed(2),""]})]})})]})]}),a.jsx("div",{className:"card-neon p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" "}),a.jsxs("select",{className:"input-neon w-full",value:c.payment_method,onChange:w=>u({...c,payment_method:w.target.value}),"data-testid":"payment-method",children:[a.jsx("option",{value:"cash",children:""}),a.jsx("option",{value:"card",children:""}),a.jsx("option",{value:"transfer",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:""}),a.jsx("input",{type:"text",className:"input-neon w-full",value:c.notes,onChange:w=>u({...c,notes:w.target.value}),placeholder:" ","data-testid":"notes"})]})]})}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:e,className:"btn-neon-outline",disabled:l,children:""}),a.jsx("button",{type:"submit",className:"btn-neon",disabled:l||c.items.length===0,"data-testid":"submit-order",children:l?"...":" "})]})]})]})}function MM(){const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState(!0),[i,o]=f.useState(!1),[l,d]=f.useState({status:"",date_from:"",date_to:""});f.useEffect(()=>{c()},[l]);const c=async()=>{try{s(!0);const x=new URLSearchParams;l.status&&x.append("status",l.status),l.date_from&&x.append("date_from",l.date_from),l.date_to&&x.append("date_to",l.date_to);const y=await e.get(`/api/orders/retail?${x.toString()}`);r(y.data)}catch(x){console.error("Failed to load retail orders:",x),q.error("   ")}finally{s(!1)}},u=()=>{o(!1),c(),q.success("   !")},m=x=>{const g={new:{color:"text-mm-blue border-mm-blue",label:""},processing:{color:"text-mm-yellow border-mm-yellow",label:""},completed:{color:"text-mm-green border-mm-green",label:""},cancelled:{color:"text-mm-red border-mm-red",label:""}}[x]||{color:"text-mm-text-secondary border-mm-border",label:x};return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${g.color} rounded`,children:g.label})},p=x=>{const y={reserved:{color:"text-mm-yellow border-mm-yellow",label:""},deducted:{color:"text-mm-green border-mm-green",label:""},returned:{color:"text-mm-blue border-mm-blue",label:""},none:{color:"text-mm-text-tertiary border-mm-border",label:"-"}},g=y[x]||y.none;return a.jsx("span",{className:`px-2 py-1 text-xs font-mono border ${g.color} rounded`,children:g.label})};return i?a.jsx(IM,{onCancel:()=>o(!1),onSuccess:u}):a.jsxs("div",{className:"space-y-4","data-testid":"retail-orders-list",children:[a.jsx("div",{className:"card-neon p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:""}),a.jsxs("select",{className:"input-neon w-full",value:l.status,onChange:x=>d({...l,status:x.target.value}),"data-testid":"filter-status",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"new",children:""}),a.jsx("option",{value:"processing",children:""}),a.jsx("option",{value:"completed",children:""}),a.jsx("option",{value:"cancelled",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" "}),a.jsx("input",{type:"date",className:"input-neon w-full",value:l.date_from,onChange:x=>d({...l,date_from:x.target.value}),"data-testid":"filter-date-from"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-mono text-mm-text-secondary mb-2",children:" "}),a.jsx("input",{type:"date",className:"input-neon w-full",value:l.date_to,onChange:x=>d({...l,date_to:x.target.value}),"data-testid":"filter-date-to"})]})]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-mm-text-secondary font-mono",children:[" : ",a.jsx("span",{className:"text-mm-green",children:t.length})]}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon flex items-center space-x-2","data-testid":"create-retail-order",children:[a.jsx(Dr,{}),a.jsx("span",{children:" "})]})]}),n?a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse font-mono",children:"// ..."})}):t.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx(u_,{className:"mx-auto text-mm-text-tertiary mb-4",size:48}),a.jsx("p",{className:"text-mm-text-secondary mb-2 font-mono",children:"   "}),a.jsx("p",{className:"text-sm text-mm-text-tertiary font-mono mb-4",children:"//   "}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-neon inline-flex items-center space-x-2",children:[a.jsx(Dr,{}),a.jsx("span",{children:" "})]})]}):a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-xs font-mono",children:""})]})}),a.jsx("tbody",{children:t.map(x=>{var y,g,v,h;return a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors","data-testid":`order-row-${x.id}`,children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-green",children:x.order_number}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(x.created_at).toLocaleDateString("ru-RU")}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm",children:((y=x.customer)==null?void 0:y.full_name)||"-"}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[((g=x.items)==null?void 0:g.length)||0," "]}),a.jsxs("td",{className:"py-4 px-4 font-mono text-sm",children:[(h=(v=x.totals)==null?void 0:v.total)==null?void 0:h.toLocaleString("ru-RU"),""]}),a.jsx("td",{className:"py-4 px-4",children:m(x.status)}),a.jsx("td",{className:"py-4 px-4",children:p(x.reserve_status)}),a.jsx("td",{className:"py-4 px-4 text-right",children:a.jsxs("button",{className:"btn-neon-sm flex items-center space-x-1 ml-auto","data-testid":`view-order-${x.id}`,children:[a.jsx(pm,{size:14}),a.jsx("span",{children:""})]})})]},x.id)})})]})})})]})}function Lc({section:e}){const t=ts(),r=e||(t.pathname.includes("/fbs")?"fbs":t.pathname.includes("/fbo")?"fbo":t.pathname.includes("/retail")?"retail":"fbs"),n=()=>{switch(r){case"fbs":return"FBS (  )";case"fbo":return"FBO (  )";case"retail":return" ";default:return""}};return a.jsxs("div",{className:"space-y-6","data-testid":"orders-page",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase font-mono",children:n()}),a.jsx("p",{className:"text-sm text-mm-text-secondary font-mono",children:"//  "})]})}),a.jsxs("div",{children:[r==="fbs"&&a.jsx(TM,{}),r==="fbo"&&a.jsx(DM,{}),r==="retail"&&a.jsx(MM,{})]})]})}const __=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},$M=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);return __(t)},LM=()=>__(new Date);function RM(){var b,j,k,S,N,P,w,C,O,_,E,I,A,M,B,H,R,L,z,Q,T,Z,te,$,Y,le,se,K,ue,he,J,D,X,ce,W,ee,ie,je,F,ae,U,oe,me,ke,we,_e,Me;const{api:e}=Ne(),[t,r]=f.useState(!1),[n,s]=f.useState(!1),[i,o]=f.useState(null),[l,d]=f.useState(null),[c,u]=f.useState($M()),[m,p]=f.useState(LM()),x=async()=>{var ve,Pe;s(!0),d(null);try{const Ce=await e.post("/api/profit-analytics/sync-ozon-data",null,{params:{date_from:c,date_to:m}});alert(`  !

 : ${Ce.data.statistics.total_transactions}
: ${Ce.data.statistics.saved}
: ${Ce.data.statistics.updated}`),await y()}catch(Ce){console.error("Sync failed:",Ce);const vt=((Pe=(ve=Ce.response)==null?void 0:ve.data)==null?void 0:Pe.detail)||Ce.message||" ";d(` : ${vt}`)}s(!1)},y=async()=>{var ve,Pe;r(!0),d(null);try{const Ce=await e.get("/api/profit-analytics/profit-report",{params:{date_from:c,date_to:m}});console.log("Report response:",Ce.data),Ce.data&&Ce.data.revenue&&Ce.data.expenses&&Ce.data.profit?o(Ce.data):(d("    "),o(null))}catch(Ce){console.error("Failed to load report:",Ce);const vt=((Pe=(ve=Ce.response)==null?void 0:ve.data)==null?void 0:Pe.detail)||Ce.message||" ";d(`  : ${vt}`),o(null)}r(!1)},g=async()=>{try{const ve=await e.get("/api/profit-analytics/export-profit-report",{params:{date_from:c,date_to:m},responseType:"blob"}),Pe=window.URL.createObjectURL(new Blob([ve.data])),Ce=document.createElement("a");Ce.href=Pe,Ce.setAttribute("download",`profit_report_${c}_${m}.xlsx`),document.body.appendChild(Ce),Ce.click(),Ce.remove(),alert("  !")}catch(ve){console.error("Export failed:",ve),alert("  ")}},v=ve=>((ve==null||isNaN(ve))&&(ve=0),new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2}).format(ve)),h=ve=>((ve==null||isNaN(ve))&&(ve=0),`${ve.toFixed(2)}%`);return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"   "}),a.jsx("p",{className:"comment",children:"//     "})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsx("input",{type:"date",value:c,onChange:ve=>u(ve.target.value),className:"input-mono w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsx("input",{type:"date",value:m,onChange:ve=>p(ve.target.value),className:"input-mono w-full"})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:x,disabled:n,className:"btn-primary w-full flex items-center justify-center gap-2",children:[a.jsx(pt,{className:n?"animate-spin":""}),n?"...":""]})}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:y,disabled:t,className:"btn-primary w-full",children:t?"...":" "})})]}),i&&a.jsx("div",{className:"mt-4 pt-4 border-t border-mm-border flex justify-end",children:a.jsxs("button",{onClick:g,className:"btn-secondary flex items-center gap-2",children:[a.jsx(ut,{}),"  EXCEL"]})})]}),l&&a.jsx("div",{className:"card-neon p-6 border-mm-red border-2",children:a.jsx("p",{className:"text-mm-red",children:l})}),t?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"//  ..."})}):i?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono",children:""}),a.jsx(ta,{className:"text-mm-cyan",size:24})]}),a.jsx("div",{className:"text-3xl font-mono text-mm-cyan mb-2",children:v((b=i==null?void 0:i.revenue)==null?void 0:b.net_sales)}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:[": ",v((j=i==null?void 0:i.revenue)==null?void 0:j.gross_sales)]})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono",children:""}),a.jsx(Ei,{className:"text-mm-red",size:24})]}),a.jsx("div",{className:"text-3xl font-mono text-mm-red mb-2",children:v((k=i==null?void 0:i.expenses)==null?void 0:k.total_expenses)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:" "})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono",children:" "}),a.jsx(Ha,{className:(((S=i==null?void 0:i.profit)==null?void 0:S.net_profit)??0)>=0?"text-mm-green":"text-mm-red",size:24})]}),a.jsx("div",{className:`text-3xl font-mono mb-2 ${(((N=i==null?void 0:i.profit)==null?void 0:N.net_profit)??0)>=0?"text-mm-green":"text-mm-red"}`,children:v((P=i==null?void 0:i.profit)==null?void 0:P.net_profit)}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:[": ",h((w=i==null?void 0:i.profit)==null?void 0:w.net_margin_pct)]})]})]}),a.jsxs("div",{className:"card-neon overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-mm-border",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase",children:"     (P&L)"}),a.jsxs("p",{className:"comment mt-1",children:["// : ",c," - ",m]}),(i==null?void 0:i.statistics)&&a.jsxs("p",{className:"comment",children:["// : ",i.statistics.total_transactions||0]})]}),a.jsxs("div",{className:"p-6 space-y-6 font-mono",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-cyan"}),a.jsx("h4",{className:"text-mm-cyan uppercase",children:""})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" "}),a.jsx("span",{children:v((C=i==null?void 0:i.revenue)==null?void 0:C.gross_sales)})]}),a.jsxs("div",{className:"flex justify-between text-mm-red",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:v((O=i==null?void 0:i.revenue)==null?void 0:O.returns)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-mm-cyan",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((_=i==null?void 0:i.revenue)==null?void 0:_.net_sales)})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-text-secondary"}),a.jsx("h4",{className:"text-mm-text-secondary uppercase",children:"  (COGS)"})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"   "}),a.jsx("span",{className:"text-mm-text-secondary",children:v((E=i==null?void 0:i.cogs)==null?void 0:E.total)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-lg",children:[a.jsx("span",{className:"text-mm-green",children:"  "}),a.jsx("span",{className:"text-mm-green",children:v((I=i==null?void 0:i.profit)==null?void 0:I.gross_profit)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{className:"text-mm-text-tertiary",children:h((A=i==null?void 0:i.profit)==null?void 0:A.gross_margin_pct)})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-red"}),a.jsx("h4",{className:"text-mm-red uppercase",children:""})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"1  "}),a.jsxs("div",{className:"pl-4 space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsx("span",{children:v((B=(M=i==null?void 0:i.expenses)==null?void 0:M.commissions)==null?void 0:B.marketplace_base)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"    (9%)"}),a.jsx("span",{children:v((R=(H=i==null?void 0:i.expenses)==null?void 0:H.commissions)==null?void 0:R.bonus_commission)})]}),a.jsxs("div",{className:"flex justify-between font-bold pt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((z=(L=i==null?void 0:i.expenses)==null?void 0:L.commissions)==null?void 0:z.total)})]})]})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"2 "}),a.jsxs("div",{className:"pl-4 space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"   "}),a.jsx("span",{children:v((T=(Q=i==null?void 0:i.expenses)==null?void 0:Q.logistics)==null?void 0:T.delivery_to_customer)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsx("span",{children:v((te=(Z=i==null?void 0:i.expenses)==null?void 0:Z.logistics)==null?void 0:te.last_mile)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsx("span",{children:v((Y=($=i==null?void 0:i.expenses)==null?void 0:$.logistics)==null?void 0:Y.returns)})]}),a.jsxs("div",{className:"flex justify-between font-bold pt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((se=(le=i==null?void 0:i.expenses)==null?void 0:le.logistics)==null?void 0:se.total)})]})]})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"3  "}),a.jsxs("div",{className:"pl-4 space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{children:v((ue=(K=i==null?void 0:i.expenses)==null?void 0:K.services)==null?void 0:ue.storage)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{children:v((J=(he=i==null?void 0:i.expenses)==null?void 0:he.services)==null?void 0:J.acquiring)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"   "}),a.jsx("span",{children:v((X=(D=i==null?void 0:i.expenses)==null?void 0:D.services)==null?void 0:X.pvz_fees)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:" "}),a.jsx("span",{children:v((W=(ce=i==null?void 0:i.expenses)==null?void 0:ce.services)==null?void 0:W.packaging)})]}),a.jsxs("div",{className:"flex justify-between font-bold pt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((ie=(ee=i==null?void 0:i.expenses)==null?void 0:ee.services)==null?void 0:ie.total)})]})]})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"4 "}),a.jsx("div",{className:"pl-4 space-y-1",children:a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((F=(je=i==null?void 0:i.expenses)==null?void 0:je.penalties)==null?void 0:F.total)})]})})]}),a.jsxs("div",{className:"pl-6 space-y-2 text-sm mb-4",children:[a.jsx("div",{className:"text-mm-text-secondary mb-2",children:"5  "}),a.jsx("div",{className:"pl-4 space-y-1",children:a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((U=(ae=i==null?void 0:i.expenses)==null?void 0:ae.other_expenses)==null?void 0:U.total)})]})})]}),a.jsx("div",{className:"pl-6 pt-4 border-t border-mm-border",children:a.jsxs("div",{className:"flex justify-between font-bold text-lg text-mm-red",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:v((oe=i==null?void 0:i.expenses)==null?void 0:oe.total_expenses)})]})})]}),a.jsxs("div",{className:"pt-4 border-t-2 border-mm-cyan",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-1 h-6 bg-mm-green"}),a.jsx("h4",{className:"text-mm-green uppercase",children:" "})]}),a.jsxs("div",{className:"pl-6 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-lg font-bold text-mm-green",children:[a.jsx("span",{children:"  "}),a.jsx("span",{children:v((me=i==null?void 0:i.profit)==null?void 0:me.operating_profit)})]}),a.jsxs("div",{className:"flex justify-between text-sm text-mm-text-secondary",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:h((ke=i==null?void 0:i.profit)==null?void 0:ke.operating_margin_pct)})]}),a.jsxs("div",{className:"pt-3 mt-3 border-t border-mm-border",children:[a.jsxs("div",{className:`flex justify-between text-2xl font-bold ${(((we=i==null?void 0:i.profit)==null?void 0:we.net_profit)??0)>=0?"text-mm-green":"text-mm-red"}`,children:[a.jsx("span",{children:"  "}),a.jsx("span",{children:v((_e=i==null?void 0:i.profit)==null?void 0:_e.net_profit)})]}),a.jsxs("div",{className:"flex justify-between text-sm text-mm-text-secondary mt-1",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:h((Me=i==null?void 0:i.profit)==null?void 0:Me.net_margin_pct)})]}),a.jsx("p",{className:"text-xs text-mm-text-tertiary mt-2 italic",children:"//      "})]})]})]})]})]})]}):!t&&!l?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx("p",{className:"text-mm-text-secondary mb-2",children:'    " "'}),a.jsx("p",{className:"comment",children:"//      "})]}):null]})}const S_=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},zM=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);return S_(t)},FM=()=>S_(new Date);function BM(){const{api:e}=Ne(),[t,r]=f.useState(!1),[n,s]=f.useState([]),[i,o]=f.useState(0),[l,d]=f.useState(zM()),[c,u]=f.useState(FM()),[m]=f.useState(50),[p,x]=f.useState(0),[y,g]=f.useState(null),v=async()=>{var N,P;r(!0);try{const w=await e.get("/api/profit-analytics/transactions",{params:{date_from:l,date_to:c,limit:m,offset:p}});s(w.data.transactions||[]),o(w.data.total_count||0)}catch(w){console.error("Failed to load transactions:",w),alert(" : "+(((P=(N=w.response)==null?void 0:N.data)==null?void 0:P.detail)||w.message))}r(!1)};f.useEffect(()=>{v()},[p]);const h=N=>((N==null||isNaN(N))&&(N=0),new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2}).format(N)),b=N=>N?new Date(N).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",j=N=>{g(y===N?null:N)},k=()=>{p+m<i&&x(p+m)},S=()=>{p>0&&x(Math.max(0,p-m))};return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:""}),a.jsx("p",{className:"comment",children:"//    "})]}),a.jsx("div",{className:"card-neon p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsx("input",{type:"date",value:l,onChange:N=>d(N.target.value),className:"input-mono w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsx("input",{type:"date",value:c,onChange:N=>u(N.target.value),className:"input-mono w-full"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{x(0),v()},disabled:t,className:"btn-primary w-full",children:t?"...":""})})]})}),t?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// ..."})}):n.length===0?a.jsxs("div",{className:"card-neon text-center py-12",children:[a.jsx("p",{className:"text-mm-text-secondary mb-2",children:" "}),a.jsx("p",{className:"comment",children:"//   "})]}):a.jsxs("div",{className:"card-neon overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" "}),a.jsx("th",{className:"text-left py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-4 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:n.map(N=>{var O,_,E,I,A,M,B,H,R,L,z,Q,T,Z,te,$,Y,le;const P=(((_=(O=N.breakdown)==null?void 0:O.commission)==null?void 0:_.total)||0)+(((I=(E=N.breakdown)==null?void 0:E.logistics)==null?void 0:I.total)||0)+(((M=(A=N.breakdown)==null?void 0:A.services)==null?void 0:M.total)||0)+(((H=(B=N.breakdown)==null?void 0:B.penalties)==null?void 0:H.total)||0),w=N.amount-P,C=y===N._id;return a.jsxs(re.Fragment,{children:[a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray transition-colors",children:[a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-text-secondary",children:b(N.operation_date)}),a.jsx("td",{className:"py-4 px-4 font-mono text-sm text-mm-cyan",children:N.order_id||"-"}),a.jsxs("td",{className:"py-4 px-4 text-sm",children:[((R=N.items)==null?void 0:R.length)||0," "]}),a.jsx("td",{className:"py-4 px-4 text-right font-mono text-sm",children:h(N.amount)}),a.jsx("td",{className:"py-4 px-4 text-right font-mono text-sm text-mm-red",children:h(P)}),a.jsx("td",{className:`py-4 px-4 text-right font-mono text-sm font-bold ${w>=0?"text-mm-green":"text-mm-red"}`,children:h(w)}),a.jsx("td",{className:"py-4 px-4 text-center",children:a.jsx("button",{onClick:()=>j(N._id),className:"text-mm-cyan hover:text-mm-text transition-colors",children:C?a.jsx(fm,{size:20}):a.jsx(Us,{size:20})})})]}),C&&a.jsx("tr",{className:"bg-mm-gray border-b border-mm-border",children:a.jsx("td",{colSpan:"7",className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 font-mono text-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-cyan uppercase mb-3",children:""}),a.jsx("div",{className:"space-y-2",children:((L=N.items)==null?void 0:L.map((se,K)=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:se.name||se.sku}),a.jsxs("span",{children:[h(se.price),"  ",se.quantity]})]},K)))||a.jsx("p",{className:"text-mm-text-tertiary",children:" "})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-red uppercase mb-3",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" "}),a.jsx("span",{children:h((Q=(z=N.breakdown)==null?void 0:z.commission)==null?void 0:Q.total)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:h((Z=(T=N.breakdown)==null?void 0:T.logistics)==null?void 0:Z.total)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:h(($=(te=N.breakdown)==null?void 0:te.services)==null?void 0:$.total)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:h((le=(Y=N.breakdown)==null?void 0:Y.penalties)==null?void 0:le.total)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-mm-red",children:[a.jsx("span",{children:""}),a.jsx("span",{children:h(P)})]})]})]})]})})})]},N._id)})})]})}),a.jsxs("div",{className:"p-4 border-t border-mm-border flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-mm-text-secondary font-mono",children:[" ",p+1,"-",Math.min(p+m,i),"  ",i]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:S,disabled:p===0,className:"btn-secondary text-sm",children:" "}),a.jsx("button",{onClick:k,disabled:p+m>=i,className:"btn-secondary text-sm",children:" "})]})]})]})]})}function C_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=C_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $e(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=C_(e))&&(n&&(n+=" "),n+=t);return n}var UM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ky(e){if(typeof e!="string")return!1;var t=UM;return t.includes(e)}var WM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KM=new Set(WM);function P_(e){return typeof e!="string"?!1:KM.has(e)}function E_(e){return typeof e=="string"&&e.startsWith("data-")}function Ir(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(P_(r)||E_(r))&&(t[r]=e[r]);return t}function Ds(e){if(e==null)return null;if(f.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ir(t)}return typeof e=="object"&&!Array.isArray(e)?Ir(e):null}function cr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(P_(r)||E_(r)||Ky(r))&&(t[r]=e[r]);return t}function HM(e){return e==null?null:f.isValidElement(e)?cr(e.props):typeof e=="object"&&!Array.isArray(e)?cr(e):null}var VM=["children","width","height","viewBox","className","style","title","desc"];function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Px.apply(null,arguments)}function qM(e,t){if(e==null)return{};var r,n,s=YM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function YM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Hy=f.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:l,title:d,desc:c}=e,u=qM(e,VM),m=i||{width:n,height:s,x:0,y:0},p=$e("recharts-surface",o);return f.createElement("svg",Px({},cr(u),{className:p,width:n,height:s,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),f.createElement("title",null,d),f.createElement("desc",null,c),r)}),GM=["children","className"];function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ex.apply(null,arguments)}function XM(e,t){if(e==null)return{};var r,n,s=QM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function QM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zt=f.forwardRef((e,t)=>{var{children:r,className:n}=e,s=XM(e,GM),i=$e("recharts-layer",n);return f.createElement("g",Ex({className:i},cr(s),{ref:t}),r)}),O_=f.createContext(null),ZM=()=>f.useContext(O_);function Ve(e){return function(){return e}}const A_=Math.cos,Zd=Math.sin,jn=Math.sqrt,Jd=Math.PI,xm=2*Jd,Ox=Math.PI,Ax=2*Ox,ds=1e-6,JM=Ax-ds;function T_(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function e$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return T_;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class t${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?T_:e$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,d=n-t,c=s-r,u=o-t,m=l-r,p=u*u+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>ds)if(!(Math.abs(m*d-c*u)>ds)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-o,y=s-l,g=d*d+c*c,v=x*x+y*y,h=Math.sqrt(g),b=Math.sqrt(p),j=i*Math.tan((Ox-Math.acos((g+p-v)/(2*h*b)))/2),k=j/b,S=j/h;Math.abs(k-1)>ds&&this._append`L${t+k*u},${r+k*m}`,this._append`A${i},${i},0,0,${+(m*x>u*y)},${this._x1=t+S*d},${this._y1=r+S*c}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),d=n*Math.sin(s),c=t+l,u=r+d,m=1^o,p=o?s-i:i-s;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ds||Math.abs(this._y1-u)>ds)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%Ax+Ax),p>JM?this._append`A${n},${n},0,1,${m},${t-l},${r-d}A${n},${n},0,1,${m},${this._x1=c},${this._y1=u}`:p>ds&&this._append`A${n},${n},0,${+(p>=Ox)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Vy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new t$(t)}function qy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function D_(e){this._context=e}D_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function hm(e){return new D_(e)}function I_(e){return e[0]}function M_(e){return e[1]}function $_(e,t){var r=Ve(!0),n=null,s=hm,i=null,o=Vy(l);e=typeof e=="function"?e:e===void 0?I_:Ve(e),t=typeof t=="function"?t:t===void 0?M_:Ve(t);function l(d){var c,u=(d=qy(d)).length,m,p=!1,x;for(n==null&&(i=s(x=o())),c=0;c<=u;++c)!(c<u&&r(m=d[c],c,d))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(m,c,d),+t(m,c,d));if(x)return i=null,x+""||null}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ve(+d),l):e},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ve(+d),l):t},l.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Ve(!!d),l):r},l.curve=function(d){return arguments.length?(s=d,n!=null&&(i=s(n)),l):s},l.context=function(d){return arguments.length?(d==null?n=i=null:i=s(n=d),l):n},l}function Rc(e,t,r){var n=null,s=Ve(!0),i=null,o=hm,l=null,d=Vy(c);e=typeof e=="function"?e:e===void 0?I_:Ve(+e),t=typeof t=="function"?t:Ve(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?M_:Ve(+r);function c(m){var p,x,y,g=(m=qy(m)).length,v,h=!1,b,j=new Array(g),k=new Array(g);for(i==null&&(l=o(b=d())),p=0;p<=g;++p){if(!(p<g&&s(v=m[p],p,m))===h)if(h=!h)x=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=p-1;y>=x;--y)l.point(j[y],k[y]);l.lineEnd(),l.areaEnd()}h&&(j[p]=+e(v,p,m),k[p]=+t(v,p,m),l.point(n?+n(v,p,m):j[p],r?+r(v,p,m):k[p]))}if(b)return l=null,b+""||null}function u(){return $_().defined(s).curve(o).context(i)}return c.x=function(m){return arguments.length?(e=typeof m=="function"?m:Ve(+m),n=null,c):e},c.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Ve(+m),c):e},c.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ve(+m),c):n},c.y=function(m){return arguments.length?(t=typeof m=="function"?m:Ve(+m),r=null,c):t},c.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Ve(+m),c):t},c.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ve(+m),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(m){return arguments.length?(s=typeof m=="function"?m:Ve(!!m),c):s},c.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),c):o},c.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),c):i},c}class L_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function r$(e){return new L_(e,!0)}function n$(e){return new L_(e,!1)}const Yy={draw(e,t){const r=jn(t/Jd);e.moveTo(r,0),e.arc(0,0,r,0,xm)}},a$={draw(e,t){const r=jn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},R_=jn(1/3),s$=R_*2,i$={draw(e,t){const r=jn(t/s$),n=r*R_;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},o$={draw(e,t){const r=jn(t),n=-r/2;e.rect(n,n,r,r)}},l$=.8908130915292852,z_=Zd(Jd/10)/Zd(7*Jd/10),c$=Zd(xm/10)*z_,d$=-A_(xm/10)*z_,u$={draw(e,t){const r=jn(t*l$),n=c$*r,s=d$*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=xm*i/5,l=A_(o),d=Zd(o);e.lineTo(d*r,-l*r),e.lineTo(l*n-d*s,d*n+l*s)}e.closePath()}},Qf=jn(3),m$={draw(e,t){const r=-jn(t/(Qf*3));e.moveTo(0,r*2),e.lineTo(-Qf*r,-r),e.lineTo(Qf*r,-r),e.closePath()}},Fr=-.5,Br=jn(3)/2,Tx=1/jn(12),f$=(Tx/2+1)*3,p$={draw(e,t){const r=jn(t/f$),n=r/2,s=r*Tx,i=n,o=r*Tx+r,l=-i,d=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,d),e.lineTo(Fr*n-Br*s,Br*n+Fr*s),e.lineTo(Fr*i-Br*o,Br*i+Fr*o),e.lineTo(Fr*l-Br*d,Br*l+Fr*d),e.lineTo(Fr*n+Br*s,Fr*s-Br*n),e.lineTo(Fr*i+Br*o,Fr*o-Br*i),e.lineTo(Fr*l+Br*d,Fr*d-Br*l),e.closePath()}};function x$(e,t){let r=null,n=Vy(s);e=typeof e=="function"?e:Ve(e||Yy),t=typeof t=="function"?t:Ve(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ve(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ve(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function eu(){}function tu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function F_(e){this._context=e}F_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function h$(e){return new F_(e)}function B_(e){this._context=e}B_.prototype={areaStart:eu,areaEnd:eu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:tu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function y$(e){return new B_(e)}function U_(e){this._context=e}U_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:tu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function g$(e){return new U_(e)}function W_(e){this._context=e}W_.prototype={areaStart:eu,areaEnd:eu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function v$(e){return new W_(e)}function X0(e){return e<0?-1:1}function Q0(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(X0(i)+X0(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Z0(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Zf(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function ru(e){this._context=e}ru.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zf(this,this._t0,Z0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Zf(this,Z0(this,r=Q0(this,e,t)),r);break;default:Zf(this,this._t0,r=Q0(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function K_(e){this._context=new H_(e)}(K_.prototype=Object.create(ru.prototype)).point=function(e,t){ru.prototype.point.call(this,t,e)};function H_(e){this._context=e}H_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function b$(e){return new ru(e)}function j$(e){return new K_(e)}function V_(e){this._context=e}V_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=J0(e),s=J0(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function J0(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function w$(e){return new V_(e)}function ym(e,t){this._context=e,this._t=t}ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function N$(e){return new ym(e,.5)}function k$(e){return new ym(e,0)}function _$(e){return new ym(e,1)}function Ti(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Dx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function S$(e,t){return e[t]}function C$(e){const t=[];return t.key=e,t}function P$(){var e=Ve([]),t=Dx,r=Ti,n=S$;function s(i){var o=Array.from(e.apply(this,arguments),C$),l,d=o.length,c=-1,u;for(const m of i)for(l=0,++c;l<d;++l)(o[l][c]=[0,+n(m,o[l].key,c,i)]).data=m;for(l=0,u=qy(t(o));l<d;++l)o[u[l]].index=l;return r(o,u),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ve(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ve(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Dx:typeof i=="function"?i:Ve(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Ti,s):r},s}function E$(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Ti(e,t)}}function O$(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ti(e,t)}}function A$(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,d=0,c=0;l<o;++l){for(var u=e[t[l]],m=u[n][1]||0,p=u[n-1][1]||0,x=(m-p)/2,y=0;y<l;++y){var g=e[t[y]],v=g[n][1]||0,h=g[n-1][1]||0;x+=v-h}d+=m,c+=x*m}s[n-1][1]+=s[n-1][0]=r,d&&(r-=c/d)}s[n-1][1]+=s[n-1][0]=r,Ti(e,t)}}var gm={},q_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(q_);var Gy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Gy);var vm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(vm);var bm={},Y_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Y_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y_,r=vm;function n(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const i=[],o=s.length;if(o===0)return i;let l=0,d="",c="",u=!1;for(s.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const m=s[l];c?m==="\\"&&l+1<o?(l++,d+=s[l]):m===c?c="":d+=m:u?m==='"'||m==="'"?c=m:m==="]"?(u=!1,i.push(d),d=""):d+=m:m==="["?(u=!0,d&&(i.push(d),d="")):m==="."?d&&(i.push(d),d=""):d+=m,l++}return d&&i.push(d),i}e.toPath=n})(bm);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q_,r=Gy,n=vm,s=bm;function i(l,d,c){if(l==null)return c;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return c;const u=l[d];return u===void 0?r.isDeepKey(d)?i(l,s.toPath(d),c):c:u}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const u=l[d];return u===void 0?c:u}default:{if(Array.isArray(d))return o(l,d,c);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return c;const u=l[d];return u===void 0?c:u}}}function o(l,d,c){if(d.length===0)return c;let u=l;for(let m=0;m<d.length;m++){if(u==null||t.isUnsafeProperty(d[m]))return c;u=u[d[m]]}return u===void 0?c:u}e.get=i})(gm);var T$=gm.get;const Is=$n(T$);var Lt=e=>e===0?0:e>0?1:-1,yn=e=>typeof e=="number"&&e!=+e,na=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ye=e=>(typeof e=="number"||e instanceof Number)&&!yn(e),Dn=e=>ye(e)||typeof e=="string",D$=0,ml=e=>{var t=++D$;return"".concat(e||"").concat(t)},tr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ye(t)&&typeof t!="string")return n;var i;if(na(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return yn(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},G_=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Je(e,t,r){return ye(e)&&ye(t)?e+r*(t-e):t}function X_(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Is(n,t))===r)}var rt=e=>e===null||typeof e>"u",Rl=e=>rt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function I$(e){return e!=null}function zl(){}var M$=["type","size","sizeType"];function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ix.apply(null,arguments)}function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(n){$$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $$(e,t,r){return(t=L$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L$(e){var t=R$(e,"string");return typeof t=="symbol"?t:t+""}function R$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z$(e,t){if(e==null)return{};var r,n,s=F$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function F$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Q_={symbolCircle:Yy,symbolCross:a$,symbolDiamond:i$,symbolSquare:o$,symbolStar:u$,symbolTriangle:m$,symbolWye:p$},B$=Math.PI/180,U$=e=>{var t="symbol".concat(Rl(e));return Q_[t]||Yy},W$=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*B$;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},K$=(e,t)=>{Q_["symbol".concat(Rl(e))]=t},Xy=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=z$(e,M$),i=tj(tj({},s),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var p=U$(o),x=x$().type(p).size(W$(r,n,o)),y=x();if(y!==null)return y},{className:d,cx:c,cy:u}=i,m=cr(i);return ye(c)&&ye(u)&&ye(r)?f.createElement("path",Ix({},m,{className:$e("recharts-symbols",d),transform:"translate(".concat(c,", ").concat(u,")"),d:l()})):null};Xy.registerSymbol=K$;var Z_=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Qy=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(f.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{Ky(s)&&(n[s]=i=>r[s](r,i))}),n},H$=(e,t,r)=>n=>(e(t,r,n),null),Fl=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];Ky(s)&&typeof i=="function"&&(n||(n={}),n[s]=H$(i,t,r))}),n};function rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function V$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(r),!0).forEach(function(n){q$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q$(e,t,r){return(t=Y$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y$(e){var t=G$(e,"string");return typeof t=="symbol"?t:t+""}function G$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _t(e,t){var r=V$({},e),n=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nu.apply(null,arguments)}function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){Q$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q$(e,t,r){return(t=Z$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z$(e){var t=J$(e,"string");return typeof t=="symbol"?t:t+""}function J$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wr=32,e5={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function t5(e){var{data:t,iconType:r,inactiveColor:n}=e,s=Wr/2,i=Wr/6,o=Wr/3,l=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline"){var c;return f.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:s,x2:Wr,y2:s,className:"recharts-legend-icon"})}if(d==="line")return f.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Wr,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(d==="rect")return f.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Wr/8,"h").concat(Wr,"v").concat(Wr*3/4,"h").concat(-Wr,"z"),className:"recharts-legend-icon"});if(f.isValidElement(t.legendIcon)){var u=X$({},t);return delete u.legendIcon,f.cloneElement(t.legendIcon,u)}return f.createElement(Xy,{fill:l,cx:s,cy:s,size:Wr,sizeType:"diameter",type:d})}function r5(e){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:i,iconType:o}=e,l={x:0,y:0,width:Wr,height:Wr},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,m)=>{var p=u.formatter||s,x=$e({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:u.inactive});if(u.type==="none")return null;var y=u.inactive?i:u.color,g=p?p(u.value,u,m):u.value;return f.createElement("li",nu({className:x,style:d,key:"legend-item-".concat(m)},Fl(e,u,m)),f.createElement(Hy,{width:r,height:r,viewBox:l,style:c,"aria-label":"".concat(g," legend icon")},f.createElement(t5,{data:u,iconType:o,inactiveColor:i})),f.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g))})}var n5=e=>{var t=_t(e,e5),{payload:r,layout:n,align:s}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?s:"left"};return f.createElement("ul",{className:"recharts-default-legend",style:i},f.createElement(r5,nu({},t,{payload:r})))},J_={},eS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t})(eS);var Zy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Zy);var tS={},jm={},rS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(rS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rS;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(jm);var nS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(nS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jm,r=nS;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(tS);var aS={},sS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gm;function r(n){return function(s){return t.get(s,n)}}e.property=r})(sS);var iS={},Jy={},oS={},eg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(eg);var tg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(tg);var rg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(rg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eg,r=tg,n=rg;function s(u,m,p){return typeof p!="function"?s(u,m,()=>{}):i(u,m,function x(y,g,v,h,b,j){const k=p(y,g,v,h,b,j);return k!==void 0?!!k:i(y,g,x,j)},new Map)}function i(u,m,p,x){if(m===u)return!0;switch(typeof m){case"object":return o(u,m,p,x);case"function":return Object.keys(m).length>0?i(u,{...m},p,x):n.eq(u,m);default:return t.isObject(u)?typeof m=="string"?m==="":!0:n.eq(u,m)}}function o(u,m,p,x){if(m==null)return!0;if(Array.isArray(m))return d(u,m,p,x);if(m instanceof Map)return l(u,m,p,x);if(m instanceof Set)return c(u,m,p,x);const y=Object.keys(m);if(u==null)return y.length===0;if(y.length===0)return!0;if(x!=null&&x.has(m))return x.get(m)===u;x==null||x.set(m,u);try{for(let g=0;g<y.length;g++){const v=y[g];if(!r.isPrimitive(u)&&!(v in u)||m[v]===void 0&&u[v]!==void 0||m[v]===null&&u[v]!==null||!p(u[v],m[v],v,u,m,x))return!1}return!0}finally{x==null||x.delete(m)}}function l(u,m,p,x){if(m.size===0)return!0;if(!(u instanceof Map))return!1;for(const[y,g]of m.entries()){const v=u.get(y);if(p(v,g,y,u,m,x)===!1)return!1}return!0}function d(u,m,p,x){if(m.length===0)return!0;if(!Array.isArray(u))return!1;const y=new Set;for(let g=0;g<m.length;g++){const v=m[g];let h=!1;for(let b=0;b<u.length;b++){if(y.has(b))continue;const j=u[b];let k=!1;if(p(j,v,g,u,m,x)&&(k=!0),k){y.add(b),h=!0;break}}if(!h)return!1}return!0}function c(u,m,p,x){return m.size===0?!0:u instanceof Set?d([...u],[...m],p,x):!1}e.isMatchWith=s,e.isSetMatch=c})(oS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oS;function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})(Jy);var lS={},ng={},cS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(cS);var ag={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(ag);var sg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",d="[object Map]",c="[object Set]",u="[object Array]",m="[object Function]",p="[object ArrayBuffer]",x="[object Object]",y="[object Error]",g="[object DataView]",v="[object Uint8Array]",h="[object Uint8ClampedArray]",b="[object Uint16Array]",j="[object Uint32Array]",k="[object BigUint64Array]",S="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",w="[object BigInt64Array]",C="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=u,e.bigInt64ArrayTag=w,e.bigUint64ArrayTag=k,e.booleanTag=s,e.dataViewTag=g,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=C,e.float64ArrayTag=O,e.functionTag=m,e.int16ArrayTag=N,e.int32ArrayTag=P,e.int8ArrayTag=S,e.mapTag=d,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=j,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=h})(sg);var dS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(dS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cS,r=ag,n=sg,s=tg,i=dS;function o(u,m){return l(u,void 0,u,new Map,m)}function l(u,m,p,x=new Map,y=void 0){const g=y==null?void 0:y(u,m,p,x);if(g!==void 0)return g;if(s.isPrimitive(u))return u;if(x.has(u))return x.get(u);if(Array.isArray(u)){const v=new Array(u.length);x.set(u,v);for(let h=0;h<u.length;h++)v[h]=l(u[h],h,p,x,y);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;x.set(u,v);for(const[h,b]of u)v.set(h,l(b,h,p,x,y));return v}if(u instanceof Set){const v=new Set;x.set(u,v);for(const h of u)v.add(l(h,void 0,p,x,y));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);x.set(u,v);for(let h=0;h<u.length;h++)v[h]=l(u[h],h,p,x,y);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return x.set(u,v),d(v,u,p,x,y),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return x.set(u,v),d(v,u,p,x,y),v}if(typeof Blob<"u"&&u instanceof Blob){const v=new Blob([u],{type:u.type});return x.set(u,v),d(v,u,p,x,y),v}if(u instanceof Error){const v=new u.constructor;return x.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,d(v,u,p,x,y),v}if(u instanceof Boolean){const v=new Boolean(u.valueOf());return x.set(u,v),d(v,u,p,x,y),v}if(u instanceof Number){const v=new Number(u.valueOf());return x.set(u,v),d(v,u,p,x,y),v}if(u instanceof String){const v=new String(u.valueOf());return x.set(u,v),d(v,u,p,x,y),v}if(typeof u=="object"&&c(u)){const v=Object.create(Object.getPrototypeOf(u));return x.set(u,v),d(v,u,p,x,y),v}return u}function d(u,m,p=u,x,y){const g=[...Object.keys(m),...t.getSymbols(m)];for(let v=0;v<g.length;v++){const h=g[v],b=Object.getOwnPropertyDescriptor(u,h);(b==null||b.writable)&&(u[h]=l(m[h],h,p,x,y))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=d})(ng);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ng;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(lS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jy,r=lS;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(iS);var uS={},mS={},fS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ng,r=sg;function n(s,i){return t.cloneDeepWith(s,(o,l,d,c)=>{const u=i==null?void 0:i(o,l,d,c);if(u!==void 0)return u;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(m,s),m}case r.argumentsTag:{const m={};return t.copyProperties(m,s),m.length=s.length,m[Symbol.iterator]=s[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(fS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fS;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(mS);var pS={},ig={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(ig);var xS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ag;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(xS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gy,r=ig,n=xS,s=bm;function i(o,l){let d;if(Array.isArray(l)?d=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?d=s.toPath(l):d=[l],d.length===0)return!1;let c=o;for(let u=0;u<d.length;u++){const m=d[u];if((c==null||!Object.hasOwn(c,m))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(m)&&m<c.length))return!1;c=c[m]}return!0}e.has=i})(pS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jy,r=vm,n=mS,s=gm,i=pS;function o(l,d){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return d=n.cloneDeep(d),function(c){const u=s.get(c,l);return u===void 0?i.has(c,l):d===void 0?u===void 0:t.isMatch(u,d)}}e.matchesProperty=o})(uS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zy,r=sS,n=iS,s=uS;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(aS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eS,r=Zy,n=tS,s=aS;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i})(J_);var a5=J_.uniqBy;const aj=$n(a5);function hS(e,t,r){return t===!0?aj(e,r):typeof t=="function"?aj(e,t):e}var yS={exports:{}},gS={},vS={exports:{}},bS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Di=f;function s5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var i5=typeof Object.is=="function"?Object.is:s5,o5=Di.useState,l5=Di.useEffect,c5=Di.useLayoutEffect,d5=Di.useDebugValue;function u5(e,t){var r=t(),n=o5({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return c5(function(){s.value=r,s.getSnapshot=t,Jf(s)&&i({inst:s})},[e,r,t]),l5(function(){return Jf(s)&&i({inst:s}),e(function(){Jf(s)&&i({inst:s})})},[e]),d5(r),r}function Jf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i5(e,r)}catch{return!0}}function m5(e,t){return t()}var f5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m5:u5;bS.useSyncExternalStore=Di.useSyncExternalStore!==void 0?Di.useSyncExternalStore:f5;vS.exports=bS;var p5=vS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=f,x5=p5;function h5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var y5=typeof Object.is=="function"?Object.is:h5,g5=x5.useSyncExternalStore,v5=wm.useRef,b5=wm.useEffect,j5=wm.useMemo,w5=wm.useDebugValue;gS.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=v5(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=j5(function(){function d(x){if(!c){if(c=!0,u=x,x=n(x),s!==void 0&&o.hasValue){var y=o.value;if(s(y,x))return m=y}return m=x}if(y=m,y5(u,x))return y;var g=n(x);return s!==void 0&&s(y,g)?(u=x,y):(u=x,m=g)}var c=!1,u,m,p=r===void 0?null:r;return[function(){return d(t())},p===null?void 0:function(){return d(p())}]},[t,r,n,s]);var l=g5(e,i[0],i[1]);return b5(function(){o.hasValue=!0,o.value=l},[l]),w5(l),l};yS.exports=gS;var N5=yS.exports,og=f.createContext(null),k5=e=>e,Ye=()=>{var e=f.useContext(og);return e?e.store.dispatch:k5},yd=()=>{},_5=()=>yd,S5=(e,t)=>e===t;function pe(e){var t=f.useContext(og);return N5.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:_5,t?t.store.getState:yd,t?t.store.getState:yd,t?e:yd,S5)}function C5(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function P5(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function E5(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var sj=e=>Array.isArray(e)?e:[e];function O5(e){const t=Array.isArray(e[0])?e[0]:e;return E5(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function A5(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var T5=class{constructor(e){this.value=e}deref(){return this.value}},D5=typeof WeakRef<"u"?WeakRef:T5,I5=0,ij=1;function zc(){return{s:I5,v:void 0,o:null,p:null}}function jS(e,t={}){let r=zc();const{resultEqualityCheck:n}=t;let s,i=0;function o(){var m;let l=r;const{length:d}=arguments;for(let p=0,x=d;p<x;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const v=g.get(y);v===void 0?(l=zc(),g.set(y,l)):l=v}else{let g=l.p;g===null&&(l.p=g=new Map);const v=g.get(y);v===void 0?(l=zc(),g.set(y,l)):l=v}}const c=l;let u;if(l.s===ij)u=l.v;else if(u=e.apply(null,arguments),i++,n){const p=((m=s==null?void 0:s.deref)==null?void 0:m.call(s))??s;p!=null&&n(p,u)&&(u=p,i!==0&&i--),s=typeof u=="object"&&u!==null||typeof u=="function"?new D5(u):u}return c.s=ij,c.v=u,u}return o.clearCache=()=>{r=zc(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function M5(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,l,d={},c=s.pop();typeof c=="object"&&(d=c,c=s.pop()),C5(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...d},{memoize:m,memoizeOptions:p=[],argsMemoize:x=jS,argsMemoizeOptions:y=[]}=u,g=sj(p),v=sj(y),h=O5(s),b=m(function(){return i++,c.apply(null,arguments)},...g),j=x(function(){o++;const S=A5(h,arguments);return l=b.apply(null,S),l},...v);return Object.assign(j,{resultFunc:c,memoizedResultFunc:b,dependencies:h,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var V=M5(jS),$5=Object.assign((e,t=V)=>{P5(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,d)=>(o[r[d]]=l,o),{}))},{withTypes:()=>$5}),wS={},NS={},kS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),l=t(s);if(o===l&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(kS);var _S={},lg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(lg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lg,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(_S);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kS,r=_S,n=bm;function s(i,o,l,d){if(i==null)return[];l=d?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(x=>String(x));const c=(x,y)=>{let g=x;for(let v=0;v<y.length&&g!=null;++v)g=g[y[v]];return g},u=(x,y)=>y==null||x==null?y:typeof x=="object"&&"key"in x?Object.hasOwn(y,x.key)?y[x.key]:c(y,x.path):typeof x=="function"?x(y):Array.isArray(x)?c(y,x):typeof y=="object"?y[x]:y,m=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return i.map(x=>({original:x,criteria:m.map(y=>u(y,x))})).slice().sort((x,y)=>{for(let g=0;g<m.length;g++){const v=t.compareValues(x.criteria[g],y.criteria[g],l[g]);if(v!==0)return v}return 0}).map(x=>x.original)}e.orderBy=s})(NS);var SS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(l,d)=>{for(let c=0;c<l.length;c++){const u=l[c];Array.isArray(u)&&d<i?o(u,d+1):s.push(u)}};return o(r,0),s}e.flatten=t})(SS);var cg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ig,r=jm,n=eg,s=rg;function i(o,l,d){return n.isObject(d)&&(typeof l=="number"&&r.isArrayLike(d)&&t.isIndex(l)&&l<d.length||typeof l=="string"&&l in d)?s.eq(d[l],o):!1}e.isIterateeCall=i})(cg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NS,r=SS,n=cg;function s(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(wS);var L5=wS.sortBy;const Nm=$n(L5);var CS=e=>e.legend.settings,R5=e=>e.legend.size,z5=e=>e.legend.payload,F5=V([z5,CS],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Nm(n,r):n});function B5(){return pe(F5)}var Fc=1;function PS(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=f.useState({height:0,left:0,top:0,width:0}),n=f.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Fc||Math.abs(o.left-t.left)>Fc||Math.abs(o.top-t.top)>Fc||Math.abs(o.width-t.width)>Fc)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Wt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var U5=typeof Symbol=="function"&&Symbol.observable||"@@observable",oj=U5,ep=()=>Math.random().toString(36).substring(7).split("").join("."),W5={INIT:`@@redux/INIT${ep()}`,REPLACE:`@@redux/REPLACE${ep()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ep()}`},au=W5;function dg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ES(e,t,r){if(typeof e!="function")throw new Error(Wt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Wt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Wt(1));return r(ES)(e,t)}let n=e,s=t,i=new Map,o=i,l=0,d=!1;function c(){o===i&&(o=new Map,i.forEach((v,h)=>{o.set(h,v)}))}function u(){if(d)throw new Error(Wt(3));return s}function m(v){if(typeof v!="function")throw new Error(Wt(4));if(d)throw new Error(Wt(5));let h=!0;c();const b=l++;return o.set(b,v),function(){if(h){if(d)throw new Error(Wt(6));h=!1,c(),o.delete(b),i=null}}}function p(v){if(!dg(v))throw new Error(Wt(7));if(typeof v.type>"u")throw new Error(Wt(8));if(typeof v.type!="string")throw new Error(Wt(17));if(d)throw new Error(Wt(9));try{d=!0,s=n(s,v)}finally{d=!1}return(i=o).forEach(b=>{b()}),v}function x(v){if(typeof v!="function")throw new Error(Wt(10));n=v,p({type:au.REPLACE})}function y(){const v=m;return{subscribe(h){if(typeof h!="object"||h===null)throw new Error(Wt(11));function b(){const k=h;k.next&&k.next(u())}return b(),{unsubscribe:v(b)}},[oj](){return this}}}return p({type:au.INIT}),{dispatch:p,subscribe:m,getState:u,replaceReducer:x,[oj]:y}}function K5(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:au.INIT})>"u")throw new Error(Wt(12));if(typeof r(void 0,{type:au.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wt(13))})}function OS(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{K5(r)}catch(i){s=i}return function(o={},l){if(s)throw s;let d=!1;const c={};for(let u=0;u<n.length;u++){const m=n[u],p=r[m],x=o[m],y=p(x,l);if(typeof y>"u")throw l&&l.type,new Error(Wt(14));c[m]=y,d=d||y!==x}return d=d||n.length!==Object.keys(o).length,d?c:o}}function su(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function H5(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(Wt(15))};const o={getState:s.getState,dispatch:(d,...c)=>i(d,...c)},l=e.map(d=>d(o));return i=su(...l)(s.dispatch),{...s,dispatch:i}}}function AS(e){return dg(e)&&"type"in e&&typeof e.type=="string"}var TS=Symbol.for("immer-nothing"),lj=Symbol.for("immer-draftable"),dr=Symbol.for("immer-state");function dn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Er=Object,Ii=Er.getPrototypeOf,iu="constructor",km="prototype",Mx="configurable",ou="enumerable",gd="writable",fl="value",aa=e=>!!e&&!!e[dr];function gn(e){var t;return e?DS(e)||_m(e)||!!e[lj]||!!((t=e[iu])!=null&&t[lj])||Sm(e)||Cm(e):!1}var V5=Er[km][iu].toString(),cj=new WeakMap;function DS(e){if(!e||!ug(e))return!1;const t=Ii(e);if(t===null||t===Er[km])return!0;const r=Er.hasOwnProperty.call(t,iu)&&t[iu];if(r===Object)return!0;if(!Qs(r))return!1;let n=cj.get(r);return n===void 0&&(n=Function.toString.call(r),cj.set(r,n)),n===V5}function Bl(e,t,r=!0){Ul(e)===0?(r?Reflect.ownKeys(e):Er.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function Ul(e){const t=e[dr];return t?t.type_:_m(e)?1:Sm(e)?2:Cm(e)?3:0}var dj=(e,t,r=Ul(e))=>r===2?e.has(t):Er[km].hasOwnProperty.call(e,t),$x=(e,t,r=Ul(e))=>r===2?e.get(t):e[t],lu=(e,t,r,n=Ul(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function q5(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var _m=Array.isArray,Sm=e=>e instanceof Map,Cm=e=>e instanceof Set,ug=e=>typeof e=="object",Qs=e=>typeof e=="function",tp=e=>typeof e=="boolean",Fn=e=>e.copy_||e.base_,mg=e=>e.modified_?e.copy_:e.base_;function Lx(e,t){if(Sm(e))return new Map(e);if(Cm(e))return new Set(e);if(_m(e))return Array[km].slice.call(e);const r=DS(e);if(t===!0||t==="class_only"&&!r){const n=Er.getOwnPropertyDescriptors(e);delete n[dr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l[gd]===!1&&(l[gd]=!0,l[Mx]=!0),(l.get||l.set)&&(n[o]={[Mx]:!0,[gd]:!0,[ou]:l[ou],[fl]:e[o]})}return Er.create(Ii(e),n)}else{const n=Ii(e);if(n!==null&&r)return{...e};const s=Er.create(n);return Er.assign(s,e)}}function fg(e,t=!1){return Pm(e)||aa(e)||!gn(e)||(Ul(e)>1&&Er.defineProperties(e,{set:Bc,add:Bc,clear:Bc,delete:Bc}),Er.freeze(e),t&&Bl(e,(r,n)=>{fg(n,!0)},!1)),e}function Y5(){dn(2)}var Bc={[fl]:Y5};function Pm(e){return e===null||!ug(e)?!0:Er.isFrozen(e)}var cu="MapSet",Rx="Patches",IS={};function Mi(e){const t=IS[e];return t||dn(0,e),t}var G5=e=>!!IS[e],pl,MS=()=>pl,X5=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:G5(cu)?Mi(cu):void 0});function uj(e,t){t&&(e.patchPlugin_=Mi(Rx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function zx(e){Fx(e),e.drafts_.forEach(Q5),e.drafts_=null}function Fx(e){e===pl&&(pl=e.parent_)}var mj=e=>pl=X5(pl,e);function Q5(e){const t=e[dr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function fj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[dr].modified_&&(zx(t),dn(4)),gn(e)&&(e=pj(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[dr].base_,e,t)}else e=pj(t,r);return Z5(t,e,!0),zx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==TS?e:void 0}function pj(e,t){if(Pm(t))return t;const r=t[dr];if(!r)return pg(t,e.handledSet_,e);if(!Em(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);RS(r,e)}return r.copy_}function Z5(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fg(t,r)}function $S(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Em=(e,t)=>e.scope_===t,J5=[];function LS(e,t,r,n){const s=Fn(e),i=e.type_;if(n!==void 0&&$x(s,n,i)===t){lu(s,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Bl(s,(d,c)=>{if(aa(c)){const u=l.get(c)||[];u.push(d),l.set(c,u)}})}const o=e.draftLocations_.get(t)??J5;for(const l of o)lu(s,l,r,i)}function eL(e,t,r){e.callbacks_.push(function(s){var l;const i=t;if(!i||!Em(i,s))return;(l=s.mapSetPlugin_)==null||l.fixSetContents(i);const o=mg(i);LS(e,i.draft_??i,o,r),RS(i,s)})}function RS(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:s}=t;if(s){const i=s.getPath(e);i&&s.generatePatches_(e,i,t)}$S(e)}}function tL(e,t,r){const{scope_:n}=e;if(aa(r)){const s=r[dr];Em(s,n)&&s.callbacks_.push(function(){vd(e);const o=mg(s);LS(e,r,o,t)})}else gn(r)&&e.callbacks_.push(function(){const i=Fn(e);$x(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&pg($x(e.copy_,t,e.type_),n.handledSet_,n)})}function pg(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||aa(e)||t.has(e)||!gn(e)||Pm(e)||(t.add(e),Bl(e,(n,s)=>{if(aa(s)){const i=s[dr];if(Em(i,r)){const o=mg(i);lu(e,n,o,e.type_),$S(i)}}else gn(s)&&pg(s,t,r)})),e}function rL(e,t){const r=_m(e),n={type_:r?1:0,scope_:t?t.scope_:MS(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=n,i=xg;r&&(s=[n],i=xl);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,[l,n]}var xg={get(e,t){if(t===dr)return e;const r=Fn(e);if(!dj(r,t,e.type_))return nL(e,r,t);const n=r[t];if(e.finalized_||!gn(n))return n;if(n===rp(e.base_,t)){vd(e);const s=e.type_===1?+t:t,i=Ux(e.scope_,n,e,s);return e.copy_[s]=i}return n},has(e,t){return t in Fn(e)},ownKeys(e){return Reflect.ownKeys(Fn(e))},set(e,t,r){const n=zS(Fn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=rp(Fn(e),t),i=s==null?void 0:s[dr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(q5(r,s)&&(r!==void 0||dj(e.base_,t,e.type_)))return!0;vd(e),Bx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),tL(e,t,r)),!0},deleteProperty(e,t){return vd(e),rp(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Bx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Fn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[gd]:!0,[Mx]:e.type_!==1||t!=="length",[ou]:n[ou],[fl]:r[t]}},defineProperty(){dn(11)},getPrototypeOf(e){return Ii(e.base_)},setPrototypeOf(){dn(12)}},xl={};Bl(xg,(e,t)=>{xl[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});xl.deleteProperty=function(e,t){return xl.set.call(this,e,t,void 0)};xl.set=function(e,t,r){return xg.set.call(this,e[0],t,r,e[0])};function rp(e,t){const r=e[dr];return(r?Fn(r):e)[t]}function nL(e,t,r){var s;const n=zS(t,r);return n?fl in n?n[fl]:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function zS(e,t){if(!(t in e))return;let r=Ii(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ii(r)}}function Bx(e){e.modified_||(e.modified_=!0,e.parent_&&Bx(e.parent_))}function vd(e){e.copy_||(e.assigned_=new Map,e.copy_=Lx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var aL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,s)=>{if(Qs(r)&&!Qs(n)){const o=n;n=r;const l=this;return function(c=o,...u){return l.produce(c,m=>n.call(this,m,...u))}}Qs(n)||dn(6),s!==void 0&&!Qs(s)&&dn(7);let i;if(gn(r)){const o=mj(this),l=Ux(o,r,void 0);let d=!0;try{i=n(l),d=!1}finally{d?zx(o):Fx(o)}return uj(o,s),fj(i,o)}else if(!r||!ug(r)){if(i=n(r),i===void 0&&(i=r),i===TS&&(i=void 0),this.autoFreeze_&&fg(i,!0),s){const o=[],l=[];Mi(Rx).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:l}),s(o,l)}return i}else dn(1,r)},this.produceWithPatches=(r,n)=>{if(Qs(r))return(l,...d)=>this.produceWithPatches(l,c=>r(c,...d));let s,i;return[this.produce(r,n,(l,d)=>{s=l,i=d}),s,i]},tp(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),tp(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),tp(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){gn(t)||dn(8),aa(t)&&(t=xn(t));const r=mj(this),n=Ux(r,t,void 0);return n[dr].isManual_=!0,Fx(r),n}finishDraft(t,r){const n=t&&t[dr];(!n||!n.isManual_)&&dn(9);const{scope_:s}=n;return uj(s,r),fj(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const s=Mi(Rx).applyPatches_;return aa(t)?s(t,r):this.produce(t,i=>s(i,r))}};function Ux(e,t,r,n){const[s,i]=Sm(t)?Mi(cu).proxyMap_(t,r):Cm(t)?Mi(cu).proxySet_(t,r):rL(t,r);return((r==null?void 0:r.scope_)??MS()).drafts_.push(s),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?eL(r,i,n):i.callbacks_.push(function(d){var u;(u=d.mapSetPlugin_)==null||u.fixSetContents(i);const{patchPlugin_:c}=d;i.modified_&&c&&c.generatePatches_(i,[],d)}),s}function xn(e){return aa(e)||dn(10,e),FS(e)}function FS(e){if(!gn(e)||Pm(e))return e;const t=e[dr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Lx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Lx(e,!0);return Bl(r,(s,i)=>{lu(r,s,FS(i))},n),t&&(t.finalized_=!1),r}var sL=new aL,BS=sL.produce;function US(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var iL=US(),oL=US,lL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?su:su.apply(null,arguments)};function Qr(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Ar(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>AS(n)&&n.type===e,r}var WS=class To extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,To.prototype)}static get[Symbol.species](){return To}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new To(...t[0].concat(this)):new To(...t.concat(this))}};function xj(e){return gn(e)?BS(e,()=>{}):e}function Uc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function cL(e){return typeof e=="boolean"}var dL=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new WS;return r&&(cL(r)?o.push(iL):o.push(oL(r.extraArgument))),o},KS="RTK_autoBatch",Ze=()=>e=>({payload:e,meta:{[KS]:!0}}),hj=e=>t=>{setTimeout(t,e)},HS=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const l=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:hj(10):e.type==="callback"?e.queueNotification:hj(e.timeout),c=()=>{o=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const m=()=>s&&u(),p=n.subscribe(m);return l.add(u),()=>{p(),l.delete(u)}},dispatch(u){var m;try{return s=!((m=u==null?void 0:u.meta)!=null&&m[KS]),i=!s,i&&(o||(o=!0,d(c))),n.dispatch(u)}finally{s=!0}}})},uL=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new WS(e);return n&&s.push(HS(typeof n=="object"?n:void 0)),s};function mL(e){const t=dL(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(dg(r))l=OS(r);else throw new Error(Ar(1));let d;typeof n=="function"?d=n(t):d=t();let c=su;s&&(c=lL({trace:!1,...typeof s=="object"&&s}));const u=H5(...d),m=uL(u);let p=typeof o=="function"?o(m):m();const x=c(...p);return ES(l,i,x)}function VS(e){const t={},r=[];let n;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Ar(28));if(l in t)throw new Error(Ar(29));return t[l]=o,s},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function fL(e){return typeof e=="function"}function pL(e,t){let[r,n,s]=VS(t),i;if(fL(e))i=()=>xj(e());else{const l=xj(e);i=()=>l}function o(l=i(),d){let c=[r[d.type],...n.filter(({matcher:u})=>u(d)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[s]),c.reduce((u,m)=>{if(m)if(aa(u)){const x=m(u,d);return x===void 0?u:x}else{if(gn(u))return BS(u,p=>m(p,d));{const p=m(u,d);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},l)}return o.getInitialState=i,o}var xL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",hL=(e=21)=>{let t="",r=e;for(;r--;)t+=xL[Math.random()*64|0];return t},yL=Symbol.for("rtk-slice-createasyncthunk");function gL(e,t){return`${e}/${t}`}function vL({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[yL];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(Ar(11));const l=(typeof s.reducers=="function"?s.reducers(jL()):s.reducers)||{},d=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(k,S){const N=typeof k=="string"?k:k.type;if(!N)throw new Error(Ar(12));if(N in c.sliceCaseReducersByType)throw new Error(Ar(13));return c.sliceCaseReducersByType[N]=S,u},addMatcher(k,S){return c.sliceMatchers.push({matcher:k,reducer:S}),u},exposeAction(k,S){return c.actionCreators[k]=S,u},exposeCaseReducer(k,S){return c.sliceCaseReducersByName[k]=S,u}};d.forEach(k=>{const S=l[k],N={reducerName:k,type:gL(i,k),createNotation:typeof s.reducers=="function"};NL(S)?_L(N,S,u,t):wL(N,S,u)});function m(){const[k={},S=[],N=void 0]=typeof s.extraReducers=="function"?VS(s.extraReducers):[s.extraReducers],P={...k,...c.sliceCaseReducersByType};return pL(s.initialState,w=>{for(let C in P)w.addCase(C,P[C]);for(let C of c.sliceMatchers)w.addMatcher(C.matcher,C.reducer);for(let C of S)w.addMatcher(C.matcher,C.reducer);N&&w.addDefaultCase(N)})}const p=k=>k,x=new Map,y=new WeakMap;let g;function v(k,S){return g||(g=m()),g(k,S)}function h(){return g||(g=m()),g.getInitialState()}function b(k,S=!1){function N(w){let C=w[k];return typeof C>"u"&&S&&(C=Uc(y,N,h)),C}function P(w=p){const C=Uc(x,S,()=>new WeakMap);return Uc(C,w,()=>{const O={};for(const[_,E]of Object.entries(s.selectors??{}))O[_]=bL(E,w,()=>Uc(y,w,h),S);return O})}return{reducerPath:k,getSelectors:P,get selectors(){return P(N)},selectSlice:N}}const j={name:i,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:h,...b(o),injectInto(k,{reducerPath:S,...N}={}){const P=S??o;return k.inject({reducerPath:P,reducer:v},N),{...j,...b(P,!0)}}};return j}}function bL(e,t,r,n){function s(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return s.unwrapped=e,s}var Nr=vL();function jL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function wL({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!kL(n))throw new Error(Ar(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Qr(e,o):Qr(e))}function NL(e){return e._reducerDefinitionType==="asyncThunk"}function kL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function _L({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Ar(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:d,settled:c,options:u}=r,m=s(e,i,u);n.exposeAction(t,m),o&&n.addCase(m.fulfilled,o),l&&n.addCase(m.pending,l),d&&n.addCase(m.rejected,d),c&&n.addMatcher(m.settled,c),n.exposeCaseReducer(t,{fulfilled:o||Wc,pending:l||Wc,rejected:d||Wc,settled:c||Wc})}function Wc(){}var SL="task",qS="listener",YS="completed",hg="cancelled",CL=`task-${hg}`,PL=`task-${YS}`,Wx=`${qS}-${hg}`,EL=`${qS}-${YS}`,Om=class{constructor(e){bf(this,"name","TaskAbortError");bf(this,"message");this.code=e,this.message=`${SL} ${hg} (reason: ${e})`}},yg=(e,t)=>{if(typeof e!="function")throw new TypeError(Ar(32))},du=()=>{},GS=(e,t=du)=>(e.catch(t),e),XS=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ns=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ks=e=>{if(e.aborted){const{reason:t}=e;throw new Om(t)}};function QS(e,t){let r=du;return new Promise((n,s)=>{const i=()=>s(new Om(e.reason));if(e.aborted){i();return}r=XS(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=du})}var OL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Om?"cancelled":"rejected",error:r}}finally{t==null||t()}},uu=e=>t=>GS(QS(e,t).then(r=>(ks(e),r))),ZS=e=>{const t=uu(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:gi}=Object,yj={},Am="listenerMiddleware",AL=(e,t)=>{const r=n=>XS(e,()=>Ns(n,e.reason));return(n,s)=>{yg(n);const i=new AbortController;r(i);const o=OL(async()=>{ks(e),ks(i.signal);const l=await n({pause:uu(i.signal),delay:ZS(i.signal),signal:i.signal});return ks(i.signal),l},()=>Ns(i,PL));return s!=null&&s.autoJoin&&t.push(o.catch(du)),{result:uu(e)(o),cancel(){Ns(i,CL)}}}},TL=(e,t)=>{const r=async(n,s)=>{ks(t);let i=()=>{};const l=[new Promise((d,c)=>{let u=e({predicate:n,effect:(m,p)=>{p.unsubscribe(),d([m,p.getState(),p.getOriginalState()])}});i=()=>{u(),c()}})];s!=null&&l.push(new Promise(d=>setTimeout(d,s,null)));try{const d=await QS(t,Promise.race(l));return ks(t),d}finally{i()}};return(n,s)=>GS(r(n,s))},JS=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=Qr(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Ar(21));return yg(i),{predicate:s,type:t,effect:i}},eC=gi(e=>{const{type:t,predicate:r,effect:n}=JS(e);return{id:hL(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ar(22))}}},{withTypes:()=>eC}),gj=(e,t)=>{const{type:r,effect:n,predicate:s}=JS(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},Kx=e=>{e.pending.forEach(t=>{Ns(t,Wx)})},DL=(e,t)=>()=>{for(const r of t.keys())Kx(r);e.clear()},vj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},tC=gi(Qr(`${Am}/add`),{withTypes:()=>tC}),IL=Qr(`${Am}/removeAll`),rC=gi(Qr(`${Am}/remove`),{withTypes:()=>rC}),ML=(...e)=>{console.error(`${Am}/error`,...e)},Wl=(e={})=>{const t=new Map,r=new Map,n=x=>{const y=r.get(x)??0;r.set(x,y+1)},s=x=>{const y=r.get(x)??1;y===1?r.delete(x):r.set(x,y-1)},{extra:i,onError:o=ML}=e;yg(o);const l=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),y=>{x.unsubscribe(),y!=null&&y.cancelActive&&Kx(x)}),d=x=>{const y=gj(t,x)??eC(x);return l(y)};gi(d,{withTypes:()=>d});const c=x=>{const y=gj(t,x);return y&&(y.unsubscribe(),x.cancelActive&&Kx(y)),!!y};gi(c,{withTypes:()=>c});const u=async(x,y,g,v)=>{const h=new AbortController,b=TL(d,h.signal),j=[];try{x.pending.add(h),n(x),await Promise.resolve(x.effect(y,gi({},g,{getOriginalState:v,condition:(k,S)=>b(k,S).then(Boolean),take:b,delay:ZS(h.signal),pause:uu(h.signal),extra:i,signal:h.signal,fork:AL(h.signal,j),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((k,S,N)=>{k!==h&&(Ns(k,Wx),N.delete(k))})},cancel:()=>{Ns(h,Wx),x.pending.delete(h)},throwIfCancelled:()=>{ks(h.signal)}})))}catch(k){k instanceof Om||vj(o,k,{raisedBy:"effect"})}finally{await Promise.all(j),Ns(h,EL),s(x),x.pending.delete(h)}},m=DL(t,r);return{middleware:x=>y=>g=>{if(!AS(g))return y(g);if(tC.match(g))return d(g.payload);if(IL.match(g)){m();return}if(rC.match(g))return c(g.payload);let v=x.getState();const h=()=>{if(v===yj)throw new Error(Ar(23));return v};let b;try{if(b=y(g),t.size>0){const j=x.getState(),k=Array.from(t.values());for(const S of k){let N=!1;try{N=S.predicate(g,j,v)}catch(P){N=!1,vj(o,P,{raisedBy:"predicate"})}N&&u(S,g,x,h)}}}finally{v=yj}return b},startListening:d,stopListening:c,clearListeners:m}};function Ar(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $L={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nC=Nr({name:"chartLayout",initialState:$L,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:LL,setLayout:RL,setChartSize:zL,setScale:FL}=nC.actions,BL=nC.reducer;function aC(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){UL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UL(e,t,r){return(t=WL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WL(e){var t=KL(e,"string");return typeof t=="symbol"?t:t+""}function KL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function We(e,t,r){return rt(e)||rt(t)?r:Dn(t)?Is(e,t,r):typeof t=="function"?t(e):r}var HL=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&ye(e[i]))return di(di({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&ye(e[o]))return di(di({},e),{},{[o]:e[o]+(s||0)})}return e},rs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",sC=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(r),o},iC=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:l,isCategorical:d,categoricalDomain:c,tickCount:u,ticks:m,niceTicks:p,axisType:x}=e;if(!o)return null;var y=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=s==="category"&&o.bandwidth?o.bandwidth()/y:0;if(g=x==="angleAxis"&&i&&i.length>=2?Lt(i[0]-i[1])*2*g:g,m||p){var v=(m||p||[]).map((h,b)=>{var j=n?n.indexOf(h):h;return{coordinate:o(j)+g,value:h,offset:g,index:b}});return v.filter(h=>!yn(h.coordinate))}return d&&c?c.map((h,b)=>({coordinate:o(h)+g,value:h,index:b,offset:g})):o.ticks&&u!=null?o.ticks(u).map((h,b)=>({coordinate:o(h)+g,value:h,offset:g,index:b})):o.domain().map((h,b)=>({coordinate:o(h)+g,value:n?n[h]:h,index:b,offset:g}))},jj=1e-4,VL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-jj,i=Math.max(n[0],n[1])+jj,o=e(t[0]),l=e(t[r-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},qL=(e,t)=>{if(!t||t.length!==2||!ye(t[0])||!ye(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!ye(e[0])||e[0]<r)&&(s[0]=r),(!ye(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},YL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var l=yn(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},GL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=yn(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},XL={sign:YL,expand:E$,none:Ti,silhouette:O$,wiggle:A$,positive:GL},QL=(e,t,r)=>{var n=XL[r],s=P$().keys(t).value((i,o)=>Number(We(i,o,0))).order(Dx).offset(n);return s(e)};function ZL(e){return e==null?void 0:String(e)}function wj(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!rt(s[t.dataKey])){var l=X_(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=We(s,rt(o)?t.dataKey:o);return rt(d)?null:t.scale(d)}var Nj=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=We(i,t.dataKey,t.scale.domain()[o]);return rt(l)?null:t.scale(l)-s/2+n},JL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},eR=e=>{var t=e.flat(2).filter(ye);return[Math.min(...t),Math.max(...t)]},tR=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],rR=(e,t,r)=>{if(e!=null)return tR(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((d,c)=>{var u=aC(c,t,r),m=eR(u);return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},kj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_j=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$i=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=Nm(t,u=>u.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var d=s[o],c=s[o-1];i=Math.min((d.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function Sj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return di(di({},t),{},{dataKey:r,payload:n,value:s,name:i})}function Gi(e,t){if(e)return String(e);if(typeof t=="string")return t}var nR=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},aR=(e,t)=>t==="centric"?e.angle:e.radius,ma=e=>e.layout.width,fa=e=>e.layout.height,sR=e=>e.layout.scale,oC=e=>e.layout.margin,Tm=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Dm=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),lC="data-recharts-item-index",cC="data-recharts-item-data-key",Kl=60;function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){iR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iR(e,t,r){return(t=oR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oR(e){var t=lR(e,"string");return typeof t=="symbol"?t:t+""}function lR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cR=e=>e.brush.height;function dR(e){var t=Dm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Kl;return r+s}return r},0)}function uR(e){var t=Dm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Kl;return r+s}return r},0)}function mR(e){var t=Tm(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function fR(e){var t=Tm(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Et=V([ma,fa,oC,cR,dR,uR,mR,fR,CS,R5],(e,t,r,n,s,i,o,l,d,c)=>{var u={left:(r.left||0)+s,right:(r.right||0)+i},m={top:(r.top||0)+o,bottom:(r.bottom||0)+l},p=Kc(Kc({},m),u),x=p.bottom;p.bottom+=n,p=HL(p,d,c);var y=e-p.left-p.right,g=t-p.top-p.bottom;return Kc(Kc({brushBottom:x},p),{},{width:Math.max(y,0),height:Math.max(g,0)})}),pR=V(Et,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),gg=V(ma,fa,(e,t)=>({x:0,y:0,width:e,height:t})),xR=f.createContext(null),nr=()=>f.useContext(xR)!=null,Im=e=>e.brush,Mm=V([Im,Et,oC],(e,t,r)=>({height:e.height,x:ye(e.x)?e.x:t.left,y:ye(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ye(e.width)?e.width:t.width})),dC={},uC={},mC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,l=null;const d=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),u=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},m=()=>{c&&u(),g()};let p=null;const x=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,m()},n)},y=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{y(),o=void 0,l=null},v=()=>{u()},h=function(...b){if(s!=null&&s.aborted)return;o=this,l=b;const j=p==null;x(),d&&j&&u()};return h.schedule=x,h.cancel=g,h.flush=v,s==null||s.addEventListener("abort",g,{once:!0}),h}e.debounce=t})(mC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mC;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:d}=i,c=Array(2);o&&(c[0]="leading"),l&&(c[1]="trailing");let u,m=null;const p=t.debounce(function(...g){u=n.apply(this,g),m=null},s,{edges:c}),x=function(...g){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(u=n.apply(this,g),m=Date.now(),p.cancel(),p.schedule(),u):(p.apply(this,g),u)},y=()=>(p.flush(),u);return x.cancel=p.cancel,x.flush=y,x}e.debounce=r})(uC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uC;function r(n,s=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:o,maxWait:s,trailing:l})}e.throttle=r})(dC);var hR=dC.throttle;const yR=$n(hR);var mu=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>s[o++]))}},fC=(e,t,r)=>{var{width:n="100%",height:s="100%",aspect:i,maxHeight:o}=r,l=na(n)?e:Number(n),d=na(s)?t:Number(s);return i&&i>0&&(l?d=l/i:d&&(l=d*i),o&&d!=null&&d>o&&(d=o)),{calculatedWidth:l,calculatedHeight:d}},gR={width:0,height:0,overflow:"visible"},vR={width:0,overflowX:"visible"},bR={height:0,overflowY:"visible"},jR={},wR=e=>{var{width:t,height:r}=e,n=na(t),s=na(r);return n&&s?gR:n?vR:s?bR:jR};function NR(e){var{width:t,height:r,aspect:n}=e,s=t,i=r;return s===void 0&&i===void 0?(s="100%",i="100%"):s===void 0?s=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:s,height:i}}function gt(e){return Number.isFinite(e)}function In(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(null,arguments)}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){kR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kR(e,t,r){return(t=_R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _R(e){var t=SR(e,"string");return typeof t=="symbol"?t:t+""}function SR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pC=f.createContext({width:-1,height:-1});function CR(e){return In(e.width)&&In(e.height)}function xC(e){var{children:t,width:r,height:n}=e,s=f.useMemo(()=>({width:r,height:n}),[r,n]);return CR(s)?f.createElement(pC.Provider,{value:s},t):null}var vg=()=>f.useContext(pC),PR=f.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s,height:i,minWidth:o=0,minHeight:l,maxHeight:d,children:c,debounce:u=0,id:m,className:p,onResize:x,style:y={}}=e,g=f.useRef(null),v=f.useRef();v.current=x,f.useImperativeHandle(t,()=>g.current);var[h,b]=f.useState({containerWidth:n.width,containerHeight:n.height}),j=f.useCallback((w,C)=>{b(O=>{var _=Math.round(w),E=Math.round(C);return O.containerWidth===_&&O.containerHeight===E?O:{containerWidth:_,containerHeight:E}})},[]);f.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return zl;var w=E=>{var I,{width:A,height:M}=E[0].contentRect;j(A,M),(I=v.current)===null||I===void 0||I.call(v,A,M)};u>0&&(w=yR(w,u,{trailing:!0,leading:!1}));var C=new ResizeObserver(w),{width:O,height:_}=g.current.getBoundingClientRect();return j(O,_),C.observe(g.current),()=>{C.disconnect()}},[j,u]);var{containerWidth:k,containerHeight:S}=h;mu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:N,calculatedHeight:P}=fC(k,S,{width:s,height:i,aspect:r,maxHeight:d});return mu(N!=null&&N>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,P,s,i,o,l,r),f.createElement("div",{id:m?"".concat(m):void 0,className:$e("recharts-responsive-container",p),style:Ej(Ej({},y),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:d}),ref:g},f.createElement("div",{style:wR({width:s,height:i})},f.createElement(xC,{width:N,height:P},c)))}),bd=f.forwardRef((e,t)=>{var r=vg();if(In(r.width)&&In(r.height))return e.children;var{width:n,height:s}=NR({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=fC(void 0,void 0,{width:n,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return ye(i)&&ye(o)?f.createElement(xC,{width:i,height:o},e.children):f.createElement(PR,Hx({},e,{width:n,height:s,ref:t}))});function hC(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var $m=()=>{var e,t=nr(),r=pe(pR),n=pe(Mm),s=(e=pe(Im))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},ER={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},yC=()=>{var e;return(e=pe(Et))!==null&&e!==void 0?e:ER},bg=()=>pe(ma),jg=()=>pe(fa),OR=()=>pe(e=>e.layout.margin),Te=e=>e.layout.layoutType,Hl=()=>pe(Te),AR=()=>{var e=Hl();return e!==void 0},Lm=e=>{var t=Ye(),r=nr(),{width:n,height:s}=e,i=vg(),o=n,l=s;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:s),f.useEffect(()=>{!r&&In(o)&&In(l)&&t(zL({width:o,height:l}))},[t,r,o,l]),null},gC=Symbol.for("immer-nothing"),Oj=Symbol.for("immer-draftable"),Mr=Symbol.for("immer-state");function un(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var hl=Object.getPrototypeOf;function Li(e){return!!e&&!!e[Mr]}function Ms(e){var t;return e?vC(e)||Array.isArray(e)||!!e[Oj]||!!((t=e.constructor)!=null&&t[Oj])||Vl(e)||zm(e):!1}var TR=Object.prototype.constructor.toString(),Aj=new WeakMap;function vC(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Aj.get(r);return n===void 0&&(n=Function.toString.call(r),Aj.set(r,n)),n===TR}function fu(e,t,r=!0){Rm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function Rm(e){const t=e[Mr];return t?t.type_:Array.isArray(e)?1:Vl(e)?2:zm(e)?3:0}function Vx(e,t){return Rm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bC(e,t,r){const n=Rm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function DR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Vl(e){return e instanceof Map}function zm(e){return e instanceof Set}function us(e){return e.copy_||e.base_}function qx(e,t){if(Vl(e))return new Map(e);if(zm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=vC(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Mr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(hl(e),n)}else{const n=hl(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function wg(e,t=!1){return Fm(e)||Li(e)||!Ms(e)||(Rm(e)>1&&Object.defineProperties(e,{set:Hc,add:Hc,clear:Hc,delete:Hc}),Object.freeze(e),t&&Object.values(e).forEach(r=>wg(r,!0))),e}function IR(){un(2)}var Hc={value:IR};function Fm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var MR={};function $s(e){const t=MR[e];return t||un(0,e),t}var yl;function jC(){return yl}function $R(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Tj(e,t){t&&($s("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Yx(e){Gx(e),e.drafts_.forEach(LR),e.drafts_=null}function Gx(e){e===yl&&(yl=e.parent_)}function Dj(e){return yl=$R(yl,e)}function LR(e){const t=e[Mr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ij(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Mr].modified_&&(Yx(t),un(4)),Ms(e)&&(e=pu(t,e),t.parent_||xu(t,e)),t.patches_&&$s("Patches").generateReplacementPatches_(r[Mr].base_,e,t.patches_,t.inversePatches_)):e=pu(t,r,[]),Yx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gC?e:void 0}function pu(e,t,r){if(Fm(t))return t;const n=e.immer_.shouldUseStrictIteration(),s=t[Mr];if(!s)return fu(t,(i,o)=>Mj(e,s,t,i,o,r),n),t;if(s.scope_!==e)return t;if(!s.modified_)return xu(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let o=i,l=!1;s.type_===3&&(o=new Set(i),i.clear(),l=!0),fu(o,(d,c)=>Mj(e,s,i,d,c,r,l),n),xu(e,i,!1),r&&e.patches_&&$s("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function Mj(e,t,r,n,s,i,o){if(s==null||typeof s!="object"&&!o)return;const l=Fm(s);if(!(l&&!o)){if(Li(s)){const d=i&&t&&t.type_!==3&&!Vx(t.assigned_,n)?i.concat(n):void 0,c=pu(e,s,d);if(bC(r,n,c),Li(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Ms(s)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===s&&l)return;pu(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Vl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&xu(e,s)}}}function xu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wg(t,r)}function RR(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:jC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=Ng;r&&(s=[n],i=gl);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,l}var Ng={get(e,t){if(t===Mr)return e;const r=us(e);if(!Vx(r,t))return zR(e,r,t);const n=r[t];return e.finalized_||!Ms(n)?n:n===np(e.base_,t)?(ap(e),e.copy_[t]=Qx(n,e)):n},has(e,t){return t in us(e)},ownKeys(e){return Reflect.ownKeys(us(e))},set(e,t,r){const n=wC(us(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=np(us(e),t),i=s==null?void 0:s[Mr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(DR(r,s)&&(r!==void 0||Vx(e.base_,t)))return!0;ap(e),Xx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return np(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ap(e),Xx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=us(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){un(11)},getPrototypeOf(e){return hl(e.base_)},setPrototypeOf(){un(12)}},gl={};fu(Ng,(e,t)=>{gl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});gl.deleteProperty=function(e,t){return gl.set.call(this,e,t,void 0)};gl.set=function(e,t,r){return Ng.set.call(this,e[0],t,r,e[0])};function np(e,t){const r=e[Mr];return(r?us(r):e)[t]}function zR(e,t,r){var s;const n=wC(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function wC(e,t){if(!(t in e))return;let r=hl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=hl(r)}}function Xx(e){e.modified_||(e.modified_=!0,e.parent_&&Xx(e.parent_))}function ap(e){e.copy_||(e.copy_=qx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var FR=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(d=i,...c){return o.produce(d,u=>r.call(this,u,...c))}}typeof r!="function"&&un(6),n!==void 0&&typeof n!="function"&&un(7);let s;if(Ms(t)){const i=Dj(this),o=Qx(t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?Yx(i):Gx(i)}return Tj(i,n),Ij(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===gC&&(s=void 0),this.autoFreeze_&&wg(s,!0),n){const i=[],o=[];$s("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else un(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,d=>t(d,...l));let n,s;return[this.produce(t,r,(o,l)=>{n=o,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ms(e)||un(8),Li(e)&&(e=BR(e));const t=Dj(this),r=Qx(e,void 0);return r[Mr].isManual_=!0,Gx(t),r}finishDraft(e,t){const r=e&&e[Mr];(!r||!r.isManual_)&&un(9);const{scope_:n}=r;return Tj(n,t),Ij(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=$s("Patches").applyPatches_;return Li(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Qx(e,t){const r=Vl(e)?$s("MapSet").proxyMap_(e,t):zm(e)?$s("MapSet").proxySet_(e,t):RR(e,t);return(t?t.scope_:jC()).drafts_.push(r),r}function BR(e){return Li(e)||un(10,e),NC(e)}function NC(e){if(!Ms(e)||Fm(e))return e;const t=e[Mr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=qx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=qx(e,!0);return fu(r,(s,i)=>{bC(r,s,NC(i))},n),t&&(t.finalized_=!1),r}var UR=new FR;UR.produce;var WR={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},kC=Nr({name:"legend",initialState:WR,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ze()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,s=xn(e).payload.indexOf(r);s>-1&&(e.payload[s]=n)},prepare:Ze()},removeLegendPayload:{reducer(e,t){var r=xn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ze()}}}),{setLegendSize:$j,setLegendSettings:KR,addLegendPayload:_C,replaceLegendPayload:SC,removeLegendPayload:CC}=kC.actions,HR=kC.reducer,VR=["contextPayload"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(null,arguments)}function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){qR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qR(e,t,r){return(t=YR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YR(e){var t=GR(e,"string");return typeof t=="symbol"?t:t+""}function GR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XR(e,t){if(e==null)return{};var r,n,s=QR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function QR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZR(e){return e.value}function JR(e){var{contextPayload:t}=e,r=XR(e,VR),n=hS(t,e.payloadUniqBy,ZR),s=Ri(Ri({},r),{},{payload:n});return f.isValidElement(e.content)?f.cloneElement(e.content,s):typeof e.content=="function"?f.createElement(e.content,s):f.createElement(n5,s)}function ez(e,t,r,n,s,i){var{layout:o,align:l,verticalAlign:d}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?c={left:((n||0)-i.width)/2}:c=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?u={top:((s||0)-i.height)/2}:u=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ri(Ri({},c),u)}function tz(e){var t=Ye();return f.useEffect(()=>{t(KR(e))},[t,e]),null}function rz(e){var t=Ye();return f.useEffect(()=>(t($j(e)),()=>{t($j({width:0,height:0}))}),[t,e]),null}function nz(e,t,r,n){return e==="vertical"&&ye(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var az={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function PC(e){var t=_t(e,az),r=B5(),n=ZM(),s=OR(),{width:i,height:o,wrapperStyle:l,portal:d}=t,[c,u]=PS([r]),m=bg(),p=jg();if(m==null||p==null)return null;var x=m-((s==null?void 0:s.left)||0)-((s==null?void 0:s.right)||0),y=nz(t.layout,o,i,x),g=d?l:Ri(Ri({position:"absolute",width:(y==null?void 0:y.width)||i||"auto",height:(y==null?void 0:y.height)||o||"auto"},ez(l,t,s,m,p,c)),l),v=d??n;if(v==null||r==null)return null;var h=f.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},f.createElement(tz,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&f.createElement(rz,{width:c.width,height:c.height}),f.createElement(JR,Zx({},t,y,{margin:s,chartWidth:m,chartHeight:p,contextPayload:r})));return Tl.createPortal(h,v)}PC.displayName="Legend";function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jx.apply(null,arguments)}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sz(e,t,r){return(t=iz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iz(e){var t=oz(e,"string");return typeof t=="symbol"?t:t+""}function oz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lz(e){return Array.isArray(e)&&Dn(e[0])&&Dn(e[1])?e.join(" ~ "):e}var cz=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:d,labelClassName:c,label:u,labelFormatter:m,accessibilityLayer:p=!1}=e,x=()=>{if(i&&i.length){var S={padding:0,margin:0},N=(l?Nm(i,l):i).map((P,w)=>{if(P.type==="none")return null;var C=P.formatter||o||lz,{value:O,name:_}=P,E=O,I=_;if(C){var A=C(O,_,P,w,i);if(Array.isArray(A))[E,I]=A;else if(A!=null)E=A;else return null}var M=sp({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return f.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(w),style:M},Dn(I)?f.createElement("span",{className:"recharts-tooltip-item-name"},I):null,Dn(I)?f.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,f.createElement("span",{className:"recharts-tooltip-item-value"},E),f.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return f.createElement("ul",{className:"recharts-tooltip-item-list",style:S},N)}return null},y=sp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=sp({margin:0},s),v=!rt(u),h=v?u:"",b=$e("recharts-default-tooltip",d),j=$e("recharts-tooltip-label",c);v&&m&&i!==void 0&&i!==null&&(h=m(u,i));var k=p?{role:"status","aria-live":"assertive"}:{};return f.createElement("div",Jx({className:b,style:y},k),f.createElement("p",{className:j,style:g},f.isValidElement(h)?h:"".concat(h)),x())},go="recharts-tooltip-wrapper",dz={visibility:"hidden"};function uz(e){var{coordinate:t,translateX:r,translateY:n}=e;return $e(go,{["".concat(go,"-right")]:ye(r)&&t&&ye(t.x)&&r>=t.x,["".concat(go,"-left")]:ye(r)&&t&&ye(t.x)&&r<t.x,["".concat(go,"-bottom")]:ye(n)&&t&&ye(t.y)&&n>=t.y,["".concat(go,"-top")]:ye(n)&&t&&ye(t.y)&&n<t.y})}function zj(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:d,viewBoxDimension:c}=e;if(i&&ye(i[n]))return i[n];var u=r[n]-l-(s>0?s:0),m=r[n]+s;if(t[n])return o[n]?u:m;var p=d[n];if(p==null)return 0;if(o[n]){var x=u,y=p;return x<y?Math.max(m,p):Math.max(u,p)}if(c==null)return 0;var g=m+l,v=p+c;return g>v?Math.max(u,p):Math.max(m,p)}function mz(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function fz(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:d}=e,c,u,m;return o.height>0&&o.width>0&&r?(u=zj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),m=zj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),c=mz({translateX:u,translateY:m,useTranslate3d:l})):c=dz,{cssProperties:c,cssClasses:uz({translateX:u,translateY:m,coordinate:r})}}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){eh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eh(e,t,r){return(t=pz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pz(e){var t=xz(e,"string");return typeof t=="symbol"?t:t+""}function xz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class hz extends f.PureComponent{constructor(){super(...arguments),eh(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),eh(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:d,offset:c,position:u,reverseDirection:m,useTranslate3d:p,viewBox:x,wrapperStyle:y,lastBoundingBox:g,innerRef:v,hasPortalFromProps:h}=this.props,{cssClasses:b,cssProperties:j}=fz({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:m,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:x}),k=h?{}:Vc(Vc({transition:d&&t?"transform ".concat(n,"ms ").concat(s):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),S=Vc(Vc({},k),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return f.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:S,ref:v},i)}}var EC=()=>{var e;return(e=pe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(null,arguments)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Uj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){yz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yz(e,t,r){return(t=gz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gz(e){var t=vz(e,"string");return typeof t=="symbol"?t:t+""}function vz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wj={curveBasisClosed:y$,curveBasisOpen:g$,curveBasis:h$,curveBumpX:r$,curveBumpY:n$,curveLinearClosed:v$,curveLinear:hm,curveMonotoneX:b$,curveMonotoneY:j$,curveNatural:w$,curveStep:N$,curveStepAfter:_$,curveStepBefore:k$},hu=e=>gt(e.x)&&gt(e.y),Kj=e=>e.base!=null&&hu(e.base)&&hu(e),vo=e=>e.x,bo=e=>e.y,bz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Rl(e));return(r==="curveMonotone"||r==="curveBump")&&t?Wj["".concat(r).concat(t==="vertical"?"Y":"X")]:Wj[r]||hm},jz=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=bz(t,s),l=i?r.filter(hu):r,d;if(Array.isArray(n)){var c=r.map((x,y)=>Uj(Uj({},x),{},{base:n[y]}));s==="vertical"?d=Rc().y(bo).x1(vo).x0(x=>x.base.x):d=Rc().x(vo).y1(bo).y0(x=>x.base.y);var u=d.defined(Kj).curve(o),m=i?c.filter(Kj):c;return u(m)}s==="vertical"&&ye(n)?d=Rc().y(bo).x1(vo).x0(n):ye(n)?d=Rc().x(vo).y1(bo).y0(n):d=$_().x(vo).y(bo);var p=d.defined(hu).curve(o);return p(l)},kg=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?jz(e):n;return f.createElement("path",th({},Ir(e),Qy(e),{className:$e("recharts-curve",t),d:i===null?void 0:i,ref:s}))},wz=["x","y","top","left","width","height","className"];function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rh.apply(null,arguments)}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){kz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kz(e,t,r){return(t=_z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e){var t=Sz(e,"string");return typeof t=="symbol"?t:t+""}function Sz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cz(e,t){if(e==null)return{};var r,n,s=Pz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Pz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ez=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Oz=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,d=Cz(e,wz),c=Nz({x:t,y:r,top:n,left:s,width:i,height:o},d);return!ye(t)||!ye(r)||!ye(i)||!ye(o)||!ye(n)||!ye(s)?null:f.createElement("path",rh({},cr(c),{className:$e("recharts-cross",l),d:Ez(t,r,i,o,n,s)}))};function Az(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){Tz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tz(e,t,r){return(t=Dz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dz(e){var t=Iz(e,"string");return typeof t=="symbol"?t:t+""}function Iz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mz=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),OC=(e,t,r)=>e.map(n=>"".concat(Mz(n)," ").concat(t,"ms ").concat(r)).join(","),$z=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),vl=(e,t)=>Object.keys(t).reduce((r,n)=>qj(qj({},r),{},{[n]:e(n,t[n])}),{});function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){Lz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lz(e,t,r){return(t=Rz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rz(e){var t=zz(e,"string");return typeof t=="symbol"?t:t+""}function zz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yu=(e,t,r)=>e+(t-e)*r,nh=e=>{var{from:t,to:r}=e;return t!==r},AC=(e,t,r)=>{var n=vl((s,i)=>{if(nh(i)){var[o,l]=e(i.from,i.to,i.velocity);return Ct(Ct({},i),{},{from:o,velocity:l})}return i},t);return r<1?vl((s,i)=>nh(i)?Ct(Ct({},i),{},{velocity:yu(i.velocity,n[s].velocity,r),from:yu(i.from,n[s].from,r)}):i,t):AC(e,n,r-1)};function Fz(e,t,r,n,s,i){var o,l=n.reduce((p,x)=>Ct(Ct({},p),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),d=()=>vl((p,x)=>x.from,l),c=()=>!Object.values(l).filter(nh).length,u=null,m=p=>{o||(o=p);var x=p-o,y=x/r.dt;l=AC(r,l,y),s(Ct(Ct(Ct({},e),t),d())),o=p,c()||(u=i.setTimeout(m))};return()=>(u=i.setTimeout(m),()=>{var p;(p=u)===null||p===void 0||p()})}function Bz(e,t,r,n,s,i,o){var l=null,d=s.reduce((m,p)=>Ct(Ct({},m),{},{[p]:[e[p],t[p]]}),{}),c,u=m=>{c||(c=m);var p=(m-c)/n,x=vl((g,v)=>yu(...v,r(p)),d);if(i(Ct(Ct(Ct({},e),t),x)),p<1)l=o.setTimeout(u);else{var y=vl((g,v)=>yu(...v,r(1)),d);i(Ct(Ct(Ct({},e),t),y))}};return()=>(l=o.setTimeout(u),()=>{var m;(m=l)===null||m===void 0||m()})}const Uz=(e,t,r,n,s,i)=>{var o=$z(e,t);return r==null?()=>(s(Ct(Ct({},e),t)),()=>{}):r.isStepper===!0?Fz(e,t,r,o,s,i):Bz(e,t,r,n,o,s,i)};var gu=1e-4,TC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],DC=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Gj=(e,t)=>r=>{var n=TC(e,t);return DC(n,r)},Wz=(e,t)=>r=>{var n=TC(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return DC(s,r)},Kz=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,i=r[0].split("(");if(i[0]==="cubic-bezier"&&((s=i[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var o=i[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},Hz=(e,t,r,n)=>{var s=Gj(e,r),i=Gj(t,n),o=Wz(e,r),l=c=>c>1?1:c<0?0:c,d=c=>{for(var u=c>1?1:c,m=u,p=0;p<8;++p){var x=s(m)-u,y=o(m);if(Math.abs(x-u)<gu||y<gu)return i(m);m=l(m-x/y)}return i(m)};return d.isStepper=!1,d},Xj=function(){return Hz(...Kz(...arguments))},Vz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,l,d)=>{var c=-(o-l)*r,u=d*n,m=d+(c-u)*s/1e3,p=d*s/1e3+o;return Math.abs(p-l)<gu&&Math.abs(m)<gu?[l,0]:[p,m]};return i.isStepper=!0,i.dt=s,i},qz=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Xj(e);case"spring":return Vz();default:if(e.split("(")[0]==="cubic-bezier")return Xj(e)}return typeof e=="function"?e:null};function Yz(e){var t,r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[d,...c]=l;if(typeof d=="number"){s=e.setTimeout(i.bind(null,c),d);return}i(d),s=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Gz{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{s!=null&&cancelAnimationFrame(s)}}}function Xz(){return Yz(new Gz)}var Qz=f.createContext(Xz);function Zz(e,t){var r=f.useContext(Qz);return f.useMemo(()=>t??r(e),[e,t,r])}var Jz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ql={devToolsEnabled:!1,isSsr:Jz()},e6={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Qj={t:0},ip={t:1};function Yl(e){var t=_t(e,e6),{isActive:r,canBegin:n,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:d,children:c}=t,u=r==="auto"?!ql.isSsr:r,m=Zz(t.animationId,t.animationManager),[p,x]=f.useState(u?Qj:ip),y=f.useRef(null);return f.useEffect(()=>{u||x(ip)},[u]),f.useEffect(()=>{if(!u||!n)return zl;var g=Uz(Qj,ip,qz(i),s,x,m.getTimeoutController()),v=()=>{y.current=g()};return m.start([d,o,v,s,l]),()=>{m.stop(),y.current&&y.current(),l()}},[u,n,s,i,o,d,l,m]),c(p.t)}function Gl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=f.useRef(ml(t)),n=f.useRef(e);return n.current!==e&&(r.current=ml(t),n.current=e),r.current}var t6=["radius"],r6=["radius"];function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){n6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n6(e,t,r){return(t=a6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a6(e){var t=s6(e,"string");return typeof t=="symbol"?t:t+""}function s6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vu.apply(null,arguments)}function ew(e,t){if(e==null)return{};var r,n,s=i6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function i6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tw=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,c;if(i>0&&s instanceof Array){for(var u=[0,0,0,0],m=0,p=4;m<p;m++)u[m]=s[m]>i?i:s[m];c="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(d,",").concat(e+l*u[0],",").concat(t)),c+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+o*u[1])),c+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(d,`,
        `).concat(e+r-l*u[2],",").concat(t+n)),c+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-o*u[3])),c+="Z"}else if(i>0&&s===+s&&s>0){var x=Math.min(i,s);c="M ".concat(e,",").concat(t+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+l*x,",").concat(t,`
            L `).concat(e+r-l*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+r,",").concat(t+o*x,`
            L `).concat(e+r,",").concat(t+n-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+r-l*x,",").concat(t+n,`
            L `).concat(e+l*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(t+n-o*x," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},rw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IC=e=>{var t=_t(e,rw),r=f.useRef(null),[n,s]=f.useState(-1);f.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var H=r.current.getTotalLength();H&&s(H)}catch{}},[]);var{x:i,y:o,width:l,height:d,radius:c,className:u}=t,{animationEasing:m,animationDuration:p,animationBegin:x,isAnimationActive:y,isUpdateAnimationActive:g}=t,v=f.useRef(l),h=f.useRef(d),b=f.useRef(i),j=f.useRef(o),k=f.useMemo(()=>({x:i,y:o,width:l,height:d,radius:c}),[i,o,l,d,c]),S=Gl(k,"rectangle-");if(i!==+i||o!==+o||l!==+l||d!==+d||l===0||d===0)return null;var N=$e("recharts-rectangle",u);if(!g){var P=cr(t),{radius:w}=P,C=ew(P,t6);return f.createElement("path",vu({},C,{radius:typeof c=="number"?c:void 0,className:N,d:tw(i,o,l,d,c)}))}var O=v.current,_=h.current,E=b.current,I=j.current,A="0px ".concat(n===-1?1:n,"px"),M="".concat(n,"px 0px"),B=OC(["strokeDasharray"],p,typeof m=="string"?m:rw.animationEasing);return f.createElement(Yl,{animationId:S,key:S,canBegin:n>0,duration:p,easing:m,isActive:g,begin:x},H=>{var R=Je(O,l,H),L=Je(_,d,H),z=Je(E,i,H),Q=Je(I,o,H);r.current&&(v.current=R,h.current=L,b.current=z,j.current=Q);var T;y?H>0?T={transition:B,strokeDasharray:M}:T={strokeDasharray:A}:T={strokeDasharray:M};var Z=cr(t),{radius:te}=Z,$=ew(Z,r6);return f.createElement("path",vu({},$,{radius:typeof c=="number"?c:void 0,className:N,d:tw(z,Q,R,L,c),ref:r,style:Jj(Jj({},T),t.style)}))})};function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(n){o6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o6(e,t,r){return(t=l6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l6(e){var t=c6(e,"string");return typeof t=="symbol"?t:t+""}function c6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bu=Math.PI/180,d6=e=>e*180/Math.PI,wt=(e,t,r,n)=>({x:e+Math.cos(-bu*n)*r,y:t+Math.sin(-bu*n)*r}),MC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},u6=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},m6=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=u6({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-s)/o,d=Math.acos(l);return n>i&&(d=2*Math.PI-d),{radius:o,angle:d6(d),angleInRadian:d}},f6=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},p6=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},x6=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:s,angle:i}=m6({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:d,endAngle:c}=f6(t),u=i,m;if(d<=c){for(;u>c;)u-=360;for(;u<d;)u+=360;m=u>=d&&u<=c}else{for(;u>d;)u-=360;for(;u<c;)u+=360;m=u>=c&&u<=d}return m?aw(aw({},t),{},{radius:s,angle:p6(u,t)}):null};function $C(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=wt(t,r,n,s),l=wt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ah.apply(null,arguments)}var h6=(e,t)=>{var r=Lt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},qc=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:d}=e,c=l*(o?1:-1)+n,u=Math.asin(l/c)/bu,m=d?s:s+i*u,p=wt(t,r,c,m),x=wt(t,r,n,m),y=d?s-i*u:s,g=wt(t,r,c*Math.cos(u*bu),y);return{center:p,circleTangency:x,lineTangency:g,theta:u}},LC=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,l=h6(i,o),d=i+l,c=wt(t,r,s,i),u=wt(t,r,s,d),m="M ".concat(c.x,",").concat(c.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>d),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var p=wt(t,r,n,i),x=wt(t,r,n,d);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},y6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:d,endAngle:c}=e,u=Lt(c-d),{circleTangency:m,lineTangency:p,theta:x}=qc({cx:t,cy:r,radius:s,angle:d,sign:u,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:g,theta:v}=qc({cx:t,cy:r,radius:s,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:l}),h=l?Math.abs(d-c):Math.abs(d-c)-x-v;if(h<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):LC({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:d,endAngle:c});var b="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(h>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:k,theta:S}=qc({cx:t,cy:r,radius:n,angle:d,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:N,lineTangency:P,theta:w}=qc({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),C=l?Math.abs(d-c):Math.abs(d-c)-S-w;if(C<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},g6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RC=e=>{var t=_t(e,g6),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:d,startAngle:c,endAngle:u,className:m}=t;if(i<s||c===u)return null;var p=$e("recharts-sector",m),x=i-s,y=tr(o,x,0,!0),g;return y>0&&Math.abs(c-u)<360?g=y6({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(y,x/2),forceCornerRadius:l,cornerIsExternal:d,startAngle:c,endAngle:u}):g=LC({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:c,endAngle:u}),f.createElement("path",ah({},cr(t),{className:p,d:g}))};function v6(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(Z_(t)){if(e==="centric"){var{cx:n,cy:s,innerRadius:i,outerRadius:o,angle:l}=t,d=wt(n,s,i,l),c=wt(n,s,o,l);return[{x:d.x,y:d.y},{x:c.x,y:c.y}]}return $C(t)}}var zC={},FC={},BC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lg;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(BC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BC;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(FC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cg,r=FC;function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),d=new Array(l);for(let c=0;c<l;c++)d[c]=s,s+=o;return d}e.range=n})(zC);var b6=zC.range;const UC=$n(b6);function Ba(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function j6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _g(e){let t,r,n;e.length!==2?(t=Ba,r=(l,d)=>Ba(e(l),d),n=(l,d)=>e(l)-d):(t=e===Ba||e===j6?e:w6,r=e,n=e);function s(l,d,c=0,u=l.length){if(c<u){if(t(d,d)!==0)return u;do{const m=c+u>>>1;r(l[m],d)<0?c=m+1:u=m}while(c<u)}return c}function i(l,d,c=0,u=l.length){if(c<u){if(t(d,d)!==0)return u;do{const m=c+u>>>1;r(l[m],d)<=0?c=m+1:u=m}while(c<u)}return c}function o(l,d,c=0,u=l.length){const m=s(l,d,c,u-1);return m>c&&n(l[m-1],d)>-n(l[m],d)?m-1:m}return{left:s,center:o,right:i}}function w6(){return 0}function WC(e){return e===null?NaN:+e}function*N6(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const k6=_g(Ba),Xl=k6.right;_g(WC).center;class sw extends Map{constructor(t,r=C6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(iw(this,t))}has(t){return super.has(iw(this,t))}set(t,r){return super.set(_6(this,t),r)}delete(t){return super.delete(S6(this,t))}}function iw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function _6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function S6({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function C6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function P6(e=Ba){if(e===Ba)return KC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function KC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const E6=Math.sqrt(50),O6=Math.sqrt(10),A6=Math.sqrt(2);function ju(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=E6?10:i>=O6?5:i>=A6?2:1;let l,d,c;return s<0?(c=Math.pow(10,-s)/o,l=Math.round(e*c),d=Math.round(t*c),l/c<e&&++l,d/c>t&&--d,c=-c):(c=Math.pow(10,s)*o,l=Math.round(e/c),d=Math.round(t/c),l*c<e&&++l,d*c>t&&--d),d<l&&.5<=r&&r<2?ju(e,t,r*2):[l,d,c]}function sh(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?ju(t,e,r):ju(e,t,r);if(!(i>=s))return[];const l=i-s+1,d=new Array(l);if(n)if(o<0)for(let c=0;c<l;++c)d[c]=(i-c)/-o;else for(let c=0;c<l;++c)d[c]=(i-c)*o;else if(o<0)for(let c=0;c<l;++c)d[c]=(s+c)/-o;else for(let c=0;c<l;++c)d[c]=(s+c)*o;return d}function ih(e,t,r){return t=+t,e=+e,r=+r,ju(e,t,r)[2]}function oh(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?ih(t,e,r):ih(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function ow(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function lw(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function HC(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?KC:P6(s);n>r;){if(n-r>600){const d=n-r+1,c=t-r+1,u=Math.log(d),m=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*m*(d-m)/d)*(c-d/2<0?-1:1),x=Math.max(r,Math.floor(t-c*m/d+p)),y=Math.min(n,Math.floor(t+(d-c)*m/d+p));HC(e,t,x,y,s)}const i=e[t];let o=r,l=n;for(jo(e,r,t),s(e[n],i)>0&&jo(e,r,n);o<l;){for(jo(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?jo(e,r,l):(++l,jo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function jo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function T6(e,t,r){if(e=Float64Array.from(N6(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return lw(e);if(t>=1)return ow(e);var n,s=(n-1)*t,i=Math.floor(s),o=ow(HC(e,i).subarray(0,i+1)),l=lw(e.subarray(i+1));return o+(l-o)*(s-i)}}function D6(e,t,r=WC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function I6(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function en(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function pa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const lh=Symbol("implicit");function Sg(){var e=new sw,t=[],r=[],n=lh;function s(i){let o=e.get(i);if(o===void 0){if(n!==lh)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new sw;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Sg(t,r).unknown(n)},en.apply(s,arguments),s}function Cg(){var e=Sg().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,d=0,c=0,u=.5;delete e.unknown;function m(){var p=t().length,x=s<n,y=x?s:n,g=x?n:s;i=(g-y)/Math.max(1,p-d+c*2),l&&(i=Math.floor(i)),y+=(g-y-i*(p-d))*u,o=i*(1-d),l&&(y=Math.round(y),o=Math.round(o));var v=I6(p).map(function(h){return y+i*h});return r(x?v.reverse():v)}return e.domain=function(p){return arguments.length?(t(p),m()):t()},e.range=function(p){return arguments.length?([n,s]=p,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(p){return[n,s]=p,n=+n,s=+s,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,m()):l},e.padding=function(p){return arguments.length?(d=Math.min(1,c=+p),m()):d},e.paddingInner=function(p){return arguments.length?(d=Math.min(1,p),m()):d},e.paddingOuter=function(p){return arguments.length?(c=+p,m()):c},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),m()):u},e.copy=function(){return Cg(t(),[n,s]).round(l).paddingInner(d).paddingOuter(c).align(u)},en.apply(m(),arguments)}function VC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return VC(t())},e}function M6(){return VC(Cg.apply(null,arguments).paddingInner(1))}function Pg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function qC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ql(){}var bl=.7,wu=1/bl,vi="\\s*([+-]?\\d+)\\s*",jl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$6=/^#([0-9a-f]{3,8})$/,L6=new RegExp(`^rgb\\(${vi},${vi},${vi}\\)$`),R6=new RegExp(`^rgb\\(${Tn},${Tn},${Tn}\\)$`),z6=new RegExp(`^rgba\\(${vi},${vi},${vi},${jl}\\)$`),F6=new RegExp(`^rgba\\(${Tn},${Tn},${Tn},${jl}\\)$`),B6=new RegExp(`^hsl\\(${jl},${Tn},${Tn}\\)$`),U6=new RegExp(`^hsla\\(${jl},${Tn},${Tn},${jl}\\)$`),cw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pg(Ql,wl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dw,formatHex:dw,formatHex8:W6,formatHsl:K6,formatRgb:uw,toString:uw});function dw(){return this.rgb().formatHex()}function W6(){return this.rgb().formatHex8()}function K6(){return YC(this).formatHsl()}function uw(){return this.rgb().formatRgb()}function wl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$6.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?mw(t):r===3?new yr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Yc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Yc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=L6.exec(e))?new yr(t[1],t[2],t[3],1):(t=R6.exec(e))?new yr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=z6.exec(e))?Yc(t[1],t[2],t[3],t[4]):(t=F6.exec(e))?Yc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=B6.exec(e))?xw(t[1],t[2]/100,t[3]/100,1):(t=U6.exec(e))?xw(t[1],t[2]/100,t[3]/100,t[4]):cw.hasOwnProperty(e)?mw(cw[e]):e==="transparent"?new yr(NaN,NaN,NaN,0):null}function mw(e){return new yr(e>>16&255,e>>8&255,e&255,1)}function Yc(e,t,r,n){return n<=0&&(e=t=r=NaN),new yr(e,t,r,n)}function H6(e){return e instanceof Ql||(e=wl(e)),e?(e=e.rgb(),new yr(e.r,e.g,e.b,e.opacity)):new yr}function ch(e,t,r,n){return arguments.length===1?H6(e):new yr(e,t,r,n??1)}function yr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Pg(yr,ch,qC(Ql,{brighter(e){return e=e==null?wu:Math.pow(wu,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bl:Math.pow(bl,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yr(_s(this.r),_s(this.g),_s(this.b),Nu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fw,formatHex:fw,formatHex8:V6,formatRgb:pw,toString:pw}));function fw(){return`#${ys(this.r)}${ys(this.g)}${ys(this.b)}`}function V6(){return`#${ys(this.r)}${ys(this.g)}${ys(this.b)}${ys((isNaN(this.opacity)?1:this.opacity)*255)}`}function pw(){const e=Nu(this.opacity);return`${e===1?"rgb(":"rgba("}${_s(this.r)}, ${_s(this.g)}, ${_s(this.b)}${e===1?")":`, ${e})`}`}function Nu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _s(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ys(e){return e=_s(e),(e<16?"0":"")+e.toString(16)}function xw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new mn(e,t,r,n)}function YC(e){if(e instanceof mn)return new mn(e.h,e.s,e.l,e.opacity);if(e instanceof Ql||(e=wl(e)),!e)return new mn;if(e instanceof mn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,d=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=d<.5?i+s:2-i-s,o*=60):l=d>0&&d<1?0:o,new mn(o,l,d,e.opacity)}function q6(e,t,r,n){return arguments.length===1?YC(e):new mn(e,t,r,n??1)}function mn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Pg(mn,q6,qC(Ql,{brighter(e){return e=e==null?wu:Math.pow(wu,e),new mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bl:Math.pow(bl,e),new mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new yr(op(e>=240?e-240:e+120,s,n),op(e,s,n),op(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new mn(hw(this.h),Gc(this.s),Gc(this.l),Nu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nu(this.opacity);return`${e===1?"hsl(":"hsla("}${hw(this.h)}, ${Gc(this.s)*100}%, ${Gc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hw(e){return e=(e||0)%360,e<0?e+360:e}function Gc(e){return Math.max(0,Math.min(1,e||0))}function op(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Eg=e=>()=>e;function Y6(e,t){return function(r){return e+r*t}}function G6(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function X6(e){return(e=+e)==1?GC:function(t,r){return r-t?G6(t,r,e):Eg(isNaN(t)?r:t)}}function GC(e,t){var r=t-e;return r?Y6(e,r):Eg(isNaN(e)?t:e)}const yw=function e(t){var r=X6(t);function n(s,i){var o=r((s=ch(s)).r,(i=ch(i)).r),l=r(s.g,i.g),d=r(s.b,i.b),c=GC(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=d(u),s.opacity=c(u),s+""}}return n.gamma=e,n}(1);function Q6(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function Z6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function J6(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Xi(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function eF(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ku(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function tF(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Xi(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var dh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lp=new RegExp(dh.source,"g");function rF(e){return function(){return e}}function nF(e){return function(t){return e(t)+""}}function aF(e,t){var r=dh.lastIndex=lp.lastIndex=0,n,s,i,o=-1,l=[],d=[];for(e=e+"",t=t+"";(n=dh.exec(e))&&(s=lp.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,d.push({i:o,x:ku(n,s)})),r=lp.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?d[0]?nF(d[0].x):rF(t):(t=d.length,function(c){for(var u=0,m;u<t;++u)l[(m=d[u]).i]=m.x(c);return l.join("")})}function Xi(e,t){var r=typeof t,n;return t==null||r==="boolean"?Eg(t):(r==="number"?ku:r==="string"?(n=wl(t))?(t=n,yw):aF:t instanceof wl?yw:t instanceof Date?eF:Z6(t)?Q6:Array.isArray(t)?J6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tF:ku)(e,t)}function Og(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function sF(e,t){t===void 0&&(t=e,e=Xi);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function iF(e){return function(){return e}}function _u(e){return+e}var gw=[0,1];function or(e){return e}function uh(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:iF(isNaN(t)?NaN:.5)}function oF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function lF(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=uh(s,n),i=r(o,i)):(n=uh(n,s),i=r(i,o)),function(l){return i(n(l))}}function cF(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=uh(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var d=Xl(e,l,1,n)-1;return i[d](s[d](l))}}function Zl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Bm(){var e=gw,t=gw,r=Xi,n,s,i,o=or,l,d,c;function u(){var p=Math.min(e.length,t.length);return o!==or&&(o=oF(e[0],e[p-1])),l=p>2?cF:lF,d=c=null,m}function m(p){return p==null||isNaN(p=+p)?i:(d||(d=l(e.map(n),t,r)))(n(o(p)))}return m.invert=function(p){return o(s((c||(c=l(t,e.map(n),ku)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,_u),u()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),r=Og,u()},m.clamp=function(p){return arguments.length?(o=p?!0:or,u()):o!==or},m.interpolate=function(p){return arguments.length?(r=p,u()):r},m.unknown=function(p){return arguments.length?(i=p,m):i},function(p,x){return n=p,s=x,u()}}function Ag(){return Bm()(or,or)}function dF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Su(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function zi(e){return e=Su(Math.abs(e)),e?e[1]:NaN}function uF(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],d=0;s>0&&l>0&&(d+l+1>n&&(l=Math.max(1,n-d)),i.push(r.substring(s-=l,s+l)),!((d+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function mF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var fF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nl(e){if(!(t=fF.exec(e)))throw new Error("invalid format: "+e);var t;return new Tg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Nl.prototype=Tg.prototype;function Tg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Tg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pF(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var XC;function xF(e,t){var r=Su(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(XC=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Su(e,Math.max(0,t+i-1))[0]}function vw(e,t){var r=Su(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const bw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:dF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vw(e*100,t),r:vw,s:xF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function jw(e){return e}var ww=Array.prototype.map,Nw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hF(e){var t=e.grouping===void 0||e.thousands===void 0?jw:uF(ww.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?jw:mF(ww.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function c(m){m=Nl(m);var p=m.fill,x=m.align,y=m.sign,g=m.symbol,v=m.zero,h=m.width,b=m.comma,j=m.precision,k=m.trim,S=m.type;S==="n"?(b=!0,S="g"):bw[S]||(j===void 0&&(j=12),k=!0,S="g"),(v||p==="0"&&x==="=")&&(v=!0,p="0",x="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=g==="$"?n:/[%p]/.test(S)?o:"",w=bw[S],C=/[defgprs%]/.test(S);j=j===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function O(_){var E=N,I=P,A,M,B;if(S==="c")I=w(_)+I,_="";else{_=+_;var H=_<0||1/_<0;if(_=isNaN(_)?d:w(Math.abs(_),j),k&&(_=pF(_)),H&&+_==0&&y!=="+"&&(H=!1),E=(H?y==="("?y:l:y==="-"||y==="("?"":y)+E,I=(S==="s"?Nw[8+XC/3]:"")+I+(H&&y==="("?")":""),C){for(A=-1,M=_.length;++A<M;)if(B=_.charCodeAt(A),48>B||B>57){I=(B===46?s+_.slice(A+1):_.slice(A))+I,_=_.slice(0,A);break}}}b&&!v&&(_=t(_,1/0));var R=E.length+_.length+I.length,L=R<h?new Array(h-R+1).join(p):"";switch(b&&v&&(_=t(L+_,L.length?h-I.length:1/0),L=""),x){case"<":_=E+_+I+L;break;case"=":_=E+L+_+I;break;case"^":_=L.slice(0,R=L.length>>1)+E+_+I+L.slice(R);break;default:_=L+E+_+I;break}return i(_)}return O.toString=function(){return m+""},O}function u(m,p){var x=c((m=Nl(m),m.type="f",m)),y=Math.max(-8,Math.min(8,Math.floor(zi(p)/3)))*3,g=Math.pow(10,-y),v=Nw[8+y/3];return function(h){return x(g*h)+v}}return{format:c,formatPrefix:u}}var Xc,Dg,QC;yF({thousands:",",grouping:[3],currency:["$",""]});function yF(e){return Xc=hF(e),Dg=Xc.format,QC=Xc.formatPrefix,Xc}function gF(e){return Math.max(0,-zi(Math.abs(e)))}function vF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zi(t)/3)))*3-zi(Math.abs(e)))}function bF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zi(t)-zi(e))+1}function ZC(e,t,r,n){var s=oh(e,t,r),i;switch(n=Nl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=vF(s,o))&&(n.precision=i),QC(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=bF(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=gF(s))&&(n.precision=i-(n.type==="%")*2);break}}return Dg(n)}function ns(e){var t=e.domain;return e.ticks=function(r){var n=t();return sh(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return ZC(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],d,c,u=10;for(l<o&&(c=o,o=l,l=c,c=s,s=i,i=c);u-- >0;){if(c=ih(o,l,r),c===d)return n[s]=o,n[i]=l,t(n);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;d=c}return e},e}function JC(){var e=Ag();return e.copy=function(){return Zl(e,JC())},en.apply(e,arguments),ns(e)}function e4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,_u),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return e4(e).unknown(t)},e=arguments.length?Array.from(e,_u):[0,1],ns(r)}function t4(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function kw(e){return Math.log(e)}function _w(e){return Math.exp(e)}function jF(e){return-Math.log(-e)}function wF(e){return-Math.exp(-e)}function NF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kF(e){return e===10?NF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _F(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Sw(e){return(t,r)=>-e(-t,r)}function Ig(e){const t=e(kw,_w),r=t.domain;let n=10,s,i;function o(){return s=_F(n),i=kF(n),r()[0]<0?(s=Sw(s),i=Sw(i),e(jF,wF)):e(kw,_w),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const d=r();let c=d[0],u=d[d.length-1];const m=u<c;m&&([c,u]=[u,c]);let p=s(c),x=s(u),y,g;const v=l==null?10:+l;let h=[];if(!(n%1)&&x-p<v){if(p=Math.floor(p),x=Math.ceil(x),c>0){for(;p<=x;++p)for(y=1;y<n;++y)if(g=p<0?y/i(-p):y*i(p),!(g<c)){if(g>u)break;h.push(g)}}else for(;p<=x;++p)for(y=n-1;y>=1;--y)if(g=p>0?y/i(-p):y*i(p),!(g<c)){if(g>u)break;h.push(g)}h.length*2<v&&(h=sh(c,u,v))}else h=sh(p,x,Math.min(x-p,v)).map(i);return m?h.reverse():h},t.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Nl(d)).precision==null&&(d.trim=!0),d=Dg(d)),l===1/0)return d;const c=Math.max(1,n*l/t.ticks().length);return u=>{let m=u/i(Math.round(s(u)));return m*n<n-.5&&(m*=n),m<=c?d(u):""}},t.nice=()=>r(t4(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function r4(){const e=Ig(Bm()).domain([1,10]);return e.copy=()=>Zl(e,r4()).base(e.base()),en.apply(e,arguments),e}function Cw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Pw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Mg(e){var t=1,r=e(Cw(t),Pw(t));return r.constant=function(n){return arguments.length?e(Cw(t=+n),Pw(t)):t},ns(r)}function n4(){var e=Mg(Bm());return e.copy=function(){return Zl(e,n4()).constant(e.constant())},en.apply(e,arguments)}function Ew(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function SF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function CF(e){return e<0?-e*e:e*e}function $g(e){var t=e(or,or),r=1;function n(){return r===1?e(or,or):r===.5?e(SF,CF):e(Ew(r),Ew(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},ns(t)}function Lg(){var e=$g(Bm());return e.copy=function(){return Zl(e,Lg()).exponent(e.exponent())},en.apply(e,arguments),e}function PF(){return Lg.apply(null,arguments).exponent(.5)}function Ow(e){return Math.sign(e)*e*e}function EF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function a4(){var e=Ag(),t=[0,1],r=!1,n;function s(i){var o=EF(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(Ow(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,_u)).map(Ow)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return a4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},en.apply(s,arguments),ns(s)}function s4(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=D6(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Xl(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ba),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return s4().domain(e).range(t).unknown(n)},en.apply(i,arguments)}function i4(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(d){return d!=null&&d<=d?s[Xl(n,d,0,r)]:i}function l(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,l()):[e,t]},o.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,l()):s.slice()},o.invertExtent=function(d){var c=s.indexOf(d);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return i4().domain([e,t]).range(s).unknown(i)},en.apply(ns(o),arguments)}function o4(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Xl(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return o4().domain(e).range(t).unknown(r)},en.apply(s,arguments)}const cp=new Date,dp=new Date;function Ot(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const d=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return d;let c;do d.push(c=new Date(+i)),t(i,l),e(i);while(c<i&&i<o);return d},s.filter=i=>Ot(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(cp.setTime(+i),dp.setTime(+o),e(cp),e(dp),Math.floor(r(cp,dp))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Cu=Ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Cu);Cu.range;const Hn=1e3,qr=Hn*60,Vn=qr*60,sa=Vn*24,Rg=sa*7,Aw=sa*30,up=sa*365,gs=Ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getUTCSeconds());gs.range;const zg=Ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hn)},(e,t)=>{e.setTime(+e+t*qr)},(e,t)=>(t-e)/qr,e=>e.getMinutes());zg.range;const Fg=Ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qr)},(e,t)=>(t-e)/qr,e=>e.getUTCMinutes());Fg.range;const Bg=Ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hn-e.getMinutes()*qr)},(e,t)=>{e.setTime(+e+t*Vn)},(e,t)=>(t-e)/Vn,e=>e.getHours());Bg.range;const Ug=Ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vn)},(e,t)=>(t-e)/Vn,e=>e.getUTCHours());Ug.range;const Jl=Ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qr)/sa,e=>e.getDate()-1);Jl.range;const Um=Ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sa,e=>e.getUTCDate()-1);Um.range;const l4=Ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sa,e=>Math.floor(e/sa));l4.range;function Ws(e){return Ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*qr)/Rg)}const Wm=Ws(0),Pu=Ws(1),OF=Ws(2),AF=Ws(3),Fi=Ws(4),TF=Ws(5),DF=Ws(6);Wm.range;Pu.range;OF.range;AF.range;Fi.range;TF.range;DF.range;function Ks(e){return Ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Rg)}const Km=Ks(0),Eu=Ks(1),IF=Ks(2),MF=Ks(3),Bi=Ks(4),$F=Ks(5),LF=Ks(6);Km.range;Eu.range;IF.range;MF.range;Bi.range;$F.range;LF.range;const Wg=Ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Wg.range;const Kg=Ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Kg.range;const ia=Ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ia.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ia.range;const oa=Ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());oa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});oa.range;function c4(e,t,r,n,s,i){const o=[[gs,1,Hn],[gs,5,5*Hn],[gs,15,15*Hn],[gs,30,30*Hn],[i,1,qr],[i,5,5*qr],[i,15,15*qr],[i,30,30*qr],[s,1,Vn],[s,3,3*Vn],[s,6,6*Vn],[s,12,12*Vn],[n,1,sa],[n,2,2*sa],[r,1,Rg],[t,1,Aw],[t,3,3*Aw],[e,1,up]];function l(c,u,m){const p=u<c;p&&([c,u]=[u,c]);const x=m&&typeof m.range=="function"?m:d(c,u,m),y=x?x.range(c,+u+1):[];return p?y.reverse():y}function d(c,u,m){const p=Math.abs(u-c)/m,x=_g(([,,v])=>v).right(o,p);if(x===o.length)return e.every(oh(c/up,u/up,m));if(x===0)return Cu.every(Math.max(oh(c,u,m),1));const[y,g]=o[p/o[x-1][2]<o[x][2]/p?x-1:x];return y.every(g)}return[l,d]}const[RF,zF]=c4(oa,Kg,Km,l4,Ug,Fg),[FF,BF]=c4(ia,Wg,Wm,Jl,Bg,zg);function mp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function UF(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,d=e.shortMonths,c=No(s),u=ko(s),m=No(i),p=ko(i),x=No(o),y=ko(o),g=No(l),v=ko(l),h=No(d),b=ko(d),j={a:H,A:R,b:L,B:z,c:null,d:Lw,e:Lw,f:uB,g:jB,G:NB,H:lB,I:cB,j:dB,L:d4,m:mB,M:fB,p:Q,q:T,Q:Fw,s:Bw,S:pB,u:xB,U:hB,V:yB,w:gB,W:vB,x:null,X:null,y:bB,Y:wB,Z:kB,"%":zw},k={a:Z,A:te,b:$,B:Y,c:null,d:Rw,e:Rw,f:PB,g:RB,G:FB,H:_B,I:SB,j:CB,L:m4,m:EB,M:OB,p:le,q:se,Q:Fw,s:Bw,S:AB,u:TB,U:DB,V:IB,w:MB,W:$B,x:null,X:null,y:LB,Y:zB,Z:BB,"%":zw},S={a:O,A:_,b:E,B:I,c:A,d:Mw,e:Mw,f:aB,g:Iw,G:Dw,H:$w,I:$w,j:eB,L:nB,m:JF,M:tB,p:C,q:ZF,Q:iB,s:oB,S:rB,u:qF,U:YF,V:GF,w:VF,W:XF,x:M,X:B,y:Iw,Y:Dw,Z:QF,"%":sB};j.x=N(r,j),j.X=N(n,j),j.c=N(t,j),k.x=N(r,k),k.X=N(n,k),k.c=N(t,k);function N(K,ue){return function(he){var J=[],D=-1,X=0,ce=K.length,W,ee,ie;for(he instanceof Date||(he=new Date(+he));++D<ce;)K.charCodeAt(D)===37&&(J.push(K.slice(X,D)),(ee=Tw[W=K.charAt(++D)])!=null?W=K.charAt(++D):ee=W==="e"?" ":"0",(ie=ue[W])&&(W=ie(he,ee)),J.push(W),X=D+1);return J.push(K.slice(X,D)),J.join("")}}function P(K,ue){return function(he){var J=wo(1900,void 0,1),D=w(J,K,he+="",0),X,ce;if(D!=he.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(ue&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(X=fp(wo(J.y,0,1)),ce=X.getUTCDay(),X=ce>4||ce===0?Eu.ceil(X):Eu(X),X=Um.offset(X,(J.V-1)*7),J.y=X.getUTCFullYear(),J.m=X.getUTCMonth(),J.d=X.getUTCDate()+(J.w+6)%7):(X=mp(wo(J.y,0,1)),ce=X.getDay(),X=ce>4||ce===0?Pu.ceil(X):Pu(X),X=Jl.offset(X,(J.V-1)*7),J.y=X.getFullYear(),J.m=X.getMonth(),J.d=X.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),ce="Z"in J?fp(wo(J.y,0,1)).getUTCDay():mp(wo(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(ce+5)%7:J.w+J.U*7-(ce+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,fp(J)):mp(J)}}function w(K,ue,he,J){for(var D=0,X=ue.length,ce=he.length,W,ee;D<X;){if(J>=ce)return-1;if(W=ue.charCodeAt(D++),W===37){if(W=ue.charAt(D++),ee=S[W in Tw?ue.charAt(D++):W],!ee||(J=ee(K,he,J))<0)return-1}else if(W!=he.charCodeAt(J++))return-1}return J}function C(K,ue,he){var J=c.exec(ue.slice(he));return J?(K.p=u.get(J[0].toLowerCase()),he+J[0].length):-1}function O(K,ue,he){var J=x.exec(ue.slice(he));return J?(K.w=y.get(J[0].toLowerCase()),he+J[0].length):-1}function _(K,ue,he){var J=m.exec(ue.slice(he));return J?(K.w=p.get(J[0].toLowerCase()),he+J[0].length):-1}function E(K,ue,he){var J=h.exec(ue.slice(he));return J?(K.m=b.get(J[0].toLowerCase()),he+J[0].length):-1}function I(K,ue,he){var J=g.exec(ue.slice(he));return J?(K.m=v.get(J[0].toLowerCase()),he+J[0].length):-1}function A(K,ue,he){return w(K,t,ue,he)}function M(K,ue,he){return w(K,r,ue,he)}function B(K,ue,he){return w(K,n,ue,he)}function H(K){return o[K.getDay()]}function R(K){return i[K.getDay()]}function L(K){return d[K.getMonth()]}function z(K){return l[K.getMonth()]}function Q(K){return s[+(K.getHours()>=12)]}function T(K){return 1+~~(K.getMonth()/3)}function Z(K){return o[K.getUTCDay()]}function te(K){return i[K.getUTCDay()]}function $(K){return d[K.getUTCMonth()]}function Y(K){return l[K.getUTCMonth()]}function le(K){return s[+(K.getUTCHours()>=12)]}function se(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ue=N(K+="",j);return ue.toString=function(){return K},ue},parse:function(K){var ue=P(K+="",!1);return ue.toString=function(){return K},ue},utcFormat:function(K){var ue=N(K+="",k);return ue.toString=function(){return K},ue},utcParse:function(K){var ue=P(K+="",!0);return ue.toString=function(){return K},ue}}}var Tw={"-":"",_:" ",0:"0"},Ft=/^\s*\d+/,WF=/^%/,KF=/[\\^$*+?|[\]().{}]/g;function Le(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function HF(e){return e.replace(KF,"\\$&")}function No(e){return new RegExp("^(?:"+e.map(HF).join("|")+")","i")}function ko(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function VF(e,t,r){var n=Ft.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function qF(e,t,r){var n=Ft.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function YF(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function GF(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function XF(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Dw(e,t,r){var n=Ft.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Iw(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function QF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ZF(e,t,r){var n=Ft.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function JF(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Mw(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function eB(e,t,r){var n=Ft.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function $w(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function tB(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function rB(e,t,r){var n=Ft.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function nB(e,t,r){var n=Ft.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function aB(e,t,r){var n=Ft.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function sB(e,t,r){var n=WF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function iB(e,t,r){var n=Ft.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function oB(e,t,r){var n=Ft.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Lw(e,t){return Le(e.getDate(),t,2)}function lB(e,t){return Le(e.getHours(),t,2)}function cB(e,t){return Le(e.getHours()%12||12,t,2)}function dB(e,t){return Le(1+Jl.count(ia(e),e),t,3)}function d4(e,t){return Le(e.getMilliseconds(),t,3)}function uB(e,t){return d4(e,t)+"000"}function mB(e,t){return Le(e.getMonth()+1,t,2)}function fB(e,t){return Le(e.getMinutes(),t,2)}function pB(e,t){return Le(e.getSeconds(),t,2)}function xB(e){var t=e.getDay();return t===0?7:t}function hB(e,t){return Le(Wm.count(ia(e)-1,e),t,2)}function u4(e){var t=e.getDay();return t>=4||t===0?Fi(e):Fi.ceil(e)}function yB(e,t){return e=u4(e),Le(Fi.count(ia(e),e)+(ia(e).getDay()===4),t,2)}function gB(e){return e.getDay()}function vB(e,t){return Le(Pu.count(ia(e)-1,e),t,2)}function bB(e,t){return Le(e.getFullYear()%100,t,2)}function jB(e,t){return e=u4(e),Le(e.getFullYear()%100,t,2)}function wB(e,t){return Le(e.getFullYear()%1e4,t,4)}function NB(e,t){var r=e.getDay();return e=r>=4||r===0?Fi(e):Fi.ceil(e),Le(e.getFullYear()%1e4,t,4)}function kB(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Le(t/60|0,"0",2)+Le(t%60,"0",2)}function Rw(e,t){return Le(e.getUTCDate(),t,2)}function _B(e,t){return Le(e.getUTCHours(),t,2)}function SB(e,t){return Le(e.getUTCHours()%12||12,t,2)}function CB(e,t){return Le(1+Um.count(oa(e),e),t,3)}function m4(e,t){return Le(e.getUTCMilliseconds(),t,3)}function PB(e,t){return m4(e,t)+"000"}function EB(e,t){return Le(e.getUTCMonth()+1,t,2)}function OB(e,t){return Le(e.getUTCMinutes(),t,2)}function AB(e,t){return Le(e.getUTCSeconds(),t,2)}function TB(e){var t=e.getUTCDay();return t===0?7:t}function DB(e,t){return Le(Km.count(oa(e)-1,e),t,2)}function f4(e){var t=e.getUTCDay();return t>=4||t===0?Bi(e):Bi.ceil(e)}function IB(e,t){return e=f4(e),Le(Bi.count(oa(e),e)+(oa(e).getUTCDay()===4),t,2)}function MB(e){return e.getUTCDay()}function $B(e,t){return Le(Eu.count(oa(e)-1,e),t,2)}function LB(e,t){return Le(e.getUTCFullYear()%100,t,2)}function RB(e,t){return e=f4(e),Le(e.getUTCFullYear()%100,t,2)}function zB(e,t){return Le(e.getUTCFullYear()%1e4,t,4)}function FB(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Bi(e):Bi.ceil(e),Le(e.getUTCFullYear()%1e4,t,4)}function BB(){return"+0000"}function zw(){return"%"}function Fw(e){return+e}function Bw(e){return Math.floor(+e/1e3)}var Ys,p4,x4;UB({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UB(e){return Ys=UF(e),p4=Ys.format,Ys.parse,x4=Ys.utcFormat,Ys.utcParse,Ys}function WB(e){return new Date(e)}function KB(e){return e instanceof Date?+e:+new Date(+e)}function Hg(e,t,r,n,s,i,o,l,d,c){var u=Ag(),m=u.invert,p=u.domain,x=c(".%L"),y=c(":%S"),g=c("%I:%M"),v=c("%I %p"),h=c("%a %d"),b=c("%b %d"),j=c("%B"),k=c("%Y");function S(N){return(d(N)<N?x:l(N)<N?y:o(N)<N?g:i(N)<N?v:n(N)<N?s(N)<N?h:b:r(N)<N?j:k)(N)}return u.invert=function(N){return new Date(m(N))},u.domain=function(N){return arguments.length?p(Array.from(N,KB)):p().map(WB)},u.ticks=function(N){var P=p();return e(P[0],P[P.length-1],N??10)},u.tickFormat=function(N,P){return P==null?S:c(P)},u.nice=function(N){var P=p();return(!N||typeof N.range!="function")&&(N=t(P[0],P[P.length-1],N??10)),N?p(t4(P,N)):u},u.copy=function(){return Zl(u,Hg(e,t,r,n,s,i,o,l,d,c))},u}function HB(){return en.apply(Hg(FF,BF,ia,Wg,Wm,Jl,Bg,zg,gs,p4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VB(){return en.apply(Hg(RF,zF,oa,Kg,Km,Um,Ug,Fg,gs,x4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hm(){var e=0,t=1,r,n,s,i,o=or,l=!1,d;function c(m){return m==null||isNaN(m=+m)?d:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}c.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(m){return arguments.length?(l=!!m,c):l},c.interpolator=function(m){return arguments.length?(o=m,c):o};function u(m){return function(p){var x,y;return arguments.length?([x,y]=p,o=m(x,y),c):[o(0),o(1)]}}return c.range=u(Xi),c.rangeRound=u(Og),c.unknown=function(m){return arguments.length?(d=m,c):d},function(m){return i=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),c}}function as(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function h4(){var e=ns(Hm()(or));return e.copy=function(){return as(e,h4())},pa.apply(e,arguments)}function y4(){var e=Ig(Hm()).domain([1,10]);return e.copy=function(){return as(e,y4()).base(e.base())},pa.apply(e,arguments)}function g4(){var e=Mg(Hm());return e.copy=function(){return as(e,g4()).constant(e.constant())},pa.apply(e,arguments)}function Vg(){var e=$g(Hm());return e.copy=function(){return as(e,Vg()).exponent(e.exponent())},pa.apply(e,arguments)}function qB(){return Vg.apply(null,arguments).exponent(.5)}function v4(){var e=[],t=or;function r(n){if(n!=null&&!isNaN(n=+n))return t((Xl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ba),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>T6(e,i/n))},r.copy=function(){return v4(t).domain(e)},pa.apply(r,arguments)}function Vm(){var e=0,t=.5,r=1,n=1,s,i,o,l,d,c=or,u,m=!1,p;function x(g){return isNaN(g=+g)?p:(g=.5+((g=+u(g))-i)*(n*g<n*i?l:d),c(m?Math.max(0,Math.min(1,g)):g))}x.domain=function(g){return arguments.length?([e,t,r]=g,s=u(e=+e),i=u(t=+t),o=u(r=+r),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),n=i<s?-1:1,x):[e,t,r]},x.clamp=function(g){return arguments.length?(m=!!g,x):m},x.interpolator=function(g){return arguments.length?(c=g,x):c};function y(g){return function(v){var h,b,j;return arguments.length?([h,b,j]=v,c=sF(g,[h,b,j]),x):[c(0),c(.5),c(1)]}}return x.range=y(Xi),x.rangeRound=y(Og),x.unknown=function(g){return arguments.length?(p=g,x):p},function(g){return u=g,s=g(e),i=g(t),o=g(r),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),n=i<s?-1:1,x}}function b4(){var e=ns(Vm()(or));return e.copy=function(){return as(e,b4())},pa.apply(e,arguments)}function j4(){var e=Ig(Vm()).domain([.1,1,10]);return e.copy=function(){return as(e,j4()).base(e.base())},pa.apply(e,arguments)}function w4(){var e=Mg(Vm());return e.copy=function(){return as(e,w4()).constant(e.constant())},pa.apply(e,arguments)}function qg(){var e=$g(Vm());return e.copy=function(){return as(e,qg()).exponent(e.exponent())},pa.apply(e,arguments)}function YB(){return qg.apply(null,arguments).exponent(.5)}const Do=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cg,scaleDiverging:b4,scaleDivergingLog:j4,scaleDivergingPow:qg,scaleDivergingSqrt:YB,scaleDivergingSymlog:w4,scaleIdentity:e4,scaleImplicit:lh,scaleLinear:JC,scaleLog:r4,scaleOrdinal:Sg,scalePoint:M6,scalePow:Lg,scaleQuantile:s4,scaleQuantize:i4,scaleRadial:a4,scaleSequential:h4,scaleSequentialLog:y4,scaleSequentialPow:Vg,scaleSequentialQuantile:v4,scaleSequentialSqrt:qB,scaleSequentialSymlog:g4,scaleSqrt:PF,scaleSymlog:n4,scaleThreshold:o4,scaleTime:HB,scaleUtc:VB,tickFormat:ZC},Symbol.toStringTag,{value:"Module"}));var ss=e=>e.chartData,Yg=V([ss],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),qm=(e,t,r,n)=>n?Yg(e):ss(e);function Va(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(gt(t)&&gt(r))return!0}return!1}function Uw(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function N4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(gt(r))s=r;else if(typeof r=="function")return;if(gt(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(Va(o))return o}}function GB(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Va(n))return Uw(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if(ye(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&kj.test(s)){var d=kj.exec(s);if(d==null||t==null)o=void 0;else{var c=+d[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ye(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&_j.test(i)){var u=_j.exec(i);if(u==null||t==null)l=void 0;else{var m=+u[1];l=t[1]+m}}else l=t==null?void 0:t[1];var p=[o,l];if(Va(p))return t==null?p:Uw(p,t,r)}}}var Qi=1e9,XB={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xg,tt=!0,Zr="[DecimalError] ",Ss=Zr+"Invalid argument: ",Gg=Zr+"Exponent out of range: ",Zi=Math.floor,ms=Math.pow,QB=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cr,Mt=1e7,Xe=7,k4=9007199254740991,Ou=Zi(k4/Xe),xe={};xe.absoluteValue=xe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};xe.comparedTo=xe.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};xe.dividedBy=xe.div=function(e){return Yn(this,new this.constructor(e))};xe.dividedToIntegerBy=xe.idiv=function(e){var t=this,r=t.constructor;return Ke(Yn(t,new r(e),0,1),r.precision)};xe.equals=xe.eq=function(e){return!this.cmp(e)};xe.exponent=function(){return kt(this)};xe.greaterThan=xe.gt=function(e){return this.cmp(e)>0};xe.greaterThanOrEqualTo=xe.gte=function(e){return this.cmp(e)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(e){return this.cmp(e)<0};xe.lessThanOrEqualTo=xe.lte=function(e){return this.cmp(e)<1};xe.logarithm=xe.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Cr))throw Error(Zr+"NaN");if(r.s<1)throw Error(Zr+(r.s?"NaN":"-Infinity"));return r.eq(Cr)?new n(0):(tt=!1,t=Yn(kl(r,i),kl(e,i),i),tt=!0,Ke(t,s))};xe.minus=xe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C4(t,e):_4(t,(e.s=-e.s,e))};xe.modulo=xe.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Zr+"NaN");return r.s?(tt=!1,t=Yn(r,e,0,1).times(e),tt=!0,r.minus(t)):Ke(new n(r),s)};xe.naturalExponential=xe.exp=function(){return S4(this)};xe.naturalLogarithm=xe.ln=function(){return kl(this)};xe.negated=xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};xe.plus=xe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_4(t,e):C4(t,(e.s=-e.s,e))};xe.precision=xe.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ss+e);if(t=kt(s)+1,n=s.d.length-1,r=n*Xe+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};xe.squareRoot=xe.sqrt=function(){var e,t,r,n,s,i,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(Zr+"NaN")}for(e=kt(l),tt=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Pn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Zi((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(s.toString()),r=d.precision,s=o=r+3;;)if(i=n,n=i.plus(Yn(l,i,o+2)).times(.5),Pn(i.d).slice(0,o)===(t=Pn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Ke(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return tt=!0,Ke(n,r)};xe.times=xe.mul=function(e){var t,r,n,s,i,o,l,d,c,u=this,m=u.constructor,p=u.d,x=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,r=u.e+e.e,d=p.length,c=x.length,d<c&&(i=p,p=x,x=i,o=d,d=c,c=o),i=[],o=d+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,s=d+n;s>n;)l=i[s]+x[n]*p[s-n-1]+t,i[s--]=l%Mt|0,t=l/Mt|0;i[s]=(i[s]+t)%Mt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,tt?Ke(e,m.precision):e};xe.toDecimalPlaces=xe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Mn(e,0,Qi),t===void 0?t=n.rounding:Mn(t,0,8),Ke(r,e+kt(r)+1,t))};xe.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ls(n,!0):(Mn(e,0,Qi),t===void 0?t=s.rounding:Mn(t,0,8),n=Ke(new s(n),e+1,t),r=Ls(n,!0,e+1)),r};xe.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Ls(s):(Mn(e,0,Qi),t===void 0?t=i.rounding:Mn(t,0,8),n=Ke(new i(s),e+kt(s)+1,t),r=Ls(n.abs(),!1,e+kt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};xe.toInteger=xe.toint=function(){var e=this,t=e.constructor;return Ke(new t(e),kt(e)+1,t.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(e){var t,r,n,s,i,o,l=this,d=l.constructor,c=12,u=+(e=new d(e));if(!e.s)return new d(Cr);if(l=new d(l),!l.s){if(e.s<1)throw Error(Zr+"Infinity");return l}if(l.eq(Cr))return l;if(n=d.precision,e.eq(Cr))return Ke(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=k4){for(s=new d(Cr),t=Math.ceil(n/Xe+4),tt=!1;r%2&&(s=s.times(l),Kw(s.d,t)),r=Zi(r/2),r!==0;)l=l.times(l),Kw(l.d,t);return tt=!0,e.s<0?new d(Cr).div(s):Ke(s,n)}}else if(i<0)throw Error(Zr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,tt=!1,s=e.times(kl(l,n+c)),tt=!0,s=S4(s),s.s=i,s};xe.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=kt(s),n=Ls(s,r<=i.toExpNeg||r>=i.toExpPos)):(Mn(e,1,Qi),t===void 0?t=i.rounding:Mn(t,0,8),s=Ke(new i(s),e,t),r=kt(s),n=Ls(s,e<=r||r<=i.toExpNeg,e)),n};xe.toSignificantDigits=xe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Mn(e,1,Qi),t===void 0?t=n.rounding:Mn(t,0,8)),Ke(new n(r),e,t)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=kt(e),r=e.constructor;return Ls(e,t<=r.toExpNeg||t>=r.toExpPos)};function _4(e,t){var r,n,s,i,o,l,d,c,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),tt?Ke(t,m):t;if(d=e.d,c=t.d,o=e.e,s=t.e,d=d.slice(),i=o-s,i){for(i<0?(n=d,i=-i,l=c.length):(n=c,s=o,l=d.length),o=Math.ceil(m/Xe),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=d.length,i=c.length,l-i<0&&(i=l,n=c,c=d,d=n),r=0;i;)r=(d[--i]=d[i]+c[i]+r)/Mt|0,d[i]%=Mt;for(r&&(d.unshift(r),++s),l=d.length;d[--l]==0;)d.pop();return t.d=d,t.e=s,tt?Ke(t,m):t}function Mn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ss+e)}function Pn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Xe-n.length,r&&(i+=Na(r)),i+=n;o=e[t],n=o+"",r=Xe-n.length,r&&(i+=Na(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Yn=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Mt|0,o=i/Mt|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,d;if(i!=o)d=i>o?1:-1;else for(l=d=0;l<i;l++)if(n[l]!=s[l]){d=n[l]>s[l]?1:-1;break}return d}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Mt+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,d,c,u,m,p,x,y,g,v,h,b,j,k,S,N,P,w,C=n.constructor,O=n.s==s.s?1:-1,_=n.d,E=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(Zr+"Division by zero");for(d=n.e-s.e,P=E.length,S=_.length,x=new C(O),y=x.d=[],c=0;E[c]==(_[c]||0);)++c;if(E[c]>(_[c]||0)&&--d,i==null?b=i=C.precision:o?b=i+(kt(n)-kt(s))+1:b=i,b<0)return new C(0);if(b=b/Xe+2|0,c=0,P==1)for(u=0,E=E[0],b++;(c<S||u)&&b--;c++)j=u*Mt+(_[c]||0),y[c]=j/E|0,u=j%E|0;else{for(u=Mt/(E[0]+1)|0,u>1&&(E=e(E,u),_=e(_,u),P=E.length,S=_.length),k=P,g=_.slice(0,P),v=g.length;v<P;)g[v++]=0;w=E.slice(),w.unshift(0),N=E[0],E[1]>=Mt/2&&++N;do u=0,l=t(E,g,P,v),l<0?(h=g[0],P!=v&&(h=h*Mt+(g[1]||0)),u=h/N|0,u>1?(u>=Mt&&(u=Mt-1),m=e(E,u),p=m.length,v=g.length,l=t(m,g,p,v),l==1&&(u--,r(m,P<p?w:E,p))):(u==0&&(l=u=1),m=E.slice()),p=m.length,p<v&&m.unshift(0),r(g,m,v),l==-1&&(v=g.length,l=t(E,g,P,v),l<1&&(u++,r(g,P<v?w:E,v))),v=g.length):l===0&&(u++,g=[0]),y[c++]=u,l&&g[0]?g[v++]=_[k]||0:(g=[_[k]],v=1);while((k++<S||g[0]!==void 0)&&b--)}return y[0]||y.shift(),x.e=d,Ke(x,o?i+kt(x)+1:i)}}();function S4(e,t){var r,n,s,i,o,l,d=0,c=0,u=e.constructor,m=u.precision;if(kt(e)>16)throw Error(Gg+kt(e));if(!e.s)return new u(Cr);for(tt=!1,l=m,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(ms(2,c))/Math.LN10*2+5|0,l+=n,r=s=i=new u(Cr),u.precision=l;;){if(s=Ke(s.times(e),l),r=r.times(++d),o=i.plus(Yn(s,r,l)),Pn(o.d).slice(0,l)===Pn(i.d).slice(0,l)){for(;c--;)i=Ke(i.times(i),l);return u.precision=m,t==null?(tt=!0,Ke(i,m)):i}i=o}}function kt(e){for(var t=e.e*Xe,r=e.d[0];r>=10;r/=10)t++;return t}function pp(e,t,r){if(t>e.LN10.sd())throw tt=!0,r&&(e.precision=r),Error(Zr+"LN10 precision limit exceeded");return Ke(new e(e.LN10),t)}function Na(e){for(var t="";e--;)t+="0";return t}function kl(e,t){var r,n,s,i,o,l,d,c,u,m=1,p=10,x=e,y=x.d,g=x.constructor,v=g.precision;if(x.s<1)throw Error(Zr+(x.s?"NaN":"-Infinity"));if(x.eq(Cr))return new g(0);if(t==null?(tt=!1,c=v):c=t,x.eq(10))return t==null&&(tt=!0),pp(g,c);if(c+=p,g.precision=c,r=Pn(y),n=r.charAt(0),i=kt(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=Pn(x.d),n=r.charAt(0),m++;i=kt(x),n>1?(x=new g("0."+r),i++):x=new g(n+"."+r.slice(1))}else return d=pp(g,c+2,v).times(i+""),x=kl(new g(n+"."+r.slice(1)),c-p).plus(d),g.precision=v,t==null?(tt=!0,Ke(x,v)):x;for(l=o=x=Yn(x.minus(Cr),x.plus(Cr),c),u=Ke(x.times(x),c),s=3;;){if(o=Ke(o.times(u),c),d=l.plus(Yn(o,new g(s),c)),Pn(d.d).slice(0,c)===Pn(l.d).slice(0,c))return l=l.times(2),i!==0&&(l=l.plus(pp(g,c+2,v).times(i+""))),l=Yn(l,new g(m),c),g.precision=v,t==null?(tt=!0,Ke(l,v)):l;l=d,s+=2}}function Ww(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Zi(r/Xe),e.d=[],n=(r+1)%Xe,r<0&&(n+=Xe),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Xe;n<s;)e.d.push(+t.slice(n,n+=Xe));t=t.slice(n),n=Xe-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),tt&&(e.e>Ou||e.e<-Ou))throw Error(Gg+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ke(e,t,r){var n,s,i,o,l,d,c,u,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Xe,s=t,c=m[u=0];else{if(u=Math.ceil((n+1)/Xe),i=m.length,u>=i)return e;for(c=i=m[u],o=1;i>=10;i/=10)o++;n%=Xe,s=n-Xe+o}if(r!==void 0&&(i=ms(10,o-s-1),l=c/i%10|0,d=t<0||m[u+1]!==void 0||c%i,d=r<4?(l||d)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||d||r==6&&(n>0?s>0?c/ms(10,o-s):0:m[u-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(i=kt(e),m.length=1,t=t-i-1,m[0]=ms(10,(Xe-t%Xe)%Xe),e.e=Zi(-t/Xe)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=u,i=1,u--):(m.length=u+1,i=ms(10,Xe-n),m[u]=s>0?(c/ms(10,o-s)%ms(10,s)|0)*i:0),d)for(;;)if(u==0){(m[0]+=i)==Mt&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=Mt)break;m[u--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(tt&&(e.e>Ou||e.e<-Ou))throw Error(Gg+kt(e));return e}function C4(e,t){var r,n,s,i,o,l,d,c,u,m,p=e.constructor,x=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),tt?Ke(t,x):t;if(d=e.d,m=t.d,n=t.e,c=e.e,d=d.slice(),o=c-n,o){for(u=o<0,u?(r=d,o=-o,l=m.length):(r=m,n=c,l=d.length),s=Math.max(Math.ceil(x/Xe),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=d.length,l=m.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(d[s]!=m[s]){u=d[s]<m[s];break}o=0}for(u&&(r=d,d=m,m=r,t.s=-t.s),l=d.length,s=m.length-l;s>0;--s)d[l++]=0;for(s=m.length;s>o;){if(d[--s]<m[s]){for(i=s;i&&d[--i]===0;)d[i]=Mt-1;--d[i],d[s]+=Mt}d[s]-=m[s]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,tt?Ke(t,x):t):new p(0)}function Ls(e,t,r){var n,s=kt(e),i=Pn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Na(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Na(-s-1)+i,r&&(n=r-o)>0&&(i+=Na(n))):s>=o?(i+=Na(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Na(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Na(n))),e.s<0?"-"+i:i}function Kw(e,t){if(e.length>t)return e.length=t,!0}function P4(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ss+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Ww(o,i.toString())}else if(typeof i!="string")throw Error(Ss+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,QB.test(i))Ww(o,i);else throw Error(Ss+i)}if(s.prototype=xe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=P4,s.config=s.set=ZB,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function ZB(e){if(!e||typeof e!="object")throw Error(Zr+"Object expected");var t,r,n,s=["precision",1,Qi,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Zi(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Ss+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ss+r+": "+n);return this}var Xg=P4(XB);Cr=new Xg(1);const Be=Xg;var JB=e=>e,E4={},O4=e=>e===E4,Hw=e=>function t(){return arguments.length===0||arguments.length===1&&O4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},A4=(e,t)=>e===1?t:Hw(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==E4).length;return i>=e?t(...n):A4(e-i,Hw(function(){for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];var c=n.map(u=>O4(u)?l.shift():u);return t(...c,...l)}))}),e8=e=>A4(e.length,e),mh=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},t8=e8((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),r8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return JB;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,d)=>d(l),i(...arguments))}},fh=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function T4(e){var t;return e===0?t=1:t=Math.floor(new Be(e).abs().log(10).toNumber())+1,t}function D4(e,t,r){for(var n=new Be(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var I4=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},M4=(e,t,r)=>{if(e.lte(0))return new Be(0);var n=T4(e.toNumber()),s=new Be(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Be(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=l.mul(s);return t?new Be(d.toNumber()):new Be(Math.ceil(d.toNumber()))},n8=(e,t,r)=>{var n=new Be(1),s=new Be(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Be(10).pow(T4(e)-1),s=new Be(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Be(Math.floor(e)))}else e===0?s=new Be(Math.floor((t-1)/2)):r||(s=new Be(Math.floor(e)));var o=Math.floor((t-1)/2),l=r8(t8(d=>s.add(new Be(d-o).mul(n)).toNumber()),mh);return l(0,t)},$4=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Be(0),tickMin:new Be(0),tickMax:new Be(0)};var o=M4(new Be(r).sub(t).div(n-1),s,i),l;t<=0&&r>=0?l=new Be(0):(l=new Be(t).add(r).div(2),l=l.sub(new Be(l).mod(o)));var d=Math.ceil(l.sub(t).div(o).toNumber()),c=Math.ceil(new Be(r).sub(l).div(o).toNumber()),u=d+c+1;return u>n?$4(t,r,n,s,i+1):(u<n&&(c=r>0?c+(n-u):c,d=r>0?d:d+(n-u)),{step:o,tickMin:l.sub(new Be(d).mul(o)),tickMax:l.add(new Be(c).mul(o))})},a8=function(t){var[r,n]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),[l,d]=I4([r,n]);if(l===-1/0||d===1/0){var c=d===1/0?[l,...mh(0,s-1).map(()=>1/0)]:[...mh(0,s-1).map(()=>-1/0),d];return r>n?fh(c):c}if(l===d)return n8(l,s,i);var{step:u,tickMin:m,tickMax:p}=$4(l,d,o,i,0),x=D4(m,p.add(new Be(.1).mul(u)),u);return r>n?fh(x):x},s8=function(t,r){var[n,s]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=I4([n,s]);if(o===-1/0||l===1/0)return[n,s];if(o===l)return[o];var d=Math.max(r,2),c=M4(new Be(l).sub(o).div(d-1),i,0),u=[...D4(new Be(o),new Be(l),c),l];return i===!1&&(u=u.map(m=>Math.round(m))),n>s?fh(u):u},L4=e=>e.rootProps.maxBarSize,i8=e=>e.rootProps.barGap,R4=e=>e.rootProps.barCategoryGap,o8=e=>e.rootProps.barSize,ec=e=>e.rootProps.stackOffset,z4=e=>e.rootProps.reverseStackOrder,Qg=e=>e.options.chartName,Zg=e=>e.rootProps.syncId,F4=e=>e.rootProps.syncMethod,Jg=e=>e.options.eventEmitter,Nt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Bn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Sr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ym=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},l8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Bn.angleAxisId,includeHidden:!1,name:void 0,reversed:Bn.reversed,scale:Bn.scale,tick:Bn.tick,tickCount:void 0,ticks:void 0,type:Bn.type,unit:void 0},c8={allowDataOverflow:Sr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Sr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sr.scale,tick:Sr.tick,tickCount:Sr.tickCount,ticks:void 0,type:Sr.type,unit:void 0},d8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Bn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bn.scale,tick:Bn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},u8={allowDataOverflow:Sr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Sr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sr.scale,tick:Sr.tick,tickCount:Sr.tickCount,ticks:void 0,type:"category",unit:void 0},ev=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?d8:l8,tv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?u8:c8,Gm=e=>e.polarOptions,rv=V([ma,fa,Et],MC),B4=V([Gm,rv],(e,t)=>{if(e!=null)return tr(e.innerRadius,t,0)}),U4=V([Gm,rv],(e,t)=>{if(e!=null)return tr(e.outerRadius,t,t*.8)}),m8=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},W4=V([Gm],m8);V([ev,W4],Ym);var K4=V([rv,B4,U4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});V([tv,K4],Ym);var H4=V([Te,Gm,B4,U4,ma,fa],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:d,endAngle:c}=t;return{cx:tr(o,s,s/2),cy:tr(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:c,clockWise:!1}}}),nt=(e,t)=>t,tc=(e,t,r)=>r;function nv(e){return e==null?void 0:e.id}function V4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,o=new Map;return e.forEach(l=>{var d,c=(d=l.data)!==null&&d!==void 0?d:n;if(!(c==null||c.length===0)){var u=nv(l);c.forEach((m,p)=>{var x=i==null||s?p:String(We(m,i,null)),y=We(m,l.dataKey,0),g;o.has(x)?g=o.get(x):g={},Object.assign(g,{[u]:y}),o.set(x,g)})}}),Array.from(o.values())}function Xm(e){return e.stackId!=null&&e.dataKey!=null}var Qm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Zm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function f8(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var At=e=>{var t=Te(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ji=e=>e.tooltip.settings.axisId;function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Au(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){p8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p8(e,t,r){return(t=x8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x8(e){var t=h8(e,"string");return typeof t=="symbol"?t:t+""}function h8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ph=[0,"auto"],Dt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},q4=(e,t)=>e.cartesianAxis.xAxis[t],xa=(e,t)=>{var r=q4(e,t);return r??Dt},It={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ph,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Kl},Y4=(e,t)=>e.cartesianAxis.yAxis[t],ha=(e,t)=>{var r=Y4(e,t);return r??It},y8={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},av=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??y8},lt=(e,t,r)=>{switch(t){case"xAxis":return xa(e,r);case"yAxis":return ha(e,r);case"zAxis":return av(e,r);case"angleAxis":return ev(e,r);case"radiusAxis":return tv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},g8=(e,t,r)=>{switch(t){case"xAxis":return xa(e,r);case"yAxis":return ha(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},rc=(e,t,r)=>{switch(t){case"xAxis":return xa(e,r);case"yAxis":return ha(e,r);case"angleAxis":return ev(e,r);case"radiusAxis":return tv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},G4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function sv(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Jm=e=>e.graphicalItems.cartesianItems,v8=V([nt,tc],sv),iv=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),nc=V([Jm,lt,v8],iv,{memoizeOptions:{resultEqualityCheck:Zm}}),X4=V([nc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Xm)),Q4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),b8=V([nc],Q4),ov=e=>e.map(t=>t.data).filter(Boolean).flat(1),j8=V([nc],ov,{memoizeOptions:{resultEqualityCheck:Zm}}),lv=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},cv=V([j8,qm],lv),dv=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:We(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:We(s,n)}))):e.map(n=>({value:n})),ef=V([cv,lt,nc],dv);function Z4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function jd(e){if(Dn(e)||e instanceof Date){var t=Number(e);if(gt(t))return t}}function qw(e){if(Array.isArray(e)){var t=[jd(e[0]),jd(e[1])];return Va(t)?t:void 0}var r=jd(e);if(r!=null)return[r,r]}function la(e){return e.map(jd).filter(I$)}function w8(e,t,r){return!r||typeof t!="number"||yn(t)?[]:r.length?la(r.flatMap(n=>{var s=We(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!gt(i)||!gt(o)))return[t-i,t+o]})):[]}var Tt=e=>{var t=At(e),r=Ji(e);return rc(e,t,r)},ac=V([Tt],e=>e==null?void 0:e.dataKey),N8=V([X4,qm,Tt],V4),J4=(e,t,r,n)=>{var s={},i=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),s);return Object.fromEntries(Object.entries(i).map(o=>{var[l,d]=o,c=n?[...d].reverse():d,u=c.map(nv);return[l,{stackedData:QL(e,u,r),graphicalItems:c}]}))},xh=V([N8,X4,ec,z4],J4),eP=(e,t,r,n)=>{var{dataStartIndex:s,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=rR(e,s,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},k8=V([lt],e=>e.allowDataOverflow),uv=e=>{var t;if(e==null||!("domain"in e))return ph;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=la(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ph},mv=V([lt],uv),fv=V([mv,k8],N4),_8=V([xh,ss,nt,fv],eP,{memoizeOptions:{resultEqualityCheck:Qm}}),tf=e=>e.errorBars,S8=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Z4(r,n)),Tu=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},pv=(e,t,r,n,s)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(d=>{var c,u,m=(c=n[d.id])===null||c===void 0?void 0:c.filter(h=>Z4(s,h)),p=We(l,(u=t.dataKey)!==null&&u!==void 0?u:d.dataKey),x=w8(l,p,m);if(x.length>=2){var y=Math.min(...x),g=Math.max(...x);(i==null||y<i)&&(i=y),(o==null||g>o)&&(o=g)}var v=qw(p);v!=null&&(i=i==null?v[0]:Math.min(i,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var d=qw(We(l,t.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),o=o==null?d[1]:Math.max(o,d[1]))}),gt(i)&&gt(o))return[i,o]},C8=V([cv,lt,b8,tf,nt],pv,{memoizeOptions:{resultEqualityCheck:Qm}});function P8(e){var{value:t}=e;if(Dn(t)||t instanceof Date)return t}var E8=(e,t,r)=>{var n=e.map(P8).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&G_(n))?UC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},tP=e=>e.referenceElements.dots,eo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),O8=V([tP,nt,tc],eo),rP=e=>e.referenceElements.areas,A8=V([rP,nt,tc],eo),nP=e=>e.referenceElements.lines,T8=V([nP,nt,tc],eo),aP=(e,t)=>{var r=la(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},D8=V(O8,nt,aP),sP=(e,t)=>{var r=la(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},I8=V([A8,nt],sP);function M8(e){var t;if(e.x!=null)return la([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:la(r)}function $8(e){var t;if(e.y!=null)return la([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:la(r)}var iP=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?M8(n):$8(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},L8=V([T8,nt],iP),R8=V(D8,L8,I8,(e,t,r)=>Tu(e,r,t)),xv=(e,t,r,n,s,i,o,l)=>{if(r!=null)return r;var d=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",c=d?Tu(n,i,s):Tu(i,s);return GB(t,c,e.allowDataOverflow)},z8=V([lt,mv,fv,_8,C8,R8,Te,nt],xv,{memoizeOptions:{resultEqualityCheck:Qm}}),F8=[0,1],hv=(e,t,r,n,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:d}=e,c=rs(t,i);if(c&&l==null){var u;return UC(0,(u=r==null?void 0:r.length)!==null&&u!==void 0?u:0)}return d==="category"?E8(n,e,c):s==="expand"?F8:o}},yv=V([lt,Te,cv,ef,ec,nt,z8],hv),oP=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Rl(i));return l in Do?l:"point"}}},to=V([lt,Te,G4,Qg,nt],oP);function B8(e){if(e!=null){if(e in Do)return Do[e]();var t="scale".concat(Rl(e));if(t in Do)return Do[t]()}}function gv(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=B8(t);if(s!=null){var i=s.domain(r).range(n);return VL(i),i}}}var vv=(e,t,r)=>{var n=uv(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Va(e))return a8(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Va(e))return s8(e,t.tickCount,t.allowDecimals)}},bv=V([yv,rc,to],vv),jv=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Va(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},U8=V([lt,yv,bv,nt],jv),W8=V(ef,lt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(la(e.map(l=>l.value))).sort((l,d)=>l-d);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),lP=V(W8,Te,R4,Et,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!gt(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=tr(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),K8=(e,t)=>{var r=xa(e,t);return r==null||typeof r.padding!="string"?0:lP(e,"xAxis",t,r.padding)},H8=(e,t)=>{var r=ha(e,t);return r==null||typeof r.padding!="string"?0:lP(e,"yAxis",t,r.padding)},V8=V(xa,K8,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),q8=V(ha,H8,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),Y8=V([Et,V8,Mm,Im,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),G8=V([Et,Te,q8,Mm,Im,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),sc=(e,t,r,n)=>{var s;switch(t){case"xAxis":return Y8(e,r,n);case"yAxis":return G8(e,r,n);case"zAxis":return(s=av(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return W4(e);case"radiusAxis":return K4(e,r);default:return}},cP=V([lt,sc],Ym),ro=V([lt,to,U8,cP],gv);V([nc,tf,nt],S8);function dP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var rf=(e,t)=>t,nf=(e,t,r)=>r,X8=V(Tm,rf,nf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(dP)),Q8=V(Dm,rf,nf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(dP)),uP=(e,t)=>({width:e.width,height:t.height}),Z8=(e,t)=>{var r=typeof t.width=="number"?t.width:Kl;return{width:r,height:e.height}},mP=V(Et,xa,uP),J8=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},e7=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},t7=V(fa,Et,X8,rf,nf,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var d=uP(t,l);o==null&&(o=J8(t,n,e));var c=n==="top"&&!s||n==="bottom"&&s;i[l.id]=o-Number(c)*d.height,o+=(c?-1:1)*d.height}),i}),r7=V(ma,Et,Q8,rf,nf,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var d=Z8(t,l);o==null&&(o=e7(t,n,e));var c=n==="left"&&!s||n==="right"&&s;i[l.id]=o-Number(c)*d.width,o+=(c?-1:1)*d.width}),i}),n7=(e,t)=>{var r=xa(e,t);if(r!=null)return t7(e,r.orientation,r.mirror)},a7=V([Et,xa,n7,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),s7=(e,t)=>{var r=ha(e,t);if(r!=null)return r7(e,r.orientation,r.mirror)},i7=V([Et,ha,s7,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),fP=V(Et,ha,(e,t)=>{var r=typeof t.width=="number"?t.width:Kl;return{width:r,height:e.height}}),Yw=(e,t,r)=>{switch(t){case"xAxis":return mP(e,r).width;case"yAxis":return fP(e,r).height;default:return}},pP=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,l=rs(e,n),d=t.map(c=>c.value);if(o&&l&&i==="category"&&s&&G_(d))return d}},wv=V([Te,ef,lt,nt],pP),xP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=rs(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},Nv=V([Te,ef,rc,nt],xP),Gw=V([Te,g8,to,ro,wv,Nv,sc,bv,nt],(e,t,r,n,s,i,o,l,d)=>{if(t!=null){var c=rs(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:s,isCategorical:c,niceTicks:l,range:o,realScaleType:r,scale:n}}}),o7=(e,t,r,n,s,i,o,l,d)=>{if(!(t==null||n==null)){var c=rs(e,d),{type:u,ticks:m,tickCount:p}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=u==="category"&&n.bandwidth?n.bandwidth()/x:0;y=d==="angleAxis"&&i!=null&&i.length>=2?Lt(i[0]-i[1])*2*y:y;var g=m||s;if(g){var v=g.map((h,b)=>{var j=o?o.indexOf(h):h;return{index:b,coordinate:n(j)+y,value:h,offset:y}});return v.filter(h=>gt(h.coordinate))}return c&&l?l.map((h,b)=>({coordinate:n(h)+y,value:h,index:b,offset:y})).filter(h=>gt(h.coordinate)):n.ticks?n.ticks(p).map(h=>({coordinate:n(h)+y,value:h,offset:y})):n.domain().map((h,b)=>({coordinate:n(h)+y,value:o?o[h]:h,index:b,offset:y}))}},hP=V([Te,rc,to,ro,bv,sc,wv,Nv,nt],o7),l7=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=rs(e,o),{tickCount:d}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Lt(n[0]-n[1])*2*c:c,l&&i?i.map((u,m)=>({coordinate:r(u)+c,value:u,index:m,offset:c})):r.ticks?r.ticks(d).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,m)=>({coordinate:r(u)+c,value:s?s[u]:u,index:m,offset:c}))}},qa=V([Te,rc,ro,sc,wv,Nv,nt],l7),Ya=V(lt,ro,(e,t)=>{if(!(e==null||t==null))return Au(Au({},e),{},{scale:t})}),c7=V([lt,to,yv,cP],gv);V((e,t,r)=>av(e,r),c7,(e,t)=>{if(!(e==null||t==null))return Au(Au({},e),{},{scale:t})});var d7=V([Te,Tm,Dm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),yP=e=>e.options.defaultTooltipEventType,gP=e=>e.options.validateTooltipEventTypes;function vP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function kv(e,t){var r=yP(e),n=gP(e);return vP(t,r,n)}function u7(e){return pe(t=>kv(t,e))}var bP=(e,t)=>{var r,n=Number(t);if(!(yn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},m7=e=>e.tooltip.settings,Ca={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},f7={itemInteraction:{click:Ca,hover:Ca},axisInteraction:{click:Ca,hover:Ca},keyboardInteraction:Ca,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},jP=Nr({name:"tooltip",initialState:f7,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ze()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,s=xn(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=n)},prepare:Ze()},removeTooltipEntrySettings:{reducer(e,t){var r=xn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ze()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:p7,replaceTooltipEntrySettings:x7,removeTooltipEntrySettings:h7,setTooltipSettingsState:y7,setActiveMouseOverItemIndex:wP,mouseLeaveItem:g7,mouseLeaveChart:NP,setActiveClickItemIndex:v7,setMouseOverAxisIndex:kP,setMouseClickAxisIndex:b7,setSyncInteraction:hh,setKeyboardInteraction:yh}=jP.actions,j7=jP.reducer;function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){w7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w7(e,t,r){return(t=N7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N7(e){var t=k7(e,"string");return typeof t=="symbol"?t:t+""}function k7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _7(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function S7(e){return e.index!=null}var _P=(e,t,r,n)=>{if(t==null)return Ca;var s=_7(e,t,r);if(s==null)return Ca;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(S7(s)){if(i)return Qc(Qc({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Qc(Qc({},Ca),{},{coordinate:s.coordinate})};function C7(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function P7(e,t){var r=C7(e),n=t[0],s=t[1];if(r===void 0)return!1;var i=Math.min(n,s),o=Math.max(n,s);return r>=i&&r<=o}function E7(e,t,r){if(r==null||t==null)return!0;var n=We(e,t);return n==null||!Va(r)?!0:P7(n,r)}var _v=(e,t,r,n)=>{var s=e==null?void 0:e.index;if(s==null)return null;var i=Number(s);if(!gt(i))return s;var o=0,l=1/0;t.length>0&&(l=t.length-1);var d=Math.max(o,Math.min(i,l)),c=t[d];return c==null||E7(c,r,n)?String(d):null},SP=(e,t,r,n,s,i,o,l)=>{if(!(i==null||l==null)){var d=o[0],c=d==null?void 0:l(d.positions,i);if(c!=null)return c;var u=s==null?void 0:s[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},CP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},ic=e=>e.options.tooltipPayloadSearcher,no=e=>e.tooltip;function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){O7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O7(e,t,r){return(t=A7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A7(e){var t=T7(e,"string");return typeof t=="symbol"?t:t+""}function T7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D7(e,t){return e??t}var PP=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:d,dataStartIndex:c,dataEndIndex:u}=r,m=[];return e.reduce((p,x)=>{var y,{dataDefinedOnItem:g,settings:v}=x,h=D7(g,l),b=Array.isArray(h)?aC(h,c,u):h,j=(y=v==null?void 0:v.dataKey)!==null&&y!==void 0?y:n,k=v==null?void 0:v.nameKey,S;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?S=X_(b,n,s):S=i(b,t,d,k),Array.isArray(S))S.forEach(P=>{var w=Zw(Zw({},v),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});p.push(Sj({tooltipEntrySettings:w,dataKey:P.dataKey,payload:P.payload,value:We(P.payload,P.dataKey),name:P.name}))});else{var N;p.push(Sj({tooltipEntrySettings:v,dataKey:j,payload:S,value:We(S,j),name:(N=We(S,k))!==null&&N!==void 0?N:v==null?void 0:v.name}))}return p},m)}},Sv=V([Tt,Te,G4,Qg,At],oP),I7=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),M7=V([At,Ji],sv),oc=V([I7,Tt,M7],iv,{memoizeOptions:{resultEqualityCheck:Zm}}),$7=V([oc],e=>e.filter(Xm)),L7=V([oc],ov,{memoizeOptions:{resultEqualityCheck:Zm}}),ao=V([L7,ss],lv),R7=V([$7,ss,Tt],V4),Cv=V([ao,Tt,oc],dv),EP=V([Tt],uv),z7=V([Tt],e=>e.allowDataOverflow),OP=V([EP,z7],N4),F7=V([oc],e=>e.filter(Xm)),B7=V([R7,F7,ec,z4],J4),U7=V([B7,ss,At,OP],eP),W7=V([oc],Q4),K7=V([ao,Tt,W7,tf,At],pv,{memoizeOptions:{resultEqualityCheck:Qm}}),H7=V([tP,At,Ji],eo),V7=V([H7,At],aP),q7=V([rP,At,Ji],eo),Y7=V([q7,At],sP),G7=V([nP,At,Ji],eo),X7=V([G7,At],iP),Q7=V([V7,X7,Y7],Tu),Z7=V([Tt,EP,OP,U7,K7,Q7,Te,At],xv),lc=V([Tt,Te,ao,Cv,ec,At,Z7],hv),J7=V([lc,Tt,Sv],vv),eU=V([Tt,lc,J7,At],jv),AP=e=>{var t=At(e),r=Ji(e),n=!1;return sc(e,t,r,n)},TP=V([Tt,AP],Ym),DP=V([Tt,Sv,eU,TP],gv),tU=V([Te,Cv,Tt,At],pP),rU=V([Te,Cv,Tt,At],xP),nU=(e,t,r,n,s,i,o,l)=>{if(t){var{type:d}=t,c=rs(e,l);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=d==="category"&&n.bandwidth?n.bandwidth()/u:0;return m=l==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Lt(s[0]-s[1])*2*m:m,c&&o?o.map((p,x)=>({coordinate:n(p)+m,value:p,index:x,offset:m})):n.domain().map((p,x)=>({coordinate:n(p)+m,value:i?i[p]:p,index:x,offset:m}))}}},ya=V([Te,Tt,Sv,DP,AP,tU,rU,At],nU),Pv=V([yP,gP,m7],(e,t,r)=>vP(r.shared,e,t)),IP=e=>e.tooltip.settings.trigger,Ev=e=>e.tooltip.settings.defaultIndex,cc=V([no,Pv,IP,Ev],_P),Ga=V([cc,ao,ac,lc],_v),MP=V([ya,Ga],bP),Ov=V([cc],e=>{if(e)return e.dataKey}),aU=V([cc],e=>{if(e)return e.graphicalItemId}),$P=V([no,Pv,IP,Ev],CP),sU=V([ma,fa,Te,Et,ya,Ev,$P,ic],SP),iU=V([cc,sU],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),oU=V([cc],e=>e.active),lU=V([$P,Ga,ss,ac,MP,ic,Pv],PP),cU=V([lU],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function eN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(n){dU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dU(e,t,r){return(t=uU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uU(e){var t=mU(e,"string");return typeof t=="symbol"?t:t+""}function mU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fU=()=>pe(Tt),pU=()=>{var e=fU(),t=pe(ya),r=pe(DP);return $i(!e||!r?void 0:eN(eN({},e),{},{scale:r}),t)};function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){xU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xU(e,t,r){return(t=hU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hU(e){var t=yU(e,"string");return typeof t=="symbol"?t:t+""}function yU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gU=(e,t,r,n)=>{var s=t.find(i=>i&&i.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:s.coordinate}}return{x:0,y:0}},vU=(e,t,r,n)=>{var s=t.find(c=>c&&c.index===r);if(s){if(e==="centric"){var i=s.coordinate,{radius:o}=n;return Gs(Gs(Gs({},n),wt(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:d}=n;return Gs(Gs(Gs({},n),wt(n.cx,n.cy,l,d)),{},{angle:d,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function bU(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var LP=(e,t,r,n,s)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var d=0;d<l;d++){var c=d>0?r[d-1].coordinate:r[l-1].coordinate,u=r[d].coordinate,m=d>=l-1?r[0].coordinate:r[d+1].coordinate,p=void 0;if(Lt(u-c)!==Lt(m-u)){var x=[];if(Lt(m-u)===Lt(s[1]-s[0])){p=m;var y=u+s[1]-s[0];x[0]=Math.min(y,(y+c)/2),x[1]=Math.max(y,(y+c)/2)}else{p=c;var g=m+s[1]-s[0];x[0]=Math.min(u,(g+u)/2),x[1]=Math.max(u,(g+u)/2)}var v=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>v[0]&&e<=v[1]||e>=x[0]&&e<=x[1]){({index:o}=r[d]);break}}else{var h=Math.min(c,m),b=Math.max(c,m);if(e>(h+u)/2&&e<=(b+u)/2){({index:o}=r[d]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},jU=()=>pe(Qg),Av=(e,t)=>t,RP=(e,t,r)=>r,Tv=(e,t,r,n)=>n,wU=V(ya,e=>Nm(e,t=>t.coordinate)),Dv=V([no,Av,RP,Tv],_P),Iv=V([Dv,ao,ac,lc],_v),NU=(e,t,r)=>{if(t!=null){var n=no(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},zP=V([no,Av,RP,Tv],CP),Du=V([ma,fa,Te,Et,ya,Tv,zP,ic],SP),kU=V([Dv,Du],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),FP=V([ya,Iv],bP),_U=V([zP,Iv,ss,ac,FP,ic,Av],PP),SU=V([Dv,Iv],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),CU=(e,t,r,n,s,i,o)=>{if(!(!e||!r||!n||!s)&&bU(e,o)){var l=nR(e,t),d=LP(l,i,s,r,n),c=gU(t,s,d,e);return{activeIndex:String(d),activeCoordinate:c}}},PU=(e,t,r,n,s,i,o)=>{if(!(!e||!n||!s||!i||!r)){var l=x6(e,r);if(l){var d=aR(l,t),c=LP(d,o,i,n,s),u=vU(t,i,c,l);return{activeIndex:String(c),activeCoordinate:u}}}},EU=(e,t,r,n,s,i,o,l)=>{if(!(!e||!t||!n||!s||!i))return t==="horizontal"||t==="vertical"?CU(e,t,n,s,i,o,l):PU(e,t,r,n,s,i,o)},OU=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),AU=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Nt)),r=Array.from(new Set(t));return r.sort((n,s)=>n-s)},{memoizeOptions:{resultEqualityCheck:f8}});function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){TU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TU(e,t,r){return(t=DU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DU(e){var t=IU(e,"string");return typeof t=="symbol"?t:t+""}function IU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MU={},$U={zIndexMap:Object.values(Nt).reduce((e,t)=>nN(nN({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),MU)},LU=new Set(Object.values(Nt));function RU(e){return LU.has(e)}var BP=Nr({name:"zIndex",initialState:$U,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ze()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!RU(r)&&delete e.zIndexMap[r])},prepare:Ze()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:s?void 0:n,panoramaElementId:s?n:void 0}},prepare:Ze()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ze()}}}),{registerZIndexPortal:zU,unregisterZIndexPortal:FU,registerZIndexPortalId:BU,unregisterZIndexPortalId:UU}=BP.actions,WU=BP.reducer;function kr(e){var{zIndex:t,children:r}=e,n=AR(),s=n&&t!==void 0&&t!==0,i=nr(),o=Ye();f.useLayoutEffect(()=>s?(o(zU({zIndex:t})),()=>{o(FU({zIndex:t}))}):zl,[o,t,s]);var l=pe(c=>OU(c,t,i));if(!s)return r;if(!l)return null;var d=document.getElementById(l);return d?Tl.createPortal(r,d):null}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(null,arguments)}function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){KU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KU(e,t,r){return(t=HU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HU(e){var t=VU(e,"string");return typeof t=="symbol"?t:t+""}function VU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qU(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return f.isValidElement(t)?f.cloneElement(t,n):f.createElement(r,n)}function YU(e){var t,{coordinate:r,payload:n,index:s,offset:i,tooltipAxisBandSize:o,layout:l,cursor:d,tooltipEventType:c,chartName:u}=e,m=r,p=n,x=s;if(!d||!m||u!=="ScatterChart"&&c!=="axis")return null;var y,g,v;if(u==="ScatterChart")y=m,g=Oz,v=Nt.cursorLine;else if(u==="BarChart")y=Az(l,m,i,o),g=IC,v=Nt.cursorRectangle;else if(l==="radial"&&Z_(m)){var{cx:h,cy:b,radius:j,startAngle:k,endAngle:S}=$C(m);y={cx:h,cy:b,startAngle:k,endAngle:S,innerRadius:j,outerRadius:j},g=RC,v=Nt.cursorLine}else y={points:v6(l,m,i)},g=kg,v=Nt.cursorLine;var N=typeof d=="object"&&"className"in d?d.className:void 0,P=Zc(Zc(Zc(Zc({stroke:"#ccc",pointerEvents:"none"},i),y),Ds(d)),{},{payload:p,payloadIndex:x,className:$e("recharts-tooltip-cursor",N)});return f.createElement(kr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},f.createElement(qU,{cursor:d,cursorComp:g,cursorProps:P}))}function GU(e){var t=pU(),r=yC(),n=Hl(),s=jU();return t==null||r==null||n==null||s==null?null:f.createElement(YU,gh({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var UP=f.createContext(null),XU=()=>f.useContext(UP),WP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(d,c,u){this.fn=d,this.context=c,this.once=u||!1}function i(d,c,u,m,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var x=new s(u,m||d,p),y=r?r+c:c;return d._events[y]?d._events[y].fn?d._events[y]=[d._events[y],x]:d._events[y].push(x):(d._events[y]=x,d._eventsCount++),d}function o(d,c){--d._eventsCount===0?d._events=new n:delete d._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],u,m;if(this._eventsCount===0)return c;for(m in u=this._events)t.call(u,m)&&c.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},l.prototype.listeners=function(c){var u=r?r+c:c,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,x=m.length,y=new Array(x);p<x;p++)y[p]=m[p].fn;return y},l.prototype.listenerCount=function(c){var u=r?r+c:c,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(c,u,m,p,x,y){var g=r?r+c:c;if(!this._events[g])return!1;var v=this._events[g],h=arguments.length,b,j;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),h){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,m),!0;case 4:return v.fn.call(v.context,u,m,p),!0;case 5:return v.fn.call(v.context,u,m,p,x),!0;case 6:return v.fn.call(v.context,u,m,p,x,y),!0}for(j=1,b=new Array(h-1);j<h;j++)b[j-1]=arguments[j];v.fn.apply(v.context,b)}else{var k=v.length,S;for(j=0;j<k;j++)switch(v[j].once&&this.removeListener(c,v[j].fn,void 0,!0),h){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,u);break;case 3:v[j].fn.call(v[j].context,u,m);break;case 4:v[j].fn.call(v[j].context,u,m,p);break;default:if(!b)for(S=1,b=new Array(h-1);S<h;S++)b[S-1]=arguments[S];v[j].fn.apply(v[j].context,b)}}return!0},l.prototype.on=function(c,u,m){return i(this,c,u,m,!1)},l.prototype.once=function(c,u,m){return i(this,c,u,m,!0)},l.prototype.removeListener=function(c,u,m,p){var x=r?r+c:c;if(!this._events[x])return this;if(!u)return o(this,x),this;var y=this._events[x];if(y.fn)y.fn===u&&(!p||y.once)&&(!m||y.context===m)&&o(this,x);else{for(var g=0,v=[],h=y.length;g<h;g++)(y[g].fn!==u||p&&!y[g].once||m&&y[g].context!==m)&&v.push(y[g]);v.length?this._events[x]=v.length===1?v[0]:v:o(this,x)}return this},l.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(WP);var QU=WP.exports;const ZU=$n(QU);var _l=new ZU,vh="recharts.syncEvent.tooltip",sN="recharts.syncEvent.brush";function Mv(e,t){if(t){var r=Number.parseInt(t,10);if(!yn(r))return e==null?void 0:e[r]}}var JU={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},KP=Nr({name:"options",initialState:JU,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),eW=KP.reducer,{createEventEmitter:tW}=KP.actions;function rW(e){return e.tooltip.syncInteraction}var nW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},HP=Nr({name:"chartData",initialState:nW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:iN,setDataStartEndIndexes:aW,setComputedData:xX}=HP.actions,sW=HP.reducer,iW=["x","y"];function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){oW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oW(e,t,r){return(t=lW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lW(e){var t=cW(e,"string");return typeof t=="symbol"?t:t+""}function cW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dW(e,t){if(e==null)return{};var r,n,s=uW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function uW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mW(){var e=pe(Zg),t=pe(Jg),r=Ye(),n=pe(F4),s=pe(ya),i=Hl(),o=$m(),l=pe(d=>d.rootProps.className);f.useEffect(()=>{if(e==null)return zl;var d=(c,u,m)=>{if(t!==m&&e===c){if(n==="index"){var p;if(o&&u!==null&&u!==void 0&&(p=u.payload)!==null&&p!==void 0&&p.coordinate&&u.payload.sourceViewBox){var x=u.payload.coordinate,{x:y,y:g}=x,v=dW(x,iW),{x:h,y:b,width:j,height:k}=u.payload.sourceViewBox,S=Xs(Xs({},v),{},{x:o.x+(j?(y-h)/j:0)*o.width,y:o.y+(k?(g-b)/k:0)*o.height});r(Xs(Xs({},u),{},{payload:Xs(Xs({},u.payload),{},{coordinate:S})}))}else r(u);return}if(s!=null){var N;if(typeof n=="function"){var P={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},w=n(s,P);N=s[w]}else n==="value"&&(N=s.find(B=>String(B.value)===u.payload.label));var{coordinate:C}=u.payload;if(N==null||u.payload.active===!1||C==null||o==null){r(hh({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:O,y:_}=C,E=Math.min(O,o.x+o.width),I=Math.min(_,o.y+o.height),A={x:i==="horizontal"?N.coordinate:E,y:i==="horizontal"?I:N.coordinate},M=hh({active:u.payload.active,coordinate:A,dataKey:u.payload.dataKey,index:String(N.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox,graphicalItemId:u.payload.graphicalItemId});r(M)}}};return _l.on(vh,d),()=>{_l.off(vh,d)}},[l,r,t,e,n,s,i,o])}function fW(){var e=pe(Zg),t=pe(Jg),r=Ye();f.useEffect(()=>{if(e==null)return zl;var n=(s,i,o)=>{t!==o&&e===s&&r(aW(i))};return _l.on(sN,n),()=>{_l.off(sN,n)}},[r,t,e])}function pW(){var e=Ye();f.useEffect(()=>{e(tW())},[e]),mW(),fW()}function xW(e,t,r,n,s,i){var o=pe(x=>NU(x,e,t)),l=pe(Jg),d=pe(Zg),c=pe(F4),u=pe(rW),m=u==null?void 0:u.active,p=$m();f.useEffect(()=>{if(!m&&d!=null&&l!=null){var x=hh({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});_l.emit(vh,d,x,l)}},[m,r,o,s,n,l,d,c,i,p])}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(n){hW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hW(e,t,r){return(t=yW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=gW(e,"string");return typeof t=="symbol"?t:t+""}function gW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vW(e){return e.dataKey}function bW(e,t){return f.isValidElement(e)?f.cloneElement(e,t):typeof e=="function"?f.createElement(e,t):f.createElement(cz,t)}var dN=[],jW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wd(e){var t,r,n=_t(e,jW),{active:s,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:d,filterNull:c,isAnimationActive:u,offset:m,payloadUniqBy:p,position:x,reverseDirection:y,useTranslate3d:g,wrapperStyle:v,cursor:h,shared:b,trigger:j,defaultIndex:k,portal:S,axisId:N}=n,P=Ye(),w=typeof k=="number"?String(k):k;f.useEffect(()=>{P(y7({shared:b,trigger:j,axisId:N,active:s,defaultIndex:w}))},[P,b,j,N,s,w]);var C=$m(),O=EC(),_=u7(b),{activeIndex:E,isActive:I}=(t=pe(le=>SU(le,_,j,w)))!==null&&t!==void 0?t:{},A=pe(le=>_U(le,_,j,w)),M=pe(le=>FP(le,_,j,w)),B=pe(le=>kU(le,_,j,w)),H=A,R=XU(),L=(r=s??I)!==null&&r!==void 0?r:!1,[z,Q]=PS([H,L]),T=_==="axis"?M:void 0;xW(_,j,B,T,E,L);var Z=S??R;if(Z==null||C==null||_==null)return null;var te=H??dN;L||(te=dN),c&&te.length&&(te=hS(te.filter(le=>le.value!=null&&(le.hide!==!0||n.includeHidden)),p,vW));var $=te.length>0,Y=f.createElement(hz,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:u,active:L,coordinate:B,hasPayload:$,offset:m,position:x,reverseDirection:y,useTranslate3d:g,viewBox:C,wrapperStyle:v,lastBoundingBox:z,innerRef:Q,hasPortalFromProps:!!S},bW(d,cN(cN({},n),{},{payload:te,label:T,active:L,activeIndex:E,coordinate:B,accessibilityLayer:O})));return f.createElement(f.Fragment,null,Tl.createPortal(Y,Z),L&&f.createElement(GU,{cursor:h,tooltipEventType:_,coordinate:B,payload:te,index:E}))}var so=e=>null;so.displayName="Cell";function wW(e,t,r){return(t=NW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NW(e){var t=kW(e,"string");return typeof t=="symbol"?t:t+""}function kW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _W{constructor(t){wW(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function SW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){CW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CW(e,t,r){return(t=PW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=EW(e,"string");return typeof t=="symbol"?t:t+""}function EW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OW={cacheSize:2e3,enableCache:!0},VP=SW({},OW),mN=new _W(VP.cacheSize),AW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fN="recharts_measurement_span";function TW(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(l)}var pN=(e,t)=>{try{var r=document.getElementById(fN);r||(r=document.createElement("span"),r.setAttribute("id",fN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,AW,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ho=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ql.isSsr)return{width:0,height:0};if(!VP.enableCache)return pN(t,r);var n=TW(t,r),s=mN.get(n);if(s)return s;var i=pN(t,r);return mN.set(n,i),i},xN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MW=Object.keys(qP),ui="NaN";function $W(e,t){return e*qP[t]}class pr{static parse(t){var r,[,n,s]=(r=IW.exec(t))!==null&&r!==void 0?r:[];return new pr(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,yn(t)&&(this.unit=""),r!==""&&!DW.test(r)&&(this.num=NaN,this.unit=""),MW.includes(r)&&(this.num=$W(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new pr(NaN,""):new pr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new pr(NaN,""):new pr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pr(NaN,""):new pr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pr(NaN,""):new pr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return yn(this.num)}}function YP(e){if(e.includes(ui))return ui;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=xN.exec(t))!==null&&r!==void 0?r:[],o=pr.parse(n??""),l=pr.parse(i??""),d=s==="*"?o.multiply(l):o.divide(l);if(d.isNaN())return ui;t=t.replace(xN,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,m,p]=(c=hN.exec(t))!==null&&c!==void 0?c:[],x=pr.parse(u??""),y=pr.parse(p??""),g=m==="+"?x.add(y):x.subtract(y);if(g.isNaN())return ui;t=t.replace(hN,g.toString())}return t}var yN=/\(([^()]*)\)/;function LW(e){for(var t=e,r;(r=yN.exec(t))!=null;){var[,n]=r;t=t.replace(yN,YP(n))}return t}function RW(e){var t=e.replace(/\s+/g,"");return t=LW(t),t=YP(t),t}function zW(e){try{return RW(e)}catch{return ui}}function xp(e){var t=zW(e.slice(5,-1));return t===ui?"":t}var FW=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],BW=["dx","dy","angle","className","breakAll"];function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bh.apply(null,arguments)}function gN(e,t){if(e==null)return{};var r,n,s=UW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function UW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GP=/[ \f\n\r\t\v\u2028\u2029]+/,XP=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];rt(t)||(r?s=t.toString().split(""):s=t.toString().split(GP));var i=s.map(l=>({word:l,width:Ho(l,n).width})),o=r?0:Ho("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function WW(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var QP=(e,t,r,n)=>e.reduce((s,i)=>{var{word:o,width:l}=i,d=s[s.length-1];if(d&&l!=null&&(t==null||n||d.width+l+r<Number(t)))d.words.push(o),d.width+=l+r;else{var c={words:[o],width:l};s.push(c)}return s},[]),ZP=e=>e.reduce((t,r)=>t.width>r.width?t:r),KW="",vN=(e,t,r,n,s,i,o,l)=>{var d=e.slice(0,t),c=XP({breakAll:r,style:n,children:d+KW});if(!c)return[!1,[]];var u=QP(c.wordsWithComputedWidth,i,o,l),m=u.length>s||ZP(u).width>Number(i);return[m,u]},HW=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:l,breakAll:d}=e,c=ye(i),u=String(o),m=QP(t,n,r,s);if(!c||s)return m;var p=m.length>i||ZP(m).width>Number(n);if(!p)return m;for(var x=0,y=u.length-1,g=0,v;x<=y&&g<=u.length-1;){var h=Math.floor((x+y)/2),b=h-1,[j,k]=vN(u,b,d,l,i,n,r,s),[S]=vN(u,h,d,l,i,n,r,s);if(!j&&!S&&(x=h+1),j&&S&&(y=h-1),!j&&S){v=k;break}g++}return v||m},bN=e=>{var t=rt(e)?[]:e.toString().split(GP);return[{words:t,width:void 0}]},VW=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!ql.isSsr){var l,d,c=XP({breakAll:i,children:n,style:s});if(c){var{wordsWithComputedWidth:u,spaceWidth:m}=c;l=u,d=m}else return bN(n);return HW({breakAll:i,children:n,maxLines:o,style:s},l,d,t,!!r)}return bN(n)},JP="#808080",qW={angle:0,breakAll:!1,capHeight:"0.71em",fill:JP,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},af=f.forwardRef((e,t)=>{var r=_t(e,qW),{x:n,y:s,lineHeight:i,capHeight:o,fill:l,scaleToFit:d,textAnchor:c,verticalAnchor:u}=r,m=gN(r,FW),p=f.useMemo(()=>VW({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:x,dy:y,angle:g,className:v,breakAll:h}=m,b=gN(m,BW);if(!Dn(n)||!Dn(s)||p.length===0)return null;var j=Number(n)+(ye(x)?x:0),k=Number(s)+(ye(y)?y:0);if(!gt(j)||!gt(k))return null;var S;switch(u){case"start":S=xp("calc(".concat(o,")"));break;case"middle":S=xp("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:S=xp("calc(".concat(p.length-1," * -").concat(i,")"));break}var N=[];if(d){var P=p[0].width,{width:w}=m;N.push("scale(".concat(ye(w)&&ye(P)?w/P:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(j,", ").concat(k,")")),N.length&&(b.transform=N.join(" ")),f.createElement("text",bh({},cr(b),{ref:t,x:j,y:k,className:$e("recharts-text",v),textAnchor:c,fill:l.includes("url")?JP:l}),p.map((C,O)=>{var _=C.words.join(h?"":" ");return f.createElement("tspan",{x:j,dy:O===0?S:i,key:"".concat(_,"-").concat(O)},_)}))});af.displayName="Text";var YW=["labelRef"];function GW(e,t){if(e==null)return{};var r,n,s=XW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function XW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){QW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QW(e,t,r){return(t=ZW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZW(e){var t=JW(e,"string");return typeof t=="symbol"?t:t+""}function JW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Un.apply(null,arguments)}var eE=f.createContext(null),e9=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:s,width:i,height:o,children:l}=e,d=f.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:s,width:i,height:o}),[t,r,n,s,i,o]);return f.createElement(eE.Provider,{value:d},l)},tE=()=>{var e=f.useContext(eE),t=$m();return e||hC(t)},t9=f.createContext(null),r9=()=>{var e=f.useContext(t9),t=pe(H4);return e||t},n9=e=>{var{value:t,formatter:r}=e,n=rt(e.children)?t:e.children;return typeof r=="function"?r(n):n},$v=e=>e!=null&&typeof e=="function",a9=(e,t)=>{var r=Lt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},s9=(e,t,r,n,s)=>{var{offset:i,className:o}=e,{cx:l,cy:d,innerRadius:c,outerRadius:u,startAngle:m,endAngle:p,clockWise:x}=s,y=(c+u)/2,g=a9(m,p),v=g>=0?1:-1,h,b;switch(t){case"insideStart":h=m+v*i,b=x;break;case"insideEnd":h=p-v*i,b=!x;break;case"end":h=p+v*i,b=x;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var j=wt(l,d,y,h),k=wt(l,d,y,h+(b?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(b?0:1,`,
    `).concat(k.x,",").concat(k.y),N=rt(e.id)?ml("recharts-radial-line-"):e.id;return f.createElement("text",Un({},n,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",o)}),f.createElement("defs",null,f.createElement("path",{id:N,d:S})),f.createElement("textPath",{xlinkHref:"#".concat(N)},r))},i9=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:l,endAngle:d}=e,c=(l+d)/2;if(r==="outside"){var{x:u,y:m}=wt(n,s,o+t,c);return{x:u,y:m,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x,y}=wt(n,s,p,c);return{x,y,textAnchor:"middle",verticalAnchor:"middle"}},jh=e=>"cx"in e&&ye(e.cx),o9=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,i;r!=null&&!jh(r)&&(i=r);var{x:o,y:l,upperWidth:d,lowerWidth:c,height:u}=t,m=o,p=o+(d-c)/2,x=(m+p)/2,y=(d+c)/2,g=m+d/2,v=u>=0?1:-1,h=v*n,b=v>0?"end":"start",j=v>0?"start":"end",k=d>=0?1:-1,S=k*n,N=k>0?"end":"start",P=k>0?"start":"end";if(s==="top"){var w={x:m+d/2,y:l-h,textAnchor:"middle",verticalAnchor:b};return mt(mt({},w),i?{height:Math.max(l-i.y,0),width:d}:{})}if(s==="bottom"){var C={x:p+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:j};return mt(mt({},C),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(s==="left"){var O={x:x-S,y:l+u/2,textAnchor:N,verticalAnchor:"middle"};return mt(mt({},O),i?{width:Math.max(O.x-i.x,0),height:u}:{})}if(s==="right"){var _={x:x+y+S,y:l+u/2,textAnchor:P,verticalAnchor:"middle"};return mt(mt({},_),i?{width:Math.max(i.x+i.width-_.x,0),height:u}:{})}var E=i?{width:y,height:u}:{};return s==="insideLeft"?mt({x:x+S,y:l+u/2,textAnchor:P,verticalAnchor:"middle"},E):s==="insideRight"?mt({x:x+y-S,y:l+u/2,textAnchor:N,verticalAnchor:"middle"},E):s==="insideTop"?mt({x:m+d/2,y:l+h,textAnchor:"middle",verticalAnchor:j},E):s==="insideBottom"?mt({x:p+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:b},E):s==="insideTopLeft"?mt({x:m+S,y:l+h,textAnchor:P,verticalAnchor:j},E):s==="insideTopRight"?mt({x:m+d-S,y:l+h,textAnchor:N,verticalAnchor:j},E):s==="insideBottomLeft"?mt({x:p+S,y:l+u-h,textAnchor:P,verticalAnchor:b},E):s==="insideBottomRight"?mt({x:p+c-S,y:l+u-h,textAnchor:N,verticalAnchor:b},E):s&&typeof s=="object"&&(ye(s.x)||na(s.x))&&(ye(s.y)||na(s.y))?mt({x:o+tr(s.x,y),y:l+tr(s.y,u),textAnchor:"end",verticalAnchor:"end"},E):mt({x:g,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},l9={angle:0,offset:5,zIndex:Nt.label,position:"middle",textBreakAll:!1};function ka(e){var t=_t(e,l9),{viewBox:r,position:n,value:s,children:i,content:o,className:l="",textBreakAll:d,labelRef:c}=t,u=r9(),m=tE(),p=n==="center"?m:u??m,x,y,g;if(r==null?x=p:jh(r)?x=r:x=hC(r),!x||rt(s)&&rt(i)&&!f.isValidElement(o)&&typeof o!="function")return null;var v=mt(mt({},t),{},{viewBox:x});if(f.isValidElement(o)){var{labelRef:h}=v,b=GW(v,YW);return f.cloneElement(o,b)}if(typeof o=="function"){if(y=f.createElement(o,v),f.isValidElement(y))return y}else y=n9(t);var j=cr(t);if(jh(x)){if(n==="insideStart"||n==="insideEnd"||n==="end")return s9(t,n,y,j,x);g=i9(x,t.offset,t.position)}else g=o9(t,x);return f.createElement(kr,{zIndex:t.zIndex},f.createElement(af,Un({ref:c,className:$e("recharts-label",l)},j,g,{textAnchor:WW(j.textAnchor)?j.textAnchor:g.textAnchor,breakAll:d}),y))}ka.displayName="Label";var c9=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?f.createElement(ka,Un({key:"label-implicit"},n)):Dn(e)?f.createElement(ka,Un({key:"label-implicit",value:e},n)):f.isValidElement(e)?e.type===ka?f.cloneElement(e,mt({key:"label-implicit"},n)):f.createElement(ka,Un({key:"label-implicit",content:e},n)):$v(e)?f.createElement(ka,Un({key:"label-implicit",content:e},n)):e&&typeof e=="object"?f.createElement(ka,Un({},e,{key:"label-implicit"},n)):null};function d9(e){var{label:t,labelRef:r}=e,n=tE();return c9(t,n,r)||null}var rE={},nE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(nE);var aE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(aE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nE,r=aE,n=jm;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(rE);var u9=rE.last;const m9=$n(u9);var f9=["valueAccessor"],p9=["dataKey","clockWise","id","textBreakAll","zIndex"];function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iu.apply(null,arguments)}function wN(e,t){if(e==null)return{};var r,n,s=x9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function x9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var h9=e=>Array.isArray(e.value)?m9(e.value):e.value,sE=f.createContext(void 0),iE=sE.Provider,oE=f.createContext(void 0),y9=oE.Provider;function g9(){return f.useContext(sE)}function v9(){return f.useContext(oE)}function Nd(e){var{valueAccessor:t=h9}=e,r=wN(e,f9),{dataKey:n,clockWise:s,id:i,textBreakAll:o,zIndex:l}=r,d=wN(r,p9),c=g9(),u=v9(),m=c||u;return!m||!m.length?null:f.createElement(kr,{zIndex:l??Nt.label},f.createElement(zt,{className:"recharts-label-list"},m.map((p,x)=>{var y,g=rt(n)?t(p,x):We(p&&p.payload,n),v=rt(i)?{}:{id:"".concat(i,"-").concat(x)};return f.createElement(ka,Iu({key:"label-".concat(x)},cr(p),d,v,{fill:(y=r.fill)!==null&&y!==void 0?y:p.fill,parentViewBox:p.parentViewBox,value:g,textBreakAll:o,viewBox:p.viewBox,index:x,zIndex:0}))})))}Nd.displayName="LabelList";function Lv(e){var{label:t}=e;return t?t===!0?f.createElement(Nd,{key:"labelList-implicit"}):f.isValidElement(t)||$v(t)?f.createElement(Nd,{key:"labelList-implicit",content:t}):typeof t=="object"?f.createElement(Nd,Iu({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wh.apply(null,arguments)}var lE=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=$e("recharts-dot",s);return ye(t)&&ye(r)&&ye(n)?f.createElement("circle",wh({},Ir(e),Qy(e),{className:i,cx:t,cy:r,r:n})):null},cE=e=>e.graphicalItems.polarItems,b9=V([nt,tc],sv),sf=V([cE,lt,b9],iv),j9=V([sf],ov),of=V([j9,Yg],lv),w9=V([of,lt,sf],dv);V([of,lt,sf],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,o=We(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:We(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var NN=()=>{},N9=V([of,lt,sf,tf,nt],pv),k9=V([lt,mv,fv,NN,N9,NN,Te,nt],xv),dE=V([lt,Te,of,w9,ec,nt,k9],hv),_9=V([dE,lt,to],vv);V([lt,dE,_9,nt],jv);var S9={radiusAxis:{},angleAxis:{}},uE=Nr({name:"polarAxis",initialState:S9,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:hX,removeRadiusAxis:yX,addAngleAxis:gX,removeAngleAxis:vX}=uE.actions,C9=uE.reducer;function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){P9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P9(e,t,r){return(t=E9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E9(e){var t=O9(e,"string");return typeof t=="symbol"?t:t+""}function O9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A9=(e,t)=>t,Rv=V([cE,A9],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),T9=[],zv=(e,t,r)=>(r==null?void 0:r.length)===0?T9:r,mE=V([Yg,Rv,zv],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>_N(_N({},t.presentationProps),i.props))),s!=null)return s}}),D9=V([mE,Rv,zv],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,o=We(n,t.nameKey,t.name),l;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Gi(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),I9=V([mE,Rv,zv,Et],(e,t,r,n)=>{if(!(t==null||e==null))return DK({offset:n,pieSettings:t,displayedData:e,cells:r})}),fE={exports:{}},He={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv=Symbol.for("react.transitional.element"),Bv=Symbol.for("react.portal"),lf=Symbol.for("react.fragment"),cf=Symbol.for("react.strict_mode"),df=Symbol.for("react.profiler"),uf=Symbol.for("react.consumer"),mf=Symbol.for("react.context"),ff=Symbol.for("react.forward_ref"),pf=Symbol.for("react.suspense"),xf=Symbol.for("react.suspense_list"),hf=Symbol.for("react.memo"),yf=Symbol.for("react.lazy"),M9=Symbol.for("react.view_transition"),$9=Symbol.for("react.client.reference");function tn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Fv:switch(e=e.type,e){case lf:case df:case cf:case pf:case xf:case M9:return e;default:switch(e=e&&e.$$typeof,e){case mf:case ff:case yf:case hf:return e;case uf:return e;default:return t}}case Bv:return t}}}He.ContextConsumer=uf;He.ContextProvider=mf;He.Element=Fv;He.ForwardRef=ff;He.Fragment=lf;He.Lazy=yf;He.Memo=hf;He.Portal=Bv;He.Profiler=df;He.StrictMode=cf;He.Suspense=pf;He.SuspenseList=xf;He.isContextConsumer=function(e){return tn(e)===uf};He.isContextProvider=function(e){return tn(e)===mf};He.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fv};He.isForwardRef=function(e){return tn(e)===ff};He.isFragment=function(e){return tn(e)===lf};He.isLazy=function(e){return tn(e)===yf};He.isMemo=function(e){return tn(e)===hf};He.isPortal=function(e){return tn(e)===Bv};He.isProfiler=function(e){return tn(e)===df};He.isStrictMode=function(e){return tn(e)===cf};He.isSuspense=function(e){return tn(e)===pf};He.isSuspenseList=function(e){return tn(e)===xf};He.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lf||e===df||e===cf||e===pf||e===xf||typeof e=="object"&&e!==null&&(e.$$typeof===yf||e.$$typeof===hf||e.$$typeof===mf||e.$$typeof===uf||e.$$typeof===ff||e.$$typeof===$9||e.getModuleId!==void 0)};He.typeOf=tn;fE.exports=He;var L9=fE.exports,SN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",CN=null,hp=null,pE=e=>{if(e===CN&&Array.isArray(hp))return hp;var t=[];return f.Children.forEach(e,r=>{rt(r)||(L9.isFragment(r)?t=t.concat(pE(r.props.children)):t.push(r))}),hp=t,CN=e,t};function Uv(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>SN(s)):n=[SN(t)],pE(e).forEach(s=>{var i=Is(s,"type.displayName")||Is(s,"type.name");i&&n.indexOf(i)!==-1&&r.push(s)}),r}var xE=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,hE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(hE);var R9=hE.isPlainObject;const z9=$n(R9);function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function EN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){F9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F9(e,t,r){return(t=B9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B9(e){var t=U9(e,"string");return typeof t=="symbol"?t:t+""}function U9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mu.apply(null,arguments)}var ON=(e,t,r,n,s)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},W9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},K9=e=>{var t=_t(e,W9),{x:r,y:n,upperWidth:s,lowerWidth:i,height:o,className:l}=t,{animationEasing:d,animationDuration:c,animationBegin:u,isUpdateAnimationActive:m}=t,p=f.useRef(null),[x,y]=f.useState(-1),g=f.useRef(s),v=f.useRef(i),h=f.useRef(o),b=f.useRef(r),j=f.useRef(n),k=Gl(e,"trapezoid-");if(f.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var A=p.current.getTotalLength();A&&y(A)}catch{}},[]),r!==+r||n!==+n||s!==+s||i!==+i||o!==+o||s===0&&i===0||o===0)return null;var S=$e("recharts-trapezoid",l);if(!m)return f.createElement("g",null,f.createElement("path",Mu({},cr(t),{className:S,d:ON(r,n,s,i,o)})));var N=g.current,P=v.current,w=h.current,C=b.current,O=j.current,_="0px ".concat(x===-1?1:x,"px"),E="".concat(x,"px 0px"),I=OC(["strokeDasharray"],c,d);return f.createElement(Yl,{animationId:k,key:k,canBegin:x>0,duration:c,easing:d,isActive:m,begin:u},A=>{var M=Je(N,s,A),B=Je(P,i,A),H=Je(w,o,A),R=Je(C,r,A),L=Je(O,n,A);p.current&&(g.current=M,v.current=B,h.current=H,b.current=R,j.current=L);var z=A>0?{transition:I,strokeDasharray:E}:{strokeDasharray:_};return f.createElement("path",Mu({},cr(t),{className:S,d:ON(R,L,M,B,H),ref:p,style:EN(EN({},z),t.style)}))})},H9=["option","shapeType","propTransformer","activeClassName"];function V9(e,t){if(e==null)return{};var r,n,s=q9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function q9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){Y9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y9(e,t,r){return(t=G9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G9(e){var t=X9(e,"string");return typeof t=="symbol"?t:t+""}function X9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q9(e,t){return $u($u({},t),e)}function Z9(e,t){return e==="symbols"}function TN(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return f.createElement(IC,r);case"trapezoid":return f.createElement(K9,r);case"sector":return f.createElement(RC,r);case"symbols":if(Z9(t))return f.createElement(Xy,r);break;case"curve":return f.createElement(kg,r);default:return null}}function J9(e){return f.isValidElement(e)?e.props:e}function Wv(e){var{option:t,shapeType:r,propTransformer:n=Q9,activeClassName:s="recharts-active-shape"}=e,i=V9(e,H9),o;if(f.isValidElement(t))o=f.cloneElement(t,$u($u({},i),J9(t)));else if(typeof t=="function")o=t(i,i.index);else if(z9(t)&&typeof t!="boolean"){var l=n(t,i);o=f.createElement(TN,{shapeType:r,elementProps:l})}else{var d=i;o=f.createElement(TN,{shapeType:r,elementProps:d})}return i.isActive?f.createElement(zt,{className:s},o):o}var Kv=(e,t,r)=>{var n=Ye();return(s,i)=>o=>{e==null||e(s,i,o),n(wP({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}},Hv=e=>{var t=Ye();return(r,n)=>s=>{e==null||e(r,n,s),t(g7())}},Vv=(e,t,r)=>{var n=Ye();return(s,i)=>o=>{e==null||e(s,i,o),n(v7({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}};function qv(e){var{tooltipEntrySettings:t}=e,r=Ye(),n=nr(),s=f.useRef(null);return f.useLayoutEffect(()=>{n||(s.current===null?r(p7(t)):s.current!==t&&r(x7({prev:s.current,next:t})),s.current=t)},[t,r,n]),f.useLayoutEffect(()=>()=>{s.current&&(r(h7(s.current)),s.current=null)},[r]),null}function yE(e){var{legendPayload:t}=e,r=Ye(),n=nr(),s=f.useRef(null);return f.useLayoutEffect(()=>{n||(s.current===null?r(_C(t)):s.current!==t&&r(SC({prev:s.current,next:t})),s.current=t)},[r,n,t]),f.useLayoutEffect(()=>()=>{s.current&&(r(CC(s.current)),s.current=null)},[r]),null}function eK(e){var{legendPayload:t}=e,r=Ye(),n=pe(Te),s=f.useRef(null);return f.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(s.current===null?r(_C(t)):s.current!==t&&r(SC({prev:s.current,next:t})),s.current=t)},[r,n,t]),f.useLayoutEffect(()=>()=>{s.current&&(r(CC(s.current)),s.current=null)},[r]),null}var yp,tK=()=>{var[e]=f.useState(()=>ml("uid-"));return e},rK=(yp=g1.useId)!==null&&yp!==void 0?yp:tK;function gE(e,t){var r=rK();return t||(e?"".concat(e,"-").concat(r):r)}var nK=f.createContext(void 0),Yv=e=>{var{id:t,type:r,children:n}=e,s=gE("recharts-".concat(r),t);return f.createElement(nK.Provider,{value:s},n(s))},aK={cartesianItems:[],polarItems:[]},vE=Nr({name:"graphicalItems",initialState:aK,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ze()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,s=xn(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},prepare:Ze()},removeCartesianGraphicalItem:{reducer(e,t){var r=xn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ze()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ze()},removePolarGraphicalItem:{reducer(e,t){var r=xn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ze()}}}),{addCartesianGraphicalItem:sK,replaceCartesianGraphicalItem:iK,removeCartesianGraphicalItem:oK,addPolarGraphicalItem:lK,removePolarGraphicalItem:cK}=vE.actions,dK=vE.reducer,uK=e=>{var t=Ye(),r=f.useRef(null);return f.useLayoutEffect(()=>{r.current===null?t(sK(e)):r.current!==e&&t(iK({prev:r.current,next:e})),r.current=e},[t,e]),f.useLayoutEffect(()=>()=>{r.current&&(t(oK(r.current)),r.current=null)},[t]),null},bE=f.memo(uK);function mK(e){var t=Ye();return f.useLayoutEffect(()=>(t(lK(e)),()=>{t(cK(e))}),[t,e]),null}var fK=["key"],pK=["onMouseEnter","onClick","onMouseLeave"],xK=["id"],hK=["id"];function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){yK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yK(e,t,r){return(t=gK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gK(e){var t=vK(e,"string");return typeof t=="symbol"?t:t+""}function vK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xa.apply(null,arguments)}function gf(e,t){if(e==null)return{};var r,n,s=bK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jK(e){var t=f.useMemo(()=>Uv(e.children,so),[e.children]),r=pe(n=>D9(n,e.id,t));return r==null?null:f.createElement(eK,{legendPayload:r})}var wK=f.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:o,name:l,hide:d,tooltipType:c}=e,u={dataDefinedOnItem:n.map(m=>m.tooltipPayload),positions:n.map(m=>m.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Gi(l,t),hide:d,type:c,color:o,unit:""}};return f.createElement(qv,{tooltipEntrySettings:u})}),NK=(e,t)=>e>t?"start":e<t?"end":"middle",kK=(e,t,r)=>tr(typeof t=="function"?t(e):t,r,r*.8),_K=(e,t,r)=>{var{top:n,left:s,width:i,height:o}=t,l=MC(i,o),d=s+tr(e.cx,i,i/2),c=n+tr(e.cy,o,o/2),u=tr(e.innerRadius,l,0),m=kK(r,e.outerRadius,l),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:d,cy:c,innerRadius:u,outerRadius:m,maxRadius:p}},SK=(e,t)=>{var r=Lt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function CK(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var PK=(e,t)=>{if(f.isValidElement(e))return f.cloneElement(e,t);if(typeof e=="function")return e(t);var r=$e("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,s=gf(t,fK);return f.createElement(kg,Xa({},s,{type:"linear",className:r}))},EK=(e,t,r)=>{if(f.isValidElement(e))return f.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),f.isValidElement(n)))return n;var s=$e("recharts-pie-label-text",CK(e));return f.createElement(af,Xa({},t,{alignmentBaseline:"middle",className:s}),n)};function OK(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=r;if(!n||!s||!t)return null;var l=Ir(r),d=Ds(s),c=Ds(i),u=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,m=t.map((p,x)=>{var y=(p.startAngle+p.endAngle)/2,g=wt(p.cx,p.cy,p.outerRadius+u,y),v=dt(dt(dt(dt({},l),p),{},{stroke:"none"},d),{},{index:x,textAnchor:NK(g.x,p.cx)},g),h=dt(dt(dt(dt({},l),p),{},{fill:"none",stroke:p.fill},c),{},{index:x,points:[wt(p.cx,p.cy,p.outerRadius,y),g],key:"line"});return f.createElement(kr,{zIndex:Nt.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(x)},f.createElement(zt,null,i&&PK(i,h),EK(s,v,We(p,o))))});return f.createElement(zt,{className:"recharts-pie-labels"},m)}function AK(e){var{sectors:t,props:r,showLabels:n}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?f.createElement(Lv,{label:s}):f.createElement(OK,{sectors:t,props:r,showLabels:n})}function TK(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s,shape:i,id:o}=e,l=pe(Ga),d=pe(Ov),c=pe(aU),{onMouseEnter:u,onClick:m,onMouseLeave:p}=s,x=gf(s,pK),y=Kv(u,s.dataKey,o),g=Hv(p),v=Vv(m,s.dataKey,o);return t==null||t.length===0?null:f.createElement(f.Fragment,null,t.map((h,b)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&t.length!==1)return null;var j=c==null||c===o,k=String(b)===l&&(d==null||s.dataKey===d)&&j,S=l?n:null,N=r&&k?r:S,P=dt(dt({},h),{},{stroke:h.stroke,tabIndex:-1,[lC]:b,[cC]:s.dataKey});return f.createElement(zt,Xa({key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Fl(x,h,b),{onMouseEnter:y(h,b),onMouseLeave:g(h,b),onClick:v(h,b)}),f.createElement(Wv,Xa({option:i??N,index:b,shapeType:"sector",isActive:k},P)))}))}function DK(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:d,dataKey:c,nameKey:u,tooltipType:m}=r,p=Math.abs(r.minAngle),x=SK(l,d),y=Math.abs(x),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(N=>We(N,c,0)!==0).length,h=(y>=360?v:v-1)*g,b=y-v*p-h,j=n.reduce((N,P)=>{var w=We(P,c,0);return N+(ye(w)?w:0)},0),k;if(j>0){var S;k=n.map((N,P)=>{var w=We(N,c,0),C=We(N,u,P),O=_K(r,i,N),_=(ye(w)?w:0)/j,E,I=dt(dt({},N),s&&s[P]&&s[P].props);P?E=S.endAngle+Lt(x)*g*(w!==0?1:0):E=l;var A=E+Lt(x)*((w!==0?p:0)+_*b),M=(E+A)/2,B=(O.innerRadius+O.outerRadius)/2,H=[{name:C,value:w,payload:I,dataKey:c,type:m}],R=wt(O.cx,O.cy,B,M);return S=dt(dt(dt(dt({},r.presentationProps),{},{percent:_,cornerRadius:typeof o=="string"?parseFloat(o):o,name:C,tooltipPayload:H,midAngle:M,middleRadius:B,tooltipPosition:R},I),O),{},{value:w,dataKey:c,startAngle:E,endAngle:A,payload:I,paddingAngle:Lt(x)*g}),S})}return k}function IK(e){var{showLabels:t,sectors:r,children:n}=e,s=f.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return f.createElement(y9,{value:t?s:void 0},n)}function MK(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:d,activeShape:c,inactiveShape:u,onAnimationStart:m,onAnimationEnd:p}=t,x=Gl(t,"recharts-pie-"),y=r.current,[g,v]=f.useState(!1),h=f.useCallback(()=>{typeof p=="function"&&p(),v(!1)},[p]),b=f.useCallback(()=>{typeof m=="function"&&m(),v(!0)},[m]);return f.createElement(IK,{showLabels:!g,sectors:s},f.createElement(Yl,{animationId:x,begin:o,duration:l,isActive:i,easing:d,onAnimationStart:b,onAnimationEnd:h,key:x},j=>{var k=[],S=s&&s[0],N=S==null?void 0:S.startAngle;return s==null||s.forEach((P,w)=>{var C=y&&y[w],O=w>0?Is(P,"paddingAngle",0):0;if(C){var _=Je(C.endAngle-C.startAngle,P.endAngle-P.startAngle,j),E=dt(dt({},P),{},{startAngle:N+O,endAngle:N+_+O});k.push(E),N=E.endAngle}else{var{endAngle:I,startAngle:A}=P,M=Je(0,I-A,j),B=dt(dt({},P),{},{startAngle:N+O,endAngle:N+M+O});k.push(B),N=B.endAngle}}),r.current=k,f.createElement(zt,null,f.createElement(TK,{sectors:k,activeShape:c,inactiveShape:u,allOtherPieProps:t,shape:t.shape,id:n}))}),f.createElement(AK,{showLabels:!g,sectors:s,props:t}),t.children)}var $K={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Nt.area};function LK(e){var{id:t}=e,r=gf(e,xK),{hide:n,className:s,rootTabIndex:i}=e,o=f.useMemo(()=>Uv(e.children,so),[e.children]),l=pe(u=>I9(u,t,o)),d=f.useRef(null),c=$e("recharts-pie",s);return n||l==null?(d.current=null,f.createElement(zt,{tabIndex:i,className:c})):f.createElement(kr,{zIndex:e.zIndex},f.createElement(wK,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),f.createElement(zt,{tabIndex:i,className:c},f.createElement(MK,{props:dt(dt({},r),{},{sectors:l}),previousSectorsRef:d,id:t})))}function Gv(e){var t=_t(e,$K),{id:r}=t,n=gf(t,hK),s=Ir(n);return f.createElement(Yv,{id:r,type:"pie"},i=>f.createElement(f.Fragment,null,f.createElement(mK,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),f.createElement(jK,Xa({},n,{id:i})),f.createElement(LK,Xa({},n,{id:i}))))}Gv.displayName="Pie";var RK=["points"];function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){zK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zK(e,t,r){return(t=FK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FK(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lu.apply(null,arguments)}function UK(e,t){if(e==null)return{};var r,n,s=WK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function WK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KK(e){var{option:t,dotProps:r,className:n}=e;if(f.isValidElement(t))return f.cloneElement(t,r);if(typeof t=="function")return t(r);var s=$e(n,typeof t!="boolean"?t.className:""),i=r??{},{points:o}=i,l=UK(i,RK);return f.createElement(lE,Lu({},l,{className:s}))}function HK(e,t){return e==null?!1:t?!0:e.length===1}function VK(e){var{points:t,dot:r,className:n,dotClassName:s,dataKey:i,baseProps:o,needClip:l,clipPathId:d,zIndex:c=Nt.scatter}=e;if(!HK(t,r))return null;var u=xE(r),m=HM(r),p=t.map((y,g)=>{var v,h,b=gp(gp(gp({r:3},o),m),{},{index:g,cx:(v=y.x)!==null&&v!==void 0?v:void 0,cy:(h=y.y)!==null&&h!==void 0?h:void 0,dataKey:i,value:y.value,payload:y.payload,points:t});return f.createElement(KK,{key:"dot-".concat(g),option:r,dotProps:b,className:s})}),x={};return l&&d!=null&&(x.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(d,")")),f.createElement(kr,{zIndex:c},f.createElement(zt,Lu({className:n},x),p))}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){qK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qK(e,t,r){return(t=YK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YK(e){var t=GK(e,"string");return typeof t=="symbol"?t:t+""}function GK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XK={xAxis:{},yAxis:{},zAxis:{}},jE=Nr({name:"cartesianAxis",initialState:XK,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ze()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ze()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ze()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ze()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ze()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ze()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ze()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ze()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ze()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,s=e.yAxis[r];if(s){var i=s.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==s.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=$N($N({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:QK,replaceXAxis:ZK,removeXAxis:JK,addYAxis:eH,replaceYAxis:tH,removeYAxis:rH,addZAxis:bX,replaceZAxis:jX,removeZAxis:wX,updateYAxisWidth:nH}=jE.actions,aH=jE.reducer,sH=V([Et],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),iH=V([sH,ma,fa],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Xv=()=>pe(iH),oH=()=>pe(cU);function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){lH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lH(e,t,r){return(t=cH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cH(e){var t=dH(e,"string");return typeof t=="symbol"?t:t+""}function dH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uH=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i,clipPath:o}=e;if(s===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=vp(vp(vp({},l),Ds(s)),Qy(s)),c;return f.isValidElement(s)?c=f.cloneElement(s,d):typeof s=="function"?c=s(d):c=f.createElement(lE,d),f.createElement(zt,{className:"recharts-active-dot",clipPath:o},c)};function mH(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s,clipPath:i,zIndex:o=Nt.activeDot}=e,l=pe(Ga),d=oH();if(t==null||d==null)return null;var c=t.find(u=>d.includes(u.payload));return rt(c)?null:f.createElement(kr,{zIndex:o},f.createElement(uH,{point:c,childIndex:Number(l),mainColor:r,dataKey:s,activeDot:n,clipPath:i}))}var fH="Invariant failed";function pH(e,t){throw new Error(fH)}var xH=["x","y"];function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(null,arguments)}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){hH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hH(e,t,r){return(t=yH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yH(e){var t=gH(e,"string");return typeof t=="symbol"?t:t+""}function gH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vH(e,t){if(e==null)return{};var r,n,s=bH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jH(e,t){var{x:r,y:n}=e,s=vH(e,xH),i="".concat(r),o=parseInt(i,10),l="".concat(n),d=parseInt(l,10),c="".concat(t.height||s.height),u=parseInt(c,10),m="".concat(t.width||s.width),p=parseInt(m,10);return _o(_o(_o(_o(_o({},t),s),o?{x:o}:{}),d?{y:d}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function Ru(e){return f.createElement(Wv,Nh({shapeType:"rectangle",propTransformer:jH,activeClassName:"recharts-active-bar"},e))}var wH=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(ye(t))return t;var i=ye(n)||rt(n);return i?t(n,s):(i||pH(),r)}},NH={},wE=Nr({name:"errorBars",initialState:NH,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:NX,replaceErrorBar:kX,removeErrorBar:_X}=wE.actions,kH=wE.reducer,_H=["children"];function SH(e,t){if(e==null)return{};var r,n,s=CH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function CH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PH={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},EH=f.createContext(PH);function NE(e){var{children:t}=e,r=SH(e,_H);return f.createElement(EH.Provider,{value:r},t)}function Qv(e,t){var r,n,s=pe(c=>xa(c,e)),i=pe(c=>ha(c,t)),o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Dt.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:It.allowDataOverflow,d=o||l;return{needClip:d,needClipX:o,needClipY:l}}function kE(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=Xv(),{needClipX:i,needClipY:o,needClip:l}=Qv(t,r);if(!l||!s)return null;var{x:d,y:c,width:u,height:m}=s;return f.createElement("clipPath",{id:"clipPath-".concat(n)},f.createElement("rect",{x:i?d:d-u/2,y:o?c:c-m/2,width:i?u:u*2,height:o?m:m*2}))}function OH(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&gt(e.zIndex)?e.zIndex:t}var AH={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=f;function TH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DH=typeof Object.is=="function"?Object.is:TH,IH=dc.useSyncExternalStore,MH=dc.useRef,$H=dc.useEffect,LH=dc.useMemo,RH=dc.useDebugValue;AH.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=MH(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=LH(function(){function d(x){if(!c){if(c=!0,u=x,x=n(x),s!==void 0&&o.hasValue){var y=o.value;if(s(y,x))return m=y}return m=x}if(y=m,DH(u,x))return y;var g=n(x);return s!==void 0&&s(y,g)?(u=x,y):(u=x,m=g)}var c=!1,u,m,p=r===void 0?null:r;return[function(){return d(t())},p===null?void 0:function(){return d(p())}]},[t,r,n,s]);var l=IH(e,i[0],i[1]);return $H(function(){o.hasValue=!0,o.value=l},[l]),RH(l),l};function zH(e){e()}function FH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){zH(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var zN={notify(){},get:()=>[]};function BH(e,t){let r,n=zN,s=0,i=!1;function o(g){u();const v=n.subscribe(g);let h=!1;return()=>{h||(h=!0,v(),m())}}function l(){n.notify()}function d(){y.onStateChange&&y.onStateChange()}function c(){return i}function u(){s++,r||(r=e.subscribe(d),n=FH())}function m(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=zN)}function p(){i||(i=!0,u())}function x(){i&&(i=!1,m())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:d,isSubscribed:c,trySubscribe:p,tryUnsubscribe:x,getListeners:()=>n};return y}var UH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WH=UH(),KH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",HH=KH(),VH=()=>WH||HH?f.useLayoutEffect:f.useEffect,qH=VH();function FN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function YH(e,t){if(FN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!FN(e[r[s]],t[r[s]]))return!1;return!0}var bp=Symbol.for("react-redux-context"),jp=typeof globalThis<"u"?globalThis:{};function GH(){if(!f.createContext)return{};const e=jp[bp]??(jp[bp]=new Map);let t=e.get(f.createContext);return t||(t=f.createContext(null),e.set(f.createContext,t)),t}var XH=GH();function QH(e){const{children:t,context:r,serverState:n,store:s}=e,i=f.useMemo(()=>{const d=BH(s);return{store:s,subscription:d,getServerState:n?()=>n:void 0}},[s,n]),o=f.useMemo(()=>s.getState(),[s]);qH(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const l=r||XH;return f.createElement(l.Provider,{value:i},t)}var ZH=QH,JH=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function eV(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function vf(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(JH.has(n)){if(e[n]==null&&t[n]==null)continue;if(!YH(e[n],t[n]))return!1}else if(!eV(e[n],t[n]))return!1;return!0}var tV=["onMouseEnter","onMouseLeave","onClick"],rV=["value","background","tooltipPosition"],nV=["id"],aV=["onMouseEnter","onClick","onMouseLeave"];function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ca.apply(null,arguments)}function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){sV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sV(e,t,r){return(t=iV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=oV(e,"string");return typeof t=="symbol"?t:t+""}function oV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zu(e,t){if(e==null)return{};var r,n,s=lV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cV=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Gi(r,t),payload:e}]},dV=f.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:o,unit:l,tooltipType:d}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:Gi(i,t),hide:o,type:d,color:s,unit:l}};return f.createElement(qv,{tooltipEntrySettings:c})});function uV(e){var t=pe(Ga),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:d}=i,c=zu(i,tV),u=Kv(o,n),m=Hv(l),p=Vv(d,n);if(!s||r==null)return null;var x=Ds(s);return f.createElement(kr,{zIndex:OH(s,Nt.barBackground)},r.map((y,g)=>{var{value:v,background:h,tooltipPosition:b}=y,j=zu(y,rV);if(!h)return null;var k=u(y,g),S=m(y,g),N=p(y,g),P=ir(ir(ir(ir(ir({option:s,isActive:String(g)===t},j),{},{fill:"#eee"},h),x),Fl(c,y,g)),{},{onMouseEnter:k,onMouseLeave:S,onClick:N,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return f.createElement(Ru,ca({key:"background-bar-".concat(g)},P))}))}function mV(e){var{showLabels:t,children:r,rects:n}=e,s=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return ir(ir({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return f.createElement(iE,{value:t?s:void 0},r)}function fV(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:i,dataKey:o}=e,l=pe(Ga),d=pe(Ov),c=r&&String(i)===l&&(d==null||o===d),u=c?r:t;return c?f.createElement(kr,{zIndex:Nt.activeBar},f.createElement(Ru,ca({},n,{name:String(n.name)},s,{isActive:c,option:u,index:i,dataKey:o}))):f.createElement(Ru,ca({},n,{name:String(n.name)},s,{isActive:c,option:u,index:i,dataKey:o}))}function pV(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:i}=e;return f.createElement(Ru,ca({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:s,dataKey:i}))}function xV(e){var t,{data:r,props:n}=e,s=(t=Ir(n))!==null&&t!==void 0?t:{},{id:i}=s,o=zu(s,nV),{shape:l,dataKey:d,activeBar:c}=n,{onMouseEnter:u,onClick:m,onMouseLeave:p}=n,x=zu(n,aV),y=Kv(u,d),g=Hv(p),v=Vv(m,d);return r?f.createElement(f.Fragment,null,r.map((h,b)=>f.createElement(zt,ca({key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(b),className:"recharts-bar-rectangle"},Fl(x,h,b),{onMouseEnter:y(h,b),onMouseLeave:g(h,b),onClick:v(h,b)}),c?f.createElement(fV,{shape:l,activeBar:c,baseProps:o,entry:h,index:b,dataKey:d}):f.createElement(pV,{shape:l,baseProps:o,entry:h,index:b,dataKey:d})))):null}function hV(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:d,onAnimationEnd:c,onAnimationStart:u}=t,m=r.current,p=Gl(t,"recharts-bar-"),[x,y]=f.useState(!1),g=!x,v=f.useCallback(()=>{typeof c=="function"&&c(),y(!1)},[c]),h=f.useCallback(()=>{typeof u=="function"&&u(),y(!0)},[u]);return f.createElement(mV,{showLabels:g,rects:n},f.createElement(Yl,{animationId:p,begin:o,duration:l,isActive:i,easing:d,onAnimationEnd:v,onAnimationStart:h,key:p},b=>{var j=b===1?n:n==null?void 0:n.map((k,S)=>{var N=m&&m[S];if(N)return ir(ir({},k),{},{x:Je(N.x,k.x,b),y:Je(N.y,k.y,b),width:Je(N.width,k.width,b),height:Je(N.height,k.height,b)});if(s==="horizontal"){var P=Je(0,k.height,b),w=Je(k.stackedBarStart,k.y,b);return ir(ir({},k),{},{y:w,height:P})}var C=Je(0,k.width,b),O=Je(k.stackedBarStart,k.x,b);return ir(ir({},k),{},{width:C,x:O})});return b>0&&(r.current=j??null),j==null?null:f.createElement(zt,null,f.createElement(xV,{props:t,data:j}))}),f.createElement(Lv,{label:t.label}),t.children)}function yV(e){var t=f.useRef(null);return f.createElement(hV,{previousRectanglesRef:t,props:e})}var _E=0,gV=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:We(e,t)}};class vV extends f.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:o,needClip:l,background:d,id:c}=this.props;if(t||r==null)return null;var u=$e("recharts-bar",s),m=c;return f.createElement(zt,{className:u,id:c},l&&f.createElement("defs",null,f.createElement(kE,{clipPathId:m,xAxisId:i,yAxisId:o})),f.createElement(zt,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(m,")"):void 0},f.createElement(uV,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),f.createElement(yV,this.props)))}}var bV={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:_E,xAxisId:0,yAxisId:0,zIndex:Nt.bar};function jV(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:c,isAnimationActive:u}=e,{needClip:m}=Qv(t,r),p=Hl(),x=nr(),y=Uv(e.children,so),g=pe(b=>GV(b,t,r,x,e.id,y));if(p!=="vertical"&&p!=="horizontal")return null;var v,h=g==null?void 0:g[0];return h==null||h.height==null||h.width==null?v=0:v=p==="vertical"?h.height/2:h.width/2,f.createElement(NE,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:gV,errorBarOffset:v},f.createElement(vV,ca({},e,{layout:p,needClip:m,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:c,isAnimationActive:u})))}function wV(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:d,yAxisTicks:c,stackedData:u,displayedData:m,offset:p,cells:x,parentViewBox:y,dataStartIndex:g}=e,v=t==="horizontal"?l:o,h=u?v.scale.domain():null,b=JL({numericAxis:v}),j=v.scale(b);return m.map((k,S)=>{var N,P,w,C,O,_;u?N=qL(u[S+g],h):(N=We(k,r),Array.isArray(N)||(N=[b,N]));var E=wH(n,_E)(N[1],S);if(t==="horizontal"){var I,[A,M]=[l.scale(N[0]),l.scale(N[1])];P=Nj({axis:o,ticks:d,bandSize:i,offset:s.offset,entry:k,index:S}),w=(I=M??A)!==null&&I!==void 0?I:void 0,C=s.size;var B=A-M;if(O=yn(B)?0:B,_={x:P,y:p.top,width:C,height:p.height},Math.abs(E)>0&&Math.abs(O)<Math.abs(E)){var H=Lt(O||E)*(Math.abs(E)-Math.abs(O));w-=H,O+=H}}else{var[R,L]=[o.scale(N[0]),o.scale(N[1])];if(P=R,w=Nj({axis:l,ticks:c,bandSize:i,offset:s.offset,entry:k,index:S}),C=L-R,O=s.size,_={x:p.left,y:w,width:p.width,height:O},Math.abs(E)>0&&Math.abs(C)<Math.abs(E)){var z=Lt(C||E)*(Math.abs(E)-Math.abs(C));C+=z}}if(P==null||w==null||C==null||O==null)return null;var Q=ir(ir({},k),{},{stackedBarStart:j,x:P,y:w,width:C,height:O,value:u?N:N[1],payload:k,background:_,tooltipPosition:{x:P+C/2,y:w+O/2},parentViewBox:y},x&&x[S]&&x[S].props);return Q}).filter(Boolean)}function NV(e){var t=_t(e,bV),r=nr();return f.createElement(Yv,{id:t.id,type:"bar"},n=>f.createElement(f.Fragment,null,f.createElement(yE,{legendPayload:cV(t)}),f.createElement(dV,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),f.createElement(bE,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:ZL(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),f.createElement(kr,{zIndex:t.zIndex},f.createElement(jV,ca({},t,{id:n})))))}var SE=f.memo(NV,vf);SE.displayName="Bar";function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){kV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kV(e,t,r){return(t=_V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _V(e){var t=SV(e,"string");return typeof t=="symbol"?t:t+""}function SV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CV=(e,t)=>t,PV=(e,t,r)=>r,EV=(e,t,r,n)=>n,OV=(e,t,r,n,s)=>s,uc=V([Jm,OV],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),AV=V([uc],e=>e==null?void 0:e.maxBarSize),TV=(e,t,r,n,s,i)=>i,WN=(e,t,r)=>{var n=r??e;if(!rt(n))return tr(n,t,0)},DV=V([Te,Jm,CV,PV,EV],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),IV=(e,t,r,n)=>{var s=Te(e);return s==="horizontal"?xh(e,"yAxis",r,n):xh(e,"xAxis",t,n)},MV=(e,t,r)=>{var n=Te(e);return n==="horizontal"?Yw(e,"xAxis",t):Yw(e,"yAxis",r)},$V=(e,t,r)=>{var n={},s=e.filter(Xm),i=e.filter(c=>c.stackId==null),o=s.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),l=Object.entries(o).map(c=>{var[u,m]=c,p=m.map(y=>y.dataKey),x=WN(t,r,m[0].barSize);return{stackId:u,dataKeys:p,barSize:x}}),d=i.map(c=>{var u=[c.dataKey].filter(p=>p!=null),m=WN(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:m}});return[...l,...d]},LV=V([DV,o8,MV],$V),RV=(e,t,r,n,s)=>{var i,o,l=uc(e,t,r,n,s);if(l!=null){var d=Te(e),c=L4(e),{maxBarSize:u}=l,m=rt(u)?c:u,p,x;return d==="horizontal"?(p=Ya(e,"xAxis",t,n),x=qa(e,"xAxis",t,n)):(p=Ya(e,"yAxis",r,n),x=qa(e,"yAxis",r,n)),(i=(o=$i(p,x,!0))!==null&&o!==void 0?o:m)!==null&&i!==void 0?i:0}},CE=(e,t,r,n)=>{var s=Te(e),i,o;return s==="horizontal"?(i=Ya(e,"xAxis",t,n),o=qa(e,"xAxis",t,n)):(i=Ya(e,"yAxis",r,n),o=qa(e,"yAxis",r,n)),$i(i,o)};function zV(e,t,r,n,s){var i=n.length;if(!(i<1)){var o=tr(e,r,0,!0),l,d=[];if(gt(n[0].barSize)){var c=!1,u=r/i,m=n.reduce((h,b)=>h+(b.barSize||0),0);m+=(i-1)*o,m>=r&&(m-=(i-1)*o,o=0),m>=r&&u>0&&(c=!0,u*=.9,m=i*u);var p=(r-m)/2>>0,x={offset:p-o,size:0};l=n.reduce((h,b)=>{var j,k={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:x.offset+x.size+o,size:c?u:(j=b.barSize)!==null&&j!==void 0?j:0}},S=[...h,k];return x=S[S.length-1].position,S},d)}else{var y=tr(t,r,0,!0);r-2*y-(i-1)*o<=0&&(o=0);var g=(r-2*y-(i-1)*o)/i;g>1&&(g>>=0);var v=gt(s)?Math.min(g,s):g;l=n.reduce((h,b,j)=>[...h,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:y+(g+o)*j+(g-v)/2,size:v}}],d)}return l}}var FV=(e,t,r,n,s,i,o)=>{var l=rt(o)?t:o,d=zV(r,n,s!==i?s:i,e,l);return s!==i&&d!=null&&(d=d.map(c=>Jc(Jc({},c),{},{position:Jc(Jc({},c.position),{},{offset:c.position.offset-s/2})}))),d},BV=V([LV,L4,i8,R4,RV,CE,AV],FV),UV=(e,t,r,n)=>Ya(e,"xAxis",t,n),WV=(e,t,r,n)=>Ya(e,"yAxis",r,n),KV=(e,t,r,n)=>qa(e,"xAxis",t,n),HV=(e,t,r,n)=>qa(e,"yAxis",r,n),VV=V([BV,uc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),qV=(e,t)=>{var r=nv(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===r)}}}},YV=V([IV,uc],qV),GV=V([Et,gg,UV,WV,KV,HV,VV,Te,qm,CE,YV,uc,TV],(e,t,r,n,s,i,o,l,d,c,u,m,p)=>{var{chartData:x,dataStartIndex:y,dataEndIndex:g}=d;if(!(m==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||s==null||i==null||c==null)){var{data:v}=m,h;if(v!=null&&v.length>0?h=v:h=x==null?void 0:x.slice(y,g+1),h!=null)return wV({layout:l,barSettings:m,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,stackedData:u,displayedData:h,offset:e,cells:p,dataStartIndex:y})}}),PE=e=>{var{chartData:t}=e,r=Ye(),n=nr();return f.useEffect(()=>n?()=>{}:(r(iN(t)),()=>{r(iN(void 0))}),[t,r,n]),null},KN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},EE=Nr({name:"brush",initialState:KN,reducers:{setBrushSettings(e,t){return t.payload==null?KN:t.payload}}}),{setBrushSettings:SX}=EE.actions,XV=EE.reducer;function QV(e,t,r){return(t=ZV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZV(e){var t=JV(e,"string");return typeof t=="symbol"?t:t+""}function JV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Zv{static create(t){return new Zv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}QV(Zv,"EPS",1e-4);function eq(e){return(e%180+180)%180}var tq=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=eq(s),o=i*Math.PI/180,l=Math.atan(n/r),d=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},rq={dots:[],areas:[],lines:[]},OE=Nr({name:"referenceElements",initialState:rq,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=xn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=xn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=xn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:CX,removeDot:PX,addArea:EX,removeArea:OX,addLine:AX,removeLine:TX}=OE.actions,nq=OE.reducer,aq=f.createContext(void 0),sq=e=>{var{children:t}=e,[r]=f.useState("".concat(ml("recharts"),"-clip")),n=Xv();if(n==null)return null;var{x:s,y:i,width:o,height:l}=n;return f.createElement(aq.Provider,{value:r},f.createElement("defs",null,f.createElement("clipPath",{id:r},f.createElement("rect",{x:s,y:i,height:l,width:o}))),t)};function AE(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function iq(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return tq(n,r)}function oq(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Fu(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function lq(e,t){return AE(e,t+1)}function cq(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:l}=t,d=0,c=1,u=o,m=function(){var y=n==null?void 0:n[d];if(y===void 0)return{v:AE(n,c)};var g=d,v,h=()=>(v===void 0&&(v=r(y,g)),v),b=y.coordinate,j=d===0||Fu(e,b,h,u,l);j||(d=0,u=o,c+=1),j&&(u=b+e*(h()/2+s),d+=c)},p;c<=i.length;)if(p=m(),p)return p.v;return[]}function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dq(e,t,r){return(t=uq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uq(e){var t=mq(e,"string");return typeof t=="symbol"?t:t+""}function mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fq(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:d}=t,c=function(p){var x=i[p],y,g=()=>(y===void 0&&(y=r(x,p)),y);if(p===o-1){var v=e*(x.coordinate+e*g()/2-d);i[p]=x=Xt(Xt({},x),{},{tickCoord:v>0?x.coordinate-v*e:x.coordinate})}else i[p]=x=Xt(Xt({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var h=Fu(e,x.tickCoord,g,l,d);h&&(d=x.tickCoord-e*(g()/2+s),i[p]=Xt(Xt({},x),{},{isShow:!0}))}},u=o-1;u>=0;u--)c(u);return i}function pq(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,{start:d,end:c}=t;if(i){var u=n[l-1],m=r(u,l-1),p=e*(u.coordinate+e*m/2-c);if(o[l-1]=u=Xt(Xt({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate}),u.tickCoord!=null){var x=Fu(e,u.tickCoord,()=>m,d,c);x&&(c=u.tickCoord-e*(m/2+s),o[l-1]=Xt(Xt({},u),{},{isShow:!0}))}}for(var y=i?l-1:l,g=function(b){var j=o[b],k,S=()=>(k===void 0&&(k=r(j,b)),k);if(b===0){var N=e*(j.coordinate-e*S()/2-d);o[b]=j=Xt(Xt({},j),{},{tickCoord:N<0?j.coordinate-N*e:j.coordinate})}else o[b]=j=Xt(Xt({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var P=Fu(e,j.tickCoord,S,d,c);P&&(d=j.tickCoord+e*(S()/2+s),o[b]=Xt(Xt({},j),{},{isShow:!0}))}},v=0;v<y;v++)g(v);return o}function Jv(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:d,tickFormatter:c,unit:u,angle:m}=e;if(!s||!s.length||!n)return[];if(ye(d)||ql.isSsr){var p;return(p=lq(s,ye(d)?d:0))!==null&&p!==void 0?p:[]}var x=[],y=l==="top"||l==="bottom"?"width":"height",g=u&&y==="width"?Ho(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(j,k)=>{var S=typeof c=="function"?c(j.value,k):j.value;return y==="width"?iq(Ho(S,{fontSize:t,letterSpacing:r}),g,m):Ho(S,{fontSize:t,letterSpacing:r})[y]},h=s.length>=2?Lt(s[1].coordinate-s[0].coordinate):1,b=oq(i,h,y);return d==="equidistantPreserveStart"?cq(h,b,v,s,o):(d==="preserveStart"||d==="preserveStartEnd"?x=pq(h,b,v,s,o,d==="preserveStartEnd"):x=fq(h,b,v,s,o),x.filter(j=>j.isShow))}var xq=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(u=>{if(u){var m=u.getBoundingClientRect();m.width>o&&(o=m.width)}});var l=r?r.getBoundingClientRect().width:0,d=s+i,c=o+d+l+(r?n:0);return Math.round(c)}return 0},hq=["axisLine","width","height","className","hide","ticks","axisType"];function yq(e,t){if(e==null)return{};var r,n,s=gq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function gq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rs.apply(null,arguments)}function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){vq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vq(e,t,r){return(t=bq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bq(e){var t=jq(e,"string");return typeof t=="symbol"?t:t+""}function jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Nt.axis};function wq(e){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:l,otherSvgProps:d}=e;if(!l)return null;var c=bt(bt(bt({},d),Ir(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);c=bt(bt({},c),{},{x1:t,y1:r+u*s,x2:t+n,y2:r+u*s})}else{var m=+(i==="left"&&!o||i==="right"&&o);c=bt(bt({},c),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+s})}return f.createElement("line",Rs({},c,{className:$e("recharts-cartesian-axis-line",Is(l,"className"))}))}function Nq(e,t,r,n,s,i,o,l,d){var c,u,m,p,x,y,g=l?-1:1,v=e.tickSize||o,h=ye(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=u=e.coordinate,p=r+ +!l*s,m=p-g*v,y=m-g*d,x=h;break;case"left":m=p=e.coordinate,u=t+ +!l*n,c=u-g*v,x=c-g*d,y=h;break;case"right":m=p=e.coordinate,u=t+ +l*n,c=u+g*v,x=c+g*d,y=h;break;default:c=u=e.coordinate,p=r+ +l*s,m=p+g*v,y=m+g*d,x=h;break}return{line:{x1:c,y1:m,x2:u,y2:p},tick:{x,y}}}function kq(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function _q(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Sq(e){var{option:t,tickProps:r,value:n}=e,s,i=$e(r.className,"recharts-cartesian-axis-tick-value");if(f.isValidElement(t))s=f.cloneElement(t,bt(bt({},r),{},{className:i}));else if(typeof t=="function")s=t(bt(bt({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=$e(o,t==null?void 0:t.className)),s=f.createElement(af,Rs({},r,{className:o}),n)}return s}var Cq=f.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:s,stroke:i,tickFormatter:o,unit:l,padding:d,tickTextProps:c,orientation:u,mirror:m,x:p,y:x,width:y,height:g,tickSize:v,tickMargin:h,fontSize:b,letterSpacing:j,getTicksConfig:k,events:S,axisType:N}=e,P=Jv(bt(bt({},k),{},{ticks:r}),b,j),w=kq(u,m),C=_q(u,m),O=Ir(k),_=Ds(n),E={};typeof s=="object"&&(E=s);var I=bt(bt({},O),{},{fill:"none"},E),A=P.map(H=>bt({entry:H},Nq(H,p,x,y,g,u,v,m,h))),M=A.map(H=>{var{entry:R,line:L}=H;return f.createElement(zt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},s&&f.createElement("line",Rs({},I,L,{className:$e("recharts-cartesian-axis-tick-line",Is(s,"className"))})))}),B=A.map((H,R)=>{var{entry:L,tick:z}=H,Q=bt(bt(bt(bt({textAnchor:w,verticalAnchor:C},O),{},{stroke:"none",fill:i},_),z),{},{index:R,payload:L,visibleTicksCount:P.length,tickFormatter:o,padding:d},c);return f.createElement(zt,Rs({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},Fl(S,L,R)),n&&f.createElement(Sq,{option:n,tickProps:Q,value:"".concat(typeof o=="function"?o(L.value,R):L.value).concat(l||"")}))});return f.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},B.length>0&&f.createElement(kr,{zIndex:Nt.label},f.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},B)),M.length>0&&f.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},M))}),Pq=f.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:i,hide:o,ticks:l,axisType:d}=e,c=yq(e,hq),[u,m]=f.useState(""),[p,x]=f.useState(""),y=f.useRef(null);f.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return xq({ticks:y.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=f.useCallback(v=>{if(v){var h=v.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=h;var b=h[0];if(b){var j=window.getComputedStyle(b),k=j.fontSize,S=j.letterSpacing;(k!==u||S!==p)&&(m(k),x(S))}}},[u,p]);return o||n!=null&&n<=0||s!=null&&s<=0?null:f.createElement(kr,{zIndex:e.zIndex},f.createElement(zt,{className:$e("recharts-cartesian-axis",i)},f.createElement(wq,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ir(e)}),f.createElement(Cq,{ref:g,axisType:d,events:c,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),f.createElement(e9,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},f.createElement(d9,{label:e.label,labelRef:e.labelRef}),e.children)))}),eb=f.forwardRef((e,t)=>{var r=_t(e,Gn);return f.createElement(Pq,Rs({},r,{ref:t}))});eb.displayName="CartesianAxis";var Eq=["x1","y1","x2","y2","key"],Oq=["offset"],Aq=["xAxisId","yAxisId"],Tq=["xAxisId","yAxisId"];function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){Dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dq(e,t,r){return(t=Iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=Mq(e,"string");return typeof t=="symbol"?t:t+""}function Mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vs.apply(null,arguments)}function Bu(e,t){if(e==null)return{};var r,n,s=$q(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $q(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lq=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:l}=e;return f.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function TE(e){var{option:t,lineItemProps:r}=e,n;if(f.isValidElement(t))n=f.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var s,{x1:i,y1:o,x2:l,y2:d,key:c}=r,u=Bu(r,Eq),m=(s=Ir(u))!==null&&s!==void 0?s:{},{offset:p}=m,x=Bu(m,Oq);n=f.createElement("line",vs({},x,{x1:i,y1:o,x2:l,y2:d,fill:"none",key:c}))}return n}function Rq(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Bu(e,Aq),d=s.map((c,u)=>{var m=Zt(Zt({},l),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return f.createElement(TE,{key:"line-".concat(u),option:n,lineItemProps:m})});return f.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function zq(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Bu(e,Tq),d=s.map((c,u)=>{var m=Zt(Zt({},l),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return f.createElement(TE,{option:n,lineItemProps:m,key:"line-".concat(u)})});return f.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Fq(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:d=!0}=e;if(!d||!t||!t.length||l==null)return null;var c=l.map(m=>Math.round(m+s-s)).sort((m,p)=>m-p);s!==c[0]&&c.unshift(0);var u=c.map((m,p)=>{var x=!c[p+1],y=x?s+o-m:c[p+1]-m;if(y<=0)return null;var g=p%t.length;return f.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:y,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Bq(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var c=d.map(m=>Math.round(m+s-s)).sort((m,p)=>m-p);s!==c[0]&&c.unshift(0);var u=c.map((m,p)=>{var x=!c[p+1],y=x?s+o-m:c[p+1]-m;if(y<=0)return null;var g=p%r.length;return f.createElement("rect",{key:"react-".concat(p),x:m,y:i,width:y,height:l,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Uq=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return sC(Jv(Zt(Zt(Zt({},Gn),r),{},{ticks:iC(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},Wq=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return sC(Jv(Zt(Zt(Zt({},Gn),r),{},{ticks:iC(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},Kq={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Nt.grid};function kh(e){var t=bg(),r=jg(),n=yC(),s=Zt(Zt({},_t(e,Kq)),{},{x:ye(e.x)?e.x:n.left,y:ye(e.y)?e.y:n.top,width:ye(e.width)?e.width:n.width,height:ye(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:d,width:c,height:u,syncWithTicks:m,horizontalValues:p,verticalValues:x}=s,y=nr(),g=pe(C=>Gw(C,"xAxis",i,y)),v=pe(C=>Gw(C,"yAxis",o,y));if(!In(c)||!In(u)||!ye(l)||!ye(d))return null;var h=s.verticalCoordinatesGenerator||Uq,b=s.horizontalCoordinatesGenerator||Wq,{horizontalPoints:j,verticalPoints:k}=s;if((!j||!j.length)&&typeof b=="function"){var S=p&&p.length,N=b({yAxis:v?Zt(Zt({},v),{},{ticks:S?p:v.ticks}):void 0,width:t??c,height:r??u,offset:n},S?!0:m);mu(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(j=N)}if((!k||!k.length)&&typeof h=="function"){var P=x&&x.length,w=h({xAxis:g?Zt(Zt({},g),{},{ticks:P?x:g.ticks}):void 0,width:t??c,height:r??u,offset:n},P?!0:m);mu(Array.isArray(w),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof w,"]")),Array.isArray(w)&&(k=w)}return f.createElement(kr,{zIndex:s.zIndex},f.createElement("g",{className:"recharts-cartesian-grid"},f.createElement(Lq,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),f.createElement(Fq,vs({},s,{horizontalPoints:j})),f.createElement(Bq,vs({},s,{verticalPoints:k})),f.createElement(Rq,vs({},s,{offset:n,horizontalPoints:j,xAxis:g,yAxis:v})),f.createElement(zq,vs({},s,{offset:n,verticalPoints:k,xAxis:g,yAxis:v}))))}kh.displayName="CartesianGrid";var DE=(e,t,r,n)=>Ya(e,"xAxis",t,n),IE=(e,t,r,n)=>qa(e,"xAxis",t,n),ME=(e,t,r,n)=>Ya(e,"yAxis",r,n),$E=(e,t,r,n)=>qa(e,"yAxis",r,n),Hq=V([Te,DE,ME,IE,$E],(e,t,r,n,s)=>rs(e,"xAxis")?$i(t,n,!1):$i(r,s,!1)),Vq=(e,t,r,n,s)=>s;function qq(e){return e.type==="line"}var Yq=V([Jm,Vq],(e,t)=>e.filter(qq).find(r=>r.id===t)),Gq=V([Te,DE,ME,IE,$E,Yq,Hq,qm],(e,t,r,n,s,i,o,l)=>{var{chartData:d,dataStartIndex:c,dataEndIndex:u}=l;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:p}=i,x;if(p!=null&&p.length>0?x=p:x=d==null?void 0:d.slice(c,u+1),x!=null)return hY({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:m,bandSize:o,displayedData:x})}});function Xq(e){var t=Ds(e),r=3,n=2;if(t!=null){var{r:s,strokeWidth:i}=t,o=Number(s),l=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var Qq=["id"],Zq=["type","layout","connectNulls","needClip","shape"],Jq=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sl.apply(null,arguments)}function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(r),!0).forEach(function(n){eY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eY(e,t,r){return(t=tY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tY(e){var t=rY(e,"string");return typeof t=="symbol"?t:t+""}function rY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tb(e,t){if(e==null)return{};var r,n,s=nY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aY=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Gi(r,t),payload:e}]},sY=f.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:d,tooltipType:c}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Gi(o,t),hide:l,type:c,color:n,unit:d}};return f.createElement(qv,{tooltipEntrySettings:u})}),LE=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function iY(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var oY=(e,t,r)=>{var n=r.reduce((m,p)=>m+p);if(!n)return LE(t,e);for(var s=Math.floor(e/n),i=e%n,o=t-e,l=[],d=0,c=0;d<r.length;c+=r[d],++d)if(c+r[d]>i){l=[...r.slice(0,d),i-c];break}var u=l.length%2===0?[0,o]:[o];return[...iY(r,s),...l,...u].map(m=>"".concat(m,"px")).join(", ")};function lY(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:o}=n,{id:l}=n,d=tb(n,Qq),c=Ir(d);return f.createElement(VK,{points:r,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:c,needClip:o,clipPathId:t})}function cY(e){var{showLabels:t,children:r,points:n}=e,s=f.useMemo(()=>n==null?void 0:n.map(i=>{var o,l,d={x:(o=i.x)!==null&&o!==void 0?o:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Sn(Sn({},d),{},{value:i.value,payload:i.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[n]);return f.createElement(iE,{value:t?s:void 0},r)}function GN(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i}=e,{type:o,layout:l,connectNulls:d,needClip:c,shape:u}=i,m=tb(i,Zq),p=Sn(Sn({},cr(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:d,strokeDasharray:s??i.strokeDasharray});return f.createElement(f.Fragment,null,(n==null?void 0:n.length)>1&&f.createElement(Wv,Sl({shapeType:"curve",option:u},p,{pathRef:r})),f.createElement(lY,{points:n,clipPathId:t,props:i}))}function dY(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function uY(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:d,animationBegin:c,animationDuration:u,animationEasing:m,animateNewValues:p,width:x,height:y,onAnimationEnd:g,onAnimationStart:v}=r,h=s.current,b=Gl(o,"recharts-line-"),j=f.useRef(b),[k,S]=f.useState(!1),N=!k,P=f.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),w=f.useCallback(()=>{typeof v=="function"&&v(),S(!0)},[v]),C=dY(n.current),O=f.useRef(0);j.current!==b&&(O.current=i.current,j.current=b);var _=O.current;return f.createElement(cY,{points:o,showLabels:N},r.children,f.createElement(Yl,{animationId:b,begin:c,duration:u,isActive:d,easing:m,onAnimationEnd:P,onAnimationStart:w,key:b},E=>{var I=Je(_,C+_,E),A=Math.min(I,C),M;if(d)if(l){var B="".concat(l).split(/[,\s]+/gim).map(L=>parseFloat(L));M=oY(A,C,B)}else M=LE(C,A);else M=l==null?void 0:String(l);if(E>0&&C>0&&(s.current=o,i.current=Math.max(i.current,A)),h){var H=h.length/o.length,R=E===1?o:o.map((L,z)=>{var Q=Math.floor(z*H);if(h[Q]){var T=h[Q];return Sn(Sn({},L),{},{x:Je(T.x,L.x,E),y:Je(T.y,L.y,E)})}return p?Sn(Sn({},L),{},{x:Je(x*2,L.x,E),y:Je(y/2,L.y,E)}):Sn(Sn({},L),{},{x:L.x,y:L.y})});return s.current=R,f.createElement(GN,{props:r,points:R,clipPathId:t,pathRef:n,strokeDasharray:M})}return f.createElement(GN,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:M})}),f.createElement(Lv,{label:r.label}))}function mY(e){var{clipPathId:t,props:r}=e,n=f.useRef(null),s=f.useRef(0),i=f.useRef(null);return f.createElement(uY,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:i})}var fY=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:We(e.payload,t)}};class pY extends f.Component{render(){var{hide:t,dot:r,points:n,className:s,xAxisId:i,yAxisId:o,top:l,left:d,width:c,height:u,id:m,needClip:p,zIndex:x}=this.props;if(t)return null;var y=$e("recharts-line",s),g=m,{r:v,strokeWidth:h}=Xq(r),b=xE(r),j=v*2+h,k=p?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return f.createElement(kr,{zIndex:x},f.createElement(zt,{className:y},p&&f.createElement("defs",null,f.createElement(kE,{clipPathId:g,xAxisId:i,yAxisId:o}),!b&&f.createElement("clipPath",{id:"clipPath-dots-".concat(g)},f.createElement("rect",{x:d-j/2,y:l-j/2,width:c+j,height:u+j}))),f.createElement(NE,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:fY,errorBarOffset:0},f.createElement(mY,{props:this.props,clipPathId:g}))),f.createElement(mH,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var RE={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Nt.line,type:"linear"};function xY(e){var t=_t(e,RE),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:d,hide:c,isAnimationActive:u,label:m,legendType:p,xAxisId:x,yAxisId:y,id:g}=t,v=tb(t,Jq),{needClip:h}=Qv(x,y),b=Xv(),j=Hl(),k=nr(),S=pe(O=>Gq(O,x,y,k,g));if(j!=="horizontal"&&j!=="vertical"||S==null||b==null)return null;var{height:N,width:P,x:w,y:C}=b;return f.createElement(pY,Sl({},v,{id:g,connectNulls:l,dot:d,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:u,hide:c,label:m,legendType:p,xAxisId:x,yAxisId:y,points:S,layout:j,height:N,width:P,left:w,top:C,needClip:h}))}function hY(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:d}=e;return d.map((c,u)=>{var m=We(c,o);if(t==="horizontal"){var p=wj({axis:r,ticks:s,bandSize:l,entry:c,index:u}),x=rt(m)?null:n.scale(m);return{x:p,y:x,value:m,payload:c}}var y=rt(m)?null:r.scale(m),g=wj({axis:n,ticks:i,bandSize:l,entry:c,index:u});return y==null||g==null?null:{x:y,y:g,value:m,payload:c}}).filter(Boolean)}function yY(e){var t=_t(e,RE),r=nr();return f.createElement(Yv,{id:t.id,type:"line"},n=>f.createElement(f.Fragment,null,f.createElement(yE,{legendPayload:aY(t)}),f.createElement(sY,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),f.createElement(bE,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),f.createElement(xY,Sl({},t,{id:n}))))}var _h=f.memo(yY,vf);_h.displayName="Line";var gY=["domain","range"],vY=["domain","range"];function XN(e,t){if(e==null)return{};var r,n,s=bY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QN(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function zE(e,t){if(e===t)return!0;var{domain:r,range:n}=e,s=XN(e,gY),{domain:i,range:o}=t,l=XN(t,vY);return!QN(r,i)||!QN(n,o)?!1:vf(s,l)}var jY=["dangerouslySetInnerHTML","ticks"],wY=["id"];function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(null,arguments)}function ZN(e,t){if(e==null)return{};var r,n,s=NY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function NY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kY(e){var t=Ye(),r=f.useRef(null);return f.useLayoutEffect(()=>{r.current===null?t(QK(e)):r.current!==e&&t(ZK({prev:r.current,next:e})),r.current=e},[e,t]),f.useLayoutEffect(()=>()=>{r.current&&(t(JK(r.current)),r.current=null)},[t]),null}var _Y=e=>{var{xAxisId:t,className:r}=e,n=pe(gg),s=nr(),i="xAxis",o=pe(v=>ro(v,i,t,s)),l=pe(v=>hP(v,i,t,s)),d=pe(v=>mP(v,t)),c=pe(v=>a7(v,t)),u=pe(v=>q4(v,t));if(d==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:m,ticks:p}=e,x=ZN(e,jY),{id:y}=u,g=ZN(u,wY);return f.createElement(eb,Sh({},x,g,{scale:o,x:c.x,y:c.y,width:d.width,height:d.height,className:$e("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l,axisType:i}))},SY={allowDataOverflow:Dt.allowDataOverflow,allowDecimals:Dt.allowDecimals,allowDuplicatedCategory:Dt.allowDuplicatedCategory,angle:Dt.angle,axisLine:Gn.axisLine,height:Dt.height,hide:!1,includeHidden:Dt.includeHidden,interval:Dt.interval,minTickGap:Dt.minTickGap,mirror:Dt.mirror,orientation:Dt.orientation,padding:Dt.padding,reversed:Dt.reversed,scale:Dt.scale,tick:Dt.tick,tickCount:Dt.tickCount,tickLine:Gn.tickLine,tickSize:Gn.tickSize,type:Dt.type,xAxisId:0},CY=e=>{var t=_t(e,SY);return f.createElement(f.Fragment,null,f.createElement(kY,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),f.createElement(_Y,t))},Ch=f.memo(CY,zE);Ch.displayName="XAxis";var PY=["dangerouslySetInnerHTML","ticks"],EY=["id"];function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(null,arguments)}function JN(e,t){if(e==null)return{};var r,n,s=OY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function OY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AY(e){var t=Ye(),r=f.useRef(null);return f.useLayoutEffect(()=>{r.current===null?t(eH(e)):r.current!==e&&t(tH({prev:r.current,next:e})),r.current=e},[e,t]),f.useLayoutEffect(()=>()=>{r.current&&(t(rH(r.current)),r.current=null)},[t]),null}var TY=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,i=f.useRef(null),o=f.useRef(null),l=pe(gg),d=nr(),c=Ye(),u="yAxis",m=pe(S=>ro(S,u,t,d)),p=pe(S=>fP(S,t)),x=pe(S=>i7(S,t)),y=pe(S=>hP(S,u,t,d)),g=pe(S=>Y4(S,t));if(f.useLayoutEffect(()=>{if(!(n!=="auto"||!p||$v(s)||f.isValidElement(s)||g==null)){var S=i.current;if(S){var N=S.getCalculatedWidth();Math.round(p.width)!==Math.round(N)&&c(nH({id:t,width:N}))}}},[y,p,c,s,t,n,g]),p==null||x==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:h}=e,b=JN(e,PY),{id:j}=g,k=JN(g,EY);return f.createElement(eb,Ph({},b,k,{ref:i,labelRef:o,scale:m,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:$e("recharts-".concat(u," ").concat(u),r),viewBox:l,ticks:y,axisType:u}))},DY={allowDataOverflow:It.allowDataOverflow,allowDecimals:It.allowDecimals,allowDuplicatedCategory:It.allowDuplicatedCategory,angle:It.angle,axisLine:Gn.axisLine,hide:!1,includeHidden:It.includeHidden,interval:It.interval,minTickGap:It.minTickGap,mirror:It.mirror,orientation:It.orientation,padding:It.padding,reversed:It.reversed,scale:It.scale,tick:It.tick,tickCount:It.tickCount,tickLine:Gn.tickLine,tickSize:Gn.tickSize,type:It.type,width:It.width,yAxisId:0},IY=e=>{var t=_t(e,DY);return f.createElement(f.Fragment,null,f.createElement(AY,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),f.createElement(TY,t))},Eh=f.memo(IY,zE);Eh.displayName="YAxis";var MY=(e,t)=>t,rb=V([MY,Te,H4,At,TP,ya,wU,Et],EU),nb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},FE=Qr("mouseClick"),BE=Wl();BE.startListening({actionCreator:FE,effect:(e,t)=>{var r=e.payload,n=rb(t.getState(),nb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(b7({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Oh=Qr("mouseMove"),UE=Wl(),ed=null;UE.startListening({actionCreator:Oh,effect:(e,t)=>{var r=e.payload;ed!==null&&cancelAnimationFrame(ed);var n=nb(r);ed=requestAnimationFrame(()=>{var s=t.getState(),i=kv(s,s.tooltip.settings.shared);if(i==="axis"){var o=rb(s,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(kP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(NP())}ed=null})}});var e1={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},WE=Nr({name:"rootProps",initialState:e1,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:e1.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),$Y=WE.reducer,{updateOptions:LY}=WE.actions,KE=Nr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:RY}=KE.actions,zY=KE.reducer,HE=Qr("keyDown"),VE=Qr("focus"),ab=Wl();ab.startListening({actionCreator:HE,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=_v(s,ao(r),ac(r),lc(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var d=ya(r);if(i==="Enter"){var c=Du(r,"axis","hover",String(s.index));t.dispatch(yh({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var u=d7(r),m=u==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,x=l+p*m;if(!(d==null||x>=d.length||x<0)){var y=Du(r,"axis","hover",String(x));t.dispatch(yh({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}}});ab.startListening({actionCreator:VE,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=Du(r,"axis","hover",String(i));t.dispatch(yh({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Ur=Qr("externalEvent"),qE=Wl(),wp=new Map;qE.startListening({actionCreator:Ur,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var s=n.type,i=wp.get(s);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),d={activeCoordinate:iU(l),activeDataKey:Ov(l),activeIndex:Ga(l),activeLabel:MP(l),activeTooltipIndex:Ga(l),isTooltipActive:oU(l)};r(d,n)}finally{wp.delete(s)}});wp.set(s,o)}}});var FY=V([no],e=>e.tooltipItemPayloads),BY=V([FY,ic,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),YE=Qr("touchMove"),GE=Wl();GE.startListening({actionCreator:YE,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),s=kv(n,n.tooltip.settings.shared);if(s==="axis"){var i=rb(n,nb({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(kP({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(l.clientX,l.clientY);if(!d||!d.getAttribute)return;var c=d.getAttribute(lC),u=(o=d.getAttribute(cC))!==null&&o!==void 0?o:void 0,m=BY(t.getState(),c,u);t.dispatch(wP({activeDataKey:u,activeIndex:c,activeCoordinate:m}))}}}});var UY=OS({brush:XV,cartesianAxis:aH,chartData:sW,errorBars:kH,graphicalItems:dK,layout:BL,legend:HR,options:eW,polarAxis:C9,polarOptions:zY,referenceElements:nq,rootProps:$Y,tooltip:j7,zIndex:WU}),WY=function(t){return mL({reducer:UY,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([BE.middleware,UE.middleware,ab.middleware,qE.middleware,GE.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(HS({type:"raf"}))},devTools:ql.devToolsEnabled})};function XE(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=nr(),i=f.useRef(null);if(s)return r;i.current==null&&(i.current=WY(t));var o=og;return f.createElement(ZH,{context:o,store:i.current},r)}function KY(e){var{layout:t,margin:r}=e,n=Ye(),s=nr();return f.useEffect(()=>{s||(n(RL(t)),n(LL(r)))},[n,s,t,r]),null}var QE=f.memo(KY,vf);function ZE(e){var t=Ye();return f.useEffect(()=>{t(LY(e))},[t,e]),null}function t1(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",s=gE("".concat(n).concat(t)),i=Ye();return f.useLayoutEffect(()=>(i(BU({zIndex:t,elementId:s,isPanorama:r})),()=>{i(UU({zIndex:t,isPanorama:r}))}),[i,t,s,r]),f.createElement("g",{tabIndex:-1,id:s})}function r1(e){var{children:t,isPanorama:r}=e,n=pe(AU);if(!n||n.length===0)return t;var s=n.filter(o=>o<0),i=n.filter(o=>o>0);return f.createElement(f.Fragment,null,s.map(o=>f.createElement(t1,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>f.createElement(t1,{key:o,zIndex:o,isPanorama:r})))}var HY=["children"];function VY(e,t){if(e==null)return{};var r,n,s=qY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uu.apply(null,arguments)}var YY={width:"100%",height:"100%",display:"block"},GY=f.forwardRef((e,t)=>{var r=bg(),n=jg(),s=EC();if(!In(r)||!In(n))return null;var{children:i,otherAttributes:o,title:l,desc:d}=e,c,u;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=s?0:void 0,typeof o.role=="string"?u=o.role:u=s?"application":void 0),f.createElement(Hy,Uu({},o,{title:l,desc:d,role:u,tabIndex:c,width:r,height:n,style:YY,ref:t}),i)}),XY=e=>{var{children:t}=e,r=pe(Mm);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return f.createElement(Hy,{width:n,height:s,x:o,y:i},t)},n1=f.forwardRef((e,t)=>{var{children:r}=e,n=VY(e,HY),s=nr();return s?f.createElement(XY,null,f.createElement(r1,{isPanorama:!0},r)):f.createElement(GY,Uu({ref:t},n),f.createElement(r1,{isPanorama:!1},r))});function QY(){var e=Ye(),[t,r]=f.useState(null),n=pe(sR);return f.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;gt(i)&&i!==n&&e(FL(i))}},[t,e,n]),r}function a1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a1(Object(r),!0).forEach(function(n){JY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JY(e,t,r){return(t=eG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eG(e){var t=tG(e,"string");return typeof t=="symbol"?t:t+""}function tG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(null,arguments)}var rG=()=>(pW(),null);function Wu(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var nG=f.forwardRef((e,t)=>{var r,n,s=f.useRef(null),[i,o]=f.useState({containerWidth:Wu((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Wu((n=e.style)===null||n===void 0?void 0:n.height)}),l=f.useCallback((c,u)=>{o(m=>{var p=Math.round(c),x=Math.round(u);return m.containerWidth===p&&m.containerHeight===x?m:{containerWidth:p,containerHeight:x}})},[]),d=f.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:m}=c.getBoundingClientRect();l(u,m);var p=y=>{var{width:g,height:v}=y[0].contentRect;l(g,v)},x=new ResizeObserver(p);x.observe(c),s.current=x}},[t,l]);return f.useEffect(()=>()=>{var c=s.current;c!=null&&c.disconnect()},[l]),f.createElement(f.Fragment,null,f.createElement(Lm,{width:i.containerWidth,height:i.containerHeight}),f.createElement("div",zs({ref:d},e)))}),aG=f.forwardRef((e,t)=>{var{width:r,height:n}=e,[s,i]=f.useState({containerWidth:Wu(r),containerHeight:Wu(n)}),o=f.useCallback((d,c)=>{i(u=>{var m=Math.round(d),p=Math.round(c);return u.containerWidth===m&&u.containerHeight===p?u:{containerWidth:m,containerHeight:p}})},[]),l=f.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:c,height:u}=d.getBoundingClientRect();o(c,u)}},[t,o]);return f.createElement(f.Fragment,null,f.createElement(Lm,{width:s.containerWidth,height:s.containerHeight}),f.createElement("div",zs({ref:l},e)))}),sG=f.forwardRef((e,t)=>{var{width:r,height:n}=e;return f.createElement(f.Fragment,null,f.createElement(Lm,{width:r,height:n}),f.createElement("div",zs({ref:t},e)))}),iG=f.forwardRef((e,t)=>{var{width:r,height:n}=e;return na(r)||na(n)?f.createElement(aG,zs({},e,{ref:t})):f.createElement(sG,zs({},e,{ref:t}))});function oG(e){return e===!0?nG:iG}var lG=f.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:d,onMouseEnter:c,onMouseLeave:u,onMouseMove:m,onMouseUp:p,onTouchEnd:x,onTouchMove:y,onTouchStart:g,style:v,width:h,responsive:b,dispatchTouchEvents:j=!0}=e,k=f.useRef(null),S=Ye(),[N,P]=f.useState(null),[w,C]=f.useState(null),O=QY(),_=vg(),E=(_==null?void 0:_.width)>0?_.width:h,I=(_==null?void 0:_.height)>0?_.height:s,A=f.useCallback(K=>{O(K),typeof t=="function"&&t(K),P(K),C(K),K!=null&&(k.current=K)},[O,t,P,C]),M=f.useCallback(K=>{S(FE(K)),S(Ur({handler:i,reactEvent:K}))},[S,i]),B=f.useCallback(K=>{S(Oh(K)),S(Ur({handler:c,reactEvent:K}))},[S,c]),H=f.useCallback(K=>{S(NP()),S(Ur({handler:u,reactEvent:K}))},[S,u]),R=f.useCallback(K=>{S(Oh(K)),S(Ur({handler:m,reactEvent:K}))},[S,m]),L=f.useCallback(()=>{S(VE())},[S]),z=f.useCallback(K=>{S(HE(K.key))},[S]),Q=f.useCallback(K=>{S(Ur({handler:o,reactEvent:K}))},[S,o]),T=f.useCallback(K=>{S(Ur({handler:l,reactEvent:K}))},[S,l]),Z=f.useCallback(K=>{S(Ur({handler:d,reactEvent:K}))},[S,d]),te=f.useCallback(K=>{S(Ur({handler:p,reactEvent:K}))},[S,p]),$=f.useCallback(K=>{S(Ur({handler:g,reactEvent:K}))},[S,g]),Y=f.useCallback(K=>{j&&S(YE(K)),S(Ur({handler:y,reactEvent:K}))},[S,j,y]),le=f.useCallback(K=>{S(Ur({handler:x,reactEvent:K}))},[S,x]),se=oG(b);return f.createElement(UP.Provider,{value:N},f.createElement(O_.Provider,{value:w},f.createElement(se,{width:E??(v==null?void 0:v.width),height:I??(v==null?void 0:v.height),className:$e("recharts-wrapper",n),style:ZY({position:"relative",cursor:"default",width:E,height:I},v),onClick:M,onContextMenu:Q,onDoubleClick:T,onFocus:L,onKeyDown:z,onMouseDown:Z,onMouseEnter:B,onMouseLeave:H,onMouseMove:R,onMouseUp:te,onTouchEnd:le,onTouchMove:Y,onTouchStart:$,ref:A},f.createElement(rG,null),r)))}),cG=["width","height","responsive","children","className","style","compact","title","desc"];function dG(e,t){if(e==null)return{};var r,n,s=uG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function uG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JE=f.forwardRef((e,t)=>{var{width:r,height:n,responsive:s,children:i,className:o,style:l,compact:d,title:c,desc:u}=e,m=dG(e,cG),p=Ir(m);return d?f.createElement(f.Fragment,null,f.createElement(Lm,{width:r,height:n}),f.createElement(n1,{otherAttributes:p,title:c,desc:u},i)):f.createElement(lG,{className:o,style:l,width:r,height:n,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},f.createElement(n1,{otherAttributes:p,title:c,desc:u,ref:t},f.createElement(sq,null,i)))});function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ah.apply(null,arguments)}var mG={top:5,right:5,bottom:5,left:5},fG={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:mG,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},eO=f.forwardRef(function(t,r){var n,s=_t(t.categoricalChartProps,fG),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:d,categoricalChartProps:c}=t,u={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:d,eventEmitter:void 0};return f.createElement(XE,{preloadedState:{options:u},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:i},f.createElement(PE,{chartData:c.data}),f.createElement(QE,{layout:s.layout,margin:s.margin}),f.createElement(ZE,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),f.createElement(JE,Ah({},s,{ref:r})))}),pG=["axis"],xG=f.forwardRef((e,t)=>f.createElement(eO,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pG,tooltipPayloadSearcher:Mv,categoricalChartProps:e,ref:t})),hG=["axis","item"],yG=f.forwardRef((e,t)=>f.createElement(eO,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hG,tooltipPayloadSearcher:Mv,categoricalChartProps:e,ref:t}));function gG(e){var t=Ye();return f.useEffect(()=>{t(RY(e))},[t,e]),null}var vG=["layout"];function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Th.apply(null,arguments)}function bG(e,t){if(e==null)return{};var r,n,s=jG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wG={top:5,right:5,bottom:5,left:5},tO={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:wG,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},NG=f.forwardRef(function(t,r){var n,s=_t(t.categoricalChartProps,tO),{layout:i}=s,o=bG(s,vG),{chartName:l,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=t,m={chartName:l,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return f.createElement(XE,{preloadedState:{options:m},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:l},f.createElement(PE,{chartData:s.data}),f.createElement(QE,{layout:i,margin:s.margin}),f.createElement(ZE,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),f.createElement(gG,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),f.createElement(JE,Th({},o,{ref:r})))});function s1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function i1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(r),!0).forEach(function(n){kG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kG(e,t,r){return(t=_G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _G(e){var t=SG(e,"string");return typeof t=="symbol"?t:t+""}function SG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CG=["item"],PG=i1(i1({},tO),{},{layout:"centric",startAngle:0,endAngle:360}),rO=f.forwardRef((e,t)=>{var r=_t(e,PG);return f.createElement(NG,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:CG,tooltipPayloadSearcher:Mv,categoricalChartProps:r,ref:t})});const EG={ozon:{name:"Ozon",color:"#005bff",icon:""},yandex:{name:".",color:"#ffcc00",icon:""},wb:{name:"Wildberries",color:"#cb11ab",icon:""}},So={cogs:"#a855f7",penalties:"#ef4444",returns:"#f97316",subscription:"#8b5cf6",acquiring:"#3b82f6",client_compensation:"#ec4899",loyalty_points:"#eab308",early_payment:"#06b6d4",logistics:"#22c55e",storage:"#64748b",other:"#9ca3af"},o1={cogs:"",penalties:"",returns:"",subscription:"",acquiring:"",client_compensation:"",loyalty_points:"/",early_payment:" ",logistics:"",storage:"",other:""},Fe=e=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),Dh=e=>`${e>0?"+":""}${e.toFixed(1)}%`,OG=({value:e,inverted:t=!1})=>{if(e==null)return null;const r=t?e<0:e>0,n=r?Ha:Ei,s=r?"text-green-500":"text-red-500";return a.jsxs("span",{className:`inline-flex items-center gap-1 text-sm ${s}`,children:[a.jsx(n,{size:14}),Dh(e)]})},os=({title:e,value:t,change:r,subtitle:n,icon:s,colorClass:i,inverted:o})=>a.jsxs("div",{className:"card-neon p-5","data-testid":`summary-card-${e.toLowerCase().replace(/\s/g,"-")}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("span",{className:"text-mm-text-secondary text-sm font-mono uppercase",children:e}),s&&a.jsx(s,{className:i||"text-mm-cyan",size:20})]}),a.jsx("div",{className:"text-2xl font-bold text-mm-text mb-1",children:t}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary text-xs",children:n}),a.jsx(OG,{value:r,inverted:o})]})]}),AG=({name:e,amount:t,total:r,color:n,expanded:s,onToggle:i})=>{const o=r>0?(t/r*100).toFixed(1):0;return a.jsxs("div",{className:"border-b border-mm-border last:border-0 py-3 cursor-pointer hover:bg-mm-gray/30 px-2 -mx-2 rounded transition-colors",onClick:i,"data-testid":`expense-item-${e}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:n}}),a.jsx("span",{className:"text-mm-text font-mono",children:e})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-mm-text-secondary text-sm",children:[o,"%"]}),a.jsx("span",{className:"text-mm-text font-mono font-bold",children:Fe(t)})]})]}),a.jsx("div",{className:"mt-2 h-1.5 bg-mm-gray rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${o}%`,backgroundColor:n}})})]})};function nO({dateFrom:e,dateTo:t}){var M,B,H,R,L,z,Q,T,Z,te,$,Y,le,se,K,ue,he,J,D,X,ce,W,ee,ie,je,F,ae,U,oe,me,ke,we,_e,Me,ve,Pe,Ce,vt,ga,Ln,Rr,io,mc,Hs,rn,fc,pc,oo;const{api:r}=Ne(),[n,s]=f.useState("ozon"),[i,o]=f.useState(!1),[l,d]=f.useState(!1),[c,u]=f.useState(null),[m,p]=f.useState(null),[x,y]=f.useState(!0),[g,v]=f.useState(!1),[h,b]=f.useState(null),[j,k]=f.useState(!1),[S,N]=f.useState([]),[P,w]=f.useState("usn_6");f.useEffect(()=>{(async()=>{try{const de=await r.get("/api/business-analytics/tax-systems");N(de.data.systems||[]);const Ee=await r.get("/api/business-analytics/tax-settings");w(Ee.data.current_system||"usn_6")}catch(de){console.error("Error loading tax systems:",de)}})()},[]);const C=async ge=>{try{await r.post(`/api/business-analytics/tax-settings?tax_system=${ge}`),w(ge),q.success("  "),O()}catch{q.error("  ")}},O=async()=>{var ge,de,Ee;o(!0);try{const Re=await r.get("/api/business-analytics/economics",{params:{date_from:e,date_to:t,compare_previous:x}});u(Re.data);try{const Bt=await r.get("/api/yandex-analytics/economics",{params:{date_from:e,date_to:t,compare_previous:x}});p(Bt.data)}catch(Bt){console.log("Yandex data not available:",Bt.message),p(null)}}catch(Re){console.error("Error loading economics:",Re),((ge=Re.response)==null?void 0:ge.status)===404?q.error("API   .     ."):q.error("  : "+(((Ee=(de=Re.response)==null?void 0:de.data)==null?void 0:Ee.detail)||Re.message))}o(!1)},_=async()=>{var ge,de;d(!0);try{const Ee=await r.post("/api/business-analytics/sync-operations",null,{params:{date_from:e,date_to:t}});q.success(`: ${Ee.data.statistics.total_fetched} `),await O()}catch(Ee){q.error(" : "+(((de=(ge=Ee.response)==null?void 0:ge.data)==null?void 0:de.detail)||Ee.message))}d(!1)},E=async()=>{try{const ge=await r.get("/api/business-analytics/detailed-operations",{params:{date_from:e,date_to:t}});b(ge.data)}catch(ge){console.error("Error loading detailed operations:",ge)}};f.useEffect(()=>{e&&t&&O()},[e,t,x]);const A=(()=>{var de;if(!(c!=null&&c.expense_breakdown))return[];const ge=Object.entries(c.expense_breakdown).filter(([Ee,Re])=>Re.amount>0).map(([Ee,Re])=>({name:o1[Ee]||Re.name,value:Re.amount,color:So[Ee]||So.other}));return((de=c.summary)==null?void 0:de.cogs)>0&&ge.push({name:"",value:c.summary.cogs,color:So.cogs}),ge.sort((Ee,Re)=>Re.value-Ee.value)})();return i?a.jsxs("div",{className:"flex items-center justify-center py-20",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-mm-cyan"}),a.jsx("span",{className:"ml-4 text-mm-text-secondary",children:"   Ozon API..."})]}):c?a.jsxs("div",{className:"space-y-6","data-testid":"business-economics-tab",children:[a.jsxs("div",{className:"flex items-center gap-2 p-1 bg-mm-gray rounded-lg w-fit",children:[a.jsx("button",{onClick:()=>s("ozon"),className:`px-4 py-2 rounded-md font-mono text-sm transition-all ${n==="ozon"?"bg-[#005bff] text-white":"text-mm-text-secondary hover:text-mm-text"}`,"data-testid":"ozon-tab",children:" Ozon"}),a.jsxs("button",{onClick:()=>s("yandex"),className:`px-4 py-2 rounded-md font-mono text-sm transition-all ${n==="yandex"?"bg-[#ffcc00] text-black":"text-mm-text-secondary hover:text-mm-text"}`,"data-testid":"yandex-tab",children:[" . ",m?"":"( )"]}),a.jsx("button",{disabled:!0,className:"px-4 py-2 rounded-md font-mono text-sm text-mm-text-secondary/50 cursor-not-allowed",children:" WB ()"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-mono text-mm-cyan uppercase",children:["   ",((M=EG[n])==null?void 0:M.name)||n]}),a.jsxs("p",{className:"text-mm-text-secondary text-sm",children:[": ",e,"  ",t," (",(B=c.period)==null?void 0:B.days," )",n==="ozon"&&`  ${c.operations_count} `,n==="yandex"&&m&&`  ${((H=m.summary)==null?void 0:H.total_orders)||0} `]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-mm-text-secondary cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x,onChange:ge=>y(ge.target.checked),className:"rounded border-mm-border bg-mm-gray"}),"   "]}),a.jsxs("button",{onClick:_,disabled:l||n!=="ozon",className:"btn-secondary text-sm px-4 flex items-center gap-2","data-testid":"sync-operations-btn",children:[a.jsx(pt,{className:l?"animate-spin":"",size:16}),l?"...":""]})]})]}),n==="yandex"&&a.jsx(a.Fragment,{children:m?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(os,{title:"",value:Fe(((R=m.summary)==null?void 0:R.revenue)||0),change:(z=(L=m.comparison)==null?void 0:L.changes)==null?void 0:z.revenue_change_pct,subtitle:" ",icon:ta,colorClass:"text-green-500"}),a.jsx(os,{title:" ",value:Fe(((Q=m.summary)==null?void 0:Q.revenue_before_discount)||0),subtitle:`: ${Fe(((T=m.summary)==null?void 0:T.discount_given)||0)}`,icon:Ei,colorClass:"text-orange-500"}),a.jsx(os,{title:"  ",value:Fe(((Z=m.summary)==null?void 0:Z.subsidies_from_yandex)||0),subtitle:" ",icon:Ha,colorClass:"text-yellow-500"}),a.jsx(os,{title:"",value:((te=m.summary)==null?void 0:te.delivered_orders)||0,change:(Y=($=m.comparison)==null?void 0:$.changes)==null?void 0:Y.orders_change_pct,subtitle:`: ${((le=m.summary)==null?void 0:le.total_orders)||0}, : ${((se=m.summary)==null?void 0:se.cancelled_orders)||0}`,icon:Qd,colorClass:"text-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("h4",{className:"text-mm-cyan font-mono uppercase mb-4 flex items-center gap-2",children:[a.jsx(yt,{size:16}),"  "]}),a.jsx("div",{className:"space-y-3",children:Object.entries(m.by_status||{}).map(([ge,de])=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-mm-gray/30 rounded",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${ge==="DELIVERED"?"bg-green-500":ge==="PROCESSING"?"bg-blue-500":ge==="PICKUP"?"bg-yellow-500":ge==="CANCELLED"?"bg-red-500":"bg-gray-500"}`}),a.jsx("span",{className:"text-mm-text font-mono",children:ge==="DELIVERED"?"":ge==="PROCESSING"?" ":ge==="PICKUP"?"  ":ge==="CANCELLED"?"":ge})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-mm-text font-bold",children:[de.count," ."]}),a.jsx("div",{className:"text-mm-text-secondary text-sm",children:Fe(de.revenue)})]})]},ge))})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("h4",{className:"text-mm-cyan font-mono uppercase mb-4 flex items-center gap-2",children:[a.jsx(XI,{size:16})," "]}),a.jsx("div",{className:"space-y-2",children:Object.entries(m.top_regions||{}).map(([ge,de])=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-mm-border/50 last:border-0",children:[a.jsx("span",{className:"text-mm-text",children:ge}),a.jsxs("span",{className:"text-mm-cyan font-mono",children:[de," "]})]},ge))})]})]}),m.comparison&&a.jsxs("div",{className:"card-neon p-6 bg-mm-gray/20",children:[a.jsxs("h4",{className:"text-mm-text-secondary font-mono uppercase mb-3",children:["   ",(K=m.comparison.previous_period)==null?void 0:K.from,"  ",(ue=m.comparison.previous_period)==null?void 0:ue.to]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-mm-text-secondary text-sm",children:"  "}),a.jsx("div",{className:"text-xl font-bold text-mm-text",children:Fe(((he=m.comparison.changes)==null?void 0:he.prev_revenue)||0)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-mm-text-secondary text-sm",children:"  "}),a.jsx("div",{className:"text-xl font-bold text-mm-text",children:((J=m.comparison.changes)==null?void 0:J.prev_orders)||0})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-mm-text-secondary text-sm",children:" "}),a.jsx("div",{className:`text-xl font-bold ${((D=m.comparison.changes)==null?void 0:D.revenue_change_pct)>=0?"text-green-500":"text-red-500"}`,children:Dh(((X=m.comparison.changes)==null?void 0:X.revenue_change_pct)||0)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-mm-text-secondary text-sm",children:" "}),a.jsx("div",{className:`text-xl font-bold ${((ce=m.comparison.changes)==null?void 0:ce.orders_change_pct)>=0?"text-green-500":"text-red-500"}`,children:Dh(((W=m.comparison.changes)==null?void 0:W.orders_change_pct)||0)})]})]})]})]}):a.jsxs("div",{className:"card-neon p-8 text-center",children:[a.jsx(K0,{className:"mx-auto text-yellow-500 mb-4",size:48}),a.jsx("h3",{className:"text-lg font-mono text-mm-text mb-2",children:".  "}),a.jsx("p",{className:"text-mm-text-secondary mb-4",children:" API  .   "})]})}),n==="ozon"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"card-neon p-4 bg-mm-gray/20",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-mm-text-secondary text-sm",children:" :"}),a.jsx("select",{value:P,onChange:ge=>C(ge.target.value),className:"bg-mm-gray border border-mm-border rounded px-3 py-1.5 text-mm-text text-sm",children:S.map(ge=>a.jsx("option",{value:ge.code,children:ge.name},ge.code))})]}),(c==null?void 0:c.tax_info)&&a.jsxs("div",{className:"text-sm",children:[a.jsxs("span",{className:"text-mm-text-secondary",children:[" (",c.tax_info.name,"): "]}),a.jsx("span",{className:"text-orange-400 font-mono",children:Fe(c.tax_info.tax_amount||0)})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[a.jsx(os,{title:"",value:Fe(((ee=c.summary)==null?void 0:ee.gross_income)||0),change:(je=(ie=c.comparison)==null?void 0:ie.changes)==null?void 0:je.income_change_pct,subtitle:" + ",icon:Ha,colorClass:"text-green-500"}),a.jsx(os,{title:" ",value:Fe(((F=c.summary)==null?void 0:F.mp_expenses)||((ae=c.summary)==null?void 0:ae.total_expenses)||0),change:(oe=(U=c.comparison)==null?void 0:U.changes)==null?void 0:oe.expenses_change_pct,subtitle:", ...",icon:Ei,colorClass:"text-red-500",inverted:!0}),a.jsxs("div",{className:"card-neon p-5 bg-purple-500/10 border-purple-500/30",children:[a.jsx("div",{className:"flex items-start justify-between mb-2",children:a.jsx("span",{className:"text-mm-text-secondary text-sm font-mono uppercase",children:""})}),a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:Fe(((me=c.summary)==null?void 0:me.cogs)||0)}),a.jsx("div",{className:"text-mm-text-secondary text-xs",children:c.cogs_info?`${c.cogs_info.items_with_cogs}  ${c.cogs_info.items_with_cogs+c.cogs_info.items_without_cogs} `:"COGS"})]}),a.jsxs("div",{className:"card-neon p-5 bg-orange-500/10 border-orange-500/30",children:[a.jsx("div",{className:"flex items-start justify-between mb-2",children:a.jsx("span",{className:"text-mm-text-secondary text-sm font-mono uppercase",children:""})}),a.jsx("div",{className:"text-2xl font-bold text-orange-400",children:Fe(((ke=c.summary)==null?void 0:ke.tax_amount)||0)}),a.jsx("div",{className:"text-mm-text-secondary text-xs",children:((we=c.tax_info)==null?void 0:we.name)||" 6%"})]}),a.jsx(os,{title:" ",value:Fe(((_e=c.summary)==null?void 0:_e.net_profit)||0),change:(ve=(Me=c.comparison)==null?void 0:Me.changes)==null?void 0:ve.profit_change_pct,subtitle:`   : ${((Ce=(Pe=c.summary)==null?void 0:Pe.margin_pct)==null?void 0:Ce.toFixed(1))||0}%`,icon:ta,colorClass:((vt=c.summary)==null?void 0:vt.net_profit)>=0?"text-green-500":"text-red-500"}),c.comparison&&a.jsxs("div",{className:"card-neon p-5 bg-mm-gray/30",children:[a.jsx("div",{className:"text-mm-text-secondary text-sm font-mono uppercase mb-2",children:" "}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsx("span",{className:"text-mm-text",children:Fe(((ga=c.comparison.changes)==null?void 0:ga.prev_income)||0)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsx("span",{className:"text-mm-text",children:Fe(((Ln=c.comparison.changes)==null?void 0:Ln.prev_expenses)||0)})]}),a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"}),a.jsx("span",{className:"text-mm-text",children:Fe(((Rr=c.comparison.changes)==null?void 0:Rr.prev_profit)||0)})]})]}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-mm-border text-xs text-mm-text-secondary",children:[(io=c.comparison.previous_period)==null?void 0:io.from,"  ",(mc=c.comparison.previous_period)==null?void 0:mc.to]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"card-neon p-5 bg-green-500/5 border-green-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),a.jsx("span",{className:"text-mm-text-secondary text-sm font-mono uppercase",children:""})]}),a.jsx("div",{className:"text-xl font-bold text-green-500",children:Fe(((Hs=c.income_breakdown)==null?void 0:Hs.sales)||0)})]}),a.jsxs("div",{className:"card-neon p-5 bg-blue-500/5 border-blue-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),a.jsx("span",{className:"text-mm-text-secondary text-sm font-mono uppercase",children:""})]}),a.jsx("div",{className:"text-xl font-bold text-blue-500",children:Fe(((rn=c.income_breakdown)==null?void 0:rn.compensations)||0)})]}),a.jsxs("div",{className:"card-neon p-5 bg-gray-500/5 border-gray-500/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500"}),a.jsx("span",{className:"text-mm-text-secondary text-sm font-mono uppercase",children:""})]}),a.jsx("div",{className:"text-xl font-bold text-gray-400",children:Fe(((fc=c.income_breakdown)==null?void 0:fc.other)||0)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("h4",{className:"text-mm-cyan font-mono uppercase mb-4 flex items-center gap-2",children:[a.jsx(YI,{size:16})," "]}),A.length>0?a.jsx(bd,{width:"100%",height:300,children:a.jsxs(rO,{children:[a.jsx(Gv,{data:A,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",label:({name:ge,percent:de})=>`${ge}: ${(de*100).toFixed(0)}%`,labelLine:!1,children:A.map((ge,de)=>a.jsx(so,{fill:ge.color},`cell-${de}`))}),a.jsx(wd,{formatter:ge=>Fe(ge),contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid #3b3b5c",borderRadius:"8px"}})]})}):a.jsx("div",{className:"flex items-center justify-center h-[300px] text-mm-text-secondary",children:"   "})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h4",{className:"text-mm-cyan font-mono uppercase mb-4",children:" "}),a.jsx("div",{className:"space-y-1",children:Object.entries(c.expense_breakdown||{}).filter(([ge,de])=>de.amount>0).sort((ge,de)=>de[1].amount-ge[1].amount).map(([ge,de])=>{var Ee;return a.jsx(AG,{name:o1[ge]||de.name,amount:de.amount,total:((Ee=c.summary)==null?void 0:Ee.total_expenses)||0,color:So[ge]||So.other},ge)})}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-mm-border flex justify-between items-center",children:[a.jsx("span",{className:"text-mm-text-secondary font-mono",children:" :"}),a.jsx("span",{className:"text-xl font-bold text-red-500",children:Fe(((pc=c.summary)==null?void 0:pc.total_expenses)||0)})]})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsxs("button",{onClick:()=>{v(!g),!g&&!h&&E()},className:"w-full flex items-center justify-between text-mm-text-secondary hover:text-mm-cyan transition-colors","data-testid":"toggle-details-btn",children:[a.jsx("span",{className:"font-mono uppercase",children:"   "}),g?a.jsx(fm,{size:20}):a.jsx(Us,{size:20})]}),g&&h&&a.jsx("div",{className:"mt-4 pt-4 border-t border-mm-border",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-mm-text-secondary text-left",children:[a.jsx("th",{className:"pb-2 font-mono",children:" "}),a.jsx("th",{className:"pb-2 font-mono text-center",children:"-"}),a.jsx("th",{className:"pb-2 font-mono text-right",children:""})]})}),a.jsx("tbody",{children:(oo=h.operation_types)==null?void 0:oo.map((ge,de)=>a.jsxs("tr",{className:"border-t border-mm-border/50",children:[a.jsxs("td",{className:"py-2",children:[a.jsx("div",{className:"text-mm-text",children:ge.name||ge.type}),a.jsx("div",{className:"text-xs text-mm-text-secondary",children:ge.type})]}),a.jsx("td",{className:"py-2 text-center text-mm-text-secondary",children:ge.count}),a.jsx("td",{className:`py-2 text-right font-mono ${ge.amount>=0?"text-green-500":"text-red-500"}`,children:Fe(ge.amount)})]},de))})]})})})]}),a.jsx(TG,{dateFrom:e,dateTo:t,api:r})]})]}):a.jsxs("div",{className:"card-neon p-8 text-center",children:[a.jsx(K0,{className:"mx-auto text-yellow-500 mb-4",size:48}),a.jsx("h3",{className:"text-lg font-mono text-mm-text mb-2",children:"  "}),a.jsx("p",{className:"text-mm-text-secondary mb-4",children:"      Ozon API"}),a.jsx("button",{onClick:O,className:"btn-primary","data-testid":"load-economics-btn",children:" "})]})}function TG({dateFrom:e,dateTo:t,api:r}){const[n,s]=f.useState([]),[i,o]=f.useState(null),[l,d]=f.useState(!1),[c,u]=f.useState(!1),[m,p]=f.useState(""),[x,y]=f.useState([]),[g,v]=f.useState(""),[h,b]=f.useState("profit_asc"),[j,k]=f.useState(!1),S=async()=>{if(!(!e||!t)){d(!0);try{const w={date_from:e,date_to:t};m&&(w.tag=m);const C=await r.get("/api/business-analytics/products-economics",{params:w});s(C.data.products||[]),o(C.data.summary||null),y(C.data.available_tags||[])}catch(w){q.error("  unit economics"),console.error(w)}d(!1)}};f.useEffect(()=>{c&&e&&t&&S()},[c,e,t,m]);const N=re.useMemo(()=>{let w=[...n];if(g){const C=g.toLowerCase();w=w.filter(O=>{var _,E,I;return((_=O.name)==null?void 0:_.toLowerCase().includes(C))||((E=O.article)==null?void 0:E.toLowerCase().includes(C))||((I=O.sku)==null?void 0:I.toLowerCase().includes(C))})}switch(h){case"profit_asc":w.sort((C,O)=>C.profit-O.profit);break;case"profit_desc":w.sort((C,O)=>O.profit-C.profit);break;case"revenue_desc":w.sort((C,O)=>O.revenue-C.revenue);break;case"sales_desc":w.sort((C,O)=>O.sales_count-C.sales_count);break;case"margin_asc":w.sort((C,O)=>C.margin_pct-O.margin_pct);break}return w},[n,g,h]),P=async()=>{k(!0);try{const w={date_from:e,date_to:t};m&&(w.tag=m);const C=await r.get("/api/business-analytics/products-economics/export",{params:w,responseType:"blob"}),O=window.URL.createObjectURL(new Blob([C.data])),_=document.createElement("a");_.href=O,_.setAttribute("download",`unit_economics_${e}_${t}.xlsx`),document.body.appendChild(_),_.click(),_.remove(),q.success(" ")}catch{q.error(" ")}k(!1)};return a.jsxs("div",{className:"card-neon overflow-hidden",children:[a.jsxs("button",{onClick:()=>u(!c),className:"w-full p-4 flex items-center justify-between text-mm-text hover:bg-mm-gray/20 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(yt,{size:20,className:"text-mm-cyan"}),a.jsx("span",{className:"font-mono uppercase",children:"UNIT ECONOMICS  "}),i&&a.jsxs("span",{className:"text-sm text-mm-text-secondary",children:["(",i.total_products," : ",i.profitable," , ",i.unprofitable," )"]})]}),c?a.jsx(fm,{size:20}):a.jsx(Us,{size:20})]}),c&&a.jsxs("div",{className:"p-4 pt-0 border-t border-mm-border space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-4 pt-4",children:[a.jsx("input",{type:"text",placeholder:"  ...",value:g,onChange:w=>v(w.target.value),className:"flex-1 min-w-[200px] bg-mm-black border border-mm-border rounded px-3 py-2 text-sm focus:border-mm-cyan outline-none"}),x.length>0&&a.jsxs("select",{value:m,onChange:w=>p(w.target.value),className:"bg-mm-black border border-mm-border rounded px-3 py-2 text-sm focus:border-mm-cyan outline-none",children:[a.jsx("option",{value:"",children:" "}),x.map(w=>a.jsx("option",{value:w,children:w},w))]}),a.jsxs("select",{value:h,onChange:w=>b(w.target.value),className:"bg-mm-black border border-mm-border rounded px-3 py-2 text-sm focus:border-mm-cyan outline-none",children:[a.jsx("option",{value:"profit_asc",children:" "}),a.jsx("option",{value:"profit_desc",children:" "}),a.jsx("option",{value:"revenue_desc",children:"  "}),a.jsx("option",{value:"sales_desc",children:"  "}),a.jsx("option",{value:"margin_asc",children:" "})]}),a.jsx("button",{onClick:P,disabled:j||l,className:"btn-secondary text-sm px-4",children:j?"...":" Excel"}),a.jsx("button",{onClick:S,disabled:l,className:"btn-secondary text-sm px-3",children:a.jsx(pt,{className:l?"animate-spin":"",size:16})})]}),i&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[a.jsxs("div",{className:"bg-mm-gray/30 rounded p-3 text-center",children:[a.jsx("div",{className:"text-lg font-bold text-mm-cyan",children:i.total_products}),a.jsx("div",{className:"text-xs text-mm-text-secondary",children:""})]}),a.jsxs("div",{className:"bg-green-500/10 rounded p-3 text-center",children:[a.jsx("div",{className:"text-lg font-bold text-green-400",children:i.profitable}),a.jsx("div",{className:"text-xs text-mm-text-secondary",children:""})]}),a.jsxs("div",{className:"bg-red-500/10 rounded p-3 text-center",children:[a.jsx("div",{className:"text-lg font-bold text-red-400",children:i.unprofitable}),a.jsx("div",{className:"text-xs text-mm-text-secondary",children:""})]}),a.jsxs("div",{className:"bg-yellow-500/10 rounded p-3 text-center",children:[a.jsx("div",{className:"text-lg font-bold text-yellow-400",children:i.without_cogs}),a.jsx("div",{className:"text-xs text-mm-text-secondary",children:" COGS"})]}),a.jsxs("div",{className:"bg-mm-gray/30 rounded p-3 text-center",children:[a.jsx("div",{className:"text-lg font-bold text-mm-text",children:Fe(i.total_revenue)}),a.jsx("div",{className:"text-xs text-mm-text-secondary",children:""})]}),a.jsxs("div",{className:`rounded p-3 text-center ${i.total_profit>=0?"bg-green-500/10":"bg-red-500/10"}`,children:[a.jsx("div",{className:`text-lg font-bold ${i.total_profit>=0?"text-green-400":"text-red-400"}`,children:Fe(i.total_profit)}),a.jsx("div",{className:"text-xs text-mm-text-secondary",children:""})]})]}),l?a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-mm-cyan mx-auto"})}):a.jsxs("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto",children:[a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{className:"sticky top-0 bg-mm-gray/80",children:a.jsxs("tr",{className:"text-mm-cyan",children:[a.jsx("th",{className:"text-left p-2 font-mono",children:""}),a.jsx("th",{className:"text-center p-2 font-mono",children:"."}),a.jsx("th",{className:"text-center p-2 font-mono",children:"."}),a.jsx("th",{className:"text-right p-2 font-mono",children:""}),a.jsx("th",{className:"text-right p-2 font-mono",children:"."}),a.jsx("th",{className:"text-right p-2 font-mono",children:"."}),a.jsx("th",{className:"text-right p-2 font-mono",children:""}),a.jsx("th",{className:"text-right p-2 font-mono",children:""}),a.jsx("th",{className:"text-right p-2 font-mono",children:""})]})}),a.jsx("tbody",{children:N.map((w,C)=>{var O;return a.jsxs("tr",{className:`border-t border-mm-border/30 hover:bg-mm-gray/20 ${w.is_returned?"bg-orange-500/10":w.profit<0?"bg-red-500/5":w.profit>0?"bg-green-500/5":""}`,children:[a.jsxs("td",{className:"p-2",children:[a.jsxs("div",{className:"max-w-[200px] truncate text-mm-text",title:w.name,children:[w.is_returned&&a.jsx("span",{className:"text-orange-400 mr-1",children:""}),w.name]}),a.jsxs("div",{className:"text-mm-text-secondary text-[10px]",children:[w.article||w.sku,((O=w.tags)==null?void 0:O.length)>0&&a.jsxs("span",{className:"ml-2 text-purple-400",children:["[",w.tags.join(", "),"]"]})]})]}),a.jsx("td",{className:"p-2 text-center text-mm-text",children:w.delivered||w.sales_count}),a.jsx("td",{className:`p-2 text-center ${w.returned>0?"text-orange-400":"text-mm-text-tertiary"}`,children:w.returned||0}),a.jsx("td",{className:"p-2 text-right font-mono text-green-400",children:Fe(w.revenue)}),a.jsx("td",{className:"p-2 text-right font-mono text-red-400",children:Fe(w.mp_expenses)}),a.jsx("td",{className:`p-2 text-right font-mono ${w.cogs>0?"text-purple-400":"text-mm-text-tertiary"}`,children:w.cogs>0?Fe(w.cogs):w.has_purchase_price?"":""}),a.jsx("td",{className:"p-2 text-right font-mono text-orange-400",children:Fe(w.tax)}),a.jsx("td",{className:`p-2 text-right font-mono font-bold ${w.profit>=0?"text-green-400":"text-red-400"}`,children:Fe(w.profit)}),a.jsxs("td",{className:`p-2 text-right font-mono ${w.margin_pct>=0?"text-green-400":"text-red-400"}`,children:[w.margin_pct.toFixed(1),"%"]})]},C)})})]}),N.length===0&&a.jsx("div",{className:"text-center py-8 text-mm-text-secondary",children:n.length===0?"   ":"   "})]})]})]})}const aO=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},DG=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);return aO(t)},Np=()=>aO(new Date);function IG(){const{api:e}=Ne(),[t,r]=f.useState("profit"),[n,s]=f.useState(!1),[i,o]=f.useState(!1),[l,d]=f.useState(null),[c,u]=f.useState(null),[m,p]=f.useState(null),[x,y]=f.useState(null),[g,v]=f.useState(DG()),[h,b]=f.useState(Np()),[j,k]=f.useState(""),[S,N]=f.useState(null),[P,w]=f.useState(!1),[C,O]=f.useState([]),[_,E]=f.useState({expense_date:Np(),expense_type:" ",amount:"",description:"",document_number:""}),[I,A]=f.useState(!1),[M,B]=f.useState({tax_system:null,rate:0}),[H,R]=f.useState(!1),[L,z]=f.useState([]),[Q,T]=f.useState(""),[Z,te]=f.useState([]),[$,Y]=f.useState([]),le=async U=>{var ke,we;const oe=U.target.files[0];if(!oe)return;s(!0);const me=new FormData;me.append("file",oe);try{const _e=await e.post("/api/ozon-reports/upload-order-realization",me,{headers:{"Content-Type":"multipart/form-data"}});q.success(` ${_e.data.statistics.transactions_parsed} `),K()}catch(_e){q.error(": "+(((we=(ke=_e.response)==null?void 0:ke.data)==null?void 0:we.detail)||_e.message))}s(!1),U.target.value=""},se=async(U,oe)=>{var we,_e;const me=U.target.files[0];if(!me)return;s(!0);const ke=new FormData;ke.append("file",me);try{let Me="",ve="";switch(oe){case"loyalty":Me="/api/ozon-reports/upload-loyalty-report",ve="   ";break;case"acquiring":Me="/api/ozon-reports/upload-acquiring-report",ve="   ";break;case"rfbs":Me="/api/ozon-reports/upload-rfbs-logistics",ve="   rFBS ";break;default:throw new Error("  ")}const Pe=await e.post(Me,ke,{headers:{"Content-Type":"multipart/form-data"}});q.success(ve),K()}catch(Me){q.error(": "+(((_e=(we=Me.response)==null?void 0:we.data)==null?void 0:_e.detail)||Me.message))}s(!1),U.target.value=""},K=async()=>{o(!0);try{const U={period_start:g,period_end:h};if(j&&(U.tag_filter=j),Q&&(U.product_filter=Q),t==="profit"){const oe=await e.get("/api/ozon-reports/calculate-profit",{params:U});d(oe.data)}else if(t==="sales"){const oe=await e.get("/api/ozon-reports/sales-report",{params:U});u(oe.data)}else if(t==="trends"){const oe=await e.get("/api/ozon-reports/trends",{params:{period_start:g,period_end:h}});y(oe.data)}else{const oe=await e.get("/api/ozon-reports/transactions-list",{params:{...U,limit:100,offset:0}});p(oe.data)}}catch{q.error(" ")}o(!1)},ue=async()=>{try{const U=await e.get("/api/ozon-reports/expenses",{params:{period_start:g,period_end:h}});O(U.data.expenses||[])}catch(U){console.error("  ",U)}},he=async()=>{var U,oe;if(!_.amount||parseFloat(_.amount)<=0){q.error(" ");return}try{await e.post("/api/ozon-reports/add-expense",_),q.success(" "),E({expense_date:Np(),expense_type:" ",amount:"",description:"",document_number:""}),w(!1),await ue(),await K()}catch(me){q.error(": "+(((oe=(U=me.response)==null?void 0:U.data)==null?void 0:oe.detail)||me.message))}},J=async U=>{if(confirm(" ?"))try{await e.delete(`/api/ozon-reports/expense/${U}`),q.success(" "),await ue(),await K()}catch{q.error(" ")}},D=async()=>{try{const U=await e.get("/api/ozon-reports/tax-settings");B(U.data)}catch(U){console.error("   ",U)}},X=async U=>{try{await e.post("/api/ozon-reports/tax-settings",{tax_system:U}),q.success(" "),await D(),await K(),A(!1)}catch{q.error(" ")}},ce=async()=>{try{const U=await e.get("/api/ozon-reports/reports-history");z(U.data.reports||[])}catch(U){console.error("  ",U)}},W=async U=>{if(confirm("     ?"))try{const oe=await e.delete(`/api/ozon-reports/report/${U}`);q.success(` : ${oe.data.deleted_transactions}`),await ce(),await K()}catch{q.error(" ")}},ee=async()=>{try{const U=await e.get("/api/ozon-reports/products-list");te(U.data.products||[])}catch(U){console.error("  ",U)}},ie=async()=>{try{const U=await e.get("/api/ozon-reports/tags-list");Y(U.data.tags||[])}catch(U){console.error("  ",U)}},je=async()=>{try{const U={period_start:g,period_end:h};j&&(U.tag_filter=j);const oe=await e.get("/api/ozon-reports/export-excel",{params:U,responseType:"blob"}),me=window.URL.createObjectURL(new Blob([oe.data])),ke=document.createElement("a");ke.href=me,ke.setAttribute("download",`ozon_report_${g}_${h}.xlsx`),document.body.appendChild(ke),ke.click(),ke.remove(),q.success(" !")}catch{q.error(" ")}};f.useEffect(()=>{D(),ce(),ee(),ie()},[]),f.useEffect(()=>{(l||c||m||x)&&(K(),ue())},[t]);const F=U=>(!U&&U!==0&&(U=0),new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(U)),ae=U=>`${(U||0).toFixed(2)}%`;return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:"  "}),a.jsx("p",{className:"comment",children:"//     Ozon"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>A(!I),className:"btn-secondary text-sm px-4",children:" "}),a.jsx("button",{onClick:()=>R(!H),className:"btn-secondary text-sm px-4",children:" "})]})]}),I&&a.jsxs("div",{className:"card-neon p-6 bg-mm-gray bg-opacity-30",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase",children:" "}),a.jsx("button",{onClick:()=>A(!1),className:"text-mm-text-secondary hover:text-mm-cyan",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[a.jsxs("button",{onClick:()=>X("usn_income"),className:`p-4 rounded border-2 transition-colors ${(M==null?void 0:M.tax_system)==="usn_income"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:" "}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"6%  "})]}),a.jsxs("button",{onClick:()=>X("usn_income_expense"),className:`p-4 rounded border-2 transition-colors ${(M==null?void 0:M.tax_system)==="usn_income_expense"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:" -"}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"15%  "})]}),a.jsxs("button",{onClick:()=>X("osn"),className:`p-4 rounded border-2 transition-colors ${(M==null?void 0:M.tax_system)==="osn"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:""}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"20%   "})]}),a.jsxs("button",{onClick:()=>X("patent"),className:`p-4 rounded border-2 transition-colors ${(M==null?void 0:M.tax_system)==="patent"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:""}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"6% "})]}),a.jsxs("button",{onClick:()=>X("eshn"),className:`p-4 rounded border-2 transition-colors ${(M==null?void 0:M.tax_system)==="eshn"?"border-mm-cyan bg-mm-cyan bg-opacity-10":"border-mm-border hover:border-mm-cyan"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-cyan",children:""}),a.jsx("div",{className:"text-sm text-mm-text-secondary mt-1",children:"6%  /"})]}),a.jsxs("button",{onClick:()=>{B({tax_system:null,rate:0}),X(null)},className:`p-4 rounded border-2 transition-colors ${M!=null&&M.tax_system?"border-mm-border hover:border-mm-cyan":"border-mm-cyan bg-mm-cyan bg-opacity-10"}`,children:[a.jsx("div",{className:"font-mono text-lg text-mm-text-secondary",children:" "}),a.jsx("div",{className:"text-sm text-mm-text-tertiary mt-1",children:" "})]})]}),(M==null?void 0:M.tax_system)&&a.jsx("div",{className:"mt-4 p-3 bg-mm-black rounded border border-mm-border",children:a.jsxs("div",{className:"text-sm font-mono text-mm-cyan",children:[" : ",M.tax_system==="usn_income"?"  6%":M.tax_system==="usn_income_expense"?" - 15%":M.tax_system==="osn"?" 20%":M.tax_system==="patent"?" 6%":M.tax_system==="eshn"?" 6%":" "]})})]}),H&&a.jsxs("div",{className:"card-neon p-6 bg-mm-gray bg-opacity-30",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase",children:"  "}),a.jsx("button",{onClick:()=>R(!1),className:"text-mm-text-secondary hover:text-mm-cyan",children:""})]}),L.length===0?a.jsx("div",{className:"text-center py-8 text-mm-text-secondary",children:"  "}):a.jsx("div",{className:"space-y-2",children:L.map(U=>{var oe,me;return a.jsxs("div",{className:"flex justify-between items-center bg-mm-black p-4 rounded border border-mm-border",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-mono text-mm-cyan",children:new Date(U.uploaded_at).toLocaleString("ru-RU")}),a.jsx("span",{className:"text-xs bg-mm-border px-2 py-1 rounded",children:U.report_type==="order_realization"?" ":U.report_type})]}),a.jsx("div",{className:"text-sm text-mm-text mt-1",children:U.file_name}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary mt-1",children:[": ",((oe=U.summary)==null?void 0:oe.total_transactions)||0," | : ",F(((me=U.summary)==null?void 0:me.total_revenue)||0)]})]}),a.jsx("button",{onClick:()=>W(U._id),className:"text-mm-red hover:text-mm-text text-sm ml-4",children:""})]},U._id)})})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"flex gap-2 mb-6",children:[a.jsxs("button",{onClick:()=>r("profit"),className:`px-6 py-3 rounded font-mono text-sm ${t==="profit"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(Ha,{className:"inline mr-2"})," "]}),a.jsxs("button",{onClick:()=>r("sales"),className:`px-6 py-3 rounded font-mono text-sm ${t==="sales"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(Fy,{className:"inline mr-2"})," "]}),a.jsxs("button",{onClick:()=>r("transactions"),className:`px-6 py-3 rounded font-mono text-sm ${t==="transactions"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(GI,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>r("trends"),className:`px-6 py-3 rounded font-mono text-sm ${t==="trends"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,children:[a.jsx(VI,{className:"inline mr-2"}),""]}),a.jsxs("button",{onClick:()=>r("economics"),className:`px-6 py-3 rounded font-mono text-sm ${t==="economics"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,"data-testid":"economics-tab-btn",children:[a.jsx(Ll,{className:"inline mr-2"}),""]})]}),a.jsxs("div",{className:"border-t border-mm-border pt-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsx("input",{type:"date",value:g,onChange:U=>v(U.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsx("input",{type:"date",value:h,onChange:U=>b(U.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:" :"}),a.jsxs("select",{value:j,onChange:U=>k(U.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none",children:[a.jsx("option",{value:"",children:" "}),$.map(U=>a.jsx("option",{value:U,children:U},U))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-mm-text-secondary mb-2 font-mono",children:":"}),a.jsxs("select",{value:Q,onChange:U=>T(U.target.value),className:"w-full px-4 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm text-mm-text focus:border-mm-cyan focus:outline-none",children:[a.jsx("option",{value:"",children:" "}),Z.map(U=>a.jsxs("option",{value:U.article,children:[U.article," - ",U.name.substring(0,40),"..."]},U.article))]})]}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("button",{onClick:K,disabled:i,className:"btn-primary flex-1",children:i?"...":""}),a.jsx("button",{onClick:je,className:"btn-secondary px-4",children:a.jsx(ut,{})})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-mm-border space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(er,{}),n?"...":" ",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:le,disabled:n,className:"hidden"})]}),a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(er,{}),"  ",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:U=>se(U,"loyalty"),disabled:n,className:"hidden"})]}),a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(er,{}),"",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:U=>se(U,"acquiring"),disabled:n,className:"hidden"})]}),a.jsxs("label",{className:"btn-secondary inline-flex items-center gap-2 cursor-pointer justify-center",children:[a.jsx(er,{})," rFBS",a.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:U=>se(U,"rfbs"),disabled:n,className:"hidden"})]})]}),a.jsx("p",{className:"text-xs text-mm-text-tertiary font-mono",children:"//      Ozon (  )"})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-mm-border",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"text-sm font-mono text-mm-cyan uppercase",children:" "}),a.jsx("button",{onClick:()=>w(!P),className:"btn-secondary text-xs px-3 py-1",children:P?"":"+ "})]}),P&&a.jsxs("div",{className:"bg-mm-gray bg-opacity-10 p-4 rounded border border-mm-border mb-3",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:""}),a.jsx("input",{type:"date",value:_.expense_date,onChange:U=>E({..._,expense_date:U.target.value}),className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:" "}),a.jsxs("select",{value:_.expense_type,onChange:U=>E({..._,expense_type:U.target.value}),className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm",children:[a.jsx("option",{children:" "}),a.jsx("option",{children:" "}),a.jsx("option",{children:""}),a.jsx("option",{children:""}),a.jsx("option",{children:""}),a.jsx("option",{children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:" ()"}),a.jsx("input",{type:"number",value:_.amount,onChange:U=>E({..._,amount:U.target.value}),placeholder:"0.00",className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:" "}),a.jsx("input",{type:"text",value:_.document_number,onChange:U=>E({..._,document_number:U.target.value}),placeholder:"",className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs text-mm-text-secondary mb-1 font-mono",children:""}),a.jsx("input",{type:"text",value:_.description,onChange:U=>E({..._,description:U.target.value}),placeholder:"",className:"w-full px-3 py-2 bg-mm-black border border-mm-border rounded font-mono text-sm"})]})]}),a.jsx("button",{onClick:he,className:"btn-primary mt-3",children:" "})]}),C.length>0&&a.jsxs("div",{className:"space-y-2",children:[C.map(U=>a.jsxs("div",{className:"flex justify-between items-center bg-mm-gray bg-opacity-10 p-3 rounded border border-mm-border",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-mono text-mm-cyan",children:new Date(U.expense_date).toLocaleDateString("ru-RU")}),a.jsx("span",{className:"text-xs bg-mm-border px-2 py-1 rounded",children:U.expense_type}),a.jsx("span",{className:"text-sm font-mono text-mm-text",children:F(U.amount)})]}),U.description&&a.jsx("div",{className:"text-xs text-mm-text-secondary mt-1",children:U.description}),U.document_number&&a.jsxs("div",{className:"text-xs text-mm-text-tertiary mt-1",children:[" ",U.document_number]})]}),a.jsx("button",{onClick:()=>J(U._id),className:"text-mm-red hover:text-mm-text text-sm",children:""})]},U._id)),a.jsxs("div",{className:"text-right text-sm font-mono text-mm-cyan pt-2 border-t border-mm-border",children:[": ",F(C.reduce((U,oe)=>U+oe.amount,0))]})]})]})]})]}),t==="economics"?a.jsx(nO,{dateFrom:g,dateTo:h,marketplace:"ozon"}):i?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// ..."})}):t==="profit"&&l?a.jsx(MG,{data:l,fmt:F,pct:ae}):t==="sales"&&c?a.jsx($G,{data:c,fmt:F}):t==="trends"&&x?a.jsx(RG,{data:x,fmt:F}):t==="transactions"&&m?a.jsx(LG,{data:m,fmt:F,expandedRow:S,setExpandedRow:N}):a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-text-secondary",children:'    ""'})})]})}function MG({data:e,fmt:t,pct:r}){var n,s,i,o,l,d,c,u,m,p,x,y,g,v,h,b,j,k,S,N,P,w,C,O,_,E,I,A,M,B,H,R,L,z,Q,T,Z;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:" "}),a.jsx("div",{className:"text-3xl font-mono text-mm-cyan mb-2",children:t((n=e.revenue)==null?void 0:n.net_revenue)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:((i=(s=e.revenue)==null?void 0:s.returns)==null?void 0:i.total_returned)>0?`: ${(l=(o=e.revenue)==null?void 0:o.returns)==null?void 0:l.returned_quantity} .`:`: ${t((d=e.revenue)==null?void 0:d.gross_revenue)}`})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:""}),a.jsx("div",{className:"text-3xl font-mono text-mm-red mb-2",children:t((c=e.cogs)==null?void 0:c.total)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:(u=e.statistics)!=null&&u.cogs_coverage?`: ${e.statistics.cogs_coverage.coverage_pct}%`:`${r((m=e.cogs)==null?void 0:m.percentage)}`})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:""}),a.jsx("div",{className:"text-3xl font-mono text-mm-red mb-2",children:t((p=e.expenses)==null?void 0:p.total)}),a.jsx("div",{className:"text-xs text-mm-text-tertiary font-mono",children:" Ozon"})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-2",children:" "}),a.jsx("div",{className:"text-3xl font-mono text-mm-green mb-2",children:t((x=e.profit)==null?void 0:x.net_profit)}),a.jsxs("div",{className:"text-xs text-mm-text-tertiary font-mono",children:[": ",r((y=e.profit)==null?void 0:y.net_margin_pct)]})]})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:""}),a.jsxs("div",{className:"space-y-3 font-mono text-sm",children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:""}),a.jsx("span",{children:t((g=e.revenue)==null?void 0:g.realized)})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"+   "}),a.jsxs("span",{className:"text-mm-cyan",children:["+",t((v=e.revenue)==null?void 0:v.loyalty_payments)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"+   "}),a.jsxs("span",{className:"text-mm-cyan",children:["+",t((h=e.revenue)==null?void 0:h.discount_points)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-bold text-mm-cyan",children:[a.jsx("span",{children:"=  "}),a.jsx("span",{children:t((b=e.revenue)==null?void 0:b.gross_revenue)})]}),((j=e.revenue)==null?void 0:j.returns)&&e.revenue.returns.total_returned>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border bg-mm-gray bg-opacity-20",children:[a.jsxs("span",{className:"text-mm-text-secondary",children:["-  (",e.revenue.returns.returned_quantity," .)"]}),a.jsxs("span",{className:"text-mm-red",children:["-",t(e.revenue.returns.total_returned)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t(e.revenue.returns.returned_amount)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t(e.revenue.returns.returned_discounts)]})]}),e.revenue.returns.returned_loyalty>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  "}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t(e.revenue.returns.returned_loyalty)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsx("span",{className:"text-mm-text-tertiary",children:"  ()"}),a.jsxs("span",{className:"text-mm-cyan",children:["+",t(e.revenue.returns.returned_commission_back)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-semibold",children:[a.jsx("span",{children:"=  "}),a.jsx("span",{children:t((k=e.revenue)==null?void 0:k.net_revenue)})]})]}),e.cogs&&e.cogs.total>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border bg-mm-gray bg-opacity-20",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-   (COGS)"}),a.jsxs("span",{className:"text-mm-red",children:["-",t(e.cogs.total)]})]}),((S=e.statistics)==null?void 0:S.cogs_coverage)&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsxs("span",{className:"text-mm-text-tertiary",children:[" : ",e.statistics.cogs_coverage.items_with_price,"  ",e.statistics.cogs_coverage.items_with_price+e.statistics.cogs_coverage.items_missing_price,"  (",e.statistics.cogs_coverage.coverage_pct,"%)"]}),a.jsx("span",{className:"text-mm-text-tertiary",children:r(e.cogs.percentage)})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-semibold text-mm-cyan",children:[a.jsx("span",{children:"=  "}),a.jsx("span",{children:t((N=e.profit)==null?void 0:N.gross_profit)})]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-   Ozon"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((P=e.expenses)==null?void 0:P.ozon_base_commission)]})]}),((w=e.expenses)==null?void 0:w.loyalty_programs)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-   ()"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((C=e.expenses)==null?void 0:C.loyalty_programs)]})]}),((O=e.expenses)==null?void 0:O.acquiring)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"- "}),a.jsxs("span",{className:"text-mm-red",children:["-",t((_=e.expenses)==null?void 0:_.acquiring)]})]}),((E=e.expenses)==null?void 0:E.rfbs_logistics)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-  rFBS"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((I=e.expenses)==null?void 0:I.rfbs_logistics)]})]}),((A=e.expenses)==null?void 0:A.fbo_fbs_services)>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-  FBO/FBS"}),a.jsxs("span",{className:"text-mm-red",children:["-",t((M=e.expenses)==null?void 0:M.fbo_fbs_services)]})]}),((B=e.expenses)==null?void 0:B.manual_expenses)>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border bg-mm-gray bg-opacity-20",children:[a.jsx("span",{className:"text-mm-text-secondary",children:"-  "}),a.jsxs("span",{className:"text-mm-red",children:["-",t((H=e.expenses)==null?void 0:H.manual_expenses)]})]}),((R=e.expenses)==null?void 0:R.manual_by_type)&&Object.keys(e.expenses.manual_by_type).length>0&&Object.entries(e.expenses.manual_by_type).map(([te,$])=>a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border pl-6 text-xs",children:[a.jsxs("span",{className:"text-mm-text-tertiary",children:[" ",te]}),a.jsxs("span",{className:"text-mm-text-tertiary",children:["-",t($)]})]},te))]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-bold",children:[a.jsx("span",{className:"text-mm-red",children:"=  "}),a.jsxs("span",{className:"text-mm-red",children:["-",t((L=e.expenses)==null?void 0:L.total)]})]}),((z=e.profit)==null?void 0:z.operating_profit)!==void 0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border font-semibold text-mm-cyan",children:[a.jsx("span",{children:"=  "}),a.jsxs("span",{children:[t((Q=e.profit)==null?void 0:Q.operating_profit)," (",r((T=e.profit)==null?void 0:T.operating_margin_pct),")"]})]}),e.taxes&&e.taxes.amount>0&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-mm-border",children:[a.jsxs("span",{className:"text-mm-text-secondary",children:["-  (",e.taxes.system==="usn_income"?" 6%":e.taxes.system==="usn_income_expense"?" 15%":e.taxes.system==="osn"?" 20%":e.taxes.system==="patent"?" 6%":e.taxes.system==="eshn"?" 6%":e.taxes.rate+"%",")"]}),a.jsxs("span",{className:"text-mm-red",children:["-",t(e.taxes.amount)]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-t-2 border-mm-cyan font-bold text-lg",children:[a.jsx("span",{className:"text-mm-green",children:"=  "}),a.jsx("span",{className:"text-mm-green",children:t((Z=e.profit)==null?void 0:Z.net_profit)})]})]})]})]})}function $G({data:e,fmt:t}){return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:"  "}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:"-"}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:(e.products||[]).map((r,n)=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-cyan",children:r.article}),a.jsxs("td",{className:"py-3 px-4 text-sm",children:[(r.product_name||"").substring(0,50),"..."]}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:r.quantity}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:t(r.revenue)}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm text-mm-red",children:t(r.commission)})]},n))})]})}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-mm-border font-mono",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" :"}),a.jsx("span",{children:e.total_products||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-mm-text-secondary",children:" :"}),a.jsxs("span",{children:[e.total_quantity||0," "]})]}),a.jsxs("div",{className:"flex justify-between font-bold text-mm-cyan",children:[a.jsx("span",{children:" :"}),a.jsx("span",{children:t(e.total_revenue)})]})]})]})})}function LG({data:e,fmt:t,expandedRow:r,setExpandedRow:n}){return a.jsxs("div",{className:"card-neon",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-center py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono"})]})}),a.jsx("tbody",{children:(e.transactions||[]).map(s=>{const i=s.total_to_accrue||0,o=r===s._id;return a.jsxs(re.Fragment,{children:[a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-text-secondary",children:new Date(s.operation_date).toLocaleDateString("ru-RU")}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm text-mm-cyan",children:s.posting_number}),a.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:s.article}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:t(s.realized_amount)}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm text-mm-red",children:t(s.ozon_base_commission)}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm font-bold text-mm-green",children:t(i)}),a.jsx("td",{className:"py-3 px-4 text-center",children:a.jsx("button",{onClick:()=>n(o?null:s._id),className:"text-mm-cyan hover:text-mm-text",children:o?a.jsx(fm,{size:20}):a.jsx(Us,{size:20})})})]}),o&&a.jsx("tr",{className:"bg-mm-gray border-b border-mm-border",children:a.jsx("td",{colSpan:"7",className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6 font-mono text-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-cyan uppercase mb-3",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:"SKU:"})," ",s.sku]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"})," ",s.product_name]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"})," ",s.quantity]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-mm-text-secondary",children:":"})," ",t(s.price)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-cyan uppercase mb-3",children:""}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:":"}),a.jsx("span",{children:t(s.realized_amount)})]}),a.jsxs("div",{className:"flex justify-between text-mm-cyan",children:[a.jsx("span",{children:"+ :"}),a.jsxs("span",{children:["+",t(s.loyalty_payments)]})]}),a.jsxs("div",{className:"flex justify-between text-mm-cyan",children:[a.jsx("span",{children:"+ :"}),a.jsxs("span",{children:["+",t(s.discount_points)]})]}),a.jsxs("div",{className:"flex justify-between text-mm-red",children:[a.jsx("span",{children:"- :"}),a.jsxs("span",{children:["-",t(s.ozon_base_commission)]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-mm-border font-bold text-mm-green",children:[a.jsx("span",{children:":"}),a.jsx("span",{children:t(i)})]})]})]})]})})})]},s._id)})})]})}),a.jsxs("div",{className:"p-4 text-sm text-mm-text-secondary font-mono",children:[": ",e.total_count||0," "]})]})}function RG({data:e,fmt:t}){if(!e||!e.trends||e.trends.length===0)return a.jsx("div",{className:"card-neon text-center py-12",children:a.jsx("p",{className:"text-mm-text-secondary",children:"   "})});const r=e.trends;r.reduce((o,l)=>o+l.revenue,0);const n=r.reduce((o,l)=>o+l.returns,0),i=[{name:" Ozon",value:r.reduce((o,l)=>o+l.commission,0),color:"#ff4444"},{name:"",value:n,color:"#ff8844"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:"   "}),a.jsx(bd,{width:"100%",height:300,children:a.jsxs(xG,{data:r,children:[a.jsx(kh,{strokeDasharray:"3 3",stroke:"#333"}),a.jsx(Ch,{dataKey:"date",stroke:"#888",style:{fontSize:"12px",fontFamily:"monospace"}}),a.jsx(Eh,{stroke:"#888",style:{fontSize:"12px",fontFamily:"monospace"},tickFormatter:o=>`${(o/1e3).toFixed(0)}k`}),a.jsx(wd,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #00ffff",borderRadius:"4px",fontFamily:"monospace",fontSize:"12px"},formatter:o=>t(o)}),a.jsx(PC,{wrapperStyle:{fontFamily:"monospace",fontSize:"12px"}}),a.jsx(_h,{type:"monotone",dataKey:"revenue",stroke:"#00ffff",strokeWidth:2,name:"",dot:{fill:"#00ffff",r:4}}),a.jsx(_h,{type:"monotone",dataKey:"profit",stroke:"#00ff88",strokeWidth:2,name:"",dot:{fill:"#00ff88",r:4}})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:" "}),a.jsx(bd,{width:"100%",height:250,children:a.jsxs(rO,{children:[a.jsx(Gv,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o}: ${(l*100).toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:i.map((o,l)=>a.jsx(so,{fill:o.color},`cell-${l}`))}),a.jsx(wd,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #00ffff",fontFamily:"monospace"},formatter:o=>t(o)})]})})]}),a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:"  "}),a.jsx(bd,{width:"100%",height:250,children:a.jsxs(yG,{data:r,children:[a.jsx(kh,{strokeDasharray:"3 3",stroke:"#333"}),a.jsx(Ch,{dataKey:"date",stroke:"#888",style:{fontSize:"10px",fontFamily:"monospace"}}),a.jsx(Eh,{stroke:"#888",style:{fontSize:"12px",fontFamily:"monospace"}}),a.jsx(wd,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #00ffff",fontFamily:"monospace"}}),a.jsx(SE,{dataKey:"transactions",fill:"#00ffff",name:""})]})})]})]})]})}const sO=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},zG=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);return sO(t)},FG=()=>sO(new Date),ar=e=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);function BG({dateFrom:e,dateTo:t,api:r}){var h;const[n,s]=f.useState([]),[i,o]=f.useState(null),[l,d]=f.useState(!1),[c,u]=f.useState("ozon"),[m,p]=f.useState("all"),x=re.useMemo(()=>m==="all"||c!=="ozon"?n:n.filter(b=>b.delivery_type===m),[n,m,c]),y=async()=>{d(!0);try{if(c==="yandex"){const b=await r.get("/api/yandex-analytics/orders",{params:{date_from:e,date_to:t}});s(b.data.orders||[]),o(null)}else if(c==="ozon"){const b=await r.get("/api/business-analytics/orders",{params:{date_from:e,date_to:t}});s(b.data.orders||[]),o(b.data.summary||null)}}catch(b){q.error("  "),console.error(b)}d(!1)};f.useEffect(()=>{e&&t&&y()},[e,t,c]);const g={DELIVERED:"bg-green-500/20 text-green-400",PROCESSING:"bg-blue-500/20 text-blue-400",PICKUP:"bg-yellow-500/20 text-yellow-400",CANCELLED:"bg-red-500/20 text-red-400",RETURNED:"bg-orange-500/20 text-orange-400"},v={DELIVERED:"",PROCESSING:" ",PICKUP:"  ",CANCELLED:"",RETURNED:""};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>u("ozon"),className:`px-4 py-2 rounded-md font-mono text-sm transition-all ${c==="ozon"?"bg-[#005bff] text-white":"bg-mm-gray text-mm-text-secondary hover:text-mm-text"}`,children:" Ozon"}),a.jsx("button",{onClick:()=>u("yandex"),className:`px-4 py-2 rounded-md font-mono text-sm transition-all ${c==="yandex"?"bg-yellow-500 text-black":"bg-mm-gray text-mm-text-secondary hover:text-mm-text"}`,children:" ."})]}),a.jsxs("button",{onClick:y,disabled:l,className:"btn-secondary text-sm px-4 flex items-center gap-2",children:[a.jsx(pt,{className:l?"animate-spin":"",size:16}),""]})]}),c==="ozon"&&i&&a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-mm-text-secondary text-sm",children:" :"}),a.jsxs("div",{className:"flex bg-mm-gray rounded overflow-hidden",children:[a.jsxs("button",{onClick:()=>p("all"),className:`px-4 py-2 text-sm font-mono transition-colors ${m==="all"?"bg-mm-cyan text-mm-black":"text-mm-text-secondary hover:text-mm-text"}`,children:[" (",i.total_orders,")"]}),a.jsxs("button",{onClick:()=>p("FBS"),className:`px-4 py-2 text-sm font-mono transition-colors ${m==="FBS"?"bg-blue-500 text-white":"text-mm-text-secondary hover:text-mm-text"}`,children:["FBS (",i.fbs_count||0,")"]}),a.jsxs("button",{onClick:()=>p("FBO"),className:`px-4 py-2 text-sm font-mono transition-colors ${m==="FBO"?"bg-purple-500 text-white":"text-mm-text-secondary hover:text-mm-text"}`,children:["FBO (",i.fbo_count||0,")"]})]})]}),c==="ozon"&&i&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3",children:[a.jsxs("div",{className:"card-neon p-4 text-center",children:[a.jsx("div",{className:"text-xl font-bold text-mm-cyan",children:x.length}),a.jsxs("div",{className:"text-xs text-mm-text-secondary",children:[" ",m!=="all"&&`(${m})`]})]}),a.jsxs("div",{className:"card-neon p-4 text-center",children:[a.jsx("div",{className:"text-xl font-bold text-green-400",children:ar(x.reduce((b,j)=>b+(j.revenue||0),0))}),a.jsx("div",{className:"text-xs text-mm-text-secondary",children:""})]}),a.jsxs("div",{className:"card-neon p-4 text-center",children:[a.jsx("div",{className:"text-xl font-bold text-red-400",children:ar(x.reduce((b,j)=>b+(j.mp_expenses||0),0))}),a.jsx("div",{className:"text-xs text-mm-text-secondary",children:" "})]}),a.jsxs("div",{className:"card-neon p-4 text-center bg-purple-500/10",children:[a.jsx("div",{className:"text-xl font-bold text-purple-400",children:ar(x.reduce((b,j)=>b+(j.cogs||0),0))}),a.jsx("div",{className:"text-xs text-mm-text-secondary",children:""})]}),a.jsxs("div",{className:"card-neon p-4 text-center bg-orange-500/10",children:[a.jsx("div",{className:"text-xl font-bold text-orange-400",children:ar(x.reduce((b,j)=>b+(j.tax||0),0))}),a.jsxs("div",{className:"text-xs text-mm-text-secondary",children:[" (",((h=i.tax_info)==null?void 0:h.name)||" 6%",")"]})]}),a.jsxs("div",{className:"card-neon p-4 text-center col-span-2",children:[a.jsx("div",{className:`text-xl font-bold ${x.reduce((b,j)=>b+(j.profit||0),0)>=0?"text-green-400":"text-red-400"}`,children:ar(x.reduce((b,j)=>b+(j.profit||0),0))}),a.jsx("div",{className:"text-xs text-mm-text-secondary",children:" "})]})]}),i.orders_without_cogs>0&&a.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded p-3 text-sm",children:[a.jsxs("span",{className:"text-yellow-400",children:[" ",i.orders_without_cogs,"    ."]}),a.jsx("span",{className:"text-mm-text-secondary ml-2",children:'     "   "'})]})]}),a.jsx("div",{className:"card-neon overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-mm-gray/50",children:c==="ozon"?a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3 font-mono text-mm-cyan text-xs",children:""}),a.jsx("th",{className:"text-center p-3 font-mono text-mm-cyan text-xs",children:""}),a.jsx("th",{className:"text-left p-3 font-mono text-mm-cyan text-xs",children:""}),a.jsx("th",{className:"text-left p-3 font-mono text-mm-cyan text-xs",children:""}),a.jsx("th",{className:"text-right p-3 font-mono text-mm-cyan text-xs",children:""}),a.jsx("th",{className:"text-right p-3 font-mono text-mm-cyan text-xs",children:". "}),a.jsx("th",{className:"text-right p-3 font-mono text-mm-cyan text-xs",children:"COGS"}),a.jsx("th",{className:"text-right p-3 font-mono text-mm-cyan text-xs",children:""}),a.jsx("th",{className:"text-right p-3 font-mono text-mm-cyan text-xs",children:""})]}):a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-4 font-mono text-mm-cyan",children:"ID"}),a.jsx("th",{className:"text-left p-4 font-mono text-mm-cyan",children:""}),a.jsx("th",{className:"text-left p-4 font-mono text-mm-cyan",children:""}),a.jsx("th",{className:"text-right p-4 font-mono text-mm-cyan",children:""}),a.jsx("th",{className:"text-right p-4 font-mono text-mm-cyan",children:""}),a.jsx("th",{className:"text-right p-4 font-mono text-mm-cyan",children:" "}),a.jsx("th",{className:"text-left p-4 font-mono text-mm-cyan",children:""})]})}),a.jsx("tbody",{children:l?a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"p-8 text-center text-mm-text-secondary",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-mm-cyan mx-auto mb-2"})," ..."]})}):n.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"p-8 text-center text-mm-text-secondary",children:"    "})}):c==="ozon"?x.map(b=>{var j,k;return a.jsxs("tr",{className:"border-t border-mm-border/50 hover:bg-mm-gray/30",children:[a.jsx("td",{className:"p-3 font-mono text-mm-text text-xs",children:b.posting_number}),a.jsx("td",{className:"p-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-mono ${b.delivery_type==="FBO"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:b.delivery_type||"FBS"})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs ${g[b.status]||"bg-gray-500/20"}`,children:v[b.status]||b.status})}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"max-w-[150px]",children:[(j=b.items)==null?void 0:j.slice(0,1).map((S,N)=>a.jsx("div",{className:"text-mm-text text-xs truncate",children:S.name},N)),((k=b.items)==null?void 0:k.length)>1&&a.jsxs("div",{className:"text-mm-text-secondary text-xs",children:["+",b.items.length-1," "]})]})}),a.jsx("td",{className:"p-3 text-right font-mono text-green-400 text-xs",children:ar(b.revenue)}),a.jsx("td",{className:"p-3 text-right font-mono text-red-400 text-xs",children:ar(b.mp_expenses)}),a.jsx("td",{className:`p-3 text-right font-mono text-xs ${b.cogs>0?"text-purple-400":"text-mm-text-tertiary"}`,children:b.cogs>0?ar(b.cogs):"-"}),a.jsx("td",{className:"p-3 text-right font-mono text-orange-400 text-xs",children:ar(b.tax)}),a.jsx("td",{className:`p-3 text-right font-mono text-xs font-bold ${b.profit>=0?"text-green-400":"text-red-400"}`,children:ar(b.profit)})]},b.id)}):n.map(b=>{var j,k;return a.jsxs("tr",{className:"border-t border-mm-border/50 hover:bg-mm-gray/30",children:[a.jsx("td",{className:"p-4 font-mono text-mm-text",children:b.id}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs ${g[b.status]||"bg-gray-500/20"}`,children:v[b.status]||b.status})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"max-w-xs",children:[(j=b.items)==null?void 0:j.slice(0,2).map((S,N)=>a.jsxs("div",{className:"text-mm-text text-xs truncate",children:[S.name,"  ",S.count]},N)),((k=b.items)==null?void 0:k.length)>2&&a.jsxs("div",{className:"text-mm-text-secondary text-xs",children:["+",b.items.length-2," "]})]})}),a.jsx("td",{className:"p-4 text-right font-mono text-mm-text",children:ar(b.buyer_total)}),a.jsx("td",{className:"p-4 text-right font-mono text-orange-400",children:ar((b.buyer_total_before_discount||0)-(b.buyer_total||0))}),a.jsx("td",{className:"p-4 text-right font-mono text-yellow-400",children:ar(b.subsidies||0)}),a.jsx("td",{className:"p-4 text-mm-text-secondary text-xs",children:b.delivery_region})]},b.id)})})]})})}),c==="yandex"&&n.length>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("div",{className:"text-mm-text-secondary text-sm",children:" "}),a.jsx("div",{className:"text-2xl font-bold text-mm-text",children:n.length})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("div",{className:"text-mm-text-secondary text-sm",children:""}),a.jsx("div",{className:"text-2xl font-bold text-green-500",children:n.filter(b=>b.status==="DELIVERED").length})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("div",{className:"text-mm-text-secondary text-sm",children:" "}),a.jsx("div",{className:"text-2xl font-bold text-mm-cyan",children:ar(n.reduce((b,j)=>b+(j.buyer_total||0),0))})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsx("div",{className:"text-mm-text-secondary text-sm",children:" "}),a.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:ar(n.reduce((b,j)=>b+(j.subsidies||0),0))})]})]})]})}function UG({dateFrom:e,dateTo:t,api:r}){const[n,s]=f.useState(!1),i=async(o,l="all")=>{var d,c;s(!0);try{const u=o==="economics"?"/api/export/economics-excel":"/api/export/transactions-excel",m=await r.get(u,{params:{date_from:e,date_to:t,marketplace:l},responseType:"blob"}),p=window.URL.createObjectURL(new Blob([m.data])),x=document.createElement("a");x.href=p,x.setAttribute("download",`${o}_${e}_${t}.xlsx`),document.body.appendChild(x),x.click(),x.remove(),window.URL.revokeObjectURL(p),q.success("  !")}catch(u){q.error(" : "+(((c=(d=u.response)==null?void 0:d.data)==null?void 0:c.detail)||u.message))}s(!1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan uppercase mb-4",children:"   EXCEL"}),a.jsxs("p",{className:"text-mm-text-secondary mb-6",children:[": ",e,"  ",t]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"card-neon p-5 bg-mm-gray/30",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 rounded-lg bg-green-500/20",children:a.jsx(Ll,{className:"text-green-500",size:24})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-mm-text font-mono mb-1",children:" "}),a.jsx("p",{className:"text-mm-text-secondary text-sm mb-3",children:"  , , .    ."}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>i("economics","ozon"),disabled:n,className:"btn-primary text-sm px-3 py-2 flex items-center gap-2",children:[a.jsx(ut,{size:14}),"Ozon"]}),a.jsxs("button",{onClick:()=>i("economics","yandex"),disabled:n,className:"btn-primary text-sm px-3 py-2 flex items-center gap-2",children:[a.jsx(ut,{size:14}),""]}),a.jsxs("button",{onClick:()=>i("economics","all"),disabled:n,className:"btn-secondary text-sm px-3 py-2 flex items-center gap-2",children:[a.jsx(ut,{size:14})," "]})]})]})]})}),a.jsx("div",{className:"card-neon p-5 bg-mm-gray/30",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 rounded-lg bg-blue-500/20",children:a.jsx(Fy,{className:"text-blue-500",size:24})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-mm-text font-mono mb-1",children:""}),a.jsx("p",{className:"text-mm-text-secondary text-sm mb-3",children:"    .     ."}),a.jsx("div",{className:"flex flex-wrap gap-2",children:a.jsxs("button",{onClick:()=>i("transactions","ozon"),disabled:n,className:"btn-primary text-sm px-3 py-2 flex items-center gap-2",children:[a.jsx(ut,{size:14}),"Ozon"]})})]})]})})]}),n&&a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-mm-cyan",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-mm-cyan"})," ..."]})]}),a.jsxs("div",{className:"card-neon p-6 bg-mm-gray/20",children:[a.jsx("h4",{className:"text-mm-text-secondary font-mono uppercase mb-3",children:"  "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-mm-cyan font-mono mb-2",children:" :"}),a.jsxs("ul",{className:"text-mm-text-secondary space-y-1",children:[a.jsx("li",{children:" : , , "}),a.jsx("li",{children:"    "}),a.jsx("li",{children:"    "}),a.jsx("li",{children:"  :  "})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-mm-cyan font-mono mb-2",children:":"}),a.jsxs("ul",{className:"text-mm-text-secondary space-y-1",children:[a.jsx("li",{children:"  "}),a.jsx("li",{children:"  "}),a.jsx("li",{children:" "}),a.jsx("li",{children:"  "}),a.jsx("li",{children:"  "})]})]})]})]})]})}function WG(){const{api:e}=Ne(),[t,r]=f.useState("economics"),[n,s]=f.useState(zG()),[i,o]=f.useState(FG());return a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-mono text-mm-cyan uppercase tracking-wider mb-2",children:"// "}),a.jsx("p",{className:"text-mm-text-secondary",children:"    "})]}),a.jsx("div",{className:"card-neon p-4 mb-6",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-mm-text-secondary text-sm block mb-1",children:" :"}),a.jsx("input",{type:"date",value:n,onChange:l=>s(l.target.value),className:"bg-mm-gray border border-mm-border rounded px-3 py-2 text-mm-text"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-mm-text-secondary text-sm block mb-1",children:":"}),a.jsx("input",{type:"date",value:i,onChange:l=>o(l.target.value),className:"bg-mm-gray border border-mm-border rounded px-3 py-2 text-mm-text"})]}),a.jsx("div",{className:"flex-1"}),a.jsxs("div",{className:"text-mm-text-secondary text-sm",children:[Math.ceil((new Date(i)-new Date(n))/(1e3*60*60*24))+1," "]})]})}),a.jsxs("div",{className:"flex gap-2 mb-6",children:[a.jsxs("button",{onClick:()=>r("economics"),className:`px-6 py-3 rounded font-mono text-sm flex items-center gap-2 ${t==="economics"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,"data-testid":"economics-tab",children:[a.jsx(Ll,{size:18}),""]}),a.jsxs("button",{onClick:()=>r("orders"),className:`px-6 py-3 rounded font-mono text-sm flex items-center gap-2 ${t==="orders"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,"data-testid":"orders-tab",children:[a.jsx(u_,{size:18}),""]}),a.jsxs("button",{onClick:()=>r("export"),className:`px-6 py-3 rounded font-mono text-sm flex items-center gap-2 ${t==="export"?"bg-mm-cyan text-mm-black":"bg-mm-gray text-mm-text-secondary hover:bg-mm-border"}`,"data-testid":"export-tab",children:[a.jsx(ut,{size:18}),""]})]}),t==="economics"&&a.jsx(nO,{dateFrom:n,dateTo:i}),t==="orders"&&a.jsx(BG,{dateFrom:n,dateTo:i,api:e}),t==="export"&&a.jsx(UG,{dateFrom:n,dateTo:i,api:e})]})}function KG(){var he,J;const{api:e}=Ne(),[t,r]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState(!1),[l,d]=f.useState(null),[c,u]=f.useState(""),[m,p]=f.useState({}),[x,y]=f.useState({total:0,with_price:0}),[g,v]=f.useState("all"),[h,b]=f.useState("name"),[j,k]=f.useState(""),[S,N]=f.useState(!1),[P,w]=f.useState(null),[C,O]=f.useState(!1),[_,E]=f.useState(null),[I,A]=f.useState(""),[M,B]=f.useState(""),[H,R]=f.useState(!1),[L,z]=f.useState(null),Q=async()=>{s(!0);try{const D=await e.get("/api/ozon-reports/products-with-prices");r(D.data.products),y({total:D.data.total,with_price:D.data.with_price})}catch{q.error("  ")}s(!1)};f.useEffect(()=>{Q()},[]);const T=D=>{d(D._id),u(D.purchase_price||"")},Z=()=>{const D=t.find(X=>X._id===l);D&&(p({...m,[D.article]:parseFloat(c)||0}),r(t.map(X=>X._id===l?{...X,purchase_price:parseFloat(c)||0}:X))),d(null),u("")},te=async()=>{var D,X;if(Object.keys(m).length===0){q.info("   ");return}o(!0);try{const ce=await e.post("/api/ozon-reports/update-purchase-prices",m);q.success(` ${ce.data.updated} `),p({}),await Q()}catch(ce){q.error(" : "+(((X=(D=ce.response)==null?void 0:D.data)==null?void 0:X.detail)||ce.message))}o(!1)},$=()=>{const D=["article,purchase_price"];t.forEach(ee=>{D.push(`${ee.article},${ee.purchase_price||0}`)});const X=new Blob([D.join(`
`)],{type:"text/csv"}),ce=window.URL.createObjectURL(X),W=document.createElement("a");W.href=ce,W.setAttribute("download","purchase_prices.csv"),document.body.appendChild(W),W.click(),W.remove(),q.success(" ")},Y=async D=>{var W,ee;const X=D.target.files[0];if(!X)return;E(X),N(!0),w(null),A(""),B(""),z(null),O(!0);const ce=new FormData;ce.append("file",X);try{const ie=await e.post("/api/ozon-reports/preview-price-import",ce,{headers:{"Content-Type":"multipart/form-data"}});w(ie.data),ie.data.auto_detected&&(ie.data.auto_detected.article_column&&A(ie.data.auto_detected.article_column),ie.data.auto_detected.price_column&&B(ie.data.auto_detected.price_column)),q.success(` : ${ie.data.total_rows} `)}catch(ie){console.error("Preview error:",ie),q.error(" : "+(((ee=(W=ie.response)==null?void 0:W.data)==null?void 0:ee.detail)||ie.message)),N(!1)}O(!1),D.target.value=""},le=async()=>{var X,ce;if(!I||!M){q.error("      ");return}if(!_){q.error("  ");return}R(!0);const D=new FormData;D.append("file",_);try{const W=await e.post(`/api/ozon-reports/apply-price-import?article_column=${encodeURIComponent(I)}&price_column=${encodeURIComponent(M)}`,D,{headers:{"Content-Type":"multipart/form-data"}});z(W.data),q.success(` :  ${W.data.statistics.updated},   ${W.data.statistics.not_found||0}`),await Q()}catch(W){q.error(" : "+(((ce=(X=W.response)==null?void 0:X.data)==null?void 0:ce.detail)||W.message))}R(!1)},se=()=>{N(!1),w(null),E(null),A(""),B(""),z(null),O(!1)},K=D=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(D||0),ue=re.useMemo(()=>{let D=[...t];if(j){const X=j.toLowerCase();D=D.filter(ce=>{var W,ee;return((W=ce.article)==null?void 0:W.toLowerCase().includes(X))||((ee=ce.name)==null?void 0:ee.toLowerCase().includes(X))})}switch(g==="with_price"?D=D.filter(X=>X.purchase_price>0):g==="without_price"&&(D=D.filter(X=>!X.purchase_price||X.purchase_price===0)),h){case"price_asc":D.sort((X,ce)=>(X.purchase_price||0)-(ce.purchase_price||0));break;case"price_desc":D.sort((X,ce)=>(ce.purchase_price||0)-(X.purchase_price||0));break;case"margin_asc":D.sort((X,ce)=>(X.margin_pct||0)-(ce.margin_pct||0));break;case"margin_desc":D.sort((X,ce)=>(ce.margin_pct||0)-(X.margin_pct||0));break;case"sale_price_desc":D.sort((X,ce)=>(ce.price||0)-(X.price||0));break;case"sale_price_asc":D.sort((X,ce)=>(X.price||0)-(ce.price||0));break;default:D.sort((X,ce)=>(X.name||"").localeCompare(ce.name||""))}return D},[t,g,h,j]);return a.jsxs("div",{className:"space-y-6 pb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl mb-2 text-mm-cyan uppercase",children:" "}),a.jsx("p",{className:"comment",children:"//    (COGS)"})]}),S?a.jsxs("div",{className:"card-neon p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-mono text-mm-cyan",children:"  "}),a.jsx("button",{onClick:se,className:"text-mm-text-secondary hover:text-mm-red",children:a.jsx(ht,{size:24})})]}),C&&a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(Xd,{className:"animate-spin text-mm-cyan mr-3",size:24}),a.jsx("span",{className:"text-mm-text-secondary",children:" ..."})]}),P&&!L&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-mm-gray/30 rounded p-4",children:[a.jsxs("div",{className:"text-sm text-mm-text-secondary mb-2",children:[": ",a.jsx("span",{className:"text-mm-text",children:P.filename})]}),a.jsxs("div",{className:"text-sm text-mm-text-secondary",children:[" : ",a.jsx("span",{className:"text-mm-cyan font-mono",children:P.total_rows})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-mm-text-secondary text-sm mb-2 font-mono",children:["   *",((he=P.auto_detected)==null?void 0:he.article_column)&&a.jsx("span",{className:"text-green-400 ml-2",children:"()"})]}),a.jsxs("select",{value:I,onChange:D=>A(D.target.value),className:"w-full bg-mm-black border border-mm-border rounded px-4 py-3 text-mm-text focus:border-mm-cyan outline-none","data-testid":"article-column-select",children:[a.jsx("option",{value:"",children:"--   --"}),P.columns.map(D=>a.jsx("option",{value:D,children:D},D))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-mm-text-secondary text-sm mb-2 font-mono",children:["    *",((J=P.auto_detected)==null?void 0:J.price_column)&&a.jsx("span",{className:"text-green-400 ml-2",children:"()"})]}),a.jsxs("select",{value:M,onChange:D=>B(D.target.value),className:"w-full bg-mm-black border border-mm-border rounded px-4 py-3 text-mm-text focus:border-mm-cyan outline-none","data-testid":"price-column-select",children:[a.jsx("option",{value:"",children:"--   --"}),P.columns.map(D=>a.jsx("option",{value:D,children:D},D))]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-mm-text-secondary text-sm mb-3 font-mono",children:" ( 10 )"}),a.jsx("div",{className:"overflow-x-auto border border-mm-border rounded max-h-96",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"sticky top-0",children:a.jsx("tr",{className:"bg-mm-gray/50",children:P.columns.map(D=>a.jsxs("th",{className:`text-left py-3 px-4 font-mono text-sm whitespace-nowrap cursor-pointer transition-colors ${D===I?"bg-green-500/30 text-green-400 border-b-2 border-green-500":D===M?"bg-blue-500/30 text-blue-400 border-b-2 border-blue-500":"text-mm-text-secondary hover:bg-mm-gray/70"}`,onClick:()=>{I?!M&&D!==I&&B(D):A(D)},children:[D,D===I&&a.jsx("span",{className:"ml-2 text-xs bg-green-500 text-black px-1 rounded",children:""}),D===M&&a.jsx("span",{className:"ml-2 text-xs bg-blue-500 text-black px-1 rounded",children:""})]},D))})}),a.jsx("tbody",{children:P.preview.map((D,X)=>a.jsx("tr",{className:"border-t border-mm-border/50 hover:bg-mm-gray/20",children:P.columns.map(ce=>a.jsx("td",{className:`py-2 px-4 text-mm-text whitespace-nowrap ${ce===I?"bg-green-500/10 font-medium":ce===M?"bg-blue-500/10 font-medium":""}`,children:D[ce]||"-"},ce))},X))})]})}),a.jsx("p",{className:"text-xs text-mm-text-secondary mt-2",children:" :       "})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:le,disabled:H||!I||!M,className:"btn-primary flex items-center gap-2","data-testid":"apply-import-btn",children:H?a.jsxs(a.Fragment,{children:[a.jsx(Xd,{className:"animate-spin",size:16}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(er,{size:16})," "]})}),a.jsx("button",{onClick:se,className:"btn-secondary",children:""})]})]}),L&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-green-400",children:[a.jsx(ul,{size:24}),a.jsx("span",{className:"text-lg font-mono",children:" "})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-mm-gray/30 rounded p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-mono text-mm-text",children:L.statistics.total_rows}),a.jsx("div",{className:"text-sm text-mm-text-secondary",children:" "})]}),a.jsxs("div",{className:"bg-green-500/10 rounded p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-mono text-green-400",children:L.statistics.updated}),a.jsx("div",{className:"text-sm text-mm-text-secondary",children:""})]}),a.jsxs("div",{className:"bg-orange-500/10 rounded p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-mono text-orange-400",children:L.statistics.not_found||0}),a.jsx("div",{className:"text-sm text-mm-text-secondary",children:" "})]}),a.jsxs("div",{className:"bg-yellow-500/10 rounded p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-mono text-yellow-400",children:L.statistics.skipped}),a.jsx("div",{className:"text-sm text-mm-text-secondary",children:""})]})]}),L.message&&a.jsx("div",{className:"text-mm-text-secondary text-sm",children:L.message}),L.errors&&L.errors.length>0&&a.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-2",children:[a.jsx(An,{size:16}),a.jsxs("span",{className:"font-mono",children:[" (",L.statistics.errors_count,"):"]})]}),a.jsx("div",{className:"text-sm text-mm-text-secondary space-y-1 max-h-40 overflow-y-auto",children:L.errors.map((D,X)=>a.jsx("div",{children:D},X))})]}),a.jsx("button",{onClick:se,className:"btn-primary",children:""})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"card-neon p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"border border-mm-border rounded p-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-1",children:" "}),a.jsx("div",{className:"text-2xl font-mono text-mm-cyan",children:x.total})]}),a.jsxs("div",{className:"border border-mm-border rounded p-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-1",children:" "}),a.jsx("div",{className:"text-2xl font-mono text-mm-green",children:x.with_price})]}),a.jsxs("div",{className:"border border-mm-border rounded p-4",children:[a.jsx("div",{className:"text-sm text-mm-text-secondary font-mono mb-1",children:""}),a.jsxs("div",{className:"text-2xl font-mono text-mm-text",children:[x.total>0?(x.with_price/x.total*100).toFixed(1):0,"%"]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:te,disabled:i||Object.keys(m).length===0,className:"btn-primary","data-testid":"save-all-btn",children:[a.jsx(Pi,{className:"inline mr-2"}),i?"...":` (${Object.keys(m).length})`]}),a.jsxs("button",{onClick:$,className:"btn-secondary",children:[a.jsx(ut,{className:"inline mr-2"})," CSV"]}),a.jsxs("label",{className:"btn-primary cursor-pointer","data-testid":"import-file-btn",children:[a.jsx(er,{className:"inline mr-2"}),"  EXCEL/CSV",a.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:Y})]})]})]}),a.jsxs("div",{className:"card-neon p-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsx("input",{type:"text",placeholder:"    ...",value:j,onChange:D=>k(D.target.value),className:"w-full bg-mm-black border border-mm-border rounded px-4 py-2 text-mm-text focus:border-mm-cyan outline-none"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-mm-text-secondary text-sm",children:":"}),a.jsxs("div",{className:"flex bg-mm-gray rounded overflow-hidden",children:[a.jsxs("button",{onClick:()=>v("all"),className:`px-3 py-2 text-sm font-mono transition-colors ${g==="all"?"bg-mm-cyan text-mm-black":"text-mm-text-secondary hover:text-mm-text"}`,children:[" (",x.total,")"]}),a.jsxs("button",{onClick:()=>v("with_price"),className:`px-3 py-2 text-sm font-mono transition-colors ${g==="with_price"?"bg-green-500 text-mm-black":"text-mm-text-secondary hover:text-mm-text"}`,children:["  (",x.with_price,")"]}),a.jsxs("button",{onClick:()=>v("without_price"),className:`px-3 py-2 text-sm font-mono transition-colors ${g==="without_price"?"bg-red-500 text-mm-black":"text-mm-text-secondary hover:text-mm-text"}`,children:["  (",x.total-x.with_price,")"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-mm-text-secondary text-sm",children:":"}),a.jsxs("select",{value:h,onChange:D=>b(D.target.value),className:"bg-mm-black border border-mm-border rounded px-3 py-2 text-mm-text text-sm focus:border-mm-cyan outline-none",children:[a.jsx("option",{value:"name",children:" "}),a.jsx("option",{value:"price_desc",children:"  ()"}),a.jsx("option",{value:"price_asc",children:"  ()"}),a.jsx("option",{value:"sale_price_desc",children:"  "}),a.jsx("option",{value:"sale_price_asc",children:"  "}),a.jsx("option",{value:"margin_desc",children:"  ()"}),a.jsx("option",{value:"margin_asc",children:"  ()"})]})]})]}),a.jsxs("div",{className:"mt-3 text-sm text-mm-text-secondary",children:[": ",a.jsx("span",{className:"text-mm-cyan font-mono",children:ue.length})," ",j&&a.jsxs("span",{children:['   "',j,'"']})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// ..."})}):a.jsxs("div",{className:"card-neon p-6",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-mm-border",children:[a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-left py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:" %"}),a.jsx("th",{className:"text-center py-3 px-4 text-mm-text-secondary uppercase text-sm font-mono",children:""})]})}),a.jsx("tbody",{children:ue.map(D=>a.jsxs("tr",{className:"border-b border-mm-border hover:bg-mm-gray hover:bg-opacity-10",children:[a.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:D.article}),a.jsx("td",{className:"py-3 px-4 text-sm",children:D.name}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:D.price>0?K(D.price):"-"}),a.jsx("td",{className:"py-3 px-4 text-right",children:l===D._id?a.jsx("input",{type:"number",value:c,onChange:X=>u(X.target.value),onKeyDown:X=>{X.key==="Enter"&&Z(),X.key==="Escape"&&(d(null),u(""))},className:"w-32 px-2 py-1 bg-mm-black border border-mm-cyan rounded font-mono text-sm text-right",autoFocus:!0}):a.jsx("span",{className:`font-mono text-sm ${D.purchase_price>0?"text-mm-cyan":"text-mm-text-tertiary"}`,children:D.purchase_price>0?K(D.purchase_price):" "})}),a.jsx("td",{className:"py-3 px-4 text-right font-mono text-sm",children:D.margin_pct>0?a.jsxs("span",{className:D.margin_pct>30?"text-mm-green":D.margin_pct>15?"text-mm-cyan":"text-mm-red",children:[D.margin_pct.toFixed(1),"%"]}):a.jsx("span",{className:"text-mm-text-tertiary",children:"-"})}),a.jsx("td",{className:"py-3 px-4 text-center",children:l===D._id?a.jsx("button",{onClick:Z,className:"text-mm-green hover:text-mm-cyan",children:a.jsx(Vt,{size:18})}):a.jsx("button",{onClick:()=>T(D),className:"text-mm-text-secondary hover:text-mm-cyan",children:a.jsx(zy,{size:16})})})]},D._id))})]})}),ue.length===0&&a.jsx("div",{className:"text-center py-12 text-mm-text-secondary",children:t.length===0?"   ":"    "})]})]})]})}const kp=({title:e,icon:t,items:r,isActive:n})=>{const[s,i]=re.useState(!1),o=re.useRef(null),l=Jr();re.useEffect(()=>{const c=u=>{o.current&&!o.current.contains(u.target)&&i(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const d=c=>{i(!1),l(c)};return a.jsxs("div",{className:"relative",ref:o,children:[a.jsxs("button",{onClick:()=>i(!s),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${n?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(t,{className:"inline"}),e,a.jsx(Us,{className:`ml-1 transition-transform ${s?"rotate-180":""}`})]}),s&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-mm-darker rounded-lg shadow-2xl border border-mm-border py-2 min-w-[220px]",style:{zIndex:9999},children:r.map((c,u)=>a.jsxs("button",{onClick:()=>d(c.path),className:"w-full text-left px-4 py-3 hover:bg-mm-gray flex items-center gap-3 text-sm text-mm-text hover:text-mm-cyan transition-colors font-medium",children:[c.icon&&a.jsx(c.icon,{className:"w-4 h-4"}),c.label]},u))})]})},HG=({children:e})=>{const{user:t,logout:r}=Ne(),n=Jr(),s=ts(),i=s.pathname.startsWith("/warehouses")||s.pathname.startsWith("/suppliers")||s.pathname.startsWith("/income-orders")||s.pathname.startsWith("/stock"),o=s.pathname.startsWith("/catalog")||s.pathname.startsWith("/products"),l=s.pathname.startsWith("/orders"),d=[{label:"",path:"/warehouses",icon:Ai},{label:"",path:"/suppliers",icon:Oi},{label:"  ",path:"/income-orders",icon:ut},{label:"",path:"/stock",icon:Sx},{label:"",path:"/stock/sync",icon:a_}],c=[{label:"",path:"/catalog/products",icon:i_},{label:"",path:"/catalog/categories",icon:m_},{label:"",path:"/catalog/pricing",icon:ta},{label:"  (COGS)",path:"/purchase-prices",icon:l_},{label:"",path:"/catalog/matching",icon:Ko},{label:" ",path:"/catalog/import",icon:er}],u=[{label:"FBS (  )",path:"/orders/fbs",icon:yt},{label:"FBO (  )",path:"/orders/fbo",icon:Sx},{label:" ",path:"/orders/retail",icon:Qd}];return a.jsxs("div",{className:"min-h-screen bg-mm-black",children:[a.jsx("header",{className:"border-b border-mm-border bg-mm-darker",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h1",{className:"text-2xl font-bold cursor-pointer",onClick:()=>n("/"),children:["MINIMAL",a.jsx("span",{className:"text-mm-purple",children:"MOD"})," ",a.jsx("span",{className:"status-new",children:"SELLER"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-mm-text-secondary",children:t==null?void 0:t.email}),a.jsx(p_,{}),a.jsx("button",{onClick:r,className:"btn-primary",children:"LOGOUT"})]})]})})}),a.jsx("nav",{className:"border-b border-mm-border bg-mm-dark relative",style:{zIndex:100},children:a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsxs("div",{className:"flex space-x-6 h-12",children:[a.jsxs("button",{onClick:()=>n("/integrations"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/integrations"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(o_,{className:"inline"}),""]}),a.jsx(kp,{title:"",icon:Ai,items:d,isActive:i}),a.jsx(kp,{title:"",icon:yt,items:c,isActive:o}),a.jsx(kp,{title:"",icon:Qd,items:u,isActive:l}),a.jsxs("button",{onClick:()=>n("/finance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/finance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(Ll,{className:"inline"}),""]}),a.jsxs("button",{onClick:()=>n("/analytics-reports"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/analytics-reports"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(Ha,{className:"inline"}),""]}),a.jsxs("button",{onClick:()=>n("/balance"),className:`px-4 font-mono uppercase text-sm transition-colors whitespace-nowrap flex items-center gap-1 h-12 ${s.pathname==="/balance"?"text-mm-cyan border-b-2 border-mm-cyan":"text-mm-text-secondary hover:text-mm-cyan"}`,children:[a.jsx(ta,{className:"inline"}),""]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:e})]})};function De({children:e,requiredRole:t}){const{user:r,loading:n}=Ne();return n?a.jsx("div",{className:"min-h-screen bg-mm-black flex items-center justify-center",children:a.jsx("p",{className:"text-mm-cyan animate-pulse",children:"// LOADING..."})}):r?t&&r.role!==t?a.jsx(Wo,{to:"/"}):e:a.jsx(Wo,{to:"/login"})}function ze({children:e}){return a.jsx(HG,{children:e})}function VG(){const{user:e}=Ne();return a.jsxs(ST,{children:[a.jsx(Ae,{path:"/login",element:e?a.jsx(Wo,{to:"/"}):a.jsx(WI,{})}),a.jsx(Ae,{path:"/",element:a.jsx(De,{children:(e==null?void 0:e.role)==="admin"?a.jsx(lM,{}):a.jsx(Wo,{to:"/catalog/products"})})}),a.jsx(Ae,{path:"/integrations",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(x_,{})})})}),a.jsx(Ae,{path:"/warehouses",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(g_,{})})})}),a.jsx(Ae,{path:"/warehouses/:id",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(xM,{})})})}),a.jsx(Ae,{path:"/suppliers",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(b_,{})})})}),a.jsx(Ae,{path:"/income-orders",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(j_,{})})})}),a.jsx(Ae,{path:"/income-orders/new",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(G0,{})})})}),a.jsx(Ae,{path:"/income-orders/:id/edit",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(G0,{})})})}),a.jsx(Ae,{path:"/stock",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(v_,{})})})}),a.jsx(Ae,{path:"/stock/sync",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(w_,{})})})}),a.jsx(Ae,{path:"/catalog/products",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(N_,{})})})}),a.jsx(Ae,{path:"/catalog/products/new",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(Y0,{})})})}),a.jsx(Ae,{path:"/catalog/products/:id/edit",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(Y0,{})})})}),a.jsx(Ae,{path:"/catalog/categories",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(hM,{})})})}),a.jsx(Ae,{path:"/catalog/pricing",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(kM,{})})})}),a.jsx(Ae,{path:"/catalog/matching",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(wM,{})})})}),a.jsx(Ae,{path:"/catalog/import",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(jM,{})})})}),a.jsx(Ae,{path:"/orders",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(Lc,{})})})}),a.jsx(Ae,{path:"/orders/fbs",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(Lc,{section:"fbs"})})})}),a.jsx(Ae,{path:"/orders/fbo",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(Lc,{section:"fbo"})})})}),a.jsx(Ae,{path:"/orders/retail",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(Lc,{section:"retail"})})})}),a.jsx(Ae,{path:"/finance",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(h_,{})})})}),a.jsx(Ae,{path:"/balance",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(y_,{})})})}),a.jsx(Ae,{path:"/profit-report",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(RM,{})})})}),a.jsx(Ae,{path:"/transactions",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(BM,{})})})}),a.jsx(Ae,{path:"/analytics-reports",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(WG,{})})})}),a.jsx(Ae,{path:"/analytics-old",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(IG,{})})})}),a.jsx(Ae,{path:"/purchase-prices",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(KG,{})})})}),a.jsx(Ae,{path:"/products/:id/edit",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(dM,{})})})}),a.jsx(Ae,{path:"/products-new",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(mM,{})})})}),a.jsx(Ae,{path:"/stock-balances",element:a.jsx(De,{children:a.jsx(ze,{children:a.jsx(pM,{})})})}),a.jsx(Ae,{path:"/admin/categories",element:a.jsx(De,{requiredRole:"admin",children:a.jsx(cM,{})})}),a.jsx(Ae,{path:"/admin/internal-categories",element:a.jsx(De,{requiredRole:"admin",children:a.jsx(_M,{})})}),a.jsx(Ae,{path:"*",element:a.jsx(Wo,{to:"/catalog/products"})})]})}function qG(){return a.jsx(DT,{children:a.jsx(BI,{children:a.jsxs(FI,{children:[a.jsx(cD,{position:"top-right",theme:"dark",toastOptions:{style:{background:"#0a0e27",border:"1px solid #00f0ff",color:"#e0e7ff"}}}),a.jsx(VG,{})]})})})}_p.createRoot(document.getElementById("root")).render(a.jsx(re.StrictMode,{children:a.jsx(qG,{})}));
